/*! Copyright (c) 2023 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[7205],{621733:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a;if(e.size!==t.size)return!1;for(const[n,l]of e)if(a=t.get(n),a!==l||void 0===a&&!t.has(n))return!1;return!0}},600145:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupProfilePictureWamEvent=void 0;var n=a(901032),l=a(130756);const{BOOLEAN:r,STRING:o}=n.TYPES,i=(0,n.defineEvents)({GroupProfilePicture:[3652,{groupCreationDs:[1,o],groupProfileAction:[7,l.GROUP_PROFILE_ACTION_TYPE],hasProfilePicture:[3,r],isAdmin:[4,r],preciseGroupSizeBucket:[5,l.PRECISE_SIZE_BUCKET],profilePictureType:[6,l.PROFILE_PICTURE_TYPE]},[1,1,1],"regular"]});t.GroupProfilePictureWamEvent=i},498692:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const[a]=(0,s.useContactValues)(e.contact.id,[o.getId]),n=null===(t=l.BotProfileCollection.get(a))||void 0===t?void 0:t.description;if(null==n)return null;return c.default.createElement(r.ChatInfoDrawerSection,{titleTestId:"section-about",title:u.fbt._("About",null,{hk:"3eKeST"})},c.default.createElement(i.TextSpan,{theme:"title"},n))};var l=a(169437),r=a(464659),o=a(660666),i=a(180519),u=a(548360),c=n(a(667294)),s=a(379811)},894629:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{adminFunnelLogger:t}=e,a=(0,g.useModelValues)(e.chat,["id","isNewsletter","newsletterMetadata"]),n=(0,g.useOptionalModelValues)(a.newsletterMetadata,["description","creationTime","membershipType"]),r=(0,m.default)(n,["change:description"],(()=>(null==n?void 0:n.description)||"")),[u,s]=(0,p.useState)(r),h=(0,p.useRef)(r),v=(0,p.useCallback)((()=>{u!==h.current&&(h.current=u,t.logEvent(d.CHANNEL_ADMIN_ACTION.CHANNEL_DESCRIPTION_SET))}),[t,u]),b=(0,p.useCallback)(function(){var e=(0,l.default)((function*(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v(),t.logEvent(d.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP),yield E(a,e,t)}));return function(){return e.apply(this,arguments)}}(),[a,v,t]);if(null==n)return null;const y=f.fbt._("Add channel description",null,{hk:"4cBfrw"}),{creationTime:C}=n,M=null!=C?i.Clock.createdStr(n.creationTime):null;return p.default.createElement(o.default,{description:r,bulletPointsEnabled:!1,chat:e.chat,showFullDescription:!1,testid:"newsletter-info-drawer-description-title-input",containerTestId:"newsletter-info-drawer-description-container",emptyValuePlaceholder:y,creationString:M,canSetDescription:(0,c.iAmOwner)(n),setDescriptionAction:b,onChange:s,onBlur:v})};var l=n(a(348926)),r=a(328620),o=n(a(711367)),i=a(63014),u=a(172365),c=a(751460),s=a(390737),d=a(130756),f=a(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(524578)),g=a(655241);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function E(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,r.genId)();const o=(0,u.editNewsletterMetadataAction)(e,{editDescription:!0},{description:a}),i=null===(t=e.newsletterMetadata)||void 0===t?void 0:t.description,c=new r.ActionType(f.fbt._("Changing channel description",null,{hk:"3QNpiW"})),m=o.then((()=>(n.logEvent(d.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_SUCCESS),new r.ActionType(f.fbt._("Channel description changed",null,{hk:"ATEd7"}),{actionText:f.fbt._("Undo",null,{hk:"3r3mP7"}),actionHandler:()=>E(e,i,n,l)})))).catch((()=>(n.logEvent(d.CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_FAILURE),__LOG__(3)`channel:handleEditDescription dropped`,new r.ActionType(f.fbt._("Channel description changed failed",null,{hk:"1We4xJ"}),{actionText:f.fbt._("Try again",null,{hk:"3qJDe7"}),actionHandler:()=>E(e,a,n,l)}))));return s.ToastManager.open(p.default.createElement(r.ActionToast,{id:l,initialAction:c,pendingAction:m})),o}},751046:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(36409),r=n(a(306007)),o=a(464659),i=a(949359),u=a(136858),c=n(a(908081)),s=n(a(324093)),d=a(626194),f=a(114850),p=n(a(832897)),m=a(558173),g=n(a(894629)),h=a(73225),E=a(683023),v=n(a(664531)),b=a(751460),y=a(620973),C=a(349372),M=a(617058),P=a(663149),_=a(126671),k=n(a(634152)),w=a(163139),S=a(220584),O=a(382117),I=a(676345),T=a(130756),A=a(818674),N=a(609392),D=a(851488),R=a(548360),x=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=F(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),L=n(a(156720)),j=n(a(524578)),B=n(a(637660)),G=n(a(321201));function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(F=function(e){return e?a:t})(e)}const W={flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"};function V(e,t){var a;const{chat:n,newsletterMetadata:F,onClose:V,onDeleteNewsletter:H,onAdminCenter:U,onSettings:Y,adminFunnelLogger:z}=e,q=(0,G.default)(),K=(0,j.default)(F,["change:suspended"],(()=>!0===(null==F?void 0:F.suspended))),X=(0,j.default)(F,["change:canBeMuted"],(()=>Boolean(null==F?void 0:F.canBeMuted)&&!K)),Z=(null!==(a=(0,m.useNewsletterMessageDeliveryUpdates)(n))&&void 0!==a?a:[]).length>0,Q=(0,B.default)((()=>new O.UiActionWamEvent({uiActionType:T.UI_ACTION_TYPE.CHANNEL_INFO_OPEN,uiActionPreloaded:!0}))),$=K?null:x.default.createElement(g.default,{chat:n,adminFunnelLogger:z}),J=(0,b.iAmAdminOrOwner)(F),ee=X&&!J?x.default.createElement(o.ChatInfoDrawerSection,{xstyle:I.uiMargin.top10},x.default.createElement(p.default,{chat:n,mute:n.mute,settings:k.default})):null,te=(0,x.useCallback)((()=>{f.ModalManager.open(x.default.createElement(y.NewsletterPhoneNumberNux,null))}),[]),ae=(0,x.useCallback)((()=>{f.ModalManager.open(x.default.createElement(M.NewsletterPublicChannelPrivacyNux,{chat:n}))}),[n]),ne=K?null:x.default.createElement(o.ChatInfoDrawerSection,{xstyle:I.uiMargin.top10},x.default.createElement(C.NewsletterPrivacyRow,{onClick:J?ae:null,title:R.fbt._("Public channel",null,{hk:"1a60HF"}),text:J?R.fbt._("What you share is visible to anyone, but your phone number isn't. Click to learn more.",null,{hk:"4auNa3"}):R.fbt._("Anyone can find this channel and see what's been shared.",null,{hk:"1T1Xsg"}),icon:x.default.createElement(l.BusinessWebsiteIcon,{color:S.SvgColorProp.SECONDARY,height:20})}),!J&&x.default.createElement(C.NewsletterPrivacyRow,{onClick:te,title:R.fbt._("Profile privacy",null,{hk:"fHnmE"}),text:(0,i.getNewsletterProfilePrivacyText)(),icon:x.default.createElement(u.DialpadIcon,{color:S.SvgColorProp.SECONDARY,height:20})})),le=x.default.createElement(v.default,{xstyle:I.uiMargin.top10,chat:e.chat,onDeleteNewsletter:H}),re=Z?x.default.createElement(o.ChatInfoDrawerSection,{xstyle:I.uiMargin.top10},x.default.createElement(r.default,{testid:"newsletter-info-admin-center-row",icon:x.default.createElement(N.WarningIcon,{color:S.SvgColorProp.SECONDARY,height:16}),onClick:U,title:x.default.createElement(D.WDSTextTitle,null,R.fbt._("Channel Alerts",null,{hk:"1NYThG"}))})):null,oe=(0,h.isNewsletterSubscriberListEnabled)()&&J&&!K?x.default.createElement(P.NewsletterSubscriberList,{newsletter:n,adminFunnelLogger:z}):null,ie=J&&(0,h.isNewsletterReactionSettingsEnabled)()&&!K?x.default.createElement(o.ChatInfoDrawerSection,{xstyle:I.uiMargin.top10},x.default.createElement(r.default,{testid:"newsletter-info-channel-settings",title:x.default.createElement(D.WDSTextTitle,null,R.fbt._("Channel settings",null,{hk:"4xHSt"})),icon:x.default.createElement(_.SettingsIcon,{color:S.SvgColorProp.SECONDARY,height:20}),onClick:Y,side:"chevron"})):null;return(0,x.useEffect)((()=>{const e=Q.current;e&&(e.markUiActionT(),e.commit(),Q.current=void 0),(0,A.logUiActionShadowPrivateStatsTestEvents)()}),[]),x.default.createElement(c.default,{ref:t,key:"newsletter-info-modal",theme:"striped",testid:"chat-info-drawer",tsNavigationData:(0,h.isNewsletterTSLEnabled)()?{surface:"channel-profile",extras:{threadType:T.THREAD_TYPE.CHANNEL,channelWid:n.id}}:void 0},x.default.createElement(d.DrawerHeader,{title:R.fbt._("Channel info",null,{hk:"2MU3nu"}),type:d.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{V?V():null==q||q.requestDismiss()},testid:"newsletter-info-header"}),x.default.createElement(s.default,null,x.default.createElement("section",{className:(0,L.default)(W)},x.default.createElement(E.NewsletterInfoTopCard,{chat:(0,w.unproxy)(n),adminFunnelLogger:z}),$,re,ie,ee,ne,oe,le,undefined)))}var H=(0,x.forwardRef)(V);t.default=H},664531:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,xstyle:a,onDeleteNewsletter:n}=e;const r=E.default.createElement(C,{chat:t}),o=E.default.createElement(y,{chat:t}),i=E.default.createElement(M,{chat:t,onDeleteNewsletter:n});return E.default.createElement(l.ChatInfoDrawerButtonsSection,{xstyle:a},r,o,i)};var l=a(464659),r=a(419e3),o=a(36045),i=a(90989),u=a(114850),c=a(73225),s=a(751460),d=n(a(726619)),f=a(453603),p=a(21698),m=a(106645),g=a(130756),h=a(548360),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),v=a(655241);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function y(e){let{chat:t}=e;const a=(0,v.useOptionalModelValues)(t.newsletterMetadata,["membershipType","suspended","terminated","isSuspendedOrTerminated"]);if((null==a?void 0:a.isSuspendedOrTerminated)||(0,s.iAmOwner)(a)||(0,s.iAmAdmin)(a)||!(0,c.isNewsletterReportingEnabled)())return null;const n=h.fbt._("Report Channel",null,{hk:"3DYeSq"});return E.default.createElement(o.DrawerButton,{testid:"newsletter-integrity-report-button",icon:E.default.createElement(p.ThumbsDownIcon,{directional:!0}),color:"danger",theme:"chat-info",onClick:()=>{u.ModalManager.open(E.default.createElement(d.default,{chat:t,spamFlow:f.SpamFlow.NewsletterInfoReport}))}},n)}function C(e){let{chat:t}=e;const a=(0,v.useOptionalModelValues)(t.newsletterMetadata,["membershipType"]),n=h.fbt._("Unfollow",null,{hk:"3NYOtp"}),l=(0,E.useCallback)((()=>{u.ModalManager.open(E.default.createElement(m.UnfollowNewsletterConfirmationModal,{chat:t,eventSurface:g.CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE}))}),[t]);return(0,s.iAmSubscriber)(a)?E.default.createElement(o.DrawerButton,{testid:"li-unfollow-newsletter",icon:E.default.createElement(i.ExitIcon,{directional:!0}),color:"danger",theme:"chat-info",onClick:l},n):null}function M(e){let{chat:t,onDeleteNewsletter:a}=e;const n=(0,v.useOptionalModelValues)(t.newsletterMetadata,["membershipType"]),l=h.fbt._("Delete channel",null,{hk:"2PQtz4"});return(0,s.iAmOwner)(n)?E.default.createElement(o.DrawerButton,{testid:"li-delete-newsletter",icon:E.default.createElement(r.DeleteIcon,{directional:!0}),color:"danger",theme:"chat-info",onClick:a},l):null}},933655:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterEmojiSettings=function(e){let{currentlySelected:t,onClick:a}=e;const n=f.default.createElement("div",{className:(0,p.default)([m.title,s.uiMargin.bottom15])},d.fbt._("Which reactions can followers send",null,{hk:"4fwuWS"}));return f.default.createElement(f.default.Fragment,null,n,h.map((e=>{if(e.value!==l.NewsletterReactionCodesSetting.None||(0,i.isNewsletterReactionSettingForNoneEnabled)())return f.default.createElement(u.RadioWithLabel,{theme:u.RadioWithLabelThemeEnum.LARGE,key:e.value,name:"newsletter-reaction-codes-setting",value:e.value,label:e.label,checked:e.value===t,onChange:a,xstyle:m.radioLabel})})))};var l=a(927531),r=a(70354),o=n(a(225148)),i=a(73225),u=a(695431),c=a(348538),s=a(676345),d=a(548360),f=n(a(667294)),p=n(a(156720));const m={radioLabel:{color:"b40j3n3c"},title:{color:"i8b0kslj"}};function g(){return f.default.createElement("span",null,c.REACTIONS_DEFAULT_SENDING_TRAY.map(((e,t)=>{const a=r.EmojiUtil.normalizeEmojiFromString(e),n=t+1===c.REACTIONS_DEFAULT_SENDING_TRAY.length?s.uiMargin.end0:s.uiMargin.end4;return null!=a?f.default.createElement("span",{className:(0,p.default)(n),key:`newsletter-emoji-container-${t}`},f.default.createElement(o.default,{key:`newsletter-emoji-${t}`,emoji:a,size:"small",element:"span"})):null})))}const h=[{label:d.fbt._("Any emoji",null,{hk:"PwBNc"}),value:l.NewsletterReactionCodesSetting.All},{label:d.fbt._("Default only ({reaction-emojis})",[d.fbt._param("reaction-emojis",f.default.createElement(g,null))],{hk:"YnzVd"}),value:l.NewsletterReactionCodesSetting.Basic},{label:d.fbt._("None",null,{hk:"vlKK9"}),value:l.NewsletterReactionCodesSetting.None}]},245272:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(348926)),r=a(927531),o=n(a(908081)),i=n(a(324093)),u=a(626194),c=a(172365),s=a(933655),d=a(676345),f=a(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(156720)),g=a(655241);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function E(){return(E=(0,l.default)((function*(e,t){try{return yield(0,c.editNewsletterMetadataAction)(e,{editReactionCodesSetting:!0},{reactionCodesSetting:t})}catch(t){__LOG__(4,void 0,new Error,!0,["reactions","newsletter"])`[handleReactionCodesSettingChange][editNewsletterMetadataAction] Error editing reaction settings for newsletter ${e.id}`,SEND_LOGS("newsletter-edit-reaction-settings-failed",1,"reactions","newsletter")}}))).apply(this,arguments)}const v={body:{flexShrink:"oq44ahr5",flexGrow:"ggj6brxn",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},drawer:{backgroundColor:"lkjmyc96"}},b=(0,p.forwardRef)(((e,t)=>{var a,n;const c=(0,p.useCallback)(function(){var t=(0,l.default)((function*(t){var a;const n=null!==(a=r.NewsletterReactionCodesSetting.cast(Number(t.target.value)))&&void 0!==a?a:r.NewsletterReactionCodesSetting.Basic;e.adminFunnelLogger.logReactionSetting(n),yield function(){return E.apply(this,arguments)}(e.newsletter,n)}));return function(){return t.apply(this,arguments)}}(),[e.newsletter,e.adminFunnelLogger]),h=(0,g.useOptionalModelValues)(null===(a=e.newsletter)||void 0===a?void 0:a.newsletterMetadata,["reactionCodesSetting"]);return p.default.createElement(o.default,{ref:t,theme:"striped",testid:"newsletter-settings-drawer",xstyle:v.drawer},p.default.createElement(u.DrawerHeader,{title:f.fbt._("Channel settings",null,{hk:"2bWwDX"}),type:u.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,rtlFixIfOnDarwin:!0,testid:"newsletter-settings-drawer-header"}),p.default.createElement(i.default,null,p.default.createElement("section",{className:(0,m.default)([v.body,d.uiMargin.horiz30,d.uiMargin.vert30])},p.default.createElement(s.NewsletterEmojiSettings,{onClick:c,currentlySelected:null!==(n=null==h?void 0:h.reactionCodesSetting)&&void 0!==n?n:r.NewsletterReactionCodesSetting.Basic}))))}));b.displayName="NewsletterSettingsDrawer";var y=b;t.default=y},371125:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{stickerPackId:t,onStickerPackView:a,stickerPackViewDelay:n,sticker:g}=e,h=function(e){(0,p.useEffect)((()=>{e&&d.StickerPackCollectionMd.fetchStickerPack(e)}),[e]);return(0,m.default)(d.StickerPackCollectionMd,"add remove reset",(()=>null!=e?d.StickerPackCollectionMd.get(e):null))}(t);let E;if(t){const e=e=>{e.stopPropagation(),a&&a(),null!=n?self.setTimeout((()=>r.Cmd.openStickerPack(t)),n+150):r.Cmd.openStickerPack(t)};(0,c.isFavoriteStickersEnabled)()?null!=g&&(E=p.default.createElement(u.FlexRow,null,p.default.createElement(l.default,{onClick:e,type:"secondary"},f.fbt._("View Pack",null,{hk:"tAlU3"})),i.FavoriteStickerCollection.get(g.filehash)?p.default.createElement(l.default,{onClick:()=>(0,o.removeStickerFromFavorites)(g),type:"secondary"},f.fbt._("Remove From Favorites",null,{hk:"3YoUkP"})):p.default.createElement(l.default,{onClick:()=>(0,o.addStickerToFavorites)(g),type:"secondary"},f.fbt._("Add to Favorites",null,{hk:"3x4EBo"})))):E=p.default.createElement(l.default,{onClick:e,type:"secondary"},f.fbt._("View Pack",null,{hk:"tAlU3"}))}return p.default.createElement(p.default.Fragment,null,p.default.createElement(s.StickerDetailsStickerPackInfo,{name:null==h?void 0:h.name,publisher:null==h?void 0:h.publisher,theme:s.Theme.MediaViewer}),E)};var l=n(a(692629)),r=a(780549),o=a(225446),i=a(788788),u=a(690495),c=a(97858),s=a(438543),d=a(425192),f=a(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(524578));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}},565527:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(348926)),r=a(637842),o=a(778945),i=a(87630),u=n(a(908081)),c=n(a(324093)),s=a(626194),d=a(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const m=(e,t)=>{const{contactId:a}=e,[n,p]=(0,f.useState)(void 0),[m,g]=(0,f.useState)(!0);(0,f.useEffect)((()=>{(function(){var e=(0,l.default)((function*(){const e=yield o.BusinessProfileCollection.update(a,{getMerchantCompliance:!0}),t=(Array.isArray(e)?e[0]:e).serialize();t?(p(t.legalEntityDetails||void 0),g(!1)):__LOG__(3)`compliance: cannot fetch business details (${a.toString()})`}));return function(){return e.apply(this,arguments)}})()()}),[]);const{entityName:h,customerCareDetails:E,grievanceOfficerDetails:v}=null!=n?n:{},b=(0,r.getEntityTypeText)(n);return f.default.createElement(u.default,{ref:t,key:"merchant-details-modal",theme:"striped"},f.default.createElement(s.DrawerHeader,{title:d.fbt._("Business details",null,{hk:"m9xzp"}),type:s.DRAWER_HEADER_TYPE.SMALL,onCancel:e.onClose}),f.default.createElement(c.default,{theme:m?"center-content":void 0},m?f.default.createElement(i.ComplianceInfoLoading,null):f.default.createElement(f.default.Fragment,null,f.default.createElement(i.ComplianceInfoGroup,null,f.default.createElement(i.ComplianceInfoPrimitiveField,{value:h,label:d.fbt._("Legal Name of Business",null,{hk:"2s9jD"})}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:b,label:d.fbt._("Business Type",null,{hk:"48J73B"})})),f.default.createElement(i.ComplianceInfoGroup,{title:d.fbt._("Customer Care Information",null,{hk:"qlYos"})},f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==E?void 0:E.mobileNumber,label:d.fbt._("Mobile Phone Number",null,{hk:"PMTTg"}),forceLTR:!0}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==E?void 0:E.landlineNumber,label:d.fbt._("Landline Phone Number",null,{hk:"tXYaf"}),forceLTR:!0}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==E?void 0:E.email,label:d.fbt._("Email Address",null,{hk:"2jYxR1"})})),f.default.createElement(i.ComplianceInfoGroup,{title:d.fbt._("Grievance Officer Information",null,{hk:"3emd7I"})},f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.name,label:d.fbt._("Name",null,{hk:"2vEs6r"})}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.mobileNumber,label:d.fbt._("Mobile Phone Number",null,{hk:"3kk5I"}),forceLTR:!0}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.landlineNumber,label:d.fbt._("Landline Phone Number",null,{hk:"4GBzF0"})}),f.default.createElement(i.ComplianceInfoPrimitiveField,{value:null==v?void 0:v.email,label:d.fbt._("Email Address",null,{hk:"3SvbLl"})})))))};var g=(0,f.forwardRef)(m);t.default=g},517729:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t}=e;const[a,n]=(0,C.useContactValues)(t.id,[c.getVerifiedLevel,c.getVerifiedName]),M=(0,f.getBusinessFaqUrl)(),P=!u.Conn.isSMB;(0,y.useEffect)((()=>{P&&new l.BannerEventWamEvent({bannerType:v.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:v.BANNER_OPERATIONS.SHOWN}).commit()}),[P]);const _=a===r.VERIFIED_LEVEL.HIGH?p.default.t(777,{businessName:n}):b.fbt._("This business uses WhatsApp Business, which allows them to add their opening hours, address, website and catalog of products or services.",null,{hk:"82W5f"});return y.default.createElement(i.ConfirmPopup,{title:b.fbt._("About WhatsApp Business",null,{hk:"3XF5gx"}),onOK:()=>{m.ModalManager.close(),P&&new l.BannerEventWamEvent({bannerType:v.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:v.BANNER_OPERATIONS.DISMISS}).commit()},okText:b.fbt._("OK",null,{hk:"4oTrfy"})},y.default.createElement(s.EmojiText,{text:_})," ",y.default.createElement(o.default,{href:M,onClick:e=>{e.preventDefault(),m.ModalManager.close(),self.setTimeout((()=>(0,d.openExternalLink)(M)),10)}},p.default.t(393)),P&&y.default.createElement("div",{className:g.default.footerNote},y.default.createElement(E.TextSpan,{theme:"muted",size:"13"},b.fbt._("If you're a business, the free WhatsApp Business app can help.",null,{hk:"14W7ur"}),y.default.createElement("br",null),y.default.createElement(o.default,{onClick:e=>{e.preventDefault(),m.ModalManager.close(),new l.BannerEventWamEvent({bannerType:v.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:v.BANNER_OPERATIONS.CLICK}).commit(),self.setTimeout((()=>m.ModalManager.open(y.default.createElement(h.SmbAppUpsellModal,null))),200)},className:g.default.getTheAppLink},b.fbt._("Learn about getting the app",null,{hk:"3ncguo"})))))};var l=a(240045),r=a(817649),o=n(a(196554)),i=a(103440),u=a(445729),c=a(660666),s=a(305521),d=a(753233),f=a(258105),p=n(a(932325)),m=a(114850),g=n(a(986458)),h=a(945270),E=a(180519),v=a(130756),b=a(548360),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),C=a(379811);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}},945270:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SmbAppUpsellModal=function(){return m.default.createElement(o.ConfirmPopup,{title:p.fbt._("WhatsApp Business app",null,{hk:"4BfvOl"}),onOK:()=>{new l.BannerEventWamEvent({bannerType:f.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:f.BANNER_OPERATIONS.DISMISS}).commit(),s.ModalManager.close()},okText:p.fbt._("Close",null,{hk:"19Jpec"})},m.default.createElement(d.default,null),m.default.createElement("p",null,m.default.createElement(i.EmojiText,{text:p.fbt._("If you're a business, you can benefit from switching to the free WhatsApp Business app. It has tools to connect with customers and manage messages.",null,{hk:"2SAIXH"})})),m.default.createElement("br",null),m.default.createElement("p",null,m.default.createElement(i.EmojiText,{text:p.fbt._("Scan this code to get the WhatsApp Business App. Or, you can install it from the App Store or Google Play Store.",null,{hk:"2840mD"})})," ",m.default.createElement(r.default,{href:g,onClick:e=>{e.preventDefault(),s.ModalManager.close(),self.setTimeout((()=>(0,u.openExternalLink)(g)),10)}},c.default.t(393))))},t.WHATSAPP_BUSINESS_URL=void 0;var l=a(240045),r=n(a(196554)),o=a(103440),i=a(305521),u=a(753233),c=n(a(932325)),s=a(114850),d=n(a(345257)),f=a(130756),p=a(548360),m=n(a(667294));const g="https://www.whatsapp.com/business";t.WHATSAPP_BUSINESS_URL=g},345257:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,c.useRef)(null),t=(0,c.useRef)(null),{theme:a}=(0,c.useContext)(u.ThemeContext),n="dark"===a;return(0,c.useEffect)((()=>(null!=e.current&&(t.current=new l.default(e.current,{text:"https://www.whatsapp.com/business/download",colorDark:"#122e31",colorLight:"#ffffff",width:o.QR_EDGE/2,height:o.QR_EDGE/2,typeNumber:4,correctLevel:l.default.CorrectLevel.H})),()=>{null!=t.current&&(t.current.clear(),t.current=null,e.current=null)})),[n]),c.default.createElement("div",{className:i.default.wrapper},c.default.createElement("div",{ref:e,className:(0,r.classnamesConvertMeToStylexPlease)({[i.default.codeDarkMode]:n,[i.default.code]:!0})},c.default.createElement(d,{theme:a})))};var l=n(a(478e3)),r=a(396574),o=a(914368),i=n(a(750478)),u=a(667738),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function d(){return c.default.createElement("div",{className:i.default.codeLogo},c.default.createElement("svg",{width:"100%",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},c.default.createElement("path",{d:"M42.6776 42.6779C37.9558 47.3997 31.6777 50.0001 24.9999 50.0001C21.0047 50.0001 17.0541 49.0389 13.5244 47.2141L0.601068 49.3339L2.72832 36.3645C0.941278 32.8647 0 28.9525 0 25.0001C0 18.3223 2.60042 12.0443 7.32229 7.32237C12.0442 2.6005 18.3221 0 24.9999 0C31.6777 0 37.9558 2.6005 42.6776 7.32237C47.3995 12.0443 50 18.3223 50 25.0001C50 31.678 47.3995 37.9558 42.6776 42.6779ZM24.9999 4.33778C13.6067 4.33778 4.33772 13.607 4.33772 25.0001C4.33772 28.4792 5.21935 31.9192 6.8868 34.9487L7.24853 35.6054L5.85915 44.0756L14.2959 42.6918L14.9565 43.0601C18.0107 44.7624 21.4837 45.6622 24.9999 45.6622C36.3932 45.6622 45.6622 36.3933 45.6622 25.0001C45.6622 13.607 36.3932 4.33778 24.9999 4.33778ZM31.1133 24.3614C32.4522 24.9804 34.1536 26.3725 34.1208 29.3117C34.0749 33.4266 31.2191 35.6542 27.2744 35.6542H19.4594H18.3042C17.5079 35.6542 16.8645 35.0053 16.8713 34.2092L17.0344 15.0573C17.041 14.2714 17.6794 13.6377 18.4652 13.6366L27.1493 13.6256C31.4651 13.6256 33.9598 16.039 33.9177 19.8134C33.8903 22.2579 32.2484 23.8355 31.1133 24.3614ZM26.766 17.4622H21.3643L21.3076 22.5361H26.7093C28.5347 22.5361 29.5672 21.5152 29.584 19.9992C29.6009 18.4831 28.5915 17.4622 26.766 17.4622ZM26.9444 26.4035H21.2643L21.2038 31.8178H26.884C28.8333 31.8178 29.7752 30.5802 29.792 29.0952C29.8085 27.6101 28.8939 26.4035 26.9444 26.4035Z",fill:"currentColor"})))}},314810:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{active:t,contact:a,onClick:n,contextMenu:i,isPendingParticipant:u=!1,contextEnabled:c,onContext:s,theme:d,showStatusRingAroundProfilePhoto:f,participantCollection:p,elevatedPushNamesEnabled:m}=e,g=(0,o.useModelValues)(e.participant,["isAdmin"]);return r.default.createElement(l.Contact,{active:t,contact:a,admin:g.isAdmin,onClick:u?s:n,theme:d||"drawer-list",contextEnabled:()=>null!=c&&c(a),contextMenu:i,onContext:e=>null==s?void 0:s(e,a),isPendingParticipant:u,showNotifyName:!0,elevatedPushNamesEnabled:m,waitIdle:!0,showStatusRingAroundProfilePhoto:f,participantCollection:p})};var l=a(822652),r=n(a(667294)),o=a(655241)},321574:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{docMsgs:t,chat:a,isFilterEnabled:n=!1,filterText:h}=e,E=(0,r.default)(e,g),v=(0,m.default)(),b=(0,f.default)((()=>new s.default((e=>{const t=[],a=(0,o.getText)(e);null!=a&&t.push(a);const n=e.mediaData.filename;return t.push(n),t.join(" ")}))));(0,p.useListener)(t,"add",(e=>{n&&b.current.cacheMessageTokens(e)})),(0,p.useListener)(t,"remove",(e=>{n&&b.current.removeMessageTokensFromCache(e)})),(0,p.useListener)(t,"reset",(()=>{n&&b.current.clearTokensCache()})),(0,d.useEffect)((()=>{n&&t.forEach((e=>{b.current.cacheMessageTokens(e)}))}),[t,b,n]);const y=n?(e,t)=>b.current.filter(e,h,t):void 0;return d.default.createElement(d.default.Fragment,null,d.default.createElement(c.default,(0,l.default)({testid:"doc-gallery",msgsCollection:t,msgsCollectionUpdateEvents:["add","remove","reset","query_doc_before"],queryCollection:e=>{t.hasDocBefore&&v((()=>{t.queryDocs(a,e)}))},getHasBefore:()=>t.hasDocBefore,getQueryBefore:()=>t.queryDocBefore,emptyText:u.default.t(497),chat:a,filterMessages:y},E)),d.default.createElement(i.HistorySyncGalleryPlaceholder,{chat:a}))};var l=n(a(967154)),r=n(a(506479)),o=a(163755),i=a(217714),u=n(a(932325)),c=n(a(101760)),s=n(a(443461)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),f=n(a(637660)),p=a(808446),m=n(a(940630));const g=["docMsgs","chat","isFilterEnabled","filterText"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}},671597:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{linkMsgs:t,chat:a,selectedMessages:n,selectable:C,onMessageSelect:M,isFilterEnabled:P=!1,filterText:_}=e,k=(0,b.default)(),w=(0,E.default)((()=>new m.default((e=>(0,i.getText)(e)))));(0,v.useListener)(t,"add",(e=>{P&&w.current.cacheMessageTokens(e)})),(0,v.useListener)(t,"remove",(e=>{w.current.removeMessageTokensFromCache(e)})),(0,v.useListener)(t,"reset",(()=>{P&&w.current.clearTokensCache()})),(0,h.useEffect)((()=>{P&&t.forEach((e=>{w.current.cacheMessageTokens(e)}))}),[t,w,P]),(0,v.useListener)(a.msgs,"add bulk_add",(e=>{if(!e)return;const a=[],n=Array.isArray(e)?e:[e];Promise.all(n.map((e=>((0,p.getLinksFromMsg)(e).length&&a.push(e),Promise.resolve())))).then((()=>{a.length&&t.add(a)}))}));const S=P?(e,t)=>w.current.filter(e,_,t):void 0,{linkMsgs:O,chat:I,filterText:T,isFilterEnabled:A}=e,N=(0,r.default)(e,y);return h.default.createElement(h.default.Fragment,null,h.default.createElement(d.default,(0,l.default)({testid:"link-gallery",msgsCollection:t,msgsCollectionUpdateEvents:["add","remove","reset","query_doc_before"],queryCollection:e=>{t.hasLinkBefore&&k((()=>{t.queryLinks(a,e)}))},getHasBefore:()=>t.hasLinkBefore,getQueryBefore:()=>t.queryLinkBefore,messageElements:(e,t)=>((e,t,a,n,l)=>{const r=[];return e.forEach((e=>{const i=!(0,f.getIsSentByMe)(e)&&(0,f.getIsGroupMsg)(e);let u=null;(0,f.getLinkPreview)(e)&&(u=h.default.createElement(g.default,{testid:"link-gallery-msg",key:e.id.toString(),msg:e,selectable:a,selectedMessages:l,onMessageSelect:n,displayType:o.DISPLAY_TYPE.GALLERY_LINKS,onClickMsg:t})),(0,p.getGalleryLinks)(e).forEach(((o,c)=>{o.href===e.matchedText&&null!=u||r.push(h.default.createElement(s.default,{testid:"link-gallery-msg",key:`${e.id.toString()}-${c}`,msg:e.safe(),link:o,displayAuthor:i,selectable:a,selectedMessages:l,onMessageSelect:n,onClickMsg:t}))})),null!=u&&r.push(u)})),r.reverse(),r})(e,t,C,M,n),emptyText:c.default.t(499),chat:a,filterMessages:S},N)),h.default.createElement(u.HistorySyncGalleryPlaceholder,{chat:e.chat}))};var l=n(a(967154)),r=n(a(506479)),o=a(356097),i=a(163755),u=a(217714),c=n(a(932325)),s=n(a(318787)),d=n(a(101760)),f=a(787742),p=a(44118),m=n(a(443461)),g=n(a(565644)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),E=n(a(637660)),v=a(808446),b=n(a(940630));const y=["linkMsgs","chat","filterText","isFilterEnabled"];function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}},318787:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,link:a,displayAuthor:n,selectedMessages:k,onMessageSelect:w,onClickMsg:S,testid:O}=e,[I,T,A,N,D,R,x,L,j,B,G,F]=(0,_.useMsgValues)(e.msg.id,[h.getBody,h.getCaption,c.getDir,h.getId,h.getIsSentByMe,c.getMediaData,h.getType,c.getRtl,c.getSenderObj,h.getStar,c.getAsRevoked,h.getIsKept]),[W,V]=(0,M.useState)(!1),[H,U]=(0,M.useState)((()=>k.isSelected(t.unsafe())));(0,P.useListener)(k,N.toString(),(e=>{H!==e&&U(e)}));const Y=e.selectable||W?M.default.createElement(g.default,{checked:H,onClick:e=>{e&&e.stopPropagation(),w(t.unsafe(),!H)},msgTheme:"gallery"}):null,z=(0,u.Conversation)({mentions:t.mentionMap(),groupMentions:t.groupMentionMap(),links:(0,E.getLinksFromMsg)(t.unsafe()),phoneNumbers:(0,b.getPhoneNumbersFromMsg)(t.unsafe()),selectable:true,trusted:(0,v.isTrusted)(t.unsafe()),fromMe:N.fromMe,fromChatWid:N.remote}),q=I&&I.includes(a.url)?I:T,K=n?M.default.createElement("div",{className:f.default.author},M.default.createElement(m.default,{msg:t,contact:j})):null,X=(0,E.getSuspiciousLinks)(t.unsafe()).length>0;return M.default.createElement(s.default,{hover:W,onClick:()=>{S(t.unsafe(),!H)},onMouseEnter:W?null:()=>{W||V(!0)},onMouseOver:W?null:()=>{W||V(!0)},onMouseLeave:W?()=>{W&&V(!1)}:null,testid:O},M.default.createElement("div",{className:f.default.msg},M.default.createElement(y.default,{transitionName:"delay-leave"},Y),M.default.createElement(C.MessageContainer,{isSentByMe:D},M.default.createElement("div",{className:(0,r.classnamesConvertMeToStylexPlease)({[f.default.hasAuthor]:n,[f.default.hasSuspiciousLinks]:X,[f.default.bubble]:!0})},K,M.default.createElement(l.SuspiciousLabel,{link:a,displayType:o.DISPLAY_TYPE.GALLERY}),M.default.createElement(p.default,{title:a.url,isSentByMe:D,canonicalUrl:a.domain,displayType:o.DISPLAY_TYPE.GALLERY,star:B,kept:F,isLoading:!1}),M.default.createElement(i.EmojiText,{text:q,selectable:true,className:f.default.text,dirMismatch:L!==d.default.isRTL(),direction:A,formatters:z})))))};var l=a(751349),r=a(396574),o=a(356097),i=a(305521),u=a(675886),c=a(163755),s=n(a(296518)),d=n(a(932325)),f=n(a(663945)),p=n(a(428543)),m=n(a(599664)),g=n(a(6323)),h=a(787742),E=a(44118),v=a(435711),b=a(527530),y=n(a(844453)),C=a(512873),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),P=a(808446),_=a(871210);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}},101760:(e,t,a)=>{"use strict";var n=a(170315).default,l=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{getHasBefore:t,getQueryBefore:a,msgsCollection:l,msgsCollectionUpdateEvents:_,emptyText:w,scrollOffset:S=0,selectable:O,onMessageSelect:I,queryCollection:T,selectedMessages:A,messageElements:N,onProductDetail:D,setScrollOffset:R,filterMessages:x,testid:L}=e,j=t(),B=a(),G=(0,h.useRef)(null),F=(0,P.default)(),W=(0,M.default)((e=>{j&&T(e)}),100),[V,H]=(0,h.useState)((()=>l.toArray())),U=(0,M.default)((e=>{const t=e.scrollHeight-e.clientHeight-e.scrollTop;j&&t<f.SCROLL_FUDGE&&W(l.head()),R&&R(e.scrollTop)}),100);(0,h.useEffect)((()=>{j&&W();const e=G.current;return e&&(e.scrollTop=S),()=>{U.cancel()}}),[]);const Y=(e,t)=>{const a=(0,g.unproxy)(e);O&&void 0!==t?I(a,t):u.Cmd.openChatAt((0,p.getChat)(a),(0,i.getSearchContext)((0,p.getChat)(a),a))},z=(0,h.useRef)(),q=(0,v.default)(),K=(0,h.useCallback)(function(){var e=(0,r.default)((function*(e){var t;if(null===(t=z.current)||void 0===t||t.abort(),null==e)return H(l.toArray()),void q();z.current=new n;const a=z.current.signal;try{const t=yield e(l,a);a.aborted||F.aborted||(H(t),q())}catch(e){if(e.name!==o.ABORT_ERROR)throw e}}));return function(){return e.apply(this,arguments)}}(),[l,q,F]);(0,b.useListener)(l,_,(()=>K(x))),(0,h.useEffect)((()=>(K(x),()=>{var e;return null===(e=z.current)||void 0===e?void 0:e.abort()})),[K,x]);const[X,{height:Z}]=(0,y.default)(),Q=(0,C.default)(X,G);(0,h.useEffect)((()=>{null!=x&&t()&&!a()&&null!=G.current&&G.current.scrollHeight<Z+f.SCROLL_FUDGE&&W(l.head())}));let $=null;$=N?N(V,Y):V.map(((e,t)=>h.default.createElement(m.default,{key:`${e.id.toString()}_${t}`,msg:e,selectable:O,selectedMessages:A,onMessageSelect:I,displayType:c.DISPLAY_TYPE.GALLERY,onClickMsg:Y,onProductClick:D}))).reverse();if(B){if(0===$.length)return h.default.createElement(s.Loading,null);$.push(h.default.createElement(d.default,{key:-1}))}if(0===$.length&&!B&&!j)return h.default.createElement(s.Empty,{text:w,testid:"no-elements"});return h.default.createElement("div",{ref:Q,onScroll:e=>{U(e.target)},className:(0,E.default)(k)},$)};var r=l(a(348926)),o=a(898817),i=a(713105),u=a(780549),c=a(356097),s=a(811720),d=l(a(495012)),f=a(914368),p=a(163755),m=l(a(565644)),g=a(163139),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),E=l(a(156720)),v=l(a(969651)),b=a(808446),y=l(a(695841)),C=l(a(38085)),M=l(a(286481)),P=l(a(895851));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}const k={display:"p357zi0d",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"rpvcun8f",flexGrow:"ggj6brxn"}},285192:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{productMsgs:t,chat:a}=e,n=(0,r.default)(e,d),f=(0,s.default)();return c.default.createElement(c.default.Fragment,null,c.default.createElement(i.default,(0,l.default)({msgsCollection:t,msgsCollectionUpdateEvents:["add","remove","reset","products_loaded"],queryCollection:e=>f((()=>{t.queryProducts(a,e)})),getHasBefore:()=>t.hasProductBefore,getQueryBefore:()=>t.hasProductBefore?Promise.resolve():null,emptyText:u.fbt._("No products",null,{hk:"8o7dB"}),chat:a},n)),c.default.createElement(o.HistorySyncGalleryPlaceholder,{chat:a}))};var l=n(a(967154)),r=n(a(506479)),o=a(217714),i=n(a(101760)),u=a(548360),c=n(a(667294)),s=n(a(940630));const d=["productMsgs","chat"]},268167:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleIcon=function(e){const{iconXstyle:t,height:a,width:n,viewBox:s}=e,d=(0,r.default)(e,c);let f;if(s){const{x:e=0,y:t=0,width:a=0,height:n=0}=s;f=[e,t,a,n].join(" ")}{var p;let e=24,r=24;return null==a&&null==n||(e=a,r=n),u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"bubble"},d),u.default.createElement("svg",{viewBox:null!==(p=f)&&void 0!==p?p:"0 0 24 24",height:e,width:r,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(t),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",xmlSpace:"preserve"},u.default.createElement("path",{fill:"currentColor",d:"M19.2,4H4.8C3.8,4,3,4.8,3,5.8V22l3.6-3.6h12.6c1,0,1.8-0.8,1.8-1.8V5.8C21,4.8,20.2,4,19.2,4z M19.2,16.6 H6.6l-1.8,1.8V5.8h14.4V16.6z"})))}};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},230255:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChatInfoVideoIcon=function(e){var t;const{iconXstyle:a,height:n,width:s,viewBox:d}=e,f=(0,r.default)(e,c);let p;if(d){const{x:e=0,y:t=0,width:a=0,height:n=0}=d;p=[e,t,a,n].join(" ")}let m=13,g=21;null==n&&null==s||(m=n,g=s);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"chat-info-video"},f),u.default.createElement("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 21 13",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(a),fill:"none"},u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.17.5c1.11 0 2.009.9 2.009 2.009v8.482c0 1.11-.9 2.009-2.01 2.009H2.01C.899 13 0 12.1 0 10.991V2.51C0 1.399.9.5 2.009.5h11.16Zm7.17 1.746a.893.893 0 0 1 .196.558v7.892a.893.893 0 0 1-1.45.697l-3.015-2.41V4.517l3.014-2.411a.893.893 0 0 1 1.255.14Z",fill:"#00A884"})))};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},672185:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardFilledIcon=function(e){var t;const{iconXstyle:a,height:n,width:s,viewBox:d}=e,f=(0,r.default)(e,c);let p;if(d){const{x:e=0,y:t=0,width:a=0,height:n=0}=d;p=[e,t,a,n].join(" ")}let m=16,g=21;null==n&&null==s||(m=n,g=s);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"forward-filled"},f),u.default.createElement("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 21 16",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(a),fill:"none"},u.default.createElement("path",{d:"M12.778 1.31318C12.778 0.590175 13.651 0.228175 14.161 0.739175L20.206 6.79017C20.2813 6.8654 20.341 6.95472 20.3817 7.05304C20.4225 7.15136 20.4435 7.25675 20.4435 7.36317C20.4435 7.4696 20.4225 7.57499 20.3817 7.67331C20.341 7.77163 20.2813 7.86095 20.206 7.93617L14.161 13.9872C14.0476 14.1006 13.9032 14.1779 13.7459 14.2091C13.5886 14.2404 13.4256 14.2243 13.2775 14.1628C13.1294 14.1013 13.0028 13.9973 12.9139 13.8638C12.825 13.7304 12.7777 13.5735 12.778 13.4132V10.6812C7.68197 10.6812 3.94897 12.1362 1.17397 15.2922C0.927967 15.5712 0.471967 15.3342 0.571967 14.9762C2.00197 9.80317 5.49697 4.97218 12.778 3.93118V1.31318Z",fill:"currentColor"})))};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},328150:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.KeepInChatMediaIcon=function(e){const{iconXstyle:t,height:a,width:n,viewBox:s}=e,d=(0,r.default)(e,c);let f;if(s){const{x:e=0,y:t=0,width:a=0,height:n=0}=s;f=[e,t,a,n].join(" ")}{var p;let e=24,r=24;return null==a&&null==n||(e=a,r=n),u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"keep-in-chat-media"},d),u.default.createElement("svg",{viewBox:null!==(p=f)&&void 0!==p?p:"0 0 24 24",height:e,width:r,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(t),fill:"none"},u.default.createElement("path",{d:"m17 3h-10c-1.1 0-1.99.9-1.99 2l-.01 16 7-3 7 3v-16c0-1.1-.9-2-2-2z",fill:"currentColor"})))}};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},247442:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionsMediaIcon=function(e){const{iconXstyle:t,height:a,width:n,viewBox:s}=e,d=(0,r.default)(e,c);let f;if(s){const{x:e=0,y:t=0,width:a=0,height:n=0}=s;f=[e,t,a,n].join(" ")}{var p;let e=15,r=15;return null==a&&null==n||(e=a,r=n),u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"reactions-media"},d),u.default.createElement("svg",{viewBox:null!==(p=f)&&void 0!==p?p:"0 0 15 15",height:e,width:r,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(t),fill:"none"},u.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 7.5C0 11.6305 3.36946 15 7.5 15C11.6527 15 15 11.6305 15 7.5C15 3.36946 11.6305 0 7.5 0C3.36946 0 0 3.36946 0 7.5ZM10.995 8.69333C11.1128 8.67863 11.2219 8.66503 11.3211 8.65309C11.61 8.63028 11.8076 8.91918 11.6784 9.13965C10.8573 10.6374 9.29116 11.793 7.50455 11.793C5.71794 11.793 4.15181 10.6602 3.33072 9.16246C3.18628 8.91918 3.37634 8.63028 3.66524 8.65309C3.79123 8.66749 3.93521 8.68511 4.09426 8.70457C4.94292 8.80842 6.22074 8.96479 7.48174 8.96479C8.81855 8.96479 10.1378 8.80025 10.995 8.69333ZM5.41405 7.37207C6.05761 7.37207 6.60923 6.72851 6.60923 6.02978C6.60923 5.30348 6.05761 4.6875 5.41405 4.6875C4.77048 4.6875 4.21886 5.33106 4.21886 6.02978C4.20967 6.75609 4.77048 7.37207 5.41405 7.37207ZM10.7807 6.05619C10.7807 6.74114 10.24 7.37201 9.60912 7.37201C8.97825 7.37201 8.4375 6.76818 8.4375 6.05619C8.4375 5.37124 8.97825 4.74037 9.60912 4.74037C10.24 4.74037 10.7807 5.34421 10.7807 6.05619Z",fill:"currentColor"})))}};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},604668:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyIcon=function(e){const{iconXstyle:t,height:a,width:n,viewBox:s}=e,d=(0,r.default)(e,c);let f;if(s){const{x:e=0,y:t=0,width:a=0,height:n=0}=s;f=[e,t,a,n].join(" ")}{var p;let e=24,r=24;return null==a&&null==n||(e=a,r=n),u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"reply"},d),u.default.createElement("svg",{viewBox:null!==(p=f)&&void 0!==p?p:"0 0 24 24",height:e,width:r,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(t),version:"1.1",x:"0px",y:"0px",xmlSpace:"preserve"},u.default.createElement("path",{fill:"currentColor",d:"M9.72,7.43C17,8.47,20.5,13.3,21.93,18.48 c0.1,0.36-0.36,0.59-0.6,0.32c-2.77-3.16-6.51-4.61-11.6-4.61v2.73c0,0.72-0.87,1.08-1.38,0.57l-6.05-6.05 c-0.32-0.32-0.32-0.83,0-1.15l6.05-6.05c0.51-0.51,1.38-0.15,1.38,0.57V7.43z"})))}};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},220279:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.UndoKeepInChatMediaIcon=function(e){const{iconXstyle:t,height:a,width:n,viewBox:s}=e,d=(0,r.default)(e,c);let f;if(s){const{x:e=0,y:t=0,width:a=0,height:n=0}=s;f=[e,t,a,n].join(" ")}{var p;let e=24,r=24;return null==a&&null==n||(e=a,r=n),u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"undo-keep-in-chat-media"},d),u.default.createElement("svg",{viewBox:null!==(p=f)&&void 0!==p?p:"0 0 25 24",height:e,width:r,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(t),fill:"none"},u.default.createElement("path",{clipRule:"evenodd",d:"m18 3h-10.00003c-1.1 0-1.99.9-1.99 2l-.0005.79529 13.99053 8.04121v-8.8365c0-1.1-.9-2-2-2zm2 14.9115 3.8749 2.2272.9967-1.734-22.97977-13.20787-.996627 1.73399 5.111727 2.93802-.00696 11.13116 7.00003-3 7 3z",fill:"currentColor",fillRule:"evenodd"})))}};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},677658:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.UnpinnedIcon=function(e){var t;const{iconXstyle:a,height:n,width:s,viewBox:d}=e,f=(0,r.default)(e,c);let p;if(d){const{x:e=0,y:t=0,width:a=0,height:n=0}=d;p=[e,t,a,n].join(" ")}let m=24,g=24;null==n&&null==s||(m=n,g=s);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"unpinned"},f),u.default.createElement("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 24 24",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(a),fill:"none"},u.default.createElement("path",{d:"M15.9984 10.6491V4.28906H16.9984V2.28906H7.64844L15.9984 10.6491Z",fill:"currentColor"}),u.default.createElement("path",{d:"M16 11.7291V4.28906H17V2.28906H7V2.71906L16 11.7291Z",fill:"currentColor"}),u.default.createElement("path",{d:"M21.21 19.7395L4.23 2.73945C4.03 2.53945 3.79 2.43945 3.52 2.43945C3.25 2.43945 3.01 2.53945 2.81 2.73945C2.61 2.93945 2.51 3.17945 2.5 3.44945C2.5 3.71945 2.59 3.95945 2.79 4.15945L8.01 9.36945V11.2795L6.00999 13.2795V15.2795H11.01V21.2795L12.01 22.2795L13.01 21.2795V15.2795H13.93L19.79 21.1295C19.99 21.3295 20.23 21.4295 20.5 21.4295C20.77 21.4295 21.01 21.3295 21.21 21.1295C21.41 20.9295 21.51 20.6995 21.51 20.4295C21.51 20.1595 21.41 19.9295 21.21 19.7295V19.7395Z",fill:"currentColor"}),u.default.createElement("path",{d:"M21.21 19.7395L4.23 2.73945C4.03 2.53945 3.79 2.43945 3.52 2.43945C3.25 2.43945 3.01 2.53945 2.81 2.73945C2.61 2.93945 2.51 3.17945 2.5 3.44945C2.5 3.71945 2.59 3.95945 2.79 4.15945L8.01 9.36945V11.2795L6.00999 13.2795V15.2795H11.01V21.2795L12.01 22.2795L13.01 21.2795V15.2795H13.93L19.79 21.1295C19.99 21.3295 20.23 21.4295 20.5 21.4295C20.77 21.4295 21.01 21.3295 21.21 21.1295C21.41 20.9295 21.51 20.6995 21.51 20.4295C21.51 20.1595 21.41 19.9295 21.21 19.7295V19.7395Z",fill:"currentColor"})))};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},190848:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceCallFilledIcon=function(e){var t;const{iconXstyle:a,height:n,width:s,viewBox:d}=e,f=(0,r.default)(e,c);let p;if(d){const{x:e=0,y:t=0,width:a=0,height:n=0}=d;p=[e,t,a,n].join(" ")}let m=22,g=22;null==n&&null==s||(m=n,g=s);return u.default.createElement(o.BaseSvgSpan,(0,l.default)({name:"voice-call-filled"},f),u.default.createElement("svg",{viewBox:null!==(t=p)&&void 0!==t?t:"0 0 22 22",height:m,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,i.default)(a),fill:"none"},u.default.createElement("path",{d:"M19.685 14.3869L16.7217 14.0486C16.0101 13.9669 15.3101 14.2119 14.8084 14.7136L12.6617 16.8602C9.36005 15.1802 6.65338 12.4852 4.97338 9.17188L7.13172 7.01355C7.63338 6.51188 7.87838 5.81188 7.79672 5.10022L7.45838 2.16022C7.31838 0.981882 6.32672 0.0952148 5.13672 0.0952148H3.11838C1.80005 0.0952148 0.703381 1.19188 0.785047 2.51022C1.40338 12.4736 9.37172 20.4302 19.3234 21.0486C20.6417 21.1302 21.7384 20.0336 21.7384 18.7152V16.6969C21.75 15.5186 20.8634 14.5269 19.685 14.3869Z",fill:"currentColor"})))};var l=n(a(967154)),r=n(a(506479)),o=a(220584),i=n(a(156720)),u=n(a(667294));const c=["iconXstyle","height","width","viewBox"]},495346:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onEnd:t}=e;const[a,n]=(0,i.useFlow)(u.Chats,{transitions:i.FlowTransitions.DrawerLeft,onEnd:t});if(null==n.step)return null;let c;switch(n.step){case u.Chats:c=o.default.createElement(l.default,{settings:r.default,onClose:()=>{n.pop()}})}return o.default.createElement(a,{flow:n},c)};var l=n(a(854534)),r=n(a(634152)),o=n(a(667294)),i=a(839062);const u=a(76672).Mirrored(["Chats"])},339257:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.InfoFlow=void 0;var l=n(a(348926)),r=n(a(81109)),o=a(898817),i=a(418987),u=n(a(670983)),c=n(a(229922)),s=n(a(813593)),d=a(72696),f=n(a(55423)),p=n(a(791865)),m=a(374660),g=a(780549),h=a(473735),E=a(260854),v=a(174834),b=a(355734),y=a(355351),C=a(103440),M=n(a(655237)),P=a(834110),_=n(a(41493)),k=a(568550),w=a(900316),S=n(a(365889)),O=n(a(649391)),I=n(a(941943)),T=a(408256),A=a(393609),N=n(a(596090)),D=a(113269),R=n(a(422325)),x=a(147550),L=n(a(302112)),j=a(306472),B=a(114850),G=n(a(550506)),F=n(a(506072)),W=a(608637),V=n(a(58880)),H=a(73225),U=n(a(751046)),Y=n(a(245272)),z=a(95589),q=n(a(386067)),K=a(932523),X=a(77548),Z=n(a(614058)),Q=n(a(632289)),$=a(559016),J=n(a(898707)),ee=a(242677),te=n(a(559893)),ae=a(977575),ne=a(316348),le=a(555622),re=a(126592),oe=n(a(979588)),ie=a(470824),ue=a(111971),ce=a(238669),se=a(377773),de=n(a(804477)),fe=a(130756),pe=n(a(556869)),me=a(548360),ge=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=be(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),he=a(839062),Ee=n(a(17533)),ve=n(a(895851));function be(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(be=function(e){return e?a:t})(e)}const ye=x.InfoFlowStep,Ce=e=>{var t;if(e.isGroup)return ye.GroupInfo;if(e.isBroadcast)return ye.BroadcastInfo;if(e.isUser)return ye.ContactInfo;if(e.isNewsletter)return ye.NewsletterInfo;const a=null!==(t=e.kind)&&void 0!==t?t:"undefined";throw(0,pe.default)(`Invalid chat provided of kind ${a}`)},Me=(0,ge.forwardRef)(((e,t)=>{var a;const{chat:n,initialStep:x=Ce(n),showFullGroupDescription:pe,scrollToParticipantList:be,profileEntryPoint:Me,onEnd:Pe,displayName:_e,sourceGroupChatOrNewsletter:ke}=e,we=(0,ge.useRef)(0),Se=(0,Ee.default)((e=>{we.current=e})),Oe=(0,ge.useRef)(void 0),Ie=(0,ge.useContext)(k.DrawerContext),[Te,Ae]=(0,he.useFlow)(x,{transitions:he.FlowTransitions.DrawerRight,onEnd:Pe}),Ne=(0,ge.useRef)(new W.NewsletterAdminFunnelLogger(fe.ADMIN_FLOW_TYPE.EDIT)),[De,Re]=(0,ge.useState)(null),[xe,Le]=(0,ge.useState)(void 0),[je,Be]=(0,ge.useState)(null),[Ge,Fe]=(0,ge.useState)(null),[We,Ve]=(0,ge.useState)(null),[He,Ue]=(0,ge.useState)(null),[Ye,ze]=(0,ge.useState)(null);(0,ge.useEffect)((()=>{if(n.isGroup)(0,D.queryAndUpdateGroupMetadataById)(n.id,"interactive");else if(n.isUser)n.contact.isBusiness&&(0,d.canSeeBizProfileV3)()&&w.DrawerManager.setDrawerContext("right",(0,K.buildProductCatalogContext)(new ee.ProductCatalogSession,(0,P.getMaybeBizPlatformForLogging)(n.contact.id.toString()),fe.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE));else if(n.isNewsletter){var e;(0,re.queryAndUpdateNewsletterMetadataAction)((0,i.toNewsletterJid)(n.id.toString()),{fields:(0,r.default)({name:!0,picture:!0,description:!0,inviteLink:!0,handle:!0,subscribers:!0,privacy:!0,verification:!0,state:!0},!(null===(e=n.newsletterMetadata)||void 0===e?void 0:e.isPreview)&&{muted:!0,membership:!0})})}}),[]);const qe=(e,t)=>{Re(e),Le(t),Ae.push(ye.ProductDetail)},Ke=e=>{Be(e),Ae.push(ye.ProductCollection)},Xe=e=>{Re(e),Ae.push(ye.ProductLink)},Ze=e=>{Re(e),Ae.push(ye.ProductInfo)},Qe=(e,t)=>{Fe(e),Ve(t),Ae.push(ye.CatalogLink)},$e=e=>{const t=(0,K.getProductCatalogContext)(Ie);(0,f.default)(e,n,t)&&(Ue(e),Ae.push(ye.Cart))},Je=(e,t)=>{const a=n.id;le.QPL.markerStart(ne.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:t}}}),(0,X.logCarouselViewMoreClick)({catalogOwnerWid:a,catalogContext:e}),Ae.push(ye.Catalog)},et=()=>{B.ModalManager.open(ge.default.createElement(C.ConfirmPopup,{onOK:()=>B.ModalManager.close(),okText:me.fbt._("OK",null,{hk:"4oTrfy"})},me.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})))},tt=(0,ve.default)(),at=function(){var t=(0,l.default)((function*(t){yield(0,c.default)((0,ie.setGroupSubject)(e.chat,t),tt).catch((0,o.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`name_group_modal:onSetSubject failed`})),B.ModalManager.close(),Ae.push(ye.GroupInviteLink)}));return function(){return t.apply(this,arguments)}}(),nt=()=>{var e;if((0,m.isInviteGrowthLockedGroup)(n)){var t;const e=!!(null===(t=n.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin());(0,A.openGrowthLockedModal)(e,!0)}else if(null===(e=n.groupMetadata)||void 0===e?void 0:e.isUnnamed){var a,l;const e=me.fbt._("This group was created without a name. Give it a name to share the group link.",null,{hk:"1uQedr"});B.ModalManager.open(ge.default.createElement(G.default,{chat:n,subtext:e,onCancel:()=>B.ModalManager.close(),onOK:at,editable:null===(a=n.groupMetadata)||void 0===a?void 0:a.canSetSubject(),editRestrictionInfo:(null===(l=n.groupMetadata)||void 0===l?void 0:l.restrict)?et:void 0}))}else Ae.push(ye.GroupInviteLink)},lt=e=>{Ve(e||n.contact),Ae.push(ye.Verification)},rt=()=>{(0,se.shouldShowNUX)(z.NUX.EPHEMERAL)?B.ModalManager.open(ge.default.createElement(O.default,{chat:n,fromMe:!0,onOk:()=>Ae.push(ye.Ephemeral)})):Ae.push(ye.Ephemeral)},ot=()=>{var e;const t=null===(e=n.groupMetadata)||void 0===e?void 0:e.parentGroup;t&&g.Cmd.openCommunityHome(t,!0)},it=()=>{Ae.end(ce.DismissReason.LIFECYCLE)},ut=()=>{Oe.current=void 0,we.current=0,Ae.push(ye.MediaGallery)},ct=()=>{Ae.push(ye.BizBot)},st=()=>{Oe.current=j.TABS.PRODUCTS,Ae.pop()};if(!Ae.step)return null;const dt=null!=ke?ke:n;let ft;switch(Ae.step){case ye.GroupInfo:if((0,m.isCommunityAnnouncementGroup)(dt)&&!(0,m.isDeactivatedCommunityAnnouncementGroup)(dt)&&(null===(a=dt.groupMetadata)||void 0===a?void 0:a.participants.iAmMember())&&(0,v.communityTabbedInfoEnabled)()){var pt;const e=null===(pt=dt.groupMetadata)||void 0===pt?void 0:pt.parentGroup;ft=ge.default.createElement(E.CommunityFlowLoadable,{homeTheme:b.CommunityHomeTheme.TabbedInfo,initialStep:h.CommunityFlowStep.CommunityHome,initialTab:y.CommunityInfoTabs.Announcements,jid:e,onBack:()=>Ae.pop()})}else ft=ge.default.createElement(I.default,{chat:dt,showFullGroupDescription:pe,scrollToParticipantList:be,groupMetadata:dt.groupMetadata,contact:dt.contact,profilePicThumb:dt.contact.getProfilePicThumb(),onVerification:lt,onStarred:()=>Ae.push(ye.Starred),onKept:()=>Ae.push(ye.Kept),onSentForAdminReview:()=>Ae.push(ye.SentForAdminReview),onMediaGallery:ut,onAdminSetting:()=>Ae.push(ye.GroupSettings),onGroupInviteLink:nt,onPendingParticipants:()=>Ae.push(ye.PendingParticipants),onEphemeral:rt,onCommunityClick:ot,onClose:()=>{ke?Ae.end():Ae.pop()}});break;case ye.SentForAdminReview:ft=ge.default.createElement(oe.default,{chat:n,ref:t,onClose:()=>Ae.pop()});break;case ye.BroadcastInfo:ft=ge.default.createElement(p.default,{chat:n,contact:n.contact,onStarred:()=>Ae.push(ye.Starred),onMediaGallery:ut,onClose:()=>Ae.pop()});break;case ye.ContactInfo:ft=ge.default.createElement(M.default,{contact:n.contact,onVerification:lt,onStarred:()=>Ae.push(ye.Starred),onKept:()=>Ae.push(ye.Kept),onMediaGallery:ut,onProductCatalog:Je,onProductDetail:qe,onEphemeral:rt,onBizBotClick:ct,onClose:()=>Ae.pop(),profileEntryPoint:Me,onBack:ke?()=>{ke.isNewsletter?Ae.push(ye.NewsletterInfo):Ae.push(ye.GroupInfo)}:null});break;case ye.NewsletterInfo:(0,H.isNewsletterEnabled)()&&(ft=ge.default.createElement(U.default,{chat:dt,newsletterMetadata:dt.newsletterMetadata,profilePicThumb:dt.contact.getProfilePicThumb(),adminFunnelLogger:Ne.current,onClose:()=>{Ae.end()},onDeleteNewsletter:()=>Ae.push(ye.DeleteNewsletter),onAdminCenter:()=>Ae.push(ye.NewsletterAdminCenter),onSettings:()=>Ae.push(ye.NewsletterSettings)}));break;case ye.NewsletterSettings:(0,H.isNewsletterReactionSettingsEnabled)()&&(ft=ge.default.createElement(Y.default,{onBack:()=>Ae.pop(),newsletter:n,adminFunnelLogger:Ne.current}));break;case ye.DeleteNewsletter:ft=ge.default.createElement(V.default,{chat:n,onBack:()=>Ae.pop()});break;case ye.NewsletterAdminCenter:ft=ge.default.createElement(F.default,{chat:n,onBack:()=>Ae.pop()});break;case ye.ProductDetail:ft=ge.default.createElement(Z.default,{chat:n,collectionId:xe,product:(0,u.default)(De,"product"),onEnd:it,onBack:st,refreshCarousel:!1,onProductLinkClick:Xe,onProductMoreInformation:Ze,onCartClick:$e});break;case ye.ProductCollection:{const e=n.id;ft=ge.default.createElement(ae.CollectionContentDrawer,{contact:n.contact,onProductDetail:qe,catalogId:e,onBack:()=>Ae.pop(),onCatalogLinkClick:Qe,onCartClick:$e,collection:(0,u.default)(je,"collection")});break}case ye.ProductLink:ft=ge.default.createElement(Q.default,{product:(0,u.default)(De,"product"),onBack:()=>Ae.pop()});break;case ye.ProductInfo:ft=ge.default.createElement(J.default,{product:(0,u.default)(De,"product"),onBack:st});break;case ye.CatalogLink:ft=ge.default.createElement(q.default,{catalog:(0,u.default)(Ge,"catalog"),contact:(0,u.default)(We,"contact"),onBack:()=>Ae.pop()});break;case ye.Cart:{const e=(0,K.getProductCatalogContext)(Ie),t=(0,f.default)((0,u.default)(He,"cartId"),n,e);ft=(0,u.default)(t,"cartFlow");break}case ye.Catalog:ft=ge.default.createElement(te.default,{contact:n.contact,onProductDetail:qe,catalogId:n.id,onBack:()=>Ae.pop(),businessProfile:n.contact.businessProfile,onCatalogLinkClick:Qe,onCartClick:$e,onCollectionSeeAll:Ke});break;case ye.ProductList:ft=ge.default.createElement($.ProductListDrawer,{contact:n.contact,onProductDetail:qe,catalogId:n.id,onBack:()=>Ae.pop(),businessProfile:n.contact.businessProfile,onCatalogLinkClick:Qe,onCartClick:$e});break;case ye.Starred:ft=ge.default.createElement(ue.StarredDrawerLoadable,{chat:n,starredMsgs:n.getStarredMsgs(),onClose:()=>Ae.pop()});break;case ye.Kept:ft=ge.default.createElement(L.default,{chat:n,keptMsgs:n.getKeptMsgs(),onClose:()=>Ae.pop()});break;case ye.GroupSettings:ft=ge.default.createElement(R.default,{chat:n,groupMetadata:n.groupMetadata,onClose:()=>Ae.pop()});break;case ye.MediaGallery:ft=ge.default.createElement(j.MediaGalleryDrawer,{chat:n,onBack:()=>Ae.pop(),onProductDetail:qe,setProductsScrollOffset:Se,initialTab:Oe.current,productsScrollOffset:we.current});break;case ye.GroupInviteLink:ft=ge.default.createElement(T.GroupInviteLinkDrawerLoadable,{chat:n,groupMetadata:(0,u.default)(n.groupMetadata,"chat.groupMetadata"),onBack:()=>Ae.pop(),onGroupSettings:()=>Ae.push(ye.GroupSettings)});break;case ye.PendingParticipants:ft=ge.default.createElement(N.default,{chat:n,onBack:()=>Ae.pop()});break;case ye.Verification:ft=ge.default.createElement(de.default.VerificationDrawerLoadable,{contact:(0,u.default)(We,"contact"),onClose:()=>Ae.pop(),isFirstLevel:!1});break;case ye.DefaultEphemerality:ft=ge.default.createElement(_.default,{onClose:()=>Ae.pop(),entryPoint:(0,u.default)(Ye,"defaultEphemeralityEntryPoint")});break;case ye.Ephemeral:{const e=n.isGroup?fe.DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:fe.DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING;ft=ge.default.createElement(S.default,{chat:n,showNux:(0,se.shouldShowNUX)(z.NUX.EPHEMERAL),entryPoint:fe.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_INFO,onClose:()=>Ae.pop(),onCloseNux:()=>Ae.push(ye.Ephemeral),onDDMSettingsClick:()=>(ze(e),void Ae.push(ye.DefaultEphemerality))});break}case ye.BizBot:ft=ge.default.createElement(s.default,{onClose:()=>Ae.pop()})}return ge.default.createElement(Te,{ref:t,flow:Ae,displayName:_e},ft)}));t.InfoFlow=Me,Me.displayName="InfoFlow"},600788:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{msg:a,highlightedMsgIds:n}=e,N=(0,A.default)(),D=(0,T.default)(),R=(0,_.default)(),x=(0,k.default)((()=>a.type===g.MSG_TYPE.IMAGE?new v.UiActionWamEvent({uiActionType:y.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:a.mediaData.mediaStage===s.MEDIA_DATA_STAGE.RESOLVED}):null)),L=(0,k.default)((()=>(0,o.constructMediaMsgs)((0,u.getChat)(a),a))),j=L.current.length,B=(0,S.default)(j),G=(0,P.useRef)(null),F=(0,P.useRef)(),W=(0,P.useRef)(),V=(0,P.useRef)(null),H=(0,P.useRef)(null),U=(0,P.useRef)(null),[Y,z]=(0,P.useState)(a),[q,K]=(0,P.useState)(!1),[X,Z]=(0,P.useState)(!0),Q=(0,S.default)(Y),$=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=H.current,a=U.current,n=V.current;if(!t||!a||!n)return;let l=0;n instanceof HTMLElement&&(l=n.clientWidth/2-t.clientWidth/2),(0,b.default)(a,"stop");let r=0;e&&(r=300),(0,b.default)(n,"scroll",{duration:r,container:a,offset:l,axis:"x",easing:[.1,.82,.25,1]})},J=e=>{if(!e)return!0;const{isViewOnce:t}=e,a=(0,m.getIsStickerMsg)(e);return!t&&!a};(0,P.useEffect)((()=>{var e;$(),J(a)&&(e=H.current)&&(0,b.default)(e,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}).then((()=>{N.aborted||Z(!1)}))}),[]),(0,P.useEffect)((()=>{j>(null!=B?B:0)&&$()}));const ee=e=>{D((()=>{L.current.loadMoreAroundIfNeeded(e)})),z(e)},te=e=>{if(e&&e.stopPropagation(),q)return;const t=Y;if(!t)return;let n=null;n=L.current.getAfter(t),n?ee(n):L.current.hasMediaAfter&&(F.current||(F.current=L.current.queryMedia({chat:(0,u.getChat)(a),msg:a,direction:"after"}).then((e=>{N.aborted||"number"==typeof e.length&&e.length>0&&Y===a&&te()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{F.current=null}))))},ae=e=>{if(e&&e.stopPropagation(),q)return;const t=Y;if(!t)return;let n=null;n=L.current.getBefore(t),n?ee(n):L.current.hasMediaBefore&&(W.current||(W.current=L.current.queryMedia({chat:(0,u.getChat)(a),msg:a,direction:"before"}).then((e=>{N.aborted||"number"==typeof e.length&&e.length>0&&Y===a&&ae()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{W.current=null}))))};let ne=null;a.type===g.MSG_TYPE.IMAGE&&(ne=()=>{const e=x.current;var t;e&&(Object.assign(e,(0,C.getGroupCountMetricsFromChatWid)(null===(t=(0,u.getChat)(a))||void 0===t?void 0:t.id)),e.markUiActionT(),e.commit(),x.current=null);(0,M.logUiActionShadowPrivateStatsTestEvents)()});const le=()=>{p.ModalManager.closeMedia()},re=(0,O.default)((()=>{z(null),le()})),oe=(null==Y?void 0:Y.isViewOnce)||Y&&(0,m.getIsStickerMsg)(Y);(0,w.useListener)(oe?Y:null,"revoked",re);const ie=oe?null:L.current;(0,w.useListener)(ie,"remove",((e,t,a)=>{const n=L.current,l=Y;if(n.includes(e)||null!=l&&null!=l.id&&l.id.toString()!==e.id.toString())return void R();const o=a.index;0===n.length?le():n.length===o?ee((0,r.default)(n.at(o-1),"mediaMsgs.at(index - 1)")):ee((0,r.default)(n.at(o),"mediaMsgs.at(index)"))})),(0,w.useListener)(ie,"reset",(()=>{le()})),(0,w.useListener)(ie,"query_media_after",(()=>{R()})),(0,w.useListener)(ie,"query_media_before",(()=>{const e=U.current;e&&(G.current=e.scrollWidth,e instanceof HTMLElement&&R())})),(0,w.useListener)(window,"keydown",(e=>{if(e.defaultPrevented)return;const t=c.default.isRTL();e.keyCode===l.default.LEFT?t?te():ae():e.keyCode===l.default.RIGHT&&(t?ae():te())})),(0,P.useEffect)((()=>{D((()=>{Y&&L.current.loadMoreAroundIfNeeded(Y)}))}),[Y,L,D]),(0,P.useEffect)((()=>{if(Q!==Y)$(!0);else{const e=U.current;if(!e||null==G.current||0===G.current)return;e instanceof HTMLElement&&(e.scrollLeft+=e.scrollWidth-G.current),G.current=null}}),[Y,Q]);const ue=(0,I.default)(((e,t,a)=>{if(0!==t.length&&null!=a){if(t.hasMediaBefore&&a<e.clientWidth){const e=(0,r.default)(t.head(),"mediaMsgs.head()");D((()=>{t.queryMedia({chat:(0,u.getChat)(e),msg:e}),R()}))}if(t.hasMediaAfter&&a+i.SCROLL_FUDGE>e.scrollWidth-2*e.clientWidth){const e=(0,r.default)(t.last(),"mediaMsgs.last()");D((()=>{t.queryMedia({chat:(0,u.getChat)(e),msg:e,direction:"after"}),R()}))}}}),100);if(!Y)return null;if((0,u.getChat)(a).isSuspendedOrTerminated()&&(0,f.isGroupSuspendV2Enabled)())return void(0,h.openSuspendedGroupMediaDownloadFailureModal)();const ce=L.current,se=ce.last(),de=ce.hasMediaAfter||Y!==se?te:null,fe=ce.head();let pe=null;return pe=ce.hasMediaBefore||Y!==fe?ae:null,pe=ce.hasMediaBefore||Y!==fe?ae:null,P.default.createElement("div",{className:q?"img-zoomed-in":null},J(Y)&&P.default.createElement(E.default,{activeMsg:Y,mediaMsgs:L.current,highlightedMsgIds:e.highlightedMsgIds,onSelectThumb:ee,onSetActiveThumb:e=>{V.current=e},onScroll:e=>{ue(e.currentTarget,L.current,e.currentTarget.scrollLeft)},setRefThumbsContainer:e=>{H.current=e},setRefThumbs:e=>{U.current=e}}),P.default.createElement(d.default,{msg:Y,mediaData:Y.mediaData,onBack:le,onExitAnimation:()=>{var e;J(a)&&(e=H.current)&&(0,b.default)(e,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},onNext:de,onPrev:pe,onImgZoomIn:e=>{K(e)},getZoomNode:e.getZoomNode,startTime:e.startTime,isAnimatingIn:X,onImageLoad:ne,msgIndexInAlbum:(()=>{let e=-1;if(!n||!Y)return e;const t=Y.id.toString();if(!n.has(t))return e;let a=0;return n.forEach((n=>{n===t&&(e=a),a++})),e})(),albumSize:(null===(t=e.highlightedMsgIds)||void 0===t?void 0:t.size)||0}))};var l=n(a(953268)),r=n(a(670983)),o=a(78810),i=a(914368),u=a(163755),c=n(a(932325)),s=a(172259),d=n(a(933147)),f=a(97858),p=a(114850),m=a(787742),g=a(373070),h=a(983271),E=n(a(266648)),v=a(382117),b=n(a(330619)),y=a(130756),C=a(531737),M=a(818674),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),_=n(a(969651)),k=n(a(637660)),w=a(808446),S=n(a(49710)),O=n(a(17533)),I=n(a(286481)),T=n(a(940630)),A=n(a(895851));function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}},340576:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendContactsModalLoadable=void 0;var l=n(a(348926)),r=n(a(114945)),o=n(a(97359)),i=n(a(205106)),u=n(a(261724)),c=a(548360),s=n(a(667294));const d=(0,i.default)((0,l.default)((function*(){const e=yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,915132));return(0,o.default)(e)})),"SendContactsModal");t.requireBundle=d;const f=(0,r.default)({loader:d,loading:e=>s.default.createElement(u.default,{title:c.fbt._("Send contacts",null,{hk:"9ZMyz"}),error:Boolean(e.error)})});t.SendContactsModalLoadable=f},854534:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(35234),r=a(700071),o=a(351053),i=a(394164),u=a(780549),c=a(174834),s=a(877171),d=n(a(908081)),f=n(a(324093)),p=a(626194),m=a(811720),g=a(512938),h=n(a(570834)),E=n(a(335540)),v=a(81644),b=n(a(932325)),y=a(97858),C=n(a(237889)),M=a(180519),P=a(548360),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),k=n(a(156720)),w=n(a(637660)),S=a(808446),O=a(655241);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}const T={borderBottom:"qmxv8cnq",backgroundColor:"s9raicp8"},A={paddingTop:"n1yiu2zv",paddingEnd:"f9ovudaz",paddingBottom:"eb4rp10x",paddingStart:"gx1rr48f"},N={paddingTop:"n1yiu2zv",paddingEnd:"h5uqwbaf",paddingBottom:"eb4rp10x",paddingStart:"kjjye8e3",textAlign:"ljrqcn24"},D={overflowX:"gfz4du6o",overflowY:"r7fjleex"};function R(e,t){const{onClose:a}=e,n=()=>o.ChatCollection.filter((e=>e.archive&&e.shouldAppearInList)),I=(0,O.useModelValues)(e.settings,["showArchiveV2","archive"]),R=(0,w.default)((()=>new h.default)),x=(0,w.default)((()=>new C.default([],(e=>e.id.toString())))),L=(0,_.useRef)(null),[j,B]=(0,_.useState)(n),G=()=>(0,y.archiveV2Supported)()&&I.showArchiveV2;(0,S.useListener)(o.ChatCollection,[G()?"sort":null,"change:archive","add","remove"].filter(Boolean),(()=>{B(n())}));const F=e=>{x.current.setVal(e,!1)};(0,S.useListener)(u.Cmd,"close_chat",(e=>{e===x.current.getVal()&&x.current.unset()})),(0,S.useListener)(u.Cmd,"update_chatlist_selection",F);(0,_.useEffect)((()=>{if(G()){const e=n(),t=new Map;e.forEach((e=>{e.archiveAtMentionViewedInDrawer=!0,t.set(e.id.toString(),!0)})),(0,l.updateChatArchiveDrawer)(t)}L.current&&E.default.focus(L.current);const e=o.ChatCollection.toArray().find((e=>e.active&&e.archive));e&&F(e)}),[]);const W=()=>{a()},V=(e,t)=>{u.Cmd.openChatFromUnread(t).then((e=>{e&&s.ComposeBoxActions.focus(t)})),(0,y.archiveV2Supported)()&&I.archive.enabled||W()},H=e=>{e.preventDefault(),e.stopPropagation(),x.current.setNext(!0)},U=e=>{e.preventDefault(),e.stopPropagation(),x.current.setPrev(!0)};let Y,z;if(x.current.init(j,!0),(()=>{const e=o.ChatCollection.some((e=>e.archive));return(0,y.archiveV2Supported)()&&e})()){const e=P.fbt._("These chats stay archived when new messages are received. To change this experience, go to Settings > Chats on your phone.",null,{hk:"2GTpJ"}),t=P.fbt._("These chats are unarchived when new messages are received. To change this experience, go to Settings > Chats on your phone.",null,{hk:"2QaWm0"});Y=_.default.createElement("div",{className:(0,k.default)(T)},_.default.createElement("div",{className:(0,k.default)(A)},_.default.createElement("div",{className:(0,k.default)(N)},_.default.createElement(M.WDSTextMuted,{as:"p"},I.showArchiveV2?e:t))))}z=j.length>0?_.default.createElement(v.HotKeys,{ref:L,handlers:{down:H,up:U}},Y,_.default.createElement(g.FlatList,{className:(0,k.default)(D),data:j.map((e=>({itemKey:e.id.toString(),chat:e,height:(0,c.shouldShowNewSubgroupIdentity)(e.groupMetadata)?i.SUBGROUP_V2_CHAT_CELL_HEIGHT:void 0}))),flatListController:R.current,direction:"vertical",renderItem:e=>_.default.createElement(r.Chat,{chat:e.chat,mode:r.Mode.LAST,active:x.current,onClick:V,hideArchivedIcon:(0,y.archiveV2Supported)()&&I.archive.enabled,hideMuteIcon:G(),hideMuteOption:G(),ephemeralIcon:"chat-list",showCommunityInfo:!0})})):_.default.createElement(m.Archived,null);const q=(0,y.archiveV2Supported)()&&I.archive.enabled?P.fbt._("Archived",null,{hk:"3HjzQg"}):b.default.t(136);return _.default.createElement(d.default,{ref:t,theme:"archived"},_.default.createElement(p.DrawerHeader,{title:q,onBack:W,type:p.DRAWER_HEADER_TYPE.LARGE,menu:null}),_.default.createElement(f.default,{flatListControllers:[R.current]},z))}var x=(0,_.forwardRef)(R);t.default=x},813593:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(692629)),r=n(a(908081)),o=n(a(324093)),i=a(626194),u=a(305521),c=a(180519),s=a(676345),d=a(548360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),p=n(a(156720));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g={textAlign:"qfejxiq4"},h=(0,f.forwardRef)(((e,t)=>{const{onClose:a}=e,n=f.default.createElement("div",{className:(0,p.default)(s.uiMargin.top28)},f.default.createElement(l.default,{type:"primary",onClick:a},d.fbt._("",null,{hk:"2ENitf"})));return f.default.createElement(r.default,{ref:t},f.default.createElement(i.DrawerHeader,{type:i.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onBack:a},f.default.createElement(c.TextDiv,{theme:"title"},f.default.createElement(u.EmojiText,{text:d.fbt._("",null,{hk:"Uwg23"})}))),f.default.createElement(o.default,null,f.default.createElement("div",{className:(0,p.default)(g,s.uiPadding.all36)},f.default.createElement(c.TextDiv,{xstyle:s.uiMargin.vert14,theme:"title"},"Meta AI placeholder content"),f.default.createElement(c.TextDiv,{color:"secondary"},"Lorem ipsum. Integer eget aliquet nibh praesent tristique magna sit amet purus gravida quis blandit turpis cursus in hac habitasse platea dictumst quisque sagittis purus sit amet"),n)))}));h.displayName="BizBotDrawer";var E=h;t.default=E},300496:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ContactInfoBizBotSection=function(e){const{onClick:t}=e,a=c.default.createElement(i.TextSpan,{theme:"title"},u.fbt._("",null,{hk:"Uwg23"})),n=c.default.createElement(i.TextDiv,{theme:"muted"},u.fbt._("",null,{hk:"3NsDIs"})),s=c.default.createElement(l.AiSignalIcon,{color:o.SvgColorProp.SECONDARY,width:20,height:20});return c.default.createElement(r.default,{onClick:t,icon:s,title:a,secondaryTitle:n})};var l=a(893716),r=n(a(306007)),o=a(220584),i=a(180519),u=a(548360),c=n(a(667294))},302112:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(348926)),r=a(698867),o=a(751461),i=a(356097),u=a(811720),c=a(978752),s=n(a(75531)),d=a(130756),f=a(548360),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(156720));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const h={paddingTop:"s7fqlky6",paddingEnd:"iffbo4e8",paddingBottom:"q1tx93la",paddingStart:"e8k79tju",fontSize:"ovllcyds",lineHeight:"durt31hz",color:"amgz1mtg"};function E(e,t){const{keptMsgs:a,onClose:n,chat:g}=e,[E,v]=(0,c.useKicNux)(g);(0,p.useEffect)((()=>{E&&v(d.TRIGGER_TYPE.KEPT_FOLDER_TAP_FIRST_TIME)}),[]),(0,p.useEffect)((()=>{(0,l.default)((function*(){const e=new o.DisappearingMessageKeepInChatWamEvent({kicActionName:d.KIC_ACTION_NAME_TYPE.VIEW_KEPT_MESSAGES,kicEntryPoint:d.KIC_ENTRY_POINT_TYPE.CHAT_INFO,messagesInFolder:a.length,isAGroup:null==g?void 0:g.isGroup});var t;(null==g?void 0:g.isGroup)&&e.set({isAdmin:null==g||null===(t=g.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin()});if(g){const t=yield(0,r.getChatThreadID)(null==g?void 0:g.id.toJid());null!=t&&e.set({threadId:t})}e.commit()}))()}),[]);const b=f.fbt._("Kept messages",null,{hk:"iGco8"}),y=p.default.createElement(u.KeptMsgs,null);let C=null;var M;(null==g?void 0:g.isGroup)?C=(null===(M=g.groupMetadata)||void 0===M?void 0:M.restrict)?p.default.createElement("div",{className:(0,m.default)(h)},f.fbt._("These messages are kept in the chat for everyone. Only admins can keep or unkeep messages in this group.",null,{hk:"2P8fIj"})):p.default.createElement("div",{className:(0,m.default)(h)},f.fbt._("These messages are kept in the chat for everyone. Everyone can keep or unkeep a message. Group admins can limit this.",null,{hk:"3VYBCh"})):C=p.default.createElement("div",{className:(0,m.default)(h)},f.fbt._("These messages are kept in the chat for everyone. Everyone can keep or unkeep a message.",null,{hk:"3sFKOP"}));return p.default.createElement(s.default,{testid:"kept-drawer",ref:t,msgCollection:a,onClose:n,chat:g,title:b,emptyListText:y,descriptionSection:C,displayType:i.DISPLAY_TYPE.KEPT_MSGS})}var v=(0,p.forwardRef)(E);t.default=v},306472:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.MediaGalleryDrawer=void 0;var l=n(a(252628)),r=a(328620),o=n(a(638938)),i=a(409623),u=n(a(321574)),c=n(a(908081)),s=n(a(324093)),d=a(626194),f=n(a(932325)),p=n(a(671597)),m=n(a(482530)),g=a(97858),h=a(913257),E=n(a(930440)),v=n(a(285192)),b=n(a(434377)),y=a(392632),C=n(a(844453)),M=a(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),_=n(a(156720)),k=n(a(261716)),w=n(a(637660));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}const O={display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",flexDirection:"f8m0rgwh",height:"ppled2lx"},I={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx"},T=a(76672)({MEDIA:"media",DOCS:"docs",LINKS:"links",PRODUCTS:"products"});t.TABS=T;const A=e=>{const{selected:t,onSearch:a}=e;switch(t){case T.MEDIA:case T.LINKS:case T.DOCS:return P.default.createElement(i.ListSearch,{onSearch:a,loading:!1,listFilterEnabled:!1,chatlistFilterEnabled:!1,mode:o.default.Chatlist,placeholder:M.fbt._("Search",null,{hk:"418EDN"})});default:return null}},N=e=>{switch(e.selectedTab){case T.MEDIA:return P.default.createElement(m.default,{chat:e.chat,mediaMsgs:e.chat.getMediaMsgs(),selectable:e.selectable,onMessageSelect:e.onMessageSelect,selectedMessages:e.selectedMessages,fullCollection:!0,isFilterEnabled:e.isFilterEnabled,filterText:e.filterText});case T.LINKS:return P.default.createElement(p.default,{chat:e.chat,linkMsgs:e.chat.getLinkMsgs(),selectable:e.selectable,onMessageSelect:e.onMessageSelect,selectedMessages:e.selectedMessages,isFilterEnabled:e.isFilterEnabled,filterText:e.filterText});case T.DOCS:return P.default.createElement(u.default,{chat:e.chat,docMsgs:e.chat.getDocMsgs(),selectable:e.selectable,onMessageSelect:e.onMessageSelect,selectedMessages:e.selectedMessages,isFilterEnabled:e.isFilterEnabled,filterText:e.filterText});case T.PRODUCTS:return P.default.createElement(v.default,{chat:e.chat,productMsgs:e.chat.getProductMsgs(),selectable:e.selectable,onMessageSelect:e.onMessageSelect,selectedMessages:e.selectedMessages,onProductDetail:e.onProductDetail,setScrollOffset:e.setScrollOffset,scrollOffset:e.scrollOffset})}};const D=(0,P.forwardRef)(((e,t)=>{const{chat:a,onProductDetail:n,setProductsScrollOffset:o,initialTab:i=T.MEDIA,productsScrollOffset:u=0}=e,[p,m]=(0,P.useState)(i),[v,S]=(0,P.useState)(null),[D,R]=(0,P.useState)(!1),[x,L]=(0,k.default)(),j=(0,g.mediaLinksDocsFilteringEnabled)(),B=(0,w.default)((()=>new E.default([],(e=>e.id.toString())))),G=()=>{D&&(B.current.unsetAll(),R(!1))},F=(0,P.useCallback)((e=>{const t=T.cast(e);if(null==t)return;const a=(0,l.default)(T).indexOf(p),n=(0,l.default)(T).indexOf(t);a!==n&&B.current.unsetAll(),m(t),S(n>a?"right":"left"),R(!1)}),[B,p]),W=(0,P.useMemo)((()=>{const e=[{id:T.MEDIA,title:f.default.t(416)},{id:T.DOCS,title:f.default.t(243)},{id:T.LINKS,title:f.default.t(394)}];return e.push({id:T.PRODUCTS,title:M.fbt._("Products",null,{hk:"3Ky71N"})}),P.default.createElement(b.default,{tabConfigs:e,selectedId:p,onSelect:F,testIdPrefix:"gallery-tab"})}),[p,F]),V=function(e){switch(e){case T.MEDIA:return h.MultiSelectBarEntryPoint.MEDIA;case T.DOCS:return h.MultiSelectBarEntryPoint.DOCS;case T.LINKS:return h.MultiSelectBarEntryPoint.LINKS;case T.PRODUCTS:return h.MultiSelectBarEntryPoint.PRODUCTS}}(p),H=[T.MEDIA,T.DOCS].includes(p),U=D?P.default.createElement(y.UIE,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:G},P.default.createElement(h.MultiSelectBar,{chat:a,noSortOnForward:!0,theme:"mediaGallery",toastPosition:r.ToastPosition.RIGHT,downloadButton:H,selectedMessages:B.current,onCancel:G,entryPoint:V})):null,Y="right"===v?"slide-forward":"slide-back";return P.default.createElement(c.default,{ref:t,theme:"gallery",testid:"media-gallery-drawer",tsNavigationData:{surface:"media-drawer"}},P.default.createElement(d.DrawerHeader,{title:" ",onBack:e.onBack,rtlFixIfOnDarwin:!0,type:d.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY,focusBackOrCancel:!0}),U,W,j?P.default.createElement(A,{selected:p,onSearch:L}):null,P.default.createElement(s.default,{"data-list-scroll-container":!0},P.default.createElement(C.default,{transitionName:Y,className:(0,_.default)(O)},P.default.createElement("div",{className:(0,_.default)(I),key:p},P.default.createElement("div",{className:(0,_.default)(O)},P.default.createElement(N,{chat:a,selectable:D,onMessageSelect:(e,t)=>{D||R(!0),B.current.setVal(e,t),0===B.current.getSelected().length&&G()},selectedMessages:B.current,fullCollection:!0,isFilterEnabled:j,filterText:x,onProductDetail:n,setScrollOffset:o,scrollOffset:u,selectedTab:p,mediaMsgs:a.getMediaMsgs(),linkMsgs:a.getLinkMsgs(),docMsgs:a.getDocMsgs(),productMsgs:a.getProductMsgs()}))))))}));t.MediaGalleryDrawer=D,D.displayName="MediaGalleryDrawer"},266466:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,c.useState)(!1);let n,d;e.isBusiness?(n=u.fbt._("This message will be forwarded to WhatsApp. This business will not be notified.",null,{hk:"1N7YEc"}),d=u.fbt._("Block business",null,{hk:"3hFIF3"})):(n=u.fbt._("This message will be forwarded to WhatsApp. This contact will not be notified.",null,{hk:"2qS1tP"}),d=u.fbt._("Block contact",null,{hk:"41X9mL"}));return c.default.createElement(r.ConfirmPopup,{onOK:function(){e.onReport(t)},okText:u.fbt._("Report",null,{hk:"18ssTb"}),onCancel:e.onCancel,title:e.title},c.default.createElement("div",{className:(0,s.default)(f.section,i.uiMargin.top12,i.uiMargin.end0,f.border)},c.default.createElement(l.CheckBox,{onChange:()=>a((e=>!e)),checked:t,id:"menu-icon-report-spam"}),c.default.createElement(o.TextLabel,{xstyle:f.checkboxLabel,htmlFor:"menu-icon-report-spam"},d)),c.default.createElement(o.TextParagraph,{xstyle:f.section,color:"muted"},n))};var l=a(468926),r=a(103440),o=a(180519),i=a(676345),u=a(548360),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),s=n(a(156720));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const f={section:{marginBottom:"t4zgqcuo"},checkboxLabel:{marginStart:"fooq7fky"},border:{paddingBottom:"dledyozo",borderBottom:"j4zbmt6h"}}},755140:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=n.ChatCollection.getActive();(0,d.useEffect)((()=>{e.entryPoint&&(0,r.logPnhRequestRevealActionHelper)(c.PNH_CHAT_TYPE_TYPE.CTWA,c.PNH_MESSAGE_CHAT_PARTY.BIZ,c.PNH_ACTION_TYPE.REQUEST_DIALOG_APPEAR,e.entryPoint)}),[e.entryPoint]);const a=s.fbt._("Request phone number?",null,{hk:"1BOtdo"}),f=s.fbt._("This person's phone number is not shared in this chat. You can request for their phone number if you'd like to save them to your contacts.",null,{hk:"3SHZ6I"}),p=s.fbt._("Send Request",null,{hk:"4tsuDY"}),m=s.fbt._("Cancel",null,{hk:"37A1CY"});return d.default.createElement(l.ConfirmPopup,{onOK:()=>{t&&((0,i.sendRequestPhoneNumber)((0,u.unproxy)(t)),null!=e.entryPoint&&(0,r.logPnhRequestRevealActionHelper)(c.PNH_CHAT_TYPE_TYPE.CTWA,c.PNH_MESSAGE_CHAT_PARTY.BIZ,c.PNH_ACTION_TYPE.SEND_REQUEST,e.entryPoint)),o.ModalManager.close()},okText:p,onCancel:()=>o.ModalManager.close(),cancelText:m,title:a},f)};var n=a(351053),l=a(103440),r=a(543081),o=a(114850),i=a(942319),u=a(163139),c=a(130756),s=a(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}},9729:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{isVoiceCallEnabled:!1,isVideoCallEnabled:!1,canStartVoiceCall:!1,canStartVideoCall:!1,startVoiceCall:()=>{},startVideoCall:()=>{}}};a(445729),a(660666),a(667294),a(808446)},791865:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(896322)),r=n(a(35644)),o=(n(a(306007)),a(464659)),i=n(a(740681)),u=a(63014),c=a(780549),s=a(419e3),d=n(a(908081)),f=n(a(324093)),p=a(36045),m=a(626194),g=n(a(209064)),h=a(673509),E=n(a(409558)),v=a(258105),b=n(a(570834)),y=n(a(932325)),C=a(97858),M=a(114850),P=a(111367),_=(a(227341),a(163139)),k=(a(220584),a(180519)),w=a(130756),S=a(548360),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),I=n(a(156720)),T=n(a(969651)),A=n(a(637660)),N=a(808446),D=a(655241),R=n(a(321201));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}const L={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"};function j(e,t){var a,n;const{onClose:x,onMediaGallery:j}=e,B=(0,T.default)(),G=(0,R.default)(),F=(0,A.default)((()=>new b.default)),W=(0,D.useModelValues)(e.chat,["id","groupMetadata"]);(0,N.useListener)(null===(a=W.groupMetadata)||void 0===a?void 0:a.participants,["add","remove","sort","reset"],B);let V=null;j&&(V=O.default.createElement(i.default,{onMediaGallery:j,chat:(0,_.unproxy)(W)}));const H=O.default.createElement(o.ChatInfoDrawerButtonsSection,null,O.default.createElement(p.DrawerButton,{testid:"li-delete-broadcast",icon:O.default.createElement(s.DeleteIcon,null),color:"danger",theme:"chat-info",onClick:()=>{c.Cmd.deleteOrExitChat((0,_.unproxy)(W))}},y.default.t(692)));let U;(null===(n=W.groupMetadata)||void 0===n?void 0:n.creation)?(U=u.Clock.createdStr(W.groupMetadata.creation),U=O.default.createElement(k.TextDiv,{theme:"small"},U)):U=null;const Y=O.default.createElement(E.default,{highlightSurface:w.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,onClick:()=>{if((0,C.isPrivacyNarrativeV1Enabled)()&&(0,P.shouldShowNewE2eInfoModal)((0,_.unproxy)(W))){const e=(0,v.getE2EFaqUrl)();M.ModalManager.open(O.default.createElement(h.E2eInfoModalV2,{highlightSurface:w.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,url:e}))}else M.ModalManager.open(O.default.createElement(g.default,{highlightSurface:w.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,chatId:W.id,e2eSubtype:"info_encrypted"}))},text:S.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"1iarlI"})});return O.default.createElement(d.default,{ref:t,key:"contact-info-modal",theme:"striped"},O.default.createElement(m.DrawerHeader,{type:m.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{x?x():null==G||G.requestDismiss()}},O.default.createElement(k.TextDiv,{theme:"title"},S.fbt._("Broadcast list info",null,{hk:"3S4EgV"})),U),O.default.createElement(f.default,{flatListControllers:[F.current]},O.default.createElement("div",{className:(0,I.default)(L)},O.default.createElement(r.default,{chat:(0,_.unproxy)(W)}),V,undefined,O.default.createElement(o.ChatInfoDrawerSection,null,Y),O.default.createElement(l.default,{chat:(0,_.unproxy)(W),flatListController:F.current}),H)))}var B=(0,O.forwardRef)(j);t.default=B},896322:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const n=(0,m.default)(),h=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants;(0,g.useListener)(h,"add remove reset",n);const E=(0,p.useMemo)((()=>h?h.map((e=>({itemKey:e.id.toString(),participant:e,height:68}))):[]),[h]),v=(e,t)=>{(0,f.isMePrimary)(t.id)||(0,c.findChat)(t.id,"broadcastInfoRecipients").then((function(e){o.Cmd.openChatFromUnread(e).then((t=>{t&&i.ComposeBoxActions.focus(e)}))}))},b=null!==(a=null==h?void 0:h.length)&&void 0!==a?a:0,y=d.default.t(770,{count:b,_plural:b});return p.default.createElement(r.ChatInfoDrawerListSection,{title:y},p.default.createElement(s.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:E,renderItem:e=>{const{participant:t}=e,a=u.ContactCollection.gadd(t.id);return p.default.createElement(l.Contact,{contact:a,theme:"chat-info",admin:!!t.isAdmin,onClick:v,key:t.id.toString(),waitIdle:!0})}}))};var l=a(822652),r=a(464659),o=a(780549),i=a(877171),u=a(177938),c=a(581354),s=a(512938),d=n(a(932325)),f=a(459857),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),m=n(a(969651)),g=a(808446);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}},35644:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const n=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants,b=(0,h.useModelValues)(e.chat.contact,["name"]),y=(0,m.default)();(0,g.useListener)(n,"add remove reset",y);const C=null!==(a=null==n?void 0:n.length)&&void 0!==a?a:0,M=d.fbt._("Broadcast List",null,{hk:"46AT9o"}).toString()+" · "+u.default.t(770,{count:C,_plural:C}),P=b.name?f.default.createElement(c.Name,{contact:e.chat.contact,selectable:!0}):d.fbt._("Untitled List",null,{hk:"fYALp"});return f.default.createElement(o.default,{theme:"padding-large"},f.default.createElement("div",{className:(0,p.default)(E)},f.default.createElement(r.DetailImage,{id:e.chat.id,size:r.DetailImageSize.Large})),f.default.createElement(i.FlexColumn,{align:"center"},f.default.createElement(s.TextHeader,{level:"2",size:"24"},P),f.default.createElement("div",{className:(0,p.default)(v)},f.default.createElement(l.SelectableSpan,{dir:"auto",selectable:!0},f.default.createElement(s.TextSpan,{size:"16",color:"secondary"},M)))))};var l=a(306703),r=a(23641),o=n(a(969358)),i=a(690495),u=n(a(932325)),c=a(21645),s=a(180519),d=a(548360),f=n(a(667294)),p=n(a(156720)),m=n(a(969651)),g=a(808446),h=a(655241);const E={display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"du8bjn1j"},v={lineHeight:"a4ywakfo",marginTop:"g1eqewly"}},988808:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t}=e;const{status:a}=(0,d.useModelValues)(t.getStatus(),["status"]);if(u.default.isPSA(t.id))return s.default.createElement(l.ChatInfoDrawerSection,{titleTestId:"section-about",title:""},s.default.createElement(i.TextSpan,{theme:"title",size:"16"},c.fbt._("Hi! Welcome to this official WhatsApp chat.",null,{hk:"1fpFwJ"}).toString(),s.default.createElement("br",null),c.fbt._("This is where you can get tips, see announcements, and hear about the newest features. Straight from us.",null,{hk:"4gcJHK"}).toString(),s.default.createElement("br",null),c.fbt._('Official chats from WhatsApp will always have a green "verified" checkmark. And we\'ll never ask for your personal information.',null,{hk:"8bwzI"}).toString()),s.default.createElement("br",null),s.default.createElement("br",null),s.default.createElement(o.ExternalLink,{href:"https://whatsapp.com/",xstyle:f.whatsapp_url},"https://whatsapp.com/"));if(""===a)return null;return s.default.createElement(l.ChatInfoDrawerSection,{titleTestId:"section-about",title:c.fbt._("About",null,{hk:"4qoAfH"})},s.default.createElement(i.TextSpan,{theme:"title",size:"16"},s.default.createElement(r.default,{id:t.id})))};var l=a(464659),r=n(a(203528)),o=a(753233),i=a(180519),u=n(a(124928)),c=a(548360),s=n(a(667294)),d=(n(a(156720)),a(655241));const f={whatsapp_url:{color:"hafg4y3t"}}},876588:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t]=(0,E.useContactValues)(e.contact.id,[p.getCommonGroups]),[a,n]=(0,h.useState)(!0);(0,h.useEffect)((()=>{(0,d.findCommonGroups)(e.contact).catch((e=>{throw __LOG__(4,!0,new Error,!0)`get from participants table failed`,SEND_LOGS("get from participants table failed when finding common groups: "+e),(0,m.default)("get from participants table failed")}))}),[]);const b=(0,v.default)(t,["add","remove"],(()=>{if(!t)return[];let e=t;return e.length>o.INFO_DRAWER_MAX_ROWS&&a&&(e=e.slice(0,o.INFO_DRAWER_MAX_ROWS)),e.map((e=>({itemKey:e.id.toString(),chat:e,height:(0,c.shouldShowNewSubgroupIdentity)(e.groupMetadata)?r.SUBGROUP_V2_CHAT_CELL_HEIGHT:68})))}),[a]),y=()=>{n(!1)},C=(t,a)=>{u.Cmd.openChatFromUnread(a).then((e=>{e&&s.ComposeBoxActions.focus(a)})),e.onClose()};if(!t||0===t.length)return null;let M;if(t.length>o.INFO_DRAWER_MAX_ROWS&&a){const e=t.length-o.INFO_DRAWER_MAX_ROWS;M=h.default.createElement(i.default,{numMore:e,onClick:y})}const P=g.fbt._({"*":"{number} groups in common",_1:"1 group in common"},[g.fbt._plural(t.length,"number")],{hk:"2bl4a5"});return h.default.createElement(o.ChatInfoDrawerListSection,{titleTestId:"section-common-groups",title:P},h.default.createElement(f.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b,renderItem:e=>{const{chat:t}=e;return h.default.createElement(l.Chat,{chat:t,theme:"chat-info",mode:l.Mode.INFO,onClick:C,key:t.id.toString(),showCommunityInfo:!0})}}),M)};var l=a(700071),r=a(394164),o=a(464659),i=n(a(831584)),u=a(780549),c=a(174834),s=a(877171),d=a(701777),f=a(512938),p=a(714574),m=n(a(556869)),g=a(548360),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),E=a(379811),v=n(a(524578));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}},655237:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(967154)),r=n(a(81109)),o=a(122583),i=a(15842),u=a(632157),c=a(984330),s=a(72696),d=a(354458),f=n(a(498692)),p=n(a(983345)),m=n(a(463954)),g=n(a(906015)),h=a(815651),E=a(745309),v=a(542358),b=n(a(718796)),y=a(713464),C=a(351053),M=a(738501),P=n(a(306007)),_=a(464659),k=n(a(740681)),w=a(998123),S=a(698867),O=a(780549),I=a(660666),T=n(a(988808)),A=a(300496),N=n(a(876588)),D=n(a(700829)),R=n(a(109007)),x=n(a(366773)),L=n(a(305122)),j=n(a(704714)),B=n(a(928008)),G=a(834110),F=a(419e3),W=n(a(908081)),V=n(a(324093)),H=a(36045),U=a(568550),Y=a(626194),z=a(900316),q=n(a(969358)),K=a(71957),X=n(a(570834)),Z=a(714574),Q=a(95576),$=n(a(932325)),J=n(a(344460)),ee=a(917504),te=a(609181),ae=a(114850),ne=n(a(832897)),le=n(a(499717)),re=n(a(213393)),oe=a(932523),ie=a(242677),ue=n(a(335748)),ce=a(10586),se=n(a(634152)),de=a(163139),fe=a(220584),pe=a(180519),me=a(625786),ge=a(390737),he=a(459857),Ee=a(887222),ve=a(130756),be=n(a(124928)),ye=a(548360),Ce=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Oe(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),Me=n(a(156720)),Pe=a(379811),_e=n(a(637660)),ke=a(655241),we=n(a(558532)),Se=n(a(321201));function Oe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Oe=function(e){return e?a:t})(e)}const Ie={body:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},lastSectionRow:{marginBottom:"brac1wpa"}};function Te(e){let{contact:t,catalogContext:a,onProductDetail:n,onProductCatalog:l}=e;const r=y.CatalogCollection.get(t.id);if(!r)return null;let o="",i=!1;(0,s.canSeeBizProfileV3)()&&(o=ye.fbt._("See all",null,{hk:"3dTwyT"}),i=!0);const{session:u}=a;return u.isAccidental()?null:(0,v.hasShop)(t.businessProfile)?(0,s.bannedShopsEnabled)()&&(0,v.isShopBanned)(t.businessProfile)?null:Ce.default.createElement(ue.default,{businessProfile:t.businessProfile,catalog:r,subtitle:o,hideIncompleteRows:i}):Ce.default.createElement(re.default,{onProductDetail:n,onProductCatalog:l,catalog:r,subtitle:o,hideIncompleteRows:i,shouldLog:!0})}function Ae(e,t){const{contact:a,onVerification:n,onClose:v,onBack:re,onProductDetail:ue,onProductCatalog:Oe,onBizBotClick:Ae,canLogQpl:Ne=!0}=e,De=(0,Se.default)(),Re=(0,Ce.useContext)(U.DrawerContext),[xe,Le,je,Be,Ge,Fe,We,Ve,He,Ue,Ye,ze,qe,Ke,Xe,Ze,Qe]=(0,Pe.useContactValues)(e.contact.id,[I.getId,Z.getFormattedName,Z.getFormattedUser,Z.getFormattedShortName,I.getIsBusiness,I.getIsEnterprise,I.getIsMyContact,Z.getCommonGroups,Z.getBusinessProfile,I.getShowBusinessCheckmarkAsPrimary,I.getShowBusinessCheckmarkAsSecondary,I.getVerifiedName,I.getVerifiedLevel,I.getName,I.getNotifyName,I.getLabels,Z.getPhoneNumber]),[$e,Je,et,tt,at,nt,lt,rt,ot]=(0,Pe.useContactValues)(e.contact.id,[Z.getBusinessCatalog,I.getIsMe,I.getStatusMute,Z.getDisplayName,Z.getShareOwnPn,I.getRequestedPnTimestamp,I.getCanRequestPhoneNumber,I.getIsIAS,I.getIsCAPISupportAccount]),it=(0,_e.default)((()=>new X.default)),ut=(0,Ce.useRef)(!1),[ct,st]=(0,Ce.useState)(100),dt=(0,Ce.useMemo)((()=>C.ChatCollection.get(xe)),[xe]),ft=(0,ke.useOptionalModelValues)(dt,["isBizBotEnabled"]),pt=Je;(0,Ce.useEffect)((()=>{He&&!He.stale&&$e&&y.CatalogCollection.findCarouselCatalog(xe).catch((0,o.filteredCatch)(c.ServerStatusCodeError,(()=>{__LOG__(3)`Failed to fetch product catalog in contact drawer from server`}))),(0,ce.getFanOutListJob)([xe,(0,he.assertGetMe)()]).then((e=>{(0,ee.ensureE2ESessions)(e)}));const{session:t}=(0,oe.getProductCatalogContext)(Re);if(t.isAccidental())z.DrawerManager.setDrawerContext("right",(0,oe.buildProductCatalogContext)(new ie.ProductCatalogSession,(0,G.getMaybeBizPlatformForLogging)(xe.toString()),ve.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE));else if(Ge&&(0,s.canSeeBizProfileV3)()){const t=xe===(0,he.getMaybeMeUser)(),{profileEntryPoint:a}=e;!t&&a&&(0,h.logProfileImpression)((0,oe.getProductCatalogSessionId)(Re),a,!!(null==He?void 0:He.isProfileLinked),!!(null==He?void 0:He.coverPhoto))}Ne&&He&&(0,te.qplEndProfileView)(i.QuickLogActionType.SUCCESS)}),[]),(0,Ce.useEffect)((()=>{if((0,s.btmThreadsLoggingEnabled)()){var e;const t=null===(e=(0,he.getMaybeMeUser)())||void 0===e?void 0:e.equals(xe),{session:a}=(0,oe.getProductCatalogContext)(Re);a.isAccidental()||t||!(null==dt?void 0:dt.id)||(0,S.handleActivitiesForChatThreadLogging)([{activityType:"profileViews",ts:(0,u.unixTime)(),chatId:dt.id}])}}),[]),(0,we.default)((()=>{const{session:e}=(0,oe.getProductCatalogContext)(Re);e.isAccidental()||Ge&&(0,s.canSeeBizProfileV3)()&&(0,h.logProfileExit)((0,oe.getProductCatalogSessionId)(Re),ct,null==He?void 0:He.isProfileLinked,!!(null==He?void 0:He.coverPhoto))}));const mt=()=>{v?v():null==De||De.requestDismiss()},gt=()=>{re&&re()},ht=e=>{if(!ut.current&&!be.default.isPSA(xe))return void ge.ToastManager.open(Ce.default.createElement(me.Toast,{msg:ye.fbt._("No profile photo",null,{hk:"2bdeTO"})}));const t=e.target;ae.ModalManager.openMedia(Ce.default.createElement(le.default,{contact:a,profilePicThumb:a.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:e=>{e(t)}}),{transition:"profile-viewer",uim:De})},Et=()=>{ut.current=!0},vt=e=>{(0,Ee.qplStartProductView)("ContactInfo"),ue(e)},bt=e=>{const t=Math.floor(100*(1+e.currentTarget.scrollTop/e.currentTarget.offsetHeight));t>ct&&st(t)},yt=Fe?null:Ce.default.createElement(N.default,{contact:a,onClose:mt,flatListController:it.current});let Ct=null;e.onMediaGallery&&dt&&(Ct=Ce.default.createElement(k.default,{chat:dt,onMediaGallery:e.onMediaGallery}));let Mt=null,Pt=null;if(a&&Ge&&He&&$e){const e=Ce.default.createElement(Te,{contact:a,catalogContext:(0,oe.getProductCatalogContext)(Re),onProductDetail:vt,onProductCatalog:Oe});(0,s.canSeeBizProfileV3)()?Pt=e:Mt=e}const _t=dt&&dt.mute.canMute()?Ce.default.createElement(ne.default,{chat:dt,mute:dt.mute,settings:se.default}):null;let kt,wt;if(e.onStarred&&(kt=Ce.default.createElement(L.default,{onStarred:e.onStarred})),dt&&(dt.hasKeptMsgs()||(0,M.isEphemeralSettingOn)(dt))){const t=Ce.default.createElement(pe.TextSpan,{theme:"title",size:"16"},ye.fbt._("Kept Messages",null,{hk:"w8m3u"})),a=Ce.default.createElement(Q.KeepInChatIcon,{color:fe.SvgColorProp.SECONDARY,height:20});wt=Ce.default.createElement(_.ChatInfoDrawerSection,{titleTestId:"section-kept-messages",xstyle:Ie.lastSectionRow},Ce.default.createElement(P.default,{testid:"block-kept-messages",side:"chevron",icon:a,onClick:e.onKept,title:t}))}const St=dt&&(0,M.shouldShowEphemeralSetting)(dt)?Ce.default.createElement(K.EphemeralSettingRow,{onClick:e.onEphemeral,chat:dt,testid:"contact-info-dm-setting-row"}):null,Ot=be.default.isPSA(xe)?Ce.default.createElement(B.default,null):Ce.default.createElement(D.default,{contact:(0,de.unproxy)(a),onVerificationClick:()=>{n()}}),It=xe.isLid()&&null==Qe,Tt=xe.isLid(),At=dt&&Tt?Ce.default.createElement(w.PhoneNumberVisibilityIndicator1On1,{chat:dt}):null,Nt=(0,d.bizBotMessageRenderingEnabled)()&&Ge&&(null==ft?void 0:ft.isBizBotEnabled)?Ce.default.createElement(A.ContactInfoBizBotSection,{onClick:Ae}):null,Dt=Ce.default.createElement(_.ChatInfoDrawerSection,null,_t,St,Ot,At,Nt),Rt=!Ge,xt=Rt||rt||ot||xe.isBot()?null:Ce.default.createElement(p.default,{contact:(0,de.unproxy)(a)});let Lt=null;xe.isBot()?Lt=Ce.default.createElement(f.default,{contact:(0,de.unproxy)(a)}):Rt&&(Lt=Ce.default.createElement(T.default,{contact:(0,de.unproxy)(a)}));const jt=(0,s.canSeeBizProfileV3)()&&Ge&&He?Ce.default.createElement(b.default,{contact:a,onProfilePicLoad:Et,onProfilePicClick:ht,onOpenStatus:()=>{(0,h.logStatusClick)((0,oe.getProductCatalogSessionId)(Re),null==He?void 0:He.isProfileLinked,!!(null==He?void 0:He.coverPhoto))},businessProfile:He,onProductCatalog:Oe,isMessageYourselfChat:pt,isPhoneNumberHidden:It}):Ce.default.createElement(j.default,{contact:a,onDetailImageLoad:Et,onDetailImageClick:ht,isMessageYourselfChat:pt,isPhoneNumberHidden:It});let Bt,Gt,Ft,Wt=null;var Vt;Ge&&He&&((0,s.canSeeBizProfileV3)()&&He?(Wt=Ce.default.createElement(g.default,{businessProfile:He}),Bt=rt||ot?null:Ce.default.createElement(m.default,{contact:a}),(null!==(Vt=null==Ze?void 0:Ze.length)&&void 0!==Vt?Vt:0)>0&&(Gt=Ce.default.createElement(q.default,{theme:"padding"},Ce.default.createElement(J.default,{labels:Ze,theme:"standalone"}))),Ft=bt):He&&(Wt=Ce.default.createElement(E.BusinessProfile,{contact:a,businessProfile:He})));const Ht={title:ye.fbt._("Contact info",null,{hk:"LUJtH"}),type:Y.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,focusBackOrCancel:!0};let Ut,Yt={};return Yt=re?(0,r.default)({onBack:gt},Ht):(0,r.default)({onCancel:mt},Ht),He&&!0===He.isProfileLinked&&(0,s.bizLinkedAccountsEnabled)()&&(0,s.canViewBizLinkedAccounts)()&&(Ut=Ce.default.createElement(x.default,{businessProfile:He,rowTheme:"linked-account-consumer"})),Ce.default.createElement(W.default,{ref:t,key:"contact-info-modal",theme:"striped",testid:"chat-info-drawer",tsNavigationData:{surface:"contact-info-drawer"}},Ce.default.createElement(Y.DrawerHeader,(0,l.default)({},Yt,{testid:"contact-info-header"})),Ce.default.createElement(V.default,{flatListControllers:[it.current],onScroll:Ft},Ce.default.createElement("section",{className:(0,Me.default)(Ie.body)},jt,Bt,Gt,Pt,Wt,Ut,Mt,Lt,Ct,kt,wt,Dt,xt,undefined,!pt&&yt,!pt&&Ce.default.createElement(R.default,{contact:a}),Ce.default.createElement(_.ChatInfoDrawerButtonsSection,null,dt?Ce.default.createElement(H.DrawerButton,{testid:"li-delete-chat",icon:Ce.default.createElement(F.DeleteIcon,null),color:"danger",onClick:()=>{const e=C.ChatCollection.assertGet(xe);O.Cmd.deleteOrExitChatFromEntryPoint(e,12)},theme:"chat-info"},$.default.t(221)):null))))}var Ne=(0,Ce.forwardRef)(Ae);t.default=Ne},700829:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onVerificationClick:t}=e,[a,n]=(0,v.useContactValues)(e.contact.id,[o.getId,o.getPrivacyMode]),b=function(e,t){if((0,l.default)(t.user))return{text:h.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"}),title:h.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,d.default)((0,p.SupportChatSecurityModalText)(),(0,u.getSupportChatSafetyFaqUrl)(),(0,p.SupportChatLearnMoreLinkText)())}};if(t.isBot())return{text:h.fbt._("This chat uses a secure service from Meta.",null,{hk:"2qCB1u"}),title:h.fbt._("Security",null,{hk:"3N8Cdp"}),onClick:()=>{s.ModalManager.open(E.default.createElement(r.default,null))}};switch(e){case f.ReducedPrivacyMode.E2EE:return null;case f.ReducedPrivacyMode.BSP:return{text:h.fbt._("This business works with other companies to manage this chat. Click to learn more.",null,{hk:"VbOOZ"}),title:h.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,d.default)((0,c.formatBspModalText)(),(0,u.getE2EEnterpriseFaqUrl)())}};case f.ReducedPrivacyMode.FB:{let e;return e=t.isIAS()?h.fbt._("WhatsApp Surveys uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"49GQ04"}):h.fbt._("This business uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"3wvGOC"}),{text:e,title:h.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,d.default)((0,c.formatFbModalText)(t.isIAS()),(0,u.getE2EEnterpriseFaqUrl)())}}}}}((0,f.getReducedPrivacyMode)(n),a);if(b)return E.default.createElement(i.default,{highlightSurface:g.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,title:b.title,text:b.text,onClick:b.onClick});const y=m.default.isVoiceCallEnabled()||m.default.isVideoCallEnabled()?h.fbt._("Messages and calls are end-to-end encrypted. Click to verify.",null,{hk:"GtGQH"}):h.fbt._("Messages are end-to-end encrypted. Click to verify.",null,{hk:"1AqhWR"});return E.default.createElement(i.default,{highlightSurface:g.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,onClick:t,text:y})};var l=n(a(143589)),r=n(a(663843)),o=a(660666),i=n(a(409558)),u=a(258105),c=a(729763),s=a(114850),d=n(a(606037)),f=a(35109),p=a(666836),m=n(a(571256)),g=a(130756),h=a(548360),E=n(a(667294)),v=a(379811)},109007:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t}=e,[a,n,S,O,I,T,A]=(0,w.useContactValues)(e.contact.id,[d.getId,p.getDisplayName,d.getIsBusiness,p.getIsContactBlocked,d.getIsIAS,d.getIsMyContact,d.getIsCAPISupportAccount]),N=k.default.createElement(g.Name,{contact:e.contact,skipCheckMark:!0});let D=null;a.isBot()||(D=O?k.default.createElement(f.DrawerButton,{testid:"li-unblock",color:"success",icon:k.default.createElement(b.SettingsBlockedIcon,{directional:!0}),onClick:()=>(0,o.handleUnblock)(e.contact,i.BlockEntryPoint.Profile),theme:"chat-info"},_.fbt._("Unblock {contact_name}",[_.fbt._param("contact_name",N)],{hk:"1fZZEx"})):k.default.createElement(f.DrawerButton,{testid:"li-block",color:"danger",icon:k.default.createElement(b.SettingsBlockedIcon,{directional:!0}),onClick:()=>{const n=()=>{const t=u.ChatCollection.get(a);if(null==t?void 0:t.isPSA){const e=t.msgs.last();(0,M.logChatPSARemove)(e,1,1)}(0,r.blockContact)({contact:e.contact,blockEntryPoint:i.BlockEntryPoint.Profile}),m.ModalManager.close()};let o=k.default.createElement(s.ConfirmPopup,{onOK:n,okText:_.fbt._("Block",null,{hk:"9s17C"}),onCancel:()=>m.ModalManager.close(),title:_.fbt._("Block {contact_name}?",[_.fbt._param("contact_name",N)],{hk:"26yDKy"})},_.fbt._("Blocked contacts will no longer be able to call you or send you messages.",null,{hk:"3ioCkx"}));P.default.isPSA(a)?o=k.default.createElement(h.default,{onBlock:n,onCancel:()=>m.ModalManager.close()}):S&&(o=k.default.createElement(l.default,{contact:t,blockEntryPoint:i.BlockEntryPoint.Profile,withReport:!1})),m.ModalManager.open(o)},theme:"chat-info"},_.fbt._("Block {contact_name}",[_.fbt._param("contact_name",N)],{hk:"laDqJ"})));let R=I||A?_.fbt._("Report",null,{hk:"2SQkZ4"}):_.fbt._("Report business",null,{hk:"2Tvnn8"});S||(R=_.fbt._("Report {contact_name}",[_.fbt._param("contact_name",N)],{hk:"3Dqyjo"}));const x=P.default.isPSA(a)||a.isBot()?null:k.default.createElement(f.DrawerButton,{testid:"li-report-spam",color:"danger",icon:k.default.createElement(C.ThumbsDownIcon,null),onClick:()=>{m.ModalManager.open(k.default.createElement(E.default,{isMessage:!1,isBusiness:e.contact.isBusiness,isGroupChat:!1,onReport:()=>{const t=u.ChatCollection.get(e.contact.id);t&&(0,v.sendReport)({chat:t,spamFlow:y.SpamFlow.AccountInfoReport}),m.ModalManager.close()},onReportBlockClear:()=>{const t=u.ChatCollection.get(e.contact.id);t&&(0,v.sendSpamBlockClear)(t,y.SpamFlow.AccountInfoReport),m.ModalManager.close()},onCancel:()=>m.ModalManager.close()}))},theme:"chat-info"},R);return k.default.createElement(c.ChatInfoDrawerButtonsSection,null,D,x)};var l=n(a(208423)),r=a(547979),o=a(923092),i=a(400436),u=a(351053),c=a(464659),s=a(103440),d=a(660666),f=a(36045),p=a(714574),m=a(114850),g=a(21645),h=n(a(179197)),E=n(a(338695)),v=a(383296),b=a(226017),y=a(453603),C=a(21698),M=a(369084),P=n(a(124928)),_=a(548360),k=n(a(667294)),w=a(379811)},305122:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onStarred:t}=e;const a=s.default.createElement(u.TextSpan,{theme:"title",size:"16"},c.fbt._("Starred messages",null,{hk:"4wVbNG"})),n=s.default.createElement(o.StarIcon,{color:i.SvgColorProp.SECONDARY,height:20});return s.default.createElement(r.ChatInfoDrawerSection,{titleTestId:"section-starred-messages"},s.default.createElement(l.default,{testid:"block-starred-messages",side:"chevron",icon:n,onClick:t,title:a}))};var l=n(a(306007)),r=a(464659),o=a(227341),i=a(220584),u=a(180519),c=a(548360),s=n(a(667294))},836513:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return f.default.createElement(u.FlexRow,{xstyle:g.container},f.default.createElement(u.FlexColumn,{xstyle:g.item},p),f.default.createElement(u.FlexColumn,{xstyle:[g.text,g.item]},f.default.createElement(s.TextSpan,{testid:"contact-info-pnh-info"},d.fbt._("This person's phone number is not shared in this chat. {=m2}",[d.fbt._implicitParam("=m2",f.default.createElement(l.default,{testid:"contact-info-pnh-learn-more",onClick:m},d.fbt._("Learn more",null,{hk:"t6HJf"})))],{hk:"3CEKuh"}))))};var l=n(a(196554)),r=a(136858),o=a(753233),i=a(258105),u=a(690495),c=a(220584),s=a(180519),d=a(548360),f=n(a(667294));n(a(156720));const p=f.default.createElement(r.DialpadIcon,{directional:!0,color:c.SvgColorProp.SECONDARY}),m=()=>{const e=(0,i.getPhoneNumberHidingFaqUrl)();(0,o.openExternalLink)(e)},g={container:{alignItems:"gndfcl4n",backgroundColor:"f6ipylw5",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",display:"p357zi0d",marginTop:"fgtikrv0",marginEnd:"k1jo73ug",marginBottom:"iyjcf3gk",marginStart:"isfiuinm",width:"c0boj6n4",height:"q1n4p668",maxWidth:"l2o74p5l",paddingStart:"nu34rnf1",paddingEnd:"ft2m32mm",lineHeight:"erpdyial"},text:{color:"pm5hny62",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",wordBreak:"cw3vfol9",overflowWrap:"fd365im1"},item:{marginStart:"p3lsiedt",marginEnd:"q471nw87",paddingTop:"qomlamqu",paddingEnd:"lnjlmjd6",paddingBottom:"bxcbqipq",paddingStart:"mc6o24uu"}}},704714:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,{contact:a,onDetailImageLoad:n,onDetailImageClick:l,isMessageYourselfChat:r,isPhoneNumberHidden:o}=e;const i=R.fbt._("Official WhatsApp Account",null,{hk:"2cEUzF"}),u=null!=a.phoneNumber?f.ContactCollection.get(a.phoneNumber):null;if(N.default.isPSA(a.id))t=i;else if((0,p.getIsMyContact)(a))t=(0,D.widToFormattedUser)(a.id);else if(a.id.isLid()&&null!=u&&(0,p.getIsMyContact)(u))t=(0,D.widToFormattedUser)(a.phoneNumber);else{const e=(0,p.getNotifyName)(a);null!=e&&(t=`~${e}`)}return x.default.createElement(v.default,{theme:"padding-large"},x.default.createElement("div",{className:(0,L.default)(j.avatar)},x.default.createElement(h.DetailImage,{id:a.id,size:h.DetailImageSize.Large,loader:!0,onLoad:n,onClick:l,quality:h.DetailImageQuality.High})),x.default.createElement(y.FlexColumn,{align:"center"},x.default.createElement(S.TextHeader,{level:"2",size:"24",xstyle:j.contactName},x.default.createElement(P.Name,{testid:"contact-info-subtitle",contact:a,showMessageYourselfName:r,selectable:!0,breakWord:!0})),null!=t&&x.default.createElement("div",{className:(0,L.default)(j.secondaryWrapper)},x.default.createElement(g.SelectableSpan,{dir:"auto",selectable:!0},x.default.createElement(S.TextSpan,{size:"16",color:"secondary"},t)))),o&&x.default.createElement(m.default,null),!r&&x.default.createElement(B,{contact:a,displayRequestPnButton:o}),x.default.createElement(C.default,{labels:a.labels}))};var l=a(287461),r=a(351053),o=a(164777),i=n(a(983098)),u=n(a(9729)),c=a(230255),s=a(780549),d=a(877171),f=a(177938),p=a(660666),m=n(a(836513)),g=a(306703),h=a(23641),E=a(521332),v=n(a(969358)),b=a(581354),y=a(690495),C=n(a(344460)),M=a(114850),P=a(21645),_=a(417016),k=n(a(755140)),w=a(163139),S=a(180519),O=a(676345),I=a(190848),T=n(a(961745)),A=a(130756),N=n(a(124928)),D=a(931019),R=a(548360),x=n(a(667294)),L=n(a(156720));const j={avatar:{display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"pz0xruzv"},secondaryWrapper:{lineHeight:"a4ywakfo",marginTop:"qt60bha0"},contactName:{textAlign:"qfejxiq4"}};function B(e){let{contact:t,displayRequestPnButton:a}=e;const n=(0,u.default)((0,w.unproxy)(t)),f=()=>{(0,b.findChat)(t.id,"chatInfoTopCard").then((e=>{s.Cmd.openChatFromUnread(e).then((t=>{t&&d.ComposeBoxActions.focus(e)}))}))},m=!(!n.isVideoCallEnabled&&!n.isVoiceCallEnabled||N.default.isPSA(t.id))&&x.default.createElement(x.default.Fragment,null,x.default.createElement(i.default,{Icon:I.VoiceCallFilledIcon,iconWidth:19,label:R.fbt._("Audio",null,{hk:"1b375N"}),testid:"contact-action voice-call-button",xstyle:[O.uiMargin.start16,O.uiMargin.end16],disabled:!n.canStartVoiceCall,onClick:()=>{const e=t.id.isLid()?t.phoneNumber:t.id;if((0,_.shouldDisplayPhoneNumberHidingModal)(t))(0,_.displayPhoneNumberHidingModal)(t,!1);else if(null!=e){var a;null===(a=T.default.Voip)||void 0===a||a.callStart(e,!1)}}}),x.default.createElement(i.default,{Icon:c.ChatInfoVideoIcon,label:R.fbt._("Video",null,{hk:"3zMUsJ"}),testid:"contact-action video-call-button",xstyle:[O.uiMargin.start16,O.uiMargin.end16],disabled:!n.canStartVideoCall,onClick:()=>{const e=t.id.isLid()?t.phoneNumber:t.id;if((0,_.shouldDisplayPhoneNumberHidingModal)(t))(0,_.displayPhoneNumberHidingModal)(t,!0);else if(null!=e){var a;null===(a=T.default.Voip)||void 0===a||a.callStart(e,!0)}}})),g=R.fbt._("Request",null,{hk:"1Qh451"}),h=R.fbt._("Requested",null,{hk:"3GgAXn"}),v=(0,p.getCanRequestPhoneNumber)(t)?g:h,C=a&&x.default.createElement(i.default,{Icon:E.DialpadSmallIcon,iconWidth:19,label:v,xstyle:[O.uiMargin.start16,O.uiMargin.end16],disabled:!(0,p.getCanRequestPhoneNumber)(t),onClick:()=>{M.ModalManager.open(x.default.createElement(k.default,{entryPoint:A.PNH_ENTRY_POINT_TYPE.CHAT_INFO_REQUEST}))},testid:"request-phone-number-button-consumer"});let P=null;if((0,l.getABPropConfigValue)("unified_user_profile_navigation_enabled")){const e=r.ChatCollection.getActive();P=!(null==e?void 0:e.id.equals(t.id))&&x.default.createElement(i.default,{Icon:o.ChatIcon,iconWidth:19,label:R.fbt._("Message",null,{hk:"4gkjcu"}),testid:"contact-action chat-button",xstyle:[O.uiMargin.start16,O.uiMargin.end16],disabled:!1,onClick:f})}return x.default.createElement(y.FlexRow,{justify:"center",xstyle:[O.uiMargin.top8,O.uiMargin.bottom4]},C,P,m)}},928008:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e={text:c.fbt._("This is an official account of WhatsApp",null,{hk:"2Av1mT"}),title:c.fbt._("Security",null,{hk:"2jDPpv"}),onClick:()=>{(0,i.default)((0,o.formatWaChatSecurityModalText)(),(0,r.getWAChatFaqUrl)())}};return s.default.createElement(l.default,{highlightSurface:u.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,title:e.title,text:e.text,onClick:e.onClick})};var l=n(a(409558)),r=a(258105),o=a(729763),i=n(a(606037)),u=a(130756),c=a(548360),s=n(a(667294))},983345:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.contact.getStatus(),[a,n]=(0,m.useContactValues)(e.contact.id,[i.getId,c.getPhoneNumber]),{status:E}=(0,g.useModelValues)(t,["status"]),v=""===E?null:p.default.createElement(l.default,{multiline:!0},p.default.createElement(d.TextSpan,{theme:"title"},p.default.createElement(o.default,{id:a})));let b;a.isLid()?null!=n&&(b=n):b=a;const y=b?p.default.createElement(l.default,{separator:!0},p.default.createElement(u.SelectableSpan,{dir:"auto",selectable:!0},p.default.createElement(d.TextSpan,{theme:"title"},(0,f.widToFormattedUser)(b)))):null;return p.default.createElement(r.ChatInfoDrawerSection,{xstyle:h.container,titleTestId:"section-about-and-phone-number",title:s.default.t(211)},v,y)};var l=n(a(355858)),r=a(464659),o=n(a(203528)),i=a(660666),u=a(306703),c=a(714574),s=n(a(932325)),d=a(180519),f=a(931019),p=n(a(667294)),m=(n(a(156720)),a(379811)),g=a(655241);const h={container:{paddingBottom:"przvwfww"}}},463954:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t}=e,a=p.default.createElement(g,{contact:t,onClick:function(){(0,l.isBotEnabled)()&&(0,o.getId)(t).isBot()?s.ModalManager.open(p.default.createElement(r.default,null)):s.ModalManager.open(p.default.createElement(d.default,{contact:t}))}});return p.default.createElement(u.default,{xstyle:m.businessAccount},a)};var l=a(354458),r=n(a(663843)),o=a(660666),i=n(a(831269)),u=n(a(969358)),c=a(731085),s=a(114850),d=n(a(517729)),f=a(548360),p=n(a(667294));n(a(156720));const m={businessAccount:{borderTop:"mug5vpb7",fontSize:"f8jlpxt4"},businessTitleWithSMBUpsell:{lineHeight:"hzeshm6i"},bannerSvgContainer:{marginTop:"b9l0eqez",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},bannerSvg:{color:"jq3rn4u7",width:"dh5rsm73"}};function g(e){let{onClick:t,contact:a}=e;return p.default.createElement(i.default,{testid:"business-title",xstyle:m.businessTitleWithSMBUpsell,onClick:t,side:p.default.createElement(c.InfoIcon,{xstyle:m.bannerSvgContainer,iconXstyle:m.bannerSvg,displayInline:!0})},function(e){return(0,l.isBotEnabled)()&&(0,o.getId)(e).isBot()?f.fbt._("{bot_name}'s messages are generated by AI",[f.fbt._param("bot_name",(0,o.getName)(e))],{hk:"z9YtR"}):f.fbt._("This is a business account.",null,{hk:"2x8QUJ"})}(a))}},520228:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const{contact:n,onProductCatalog:F}=e,V=(0,G.useContext)(M.DrawerContext),H=(0,I.getProductCatalogSessionId)(V),U=(0,g.default)((0,D.unproxy)(e.contact));function Y(){return(Y=(0,l.default)((function*(){const e=yield(0,_.findChat)(n.id,"businessActions");(yield v.Cmd.openChatFromUnread(e))&&(P.DrawerManager.closeDrawerRight(),(0,i.btmThreadsLoggingEnabled)()&&b.ComposeBoxActions.addMsgSendingLogAttributes(e,{handleMultiple(){(0,E.handleActivitiesForChatThreadLogging)([{activityType:"profileReplies",ts:(0,r.unixTime)(),chatId:e.id}])}}))}))).apply(this,arguments)}let z;const q=f.ChatCollection.getActive();if(!(null==q?void 0:q.id.equals(n.id))){var K,X;(0,u.logMessageClick)(H,null===(K=n.businessProfile)||void 0===K?void 0:K.isProfileLinked,!!(null===(X=n.businessProfile)||void 0===X?void 0:X.coverPhoto)),z=G.default.createElement(m.default,{xstyle:R.uiMargin.horiz12,Icon:(0,o.getABPropConfigValue)("unified_user_profile_navigation_enabled")?p.ChatIcon:h.ChatMsgIcon,label:B.fbt._("Message",null,{hk:"mZ5DE"}),onClick:()=>{!function(){Y.apply(this,arguments)}()},testid:"business-action chat"})}let Z,Q,$;U.isVoiceCallEnabled&&(Z=G.default.createElement(m.default,{xstyle:R.uiMargin.horiz12,Icon:x.VoiceCallFilledIcon,label:B.fbt._("Audio",null,{hk:"rWU8D"}),disabled:!U.canStartVoiceCall,onClick:()=>{var e,t;(0,u.logVoiceCallClick)(H,null===(e=n.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=n.businessProfile)||void 0===t?void 0:t.coverPhoto));const a=n.id.isLid()?n.phoneNumber:n.id;if((0,O.shouldDisplayPhoneNumberHidingModal)(n))(0,O.displayPhoneNumberHidingModal)(n,!1);else if(null!=a){var l;null===(l=L.default.Voip)||void 0===l||l.callStart(a,!1)}},testid:"business-action voice-call"}));(null===(t=n.businessProfile)||void 0===t||null===(a=t.profileOptions)||void 0===a?void 0:a.commerceExperience)===c.COMMERCE_EXPERIENCE_TYPES.CATALOG&&(Q=G.default.createElement(m.default,{xstyle:R.uiMargin.horiz12,Icon:d.CatalogFilledIcon,label:B.fbt._("Catalog",null,{hk:"3QDkTE"}),onClick:()=>{var e,t;(0,u.logCatalogClick)(H,null===(e=n.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=n.businessProfile)||void 0===t?void 0:t.coverPhoto)),F((0,I.getProductCatalogContext)(V),"ContactInfo")},testid:"business-action catalog"}));if((0,s.hasShop)(n.businessProfile)){(0,i.bannedShopsEnabled)()&&(0,s.isShopBanned)(n.businessProfile)||($=G.default.createElement(m.default,{xstyle:R.uiMargin.horiz12,Icon:N.ShopFilledIcon,label:B.fbt._("Shop",null,{hk:"3KsdlE"}),onClick:function(){var e,t;(0,u.logShopsClick)(H,null===(e=n.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=n.businessProfile)||void 0===t?void 0:t.coverPhoto)),(0,s.goToShop)(n.businessProfile)},testid:"business-action shop"}))}const J=!(0,y.getIsIAS)(n)&&!(0,y.getId)(n).isBot()&&!(0,y.getIsCAPISupportAccount)(n)&&G.default.createElement(m.default,{xstyle:R.uiMargin.horiz12,Icon:w.ForwardFilledIcon,label:B.fbt._("Share",null,{hk:"4F3c6E"}).toString(),onClick:function(){var e,t;(0,u.logForwardClick)(H,null===(e=n.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=n.businessProfile)||void 0===t?void 0:t.coverPhoto)),S.ModalManager.open(G.default.createElement(A.SendContactsModalLoadable,{contacts:[(0,D.unproxy)(n)],onContactsSent:e=>{v.Cmd.openChatFromUnread(e).then((()=>{}))}}))},testid:"business-action forward"}),ee=B.fbt._("Request",null,{hk:"1Qh451"}),te=B.fbt._("Requested",null,{hk:"3GgAXn"}),ae=(0,y.getCanRequestPhoneNumber)(n)?ee:te,ne=e.displayRequestPnButton&&G.default.createElement(m.default,{Icon:C.DialpadSmallIcon,xstyle:R.uiMargin.horiz12,iconWidth:19,label:ae,disabled:!(0,y.getCanRequestPhoneNumber)(n),onClick:()=>{S.ModalManager.open(G.default.createElement(T.default,{entryPoint:j.PNH_ENTRY_POINT_TYPE.CHAT_INFO_REQUEST}))},testid:"request-phone-number-button-business"});return G.default.createElement(k.FlexRow,{xstyle:W.actionsRow,justify:"center"},ne,z,Z,Q,$,J)};var l=n(a(348926)),r=a(632157),o=a(287461),i=a(72696),u=a(815651),c=a(817649),s=a(542358),d=a(623282),f=a(351053),p=a(164777),m=n(a(983098)),g=n(a(9729)),h=a(174571),E=a(698867),v=a(780549),b=a(877171),y=a(660666),C=a(521332),M=a(568550),P=a(900316),_=a(581354),k=a(690495),w=a(672185),S=a(114850),O=a(417016),I=a(932523),T=n(a(755140)),A=a(340576),N=a(76104),D=a(163139),R=a(676345),x=a(190848),L=n(a(961745)),j=a(130756),B=a(548360),G=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=F(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294));n(a(156720));function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(F=function(e){return e?a:t})(e)}const W={actionsRow:{marginTop:"c46o30wg",marginEnd:"bsg2wrd4",marginBottom:"brac1wpa",marginStart:"f459d30t","@media (min-width: 1300px)":{marginStart:"hfp8519b",marginEnd:"acdu7ris"}}}},450715:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{businessHours:t,isProfileLinked:a,hasCoverPhoto:n}=e,l=(0,d.getProductCatalogSessionId)((0,g.useContext)(c.DrawerContext)),i=(0,o.getBusinessOpenState)(t),[u,s]=(0,g.useState)(!0);if(null==t)return null;const h=(0,f.getBusinessHours)(t).map((e=>{const{day:t,hours:a,first:n}=e;let l=t,r=a,c=!1;if(n)switch(i.status){case o.BUSINESS_OPEN_STATUS.OPEN_24H:l=m.fbt._("Open now",null,{hk:"28hpHy"}),r=m.fbt._("Open 24 hours",null,{hk:"1AlfF5"}),c=!0;break;case o.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:l=m.fbt._("Open now",null,{hk:"28hpHy"}),r=m.fbt._("Open by appointment only",null,{hk:"1nxH9v"}),c=!0;break;case o.BUSINESS_OPEN_STATUS.OPEN:l=m.fbt._("Open now",null,{hk:"28hpHy"}),c=!0;break;case o.BUSINESS_OPEN_STATUS.CLOSED_TODAY:r=m.fbt._("Closed",null,{hk:"3IRgct"})}return!n&&u?null:g.default.createElement(v,{day:l,dayIsOpen:c,key:t,hours:r,first:n,collapsed:u})}));return g.default.createElement(p.default,{xstyle:E.businessHours,onClick:()=>{(0,r.logHoursClick)(l,a,!!n),s(!u)},testid:"business-hours-expand"},h)};var l=n(a(363467)),r=a(815651),o=a(542358),i=a(592362),u=a(396574),c=a(568550),s=a(305521),d=a(932523),f=a(341463),p=n(a(625903)),m=a(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294));n(a(156720));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const E={businessHours:{display:"f804f6gw",width:"ln8gz9je",textAlign:"ml4r5409"}};function v(e){if(e.first){const t=g.default.createElement("div",{className:l.default.businessHoursChevron,role:"button"},g.default.createElement(i.ChevronDownAltIcon,{className:e.collapsed?"":l.default.flipSvg,displayInline:!0}));return g.default.createElement("div",{className:(0,u.classnamesConvertMeToStylexPlease)({[l.default.firstRow]:e.first,[l.default.businessHoursRow]:!0})},g.default.createElement("div",{className:(0,u.classnamesConvertMeToStylexPlease)({[l.default.dayIsOpen]:e.dayIsOpen,[l.default.businessHoursDay]:!0})},g.default.createElement(s.EmojiText,{direction:"auto",text:e.day})),g.default.createElement("div",{className:l.default.businessHoursHours},g.default.createElement(s.EmojiText,{direction:"auto",text:e.hours})),t)}return g.default.createElement("div",{className:l.default.businessHoursRow},g.default.createElement("div",{className:l.default.businessHoursDay},g.default.createElement(s.EmojiText,{direction:"auto",text:e.day})),g.default.createElement("div",{className:l.default.businessHoursHours},g.default.createElement(s.EmojiText,{direction:"auto",text:e.hours})))}},906015:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{businessProfile:t}=e,{description:a,address:n,latitude:y,longitude:M,website:P,email:_,businessHours:k,isProfileLinked:w,coverPhoto:S}=(0,b.useModelValues)(t,["description","address","latitude","longitude","website","email","businessHours","isProfileLinked","coverPhoto"]),O=(0,v.useContext)(s.DrawerContext),I=(0,g.getProductCatalogSessionId)(O);let T,A,N,D,R,x,L=a;t.id.isCAPISupportAccount()&&(L=(0,h.SupportChatDescription)().toString());null!=L&&(T=v.default.createElement("div",{className:r.default.section},v.default.createElement(f.ExpandableText,{text:L,textLimit:c.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH},(e=>{let{textLimit:t}=e;return v.default.createElement(d.EmojiText,{className:r.default.description,selectable:!0,direction:"auto",text:L,textLimit:t,ellipsify:!0,multiline:!0,inferLinesDirection:!0})}))));null!=k&&(A=v.default.createElement("div",{className:r.default.section},v.default.createElement(l.default,{businessHours:k,isProfileLinked:w,hasCoverPhoto:!!S})));null!=n&&(N=v.default.createElement("div",{className:r.default.section},v.default.createElement(d.EmojiText,{selectable:!0,direction:"auto",text:n})));null!=y&&null!=M&&(D=v.default.createElement("div",{style:{height:132},className:(0,u.classnamesConvertMeToStylexPlease)(r.default.section,r.default.map)},v.default.createElement(m.default,{lat:y,lng:M,name:n||"",width:590,height:132,onClick:()=>(0,o.logLocationClick)(I,w,!!S),testid:"business-info-map"})));null!=_&&(R=v.default.createElement("div",{className:r.default.section},v.default.createElement(p.ExternalLink,{href:`mailto:${_}`,onClick:()=>(0,o.logEmailClick)(I,w,!!S),testid:"business-info-email"},_)));null!=P&&P.length>0&&(x=v.default.createElement("div",{className:r.default.section},P.map((e=>v.default.createElement("div",{key:e},v.default.createElement(p.ExternalLink,{href:E.default.toMaliciousSiteRedirect(e),onClick:()=>(0,o.logWebsiteClick)(I,w,!!S),testid:"business-info-website"},e))))));if(null==T&&null==A&&null==N&&null==D&&null==R&&null==x)return null;return v.default.createElement(i.ChatInfoDrawerSection,{xstyle:C.container},T,A,N,D,R,x)};var l=n(a(450715)),r=n(a(850858)),o=a(815651),i=a(464659),u=a(396574),c=n(a(846870)),s=a(568550),d=a(305521),f=a(999649),p=a(753233),m=n(a(459510)),g=a(932523),h=a(666836),E=n(a(79291)),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),b=(n(a(156720)),a(655241));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const C={container:{paddingTop:"i4pc7asj",paddingBottom:"q1nnjopg"}}},766491:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{contact:a,isMessageYourselfChat:n}=e;let C,M,P;var _;null!=(null===(t=a.businessProfile)||void 0===t?void 0:t.customUrl)&&(P=f.default.createElement("div",{className:(0,p.default)(h)},f.default.createElement(o.EmojiText,{text:null===(_=a.businessProfile)||void 0===_?void 0:_.customUrl,direction:"auto",titlify:!0,breakWord:!0,inlineblock:!0})));if((0,r.getIsMe)(a))if(n)C=f.default.createElement(i.Name,{contact:a,showBusinessCheckmark:(0,r.getShowBusinessCheckmarkAsPrimary)(a),showMessageYourselfName:!0,useVerifiedName:!0,breakWord:!0,selectable:!0}),M=f.default.createElement(i.Name,{contact:a,showBusinessCheckmark:(0,r.getShowBusinessCheckmarkAsPrimary)(a),selectable:!0});else if(a.name!==a.verifiedName){let e;(0,r.getShowBusinessCheckmarkAsSecondary)(a)&&(e=f.default.createElement("div",{className:(0,p.default)(g)},f.default.createElement(u.PsaVerifiedIcon,null))),C=f.default.createElement(i.Name,{contact:a,breakWord:!0,selectable:!0}),M=f.default.createElement("div",{className:(0,p.default)(h)},f.default.createElement("div",{className:(0,p.default)(y)},f.default.createElement(o.EmojiText,{text:`~${a.verifiedName}`,className:(0,p.default)(b),direction:"auto",ellipsify:!0,titlify:!0,selectable:!0}),e))}else C=f.default.createElement(i.Name,{contact:a,showBusinessCheckmark:(0,r.getShowBusinessCheckmarkAsPrimary)(a),breakWord:!0,selectable:!0});else C=(0,r.getIsIAS)(a)||(0,r.getIsCAPISupportAccount)(a)?f.default.createElement("span",null,f.default.createElement(i.Name,{contact:a})):f.default.createElement(o.EmojiText,{text:a.verifiedName,direction:"auto",ellipsify:!0,titlify:!0,breakWord:!0,selectable:!0}),M=(0,r.getIsIAS)(a)?f.default.createElement("div",{className:(0,p.default)(h)},f.default.createElement(o.EmojiText,{text:d.fbt._("Official WhatsApp Account",null,{hk:"4oZMU1"}),direction:"auto",ellipsify:!0,titlify:!0,breakWord:!0,selectable:!0})):(0,r.getId)(a).isBot()?f.default.createElement("div",{className:(0,p.default)(E)},d.fbt._("AI",null,{hk:"2Mphpa"}),f.default.createElement(l.AiSignalIcon,{width:15,height:15,xstyle:[s.uiMargin.top2,s.uiMargin.start2]})):(0,r.getIsCAPISupportAccount)(a)?f.default.createElement("div",{className:(0,p.default)(h)},f.default.createElement(o.EmojiText,{text:(0,c.SupportChatSubtitle)(),direction:"auto",ellipsify:!0,titlify:!0,breakWord:!0,selectable:!0})):f.default.createElement("div",{className:(0,p.default)(h)},f.default.createElement(i.Name,{testid:"contact-info-subtitle",contact:a,showBusinessCheckmark:(0,r.getShowBusinessCheckmarkAsPrimary)(a),selectable:!0}));return f.default.createElement("div",{className:(0,p.default)(m)},f.default.createElement("div",{className:(0,p.default)(v)},C),M,P)};var l=a(893716),r=a(660666),o=a(305521),i=a(21645),u=a(376355),c=a(666836),s=a(676345),d=a(548360),f=n(a(667294)),p=n(a(156720));const m={marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"},g={display:"ew8mgplc",marginTop:"o9i7y497",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"k6y3xtnu"},h={color:"p6nhtbpp",fontSize:"enbbiyaj",lineHeight:"tkq7s68q",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"inww9tbj",marginStart:"svoq16ka"},E={color:"p6nhtbpp",fontSize:"enbbiyaj",lineHeight:"tkq7s68q",display:"p357zi0d",justifyContent:"ac2vgrno"},v={fontSize:"iqrewfee",fontWeight:"sy6s5v3r",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"or9x5nie",marginStart:"svoq16ka"},b={flexGrow:"tvf2evcx"},y={display:"p357zi0d",justifyContent:"ac2vgrno"}},449397:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessOpenHours=function(e){const{hours:t}=e,a=function(e){switch(e.status){case r.BUSINESS_OPEN_STATUS.OPEN_24H:return i.fbt._("{open} 24 hours",[i.fbt._param("open",`<span class="${(0,c.default)(d)}">${i.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"1aA6f9"});case r.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:return i.fbt._("{open} by appointment only",[i.fbt._param("open",`<span class="${(0,c.default)(d)}">${i.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"z8CGT"});case r.BUSINESS_OPEN_STATUS.OPEN:if(e.openUntil&&e.additionalOpen&&e.additionalClose)return i.fbt._("{open} until {time}, {additionalOpenTime} - {additionalCloseTime}",[i.fbt._param("open",`<span class="${(0,c.default)(d)}">${i.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),i.fbt._param("time",p(e.openUntil)),i.fbt._param("additionalOpenTime",p(e.additionalOpen)),i.fbt._param("additionalCloseTime",p(e.additionalClose))],{hk:"2dJgLQ"});if(e.openUntil)return i.fbt._("{open} until {time}",[i.fbt._param("open",`<span class="${(0,c.default)(d)}">${i.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),i.fbt._param("time",p(e.openUntil))],{hk:"3Dd8an"});break;case r.BUSINESS_OPEN_STATUS.CLOSED:return e.opensAt?i.fbt._("{closed}, opens at {time}",[i.fbt._param("closed",`<span class="${(0,c.default)(s)}">${i.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`),i.fbt._param("time",p(e.opensAt))],{hk:"LvVmY"}):`<span class="${(0,c.default)(s)}">${i.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`;case r.BUSINESS_OPEN_STATUS.CLOSED_TODAY:return`<span class="${(0,c.default)(s)}">${i.fbt._("Closed today",null,{hk:"3uCCvH"}).toString()}</span>`}return null}((0,r.getBusinessOpenState)(t));if(null==a)return null;const n=l.default.sanitize(a.toString());return u.default.createElement("div",{className:(0,c.default)(f),dangerouslySetInnerHTML:{__html:n}})};var l=n(a(724843)),r=a(542358),o=n(a(932325)),i=a(548360),u=n(a(667294)),c=n(a(156720));const s={color:"mvxzr2tb"},d={color:"j5au4wul"},f={color:"sbs3osm6",fontSize:"f8jlpxt4",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"g105fvfm",marginStart:"svoq16ka"};function p(e){return null==e?"":e.toLocaleTimeString(o.default.getLocale(),{hour:"numeric",minute:"2-digit"})}},745309:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessProfile=function(e){const{contact:t}=e,[a,n,l,u]=(0,D.useContactValues)(e.contact.id,[g.getId,g.getVerifiedLevel,g.getName,g.getVerifiedName]),s=(0,R.useModelValues)(e.businessProfile,["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]);(0,N.useEffect)((()=>{new I.ViewBusinessProfileWamEvent({viewBusinessProfileAction:T.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION}).commit()}),[]);const f=N.default.createElement(L,{contact:t});let p,h,C,P,_,k;const w=s;if(w.stale)p=N.default.createElement("div",{className:c.default.contactBusinessInfoSpinner},N.default.createElement(O.Spinner,{size:20,stroke:5}));else{var A;h=(null===(A=w.categories)||void 0===A?void 0:A.length)?N.default.createElement(F,{icon:N.default.createElement(r.BusinessCategoryIcon,null)},N.default.createElement(v.EmojiText,{selectable:!0,direction:"auto",text:w.categories.map((e=>e.localized_display_name)).join(M.default.t(253))})):null,C=w.description?N.default.createElement(F,{icon:N.default.createElement(o.BusinessDescriptionIcon,null)},N.default.createElement(b.ExpandableText,{text:w.description,textLimit:m.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH},(e=>{let{textLimit:t}=e;return N.default.createElement(v.EmojiText,{selectable:!0,direction:"auto",breakWord:!0,text:w.description,textLimit:t})}))):null,w.website&&Array.isArray(w.website)&&w.website.length&&(P=w.website.map(((e,t)=>{const a=(0,S.getWebsiteLink)(e),n=N.default.createElement(v.EmojiText,{selectable:!0,direction:"auto",text:e}),l=N.default.createElement(y.ExternalLink,{className:c.default.link,href:a},n);return N.default.createElement(F,{icon:N.default.createElement(d.BusinessWebsiteIcon,null),key:t},l)}))),w.businessHours&&(_=N.default.createElement(j,{businessHours:w.businessHours}));const e=w.email;if(e){const t=N.default.createElement(v.EmojiText,{selectable:!0,direction:"auto",text:e}),a=N.default.createElement(y.ExternalLink,{className:c.default.link,href:`mailto:${e}`},t);k=N.default.createElement(F,{icon:N.default.createElement(i.BusinessEmailIcon,null),dir:"auto"},a)}}const x=void 0!==w.latitude&&void 0!==w.longitude||w.structuredAddress;let B;(p||x||h||C||null!=_||k||P)&&(B=N.default.createElement(E.default,{theme:"padding"},N.default.createElement("div",{className:c.default.contactBusinessInfo},p,N.default.createElement(G,{contactName:l,latitude:w.latitude,longitude:w.longitude,structuredAddress:w.structuredAddress}),h,C,_,k,P)));return N.default.createElement(N.default.Fragment,null,N.default.createElement(E.default,null,f),B)};var l=a(115888),r=a(624573),o=a(718620),i=a(423082),u=a(675305),c=n(a(161160)),s=a(817649),d=a(36409),f=a(592362),p=a(396574),m=n(a(846870)),g=a(660666),h=n(a(831269)),E=n(a(969358)),v=a(305521),b=a(999649),y=a(753233),C=a(731085),M=n(a(932325)),P=n(a(459510)),_=a(300987),k=a(114850),w=n(a(517729)),S=a(341463),O=a(956113),I=a(875302),T=a(130756),A=a(548360),N=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),D=a(379811),R=a(655241);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function L(e){let{contact:t}=e;const a=t.verifiedLevel===s.VERIFIED_LEVEL.HIGH?A.fbt._("Official business account",null,{hk:"1KruJ"}):A.fbt._("Business account",null,{hk:"2lzdAg"});return N.default.createElement(h.default,{testid:"business-title",onClick:k.ModalManager.open(N.default.createElement(w.default,{contact:t})),side:N.default.createElement(C.InfoIcon,{className:c.default.infoIcon,displayInline:!0})},a)}function j(e){let{businessHours:t}=e;const[a,n]=(0,N.useState)(!0),l=(0,S.getBusinessHours)(t).map((e=>{const{day:t,hours:n,first:l}=e;return!l&&a?null:N.default.createElement(B,{day:t,key:t,hours:n,first:l,collapsed:a})}));return N.default.createElement(F,{icon:N.default.createElement(u.BusinessHoursIcon,null),onClick:()=>n(!a)},l)}const B=e=>{const t=e.first?N.default.createElement("div",{className:c.default.businessHoursChevron,role:"button"},N.default.createElement(f.ChevronDownAltIcon,{className:e.collapsed?"":c.default.flipSvg,displayInline:!0})):null;return N.default.createElement("div",{className:c.default.businessHoursRow},N.default.createElement("div",{className:c.default.businessHoursDay},N.default.createElement(v.EmojiText,{direction:"auto",text:e.day})),N.default.createElement("div",{className:c.default.businessHoursHours},N.default.createElement(v.EmojiText,{direction:"auto",text:e.hours})),t)};const G=e=>{let{contactName:t,latitude:a,longitude:n,structuredAddress:r}=e;const o=r?function(e){const{streetAddress:t,localizedCityName:a,zipCode:n}=e;return t&&a&&n?A.fbt._("{streetAddress}, {city} {zipCode}",[A.fbt._param("streetAddress",t),A.fbt._param("city",a),A.fbt._param("zipCode",n)],{hk:"1McVXv"}).toString():t&&a?A.fbt._("{streetAddress}, {city}",[A.fbt._param("streetAddress",t),A.fbt._param("city",a)],{hk:"1zyKhk"}).toString():t}(r):null;let i,u;if(null!=a&&null!=n&&(i=N.default.createElement("div",{style:{height:150},className:c.default.businessMap},N.default.createElement(P.default,{lat:a,lng:n,name:o||t,width:565,height:150}))),o){let e;e=null!=a&&null!=n?(0,_.getMapUrl)(a,n,o):(0,_.getSearchUrl)(o),u=N.default.createElement("div",{className:c.default.address},N.default.createElement(y.ExternalLink,{href:e},N.default.createElement(v.EmojiText,{selectable:!0,direction:"auto",text:o})))}return u||i?N.default.createElement(F,{icon:N.default.createElement(l.BusinessAddressIcon,null)},u,i):null},F=e=>N.default.createElement("div",{className:(0,p.classnamesConvertMeToStylexPlease)(c.default.dataRow,e.className),onClick:e.onClick},N.default.createElement("div",{className:c.default.dataRowIcon},e.icon),N.default.createElement("div",{className:c.default.dataRowText},e.children))},718796:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,businessProfile:a,onOpenStatus:n,onProductCatalog:E,onProfilePicLoad:v,onProfilePicClick:b,isMessageYourselfChat:y,isPhoneNumberHidden:C}=e;const{businessHours:M,categories:P}=(0,m.useModelValues)(a,["businessHours","categories"]),_=f.default.createElement(r.default,{contact:t,isMessageYourselfChat:y});let k;!(0,u.getIsIAS)(t)&&!(0,u.getIsCAPISupportAccount)(t)&&!(0,u.getId)(t).isBot()&&null!=P&&P.length>0&&(k=f.default.createElement("div",{className:(0,p.default)(h)},P.map((e=>e.localized_display_name)).join(d.default.t(252))));const w=M?f.default.createElement(o.BusinessOpenHours,{hours:M}):null,S=t.businessProfile?f.default.createElement(i.default,{contact:t,businessProfile:t.businessProfile,onClick:b,onOpenStatus:n,onLoad:v}):null;return f.default.createElement(s.default,{theme:"padding-no-margin"},S,f.default.createElement("div",{className:(0,p.default)(g)},_,C&&f.default.createElement(c.default,null),k,w,f.default.createElement(l.default,{contact:t,onProductCatalog:E,displayRequestPnButton:C})))};var l=n(a(520228)),r=n(a(766491)),o=a(449397),i=n(a(411019)),u=a(660666),c=n(a(836513)),s=n(a(969358)),d=n(a(932325)),f=n(a(667294)),p=n(a(156720)),m=a(655241);const g={textAlign:"qfejxiq4"},h={marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"brac1wpa",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6",lineHeight:"jgi8eev7"}},466488:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClick:t,parentGroupMetadata:a,parentGroupChat:n}=e;const{subgroupCount:v}=(0,h.default)(a),{name:b}=(0,E.useModelValues)(n.contact,["name"]),y=(0,r.isIntegritySuspendedCommunity)(n);(0,g.useEffect)((()=>{(0,d.queryAndUpdateSubgroupsMetadata)(a.id,a.joinedSubgroups)}),[]);const C=m.fbt._("Community",null,{hk:"2P4Qwb"});return g.default.createElement(u.default,{theme:"no-padding"},g.default.createElement(l.default,{testid:"group-info-community-section",image:g.default.createElement(i.DetailImage,{id:a.id,shape:i.DetailImageShape.Squircle,size:60}),primary:g.default.createElement(c.EmojiText,{text:b,ellipsify:!0}),onClick:t,theme:"community-home",secondary:g.default.createElement(p.TextSpan,{size:"16",color:"secondary"},C,y?null:g.default.createElement(g.default.Fragment,null,s.default.isRTL()?" - ":" · ",m.fbt._({"*":"{count} Groups",_1:"1 Group"},[m.fbt._plural(v,"count")],{hk:"38FdVG"}))),detail:g.default.createElement(o.ChevronRightAltIcon,{color:f.SvgColorProp.SECONDARY,directional:!0}),focusable:!0}))};var l=n(a(170206)),r=a(394164),o=a(647276),i=a(23641),u=n(a(969358)),c=a(305521),s=n(a(932325)),d=a(510900),f=a(220584),p=a(180519),m=a(548360),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),h=n(a(847116)),E=a(655241);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}},483828:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t,groupMetadata:a}=e;const{id:n,parentGroup:A,isUnnamed:N}=(0,O.useModelValues)(a,["id","parentGroup","isUnnamed"]),D=(0,S.default)(a.participants,"change:isAdmin",(()=>a.participants.iAmAdmin())),R=(0,S.default)(a.participants,["bulk_add","bulk_remove","reset"],(()=>a.participants.length)),x=(0,i.getABPropConfigValue)("parent_group_min_participants_for_group_entry_point"),L=(0,I.default)();if(!(0,d.communitiesEnabled)()||!D||null!=A||R<x||a.groupType===h.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)return null;const j=()=>{m.DrawerManager.openDrawerLeft(w.default.createElement(y.NewCommunityFlowLoadable,{existingGroups:[n]}),{focusType:E.FocusType.TABBABLE}),s.UiCommunityCreationAction.startSession(_.COMMUNITY_CREATION_ENTRYPOINT_TYPE.GROUP_INFO),s.UiCommunityCreationAction.enter(_.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.GROUP_INFO)},B=function(){var e=(0,l.default)((function*(e){yield(0,o.default)((0,C.setGroupSubject)(t,e),L).catch((0,r.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`name_group_modal:onSetSubject failed`})),v.ModalManager.close(),j()}));return function(){return e.apply(this,arguments)}}(),G=()=>{v.ModalManager.open(w.default.createElement(p.ConfirmPopup,{onOK:()=>v.ModalManager.close(),okText:k.fbt._("OK",null,{hk:"4oTrfy"})},k.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})))};return w.default.createElement(g.default,{theme:"no-padding"},w.default.createElement(u.default,{testid:"group-info-create-community-section",image:w.default.createElement(f.CommunitySquircleIcon,{iconXstyle:T.communitySquircle,width:40,height:40}),primary:w.default.createElement(P.TextSpan,{size:"16"},k.fbt._("Start a community",null,{hk:"2hSyE2"})),onClick:()=>{if(N){var e,a;const n=k.fbt._("This group was created without a name. Give it a name to create a community.",null,{hk:"2BkS8"});v.ModalManager.open(w.default.createElement(b.default,{chat:t,subtext:n,onCancel:()=>v.ModalManager.close(),onOK:B,editable:null===(e=t.groupMetadata)||void 0===e?void 0:e.canSetSubject(),editRestrictionInfo:(null===(a=t.groupMetadata)||void 0===a?void 0:a.restrict)?G:void 0}))}else j()},theme:"community-create",secondary:w.default.createElement(P.TextSpan,{size:"14",color:"secondary"},k.fbt._("Bring members together in topic-based groups",null,{hk:"4mplI5"})),detail:w.default.createElement(c.ChevronRightAltIcon,{color:M.SvgColorProp.SECONDARY,directional:!0}),focusable:!0}))};var l=n(a(348926)),r=a(898817),o=n(a(229922)),i=a(287461),u=n(a(170206)),c=a(647276),s=a(440067),d=a(174834),f=a(247365),p=a(103440),m=a(900316),g=n(a(969358)),h=a(862159),E=a(299950),v=a(114850),b=n(a(550506)),y=a(219548),C=a(470824),M=a(220584),P=a(180519),_=a(130756),k=a(548360),w=n(a(667294)),S=(n(a(156720)),n(a(524578))),O=a(655241),I=n(a(895851));const T={communitySquircle:{color:"fsk8o631"}}},20864:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t}=e,a=(0,s.useOptionalModelValues)(t.groupMetadata,["groupType"]);let n;n=(0,r.communitiesEnabled)()&&(null==a?void 0:a.groupType)===o.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?u.default.createElement("div",{className:(0,c.default)(d)},i.fbt._("",null,{hk:"4kc4Kr"})):i.fbt._("Add group description",null,{hk:"BVsoQ"});return u.default.createElement(l.default,{chat:e.chat,showFullDescription:e.showFullDescription,editRestrictionText:i.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"}),testid:"group-info-drawer-description-title-input",containerTestId:"group-info-drawer-description-container",emptyValuePlaceholder:n})};var l=n(a(707655)),r=a(174834),o=a(862159),i=a(548360),u=n(a(667294)),c=n(a(156720)),s=a(655241);const d={color:"tviruh8d",fontSize:"enbbiyaj"}},941943:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(287461),r=a(738501),o=a(374660),i=n(a(306007)),u=a(464659),c=n(a(740681)),s=a(998123),d=a(174834),f=a(359198),p=a(692310),m=a(660666),g=n(a(908081)),h=n(a(324093)),E=a(626194),v=n(a(969358)),b=n(a(209064)),y=n(a(409558)),C=a(71957),M=n(a(570834)),P=a(714574),_=n(a(466488)),k=n(a(483828)),w=n(a(20864)),S=n(a(299723)),O=a(767140),I=a(951688),T=n(a(453090)),A=a(503028),N=n(a(483447)),D=a(862159),R=a(95576),x=a(97858),L=a(114850),j=n(a(832897)),B=a(111367),G=a(962647),F=a(126671),W=n(a(634152)),V=a(227341),H=a(163139),U=a(428991),Y=a(983271),z=a(220584),q=a(180519),K=a(382117),X=a(676345),Z=n(a(571256)),Q=a(130756),$=a(869513),J=a(818674),ee=a(609392),te=a(548360),ae=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=de(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),ne=n(a(156720)),le=a(379811),re=n(a(401715)),oe=n(a(969651)),ie=n(a(637660)),ue=a(808446),ce=a(655241),se=n(a(321201));function de(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(de=function(e){return e?a:t})(e)}const fe={body:{flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},announcementGroupDisclaimer:{textAlign:"ljrqcn24",paddingTop:"n1yiu2zv",paddingBottom:"jd93c9cp",paddingEnd:"bcymb0na",paddingStart:"e8k79tju",lineHeight:"jgi8eev7",wordBreak:"cw3vfol9"},lastSectionRow:{marginBottom:"brac1wpa"}};function pe(e,t){var a,n,de;const{onVerification:pe,onClose:me}=e,ge=(0,se.default)(),he=(0,oe.default)(),Ee=(0,re.default)(),ve=(0,ce.useModelValues)(e.chat,["mute","id","pendingAction","groupMetadata"]),be=(0,ce.useModelValues)(e.groupMetadata,["id","reportToAdminMode","cachedDeviceCount","cachedDeviceSizeBucket","participants","parentGroup","pendingParticipants","announce","support","incognito","groupType","restrict","isIncognitoCag","defaultSubgroup"]),[ye,Ce,Me]=(0,le.useContactValues)(e.contact.id,[m.getName,m.getId,P.getPendingAction]),Pe=be.groupType===D.GroupType.DEFAULT_ANNOUNCEMENT_GROUP,_e=(0,ie.default)((()=>new K.UiActionWamEvent({uiActionType:Pe?Q.UI_ACTION_TYPE.DEFAULT_SUBGROUP_INFO_OPEN:Q.UI_ACTION_TYPE.GROUP_INFO_OPEN,uiActionPreloaded:!0,isLid:be.isIncognitoCag}))),ke=(0,ie.default)((()=>new M.default)),we=(0,ie.default)((()=>new M.default)),Se=(0,ae.useRef)(null);(0,ue.useListener)(be.participants,["bulk_add","bulk_remove","reset","sort","change:isAdmin","change:isSuperAdmin"],he),(0,ue.useListener)(be.pendingParticipants,["add","remove","reset"],he);const Oe=()=>{var e;const t=null===(e=be.getParentGroupChat())||void 0===e?void 0:e.formattedTitle;(0,p.groupOpenAddParticipantFlow)(be,ve,t)},Ie=()=>{L.ModalManager.open(ae.default.createElement(b.default,{chat:ve,chatId:ve.id,e2eSubtype:"info_encrypted"}))};let Te;if((0,ae.useEffect)((()=>{if((0,o.isIntegritySuspendedDefaultSubgroup)(ve)?(0,U.openTerminatedCommunityModal)():(0,o.isTerminatedGroupOrNotMember)(ve)?(0,o.isSupportGroup)(ve)||((0,x.isGroupSuspendV2Enabled)()?(0,Y.openSuspendedGroupModalV2)(ve):(0,Y.openTerminatedGroupOrNotMemberModal)()):(0,o.isSuspendedGroup)(ve)&&((0,x.isGroupSuspendV2Enabled)()?(0,Y.openSuspendedGroupModalV2)(ve):(0,Y.openSuspendedGroupModal)(!0===(0,o.shouldIncludeEntityIdInAppealRequest)()?be.id.user.toString():null)),be.groupType!==D.GroupType.DEFAULT){new f.CommunityGroupJourneyEvent({action:Q.CHAT_FILTER_ACTION_TYPES.VIEW,surface:Q.SURFACE_TYPE.GROUP_INFO,chat:ve}).commit()}}),[]),(0,ae.useEffect)((()=>{be.participants.ensureSorted();be.pendingParticipants.ensureSorted()})),(0,ae.useEffect)((()=>{const e=_e.current;if(e){const t=be.cachedDeviceSizeBucket;null!=t&&(e.sizeBucket=t),Object.assign(e,(0,$.getGroupCountMetricsFromGroupMetadata)((0,H.unproxy)(be))),e.markUiActionT(),e.commit(),_e.current=void 0}(0,J.logUiActionShadowPrivateStatsTestEvents)()}),[]),be.canSetGroupProperty()){const t=ae.default.createElement(q.TextSpan,{theme:"title"},te.fbt._("Group settings",null,{hk:"3sS0Vl"})),a=ae.default.createElement(F.SettingsIcon,{color:z.SvgColorProp.SECONDARY,height:17});Te=ae.default.createElement(i.default,{testid:"group-settings-row",side:"chevron",icon:a,onClick:e.onAdminSetting,title:t,spaced:!0})}let Ae=null;!(0,o.isSuspendedGroup)(ve)&&e.onMediaGallery&&(Ae=ae.default.createElement(c.default,{onMediaGallery:e.onMediaGallery,chat:(0,H.unproxy)(ve)}));const Ne=ve&&(0,r.shouldShowEphemeralSetting)(ve)?ae.default.createElement(C.EphemeralSettingRow,{onClick:e.onEphemeral,chat:ve,groupMetadata:be,testid:"contact-info-dm-setting-row"}):null;let De=null;if((0,d.communitiesEnabled)()&&ve&&be.parentGroup&&be.participants.iAmMember()){const t=be.getParentGroupChat();(null==t?void 0:t.groupMetadata)&&(De=ae.default.createElement(_.default,{onClick:()=>{var t;null===(t=e.onCommunityClick)||void 0===t||t.call(e)},parentGroupMetadata:t.groupMetadata,parentGroupChat:t}))}let Re=null;Re=ae.default.createElement(y.default,{highlightSurface:Q.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_GROUP,onClick:()=>(0,B.showEncryptionInfoPopup)(ve),text:Z.default.isGroupCallEnabled()?te.fbt._("Messages and calls are end-to-end encrypted. Click to learn more.",null,{hk:"1l9pwW"}):te.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"2MtPh9"}),spaced:!0}),(0,o.isSupportGroup)(ve)&&(Re=ae.default.createElement(N.default,{onClick:Ie,spaced:!0}));const xe=ve.mute.canMute()?ae.default.createElement(j.default,{chat:ve,mute:ve.mute,settings:W.default}):null;let Le,je=null;if(!(0,o.isSuspendedGroup)(ve)&&e.onStarred){const t=ae.default.createElement(q.TextSpan,{theme:"title",size:"16"},te.fbt._("Starred messages",null,{hk:"4wVbNG"})),a=ae.default.createElement(V.StarIcon,{color:z.SvgColorProp.SECONDARY,height:20});je=ae.default.createElement(u.ChatInfoDrawerSection,{titleTestId:"section-starred-messages",xstyle:X.uiPadding.horiz0},ae.default.createElement(i.default,{testid:"block-starred-messages",side:"chevron",icon:a,onClick:e.onStarred,title:t,spaced:!0}))}if(ve.hasKeptMsgs()||(0,r.isEphemeralSettingOn)(ve)){const t=ae.default.createElement(q.TextSpan,{theme:"title",size:"16"},te.fbt._("Kept Messages",null,{hk:"41CBIy"})),a=be.restrict?ae.default.createElement(q.TextDiv,{theme:"muted"},te.fbt._("Only admins can keep or unkeep messages in this group.",null,{hk:"2Uhjiy"})):null,n=ae.default.createElement(R.KeepInChatIcon,{color:z.SvgColorProp.SECONDARY,height:20});Le=ae.default.createElement(u.ChatInfoDrawerSection,{titleTestId:"section-kept-messages",xstyle:[fe.lastSectionRow,X.uiPadding.horiz0]},ae.default.createElement(i.default,{testid:"block-kept-messages",side:"chevron",icon:n,onClick:e.onKept,title:t,secondaryTitle:a,spaced:!0}))}const Be=(0,G.isReactionsEnabledInCAG)(ve)?ae.default.createElement(s.PhoneNumberVisibilityIndicatorCag,{chat:ve}):null,Ge=(0,l.getABPropConfigValue)("report_to_admin_kill_switch")&&be.reportToAdminMode&&be.canSetGroupProperty()?ae.default.createElement(i.default,{testid:"block-rta-messages",side:"chevron",icon:ae.default.createElement(ee.WarningIcon,{color:z.SvgColorProp.SECONDARY,height:16}),onClick:e.onSentForAdminReview,title:ae.default.createElement(q.TextSpan,{theme:"title",size:"16"},te.fbt._("Sent for admin review",null,{hk:"2gzsHo"})),spaced:!0}):null;let Fe=null;(xe||Re||Ne)&&(Fe=ae.default.createElement(u.ChatInfoDrawerSection,{xstyle:[fe.lastSectionRow,X.uiPadding.horiz0]},xe,Ne,Ge,Re,Te,Be));const We=ae.default.createElement(S.default,{chat:(0,H.unproxy)(ve)}),Ve={surface:"group-info-drawer",extras:{groupSize:be.participants.length,typeOfGroup:(0,D.groupTypeToWamEnum)((0,D.getGroupTypeFromGroupMetadata)((0,H.unproxy)(be)))}},He=Boolean(null===(a=ve.groupMetadata)||void 0===a?void 0:a.isIncognitoCag)&&!(null===(n=ve.groupMetadata)||void 0===n||null===(de=n.participants)||void 0===de?void 0:de.iAmAdmin())?ae.default.createElement(v.default,{theme:"transparent",shadow:!1},ae.default.createElement(q.TextParagraph,{xstyle:fe.announcementGroupDisclaimer,color:"secondary"},te.fbt._("Only admins can see all participants in this group",null,{hk:"39jP44"}))):null;return ae.default.createElement("div",{role:"complementary",ref:Ee,tabIndex:"-1","aria-label":te.fbt._("Group Info",null,{hk:"3P80cG"})},ae.default.createElement(g.default,{ref:t,key:"contact-info-modal",theme:"striped",testid:"chat-info-drawer",tsNavigationData:Ve},ae.default.createElement(E.DrawerHeader,{title:te.fbt._("Group info",null,{hk:"2SfTUZ"}),type:E.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{me?me():null==ge||ge.requestDismiss()},testid:"group-info-header"}),ae.default.createElement(h.default,null,ae.default.createElement("section",{className:(0,ne.default)(fe.body)},ae.default.createElement(T.default,{chat:(0,H.unproxy)(ve),onAdminSetting:e.onAdminSetting,onAddParticipant:Oe,onClickParticipantsCount:()=>{var e;null===(e=Se.current)||void 0===e||e.scrollIntoView()}}),De,ae.default.createElement(w.default,{chat:(0,H.unproxy)(ve),showFullDescription:e.showFullGroupDescription}),Ae,je,Le,Fe,undefined,ae.default.createElement(k.default,{chat:ve,groupMetadata:be}),ae.default.createElement(O.GroupInfoParticipantsSection,{ref:Se,chat:(0,H.unproxy)(ve),scrollToParticipantList:e.scrollToParticipantList,flatListController:ke.current,onAddParticipant:Oe,onOpenParticipantSearch:e=>{L.ModalManager.open(ae.default.createElement(A.GroupParticipantsFlow,{chat:(0,H.unproxy)(ve),onVerification:pe,initialStep:e}),{transition:"modal-flow"})},onGroupInviteLink:e.onGroupInviteLink,onPendingParticipants:e.onPendingParticipants,onVerification:e.onVerification}),He,ae.default.createElement(I.GroupInfoPendingParticipantsSection,{chat:(0,H.unproxy)(ve),flatListController:we.current}),We))))}var me=(0,ae.forwardRef)(pe);t.default=me},299723:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{chat:a}=e;const{participants:n,parentGroup:o}=null!==(t=(0,_.useOptionalModelValues)(a.groupMetadata,["parentGroup","participants"]))&&void 0!==t?t:{},u=(null==n?void 0:n.iAmAdmin())&&(0,l.isCommunityAnnouncementGroup)(a),c=C.default.createElement(O,{chat:a}),s=(0,l.isTerminatedGroup)(a)?null:C.default.createElement(S,{chat:a,showAdditionalAction:!u}),d=!(0,i.communitiesEnabled)()||(0,l.isCommunityAnnouncementGroup)(a)||null==o?null:C.default.createElement(I,{chat:a,parentGroup:o});return C.default.createElement(r.ChatInfoDrawerButtonsSection,null,d,c,s)};var l=a(374660),r=a(464659),o=a(780549),i=a(174834),u=a(493678),c=a(36045),s=a(90989),d=n(a(667845)),f=a(736371),p=a(97858),m=a(114850),g=n(a(338695)),h=a(383296),E=a(453603),v=a(983271),b=a(21698),y=a(548360),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),M=n(a(847116)),P=n(a(524578)),_=a(655241),k=n(a(895851));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function S(e){let{chat:t,showAdditionalAction:a}=e;return C.default.createElement(c.DrawerButton,{testid:"li-report-spam",color:"danger",icon:C.default.createElement(b.ThumbsDownIcon,null),theme:"chat-info",onClick:()=>{m.ModalManager.open(C.default.createElement(g.default,{isMessage:!1,isGroupChat:!0,showAdditionalActionCheckbox:a,onReport:()=>{(0,h.sendReport)({chat:t,spamFlow:E.SpamFlow.GroupInfoReport}),m.ModalManager.close()},onReportExitClear:()=>{(0,h.sendSpamExitClear)(t,E.SpamFlow.GroupInfoReport),m.ModalManager.close()},onCancel:()=>m.ModalManager.close()}))}},y.fbt._("Report group",null,{hk:"23NLqw"}))}function O(e){const t=()=>{(0,v.openExitAndDeleteGroupModal)(e.chat)},a=(0,_.useModelValues)(e.chat,["isReadOnly"]);let n,r=()=>{var t;const a=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.getParentGroupChat();null!=a&&(0,l.isCommunityAnnouncementGroup)(e.chat)&&(0,i.communityAnnouncementImprovementM3Enabled)()?m.ModalManager.open(C.default.createElement(f.LeaveCommunityModal,{chat:a})):o.Cmd.deleteOrExitChat(e.chat)};return a.isReadOnly?n=y.fbt._("Delete group",null,{hk:"2MKJYs"}):!(0,l.isCommunityAnnouncementGroup)(a)&&(0,l.isSuspendedGroup)(a)&&(0,p.isGroupSuspendV2Enabled)()?(n=y.fbt._("Exit group and delete",null,{hk:"1Szubg"}),r=t):n=(0,l.isCommunityAnnouncementGroup)(a)&&(0,i.communityAnnouncementImprovementM3Enabled)()?y.fbt._("Exit community",null,{hk:"3KaKZa"}):y.fbt._("Exit group",null,{hk:"3EOkxm"}),C.default.createElement(c.DrawerButton,{testid:"li-delete-group",icon:C.default.createElement(s.ExitIcon,{directional:!0}),color:"danger",theme:"chat-info",onClick:r},n)}function I(e){let{chat:t,parentGroup:a}=e;const n=(0,k.default)(),{groupMetadata:l,isReadOnly:r,id:o,formattedTitle:i}=(0,_.useModelValues)(t,["groupMetadata","isReadOnly","id","formattedTitle"]),f=d.default.get(a.toString()),p=Boolean((0,P.default)(null==f?void 0:f.participants,["bulk_add","bulk_remove"],(()=>null==f?void 0:f.participants.iAmAdmin()))),m=Boolean((0,P.default)(null==l?void 0:l.participants,["bulk_add","bulk_remove"],(()=>null==l?void 0:l.participants.iAmAdmin()))),{joinedSubgroups:g,unjoinedSubgroups:h,subgroupCount:E}=(0,M.default)(f),[v,b]=(0,C.useState)(!1);if(r||null==g||null==h||!p&&!m)return null;return C.default.createElement(c.DrawerButton,{testid:"li-remove-group-from-community",icon:C.default.createElement(s.ExitIcon,{directional:!0}),disabled:v,color:"danger",theme:"chat-info",onClick:()=>{v||n.aborted||((0,u.handleRemoveSubgroup)({parentId:a,currentSubgroupCount:E,removedSubgroupWid:o,removedSubgroupTitle:i,setLoading:b,iAmCommunityAdmin:p}),n.aborted)}},y.fbt._("Remove from community",null,{hk:"3xZmj5"}))}},767140:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupInfoParticipantsSection=void 0;var l=n(a(670983)),r=a(632157),o=a(287461),i=a(414268),u=a(72696),c=n(a(170206)),s=a(374660),d=a(464659),f=n(a(831584)),p=n(a(314810)),m=a(698867),g=a(780549),h=a(474103),E=a(174834),v=a(877171),b=a(103440),y=a(660666),C=a(465113),M=a(675085),P=a(235630),_=a(305521),k=a(581354),w=a(512938),S=a(714574),O=a(503028),I=a(862159),T=n(a(932325)),A=a(972989),N=a(963950),D=a(114850),R=a(33014),x=a(164406),L=a(197988),j=a(507877),B=a(12792),G=n(a(671401)),F=n(a(802211)),W=a(46351),V=n(a(237889)),H=a(163139),U=a(220584),Y=a(533426),z=a(392632),q=n(a(37875)),K=a(459857),X=a(788271),Z=n(a(124928)),Q=a(548360),$=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=le(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),J=(n(a(156720)),n(a(524578))),ee=n(a(969651)),te=n(a(637660)),ae=a(808446),ne=a(655241);function le(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(le=function(e){return e?a:t})(e)}const re={pendingParticipantsIcon:{backgroundColor:"k6px2m13",color:"cwwc04gk"}};function oe(e){let{data:t,participants:a,handleParticipantClick:n,menuEnabled:l,handleParticipantMenu:r,contextMenu:o,active:i,elevatedPushNamesEnabled:u=!1}=e;const{id:c}=t,s=a.get(c);if(!s)throw new w.UnknownDataError(t);const d=s.contact,f=!!o&&Z.default.equals(d.id,o.contactId);return $.default.createElement(p.default,{active:i,contact:d,participant:s,key:s.id.toString(),onClick:n,contextEnabled:()=>l(d),contextMenu:f,onContext:e=>r(e,d),theme:"chat-info",showNotifyName:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0,participantCollection:a,elevatedPushNamesEnabled:u})}const ie=(0,$.forwardRef)(((e,t)=>{var a;const n=(0,ne.useModelValues)((0,l.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["support","size","id","membershipApprovalMode","membershipApprovalRequests","isUnnamed","isLidAddressingMode","participants"]),{membershipApprovalMode:p,membershipApprovalRequests:w}=n,Z=(0,te.default)((()=>new V.default([],(e=>e.id.toString())))),le=(0,l.default)(e.chat.groupMetadata,"props.chat.groupMetadata").participants;let ie=le.toArray();(0,h.hideCagMaskedParticipants)()&&!0!==n.isLidAddressingMode&&(ie=le.filter((e=>{let{id:t}=e;return(0,K.isMeAccount)(t)||!t.isLid()})));const ce=(0,s.getGroupParticipantsCount)(n),se=(0,ee.default)();(0,ae.useListener)(le,"bulk_add bulk_remove reset sort change:isAdmin change:isSuperAdmin",se);const[de,fe]=(0,$.useState)(!0),pe=(0,$.useRef)(),[me,ge]=(0,$.useState)(),he=(0,s.isCommunityAnnouncementGroup)(e.chat);(0,$.useEffect)((()=>{e.scrollToParticipantList&&pe.current&&(0,C.scrollIntoViewIfNeeded)(pe.current,!1)}),[e.scrollToParticipantList]),(0,$.useImperativeHandle)(t,(()=>({scrollIntoView(){var e;null===(e=pe.current)||void 0===e||e.scrollIntoView()}})));const Ee=(0,J.default)(w,["add","remove","reset"],(()=>w.length)),ve=(0,X.useShowPastParticipants)(e.chat),be=(0,$.useMemo)((()=>{let e;const t=[],a=[];ie.forEach((n=>{(0,y.getIsMe)(n.contact)?e=n:n.isAdmin?t.push(n):a.push(n)}));let n=[];return e&&n.push(e),n=n.concat(t,a),ue(ie)&&de&&(n=n.slice(0,d.INFO_DRAWER_MAX_ROWS)),Z.current.init(n.map((e=>e.contact))),n.map((e=>({itemKey:e.id.toString(),id:e.id,height:68})))}),[de,ie]);if(n.isSuspendedOrTerminated())return null;const ye=$.default.createElement(W.SearchIcon,{color:U.SvgColorProp.SECONDARY});let Ce,Me,Pe,_e;if(le.canAdd()&&!n.support){const t=$.default.createElement(F.default,{theme:"compact"},$.default.createElement(i.AddUserIcon,{directional:!0}));Ce=$.default.createElement(c.default,{testid:"add-user",image:t,theme:"chat-info",primary:Q.fbt._("Add participant",null,{hk:"48ECfz"}),onClick:e.onAddParticipant,focusable:!0})}if(le.iAmAdmin()&&e.onGroupInviteLink&&!n.support){const t=$.default.createElement(F.default,{theme:"compact"},$.default.createElement(A.LinkIcon,null));Me=$.default.createElement(c.default,{image:t,theme:"chat-info",primary:Q.fbt._("Invite to group via link",null,{hk:"3vDtFL"}),onClick:e.onGroupInviteLink,focusable:!0})}if(p&&Ee>0&&(0,o.getABPropConfigValue)("group_join_request_m2")&&((0,o.getABPropConfigValue)("web_anyone_can_add_group_setting_enabled")||le.iAmAdmin())&&(Pe=$.default.createElement(c.default,{image:$.default.createElement(F.default,{xstyle:re.pendingParticipantsIcon,theme:"compact"},$.default.createElement(B.PendingParticipantsIcon,null)),theme:"chat-info",primary:(0,o.getABPropConfigValue)("group_join_request_m3")?Q.fbt._("Pending requests",null,{hk:"1Q1Qwz"}):Q.fbt._("Pending participants",null,{hk:"3aWcdI"}),primaryDetail:$.default.createElement(Y.Tag,{round:!0},Ee),onClick:e.onPendingParticipants,focusable:!0})),ue(ie)&&de){const t=ie.length<=20,a=ie.length-d.INFO_DRAWER_MAX_ROWS;_e=$.default.createElement(f.default,{numMore:a,onClick:()=>{t?fe(!1):e.onOpenParticipantSearch(O.ParticipantsFlowStep.Participants)},viewAll:!t})}else ve&&(_e=$.default.createElement(N.ListButton,{onClick:()=>{e.onOpenParticipantSearch(O.ParticipantsFlowStep.PastParticipants)},testid:"row-past-participants"},Q.fbt._("View past participants",null,{hk:"fYGd4"})));const ke=e=>{const t=le.get(e.id);return!!t&&(le.canPromote(t)||le.canDemote(t)||le.canRemove(t)||le.canVerifyIdentity(t))},we=(t,a)=>{const n=le.assertGet(a.id);if(!ke(a))return;const l=[];if(le.canPromote(n)){const t=()=>{const t=T.default.t(198,{participant:(0,S.getFormattedName)(n.contact),subject:e.chat.contact.name});D.ModalManager.open($.default.createElement(b.ConfirmPopup,{onOK:()=>{return t=!0,n.isAdmin||(n.contact.pendingAction++,(0,R.promoteParticipants)(e.chat,[n]).finally((()=>{n.contact.pendingAction--}))),void(t&&D.ModalManager.close());var t},okText:T.default.t(423),onCancel:()=>D.ModalManager.close(),cancelText:Q.fbt._("Cancel",null,{hk:"H0gNq"})},$.default.createElement(_.EmojiText,{text:t})))};let a;if(he){var r;a=Q.fbt._("Make admin",null,{hk:"1cHVQ6"});const t=null===(r=e.chat.groupMetadata)||void 0===r?void 0:r.getParentGroupChat();l.push($.default.createElement(M.DropdownItem,{testid:"mi-grp-promote-community-admin",key:"promote",action:()=>{(0,j.openCommunityParticipantPromoteConfirmation)(t,n,le,n.contact)}},a))}else a=Q.fbt._("Make group admin",null,{hk:"oCC4C"}),l.push($.default.createElement(M.DropdownItem,{testid:"mi-grp-promote-admin",key:"promote",action:t},a))}if(le.canRemove(n)){let t;t=!0===he&&(0,E.communityAnnouncementImprovementM3Enabled)()?Q.fbt._("Remove from community",null,{hk:"WikVd"}):T.default.t(427),l.push($.default.createElement(M.DropdownItem,{testid:"mi-grp-remove-participant",key:"remove",action:()=>{var t;const l=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.getParentGroupChat();if(!0===he&&null!=l&&(0,E.communityAnnouncementImprovementM3Enabled)())return void D.ModalManager.open($.default.createElement(G.default,{contact:a,parentGroupChat:l}));const r=T.default.t(199,{participant:(0,S.getFormattedName)(n.contact),subject:e.chat.contact.name});D.ModalManager.open($.default.createElement(b.ConfirmPopup,{onOK:()=>{return t=!0,n.contact.pendingAction++,(0,R.removeParticipants)(e.chat,[n]).finally((()=>{n.contact.pendingAction--})),void(t&&D.ModalManager.close());var t},okText:T.default.t(531),onCancel:()=>D.ModalManager.close(),cancelText:Q.fbt._("Cancel",null,{hk:"H0gNq"})},$.default.createElement(_.EmojiText,{text:r})))}},t))}if(le.canDemote(n)){const t=()=>{n.isAdmin&&(n.contact.pendingAction++,(0,R.demoteParticipants)(e.chat,[n]).finally((()=>{n.contact.pendingAction--})))},a=Q.fbt._("Dismiss as admin",null,{hk:"2YfmwL"});if(he){var o;const t=null===(o=e.chat.groupMetadata)||void 0===o?void 0:o.getParentGroupChat();l.push($.default.createElement(M.DropdownItem,{testid:"mi-grp-community-demote",key:"demote-admin",action:()=>(0,L.openCommunityParticipantDemoteConfirmation)(n,t)},a))}else l.push($.default.createElement(M.DropdownItem,{testid:"mi-grp-demote",key:"demote-admin",action:t},a))}if(le.canVerifyIdentity(n)){const t=Q.fbt._("Verify Security Code",null,{hk:"1vTVgt"});l.push($.default.createElement(M.DropdownItem,{testid:"mi-grp-verify-identify",key:"verify-identity",action:()=>{e.onVerification&&e.onVerification(n.contact)}},t))}ge({contactId:a.id,menu:l,anchor:t.anchor,event:t.event})},Se=(t,a)=>{const n=(0,s.getOneToOneContactFromGroupContact)(a.id);(0,k.findChat)(n,"groupInfoParticipants").then((t=>{(0,o.getABPropConfigValue)("unified_user_profile_navigation_enabled")?g.Cmd.chatInfoDrawer(t,!1,!1,(0,H.unproxy)(e.chat)):g.Cmd.openChatFromUnread(t).then((e=>{e&&((0,u.btmThreadsLoggingEnabled)()&&v.ComposeBoxActions.addMsgSendingLogAttributes(t,{handleMultiple(){(0,m.handleActivitiesForChatThreadLogging)([{activityType:"groupMembershipReplies",ts:(0,r.unixTime)(),chatId:t.id}])}}),v.ComposeBoxActions.focus(t))}))}))},Oe=(0,P.elevatedPushNamesM2Enabled)(e.chat),Ie=(null===(a=e.chat.groupMetadata)||void 0===a?void 0:a.groupType)===I.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?ce:le.length,Te=Q.fbt._({"*":"Participants list: {group-participants} participants",_1:"Participants list: 1 participant"},[Q.fbt._plural(Ie,"group-participants")],{hk:"3CCjNY"}),Ae=le.length?$.default.createElement(d.ChatInfoDrawerListSection,{ref:pe,titleTestId:"section-participants",testid:"group-info-participants-section",title:Q.fbt._({"*":"{number} participants",_1:"1 participant"},[Q.fbt._plural(Ie,"number")],{hk:"bcYCT"}),titleOnClick:()=>{e.onOpenParticipantSearch(O.ParticipantsFlowStep.Participants)},subtitle:ye},Ce,Me,Pe,$.default.createElement(x.NavigableFlatList,{ariaLabel:Te,flatListController:e.flatListController,listData:be,onRenderItem:e=>$.default.createElement(oe,{active:Z.current,data:e,participants:le,handleParticipantClick:Se,menuEnabled:ke,handleParticipantMenu:we,contextMenu:me,elevatedPushNamesEnabled:Oe}),selection:Z.current,rotateList:!0}),_e):null,Ne=()=>{ge(null)};let De;return me&&(De=$.default.createElement(z.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Ne},$.default.createElement(q.default,{contextMenu:me}))),$.default.createElement($.default.Fragment,null,Ae,De)}));function ue(e){return e.length>d.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}t.GroupInfoParticipantsSection=ie,ie.displayName="GroupInfoParticipantsSection"},951688:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupInfoPendingParticipantsSection=function(e){var t,a;const n=(0,r.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),u=(0,r.default)(null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.participants,"props.chat.groupMetadata?.participants"),c=(0,r.default)(null===(a=e.chat.groupMetadata)||void 0===a?void 0:a.pendingParticipants,"props.chat.groupMetadata?.pendingParticipants"),s=c.toArray(),d=(0,k.default)();(0,S.useListener)(u,"change:isAdmin change:isSuperAdmin",d),(0,S.useListener)(c,"add remove reset",d);const[f,p]=(0,P.useState)(T(c)),g=(0,w.default)((()=>new E.default([],(e=>e.id.toString())))),[v,b]=(0,P.useState)();(0,_.default)((0,l.default)((function*(){yield n.queryGroupsV4PendingInvite(),p(T(n.pendingParticipants))})),[n]);const O=(0,P.useMemo)((()=>{let e=s;return T(s)&&f&&(e=e.slice(0,o.INFO_DRAWER_MAX_ROWS)),g.current.init(e.map((e=>e.contact))),e.map((e=>({itemKey:e.id.toString(),id:e.id,height:68})))}),[f,s]);if(n.isSuspendedOrTerminated())return P.default.createElement(P.default.Fragment,null);const A=(e,t,a)=>{const n="click"===t.type?void 0:t.target;b({contactId:a.id,menu:e,anchor:n,event:t.anchor?void 0:t})},N=M.fbt._({"*":"Invited participants list: {group-participants} participants",_1:"Invited participants list: 1 participant"},[M.fbt._plural(c.length,"group-participants")],{hk:"3ebe4q"});let D,R,x;c.length>0&&(D=P.default.createElement(h.NavigableFlatList,{ariaLabel:N,flatListController:e.flatListController,listData:O,onRenderItem:e=>P.default.createElement(I,{active:g.current,data:e,onContextMenu:A,pendingParticipants:c,groupMetadata:n}),selection:g.current,rotateList:!0}));if(T(c)&&f){const e=c.length-o.INFO_DRAWER_MAX_ROWS;R=P.default.createElement(i.default,{numMore:e,onClick:()=>{p(!1)}})}u.iAmAdmin()&&c.length>0&&(x=P.default.createElement(o.ChatInfoDrawerListSection,{titleTestId:"section-participants",title:m.default.t(357,{number:c.length})},D,R));const L=()=>{b(null)};let j;v&&(j=P.default.createElement(y.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:L},P.default.createElement(C.default,{contextMenu:v})));return P.default.createElement(P.default.Fragment,null,x,j)},t.PendingParticipantItem=I;var l=n(a(348926)),r=n(a(670983)),o=a(464659),i=n(a(831584)),u=n(a(314810)),c=a(103440),s=a(675085),d=a(305521),f=a(512938),p=a(714574),m=n(a(932325)),g=a(114850),h=a(164406),E=n(a(237889)),v=a(625786),b=a(390737),y=a(392632),C=n(a(37875)),M=a(548360),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),_=n(a(802145)),k=n(a(969651)),w=n(a(637660)),S=a(808446);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function I(e){let{data:t,active:a,pendingParticipants:n,groupMetadata:l,onContextMenu:r}=e;const{id:o}=t,i=n.get(o);if(!i)throw new f.UnknownDataError(t);return P.default.createElement(u.default,{active:a,contact:i.contact,participant:i,key:i.id.toString(),contextEnabled:()=>!1,contextMenu:!0,onContext:e=>(e=>{const t=[P.default.createElement(s.DropdownItem,{testid:"mi-grp-promote-admin",key:"promote",action:()=>{g.ModalManager.open(P.default.createElement(c.ConfirmPopup,{onOK:()=>{g.ModalManager.close(),l.revokeGroupsV4AddInvite([i.id]).then((()=>{b.ToastManager.open(P.default.createElement(v.Toast,{msg:M.fbt._("Invite reset",null,{hk:"MgErr"})}))}))},okText:M.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>g.ModalManager.close(),cancelText:M.fbt._("Cancel",null,{hk:"H0gNq"})},P.default.createElement(d.EmojiText,{text:m.default.t(359,{participant:(0,p.getFormattedName)(i.contact)})})))}},M.fbt._("Revoke invite",null,{hk:"4on28q"}))];r(t,e,i.contact)})(e),theme:"chat-info",showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0})}function T(e){return e.length>o.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}},453090:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,n,l;const r=(0,j.useModelValues)(e.chat,["labels"]),o=(0,j.useOptionalModelValues)(e.chat.groupMetadata,["size","creation"]),i=null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.groupType,u=null===(a=e.chat.groupMetadata)||void 0===a?void 0:a.participants,c=(0,x.default)();(0,L.useListener)(u,"bulk_add bulk_remove reset sort change:isAdmin change:isSuperAdmin",c);const s=null!==(n=null==u?void 0:u.length)&&void 0!==n?n:0,d=null!==(l=null==o?void 0:o.size)&&void 0!==l?l:0,f=(null==u?void 0:u.iAmAdmin())?s:d;let h=N.fbt._("Group",null,{hk:"DNiv2"});i===v.GroupType.DEFAULT_ANNOUNCEMENT_GROUP&&(h=N.fbt._("Announcements",null,{hk:"GNIKa"}));const C=N.fbt._({"*":"{number} participants",_1:"1 participant"},[N.fbt._plural(i===v.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?f:s,"number")],{hk:"bcYCT"});return D.default.createElement(m.default,{theme:"padding-large"},D.default.createElement(g.FlexColumn,{align:"center"},D.default.createElement(V,{chat:e.chat,xstyle:W.photo,sendGroupProfilePictureLoggingEvent:(t,a,n)=>{var l,r,o;const i=null===(l=e.chat)||void 0===l||null===(r=l.groupMetadata)||void 0===r?void 0:r.creation,c=new Date(1e3*(null!=i?i:0)),s=new Intl.DateTimeFormat("en",{year:"numeric"}).format(c),d=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(c),p=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(c),m=null!=i?`${s}-${d}-${p}`:"",g=(0,A.numberToPreciseSizeBucket)(f),h=null!==(o=null==u?void 0:u.iAmAdmin())&&void 0!==o&&o;new E.GroupProfilePictureWamEvent({groupCreationDs:m,groupProfileAction:t,preciseGroupSizeBucket:g,isAdmin:h,hasProfilePicture:a,profilePictureType:n}).commit()}}),D.default.createElement(U,{chat:e.chat}),D.default.createElement("div",{className:(0,R.default)(W.groupSecondary)},D.default.createElement(p.SelectableSpan,{dir:"auto",selectable:!0},D.default.createElement(I.TextSpan,{size:"16",color:"secondary"},h,(null==o?void 0:o.isSuspendedOrTerminated())?null:D.default.createElement(D.default.Fragment,null,b.default.isRTL()?" - ":" · ",D.default.createElement(T.default,{onClick:e.onClickParticipantsCount},C))))),D.default.createElement(y.default,{labels:r.labels})))};var l=n(a(348926)),r=a(898817),o=a(122583),i=n(a(670983)),u=n(a(229922)),c=a(287461),s=a(374660),d=a(174834),f=a(103440),p=a(306703),m=n(a(969358)),g=a(690495),h=n(a(559719)),E=a(600145),v=a(862159),b=n(a(932325)),y=n(a(344460)),C=F(a(288057)),M=a(114850),P=a(21645),_=a(843337),k=a(588792),w=a(511696),S=a(115948),O=a(470824),I=a(180519),T=n(a(625903)),A=a(802027),N=a(548360),D=F(a(667294)),R=n(a(156720)),x=n(a(969651)),L=a(808446),j=a(655241),B=n(a(895851));function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(G=function(e){return e?a:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=G(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}const W={photo:{marginBottom:"njub1g37"},groupSecondary:{lineHeight:"a4ywakfo",marginTop:"ma4rpf0l",textAlign:"qfejxiq4"}};function V(e){const t=(0,j.useModelValues)(e.chat,["isReadOnly"]),a=(0,j.useModelValues)(e.chat.contact,["id","profilePicThumb"]),n=(0,j.useModelValues)(e.chat.contact.profilePicThumb,["imgFull"]),l=(0,j.useModelValues)((0,i.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["groupType"]),[c,f]=(0,D.useState)(!1),[p,m]=(0,D.useState)(!1),g=(0,B.default)(),h=l.groupType===v.GroupType.DEFAULT_ANNOUNCEMENT_GROUP;let E=k.PhotoPickerType.GROUP;(0,d.communitiesEnabled)()&&(h?E=k.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:l.groupType===v.GroupType.GENERAL_GROUP&&(0,d.communityGeneralChatUIEnabled)()&&(E=k.PhotoPickerType.GENERAL_GROUP));const b=t.isReadOnly||!n.canDelete()&&!n.canSet()||(0,s.isSupportGroup)(t)||h||l.isSuspendedOrTerminated();return D.default.createElement("div",{className:(0,R.default)(e.xstyle)},D.default.createElement(w.PhotoPickerLoadable,{key:String(c),type:E,id:a.id,attachToChat:!0,pending:p,startImage:n.imgFull,readOnly:b,onImageSet:(e,t)=>{let a;m(!0),a=e&&t?(0,S.setProfilePic)(n,e,t):(0,S.deleteProfilePic)(n),(0,u.default)(a,g).catch((0,r.catchAbort)((()=>{}))).catch((0,o.filteredCatch)(C.ActionError,(()=>{__LOG__(3)`GroupInfoDrawer: failed to set/delete group image`,f(!c)}))).finally((()=>{m(!1)}))},sendGroupProfilePictureLoggingEvent:e.sendGroupProfilePictureLoggingEvent}))}const H={marginTop:"hymafltn",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"};function U(e){const t=(0,j.useModelValues)(e.chat.contact,["name"]),a=(0,j.useModelValues)((0,i.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["creation","restrict","support","isUnnamed","participants"]),n=(0,B.default)(),o=function(){var a=(0,l.default)((function*(a){const l=a;l!==t.name&&(yield(0,u.default)((0,O.setGroupSubject)(e.chat,l),n).catch((0,r.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`group_info_drawer:onSetSubject failed`})))}));return function(){return a.apply(this,arguments)}}(),s=()=>{M.ModalManager.open(D.default.createElement(f.ConfirmPopup,{onOK:()=>M.ModalManager.close(),okText:N.fbt._("OK",null,{hk:"4oTrfy"})},N.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})))};return a.support?D.default.createElement(I.TextHeader,{className:(0,R.default)(H),level:"2",theme:"large"},D.default.createElement(P.GroupName,{chat:e.chat,groupMetadata:a,breakWord:!0})):a.isUnnamed&&(0,c.getABPropConfigValue)("ugr_enabled")?D.default.createElement(h.default,{subject:(0,_.calculateUnnamedGroupParticipantsList)(a).toLocaleString(),onSave:o,editable:a.canSetSubject(),editRestrictionInfo:a.restrict?s:void 0}):D.default.createElement(h.default,{subject:t.name||e.chat.formattedTitle,onSave:o,editable:a.canSetSubject(),editRestrictionInfo:a.restrict?s:void 0})}},795767:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(670983)),r=a(374660),o=a(780549),i=a(474103),u=n(a(402085)),c=a(675085),s=a(235630),d=a(305521),f=a(581354),p=a(714574),m=n(a(932325)),g=a(114850),h=a(33014),E=a(197988),v=a(507877),b=a(392632),y=n(a(37875)),C=a(459857),M=a(788271),P=a(548360),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),k=(n(a(156720)),n(a(969651))),w=a(808446);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}const O={dropdownText:{display:"p357zi0d",alignItems:"gndfcl4n"}};function I(e,t){var a;const{chat:n,onVerification:o,onPastParticipants:f}=e,[S,I]=function(e,t){const[a,n]=(0,_.useState)(null),o=(t,a)=>{t.isAdmin||(t.contact.pendingAction++,(0,h.promoteParticipants)(e,[t]).finally((()=>{t.contact.pendingAction--}))),a&&g.ModalManager.close()},i=(t,a)=>{t.contact.pendingAction++,(0,h.removeParticipants)(e,[t]).finally((()=>{t.contact.pendingAction--})),a&&g.ModalManager.close()},u=t=>{t.isAdmin&&(t.contact.pendingAction++,(0,h.demoteParticipants)(e,[t]).finally((()=>{t.contact.pendingAction--})))},s=()=>{n(null)};let f;a&&(f=_.default.createElement(b.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:s},_.default.createElement(y.default,{contextMenu:a})));return[f,(a,s)=>{const f=(0,l.default)(e.groupMetadata,"chat.groupMetadata").participants,h=f.assertGet(s.id.toString()),b=[],y=(0,r.isCommunityAnnouncementGroup)(e);if(f.canPromote(h)){let t;if(y){var M;t=P.fbt._("Make admin",null,{hk:"1cHVQ6"});const a=null===(M=e.groupMetadata)||void 0===M?void 0:M.getParentGroupChat();b.push(_.default.createElement(c.DropdownItem,{testid:"mi-grp-promote-community-admin",key:"promote",action:()=>{(0,v.openCommunityParticipantPromoteConfirmation)(a,h,f,h.contact)}},t))}else t=m.default.t(423),b.push(_.default.createElement(c.DropdownItem,{testid:"mi-grp-promote-admin",key:"promote",action:()=>o(h,!1)},t))}if(f.canRemove(h)){const e=m.default.t(427);b.push(_.default.createElement(c.DropdownItem,{testid:"mi-grp-remove-participant",key:"remove",action:()=>i(h,!1)},e))}if(f.canDemote(h)){const t=()=>u(h),a=P.fbt._("Dismiss as admin",null,{hk:"243sNl"});if(y){var k;const t=null===(k=e.groupMetadata)||void 0===k?void 0:k.getParentGroupChat();b.push(_.default.createElement(c.DropdownItem,{testid:"mi-grp-community-demote",key:"demote-admin",action:()=>(0,E.openCommunityParticipantDemoteConfirmation)(h,t)},a))}else b.push(_.default.createElement(c.DropdownItem,{testid:"mi-grp-demote",key:"demote-admin",action:t},a))}if(f.canVerifyIdentity(h)){const e=P.fbt._("Verify Security Code",null,{hk:"1vTVgt"});b.push(_.default.createElement(c.DropdownItem,{testid:"mi-grp-verify-identify",key:"verify-identity",action:()=>{g.ModalManager.close(),null==t||t(h.contact)}},e))}const w=(0,C.isMeAccount)(h.contact.id)?P.fbt._("Message yourself",null,{hk:"LDbjA"}):P.fbt._("Message {author}",[P.fbt._param("author",(0,p.getFormattedShortName)(h.contact))],{hk:"1kM7Cg"});b.push(_.default.createElement(c.DropdownItem,{key:"message author",ariaLabel:w,action:T.bind(null,h.contact.id),addSpacing:!0},_.default.createElement(d.EmojiText,{text:w,xstyle:O.dropdownText})));const S="click"===a.type?void 0:a.target;n({contactId:s.id,menu:b,anchor:S,event:a.anchor?void 0:a})}]}(n,o),A=(0,k.default)(),N=null===(a=n.groupMetadata)||void 0===a?void 0:a.participants;(0,w.useListener)(N,["bulk_add","bulk_remove","reset"],A);const D=(0,M.useShowPastParticipants)(n),R=(0,i.hideCagMaskedParticipants)(),x=null==N?void 0:N.map((e=>e.contact));let L;return D&&(L={text:P.fbt._("View past participants",null,{hk:"fYGd4"}),onClick:f}),_.default.createElement(_.default.Fragment,null,_.default.createElement(u.default,{ref:t,title:P.fbt._("Search Participants",null,{hk:"M6lxB"}),filter:e=>{var t;const a=null==N?void 0:N.get(e.id.toString());return null!=a&&(!R||!1!==(null===(t=n.groupMetadata)||void 0===t?void 0:t.isLidAddressingMode)||((0,C.isMeAccount)(a.id)||!a.id.isLid()))},onCancel:()=>{g.ModalManager.close()},openContextOnClick:!0,contextEnabled:()=>!1,contextMenu:e=>!(0,C.isMeAccount)(e),onContext:I,showNotifyName:!0,elevatedPushNamesEnabled:(0,s.elevatedPushNamesM2Enabled)(n),listenForAdminChange:!0,participantCollection:(0,l.default)(N,"participants"),contacts:x,button:L,showStatusRingAroundProfilePhoto:!0}),S)}const T=e=>{const t=(0,r.getOneToOneContactFromGroupContact)(e);(0,f.findChat)(t,"groupParticipantSearch").then((e=>{g.ModalManager.close(),o.Cmd.openChatFromUnread(e)}))};var A=(0,_.forwardRef)(I);t.default=A},503028:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupParticipantsFlow=function(e){const{chat:t,onVerification:a,initialStep:n}=e,[c,s]=(0,i.useFlow)(n);if(!s.step)return null;let d;switch(s.step){case u.Participants:d=o.default.createElement(l.default,{chat:t,onVerification:a,onPastParticipants:()=>s.push(u.PastParticipants)});break;case u.PastParticipants:{const e=s.stackSize()>1,a=()=>s.pop();d=e?o.default.createElement(r.default,{chat:t,onBack:a}):o.default.createElement(r.default,{chat:t,onClose:a});break}}return o.default.createElement(c,{flow:s},d)},t.ParticipantsFlowStep=void 0;var l=n(a(795767)),r=n(a(795367)),o=n(a(667294)),i=a(839062);const u=a(76672).Mirrored(["Participants","PastParticipants"]);t.ParticipantsFlowStep=u},176809:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{participant:t,elevatedPushNamesEnabled:a=!1}=e,{contact:n}=t,[h,E,v,b,y,C,M]=(0,g.useContactValues)(n.id,[o.getId,o.getShowBusinessCheckmarkAsPrimary,o.getName,o.getPushname,o.getNotifyName,c.getFormattedName,c.getFormattedPhone]),P=m.default.createElement(d.Name,{contact:n,showBusinessCheckmark:E,showLabel:!0,titlify:!0,ellipsify:!0,you:!0,showNotifyName:a,elevatedPushNamesEnabled:a}),_=r.Clock.pastParticipantOnDateAtTime(t.leaveTs,function(e){const t=e.id.equals((0,f.getMeUser)());if(e.leaveReason===s.LeaveReason.Left)return t?p.fbt._("Left",null,{hk:"3R2igg"}):p.fbt._("Left",null,{hk:"3kbdqU"});return t?p.fbt._("Removed",null,{hk:"4vPnHl"}):p.fbt._("Removed",null,{hk:"3LiTU6"})}(t)),k=(0,u.pushNameCanBeUsed)(n)&&a?M:null;return m.default.createElement(l.default,{image:m.default.createElement(i.DetailImage,{id:h}),primary:P,secondary:_,secondaryDetail:k})};var l=n(a(170206)),r=a(63014),o=a(660666),i=a(23641),u=a(235630),c=a(714574),s=a(687352),d=a(21645),f=a(459857),p=a(548360),m=n(a(667294)),g=a(379811)},795367:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(474103),r=a(235630),o=a(753233),i=a(258105),u=a(512938),c=a(690495),s=n(a(176809)),d=n(a(932325)),f=n(a(417696)),p=a(608456),m=n(a(772549)),g=a(676345),h=a(459857),E=a(548360),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),b=(n(a(156720)),n(a(261716))),y=n(a(524578));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const M="HEADER",P="ROW",_="DISCLAIMER";function k(e,t){var a;const{chat:n,onBack:o,onClose:i}=e,u=null===(a=n.groupMetadata)||void 0===a?void 0:a.pastParticipants,[c,s]=(0,b.default)(),m=(0,y.default)(u,["buld_add","bulk_remove","reset"],(()=>{var e;const t=d.default.accentFold(c),a=(0,p.numberSearch)(t),n=null!==(e=null==u?void 0:u.getValidRecords().filter((e=>{const n=!t||e.contact.searchMatch(t,a);return(0,l.hideCagMaskedParticipants)()?((0,h.isMeAccount)(e.id)||!e.id.isLid())&&n:n})))&&void 0!==e?e:[];if(!n.length)return[];const r=[];return r.push({type:M,header:E.fbt._("Past participants",null,{hk:"2k91Dw"}),itemKey:"list_header"}),n.forEach(((e,t)=>r.push({type:P,participant:e,itemKey:`${e.id.toString()}_${t}`}))),r.push({type:_}),r}),[c]);return v.default.createElement(f.default,{ref:t,title:E.fbt._("Search past participants",null,{hk:"1d6pYh"}),data:m,renderItem:e=>v.default.createElement(w,{data:e,elevatedPushNamesEnabled:(0,r.elevatedPushNamesM2Enabled)(n)}),emptyState:v.default.createElement(I,null),onSearch:s,searchPlaceholder:d.default.t(545),onBack:o,onCancel:i})}function w(e){var t;let{data:a,elevatedPushNamesEnabled:n}=e;switch(a.type){case M:return v.default.createElement(m.default,{header:null!==(t=a.header)&&void 0!==t?t:"",uppercase:!1});case P:return v.default.createElement(s.default,{participant:a.participant,elevatedPushNamesEnabled:n});case _:return v.default.createElement(O,null);default:throw new u.UnknownDataError(a)}}const S={row:{height:"graaj7av",backgroundColor:"ihvf49ua"},disclaimer:{fontSize:"f8jlpxt4",color:"pm5hny62"},empty:{fontSize:"enbbiyaj",color:"eruf1vka"}};function O(){return v.default.createElement(c.FlexRow,{xstyle:[S.row,S.disclaimer,g.uiPadding.horiz15],align:"center",justify:"center"},v.default.createElement("span",null,E.fbt._("People who left or were removed in the last 60 days. {=m2}",[E.fbt._implicitParam("=m2",v.default.createElement(o.ExternalLink,{href:(0,i.getHowToExitAndDeleteGroupsFaq)()},E.fbt._("Learn More",null,{hk:"44tT41"})))],{hk:"gdXOy"})))}function I(){return v.default.createElement(v.default.Fragment,null,v.default.createElement(m.default,{header:E.fbt._("Past participants",null,{hk:"2k91Dw"}),uppercase:!1}),v.default.createElement(c.FlexRow,{xstyle:[S.row,S.empty],align:"center",justify:"center"},v.default.createElement("span",null,E.fbt._("No results found",null,{hk:"1Wo2fc"}))),v.default.createElement(O,null))}var T=(0,v.forwardRef)(k);t.default=T},483447:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,spaced:a}=e,n=c.default.createElement(i.TextSpan,{theme:"title"},u.fbt._("Security",null,{hk:"2BYJDI"})),s=c.default.createElement(i.TextDiv,{theme:"muted"},u.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"})),d=c.default.createElement(r.LockIcon,{color:o.SvgColorProp.SECONDARY,height:20});return c.default.createElement(l.default,{icon:d,onClick:t,title:n,secondaryTitle:s,spaced:a})};var l=n(a(306007)),r=a(341462),o=a(220584),i=a(180519),u=a(548360),c=n(a(667294))},788271:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useShowPastParticipants=function(e){const t=(0,o.useOptionalModelValues)(e.groupMetadata,["participants","pastParticipants","groupType"]),a=null==t?void 0:t.pastParticipants;if(!(0,r.default)(a,["bulk_add","bulk_remove","reset"],(()=>Boolean(null==a?void 0:a.getValidRecords().length))))return!1;if((null==t?void 0:t.groupType)===l.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)return Boolean(null==t?void 0:t.participants.iAmAdmin());return!0};var l=a(862159),r=n(a(524578)),o=a(655241)},883537:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.mediaData,["mediaStage","renderableUrl"]);return c.default.createElement(i.default,{mediaData:t,placeholderRenderer:p},(t=>c.default.createElement(f,{url:t,msg:e.msg})))};var l=a(396574),r=n(a(932325)),o=n(a(936027)),i=n(a(674465)),u=a(782173),c=n(a(667294)),s=a(655241);const d=e=>{e.stopPropagation()};function f(e){let{url:t,msg:a}=e;return c.default.createElement(u.AudioTag,{url:t,className:o.default.mediaViewerAudio,onClick:d,autoPlay:!0,msg:a,controls:!0,testId:"media-audio"},r.default.t(141))}function p(){return c.default.createElement("div",{className:(0,l.classnamesConvertMeToStylexPlease)(o.default.imageAudio,o.default.mediaViewerPlaceholder),onClick:d})}},548290:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{msg:a,onHightlightCloseEnd:n,msgIndexInAlbum:l,onViewOnceInfoClick:r,onClose:i}=e,c=(0,ve.useRef)(null),[s,d,f,p,m,h,E,b,C,P,_,w,S,O,A]=(0,Me.useMsgValues)(e.msg.id,[G.getId,G.getStar,G.getIsGroupMsg,G.getType,G.getIsGif,G.getIsViewOnce,G.getSender,k.getSenderObj,G.getT,G.getIsSentByMe,G.getIsStickerMsg,G.getBroadcastId,k.getIsUnsentMedia,G.getIsKept,G.getMessageSecret]),N=(0,V.useWAWebLocalizedViewCount)(a.id),R=(0,k.getChat)(a),L=(0,Ce.useModelValues)(e.mediaData,["filehash","mediaStage","renderableUrl"]),[j,F]=(0,ve.useState)(null),[W,U]=(0,ve.useState)(null),Y=(0,ve.useRef)(null),z=()=>{F(null)},q=()=>{U(null)},Z=(0,Pe.default)((e=>{(0,X.canReactToMessage)(e)&&U({dirY:v.DirY.BOTTOM,dirX:v.DirX.CENTER,type:v.MenuType.ReactionPicker,menu:ve.default.createElement(K.ReactionsPanel,{msgId:e.id.toString(),onSelection:t=>{(0,ae.sendReactionToMsg)(e,t).catch((()=>{})),q()}}),flipOnRTL:!0,anchor:Y.current})}));(0,ye.useListener)(c.current,"animationend",(()=>{n()}));let Q=a.displayName({showShortName:!0,withPushName:!0});f&&(Q+=" @ "+R.title());const $=ve.default.createElement(he.XViewerIcon,{className:e.isHighlightClose?I.default.highlightClose:null,containerRef:c});let J;j?J=ve.default.createElement(ce.UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:z},ve.default.createElement(se.default,{contextMenu:j})):W&&(J=ve.default.createElement(ce.UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:q},ve.default.createElement(se.default,{contextMenu:W})));const ee=(0,H.isNewsletterViewCountEnabled)(null==R||null===(t=R.newsletterMetadata)||void 0===t?void 0:t.membershipType)&&null!=N?ve.default.createElement(M.FlexRow,{className:I.default.viewCount},u.Clock.relativeDateAndTimeStr(C),ve.default.createElement(x.MetaBullet,null),ve.default.createElement("span",null,N)):ve.default.createElement(ve.default.Fragment,null,u.Clock.relativeDateAndTimeStr(C));return ve.default.createElement("div",{className:I.default.mediaPanelHeader},ve.default.createElement("div",{className:I.default.info},ve.default.createElement(o.default,{idle:!0,image:ve.default.createElement(g.DetailImage,{id:E,size:40}),primary:ve.default.createElement(y.EmojiText,{ellipsify:!0,text:Q}),secondary:ee,theme:"media"})),ve.default.createElement("div",{className:I.default.mediaPanelTools},ve.default.createElement(D.MenuBar,{key:"media-panel-header",theme:"strong"},ve.default.createElement(Ve,{isMediaDownloadable:()=>!h&&(!!(0,B.canDownloadMsg)(a)&&(!!L.renderableUrl||L.mediaStage===T.MEDIA_DATA_STAGE.RESOLVED)),msg:a,msgIndexInAlbum:l,onClose:i,onViewOnceInfoClick:r,openReactionTray:()=>{if(!(0,X.canReactToMessage)(a))return;const e={dirY:v.DirY.BOTTOM,dirX:v.DirX.CENTER,type:v.MenuType.ReactionSendTray,menu:ve.default.createElement(le.SendReactionsTrayContainer,{msg:a,selectedCallback:e=>{e!==ne.MORE_REACTIONS?(0,ae.sendReactionToMsg)(a,e).catch((()=>{})):self.setTimeout((()=>{Z(a)}),150),z()}}),flipOnRTL:!1,anchor:Y.current};F(e)},sendReactionButtonRef:Y}),ve.default.createElement(D.MenuBarItem,{testid:"btn-close",icon:$,title:Ee.fbt._("Close",null,{hk:"19Jpec"}),onClick:e.onClose}))),J)};var l=a(8304),r=a(268167),o=n(a(170206)),i=a(713105),u=a(63014),c=a(780549),s=a(385798),d=a(877171),f=a(103440),p=a(419e3),m=n(a(804418)),g=a(23641),h=a(126333),E=a(900316),v=a(664149),b=a(675085),y=a(305521),C=a(821130),M=a(690495),P=a(525110),_=a(361483),k=a(163755),w=a(501532),S=a(328150),O=n(a(932325)),I=n(a(423359)),T=a(172259),A=a(69315),N=n(a(266466)),D=a(526795),R=a(784424),x=a(789955),L=a(97858),j=a(114850),B=a(939716),G=a(787742),F=a(722119),W=a(373070),V=a(905797),H=a(73225),U=a(352740),Y=a(990625),z=a(533494),q=a(247442),K=a(400874),X=a(962647),Z=a(604668),Q=n(a(313014)),$=n(a(467201)),J=a(774401),ee=n(a(774396)),te=a(923743),ae=a(594149),ne=a(948101),le=a(708127),re=a(383296),oe=a(453603),ie=a(995946),ue=a(163139),ce=a(392632),se=n(a(37875)),de=a(220279),fe=a(677658),pe=a(241572),me=a(923655),ge=a(130756),he=a(356722),Ee=a(548360),ve=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_e(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),be=n(a(135179)),ye=a(808446),Ce=a(655241),Me=a(871210),Pe=n(a(17533));function _e(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_e=function(e){return e?a:t})(e)}const ke=a(76672).Mirrored(["MenuBar","Dropdown"]);function we(e){const t=(0,k.getChat)(e);t.composeQuotedMsg=e,d.ComposeBoxActions.focus(t)}function Se(e){return Ee.fbt._("Report {contact_name}",[Ee.fbt._param("contact_name",e.displayName())],{hk:"3Dqyjo"})}function Oe(e){let{isMediaDownloadable:t,msg:a,onClose:n,openReactionTray:l,sendReactionButtonRef:r}=e;return ve.default.createElement(ve.default.Fragment,null,(0,F.canReplyMsg)(a)?ve.default.createElement(Ae,{msg:a,onClose:n}):null,(0,B.canStarMsg)(a)?ve.default.createElement(Le,{msg:a}):null,a.canShowKeepOrUnkeepOption()?ve.default.createElement(xe,{msg:a}):null,(0,B.canPinMsg)(a)?ve.default.createElement(je,{msg:a}):null,(0,X.canReactToMessage)(a)?ve.default.createElement(Re,{msg:a,openReactionTray:l,sendReactionButtonRef:r}):null,ve.default.createElement(Ne,{msg:a,onClose:n}),(0,B.canForwardMsg)(a)?ve.default.createElement(Be,{msg:a}):null,ve.default.createElement(He,{isMediaDownloadable:t,isAlbumMedia:!0,msg:a,onClose:n}))}function Ie(e){let{isMediaDownloadable:t,msg:a,onClose:n,openReactionTray:l,sendReactionButtonRef:r}=e;return ve.default.createElement(ve.default.Fragment,null,(0,G.getIsStickerMsg)(a)?null:ve.default.createElement(Te,{msg:a,type:ke.MenuBar,onClose:n}),(0,G.getIsStickerMsg)(a)?ve.default.createElement(Ae,{msg:a,onClose:n}):null,(0,B.canStarMsg)(a)?ve.default.createElement(Le,{msg:a}):null,(0,B.canPinMsg)(a)?ve.default.createElement(je,{msg:a}):null,a.canShowKeepOrUnkeepOption()?ve.default.createElement(xe,{msg:a}):null,(0,G.getIsStickerMsg)(a)?ve.default.createElement(Ne,{msg:a,onClose:n}):null,(0,X.canReactToMessage)(a)?ve.default.createElement(Re,{msg:a,openReactionTray:l,sendReactionButtonRef:r}):null,(0,B.canForwardMsg)(a)?ve.default.createElement(Be,{msg:a}):null,(0,G.getIsStickerMsg)(a)?null:ve.default.createElement(De,{isMediaDownloadable:t,msg:a,type:ke.MenuBar}),(0,B.canReportMsg)(a)&&(0,L.messageLevelReportingEnabled)()?ve.default.createElement(He,{isMediaDownloadable:t,isAlbumMedia:!1,msg:a,onClose:n}):null)}function Te(e){let{msg:t,type:a,onClose:n}=e;const l=e=>{e.stopPropagation(),n(),E.DrawerManager.existsDrawerRight((e=>{e&&2===s.Column.column&&E.DrawerManager.closeDrawerRight()}));const a=(0,i.getSearchContext)((0,k.getChat)(t),(0,ue.unproxy)(t));c.Cmd.openChatAt((0,k.getChat)(t),a).then((e=>{e&&d.ComposeBoxActions.focus((0,k.getChat)(t))}))};return a===ke.Dropdown?ve.default.createElement(b.DropdownItem,{action:l},Ee.fbt._("Go to message",null,{hk:"B1anG"})):ve.default.createElement(D.MenuBarItem,{icon:ve.default.createElement(r.BubbleIcon,null),title:Ee.fbt._("Go to message",null,{hk:"B1anG"}),onClick:l})}function Ae(e){let{msg:t,onClose:a}=e;return ve.default.createElement(D.MenuBarItem,{icon:ve.default.createElement(Z.ReplyIcon,null),title:Ee.fbt._("Reply",null,{hk:"1C7DPa"}),onClick:()=>{a(),(0,l.delayMs)(A.CLOSE_ANIMATION_DURATION).then(we.bind(null,(0,ue.unproxy)(t)))}})}function Ne(e){let{msg:t,onClose:a}=e;return ve.default.createElement(D.MenuBarItem,{icon:ve.default.createElement(p.DeleteIcon,null),title:Ee.fbt._("Delete",null,{hk:"2KhPUX"}),onClick:()=>{j.ModalManager.open(ve.default.createElement(m.default,{chat:(0,k.getChat)(t),msgList:[(0,ue.unproxy)(t)],onDelete:a})),J.UiRevokeActionHelper.startSession(),J.UiRevokeActionHelper.messageSelected()}})}function De(e){let{msg:t,type:a,isMediaDownloadable:n}=e;const l=e=>{e.stopPropagation(),C.FileSaver.initDownload((0,ue.unproxy)(t))};return n()?a===ke.Dropdown?ve.default.createElement(b.DropdownItem,{action:l,disabled:!n()},Ee.fbt._("Download",null,{hk:"1g5Jix"})):ve.default.createElement(D.MenuBarItem,{icon:ve.default.createElement(h.DownloadIcon,null),title:Ee.fbt._("Download",null,{hk:"1g5Jix"}),disabled:!n(),onClick:l}):null}function Re(e){let{msg:t,openReactionTray:a,sendReactionButtonRef:n}=e;return t.type===W.MSG_TYPE.STICKER?null:ve.default.createElement(D.MenuBarItem,{testid:"reaction-entry-point",icon:ve.default.createElement(q.ReactionsMediaIcon,{containerRef:n,width:20}),title:Ee.fbt._("React",null,{hk:"1mI4Nl"}),onClick:()=>{a()}})}const xe=e=>{let t,a,n,{msg:l}=e;const r=e=>{e.stopPropagation(),(0,w.runKeepInChatUX)((0,ue.unproxy)(l),ge.KIC_ENTRY_POINT_TYPE.MEDIA)},o=e=>{e.stopPropagation(),(0,w.runUndoKeepInChatUX)((0,ue.unproxy)(l),ge.KIC_ENTRY_POINT_TYPE.MEDIA)};if((0,G.getIsKept)(l)&&l.canShowUnkeepOption())t=ve.default.createElement(de.UndoKeepInChatMediaIcon,null),a=o,n=Ee.fbt._("Unkeep",null,{hk:"1eGZng"});else{if((0,G.getIsKept)(l)||!l.canShowKeepOption())return null;t=ve.default.createElement(S.KeepInChatMediaIcon,null),a=r,n=Ee.fbt._("Keep",null,{hk:"1a48ae"})}return ve.default.createElement(D.MenuBarItem,{key:t,icon:t,title:n,onClick:a})};function Le(e){let t,a,n,{msg:l}=e;return l.star?(t=e=>{e.stopPropagation(),c.Cmd.sendUnstarMsgs((0,k.getChat)(l),[(0,ue.unproxy)(l)])},a=ve.default.createElement(pe.UnstarBtnIcon,null),n=O.default.t(607)):(t=e=>{e.stopPropagation(),c.Cmd.sendStarMsgs((0,k.getChat)(l),[(0,ue.unproxy)(l)])},a=ve.default.createElement(ie.StarBtnIcon,null),n=O.default.t(585)),ve.default.createElement(D.MenuBarItem,{key:n,icon:a,title:n,onClick:t})}function je(e){let t,a,n,{msg:l}=e;return(0,be.default)(l.id)?(t=e=>{e.stopPropagation(),(0,te.sendPinInChatMsg)(l,z.Message$PinInChatMessage$Type.UNPIN_FOR_ALL).catch((e=>{__LOG__(4,void 0,new Error)`Error while unpinning a message: ${e}`}))},a=ve.default.createElement(fe.UnpinnedIcon,null),n=Ee.fbt._("Unpin",null,{hk:"3oWx14"})):(t=e=>{e.stopPropagation(),j.ModalManager.open(ve.default.createElement(U.PinMessageModal,{msg:l}))},a=ve.default.createElement(Y.Pinned3Icon,null),n=Ee.fbt._("Pin",null,{hk:"23jUX3"})),ve.default.createElement(D.MenuBarItem,{key:n,icon:a,title:n,onClick:t})}function Be(e){let{msg:t}=e;return ve.default.createElement(D.MenuBarItem,{icon:ve.default.createElement(P.ForwardIcon,null),title:O.default.t(311),onClick:e=>{e.stopPropagation(),(0,k.getIsUnsentMedia)(t)?j.ModalManager.open(ve.default.createElement(f.ConfirmPopup,{title:O.default.t(301),onOK:()=>j.ModalManager.close(),okText:Ee.fbt._("OK",null,{hk:"4oTrfy"})},O.default.t(298))):j.ModalManager.open(ve.default.createElement(_.ForwardMessageModalLoadable,{msgs:[(0,ue.unproxy)(t)],onClose:()=>j.ModalManager.close()}),{transition:"modal-flow"})}})}function Ge(e){let{msg:t}=e;return ve.default.createElement(b.DropdownItem,{testid:"mi-msg-reply",action:()=>{(0,Q.default)(t)}},Ee.fbt._("Reply privately",null,{hk:"1XQeK2"}))}function Fe(e){let{msg:t}=e;const a=e=>{e?(0,re.sendMessageReportBlock)(t,oe.SpamFlow.MediaViewer):(0,re.sendMessageReport)(t,oe.SpamFlow.MediaViewer),j.ModalManager.close()};return ve.default.createElement(b.DropdownItem,{action:()=>{j.ModalManager.open(ve.default.createElement(N.default,{isBusiness:t.senderObj.isBusiness,isGroup:(0,k.getChat)(t).isGroup,onReport:a,onCancel:()=>j.ModalManager.close(),title:Se(t)}))}},Se(t))}function We(e){let{msg:t,onClose:a}=e;return ve.default.createElement(b.DropdownItem,{action:()=>{a(),(0,l.delayMs)(A.CLOSE_ANIMATION_DURATION+250).then(c.Cmd.msgInfoDrawer.bind(c.Cmd,(0,ue.unproxy)(t)))}},O.default.t(435))}function Ve(e){let{isMediaDownloadable:t,msg:a,msgIndexInAlbum:n,onClose:l,onViewOnceInfoClick:r,openReactionTray:o,sendReactionButtonRef:i}=e;return a.isViewOnce?ve.default.createElement(Ue,{isMediaDownloadable:t,msg:a,onClose:l,onViewOnceInfoClick:r}):n>=0?ve.default.createElement(Oe,{isMediaDownloadable:t,msg:a,onClose:l,openReactionTray:o,sendReactionButtonRef:i}):ve.default.createElement(Ie,{isMediaDownloadable:t,msg:a,onClose:l,openReactionTray:o,sendReactionButtonRef:i})}function He(e){let{isMediaDownloadable:t,isAlbumMedia:a,msg:n,onClose:l}=e;const r=[],o=(0,k.getChat)(n);((0,F.canPrivateReply)(n)||(0,F.canPrivateReplyInRestrictedGrp)(n))&&r.push(ve.default.createElement(Ge,{key:"private_reply",msg:n})),a&&((0,G.getIsSentByMe)(n)&&r.push(ve.default.createElement(We,{key:"dropdownMsgInfo",msg:n,onClose:l})),r.push(ve.default.createElement(Te,{key:"dropdownGoToMsg",msg:n,type:ke.Dropdown,onClose:l}),ve.default.createElement(De,{key:"dropdownDownload",isMediaDownloadable:t,msg:n,type:ke.Dropdown})));const i=!o.isNewsletter&&(n.isViewOnce||(0,B.canReportMsg)(n)&&(0,L.messageLevelReportingEnabled)());return o.isNewsletter&&(0,B.canReportMsg)(n)&&(0,H.isNewsletterReportingEnabled)()?r.push(ve.default.createElement($.default,{key:"reportSpam",msg:n})):i&&r.push(ve.default.createElement(Fe,{key:"reportSpam",msg:n})),(0,B.canReportToAdmin)(n)&&r.push(ve.default.createElement(ee.default,{key:"report_to_admin",msg:n})),ve.default.createElement(D.MenuBarItem,{icon:ve.default.createElement(R.MenuIcon,null),title:O.default.t(430)},ve.default.createElement(v.Dropdown,{type:v.MenuType.DropdownMenu,flipOnRTL:!0,dirX:v.DirX.LEFT},r))}function Ue(e){let{isMediaDownloadable:t,msg:a,onClose:n,onViewOnceInfoClick:l}=e;return ve.default.createElement(ve.default.Fragment,null,ve.default.createElement(D.MenuBarItem,{icon:ve.default.createElement(me.ViewOnceIcon,{className:I.default.voIcon}),title:Ee.fbt._("View once info",null,{hk:"47XkZ4"}),onClick:l}),ve.default.createElement(He,{isMediaDownloadable:t,isAlbumMedia:!1,msg:a,onClose:n}))}},777361:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(371125)),r=a(690495),o=n(a(488922)),i=n(a(674465)),u=n(a(996513)),c=n(a(708126)),s=a(438543),d=n(a(529727)),f=a(164832),p=a(130756),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),g=n(a(156720)),h=n(a(38085)),E=a(655241);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}const b={container:{width:"ln8gz9je",height:"ppled2lx"},stickerContainer:{maxWidth:"mx6rw3sv",maxHeight:"trnfqnf9",marginBottom:"r2u2pyhj",zIndex:"thghmljt"}},y=(e,t)=>{const{msg:a}=e,n=(0,E.useModelValues)(e.mediaData,["encFilehash","directPath","filehash","mediaKey","mediaKeyTimestamp","mediaStage","mimetype","fullWidth","fullHeight","isFirstParty","stickerPackId","stickerPackName","stickerPackPublisher"]),v=(0,m.useRef)(null),y=(0,h.default)(t,v),C=e=>{var t;null===(t=v.current)||void 0===t||t.onClick(e)},M=n.isFirstParty?m.default.createElement(l.default,{stickerPackId:n.stickerPackId,onStickerPackView:e.onStickerPackView,stickerPackViewDelay:e.stickerPackViewDelay,sticker:new f.StickerModel({id:n.filehash,mimetype:n.mimetype,width:n.fullWidth,height:n.fullHeight,filehash:n.filehash,encFilehash:n.encFilehash,directPath:n.directPath,mediaKey:n.mediaKey,mediaKeyTimestamp:n.mediaKeyTimestamp})}):m.default.createElement(s.StickerDetailsStickerPackInfo,{name:n.stickerPackName,publisher:n.stickerPackPublisher,theme:s.Theme.MediaViewer,sticker:new f.StickerModel({id:n.filehash,mimetype:n.mimetype,width:n.fullWidth,height:n.fullHeight,filehash:n.filehash,encFilehash:n.encFilehash,directPath:n.directPath,mediaKey:n.mediaKey,mediaKeyTimestamp:n.mediaKeyTimestamp})});return m.default.createElement(r.FlexColumn,{align:"center",justify:"center",xstyle:b.container},m.default.createElement("div",{className:(0,g.default)(b.container,b.stickerContainer)},m.default.createElement(c.default,{ref:y,width:n.fullWidth,height:n.fullHeight,onZoomIn:e.onImgZoomIn,msg:a},m.default.createElement(i.default,{mediaData:n,placeholderRenderer:()=>m.default.createElement(d.default,{size:376}),downloadMedia:()=>null==a?void 0:a.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:p.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!1})},(t=>m.default.createElement(o.default,{className:(0,g.default)(u.default.content),onClick:C,src:t,onLoad:e.onLoad}))))),M)};var C=(0,m.forwardRef)(y);t.default=C},177046:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(66985)),r=n(a(49677)),o=n(a(932325)),i=a(172259),u=n(a(996513)),c=n(a(821384)),s=a(728),d=a(31900),f=a(277037),p=a(541345),m=a(244186),g=a(962647),h=n(a(439114)),E=a(130756),v=a(113189),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),y=n(a(156720)),C=a(655241);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}function P(e,t){var a;const{autoPlay:n,msg:M,onLoad:P,onClose:_,onLoadedData:w,startTime:S=0}=e,O=(0,C.useModelValues)(e.mediaData,["mediaStage","fullWidth","fullHeight","isGif","isViewOnce","preview","renderableUrl","streamable"]),[I,T]=(0,b.useState)(!1),[A,N]=(0,b.useState)(!0),D=(0,b.useRef)(),R=(0,b.useMemo)((()=>(O.mediaStage===i.MEDIA_DATA_STAGE.RESOLVED||O.streamable&&O.isStreamable())&&(0,v.isNonZeroNumber)(O.fullWidth)&&(0,v.isNonZeroNumber)(O.fullHeight)?function(e){if(e.isGif){const t=330;return e.fullWidth>=t?{width:e.fullWidth,height:e.fullHeight}:{width:t,height:e.fullHeight*t/e.fullWidth}}if(e.fullWidth>=d.MIN_WIDTH)return{width:e.fullWidth,height:e.fullHeight};return{width:d.MIN_WIDTH,height:e.fullHeight}}(O):{width:0,height:0}),[O]);(0,b.useEffect)((()=>{if(!O.isStreamable())return M.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:E.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0}),()=>{M.mediaObject&&M.cancelDownload()}}),[]);const x=e=>{T(e)};(0,b.useImperativeHandle)(t,(()=>({getContainerElement:()=>D.current,closingMedia(){N(!1)}})));const L=O.isGif;let j=O.mediaStage===i.MEDIA_DATA_STAGE.RESOLVED||O.streamable&&O.isStreamable();j=j||M.isForcingRMR();let B=null;const G=m.ReactionBubbleType.MEDIA_ITEM;if(M&&(0,g.shouldShowReactionBubble)(M,G)&&(B=b.default.createElement(p.ReactionBubbleContainer,{msgIds:[M.id.toString()],reactionBubbleType:G,reactionBubbleVisible:A})),j){const e=o.default.t(628);let t,a;return!I&&(null==M?void 0:M.interactiveAnnotations)&&M.interactiveAnnotations.length>0&&(t=b.default.createElement(l.default,{annotations:M.interactiveAnnotations})),a=L?b.default.createElement("div",{className:(0,y.default)(u.default.content),ref:D},b.default.createElement(h.default,{src:O.renderableUrl,onClick:k,autoPlay:!0,loop:!0,onLoadedData:w},e),t):b.default.createElement("div",{ref:D,className:(0,y.default)(u.default.content),onClick:k},b.default.createElement(f.WrappedMsgVideoPlayer,{msg:M,mediaData:O,startTime:S,onClose:_,onError:()=>{},onFullscreenToggle:x,autoPlay:n,type:s.PLAYER_TYPE.MEDIA_VIEWER,overlays:t,noPip:M.isViewOnce,onLoadedData:w})),b.default.createElement(c.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:R,onObjectLoad:P},a,B)}return b.default.createElement(c.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:{width:O.fullWidth,height:O.fullHeight}},b.default.createElement(r.default,{altText:null!==(a=M.caption)&&void 0!==a?a:"",mediaData:O}),B)}var _=(0,b.forwardRef)(P);function k(e){e.stopPropagation()}t.default=_},933147:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,onImageLoad:a,isAnimatingIn:n,onImgZoomIn:r,onExitAnimation:T,onBack:U}=e,[Y,q,X,Z,Q,$,J,ee,te]=(0,F.useMsgValues)(e.msg.id,[w.getId,w.getStar,s.getIsUnsentMedia,w.getIsViewOnce,w.getIsStickerMsg,w.getCaption,w.getInteractiveAnnotations,w.getType,w.getMessageSecret]),ae=(0,s.getChat)(t),ne=(0,G.useModelValues)(e.mediaData,["mediaStage","type","isGif"]),le=(0,V.default)(n),re=(0,B.useRef)(null),oe=(0,B.useRef)(null),ie=(0,B.useRef)(null),ue=(0,B.useRef)(null),ce=(0,B.useRef)(),se=(0,B.useRef)(!1),de=(0,B.useRef)(!1),fe=(0,B.useRef)(!1),[pe,me]=(0,W.default)(I.NUX.EPHEMERAL_VIEW_ONCE_RECEIVER),ge=Z&&pe,[he]=(0,B.useState)((()=>ne.mediaStage===C.MEDIA_DATA_STAGE.RESOLVED&&e.isAnimatingIn&&e.getZoomNode?e.getZoomNode(Y):null)),[Ee,ve]=(0,B.useState)(!1),[be,ye]=(0,B.useState)(!1),[Ce,Me]=(0,B.useState)(!e.isAnimatingIn),[Pe,_e]=(0,B.useState)(!1),[ke,we]=(0,B.useState)(!1),Se=()=>{const e=B.default.createElement(L.default,{isPhoto:ne.type===h.default.TYPE.IMAGE,onOkClick:()=>{me(),k.ModalManager.close()}});k.ModalManager.open(e)},Oe=(0,H.default)(((e,t)=>{if(be)return;const a=re.current;if(!a)return;const n=a.getInsideContainer();if(!(n&&n instanceof HTMLElement))return;const l=a.getOutsideContainer();if(!(l&&l instanceof HTMLElement))return;const{translateX:r,translateY:o}=a.getTranslatePosition(l,e,t);(0,x.default)(n,"stop"),(0,x.default)(n,{translateX:r,translateY:o,scale:M.ZOOM_IN_FACTOR},{duration:0})}));(0,B.useEffect)((()=>(__LOG__(2)`MediaViewerModal: Opened`,ge&&Se(),u.default.focus(ue.current),()=>{__LOG__(2)`MediaViewerModal: Closed`,Oe.cancel()})),[]);const Ie=()=>{Z&&(0,m.canMarkPlayed)(t)&&(0,m.markPlayed)(t)},Te=e=>{Ie(),a&&a();const t=he,l=e.target;t&&l&&n&&l instanceof HTMLElement&&(fe.current||(fe.current=!0,((e,t)=>{var a;const n=t.getBoundingClientRect(),l=e.getBoundingClientRect();let r=l.top-n.top,o=l.left-n.left;const i=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,o-=(t.clientWidth-e.clientWidth)/2,(0,x.default)(t,{opacity:[1,0],translateX:[0,o],translateY:[0,r],scale:[1,i]},{duration:M.ANIMATION_DURATION,easing:[.1,.82,.25,1]});const u=null===(a=ie.current)||void 0===a?void 0:a.getElement();u&&(0,x.default)(u,{opacity:[1,0]},{duration:M.ANIMATION_DURATION})})(t,l)))},Ae=()=>{var t;if(se.current)return;se.current=!0,(0,l.isFunction)(T)&&T();const a=e.getZoomNode&&e.getZoomNode(Y);if(!a)return U();let n;var r;if([h.default.TYPE.IMAGE,h.default.TYPE.STICKER].includes(ne.type)&&re.current)n=re.current.getInsideContainer(),null===(r=re.current)||void 0===r||r.closingMediaZoomable();else if(ne.isGif&&oe.current){var o;n=oe.current.getContainerElement(),null===(o=oe.current)||void 0===o||o.closingMedia()}if(!n)return U();const i=n,u=n.getBoundingClientRect(),c=a.getBoundingClientRect();let s=c.top-u.top,d=c.left-u.left;const f=a.clientWidth/i.clientWidth;s-=(i.clientHeight-a.clientHeight)/2,d-=(i.clientWidth-a.clientWidth)/2,(0,x.default)(n,{translateX:[d,0],translateY:[s,0],scale:[f,1]},{duration:M.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then((()=>{U()}));const p=null===(t=ie.current)||void 0===t?void 0:t.getElement();p&&(0,x.default)(p,{opacity:[0,1]},{duration:M.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]})},Ne=e=>{const t=re.current;e&&t&&(de.current=t.getHeightOverflow()>0||t.getWidthOverflow()>0),ve(e),r(e)},De=e=>{var t;const a=null===(t=re.current)||void 0===t?void 0:t.getInsideContainer(),l=Boolean(null==a?void 0:a.contains(document.activeElement));if(n||!l)return;Oe.cancel();const r=re.current;null!=r&&r.onKeyboardZoom(e)},Re=()=>{we(!0)},xe=()=>{ye(!0)},Le=()=>{ye(!1)},je=e=>{e.stopPropagation(),_e(!Pe)};let Be,Ge;switch((0,B.useEffect)((()=>{n||Ce||!le||Me(!0)}),[n,Ce,le]),(0,N.useTsNavigation)({surface:"media-viewer"}),ne.type){case h.default.TYPE.IMAGE:Be=B.default.createElement(E.default,{key:Y.toString(),msg:t,mediaData:ne,onLoad:Te,onImgZoomIn:Ne,onAnnotationTooltipDisplay:xe,onAnnotationTooltipDismiss:Le,preventDownload:Z,ref:re});break;case h.default.TYPE.STICKER:Be=B.default.createElement(y.default,{key:Y.toString(),msg:t,mediaData:ne,onLoad:Te,onImgZoomIn:Ne,onStickerPackView:Ae,stickerPackViewDelay:M.CLOSE_ANIMATION_DURATION,ref:re});break;case h.default.TYPE.VIDEO:Be=B.default.createElement(P.default,{key:Y.toString(),autoPlay:!ge,msg:t,mediaData:ne,onLoadedData:ne.isGif?Te:Ie,startTime:e.startTime,onClose:Ae,ref:oe});break;case h.default.TYPE.AUDIO:Be=B.default.createElement(g.default,{mediaData:ne,key:Y.toString(),msg:t});break;default:__LOG__(4,void 0,new Error,!0)`type: ${ne.type}`,SEND_LOGS("MediaViewerModal: unexpected media type")}const Fe=e.msgIndexInAlbum>=0&&e.albumSize>=0;if($||Fe){let a;Fe&&(a=p.default.t(505,{number:e.msgIndexInAlbum+1,totalNumber:e.albumSize}));const n=c.Conversation({mentions:t.mentionMap(),groupMentions:t.groupMentionMap(),phoneNumbers:(0,O.getPhoneNumbersFromMsg)(t),links:(0,S.getLinksFromMsg)(t),trusted:!0,fromMe:Y.fromMe,fromChatWid:Y.remote}),l=ne.type===h.default.TYPE.IMAGE&&!Z,r=!Ce&&(ne.isGif||l);Ge=B.default.createElement(B.default.Fragment,null,B.default.createElement("p",{className:(0,o.classnamesConvertMeToStylexPlease)({[_.default.captionWrapperExpandable]:!0===ce.current,[_.default.captionWrapper]:!0}),onClick:ce.current?je:void 0,title:ce.current?j.fbt._("Read more",null,{hk:"2DvSvh"}):void 0,"aria-hidden":Pe||void 0},B.default.createElement(i.EmojiText,{className:(0,o.classnamesConvertMeToStylexPlease)({[_.default.captionHidden]:r,[_.default.expanded]:Pe,[_.default.mediaCaption]:!0}),formatters:n,ref:e=>{ie.current=e},text:$||a}),ce.current&&B.default.createElement(R.default,{xstyle:[z.captionReadMoreBtn,Pe&&z.captionReadMoreBtnExpanded,Ee&&z.captionReadMoreBtnZoomed],onClick:je},B.default.createElement(A.TextSpan,null,j.fbt._("Read more",null,{hk:"2DvSvh"})))),Pe&&B.default.createElement("p",{className:(0,o.classnamesConvertMeToStylexPlease)(_.default.captionWrapper,_.default.captionWrapperExpandable,_.default.captionExpanded),onClick:je},B.default.createElement(i.EmojiText,{className:(0,o.classnamesConvertMeToStylexPlease)(_.default.mediaCaption,_.default.mediaCaptionExpanded),formatters:n,text:$})))}const We=(0,o.classnamesConvertMeToStylexPlease)({[_.default.mediaWithCaption]:!!Ge,[_.default.media]:!0}),Ve=(0,o.classnamesConvertMeToStylexPlease)({[_.default.noThumbnails]:Z||Q,[_.default.mediaViewerAnimate]:e.isAnimatingIn,[_.default.cursorZoomOut]:Ee,overlay:!0,[_.default.mediaViewer]:!0}),He=Ee&&de.current?e=>{Oe(e.pageX,e.pageY)}:null,Ue=Ee?e=>{Oe.cancel();const t=re.current;t&&Ee&&t.onClick(e)}:null;let Ye=Ee?null:Ae;null!=Ye&&Z&&(Ye=Re);return B.default.createElement(D.UIE,{displayName:"MediaViewer",escapable:!0,requestDismiss:Ae},B.default.createElement(f.HotKeys,{handlers:{space:De,enter:De},ref:ue},B.default.createElement("div",{className:Ve,"data-animate-media-viewer":!0,onClick:Ue,onMouseMove:He},B.default.createElement(v.default,{isHighlightClose:ke,msg:t,mediaData:ne,onClose:Ae,onHightlightCloseEnd:()=>{we(!1)},onViewOnceInfoClick:()=>{Se()},msgIndexInAlbum:e.msgIndexInAlbum}),B.default.createElement("div",{className:(0,o.classnamesConvertMeToStylexPlease)({[_.default.sticker]:Q,[_.default.mediaContent]:!0}),onClick:Ye},B.default.createElement(K,{hasNavigationButtons:!Z&&!Q,onNext:e.onNext,onPrev:e.onPrev,imgZoomed:Ee},B.default.createElement("div",{className:We},B.default.createElement(b.default,{msg:t,mediaData:ne}),Be,B.default.createElement(d.default.Provider,{value:ae.groupMetadata},Ge)))))))};var l=a(724976),r=a(305989),o=a(396574),i=a(305521),u=n(a(335540)),c=Y(a(675886)),s=a(163755),d=n(a(462824)),f=a(81644),p=n(a(932325)),m=a(711735),g=n(a(883537)),h=n(a(116253)),E=n(a(142958)),v=n(a(548290)),b=n(a(36886)),y=n(a(777361)),C=a(172259),M=a(69315),P=n(a(177046)),_=n(a(192639)),k=a(114850),w=a(787742),S=a(44118),O=a(527530),I=a(95589),T=a(435595),A=a(180519),N=a(717089),D=a(392632),R=n(a(625903)),x=n(a(330619)),L=n(a(25683)),j=a(548360),B=Y(a(667294)),G=(n(a(156720)),a(655241)),F=a(871210),W=n(a(157558)),V=n(a(49710)),H=n(a(286481));function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(U=function(e){return e?a:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=U(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}const z={captionReadMoreBtn:{position:"lhggkp7q",end:"h223g3sc",bottom:"jxacihee",paddingTop:"ppypbuwx",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"nu34rnf1",backgroundColor:"idmi9oma",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",boxShadow:"a95fzlb5"},captionReadMoreBtnExpanded:{visibility:"kojwoqec"},captionReadMoreBtnZoomed:{visibility:"kqpkm0zi",opacity:"lxctpz5v"}};function q(e){null==e||e.stopPropagation()}function K(e){var t,a,n,l;return B.default.createElement(B.default.Fragment,null,e.hasNavigationButtons&&B.default.createElement("div",{className:(0,o.classnamesConvertMeToStylexPlease)(_.default.btnMediaPrev)},B.default.createElement("div",{onClick:e.onPrev?null:q},B.default.createElement(r.ChevronButton,{type:r.ButtonType.Prev,onClick:null!==(t=e.onPrev)&&void 0!==t?t:void 0,onKeyDown:null!==(a=e.onPrev)&&void 0!==a?a:void 0,disabled:!e.onPrev||e.imgZoomed,theme:T.RoundTheme.Default}))),e.children,e.hasNavigationButtons&&B.default.createElement("div",{className:(0,o.classnamesConvertMeToStylexPlease)(_.default.btnMediaNext)},B.default.createElement("div",{onClick:e.onPrev?null:q},B.default.createElement(r.ChevronButton,{type:r.ButtonType.Next,onClick:null!==(n=e.onNext)&&void 0!==n?n:void 0,onKeyDown:null!==(l=e.onNext)&&void 0!==l?l:void 0,disabled:!e.onNext||e.imgZoomed,theme:T.RoundTheme.Default}))))}},467201:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e,a=(0,r.getChat)(t);return s.default.createElement(l.DropdownItem,{action:()=>{o.ModalManager.open(s.default.createElement(i.default,{chat:a,msg:t,spamFlow:u.SpamFlow.MediaViewer}))}},c.fbt._("Report",null,{hk:"GPSDP"}))};var l=a(675085),r=a(163755),o=a(114850),i=n(a(207511)),u=a(453603),c=a(548360),s=n(a(667294))},774396:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e;return d.default.createElement(l.DropdownItem,{action:()=>{(0,i.logRTAReportingEvent)({reportToAdminInteraction:c.REPORT_TO_ADMIN_INTERACTION.CLICK_SEND_FOR_ADMIN_REVIEW,groupId:(0,r.getChat)(t).id.user}),o.ModalManager.open(d.default.createElement(u.default,{msg:t}))}},s.fbt._("Send for admin review",null,{hk:"4ouSa6"}))};var l=a(675085),r=a(163755),o=a(114850),i=a(626163),u=n(a(286391)),c=a(130756),s=a(548360),d=n(a(667294))},266648:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{mediaMsgs:t,onScroll:a,activeMsg:n}=e,r=(0,d.useRef)({}),o=(0,d.useRef)(null),i=(0,d.useRef)(null),u=(0,f.default)(n.id),m=()=>{var e;null===(e=o.current)||void 0===e||e.focusOnActive()};(0,d.useEffect)((()=>{var e;(null===(e=i.current)||void 0===e?void 0:e.contains(document.activeElement))&&!n.id.equals(u)&&m()}),[n,u]);const g=()=>{const e=new Map;return t.forEach((t=>{const a=t.id.toString();e.set(a,(e=>{const t=r.current[e];if(!t)return!1;const a=t.getBoundingClientRect(),n=(a.left+a.right)/2;return!(n>-1*window.innerWidth&&n<2*window.innerWidth)})(a))})),e},[E,v]=(0,d.useState)(g),b=(0,p.default)((()=>{const e=g();(0,l.default)(E,e)||v(e)}),100);return d.default.createElement("div",{className:c.default.thumbsContainer,ref:e.setRefThumbsContainer},d.default.createElement("div",{ref:i,className:c.default.scrollContainer,dir:"ltr"},d.default.createElement("div",{role:"list","aria-label":s.fbt._("Media List",null,{hk:"3dsEfq"}),tabIndex:1,onFocus:()=>{m()},onScroll:e=>{b(),a(e)},className:c.default.viewerThumbs,ref:e.setRefThumbs},d.default.createElement(h,{ref:o,mediaMsgs:t,highlightedMsgIds:e.highlightedMsgIds,activeMsg:e.activeMsg,onSetActiveThumb:e.onSetActiveThumb,onSelectThumb:e.onSelectThumb,msgIdToPreferPreview:E}))))};var l=n(a(621733)),r=n(a(335540)),o=a(125922),i=a(787742),u=a(956113),c=n(a(572028)),s=a(548360),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(667294)),f=n(a(49710)),p=n(a(286481));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function g(e,t){let{mediaMsgs:a,highlightedMsgIds:n,activeMsg:l,onSetActiveThumb:s,onSelectThumb:f,msgIdToPreferPreview:p}=e;const m=(0,d.useRef)({}),g=()=>{const e=l.id.toString(),t=m.current[e];t&&r.default.focus(t)};(0,d.useImperativeHandle)(t,(()=>({focusOnActive:g})));const h=n&&n.size>0&&n.has(l.id.toString()),E=[];return a.forEach((e=>{if(null==e.mediaData){const t=l;return void __LOG__(3,!0)`MediaViewerFlow: attempted to render a msg without mediaData: ${JSON.stringify({type:e.type,isMedia:(0,i.getIsMedia)(e),startMsgType:t.type,startMsgIsMedia:(0,i.getIsMedia)(t)})}`}const t=h&&n&&!n.has(e.id.toString())?"viewerFlowTransparent":"viewerFlow";E.push(d.default.createElement(o.MediaThumb,{theme:t,active:e===l,msg:e,containerRef:t=>{((e,t)=>{m.current[t]=e})(t,e.id.toString()),e===l&&s(t)},key:`media-${e.id.id}`,onClick:()=>{f(e)},preferPreview:!!p.get(e.id.toString()),showTooltip:(0,i.getIsGroupMsg)(e)}))})),E.push(d.default.createElement("div",{className:c.default.mediaThumb,key:"spinner-right"},a.queryMediaAfter?d.default.createElement(u.Spinner,{stroke:6,size:24}):null)),E.unshift(d.default.createElement("div",{className:c.default.mediaThumb,key:"spinner-left"},a.queryMediaBefore?d.default.createElement(u.Spinner,{stroke:6,size:24}):null)),E.push(d.default.createElement("div",{className:c.default.thumbPadding,key:"padding-right"})),E.unshift(d.default.createElement("div",{className:c.default.thumbPadding,key:"padding-left"})),d.default.createElement(d.default.Fragment,null,E)}const h=(0,d.forwardRef)(g);h.displayName="MediaThumbs"},25683:(e,t,a)=>{"use strict";var n=a(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onOkClick:t}=e;return p.default.createElement(l.ConfirmPopup,{onOK:t,cancelText:c.default.t(393),onCancel:()=>{(0,r.openExternalLink)((0,o.getViewOnceFaqUrl)())}},p.default.createElement(i.FlexColumn,null,p.default.createElement(u.default,{xstyle:m.graphic,align:"center"},p.default.createElement(d.ViewOnceSenderNuxIcon,{width:195,height:177})),p.default.createElement(s.WDSTextLarge,null,e.isPhoto?f.fbt._("This photo is set to view once",null,{hk:"2H7aHc"}):f.fbt._("This video is set to view once",null,{hk:"1w8WFf"})),p.default.createElement(s.WDSTextMuted,null,e.isPhoto?f.fbt._("For more privacy, this photo will disappear after you close it.",null,{hk:"1XZPqi"}):f.fbt._("For more privacy, this video will disappear after you close it.",null,{hk:"3YgUHE"}))))};var l=a(103440),r=a(753233),o=a(258105),i=a(690495),u=n(a(469733)),c=n(a(932325)),s=a(180519),d=a(875602),f=a(548360),p=n(a(667294));n(a(156720));const m={graphic:{marginBottom:"t4zgqcuo"}}},986458:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={footerNote:"_3Ii0U",getTheAppLink:"_2uO1h"}},750478:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={wrapper:"_1HfA2",code:"_25NCw",codeDarkMode:"_3p_Xc",codeLogo:"_3cy64"}},663945:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={msg:"_7Upvn",text:"_3Q6VG",bubble:"_3cupO",author:"LldYr",hasSuspiciousLinks:"_1BEFs",hasAuthor:"_28v58",suspiciousLabel:"_1kBNA"}},363467:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={businessHoursRow:"_3sfEB",firstRow:"_2sBkJ",businessHoursDay:"_2pvvT",businessHoursHours:"_3kLLJ",dayIsOpen:"_29-HA",businessHoursChevron:"_2XvVc",flipSvg:"_3fNaY"}},850858:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={section:"_1we7x",description:"_2JSHQ",map:"mSpzh"}},161160:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={contactBusinessInfo:"vXoia",contactBusinessInfoSpinner:"_3sbaB",dataRow:"_2hU95",businessHoursRow:"_229jY",businessHoursDay:"_2Ue47",businessHoursHours:"_150zM",businessHoursChevron:"_1Biw6",flipSvg:"_2McRc",dataRowIcon:"XiT7h",dataRowText:"_1jydV",businessMap:"_2WOiM",address:"_2LXal",link:"_3mxhI",infoIcon:"_3TfXM"}},936027:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaViewerPlaceholder:"_2qUle",imageAudio:"_1leJw",mediaViewerAudio:"_17zHt"}},572028:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={thumbsContainer:"_3GUJh",scrollContainer:"_27n9o",viewerThumbs:"_1P0Vh",mediaThumb:"_2nI8K",thumbPadding:"_1s0h2"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components.af306c3c60b581d3d21d.js.map
