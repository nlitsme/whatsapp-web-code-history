/*! For license information please see vendors~lazy_loaded_attach_media_flow~lazy_loaded_photo_picker.87e43a74da00d3d2898e.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{cfabbaghh:function(t,e){var i=i||{};i.extend=function(t,e){"use strict";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},(i=i||{}).promote=function(t,e){"use strict";var i=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n)for(var s in i[(e+="_")+"constructor"]=n.constructor,n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[e+s]=n[s]);return t},(i=i||{}).indexOf=function(t,e){"use strict";for(var i=0,n=t.length;n>i;i++)if(e===t[i])return i;return-1},i=i||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},i.Event=t}(),i=i||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n,s=(n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return s&&this.removeEventListener(t,e,i),(s=n[t])?s.push(e):n[t]=[e],e},e.on=function(t,e,i,n,s,r){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,(function(t){e.call(i,t,s),n&&t.remove()}),r)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[t];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==e){1==a?delete n[t]:s.splice(r,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var s=this._listeners;if(!(e||s&&s[t]))return!0;t=new i.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var r=this,a=[r];r.parent;)a.push(r=r.parent);var h,o=a.length;for(h=o-1;h>=0&&!t.propagationStopped;h--)a[h]._dispatchEvent(t,1+(0==h));for(h=1;o>h&&!t.propagationStopped;h++)a[h]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n=1==e?this._captureListeners:this._listeners;if(t&&n){var s=n[t.type];if(!s||!(i=s.length))return;try{t.currentTarget=this}catch(t){}try{t.eventPhase=e}catch(t){}t.removed=!1,s=s.slice();for(var r=0;i>r&&!t.immediatePropagationStopped;r++){var a=s[r];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}},i.EventDispatcher=t}(),i=i||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.useRAF=!1,t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,i.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval};try{Object.defineProperties(t,{interval:{get:t.getInterval,set:t.setInterval},framerate:{get:t.getFPS,set:t.setFPS}})}catch(t){console.log(t)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=0,t._inited=!1},t.getMeasuredTickTime=function(e){var i=0,n=t._tickTimes;if(!n||n.length<1)return-1;e=Math.min(n.length,e||0|t.getFPS());for(var s=0;e>s;s++)i+=n[s];return i/e},t.getMeasuredFPS=function(e){var i=t._times;return!i||i.length<2?-1:(e=Math.min(i.length-1,e||0|t.getFPS()),1e3/((i[0]-i[e])/e))},t.setPaused=function(e){t.paused=e},t.getPaused=function(){return t.paused},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode||t.useRAF&&t.RAF_SYNCHED;if(e==t.RAF_SYNCHED||e==t.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return t._timerId=i(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,n=t._getTime(),s=n-t._lastTime;if(t._lastTime=n,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=s),t.hasEventListener("tick")){var r=new i.Event("tick"),a=t.maxDelta;r.delta=a&&s>a?a:s,r.paused=e,r.time=n,r.runTime=n-t._pausedTime,t.dispatchEvent(r)}for(t._tickTimes.unshift(t._getTime()-n);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(n);t._times.length>100;)t._times.pop()};var e=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return(e&&e.call(performance)||(new Date).getTime())-t._startTime},i.Ticker=t}(),i=i||{},function(){"use strict";function t(){throw"UID cannot be instantiated"}t._nextID=0,t.get=function(){return t._nextID++},i.UID=t}(),i=i||{},function(){"use strict";function t(t,e,i,n,s,r,a,h,o,l,c){this.Event_constructor(t,e,i),this.stageX=n,this.stageY=s,this.rawX=null==o?n:o,this.rawY=null==l?s:l,this.nativeEvent=r,this.pointerID=a,this.primary=!!h,this.relatedTarget=c}var e=i.extend(t,i.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},e._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(t){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},i.MouseEvent=i.promote(t,"Event")}(),i=i||{},function(){"use strict";function t(t,e,i,n,s,r){this.setValues(t,e,i,n,s,r)}var e=t.prototype;t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,e,i,n,s,r){return this.a=null==t?1:t,this.b=e||0,this.c=i||0,this.d=null==n?1:n,this.tx=s||0,this.ty=r||0,this},e.append=function(t,e,i,n,s,r){var a=this.a,h=this.b,o=this.c,l=this.d;return(1!=t||0!=e||0!=i||1!=n)&&(this.a=a*t+o*e,this.b=h*t+l*e,this.c=a*i+o*n,this.d=h*i+l*n),this.tx=a*s+o*r+this.tx,this.ty=h*s+l*r+this.ty,this},e.prepend=function(t,e,i,n,s,r){var a=this.a,h=this.c,o=this.tx;return this.a=t*a+i*this.b,this.b=e*a+n*this.b,this.c=t*h+i*this.d,this.d=e*h+n*this.d,this.tx=t*o+i*this.ty+s,this.ty=e*o+n*this.ty+r,this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.appendTransform=function(e,i,n,s,r,a,h,o,l){if(r%360)var c=r*t.DEG_TO_RAD,u=Math.cos(c),d=Math.sin(c);else u=1,d=0;return a||h?(a*=t.DEG_TO_RAD,h*=t.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(a),Math.cos(a),e,i),this.append(u*n,d*n,-d*s,u*s,0,0)):this.append(u*n,d*n,-d*s,u*s,e,i),(o||l)&&(this.tx-=o*this.a+l*this.c,this.ty-=o*this.b+l*this.d),this},e.prependTransform=function(e,i,n,s,r,a,h,o,l){if(r%360)var c=r*t.DEG_TO_RAD,u=Math.cos(c),d=Math.sin(c);else u=1,d=0;return(o||l)&&(this.tx-=o,this.ty-=l),a||h?(a*=t.DEG_TO_RAD,h*=t.DEG_TO_RAD,this.prepend(u*n,d*n,-d*s,u*s,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(a),Math.cos(a),e,i)):this.prepend(u*n,d*n,-d*s,u*s,e,i),this},e.rotate=function(e){e*=t.DEG_TO_RAD;var i=Math.cos(e),n=Math.sin(e),s=this.a,r=this.b;return this.a=s*i+this.c*n,this.b=r*i+this.d*n,this.c=-s*n+this.c*i,this.d=-r*n+this.d*i,this},e.skew=function(e,i){return e*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},e.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,r=t*n-e*i;return this.a=n/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-n*s)/r,this.ty=-(t*this.ty-e*s)/r,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},e.transformPoint=function(t,e,i){return(i=i||{}).x=t*this.a+e*this.c+this.tx,i.y=t*this.b+e*this.d+this.ty,i},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a);return 1e-5>Math.abs(1-i/n)?(e.rotation=n/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=i/t.DEG_TO_RAD,e.skewY=n/t.DEG_TO_RAD),e},e.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,i.Matrix2D=t}(),i=i||{},function(){"use strict";function t(t,e,i,n,s){this.setValues(t,e,i,n,s)}var e=t.prototype;e.setValues=function(t,e,n,s,r){return this.visible=null==t||!!t,this.alpha=null==e?1:e,this.shadow=n,this.compositeOperation=s,this.matrix=r||this.matrix&&this.matrix.identity()||new i.Matrix2D,this},e.append=function(t,e,i,n,s){return this.alpha*=e,this.shadow=i||this.shadow,this.compositeOperation=n||this.compositeOperation,this.visible=this.visible&&t,s&&this.matrix.appendMatrix(s),this},e.prepend=function(t,e,i,n,s){return this.alpha*=e,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||n,this.visible=this.visible&&t,s&&this.matrix.prependMatrix(s),this},e.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},i.DisplayProps=t}(),i=i||{},function(){"use strict";function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){return this.x=t||0,this.y=e||0,this},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},i.Point=t}(),i=i||{},function(){"use strict";function t(t,e,i,n){this.setValues(t,e,i,n)}var e=t.prototype;e.setValues=function(t,e,i,n){return this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this},e.extend=function(t,e,i,n){return n=n||0,t+(i=i||0)>this.x+this.width&&(this.width=t+i-this.x),e+n>this.y+this.height&&(this.height=e+n-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},e.pad=function(t,e,i,n){return this.x-=e,this.y-=t,this.width+=e+n,this.height+=t+i,this},e.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},e.contains=function(t,e,i,n){return i=i||0,n=n||0,t>=this.x&&t+i<=this.x+this.width&&e>=this.y&&e+n<=this.y+this.height},e.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},e.intersection=function(e){var i=e.x,n=e.y,s=i+e.width,r=n+e.height;return this.x>i&&(i=this.x),this.y>n&&(n=this.y),this.x+this.width<s&&(s=this.x+this.width),this.y+this.height<r&&(r=this.y+this.height),i>=s||n>=r?null:new t(i,n,s-i,r-n)},e.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},e.isEmpty=function(){return this.width<=0||this.height<=0},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},i.Rectangle=t}(),i=i||{},function(){"use strict";function t(t,e,i,n,s,r,a){t.addEventListener&&(this.target=t,this.overLabel=null==i?"over":i,this.outLabel=null==e?"out":e,this.downLabel=null==n?"down":n,this.play=s,this._isPressed=!1,this._isOver=!1,this._enabled=!1,t.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),r&&(a&&(r.actionsEnabled=!1,r.gotoAndStop&&r.gotoAndStop(a)),t.hitArea=r))}var e=t.prototype;e.setEnabled=function(t){if(t!=this._enabled){var e=this.target;this._enabled=t,t?(e.cursor="pointer",e.addEventListener("rollover",this),e.addEventListener("rollout",this),e.addEventListener("mousedown",this),e.addEventListener("pressup",this),e._reset&&(e.__reset=e._reset,e._reset=this._reset)):(e.cursor=null,e.removeEventListener("rollover",this),e.removeEventListener("rollout",this),e.removeEventListener("mousedown",this),e.removeEventListener("pressup",this),e.__reset&&(e._reset=e.__reset,delete e.__reset))}},e.getEnabled=function(){return this._enabled};try{Object.defineProperties(e,{enabled:{get:e.getEnabled,set:e.setEnabled}})}catch(t){}e.toString=function(){return"[ButtonHelper]"},e.handleEvent=function(t){var e,i=this.target,n=t.type;"mousedown"==n?(this._isPressed=!0,e=this.downLabel):"pressup"==n?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"rollover"==n?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?i.gotoAndPlay&&i.gotoAndPlay(e):i.gotoAndStop&&i.gotoAndStop(e)},e._reset=function(){var t=this.paused;this.__reset(),this.paused=t},i.ButtonHelper=t}(),i=i||{},function(){"use strict";function t(t,e,i,n){this.color=t||"black",this.offsetX=e||0,this.offsetY=i||0,this.blur=n||0}var e=t.prototype;t.identity=new t("transparent",0,0,0),e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},i.Shadow=t}(),i=i||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(t)}var e=i.extend(t,i.EventDispatcher);e.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(e,{animations:{get:e.getAnimations}})}catch(t){}e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var n=this.getFrame(t);return n?(e||new i.Rectangle).setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){throw"SpriteSheet cannot be cloned."},e._parseData=function(t){var e,n,s,r;if(null!=t){if(this.framerate=t.framerate||0,t.images&&(n=t.images.length)>0)for(r=this._images=[],e=0;n>e;e++){var a=t.images[e];if("string"==typeof a){var h=a;(a=document.createElement("img")).src=h}r.push(a),a.getContext||a.naturalWidth||(this._loadCount++,this.complete=!1,function(t,e){a.onload=function(){t._handleImageLoad(e)}}(this,h),function(t,e){a.onerror=function(){t._handleImageError(e)}}(this,h))}if(null==t.frames);else if(Array.isArray(t.frames))for(this._frames=[],e=0,n=(r=t.frames).length;n>e;e++){var o=r[e];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new i.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else s=t.frames,this._frameWidth=s.width,this._frameHeight=s.height,this._regX=s.regX||0,this._regY=s.regY||0,this._spacing=s.spacing||0,this._margin=s.margin||0,this._numFrames=s.count,0==this._loadCount&&this._calculateFrames();var l;if(this._animations=[],null!=(s=t.animations))for(l in this._data={},s){var c={name:l},u=s[l];if("number"==typeof u)r=c.frames=[u];else if(Array.isArray(u))if(1==u.length)c.frames=[u[0]];else for(c.speed=u[3],c.next=u[2],r=c.frames=[],e=u[0];e<=u[1];e++)r.push(e);else{c.speed=u.speed,c.next=u.next;var d=u.frames;r=c.frames="number"==typeof d?[d]:d.slice(0)}(!0===c.next||void 0===c.next)&&(c.next=l),(!1===c.next||r.length<2&&c.next==l)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(l),this._data[l]=c}}},e._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e._handleImageError=function(t){var e=new i.Event("error");e.src=t,this.dispatchEvent(e),0==--this._loadCount&&this.dispatchEvent("complete")},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,n=this._frameWidth,s=this._frameHeight,r=this._spacing,a=this._margin;t:for(var h=0,o=this._images;h<o.length;h++)for(var l=o[h],c=l.width,u=l.height,d=a;u-a-s>=d;){for(var p=a;c-a-n>=p;){if(e>=t)break t;e++,this._frames.push({image:l,rect:new i.Rectangle(p,d,n,s),regX:this._regX,regY:this._regY}),p+=n+r}d+=s+r}this._numFrames=e}},i.SpriteSheet=i.promote(t,"EventDispatcher")}(),i=i||{},function(){"use strict";function t(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var e=t.prototype,n=t;t.getRGB=function(t,e,i,n){return null!=t&&null==i&&(n=e,i=255&t,e=t>>8&255,t=t>>16&255),null==n?"rgb("+t+","+e+","+i+")":"rgba("+t+","+e+","+i+","+n+")"},t.getHSL=function(t,e,i,n){return null==n?"hsl("+t%360+","+e+"%,"+i+"%)":"hsla("+t%360+","+e+"%,"+i+"%,"+n+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"];var s=i.createCanvas?i.createCanvas():document.createElement("canvas");s.getContext&&(t._ctx=s.getContext("2d"),s.width=s.height=1),e.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(e,{instructions:{get:e.getInstructions}})}catch(t){}e.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},e.draw=function(t,e){this._updateInstructions();for(var i=this._instructions,n=this._storeIndex,s=i.length;s>n;n++)i[n].exec(t,e)},e.drawAsPath=function(t){this._updateInstructions();for(var e,i=this._instructions,n=this._storeIndex,s=i.length;s>n;n++)!1!==(e=i[n]).path&&e.exec(t)},e.moveTo=function(t,e){return this.append(new n.MoveTo(t,e),!0)},e.lineTo=function(t,e){return this.append(new n.LineTo(t,e))},e.arcTo=function(t,e,i,s,r){return this.append(new n.ArcTo(t,e,i,s,r))},e.arc=function(t,e,i,s,r,a){return this.append(new n.Arc(t,e,i,s,r,a))},e.quadraticCurveTo=function(t,e,i,s){return this.append(new n.QuadraticCurveTo(t,e,i,s))},e.bezierCurveTo=function(t,e,i,s,r,a){return this.append(new n.BezierCurveTo(t,e,i,s,r,a))},e.rect=function(t,e,i,s){return this.append(new n.Rect(t,e,i,s))},e.closePath=function(){return this._activeInstructions.length?this.append(new n.ClosePath):this},e.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},e.beginFill=function(t){return this._setFill(t?new n.Fill(t):null)},e.beginLinearGradientFill=function(t,e,i,s,r,a){return this._setFill((new n.Fill).linearGradient(t,e,i,s,r,a))},e.beginRadialGradientFill=function(t,e,i,s,r,a,h,o){return this._setFill((new n.Fill).radialGradient(t,e,i,s,r,a,h,o))},e.beginBitmapFill=function(t,e,i){return this._setFill(new n.Fill(null,i).bitmap(t,e))},e.endFill=function(){return this.beginFill()},e.setStrokeStyle=function(t,e,i,s,r){return this._updateInstructions(!0),this._strokeStyle=this.command=new n.StrokeStyle(t,e,i,s,r),this._stroke&&(this._stroke.ignoreScale=r),this._strokeIgnoreScale=r,this},e.setStrokeDash=function(t,e){return this._updateInstructions(!0),this._strokeDash=this.command=new n.StrokeDash(t,e),this},e.beginStroke=function(t){return this._setStroke(t?new n.Stroke(t):null)},e.beginLinearGradientStroke=function(t,e,i,s,r,a){return this._setStroke((new n.Stroke).linearGradient(t,e,i,s,r,a))},e.beginRadialGradientStroke=function(t,e,i,s,r,a,h,o){return this._setStroke((new n.Stroke).radialGradient(t,e,i,s,r,a,h,o))},e.beginBitmapStroke=function(t,e){return this._setStroke((new n.Stroke).bitmap(t,e))},e.endStroke=function(){return this.beginStroke()},e.curveTo=e.quadraticCurveTo,e.drawRect=e.rect,e.drawRoundRect=function(t,e,i,n,s){return this.drawRoundRectComplex(t,e,i,n,s,s,s,s)},e.drawRoundRectComplex=function(t,e,i,s,r,a,h,o){return this.append(new n.RoundRect(t,e,i,s,r,a,h,o))},e.drawCircle=function(t,e,i){return this.append(new n.Circle(t,e,i))},e.drawEllipse=function(t,e,i,s){return this.append(new n.Ellipse(t,e,i,s))},e.drawPolyStar=function(t,e,i,s,r,a){return this.append(new n.PolyStar(t,e,i,s,r,a))},e.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},e.decodePath=function(e){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],n=[2,2,4,6,0],s=0,r=e.length,a=[],h=0,o=0,l=t.BASE_64;r>s;){var c=e.charAt(s),u=l[c],d=u>>3,p=i[d];if(!p||3&u)throw"bad path data (@"+s+"): "+c;var f=n[d];d||(h=o=0),a.length=0,s++;for(var _=2+(u>>2&1),m=0;f>m;m++){var g=l[e.charAt(s)],v=g>>5?-1:1;g=(31&g)<<6|l[e.charAt(s+1)],3==_&&(g=g<<6|l[e.charAt(s+2)]),g=v*g/10,m%2?h=g+=h:o=g+=o,a[m]=g,s+=_}p.apply(this,a)}return this},e.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},e.unstore=function(){return this._storeIndex=0,this},e.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},e.toString=function(){return"[Graphics]"},e.mt=e.moveTo,e.lt=e.lineTo,e.at=e.arcTo,e.bt=e.bezierCurveTo,e.qt=e.quadraticCurveTo,e.a=e.arc,e.r=e.rect,e.cp=e.closePath,e.c=e.clear,e.f=e.beginFill,e.lf=e.beginLinearGradientFill,e.rf=e.beginRadialGradientFill,e.bf=e.beginBitmapFill,e.ef=e.endFill,e.ss=e.setStrokeStyle,e.sd=e.setStrokeDash,e.s=e.beginStroke,e.ls=e.beginLinearGradientStroke,e.rs=e.beginRadialGradientStroke,e.bs=e.beginBitmapStroke,e.es=e.endStroke,e.dr=e.drawRect,e.rr=e.drawRoundRect,e.rc=e.drawRoundRectComplex,e.dc=e.drawCircle,e.de=e.drawEllipse,e.dp=e.drawPolyStar,e.p=e.decodePath,e._updateInstructions=function(e){var i=this._instructions,n=this._activeInstructions,s=this._commitIndex;if(this._dirty&&n.length){i.length=s,i.push(t.beginCmd);var r=n.length,a=i.length;i.length=a+r;for(var h=0;r>h;h++)i[h+a]=n[h];this._fill&&i.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,i.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,i.push(this._strokeStyle)),i.push(this._stroke)),this._dirty=!1}e&&(n.length=0,this._commitIndex=i.length)},e._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},e._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},(n.LineTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)},(n.MoveTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)},(n.ArcTo=function(t,e,i,n,s){this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.radius=s}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(n.Arc=function(t,e,i,n,s,r){this.x=t,this.y=e,this.radius=i,this.startAngle=n,this.endAngle=s,this.anticlockwise=!!r}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(n.QuadraticCurveTo=function(t,e,i,n){this.cpx=t,this.cpy=e,this.x=i,this.y=n}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(n.BezierCurveTo=function(t,e,i,n,s,r){this.cp1x=t,this.cp1y=e,this.cp2x=i,this.cp2y=n,this.x=s,this.y=r}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(n.Rect=function(t,e,i,n){this.x=t,this.y=e,this.w=i,this.h=n}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},(n.ClosePath=function(){}).prototype.exec=function(t){t.closePath()},(n.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()},(e=(n.Fill=function(t,e){this.style=t,this.matrix=e}).prototype).exec=function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}},e.linearGradient=function(e,i,n,s,r,a){for(var h=this.style=t._ctx.createLinearGradient(n,s,r,a),o=0,l=e.length;l>o;o++)h.addColorStop(i[o],e[o]);return h.props={colors:e,ratios:i,x0:n,y0:s,x1:r,y1:a,type:"linear"},this},e.radialGradient=function(e,i,n,s,r,a,h,o){for(var l=this.style=t._ctx.createRadialGradient(n,s,r,a,h,o),c=0,u=e.length;u>c;c++)l.addColorStop(i[c],e[c]);return l.props={colors:e,ratios:i,x0:n,y0:s,r0:r,x1:a,y1:h,r1:o,type:"radial"},this},e.bitmap=function(e,i){(e.naturalWidth||e.getContext||e.readyState>=2)&&((this.style=t._ctx.createPattern(e,i||"")).props={image:e,repetition:i,type:"bitmap"});return this},e.path=!1,(e=(n.Stroke=function(t,e){this.style=t,this.ignoreScale=e}).prototype).exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},e.linearGradient=n.Fill.prototype.linearGradient,e.radialGradient=n.Fill.prototype.radialGradient,e.bitmap=n.Fill.prototype.bitmap,e.path=!1,(e=(n.StrokeStyle=function(t,e,i,n,s){this.width=t,this.caps=e,this.joints=i,this.miterLimit=n,this.ignoreScale=s}).prototype).exec=function(e){e.lineWidth=null==this.width?"1":this.width,e.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:t.STROKE_CAPS_MAP[this.caps],e.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:t.STROKE_JOINTS_MAP[this.joints],e.miterLimit=null==this.miterLimit?"10":this.miterLimit,e.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},e.path=!1,(n.StrokeDash=function(t,e){this.segments=t,this.offset=e||0}).prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments||n.StrokeDash.EMPTY_SEGMENTS),t.lineDashOffset=this.offset||0)},n.StrokeDash.EMPTY_SEGMENTS=[],(n.RoundRect=function(t,e,i,n,s,r,a,h){this.x=t,this.y=e,this.w=i,this.h=n,this.radiusTL=s,this.radiusTR=r,this.radiusBR=a,this.radiusBL=h}).prototype.exec=function(t){var e=(l>o?o:l)/2,i=0,n=0,s=0,r=0,a=this.x,h=this.y,o=this.w,l=this.h,c=this.radiusTL,u=this.radiusTR,d=this.radiusBR,p=this.radiusBL;0>c&&(c*=i=-1),c>e&&(c=e),0>u&&(u*=n=-1),u>e&&(u=e),0>d&&(d*=s=-1),d>e&&(d=e),0>p&&(p*=r=-1),p>e&&(p=e),t.moveTo(a+o-u,h),t.arcTo(a+o+u*n,h-u*n,a+o,h+u,u),t.lineTo(a+o,h+l-d),t.arcTo(a+o+d*s,h+l+d*s,a+o-d,h+l,d),t.lineTo(a+p,h+l),t.arcTo(a-p*r,h+l+p*r,a,h+l-p,p),t.lineTo(a,h+c),t.arcTo(a-c*i,h-c*i,a+c,h,c),t.closePath()},(n.Circle=function(t,e,i){this.x=t,this.y=e,this.radius=i}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},(n.Ellipse=function(t,e,i,n){this.x=t,this.y=e,this.w=i,this.h=n}).prototype.exec=function(t){var e=this.x,i=this.y,n=this.w,s=this.h,r=.5522848,a=n/2*r,h=s/2*r,o=e+n,l=i+s,c=e+n/2,u=i+s/2;t.moveTo(e,u),t.bezierCurveTo(e,u-h,c-a,i,c,i),t.bezierCurveTo(c+a,i,o,u-h,o,u),t.bezierCurveTo(o,u+h,c+a,l,c,l),t.bezierCurveTo(c-a,l,e,u+h,e,u)},(n.PolyStar=function(t,e,i,n,s,r){this.x=t,this.y=e,this.radius=i,this.sides=n,this.pointSize=s,this.angle=r}).prototype.exec=function(t){var e=this.x,i=this.y,n=this.radius,s=(this.angle||0)/180*Math.PI,r=this.sides,a=1-(this.pointSize||0),h=Math.PI/r;t.moveTo(e+Math.cos(s)*n,i+Math.sin(s)*n);for(var o=0;r>o;o++)s+=h,1!=a&&t.lineTo(e+Math.cos(s)*n*a,i+Math.sin(s)*n*a),s+=h,t.lineTo(e+Math.cos(s)*n,i+Math.sin(s)*n);t.closePath()},t.beginCmd=new n.BeginPath,i.Graphics=t}(),i=i||{},function(){"use strict";function t(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=i.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new i.DisplayProps,this._rectangle=new i.Rectangle,this._bounds=null}var e=i.extend(t,i.EventDispatcher);t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1,t._snapToPixelEnabled=!1;var n=i.createCanvas?i.createCanvas():document.createElement("canvas");n.getContext&&(t._hitTestCanvas=n,t._hitTestContext=n.getContext("2d"),n.width=n.height=1),t._nextCacheID=1,e.getStage=function(){for(var t=this,e=i.Stage;t.parent;)t=t.parent;return t instanceof e?t:null};try{Object.defineProperties(e,{stage:{get:e.getStage}})}catch(t){}e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var i=this.cacheCanvas;if(e||!i)return!1;var n=this._cacheScale;return t.drawImage(i,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,i.width/n,i.height/n),!0},e.updateContext=function(e){var i=this,n=i.mask,s=i._props.matrix;n&&n.graphics&&!n.graphics.isEmpty()&&(n.getMatrix(s),e.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),n.graphics.drawAsPath(e),e.clip(),s.invert(),e.transform(s.a,s.b,s.c,s.d,s.tx,s.ty)),this.getMatrix(s);var r=s.tx,a=s.ty;t._snapToPixelEnabled&&i.snapToPixel&&(r=r+(0>r?-.5:.5)|0,a=a+(0>a?-.5:.5)|0),e.transform(s.a,s.b,s.c,s.d,r,a),e.globalAlpha*=i.alpha,i.compositeOperation&&(e.globalCompositeOperation=i.compositeOperation),i.shadow&&this._applyShadow(e,i.shadow)},e.cache=function(t,e,n,s,r){r=r||1,this.cacheCanvas||(this.cacheCanvas=i.createCanvas?i.createCanvas():document.createElement("canvas")),this._cacheWidth=n,this._cacheHeight=s,this._cacheOffsetX=t,this._cacheOffsetY=e,this._cacheScale=r,this.updateCache()},e.updateCache=function(e){var i=this.cacheCanvas;if(!i)throw"cache() must be called before updateCache()";var n=this._cacheScale,s=this._cacheOffsetX*n,r=this._cacheOffsetY*n,a=this._cacheWidth,h=this._cacheHeight,o=i.getContext("2d"),l=this._getFilterBounds();s+=this._filterOffsetX=l.x,r+=this._filterOffsetY=l.y,a=Math.ceil(a*n)+l.width,h=Math.ceil(h*n)+l.height,a!=i.width||h!=i.height?(i.width=a,i.height=h):e||o.clearRect(0,0,a+1,h+1),o.save(),o.globalCompositeOperation=e,o.setTransform(n,0,0,n,-s,-r),this.draw(o,!0),this._applyFilters(),o.restore(),this.cacheID=t._nextCacheID++},e.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},e.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},e.localToGlobal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,n||new i.Point)},e.globalToLocal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,n||new i.Point)},e.localToLocal=function(t,e,i,n){return n=this.localToGlobal(t,e,n),i.globalToLocal(n.x,n.y,n)},e.setTransform=function(t,e,i,n,s,r,a,h,o){return this.x=t||0,this.y=e||0,this.scaleX=null==i?1:i,this.scaleY=null==n?1:n,this.rotation=s||0,this.skewX=r||0,this.skewY=a||0,this.regX=h||0,this.regY=o||0,this},e.getMatrix=function(t){var e=this,n=t&&t.identity()||new i.Matrix2D;return e.transformMatrix?n.copy(e.transformMatrix):n.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},e.getConcatenatedMatrix=function(t){for(var e=this,i=this.getMatrix(t);e=e.parent;)i.prependMatrix(e.getMatrix(e._props.matrix));return i},e.getConcatenatedDisplayProps=function(t){t=t?t.identity():new i.DisplayProps;var e=this,n=e.getMatrix(t.matrix);do{t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&n.prependMatrix(e.getMatrix(e._props.matrix))}while(e=e.parent);return t},e.hitTest=function(e,i){var n=t._hitTestContext;n.setTransform(1,0,0,1,-e,-i),this.draw(n);var s=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),s},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(t,e,n,s){null==t&&(this._bounds=t),this._bounds=(this._bounds||new i.Rectangle).setValues(t,e,n,s)},e.clone=function(){return this._cloneProps(new t)},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},e._testHit=function(e){try{var i=e.getImageData(0,0,1,1).data[3]>1}catch(e){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},e._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,e=this.cacheCanvas.getContext("2d"),i=this.cacheCanvas.width,n=this.cacheCanvas.height,s=0;t>s;s++)this.filters[s].applyFilter(e,0,0,i,n)},e._getFilterBounds=function(){var t,e=this.filters,i=this._rectangle.setValues(0,0,0,0);if(!e||!(t=e.length))return i;for(var n=0;t>n;n++){var s=this.filters[n];s.getBounds&&s.getBounds(i)}return i},e._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e._transformBounds=function(t,e,i){if(!t)return t;var n=t.x,s=t.y,r=t.width,a=t.height,h=this._props.matrix;h=i?h.identity():this.getMatrix(h),(n||s)&&h.appendTransform(0,0,1,1,0,0,0,-n,-s),e&&h.prependMatrix(e);var o=r*h.a,l=r*h.b,c=a*h.c,u=a*h.d,d=h.tx,p=h.ty,f=d,_=d,m=p,g=p;return(n=o+d)<f?f=n:n>_&&(_=n),(n=o+c+d)<f?f=n:n>_&&(_=n),(n=c+d)<f?f=n:n>_&&(_=n),(s=l+p)<m?m=s:s>g&&(g=s),(s=l+u+p)<m?m=s:s>g&&(g=s),(s=u+p)<m?m=s:s>g&&(g=s),t.setValues(f,m,_-f,g-m)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,i=0,n=e.length;n>i;i++)if(this.hasEventListener(e[i]))return!0;return!!this.cursor},i.DisplayObject=i.promote(t,"EventDispatcher")}(),i=i||{},function(){"use strict";function t(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var e=i.extend(t,i.DisplayObject);e.getNumChildren=function(){return this.children.length};try{Object.defineProperties(e,{numChildren:{get:e.getNumChildren}})}catch(t){}e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var i=this.children.slice(),n=0,s=i.length;s>n;n++){var r=i[n];r.isVisible()&&(t.save(),r.updateContext(t),r.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var i=0;e>i;i++)this.addChild(arguments[i]);return arguments[e-1]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),t.dispatchEvent("added"),t},e.addChildAt=function(t,e){var i=arguments.length,n=arguments[i-1];if(0>n||n>this.children.length)return arguments[i-2];if(i>2){for(var s=0;i-1>s;s++)this.addChildAt(arguments[s],n+s);return arguments[i-2]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.dispatchEvent("added"),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var n=!0,s=0;e>s;s++)n=n&&this.removeChild(arguments[s]);return n}return this.removeChildAt(i.indexOf(this.children,t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var i=[],n=0;e>n;n++)i[n]=arguments[n];i.sort((function(t,e){return e-t}));var s=!0;for(n=0;e>n;n++)s=s&&this.removeChildAt(i[n]);return s}if(0>t||t>this.children.length-1)return!1;var r=this.children[t];return r&&(r.parent=null),this.children.splice(t,1),r.dispatchEvent("removed"),!0},e.removeAllChildren=function(){for(var t=this.children;t.length;)this.removeChildAt(0)},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,i=0,n=e.length;n>i;i++)if(e[i].name==t)return e[i];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return i.indexOf(this.children,t)},e.swapChildrenAt=function(t,e){var i=this.children,n=i[t],s=i[e];n&&s&&(i[t]=s,i[e]=n)},e.swapChildren=function(t,e){for(var i,n,s=this.children,r=0,a=s.length;a>r&&(s[r]==t&&(i=r),s[r]==e&&(n=r),null==i||null==n);r++);r!=a&&(s[i]=e,s[n]=t)},e.setChildIndex=function(t,e){var i=this.children,n=i.length;if(!(t.parent!=this||0>e||e>=n)){for(var s=0;n>s&&i[s]!=t;s++);s!=n&&s!=e&&(i.splice(s,1),i.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e,i){var n=[],s=this.localToGlobal(t,e);return this._getObjectsUnderPoint(s.x,s.y,n,i>0,1==i),n},e.getObjectUnderPoint=function(t,e,i){var n=this.localToGlobal(t,e);return this._getObjectsUnderPoint(n.x,n.y,null,i>0,1==i)},e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var i=this._cloneProps(new t);return e&&this._cloneChildren(i),i},e.toString=function(){return"[Container (name="+this.name+")]"},e._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;e>=0;e--){var i=this.children[e];i.tickEnabled&&i._tick&&i._tick(t)}this.DisplayObject__tick(t)},e._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,i=0,n=this.children.length;n>i;i++){var s=this.children[i].clone(!0);s.parent=t,e.push(s)}},e._getObjectsUnderPoint=function(e,n,s,r,a,h){if(!(h=h||0)&&!this._testMask(this,e,n))return null;var o,l=i.DisplayObject._hitTestContext;a=a||r&&this._hasMouseEventListener();for(var c=this.children,u=c.length-1;u>=0;u--){var d=c[u],p=d.hitArea;if(d.visible&&(p||d.isVisible())&&(!r||d.mouseEnabled)&&(p||this._testMask(d,e,n)))if(!p&&d instanceof t){var f=d._getObjectsUnderPoint(e,n,s,r,a,h+1);if(!s&&f)return r&&!this.mouseChildren?this:f}else{if(r&&!a&&!d._hasMouseEventListener())continue;var _=d.getConcatenatedDisplayProps(d._props);if(o=_.matrix,p&&(o.appendMatrix(p.getMatrix(p._props.matrix)),_.alpha=p.alpha),l.globalAlpha=_.alpha,l.setTransform(o.a,o.b,o.c,o.d,o.tx-e,o.ty-n),(p||d).draw(l),!this._testHit(l))continue;if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!s)return r&&!this.mouseChildren?this:d;s.push(d)}}return null},e._testMask=function(t,e,n){var s=t.mask;if(!s||!s.graphics||s.graphics.isEmpty())return!0;var r=this._props.matrix,a=t.parent;r=a?a.getConcatenatedMatrix(r):r.identity(),r=s.getMatrix(s._props.matrix).prependMatrix(r);var h=i.DisplayObject._hitTestContext;return h.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-n),s.graphics.drawAsPath(h),h.fillStyle="#000",h.fill(),!!this._testHit(h)&&(h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,2,2),!0)},e._getBounds=function(t,e){var i=this.DisplayObject_getBounds();if(i)return this._transformBounds(i,t,e);var n=this._props.matrix;n=e?n.identity():this.getMatrix(n),t&&n.prependMatrix(t);for(var s=this.children.length,r=null,a=0;s>a;a++){var h=this.children[a];h.visible&&(i=h._getBounds(n))&&(r?r.extend(i.x,i.y,i.width,i.height):r=i.clone())}return r},i.Container=i.promote(t,"DisplayObject")}(),i=i||{},function(){"use strict";function t(t){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof t?document.getElementById(t):t,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var e=i.extend(t,i.Container);e._get_nextStage=function(){return this._nextStage},e._set_nextStage=function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(t){}e.update=function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),!1!==this.dispatchEvent("drawstart",!1,!0))){i.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(e?n.clearRect(e.x,e.y,e.width,e.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")}},e.tick=function(t){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var e=new i.Event("tick");if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);this._tick(e),this.dispatchEvent("tickend")}},e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){var i,n=this.canvas.getContext("2d"),s=this.canvas.width,r=this.canvas.height;if(t){i=n.getImageData(0,0,s,r);var a=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,s,r)}var h=this.canvas.toDataURL(e||"image/png");return t&&(n.putImageData(i,0,0),n.globalCompositeOperation=a),h},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(0>=t)return;var e=this;this._mouseOverIntervalID=setInterval((function(){e._testMouseOver()}),1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,i,n=this._eventListeners;if(!t&&n){for(e in n)(i=n[e]).t.removeEventListener(e,i.f,!1);this._eventListeners=null}else if(t&&!n&&this.canvas){var s=window.addEventListener?window:document,r=this;for(e in(n=this._eventListeners={}).mouseup={t:s,f:function(t){r._handleMouseUp(t)}},n.mousemove={t:s,f:function(t){r._handleMouseMove(t)}},n.dblclick={t:this.canvas,f:function(t){r._handleDoubleClick(t)}},n.mousedown={t:this.canvas,f:function(t){r._handleMouseDown(t)}},n)(i=n[e]).t.addEventListener(e,i.f,!1)}},e.clone=function(){throw"Stage cannot be cloned."},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getElementRect=function(t){var e;try{e=t.getBoundingClientRect()}catch(i){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var i=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),n=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),s=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,r=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth),a=parseInt(s.paddingTop)+parseInt(s.borderTopWidth),h=parseInt(s.paddingRight)+parseInt(s.borderRightWidth),o=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:e.left+i+r,right:e.right+i-h,top:e.top+n+a,bottom:e.bottom+n-o}},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,i,n,s){if((!this._prevStage||void 0!==s)&&this.canvas){var r=this._nextStage,a=this._getPointerData(t),h=a.inBounds;this._updatePointerPosition(t,e,i,n),(h||a.inBounds||this.mouseMoveOutside)&&(-1===t&&a.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,t,a,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,a,e),this._dispatchMouseEvent(a.target,"pressmove",!0,t,a,e)),r&&r._handlePointerMove(t,e,i,n,null)}},e._updatePointerPosition=function(t,e,i,n){var s=this._getElementRect(this.canvas);i-=s.left,n-=s.top;var r=this.canvas.width,a=this.canvas.height;i/=(s.right-s.left)/r,n/=(s.bottom-s.top)/a;var h=this._getPointerData(t);(h.inBounds=i>=0&&n>=0&&r-1>=i&&a-1>=n)?(h.x=i,h.y=n):this.mouseMoveOutside&&(h.x=0>i?0:i>r-1?r-1:i,h.y=0>n?0:n>a-1?a-1:n),h.posEvtObj=e,h.rawX=i,h.rawY=n,(t===this._primaryPointerID||-1===t)&&(this.mouseX=h.x,this.mouseY=h.y,this.mouseInBounds=h.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,i,n){var s=this._nextStage,r=this._getPointerData(t);if(!this._prevStage||void 0!==n){var a=null,h=r.target;n||!h&&!s||(a=this._getObjectsUnderPoint(r.x,r.y,null,!0)),r.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,r,e,a),r.down=!1),a==h&&this._dispatchMouseEvent(h,"click",!0,t,r,e),this._dispatchMouseEvent(h,"pressup",!0,t,r,e),i?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):r.target=null,s&&s._handlePointerUp(t,e,i,n||a&&this)}},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,i,n,s){this.preventSelection&&e.preventDefault(),(null==this._primaryPointerID||-1===t)&&(this._primaryPointerID=t),null!=n&&this._updatePointerPosition(t,e,i,n);var r=null,a=this._nextStage,h=this._getPointerData(t);s||(r=h.target=this._getObjectsUnderPoint(h.x,h.y,null,!0)),h.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,h,e,r),h.down=!0),this._dispatchMouseEvent(r,"mousedown",!0,t,h,e),a&&a._handlePointerDown(t,e,i,n,s||r&&this)},e._testMouseOver=function(t,e,i){if(!this._prevStage||void 0!==e){var n=this._nextStage;if(!this._mouseOverIntervalID)return void(n&&n._testMouseOver(t,e,i));var s=this._getPointerData(-1);if(s&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var r,a,h,o=s.posEvtObj,l=i||o&&o.target==this.canvas,c=null,u=-1,d="";!e&&(t||this.mouseInBounds&&l)&&(c=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var p=this._mouseOverTarget||[],f=p[p.length-1],_=this._mouseOverTarget=[];for(r=c;r;)_.unshift(r),d||(d=r.cursor),r=r.parent;for(this.canvas.style.cursor=d,!e&&i&&(i.canvas.style.cursor=d),a=0,h=_.length;h>a&&_[a]==p[a];a++)u=a;for(f!=c&&this._dispatchMouseEvent(f,"mouseout",!0,-1,s,o,c),a=p.length-1;a>u;a--)this._dispatchMouseEvent(p[a],"rollout",!1,-1,s,o,c);for(a=_.length-1;a>u;a--)this._dispatchMouseEvent(_[a],"rollover",!1,-1,s,o,f);f!=c&&this._dispatchMouseEvent(c,"mouseover",!0,-1,s,o,f),n&&n._testMouseOver(t,e||c&&this,i||l&&this)}}},e._handleDoubleClick=function(t,e){var i=null,n=this._nextStage,s=this._getPointerData(-1);e||(i=this._getObjectsUnderPoint(s.x,s.y,null,!0),this._dispatchMouseEvent(i,"dblclick",!0,-1,s,t)),n&&n._handleDoubleClick(t,e||i&&this)},e._dispatchMouseEvent=function(t,e,n,s,r,a,h){if(t&&(n||t.hasEventListener(e))){var o=new i.MouseEvent(e,n,!1,r.x,r.y,a,s,s===this._primaryPointerID||-1===s,r.rawX,r.rawY,h);t.dispatchEvent(o)}},i.Stage=i.promote(t,"Container")}(),i=i||{},function(){function t(t){this.DisplayObject_constructor(),"string"==typeof t?(this.image=document.createElement("img"),this.image.src=t):this.image=t,this.sourceRect=null}var e=i.extend(t,i.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.image,e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e)||!this.image)return!0;var i=this.image,n=this.sourceRect;if(n){var s=n.x,r=n.y,a=s+n.width,h=r+n.height,o=0,l=0,c=i.width,u=i.height;0>s&&(o-=s,s=0),a>c&&(a=c),0>r&&(l-=r,r=0),h>u&&(h=u),t.drawImage(i,s,r,a-s,h-r,o,l,a-s,h-r)}else t.drawImage(i,0,0);return!0},e.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.image,i=this.sourceRect||e;return e&&(e.naturalWidth||e.getContext||e.readyState>=2)?this._rectangle.setValues(0,0,i.width,i.height):null},e.clone=function(){var e=new t(this.image);return this.sourceRect&&(e.sourceRect=this.sourceRect.clone()),this._cloneProps(e),e},e.toString=function(){return"[Bitmap (name="+this.name+")]"},i.Bitmap=i.promote(t,"DisplayObject")}(),i=i||{},function(){"use strict";function t(t,e){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=t,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=e&&this.gotoAndPlay(e)}var e=i.extend(t,i.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(0|this._currentFrame);if(!i)return!1;var n=i.rect;return n.width&&n.height&&t.drawImage(i.image,n.x,n.y,n.width,n.height,-i.regX,-i.regY,n.width,n.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate,i=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(i)},e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){return this._cloneProps(new t(this.spriteSheet))},e.toString=function(){return"[Sprite (name="+this.name+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t},e._tick=function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),this.DisplayObject__tick(t)},e._normalizeFrame=function(t){t=t||0;var e,i=this._animation,n=this.paused,s=this._currentFrame;if(i){var r=i.speed||1,a=this.currentAnimationFrame;if(a+t*r>=(e=i.frames.length)){var h=i.next;if(this._dispatchAnimationEnd(i,s,n,h,e-1))return;if(h)return this._goto(h,t-(e-a)/r);this.paused=!0,a=i.frames.length-1}else a+=t*r;this.currentAnimationFrame=a,this._currentFrame=i.frames[0|a]}else if((s=this._currentFrame+=t)>=(e=this.spriteSheet.getNumFrames())&&e>0&&!this._dispatchAnimationEnd(i,s,n,e-1)&&(this._currentFrame-=e)>=e)return this._normalizeFrame();s=0|this._currentFrame,this.currentFrame!=s&&(this.currentFrame=s,this.dispatchEvent("change"))},e._dispatchAnimationEnd=function(t,e,n,s,r){var a=t?t.name:null;if(this.hasEventListener("animationend")){var h=new i.Event("animationend");h.name=a,h.next=s,this.dispatchEvent(h)}var o=this._animation!=t||this._currentFrame!=e;return o||n||!this.paused||(this.currentAnimationFrame=r,o=!0),o},e._goto=function(t,e){if(this.currentAnimationFrame=0,isNaN(t)){var i=this.spriteSheet.getAnimation(t);i&&(this._animation=i,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},i.Sprite=i.promote(t,"DisplayObject")}(),i=i||{},function(){"use strict";function t(t){this.DisplayObject_constructor(),this.graphics=t||new i.Graphics}var e=i.extend(t,i.DisplayObject);e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){return!!this.DisplayObject_draw(t,e)||(this.graphics.draw(t,this),!0)},e.clone=function(e){var i=e&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new t(i))},e.toString=function(){return"[Shape (name="+this.name+")]"},i.Shape=i.promote(t,"DisplayObject")}(),i=i||{},function(){"use strict";function t(t,e,i){this.DisplayObject_constructor(),this.text=t,this.font=e,this.color=i,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var e=i.extend(t,i.DisplayObject),n=i.createCanvas?i.createCanvas():document.createElement("canvas");n.getContext&&(t._workingContext=n.getContext("2d"),n.width=n.height=1),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.color||"#000";return this.outline?(t.strokeStyle=i,t.lineWidth=1*this.outline):t.fillStyle=i,this._drawText(this._prepContext(t)),!0},e.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;if(null==this.text||""===this.text)return null;var i=this._drawText(null,{}),n=this.maxWidth&&this.maxWidth<i.width?this.maxWidth:i.width,s=n*t.H_OFFSETS[this.textAlign||"left"],r=(this.lineHeight||this.getMeasuredLineHeight())*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(s,r,n,i.height)},e.getMetrics=function(){var e={lines:[]};return e.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),e.vOffset=e.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,e,e.lines)},e.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},e._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t},e._drawText=function(e,i,n){var s=!!e;s||((e=t._workingContext).save(),this._prepContext(e));for(var r=this.lineHeight||this.getMeasuredLineHeight(),a=0,h=0,o=String(this.text).split(/(?:\r\n|\r|\n)/),l=0,c=o.length;c>l;l++){var u=o[l],d=null;if(null!=this.lineWidth&&(d=e.measureText(u).width)>this.lineWidth){var p=u.split(/(\s)/);u=p[0],d=e.measureText(u).width;for(var f=1,_=p.length;_>f;f+=2){var m=e.measureText(p[f]+p[f+1]).width;d+m>this.lineWidth?(s&&this._drawTextLine(e,u,h*r),n&&n.push(u),d>a&&(a=d),u=p[f+1],d=e.measureText(u).width,h++):(u+=p[f]+p[f+1],d+=m)}}s&&this._drawTextLine(e,u,h*r),n&&n.push(u),i&&null==d&&(d=e.measureText(u).width),d>a&&(a=d),h++}return i&&(i.width=a,i.height=h*r),s||e.restore(),i},e._drawTextLine=function(t,e,i){this.outline?t.strokeText(e,0,i,this.maxWidth||65535):t.fillText(e,0,i,this.maxWidth||65535)},e._getMeasuredWidth=function(e){var i=t._workingContext;i.save();var n=this._prepContext(i).measureText(e).width;return i.restore(),n},i.Text=i.promote(t,"DisplayObject")}(),i=i||{},function(){"use strict";function t(t,e){this.Container_constructor(),this.text=t||"",this.spriteSheet=e,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var e=i.extend(t,i.Container);t.maxPoolSize=100,t._spritePool=[],e.draw=function(t,e){this.DisplayObject_draw(t,e)||(this._updateText(),this.Container_draw(t,e))},e.getBounds=function(){return this._updateText(),this.Container_getBounds()},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&t)},e.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))},e.addChild=e.addChildAt=e.removeChild=e.removeChildAt=e.removeAllChildren=function(){},e._cloneProps=function(t){return this.Container__cloneProps(t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t},e._getFrameIndex=function(t,e){var i,n=e.getAnimation(t);return n||(t!=(i=t.toUpperCase())||t!=(i=t.toLowerCase())||(i=null),i&&(n=e.getAnimation(i))),n&&n.frames[0]},e._getFrame=function(t,e){var i=this._getFrameIndex(t,e);return null==i?i:e.getFrame(i)},e._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e._updateText=function(){var e,n=0,s=0,r=this._oldProps,a=!1,h=this.spaceWidth,o=this.lineHeight,l=this.spriteSheet,c=t._spritePool,u=this.children,d=0,p=u.length;for(var f in r)r[f]!=this[f]&&(r[f]=this[f],a=!0);if(a){var _=!!this._getFrame(" ",l);_||h||(h=this._getSpaceWidth(l)),o||(o=this._getLineHeight(l));for(var m=0,g=this.text.length;g>m;m++){var v=this.text.charAt(m);if(" "!=v||_)if("\n"!=v&&"\r"!=v){var w=this._getFrameIndex(v,l);null!=w&&(p>d?e=u[d]:(u.push(e=c.length?c.pop():new i.Sprite),e.parent=this,p++),e.spriteSheet=l,e.gotoAndStop(w),e.x=n,e.y=s,d++,n+=e.getBounds().width+this.letterSpacing)}else"\r"==v&&"\n"==this.text.charAt(m+1)&&m++,n=0,s+=o;else n+=h}for(;p>d;)c.push(e=u.pop()),e.parent=null,p--;c.length>t.maxPoolSize&&(c.length=t.maxPoolSize)}},i.BitmapText=i.promote(t,"Container")}(),i=i||{},function(){"use strict";function t(e,n,s,r){this.Container_constructor(),!t.inited&&t.init(),this.mode=e||t.INDEPENDENT,this.startPosition=n||0,this.loop=s,this.currentFrame=0,this.timeline=new i.Timeline(null,r,{paused:!0,position:n,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function e(){throw"MovieClipPlugin cannot be instantiated."}var n=i.extend(t,i.Container);t.INDEPENDENT="independent",t.SINGLE_FRAME="single",t.SYNCHED="synched",t.inited=!1,t.init=function(){t.inited||(e.install(),t.inited=!0)},n.getLabels=function(){return this.timeline.getLabels()},n.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},n.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(n,{labels:{get:n.getLabels},currentLabel:{get:n.getCurrentLabel},totalFrames:{get:n.getDuration},duration:{get:n.getDuration}})}catch(t){}n.initialize=t,n.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},n.draw=function(t,e){return!!this.DisplayObject_draw(t,e)||(this._updateTimeline(),this.Container_draw(t,e),!0)},n.play=function(){this.paused=!1},n.stop=function(){this.paused=!0},n.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},n.gotoAndStop=function(t){this.paused=!0,this._goto(t)},n.advance=function(e){var i=t.INDEPENDENT;if(this.mode==i){for(var n=this,s=n.framerate;(n=n.parent)&&null==s;)n.mode==i&&(s=n._framerate);this._framerate=s;var r=null!=s&&-1!=s&&null!=e?e/(1e3/s)+this._t:1,a=0|r;for(this._t=r-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},n.clone=function(){throw"MovieClip cannot be cloned."},n.toString=function(){return"[MovieClip (name="+this.name+")]"},n._tick=function(t){this.advance(t&&t.delta),this.Container__tick(t)},n._goto=function(t){var e=this.timeline.resolve(t);null!=e&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=e,this._t=0,this._updateTimeline())},n._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},n._updateTimeline=function(){var e=this.timeline,n=this.mode!=t.INDEPENDENT;e.loop=null==this.loop||this.loop;var s=n?this.startPosition+(this.mode==t.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,r=n||!this.actionsEnabled?i.Tween.NONE:null;if(this.currentFrame=e._calcPosition(s),e.setPosition(s,r),this._prevPosition=e._prevPosition,this._prevPos!=e._prevPos){for(var a in this.currentFrame=this._prevPos=e._prevPos,this._managed)this._managed[a]=1;for(var h=e._tweens,o=0,l=h.length;l>o;o++){var c=h[o],u=c._target;if(u!=this&&!c.passive){var d=c._stepPosition;u instanceof i.DisplayObject?this._addManagedChild(u,d):this._setState(u.state,d)}}var p=this.children;for(o=p.length-1;o>=0;o--){var f=p[o].id;1==this._managed[f]&&(this.removeChildAt(o),delete this._managed[f])}}},n._setState=function(t,e){if(t)for(var i=t.length-1;i>=0;i--){var n=t[i],s=n.t,r=n.p;for(var a in r)s[a]=r[a];this._addManagedChild(s,e)}},n._addManagedChild=function(e,i){e._off||(this.addChildAt(e,0),e instanceof t&&(e._synchOffset=i,e.mode==t.INDEPENDENT&&e.autoReset&&!this._managed[e.id]&&e._reset()),this._managed[e.id]=2)},n._getBounds=function(t,e){var i=this.DisplayObject_getBounds();return i||(this._updateTimeline(),this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame]))),i?this._transformBounds(i,t,e):this.Container__getBounds(t,e)},i.MovieClip=i.promote(t,"Container"),e.priority=100,e.install=function(){i.Tween.installPlugin(e,["startPosition"])},e.init=function(t,e,i){return i},e.step=function(){},e.tween=function(e,i,n,s,r,a){return e.target instanceof t?1==a?r[i]:s[i]:n}}(),i=i||{},function(){"use strict";function t(){throw"SpriteSheetUtils cannot be instantiated"}var e=i.createCanvas?i.createCanvas():document.createElement("canvas");e.getContext&&(t._workingCanvas=e,t._workingContext=e.getContext("2d"),e.width=e.height=1),t.addFlippedFrames=function(e,i,n,s){if(i||n||s){var r=0;i&&t._flip(e,++r,!0,!1),n&&t._flip(e,++r,!1,!0),s&&t._flip(e,++r,!0,!0)}},t.extractFrame=function(e,i){isNaN(i)&&(i=e.getAnimation(i).frames[0]);var n=e.getFrame(i);if(!n)return null;var s=n.rect,r=t._workingCanvas;r.width=s.width,r.height=s.height,t._workingContext.drawImage(n.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var a=document.createElement("img");return a.src=r.toDataURL("image/png"),a},t.mergeAlpha=function(t,e,n){n||(n=i.createCanvas?i.createCanvas():document.createElement("canvas")),n.width=Math.max(e.width,t.width),n.height=Math.max(e.height,t.height);var s=n.getContext("2d");return s.save(),s.drawImage(t,0,0),s.globalCompositeOperation="destination-in",s.drawImage(e,0,0),s.restore(),n},t._flip=function(e,i,n,s){for(var r=e._images,a=t._workingCanvas,h=t._workingContext,o=r.length/i,l=0;o>l;l++){var c=r[l];c.__tmp=l,h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,a.width+1,a.height+1),a.width=c.width,a.height=c.height,h.setTransform(n?-1:1,0,0,s?-1:1,n?c.width:0,s?c.height:0),h.drawImage(c,0,0);var u=document.createElement("img");u.src=a.toDataURL("image/png"),u.width=c.width,u.height=c.height,r.push(u)}var d=e._frames,p=d.length/i;for(l=0;p>l;l++){var f=(c=d[l]).rect.clone(),_={image:u=r[c.image.__tmp+o*i],rect:f,regX:c.regX,regY:c.regY};n&&(f.x=u.width-f.x-f.width,_.regX=f.width-c.regX),s&&(f.y=u.height-f.y-f.height,_.regY=f.height-c.regY),d.push(_)}var m="_"+(n?"h":"")+(s?"v":""),g=e._animations,v=e._data,w=g.length/i;for(l=0;w>l;l++){var x=g[l],y={name:x+m,speed:(c=v[x]).speed,next:c.next,frames:[]};c.next&&(y.next+=m);for(var b=0,E=(d=c.frames).length;E>b;b++)y.frames.push(d[b]+p*i);v[y.name]=y,g.push(y.name)}},i.SpriteSheetUtils=t}(),i=i||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=t||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var e=i.extend(t,i.EventDispatcher);t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.addFrame=function(e,i,n,s,r){if(this._data)throw t.ERR_RUNNING;var a=i||e.bounds||e.nominalBounds;return!a&&e.getBounds&&(a=e.getBounds()),a?(n=n||1,this._frames.push({source:e,sourceRect:a,scale:n,funct:s,data:r,index:this._frames.length,height:a.height*n})-1):null},e.addAnimation=function(e,i,n,s){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:i,next:n,speed:s}},e.addMovieClip=function(e,i,n,s,r,a){if(this._data)throw t.ERR_RUNNING;var h=e.frameBounds,o=i||e.bounds||e.nominalBounds;if(!o&&e.getBounds&&(o=e.getBounds()),o||h){var l,c,u=this._frames.length,d=e.timeline.duration;for(l=0;d>l;l++){var p=h&&h[l]?h[l]:o;this.addFrame(e,p,n,this._setupMovieClipFrame,{i:l,f:s,d:r})}var f=e.timeline._labels,_=[];for(var m in f)_.push({index:f[m],label:m});if(_.length)for(_.sort((function(t,e){return t.index-e.index})),l=0,c=_.length;c>l;l++){for(var g=_[l].label,v=u+_[l].index,w=u+(l==c-1?d:_[l+1].index),x=[],y=v;w>y;y++)x.push(y);(!a||(g=a(g,e,v,w)))&&this.addAnimation(g,x,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var i=this;this._timerID=setTimeout((function(){i._run()}),50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,framerate:this.framerate,animations:this._animations};var s=this._frames.slice();if(s.sort((function(t,e){return t.height<=e.height?-1:1})),s[s.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var r=0,a=0,h=0;s.length;){var o=this._fillRow(s,r,h,n,e);if(o.w>a&&(a=o.w),r+=o.h,!o.h||!s.length){var l=i.createCanvas?i.createCanvas():document.createElement("canvas");l.width=this._getSize(a,this.maxWidth),l.height=this._getSize(r,this.maxHeight),this._data.images[h]=l,o.h||(a=r=0,h++)}}},e._setupMovieClipFrame=function(t,e){var i=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=i,e.f&&e.f(t,e.d,e.i)},e._getSize=function(t,e){for(var i=4;Math.pow(2,++i)<t;);return Math.min(e,Math.pow(2,i))},e._fillRow=function(e,n,s,r,a){for(var h=this.maxWidth,o=this.maxHeight-(n+=a),l=a,c=0,u=e.length-1;u>=0;u--){var d=e[u],p=this._scale*d.scale,f=d.sourceRect,_=d.source,m=Math.floor(p*f.x-a),g=Math.floor(p*f.y-a),v=Math.ceil(p*f.height+2*a),w=Math.ceil(p*f.width+2*a);if(w>h)throw t.ERR_DIMENSIONS;v>o||l+w>h||(d.img=s,d.rect=new i.Rectangle(l,n,w,v),c=c||v,e.splice(u,1),r[d.index]=[l,n,w,v,s,Math.round(-m+p*_.regX-a),Math.round(-g+p*_.regY-a)],l+=w)}return{w:l,h:c}},e._endBuild=function(){this.spriteSheet=new i.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,n=!1;e>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var s=this;this._timerID=setTimeout((function(){s._run()}),50-t)}var r=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var a=new i.Event("progress");a.progress=r,this.dispatchEvent(a)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,i=t.rect,n=t.sourceRect,s=this._data.images[t.img].getContext("2d");return t.funct&&t.funct(t.source,t.data),s.save(),s.beginPath(),s.rect(i.x,i.y,i.width,i.height),s.clip(),s.translate(Math.ceil(i.x-n.x*e),Math.ceil(i.y-n.y*e)),s.scale(e,e),t.source.draw(s),s.restore(),++this._index<this._frames.length},i.SpriteSheetBuilder=i.promote(t,"EventDispatcher")}(),i=i||{},function(){"use strict";function t(t){this.DisplayObject_constructor(),"string"==typeof t&&(t=document.getElementById(t)),this.mouseEnabled=!1;var e=t.style;e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%",this.htmlElement=t,this._oldProps=null}var e=i.extend(t,i.DisplayObject);e.isVisible=function(){return null!=this.htmlElement},e.draw=function(){return!0},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw"DOMElement cannot be cloned."},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e._tick=function(t){var e=this.getStage();e&&e.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(t)},e._handleDrawEnd=function(){var t=this.htmlElement;if(t){var e=t.style,n=this.getConcatenatedDisplayProps(this._props),s=n.matrix,r=n.visible?"visible":"hidden";if(r!=e.visibility&&(e.visibility=r),n.visible){var a=this._oldProps,h=a&&a.matrix,o=1e4;if(!h||!h.equals(s)){var l="matrix("+(s.a*o|0)/o+","+(s.b*o|0)/o+","+(s.c*o|0)/o+","+(s.d*o|0)/o+","+(s.tx+.5|0);e.transform=e.WebkitTransform=e.OTransform=e.msTransform=l+","+(s.ty+.5|0)+")",e.MozTransform=l+"px,"+(s.ty+.5|0)+"px)",a||(a=this._oldProps=new i.DisplayProps(!0,NaN)),a.matrix.copy(s)}a.alpha!=n.alpha&&(e.opacity=""+(n.alpha*o|0)/o,a.alpha=n.alpha)}}},i.DOMElement=i.promote(t,"DisplayObject")}(),i=i||{},function(){"use strict";function t(){}var e=t.prototype;e.getBounds=function(t){return t},e.applyFilter=function(t,e,i,n,s,r,a,h){r=r||t,null==a&&(a=e),null==h&&(h=i);try{var o=t.getImageData(e,i,n,s)}catch(t){return!1}return!!this._applyFilter(o)&&(r.putImageData(o,a,h),!0)},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},e._applyFilter=function(){return!0},i.Filter=t}(),i=i||{},function(){"use strict";function t(t,e,i){(isNaN(t)||0>t)&&(t=0),(isNaN(e)||0>e)&&(e=0),(isNaN(i)||1>i)&&(i=1),this.blurX=0|t,this.blurY=0|e,this.quality=0|i}var e=i.extend(t,i.Filter);t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.getBounds=function(t){var e=0|this.blurX,n=0|this.blurY;if(0>=e&&0>=n)return t;var s=Math.pow(this.quality,.2);return(t||new i.Rectangle).pad(e*s+1,n*s+1,e*s+1,n*s+1)},e.clone=function(){return new t(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},e._applyFilter=function(e){var i=this.blurX>>1;if(isNaN(i)||0>i)return!1;var n=this.blurY>>1;if(isNaN(n)||0>n)return!1;if(0==i&&0==n)return!1;var s=this.quality;(isNaN(s)||1>s)&&(s=1),(s|=0)>3&&(s=3),1>s&&(s=1);var r=e.data,a=0,h=0,o=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,w=0,x=0,y=i+i+1|0,b=n+n+1|0,E=0|e.width,S=0|e.height,T=E-1|0,M=S-1|0,D=i+1|0,C=n+1|0,P={r:0,b:0,g:0,a:0},O=P;for(o=1;y>o;o++)O=O.n={r:0,b:0,g:0,a:0};O.n=P;var k={r:0,b:0,g:0,a:0},I=k;for(o=1;b>o;o++)I=I.n={r:0,b:0,g:0,a:0};I.n=k;for(var L=null,F=0|t.MUL_TABLE[i],A=0|t.SHG_TABLE[i],R=0|t.MUL_TABLE[n],N=0|t.SHG_TABLE[n];s-- >0;){d=u=0;var B=F,Y=A;for(h=S;--h>-1;){for(p=D*(g=r[0|u]),f=D*(v=r[u+1|0]),_=D*(w=r[u+2|0]),m=D*(x=r[u+3|0]),O=P,o=D;--o>-1;)O.r=g,O.g=v,O.b=w,O.a=x,O=O.n;for(o=1;D>o;o++)l=u+((o>T?T:o)<<2)|0,p+=O.r=r[l],f+=O.g=r[l+1],_+=O.b=r[l+2],m+=O.a=r[l+3],O=O.n;for(L=P,a=0;E>a;a++)r[u++]=p*B>>>Y,r[u++]=f*B>>>Y,r[u++]=_*B>>>Y,r[u++]=m*B>>>Y,l=d+((l=a+i+1)<T?l:T)<<2,p-=L.r-(L.r=r[l]),f-=L.g-(L.g=r[l+1]),_-=L.b-(L.b=r[l+2]),m-=L.a-(L.a=r[l+3]),L=L.n;d+=E}for(B=R,Y=N,a=0;E>a;a++){for(p=C*(g=r[u=a<<2|0])|0,f=C*(v=r[u+1|0])|0,_=C*(w=r[u+2|0])|0,m=C*(x=r[u+3|0])|0,I=k,o=0;C>o;o++)I.r=g,I.g=v,I.b=w,I.a=x,I=I.n;for(c=E,o=1;n>=o;o++)u=c+a<<2,p+=I.r=r[u],f+=I.g=r[u+1],_+=I.b=r[u+2],m+=I.a=r[u+3],I=I.n,M>o&&(c+=E);if(u=a,L=k,s>0)for(h=0;S>h;h++)r[(l=u<<2)+3]=x=m*B>>>Y,x>0?(r[l]=p*B>>>Y,r[l+1]=f*B>>>Y,r[l+2]=_*B>>>Y):r[l]=r[l+1]=r[l+2]=0,l=a+((l=h+C)<M?l:M)*E<<2,p-=L.r-(L.r=r[l]),f-=L.g-(L.g=r[l+1]),_-=L.b-(L.b=r[l+2]),m-=L.a-(L.a=r[l+3]),L=L.n,u+=E;else for(h=0;S>h;h++)r[(l=u<<2)+3]=x=m*B>>>Y,x>0?(x=255/x,r[l]=(p*B>>>Y)*x,r[l+1]=(f*B>>>Y)*x,r[l+2]=(_*B>>>Y)*x):r[l]=r[l+1]=r[l+2]=0,l=a+((l=h+C)<M?l:M)*E<<2,p-=L.r-(L.r=r[l]),f-=L.g-(L.g=r[l+1]),_-=L.b-(L.b=r[l+2]),m-=L.a-(L.a=r[l+3]),L=L.n,u+=E}}return!0},i.BlurFilter=i.promote(t,"Filter")}(),i=i||{},function(){"use strict";function t(t){this.alphaMap=t,this._alphaMap=null,this._mapData=null}var e=i.extend(t,i.Filter);e.clone=function(){var e=new t(this.alphaMap);return e._alphaMap=this._alphaMap,e._mapData=this._mapData,e},e.toString=function(){return"[AlphaMapFilter]"},e._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var e=t.data,i=this._mapData,n=0,s=e.length;s>n;n+=4)e[n+3]=i[n]||0;return!0},e._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var t,e=this._alphaMap=this.alphaMap,n=e;e instanceof HTMLCanvasElement?t=n.getContext("2d"):((n=i.createCanvas?i.createCanvas():document.createElement("canvas")).width=e.width,n.height=e.height,(t=n.getContext("2d")).drawImage(e,0,0));try{var s=t.getImageData(0,0,e.width,e.height)}catch(t){return!1}return this._mapData=s.data,!0},i.AlphaMapFilter=i.promote(t,"Filter")}(),i=i||{},function(){"use strict";function t(t){this.mask=t}var e=i.extend(t,i.Filter);e.applyFilter=function(t,e,i,n,s,r,a,h){return!this.mask||(null==a&&(a=e),null==h&&(h=i),(r=r||t).save(),t==r&&(r.globalCompositeOperation="destination-in",r.drawImage(this.mask,a,h),r.restore(),!0))},e.clone=function(){return new t(this.mask)},e.toString=function(){return"[AlphaMaskFilter]"},i.AlphaMaskFilter=i.promote(t,"Filter")}(),i=i||{},function(){"use strict";function t(t,e,i,n,s,r,a,h){this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=i?i:1,this.alphaMultiplier=null!=n?n:1,this.redOffset=s||0,this.greenOffset=r||0,this.blueOffset=a||0,this.alphaOffset=h||0}var e=i.extend(t,i.Filter);e.toString=function(){return"[ColorFilter]"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e._applyFilter=function(t){for(var e=t.data,i=e.length,n=0;i>n;n+=4)e[n]=e[n]*this.redMultiplier+this.redOffset,e[n+1]=e[n+1]*this.greenMultiplier+this.greenOffset,e[n+2]=e[n+2]*this.blueMultiplier+this.blueOffset,e[n+3]=e[n+3]*this.alphaMultiplier+this.alphaOffset;return!0},i.ColorFilter=i.promote(t,"Filter")}(),i=i||{},function(){"use strict";function t(t,e,i,n){this.setColor(t,e,i,n)}var e=t.prototype;t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t.LENGTH=t.IDENTITY_MATRIX.length,e.setColor=function(t,e,i,n){return this.reset().adjustColor(t,e,i,n)},e.reset=function(){return this.copy(t.IDENTITY_MATRIX)},e.adjustColor=function(t,e,i,n){return this.adjustHue(n),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(i)},e.adjustBrightness=function(t){return 0==t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)},e.adjustContrast=function(e){return 0==e||isNaN(e)?this:(0>(e=this._cleanValue(e,100))?i=127+e/100*127:i=127*(i=0==(i=e%1)?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-i)+t.DELTA_INDEX[1+(e<<0)]*i)+127,this._multiplyMatrix([i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1]),this);var i},e.adjustSaturation=function(t){if(0==t||isNaN(t))return this;var e=1+((t=this._cleanValue(t,100))>0?3*t/100:t/100),i=.3086,n=.6094,s=.082;return this._multiplyMatrix([i*(1-e)+e,n*(1-e),s*(1-e),0,0,i*(1-e),n*(1-e)+e,s*(1-e),0,0,i*(1-e),n*(1-e),s*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),i=Math.sin(t),n=.213,s=.715,r=.072;return this._multiplyMatrix([n+e*(1-n)+i*-n,s+e*-s+i*-s,r+e*-r+i*(1-r),0,0,n+e*-n+.143*i,s+e*(1-s)+.14*i,r+e*-r+-.283*i,0,0,n+e*-n+-.787*i,s+e*-s+i*s,r+e*(1-r)+i*r,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.concat=function(e){return(e=this._fixMatrix(e)).length!=t.LENGTH?this:(this._multiplyMatrix(e),this)},e.clone=function(){return(new t).copy(this)},e.toArray=function(){for(var e=[],i=0,n=t.LENGTH;n>i;i++)e[i]=this[i];return e},e.copy=function(e){for(var i=t.LENGTH,n=0;i>n;n++)this[n]=e[n];return this},e.toString=function(){return"[ColorMatrix]"},e._multiplyMatrix=function(t){var e,i,n,s=[];for(e=0;5>e;e++){for(i=0;5>i;i++)s[i]=this[i+5*e];for(i=0;5>i;i++){var r=0;for(n=0;5>n;n++)r+=t[i+5*n]*s[n];this[i+5*e]=r}}},e._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},i.ColorMatrix=t}(),i=i||{},function(){"use strict";function t(t){this.matrix=t}var e=i.extend(t,i.Filter);e.toString=function(){return"[ColorMatrixFilter]"},e.clone=function(){return new t(this.matrix)},e._applyFilter=function(t){for(var e,i,n,s,r=t.data,a=r.length,h=this.matrix,o=h[0],l=h[1],c=h[2],u=h[3],d=h[4],p=h[5],f=h[6],_=h[7],m=h[8],g=h[9],v=h[10],w=h[11],x=h[12],y=h[13],b=h[14],E=h[15],S=h[16],T=h[17],M=h[18],D=h[19],C=0;a>C;C+=4)e=r[C],i=r[C+1],n=r[C+2],s=r[C+3],r[C]=e*o+i*l+n*c+s*u+d,r[C+1]=e*p+i*f+n*_+s*m+g,r[C+2]=e*v+i*w+n*x+s*y+b,r[C+3]=e*E+i*S+n*T+s*M+D;return!0},i.ColorMatrixFilter=i.promote(t,"Filter")}(),i=i||{},function(){"use strict";function t(){throw"Touch cannot be instantiated"}t.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},t.enable=function(e,i,n){return!!(e&&e.canvas&&t.isSupported())&&(!!e.__touch||(e.__touch={pointers:{},multitouch:!i,preventDefault:!n,count:0},"ontouchstart"in window?t._IOS_enable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_enable(e),!0))},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e),delete e.__touch)},t._IOS_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){t._IOS_handleEvent(e,i)};i.addEventListener("touchstart",n,!1),i.addEventListener("touchmove",n,!1),i.addEventListener("touchend",n,!1),i.addEventListener("touchcancel",n,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var i=t.__touch.f;e.removeEventListener("touchstart",i,!1),e.removeEventListener("touchmove",i,!1),e.removeEventListener("touchend",i,!1),e.removeEventListener("touchcancel",i,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var i=e.changedTouches,n=e.type,s=0,r=i.length;r>s;s++){var a=i[s],h=a.identifier;a.target==t.canvas&&("touchstart"==n?this._handleStart(t,h,e,a.pageX,a.pageY):"touchmove"==n?this._handleMove(t,h,e,a.pageX,a.pageY):("touchend"==n||"touchcancel"==n)&&this._handleEnd(t,h,e))}}},t._IE_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){t._IE_handleEvent(e,i)};void 0===window.navigator.pointerEnabled?(i.addEventListener("MSPointerDown",n,!1),window.addEventListener("MSPointerMove",n,!1),window.addEventListener("MSPointerUp",n,!1),window.addEventListener("MSPointerCancel",n,!1),e.__touch.preventDefault&&(i.style.msTouchAction="none")):(i.addEventListener("pointerdown",n,!1),window.addEventListener("pointermove",n,!1),window.addEventListener("pointerup",n,!1),window.addEventListener("pointercancel",n,!1),e.__touch.preventDefault&&(i.style.touchAction="none")),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var i=e.type,n=e.pointerId,s=t.__touch.activeIDs;if("MSPointerDown"==i||"pointerdown"==i){if(e.srcElement!=t.canvas)return;s[n]=!0,this._handleStart(t,n,e,e.pageX,e.pageY)}else s[n]&&("MSPointerMove"==i||"pointermove"==i?this._handleMove(t,n,e,e.pageX,e.pageY):("MSPointerUp"==i||"MSPointerCancel"==i||"pointerup"==i||"pointercancel"==i)&&(delete s[n],this._handleEnd(t,n,e)))}},t._handleStart=function(t,e,i,n,s){var r=t.__touch;if(r.multitouch||!r.count){var a=r.pointers;a[e]||(a[e]=!0,r.count++,t._handlePointerDown(e,i,n,s))}},t._handleMove=function(t,e,i,n,s){t.__touch.pointers[e]&&t._handlePointerMove(e,i,n,s)},t._handleEnd=function(t,e,i){var n=t.__touch,s=n.pointers;s[e]&&(n.count--,t._handlePointerUp(e,i,!0),delete s[e])},i.Touch=t}(),i=i||{},function(){"use strict";var t=i.EaselJS=i.EaselJS||{};t.version="0.8.2",t.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"}(),e.Easel=i}}]);