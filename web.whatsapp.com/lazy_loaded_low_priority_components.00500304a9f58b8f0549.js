/*! Copyright (c) 2023 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[275],{655462:(e,t,n)=>{"use strict";var r=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.sendContactFormRPC=function(){return f.apply(this,arguments)};var i=r(n(311504)),o=n(67201),a=n(75188),l=n(366810),s=n(114756),d=n(173999),u=n(96652),c=n(496995);function f(){return(f=(0,i.default)((function*(e,t){const n=(0,d.makeContactFormRequest)(e),r=yield(0,o.sendSmaxStanza)(n,t),i=(0,s.parseContactFormResponseSuccess)(r,n);if(i.success)return{name:"ContactFormResponseSuccess",value:i.value};const f=(0,l.parseContactFormResponseRetryableError)(r,n);if(f.success)return{name:"ContactFormResponseRetryableError",value:f.value};const h=(0,a.parseContactFormResponseError)(r,n);if(h.success)return{name:"ContactFormResponseError",value:h.value};throw new u.SmaxParsingFailure((0,c.errorMessageRpcParsing)("ContactForm",{Success:i,RetryableError:f,Error:h}))}))).apply(this,arguments)}},75188:(e,t,n)=>{"use strict";var r=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseError=function(e,t){const n=(0,s.assertTag)(e,"iq");if(!n.success)return n;const r=(0,s.flattenedChildWithTag)(e,"error");if(!r.success)return r;const d=(0,a.parseHackBaseIQErrorResponseMixin)(e,t);if(!d.success)return d;const u=(0,l.parseIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup)(r.value);if(!u.success)return u;return(0,o.makeResult)((0,i.default)((0,i.default)({},d.value),{},{errorIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup:u.value}))};var i=r(n(73982)),o=n(135781),a=n(324483),l=n(678617),s=n(593695)},366810:(e,t,n)=>{"use strict";var r=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseRetryableError=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const r=(0,l.flattenedChildWithTag)(e,"response");if(!r.success)return r;const s=(0,l.attrInt)(r.value,"error_code");if(!s.success)return s;const d=(0,l.optional)(l.attrString,r.value,"next_retry_ts");if(!d.success)return d;const u=(0,a.parseHackBaseIQResultResponseMixin)(e,t);if(!u.success)return u;return(0,o.makeResult)((0,i.default)({responseErrorCode:s.value,responseNextRetryTs:d.value},u.value))};var i=r(n(73982)),o=n(135781),a=n(141162),l=n(593695)},114756:(e,t,n)=>{"use strict";var r=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseContactFormResponseSuccess=function(e,t){const n=(0,l.assertTag)(e,"iq");if(!n.success)return n;const r=(0,l.flattenedChildWithTag)(e,"response");if(!r.success)return r;const s=(0,l.flattenedChildWithTag)(r.value,"message");if(!s.success)return s;const d=(0,l.flattenedChildWithTag)(r.value,"ticket_id");if(!d.success)return d;const u=(0,l.flattenedChildWithTag)(r.value,"group_jid");if(!u.success)return u;const c=(0,l.literal)(l.attrString,r.value,"status","ok");if(!c.success)return c;const f=(0,l.contentString)(s.value);if(!f.success)return f;const h=(0,l.contentString)(d.value);if(!h.success)return h;const p=(0,l.contentString)(u.value);if(!p.success)return p;const g=(0,a.parseHackBaseIQResultResponseMixin)(e,t);if(!g.success)return g;return(0,o.makeResult)((0,i.default)({responseStatus:c.value,responseMessageElementValue:f.value,responseTicketIdElementValue:h.value,responseGroupJidElementValue:p.value},g.value))};var i=r(n(73982)),o=n(135781),a=n(141162),l=n(593695)},324483:(e,t,n)=>{"use strict";var r=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseHackBaseIQErrorResponseMixin=function(e,t){const n=(0,s.assertTag)(e,"iq");if(!n.success)return n;const r=(0,s.optional)(l.attrUserJid,e,"to");if(!r.success)return r;const d=(0,a.parseIQErrorResponseMixin)(e,t);if(!d.success)return d;return(0,o.makeResult)((0,i.default)({to:r.value},d.value))};var i=r(n(73982)),o=n(135781),a=n(295062),l=n(885720),s=n(593695)},141162:(e,t,n)=>{"use strict";var r=n(307914);Object.defineProperty(t,"__esModule",{value:!0}),t.parseHackBaseIQResultResponseMixin=function(e,t){const n=(0,s.assertTag)(e,"iq");if(!n.success)return n;const r=(0,s.optional)(l.attrUserJid,e,"to");if(!r.success)return r;const d=(0,a.parseIQResultResponseMixin)(e,t);if(!d.success)return d;return(0,o.makeResult)((0,i.default)({to:r.value},d.value))};var i=r(n(73982)),o=n(135781),a=n(992837),l=n(885720),s=n(593695)},563871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","bad-request");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",400);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(135781),i=n(593695)},678617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup=function(e){const t=(0,i.parseIQErrorBadRequestMixin)(e);if(t.success)return(0,r.makeResult)({name:"IQErrorBadRequest",value:t.value});const n=(0,a.parseIQErrorNoticeRequiredMixin)(e);if(n.success)return(0,r.makeResult)({name:"IQErrorNoticeRequired",value:n.value});const s=(0,o.parseIQErrorInternalServerErrorMixin)(e);if(s.success)return(0,r.makeResult)({name:"IQErrorInternalServerError",value:s.value});return(0,l.errorMixinDisjunction)(e,["IQErrorBadRequest","IQErrorNoticeRequired","IQErrorInternalServerError"],[t,n,s])};var r=n(135781),i=n(563871),o=n(197211),a=n(477878),l=n(593695)},197211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorInternalServerErrorMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","internal-server-error");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",500);if(!o.success)return o;return(0,r.makeResult)({text:n.value,code:o.value})};var r=n(135781),i=n(593695)},477878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorNoticeRequiredMixin=function(e){const t=(0,i.assertTag)(e,"error");if(!t.success)return t;const n=(0,i.literal)(i.attrString,e,"text","notice-required");if(!n.success)return n;const o=(0,i.literal)(i.attrInt,e,"code",475);if(!o.success)return o;const a=(0,i.attrIntRange)(e,"tos_version",1,65535);if(!a.success)return a;return(0,r.makeResult)({text:n.value,code:o.value,tosVersion:a.value})};var r=n(135781),i=n(593695)},295062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQErrorResponseMixin=function(e,t){const n=(0,o.assertTag)(e,"iq");if(!n.success)return n;const a=(0,i.attrStringFromReference)(t,["id"]);if(!a.success)return a;const l=(0,o.literal)(o.attrString,e,"id",a.value);if(!l.success)return l;const s=(0,i.attrStringFromReference)(t,["to"]);if(!s.success)return s;const d=(0,o.literal)(o.attrString,e,"from",s.value);if(!d.success)return d;const u=(0,o.literal)(o.attrString,e,"type","error");if(!u.success)return u;return(0,r.makeResult)({type:u.value})};var r=n(135781),i=n(638167),o=n(593695)},992837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIQResultResponseMixin=function(e,t){const n=(0,o.assertTag)(e,"iq");if(!n.success)return n;const a=(0,i.attrStringFromReference)(t,["id"]);if(!a.success)return a;const l=(0,o.literal)(o.attrString,e,"id",a.value);if(!l.success)return l;const s=(0,i.attrStringFromReference)(t,["to"]);if(!s.success)return s;const d=(0,o.literal)(o.attrString,e,"from",s.value);if(!d.success)return d;const u=(0,o.literal)(o.attrString,e,"type","result");if(!u.success)return u;return(0,r.makeResult)({type:u.value})};var r=n(135781),i=n(638167),o=n(593695)},113530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeBaseIQSetRequestMixin=function(e){const t=(0,r.smax)("iq",{id:(0,o.generateId)(),type:"set"});return(0,i.mergeStanzas)(e,t)};var r=n(898165),i=n(519603),o=n(504784)},173999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeContactFormRequest=function(e){const{topicArgs:t,topicIdArgs:n,debugInformationJsonArgs:r,uploadedLogsIdArgs:h,additionalAttributesArgs:p,descriptionElementValue:g}=e;return(0,a.mergeHackBaseIQSetRequestMixin)((0,o.smax)("iq",{xmlns:"fb:thrift_iq",smax_id:(0,l.INT)(3)},(0,o.smax)("description",null,g),(0,i.OPTIONAL_CHILD)(s,t),(0,i.OPTIONAL_CHILD)(d,n),(0,i.OPTIONAL_CHILD)(u,r),(0,i.OPTIONAL_CHILD)(c,h),(0,i.OPTIONAL_CHILD)(f,p)),e)},t.makeContactFormRequestAdditionalAttributes=f,t.makeContactFormRequestDebugInformationJson=u,t.makeContactFormRequestTopic=s,t.makeContactFormRequestTopicId=d,t.makeContactFormRequestUploadedLogsId=c;var r=n(72011),i=n(953719),o=n(898165),a=n(591130),l=n(504784);function s(e){const{topicElementValue:t}=e;return(0,o.smax)("topic",null,t)}function d(e){const{topicIdElementValue:t}=e;return(0,o.smax)("topic_id",null,t)}function u(e){const{debugInformationJsonElementValue:t}=e;return(0,o.smax)("debug_information_json",null,t)}function c(e){const{uploadedLogsIdElementValue:t}=e;return(0,o.smax)("uploaded_logs_id",null,t)}function f(e){const{additionalAttributesContextFlow:t}=e;return(0,o.smax)("additional_attributes",{context_flow:(0,r.OPTIONAL)(l.CUSTOM_STRING,t)})}},591130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeHackBaseIQSetRequestMixin=function(e,t){const n=function(e){const{iqFrom:t}=e;return(0,a.mergeBaseIQSetRequestMixin)((0,i.smax)("iq",{from:(0,r.OPTIONAL)(l.USER_JID,t),to:l.S_WHATSAPP_NET}))}(t);return(0,o.mergeStanzas)(e,n)};var r=n(72011),i=n(898165),o=n(519603),a=n(113530),l=n(504784)},293760:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findArrayDiff=void 0;const n=function(e,t){return function(e,t,n){let r=t.length,i=n.length;const o={sequence:[],indices1:[],indices2:[]};for(;0!==r&&0!==i;)t[r-1]===n[i-1]?(o.sequence.unshift(t[r-1]),o.indices1.unshift(r-1),o.indices2.unshift(i-1),--r,--i):e[r][i-1]>e[r-1][i]?--i:--r;return o}(function(e,t){const n=e.length,r=t.length,i=Array(n+1).fill().map((()=>Array(r+1).fill(0)));for(let o=1;o<n+1;o++)for(let n=1;n<r+1;n++)e[o-1]===t[n-1]?i[o][n]=i[o-1][n-1]+1:i[o][n]=Math.max(i[o-1][n],i[o][n-1]);return i}(e,t),e,t)};t.findArrayDiff=function(e,t){const r={moved:[],inserted:[],removed:[]},i=e.length,o=t.length,{commonHead:a,commonTail:l}=function(e,t){let n=0,r=0;const i=e.length,o=t.length;for(;n<i&&n<o&&e[n]===t[n];)n++;for(;r+n<i&&r+n<o&&e[i-1-r]===t[o-1-r];)r++;return{commonHead:n,commonTail:r}}(e,t);if(a+l===i){if(i===o)return r;for(let e=a;e<o-l;e++)r.inserted.push([t[e],e]);return r}if(a+l===o){for(let t=a;t<i-l;t++)r.removed.push([e[t],t]);return r}const s=n(e.slice(a,i-l),t.slice(a,o-l));for(let t=a;t<i-l;t++)s.indices1.indexOf(t-a)<0&&r.removed.push([e[t],t]);for(let n=a;n<o-l;n++){if(s.indices2.indexOf(n-a)<0){let i=!1;r.removed.forEach(((o,a,l)=>{let[s,d]=o;if(e[d]===t[n])return r.moved.push([s,d,n]),l.splice(a,1),void(i=!0)})),i||r.inserted.push([t[n],n])}}return r}},972855:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.editBusinessProfile=t.editBusinessCompliance=void 0;var i=n(650809),o=n(761849),a=n(20970),l=r(n(556869));t.editBusinessProfile=e=>{(0,i.qplPointProfileSave)("datasource_start");const t=(0,o.editBusinessProfile)(e);return t.then((()=>{(0,i.qplPointProfileSave)("datasource_end")})),t};t.editBusinessCompliance=e=>{let t=(0,a.setMerchantCompliance)(e);return t||(t=Promise.reject((0,l.default)("md business compliance profile called from a non-md build"))),t}},858640:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e){const t=(0,i.unixTimeMs)(),n=o.default.getPushnameMutation(t,e);return(0,a.default)(e),(0,l.lockForSync)([],[n],(()=>Promise.resolve()))}return Promise.resolve()};var i=n(632157),o=r(n(262093)),a=r(n(92010)),l=n(480313)},795303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSuspensefulIq=function(e,t){const n=e.attrs.id;if(i.has(n)){const e=i.get(n);if(e instanceof Promise)throw e;return e}const o=(0,r.deprecatedSendIq)(e,t);throw i.set(n,o),o.then((e=>i.set(n,e))),o};var r=n(67201);const i=new Map},320291:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendSupportRequest=function(){return c.apply(this,arguments)};var i=r(n(81109)),o=r(n(348926)),a=n(655462),l=n(996588),s=n(459857),d=n(574819);function u(e,t){__LOG__(3,void 0,void 0,!0)`supportRequest error: code=${e} message=${null!=t?t:""}`,SEND_LOGS("supportRequest")}function c(){return(c=(0,o.default)((function*(e,t){const n=(0,i.default)({iqFrom:(0,d.widToUserJid)((0,s.getMeUser)()),descriptionElementValue:e},null!=t&&{debugInformationJsonArgs:{debugInformationJsonElementValue:t}}),r=yield(0,a.sendContactFormRPC)(n);switch(r.name){case"ContactFormResponseError":{const{code:e,text:t}=r.value.errorIQErrorBadRequestOrNoticeRequiredOrInternalServerErrorMixinGroup.value;return u(Number(e),t),{type:"error",errorCode:Number(e)}}case"ContactFormResponseRetryableError":{const e=r.value.responseErrorCode;return u(Number(e)),{type:"error",errorCode:Number(e)}}case"ContactFormResponseSuccess":{const e=r.value.responseMessageElementValue,n=r.value.responseTicketIdElementValue;return null!=t&&(__LOG__(2)`InAppSupport: Uploading logs for ticketId=${n}`,(0,l.upload)({reason:l.USER_REPORT,immediate:!0,isHighPri:!0,logType:l.LogType.SUPPORT,ticketId:n}).then((e=>{__LOG__(2)`InAppSupport: Logs upload complete for ticketId=${n}, logsId=${e}`}))),{type:"success",message:e,ticketId:n}}}}))).apply(this,arguments)}},162164:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getIdentityVerificationDataJob=function(e,t){const n=(0,i.default)({jid:e},t);return(0,l.createNonPersistedJob)("getIdentityVerificationData",(e=>(0,a.getIdentityVerificationData)(e)),{priority:o.JOB_PRIORITY.SKIP}).waitUntilCompleted(n)};var i=r(n(81109)),o=n(775593),a=n(726192),l=n(899137)},726192:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.deriveLidIdentifier=v,t.deriveStableJid=C,t.getIdentityVerificationData=function(){return S.apply(this,arguments)};var i=r(n(348926)),o=n(904704),a=r(n(670983)),l=n(287461),s=n(12643),d=n(469422),u=n(917504),c=n(252451),f=n(10586),h=r(n(9705)),p=n(459857),g=n(653313);const m=/^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;function C(e){const t=m.exec(e.user);return o.Binary.build(t?t[1]+t[2]:e.toString()).readByteArray()}function v(e){const t=e.user;return o.Binary.build(t).readByteArray()}function x(e,t){return`00000${256*e.getUint32(t,!1)+e.getUint8(t+4)}`.slice(-5)}function y(){return b.apply(this,arguments)}function b(){return(b=(0,i.default)((function*(e,t){let n=Promise.resolve(o.Binary.build(0,0,t,e).readByteArray());for(let e=0;e<5200;e++)n=n.then((e=>self.crypto.subtle.digest({name:"SHA-512"},o.Binary.build(e,t).readByteArray())));const r=yield n,i=new DataView(r instanceof ArrayBuffer?r.slice(0,30):r.slice(0,30).buffer);return[x(i,0),x(i,5),x(i,10),x(i,15),x(i,20),x(i,25)].join("")}))).apply(this,arguments)}function j(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)((function*(e,t,n,r){return(yield Promise.all([y(e,t),y(n,r)])).sort().join("")}))).apply(this,arguments)}function _(e,t,n,r,i,s){const d={publicKey:s},u={publicKey:n};(0,a.default)(null!=r?r:i,"remotePnIdentifier ?? remoteLidIdentifier"),(0,a.default)(null!=e?e:t,"localPnIdentifier ?? localLidIdentifier");const f=(0,l.getABPropConfigValue)("pnh_identity_verification_v3");null!=r&&(d.pnIdentifier=r),f&&null!=t&&null!=i&&(d.lidIdentifier=i),null!=e&&(u.pnIdentifier=e),f&&null!=t&&null!=i&&(u.lidIdentifier=t);const h=new o.Binary;return(0,g.encodeProtobuf)(c.CombinedFingerprintSpec,{version:0,localFingerprint:u,remoteFingerprint:d},h),h.readBuffer()}function S(){return(S=(0,i.default)((function*(e){let{jid:t,shareOwnPn:n}=e;const r=(0,p.assertGetMe)(),i=(0,p.getMaybeMeLid)(),o=(0,p.getMeUser)();let a,l;t.isLid()?(a=t,l=(0,s.getPhoneNumber)(a)):(a=null,l=t);const c=t.equals(o),g=yield(0,f.getFanOutListJob)([t,r]);try{yield(0,u.ensureE2ESessions)(g)}catch(e){__LOG__(4,void 0,new Error)`ensureE2ESessions with error`}const m=[],x=[];g.forEach((e=>{e.user===r.user&&x.push(e),(e.user!==r.user||c)&&m.push(e)}));try{const e=yield(0,d.getAllIdentityKeysBytesOrThrow)(m),t=yield(0,d.getAllIdentityKeysBytesOrThrow)(x),r=yield h.default.getIdentityKeyPair();if(!r)return __LOG__(3)`getIdentityVerificationData: missing identity for device verification`,null;t.push(new Uint8Array(r.pubKey)),c&&e.push(new Uint8Array(r.pubKey));const s=(0,d.identityKeysToBinary)(t),u=(0,d.identityKeysToBinary)(e),f=n?C(o):null,p=l?C(l):null,g=i?v(i):null,y=a?v(a):null,b=f&&p?j(f,s,p,u):null,E=yield Promise.all([Promise.resolve(b),_(f,g,s,p,y,u)]),[S,w]=E;return{binary:w,string:S}}catch(e){return __LOG__(3)`getIdentityVerificationData: failed to generate identity QR code: ${e}`,null}}))).apply(this,arguments)}},488702:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.gdprDownloadMedia=function(e){const t=(0,d.getOrCreateMediaObject)((0,o.encodeB64)((0,a.default)(e.fileSha256,"documentMessage.fileSha256"))),n={debugHint:"setMediaObjectValues",deprecatedMms3Url:(0,a.default)(e.directPath,"documentMessage.directPath"),encFilehash:(0,o.encodeB64)((0,a.default)(e.fileEncSha256,"documentMessage.fileEncSha256")),mediaKey:(0,o.encodeB64)((0,a.default)(e.mediaKey,"documentMessage.mediaKey")),mediaKeyTimestamp:(0,l.unixTime)(),type:c.MEDIA_TYPES.DOCUMENT};return t.entries.addEntry(n),t.consolidate((0,i.default)((0,i.default)({},n),{},{filehash:(0,o.encodeB64)((0,a.default)(e.fileSha256,"documentMessage.fileSha256")),type:u.TYPE.DOCUMENT})),(0,s.downloadMedia)({downloadEvenIfExpensive:!0,downloadOrigin:f.DOWNLOAD_ORIGIN_TYPE.GDPR,mediaObject:t,mediaType:c.MEDIA_TYPES.DOCUMENT,mimetype:"application/zip",rmrReason:f.WEBC_RMR_REASON_CODE.DOCUMENT_DOWNLOAD}).then((()=>t))};var i=r(n(81109)),o=n(417405),a=r(n(670983)),l=n(632157),s=n(102645),d=n(231385),u=n(172259),c=n(708761),f=n(130756)},252451:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.FingerprintDataSpec=t.CombinedFingerprintSpec=void 0;var i=r(n(81109)),o=n(739660);const a=(0,i.default)({},null);t.FingerprintDataSpec=a;const l=(0,i.default)({},null);t.CombinedFingerprintSpec=l,a.internalSpec={publicKey:[1,o.TYPES.BYTES],pnIdentifier:[2,o.TYPES.BYTES],lidIdentifier:[3,o.TYPES.BYTES]},l.internalSpec={version:[1,o.TYPES.UINT32],localFingerprint:[2,o.TYPES.MESSAGE,a],remoteFingerprint:[3,o.TYPES.MESSAGE,a]}},876668:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildSearchableHierarchy=function(e){const t={};return e.map((e=>{const n=(0,i.default)({},e);return null==t[n.id]&&(t[n.id]=n),null!=n.searchCriteria&&(n.searchCriteria=n.searchCriteria.toLowerCase()),null!=n.parentId&&(n.parent=t[n.parentId],null!=n.parent&&null!=n.parent.searchCriteria&&(null==n.searchCriteria&&(n.searchCriteria=""),null!=n.parent.searchCriteria&&(n.searchCriteria+=n.parent.searchCriteria))),n}))},t.getSettingsSearchHierarchy=function(){return[{step:a.SettingsSteps.Notifications,id:"notifications",parentId:null,isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.notificationsTitle)()),title:l.notificationsTitle,testid:"li-notifications",wamName:d.SETTINGS_ITEM_TYPE.NOTIFICATIONS},{step:a.SettingsSteps.Notifications,id:"message_notifications",parentId:"notifications",isAvailable:!0,title:l.messageNotificationsTitle,searchCriteria:[(0,o.toProductionString)((0,l.messageNotificationsTitle)()),(0,o.toProductionString)((0,l.messageNotificationsSubtitle)())].join(" ").toLowerCase()},{step:a.SettingsSteps.Notifications,id:"show_previews",parentId:"notifications",isAvailable:!0,title:l.showPreviewsTitle,searchCriteria:(0,o.toProductionString)((0,l.showPreviewsTitle)()).toLowerCase()},{step:a.SettingsSteps.Notifications,id:"show_reaction_notifcations",parentId:"notifications",isAvailable:!0,title:l.showReactionsTitle,searchCriteria:(0,o.toProductionString)((0,l.showReactionsTitle)()).toLowerCase()},{step:a.SettingsSteps.Notifications,id:"sounds",parentId:"notifications",isAvailable:!0,title:l.soundsTitle,searchCriteria:[(0,o.toProductionString)((0,l.soundsTitle)()),(0,o.toProductionString)((0,l.soundsSubtitle)())].join(" ").toLowerCase()},null,null,{step:a.SettingsSteps.PrivacySettings,id:"privacy",parentId:null,isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.privacyTitle)()),title:l.privacyTitle,testid:"settings-drawer-item-privacy",wamName:d.SETTINGS_ITEM_TYPE.PRIVACY},{step:a.SettingsSteps.PrivacyVisiblityEditLastSeen,id:"wcs_last_seen",parentId:"privacy",isAvailable:!0,title:l.privacyLastSeenOnlineEnabledTitle,searchCriteria:(0,o.toProductionString)((0,l.privacyLastSeenOnlineEnabledTitle)()).toLowerCase()},{step:a.SettingsSteps.PrivacyVisiblityEditProfilePicture,id:"wcs_profile_photo",parentId:"privacy",isAvailable:!0,title:l.privacyProfilePhotoTitle,searchCriteria:(0,o.toProductionString)((0,l.privacyProfilePhotoTitle)()).toLowerCase()},{step:a.SettingsSteps.PrivacyVisiblityEditAbout,id:"wcs_about_status",parentId:"privacy",isAvailable:!0,title:l.privacyAboutTitle,searchCriteria:(0,o.toProductionString)((0,l.privacyAboutTitle)()).toLowerCase()},{step:a.SettingsSteps.PrivacySettings,id:"wcs_read_receipts",parentId:"privacy",isAvailable:!0,title:l.privacyReadReceiptsTitle,searchCriteria:(0,o.toProductionString)((0,l.privacyReadReceiptsTitle)()).toLowerCase()},{step:a.SettingsSteps.DefaultEphemerality,id:"default_message_timer",parentId:"privacy",isAvailable:!0,title:l.privacyDDMTitle,searchCriteria:[(0,o.toProductionString)((0,l.privacyDDMTitle)()),(0,o.toProductionString)((0,l.privacyDMTitle)())].join(" ").toLowerCase()},{step:a.SettingsSteps.PrivacyVisiblityEditGroupAdd,id:"privacy_groups",parentId:"privacy",isAvailable:!0,title:l.privacyGroupsTitle,searchCriteria:(0,o.toProductionString)((0,l.privacyGroupsTitle)()).toLowerCase()},{step:a.SettingsSteps.Blocked,id:"privacy_blocked",parentId:"privacy",isAvailable:!0,title:l.privacyBlockedTitle,searchCriteria:(0,o.toProductionString)((0,l.privacyBlockedTitle)()).toLowerCase()},{step:a.SettingsSteps.ScreenLock,id:"screen_lock",parentId:"privacy",isAvailable:!0,title:l.privacyScreenlockTitle,searchCriteria:(0,o.toProductionString)((0,l.privacyScreenlockTitle)()).toLowerCase()},null,null,null,{step:a.SettingsSteps.Security,id:"security",parentId:null,isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.securityTitle)()),title:l.securityTitle,testid:"li-security",wamName:d.SETTINGS_ITEM_TYPE.SECURITY},{step:a.SettingsSteps.Theme,id:"theme",parentId:null,isAvailable:!0,searchCriteria:[(0,o.toProductionString)((0,l.themeTitle)()),(0,o.toProductionString)((0,l.themeLightLabel)()),(0,o.toProductionString)((0,l.themeDarkLabel)())].join(" ").toLowerCase(),title:l.themeTitle,wamName:d.SETTINGS_ITEM_TYPE.THEME},{step:a.SettingsSteps.Wallpaper,id:"wallpaper",parentId:null,isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.wallpaperTitle)()).toLowerCase(),title:l.wallpaperTitle,testid:"li-wallpaper",wamName:d.SETTINGS_ITEM_TYPE.CHAT_WALLPAPER},{step:a.SettingsSteps.MediaAutoDownload,id:"media_auto_download",parentId:null,isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.mediaAutoDownloadTitle)()).toLowerCase(),title:l.mediaAutoDownloadTitle,testid:"li-media-auto-download",wamName:d.SETTINGS_ITEM_TYPE.MEDIA_AUTO_DOWNLOAD},{step:a.SettingsSteps.RequestAccountInfoSettings,id:"request_account_info",parentId:null,isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.requestAccountInfoTitle)()).toLowerCase(),title:l.requestAccountInfoTitle,testid:"li-request-account-info",wamName:d.SETTINGS_ITEM_TYPE.REQUEST_ACCOUNT_INFO},{step:a.SettingsSteps.DesktopSettings,id:"desktop_settings",parentId:null,isAvailable:()=>!1,title:l.desktopSettingsTitle,testid:"li-desktop",wamName:d.SETTINGS_ITEM_TYPE.DESKTOP_SETTINGS},{step:a.SettingsSteps.DesktopSettings,id:"start_on_login",parentId:"desktop_settings",isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.startOnLoginTitle)()).toLowerCase(),title:l.startOnLoginTitle},{step:a.SettingsSteps.KeyboardShortcuts,id:"keyboard_shortcuts",parentId:null,isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.keyboardShortcutsTitle)()).toLowerCase(),title:l.keyboardShortcutsTitle,testid:"li-keyboard-shortcuts",wamName:d.SETTINGS_ITEM_TYPE.KEYBOARD_SHORTCUTS},{step:a.SettingsSteps.Help,id:"help",parentId:null,isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.helpTitle)()).toLowerCase(),title:l.helpTitle,testid:"li-help",wamName:d.SETTINGS_ITEM_TYPE.HELP},{step:a.SettingsSteps.Help,id:"help_center",parentId:"help",isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.helpCenterTitle)()).toLowerCase(),title:l.helpCenterTitle},{step:a.SettingsSteps.Help,id:"contact_us",parentId:"help",isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.contactUsTitle)()),title:l.contactUsTitle},{step:a.SettingsSteps.Help,id:"terms",parentId:"help",isAvailable:!0,searchCriteria:(0,o.toProductionString)((0,l.termsTitle)()).toLowerCase(),title:l.termsTitle},{step:a.SettingsSteps.Help,id:"license",parentId:"help",isAvailable:()=>s.UA.isElectron,searchCriteria:(0,o.toProductionString)((0,l.licensesTitle)()).toLowerCase(),title:l.licensesTitle},null].filter(Boolean)};var i=r(n(81109)),o=n(317259),a=(n(814843),n(73016)),l=n(603397),s=n(368170),d=n(130756)},929776:(e,t)=>{"use strict";function n(e){return"function"==typeof e?e():e}Object.defineProperty(t,"__esModule",{value:!0}),t.getResult=void 0,t.thunk=n;const r=n;t.getResult=r},818670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderStatusLabels=void 0;var r=n(620982),i=n(548360);const o={[String(r.OrderStatus.Pending)]:i.fbt._("Pending",null,{hk:"4GysRv"}),[String(r.OrderStatus.Processing)]:i.fbt._("Processing",null,{hk:"42EV23"}),[String(r.OrderStatus.PartiallyShipped)]:i.fbt._("Partially shipped",null,{hk:"2GgHwQ"}),[String(r.OrderStatus.Shipped)]:i.fbt._("Shipped",null,{hk:"30IDPY"}),[String(r.OrderStatus.Complete)]:i.fbt._("Completed",null,{hk:"1e4PVy"}),[String(r.OrderStatus.Canceled)]:i.fbt._("Canceled",null,{hk:"TK9cs"})};t.OrderStatusLabels=o},901254:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPrimaryCurrentVersion=function(){return s("current")},t.getPrimarySessionStartVersion=function(){return s("session_start")};var i=r(n(348926)),o=n(517244),a=n(666545),l=n(309512);function s(){return d.apply(this,arguments)}function d(){return(d=(0,i.default)((function*(e){const t=yield(0,a.getSyncActionsTable)().get(`["primary_version","${e}"]`);if(t){var n;const e=(0,l.decodeProtobuf)(o.SyncActionDataSpec,null==t?void 0:t.binarySyncData).value;return null==e||null===(n=e.primaryVersionAction)||void 0===n?void 0:n.version}return null}))).apply(this,arguments)}},912837:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.validateURL=t.validateEmail=t.EMAIL_REGEX=void 0;var i=r(n(79291));const o=new RegExp(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);t.EMAIL_REGEX=o;t.validateEmail=e=>!e||o.test(e);t.validateURL=e=>!e||i.default.URL_REGEX.test(e)},651919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLabelOperationEvent=function(e,t,n){const i={labelOperation:e};null!=t&&(i.labelCount=t);n&&(i.labelTarget=n);new r.LabelEventWamEvent(i).commit()};var r=n(228530)},228530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelEventWamEvent=void 0;var r=n(901032),i=n(130756);const{INTEGER:o,STRING:a}=r.TYPES,l=(0,r.defineEvents)({LabelEvent:[1422,{customLabelTitle:[9,a],entryPointConversionSource:[10,a],itemsLabeledCount:[5,o],labelCount:[4,o],labelOperation:[2,i.LABEL_OPERATIONS],labelOperationEntryPoint:[6,a],labelTarget:[1,i.LABEL_TARGETS],predefinedLabelNumber:[3,o],quickReplyThreadEntryPoints:[7,a],quickReplyThreadId:[8,a]},[1,1,1],"regular"]});t.LabelEventWamEvent=l},78896:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacySettingsClickWamEvent=void 0;var r=n(901032),i=n(130756);const o=(0,r.defineEvents)({PrivacySettingsClick:[3726,{privacyControlEntryPoint:[1,i.PRIVACY_CONTROL_ENTRY_POINT_TYPE],privacyControlItem:[2,i.PRIVACY_CONTROL_ITEM_TYPE]},[1,1,1],"regular"]});t.PrivacySettingsClickWamEvent=o},240780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsClickWamEvent=void 0;var r=n(901032),i=n(130756);const o=(0,r.defineEvents)({SettingsClick:[2214,{settingsClickEntryPoint:[2,i.SETTINGS_CLICK_ENTRY_POINT],settingsItem:[1,i.SETTINGS_ITEM_TYPE]},[1,1,1],"regular"]});t.SettingsClickWamEvent=o},455307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSearchInitiateWamEvent=void 0;const r=(0,n(901032).defineEvents)({SettingsSearchInitiate:[4014,{},[1,1,1],"regular"]});t.SettingsSearchInitiateWamEvent=r},361719:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSearchTapWamEvent=void 0;var r=n(901032),i=n(130756);const{STRING:o}=r.TYPES,a=(0,r.defineEvents)({SettingsSearchTap:[4016,{tapItemName:[1,o],topLevelParentSetting:[2,i.SETTINGS_ITEM_TYPE]},[1,1,1],"regular"]});t.SettingsSearchTapWamEvent=a},140960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebcMediaEditorSendWamEvent=void 0;var r=n(901032);const{INTEGER:i}=r.TYPES,o=(0,r.defineEvents)({WebcMediaEditorSend:[2890,{blurImageCount:[7,i],editedImageCount:[2,i],emojiLayerCount:[5,i],imageCount:[1,i],paintedImageCount:[3,i],stickerLayerCount:[6,i],textLayerCount:[4,i]},[1,1,1],"regular"]});t.WebcMediaEditorSendWamEvent=o},716910:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=n(952543),a=n(664149),l=n(675085),s=r(n(932325)),d=n(180519),u=n(676345),c=n(548360),f=n(667294),h=r(n(156720)),p=n(785893);const g={borderTop:"kagi745y"},m={dropdownItemStandardQuality:c.fbt._("Standard quality",null,{hk:"1Hev22"}),dropdownItemHDQuality:c.fbt._("HD quality",null,{hk:"1Jkxk6"}),dropdownInfo:c.fbt._("HD photos are clearer. Standard photos use less storage space and are faster to send.",null,{hk:"2p0R8d"})};function C(e){return(0,p.jsxs)("div",{children:[(0,p.jsx)(d.TextDiv,{theme:"title",children:e.title}),null!=e.size&&null!=e.width&&null!=e.height&&(0,p.jsx)(d.TextDiv,{theme:"plain",color:"secondary",children:c.fbt._("{filesize} Â· {width} x {height}",[c.fbt._param("filesize",s.default.filesize(e.size)),c.fbt._param("width",e.width),c.fbt._param("height",e.height)],{hk:"18YN3K"})})]})}function v(e,t){const{selectedQuality:n,onChangeQuality:r}=e,s=(0,f.useCallback)((()=>{n!==o.MediaQuality.Standard&&r(o.MediaQuality.Standard)}),[r,n]),c=(0,f.useCallback)((()=>{n!==o.MediaQuality.HD&&r(o.MediaQuality.HD)}),[r,n]),v=e.metadataByQuality.get(o.MediaQuality.HD),x=e.metadataByQuality.get(o.MediaQuality.Standard);return(0,p.jsxs)(a.Dropdown,{ref:t,flipOnRTL:!0,type:a.MenuType.Dropdown,testid:"hd-photo-dropdown",children:[(0,p.jsx)(l.DropdownItem,{addSpacing:!0,fixedHeight:!1,xstyle:[u.uiPadding.top16,u.uiPadding.bottom16],selected:n===o.MediaQuality.Standard,testid:"hd-photo-dropdown-item-standard-quality",action:s,children:(0,p.jsx)(C,(0,i.default)((0,i.default)({},x),{},{title:m.dropdownItemStandardQuality}))}),(0,p.jsx)(l.DropdownItem,{addSpacing:!0,fixedHeight:!1,xstyle:[u.uiPadding.top16,u.uiPadding.bottom16],selected:n===o.MediaQuality.HD,testid:"hd-photo-dropdown-item-hd-quality",action:c,children:(0,p.jsx)(C,(0,i.default)((0,i.default)({},v),{},{title:m.dropdownItemHDQuality}))}),(0,p.jsx)(d.TextDiv,{theme:"muted",className:(0,h.default)(g,u.uiPadding.top16,u.uiPadding.start16,u.uiPadding.end16,u.uiPadding.bottom7),children:m.dropdownInfo})]})}var x=(0,f.forwardRef)(v);t.default=x},717821:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(692629)),o=r(n(908081)),a=r(n(324093)),l=n(626194),s=r(n(969358)),d=n(690495),u=n(588792),c=n(511696),f=n(202391),h=n(937001),p=n(676345),g=n(548360),m=n(667294),C=r(n(156720)),v=r(n(829686)),x=n(785893);const y=()=>{},b=(0,m.forwardRef)(((e,t)=>{const n=(0,m.useRef)(null),r=(0,m.useRef)(null),[b,j]=(0,m.useState)(""),[E,_]=(0,m.useState)(""),[S,w]=(0,m.useState)(null),k=[p.uiPadding.horiz32,p.uiPadding.bottom28],T=(0,m.useCallback)((e=>{let{text:t}=e;j(t)}),[]),M=(0,m.useCallback)((e=>{let{text:t}=e;_(t)}),[]),I=(0,m.useCallback)(((e,t)=>{w(t)}),[]);(0,m.useImperativeHandle)(t,(()=>({restoreFocus:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.restoreFocus()},getElement:()=>r.current})));const P=b.trim().length>0&&E.trim().length>0,D=(0,v.default)((()=>{e.onSubmit({name:b,description:E,picture:S})})),L=(0,x.jsx)(d.FlexRow,{align:"center",justify:"center",xstyle:p.uiPadding.vert8,children:(0,x.jsx)(i.default,{testid:"popup-controls-ok",type:"primary",onClick:D,disabled:!P||e.loading,spinner:e.loading,children:g.fbt._("Create channel",null,{hk:"3UVGJH"})})}),R=g.fbt._("Channel name",null,{hk:"F1L9d"}),O=g.fbt._("Describe your channel. Including a description is useful for your followers.",null,{hk:"2jE1N0"}),A=g.fbt._("Channel description",null,{hk:"1Uj20p"});return(0,x.jsxs)(o.default,{ref:r,children:[(0,x.jsx)(l.DrawerHeader,{title:g.fbt._("New channel",null,{hk:"2xweuy"}),type:l.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),(0,x.jsx)(a.default,{children:(0,x.jsxs)(s.default,{theme:"full-height",children:[(0,x.jsx)("div",{className:(0,C.default)(p.uiPadding.top28,...k),children:(0,x.jsx)(c.PhotoPickerLoadable,{type:u.PhotoPickerType.NEWSLETTER,attachToChat:!1,startImage:S,onImageSet:I})}),(0,x.jsx)("div",{"data-testid":"newsletter-name",className:(0,C.default)(...k),children:(0,x.jsx)(f.RichTextField,{title:R,ref:e=>{n.current=e},value:b,maxLength:h.ServerProps.maxSubject,showRemaining:!0,onChange:T,placeholder:R,onEnter:P?D:y,supportsEmoji:!0,focusOnMount:!0})}),(0,x.jsx)("div",{"data-testid":"newsletter-description",className:(0,C.default)(...k),children:(0,x.jsx)(f.RichTextField,{title:O,value:E,maxLength:h.ServerProps.groupDescLength,showRemaining:!0,onChange:M,placeholder:A,inputPlaceholder:O,onEnter:P?D:y,supportsEmoji:!0,multiline:!0,maxVisibleLines:5,minVisibleLines:5,textFormatEnabled:!0,bulletPointsEnabled:!0,theme:"gray-background"})}),L]})})]})}));b.displayName="NewNewsletterInfoDrawer";var j=b;t.default=j},533393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterTabMenuDropdown=void 0;var r=n(664149),i=n(675085),o=n(73225),a=n(548360),l=n(667294),s=n(785893);const d=(0,l.forwardRef)(((e,t)=>{let{onCreateNewsletter:n,onNewsletterDirectorySearch:l}=e;const d=[];return(0,o.isNewsletterCreationEnabled)()&&d.push((0,s.jsx)(i.DropdownItem,{action:n,testid:"newsletter-overflow-menu-create-channel",children:a.fbt._("Create Channel",null,{hk:"hauWx"})},"newsletter-tab-overflow-menu-create-channel")),d.push((0,s.jsx)(i.DropdownItem,{action:l,testid:"newsletter-overflow-menu-find-channels",children:a.fbt._("Find Channels",null,{hk:"1YxNIb"})},"newsletter-tab-overflow-menu-find-channels")),(0,s.jsx)(r.Dropdown,{ref:t,type:r.MenuType.DropdownMenu,flipOnRTL:!0,dirX:r.DirX.LEFT,testid:"newsletter-menu-dropdown",children:d},"NewsletterMenuDropdown")}));t.NewsletterTabMenuDropdown=d,d.displayName="NewsletterTabMenuDropdown"},782785:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createNewsletterAction=function(e){return o.newsletterCreationQueue.enqueue((0,i.default)((function*(){const t=yield(0,l.createNewsletter)(e);if(null==t)return __LOG__(4,void 0,new Error,void 0,["newsletter"])`[newsletter][createNewsletterAction] failed to create newsletter`,null;const{newsletter:n,msgs:r}=t,{chat:i,metadata:o,pic:u}=(0,s.mapNewsletterToModels)(n);return yield a.NewsletterBridgeApi.joinNewsletter({newsletter:i,metadata:o,pic:u,msgs:r}),(0,d.toNewsletterWid)((0,d.createWid)(i.id.toString()))})))};var i=r(n(348926)),o=n(309570),a=n(549142),l=n(800413),s=n(14291),d=n(669050)},521425:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getNewsletterCellHeight=function(e){var t,n,r;if(null===(t=e.newsletterMetadata)||void 0===t?void 0:t.suspended)return u;const{previewMessage:p}=e;if(null==p)return u;const g=(null==p?void 0:p.type)===o.MSG_TYPE.IMAGE||(null==p?void 0:p.type)===o.MSG_TYPE.VIDEO,m=g?"370":"448",C=document.createElement("div");C.style.cssText=`display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; height: auto; width: ${m}px`,C.innerHTML=(0,a.renderToString)((0,l.jsx)(i.default,{msg:p.safe(),msgType:"LastMessage"})),null===(n=document.body)||void 0===n||n.appendChild(C);const v=C.clientHeight;if(null===(r=document.body)||void 0===r||r.removeChild(C),v>d)return h;if(v>s||g)return f;return c},t.newsletterCellHeightToHeightStyle=function(e){if(e===u)return"small";if(e===c)return"medium";if(e===f)return"large";return"xlarge"};var i=r(n(8402)),o=n(373070),a=n(697762),l=n(785893);const s=20,d=40,u=100,c=120,f=140,h=160},706016:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(348926)),o=n(780549),a=n(900316),l=r(n(99398)),s=r(n(717821)),d=n(782785),u=n(625786),c=n(390737),f=n(548360),h=n(667294),p=r(n(829686)),g=n(839062),m=n(785893);const C=n(76672).Mirrored(["Info"]);function v(e,t){const n=(0,h.useRef)(!1),[r,v]=(0,h.useState)(!1),x=(0,p.default)((()=>{e.onBack?e.onBack():!1===n.current&&a.DrawerManager.closeDrawerLeft()})),[y,b]=(0,g.useFlow)(C.Info,{transitions:g.FlowTransitions.DrawerLeft,onEnd:x}),j=function(){var e=(0,i.default)((function*(e){const t=yield(0,d.createNewsletterAction)(e);v(!1),null!=t?o.Cmd.openCreatedNewsletter(t):c.ToastManager.open((0,m.jsx)(u.Toast,{msg:f.fbt._("The channel couldn't be created. Please try again.",null,{hk:"1GotOP"})}))}));return function(){return e.apply(this,arguments)}}(),E=(0,p.default)((e=>{v(!0),j(e)})),_=e=>{l.default.online?E(e):c.ToastManager.open((0,m.jsx)(u.Toast,{msg:f.fbt._("Channel could not be created. Check your internet connection and try again.",null,{hk:"3VKGRb"})}))};if(null==b.step)return null;let S=null;switch(b.step){case C.Info:S=(0,m.jsx)(s.default,{loading:r,onBack:x,onSubmit:_})}return(0,m.jsx)(y,{ref:t,flow:b,displayName:"NewNewsletterFlow",children:S})}var x=(0,h.forwardRef)(v);t.default=x},899341:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterChatCell=function(e){const[t,n]=(0,u.default)(e.active,`newsletter-${e.newsletter.id.toString()}`),r=t=>{var n;t.preventDefault(),null===(n=e.onSelect)||void 0===n||n.call(e),a.Cmd.openChatFromUnread(e.newsletter,o.ChatEntryPoint.NewsletterChatlist).then((t=>(t&&l.ComposeBoxActions.focus(e.newsletter),e.newsletter)))},f=d.fbt._("{newsletter-name} Channel",[d.fbt._param("newsletter-name",e.newsletter.formattedTitle)],{hk:"3uOLrU"});return(0,c.jsx)(s.HotKeys,{ref:t,handlers:{enter:r,space:r},"aria-label":f.toString(),role:"button","data-testid":"newsletter-tab-newsletter-cell",children:(0,c.jsx)(i.Chat,{onClick:r,chat:e.newsletter,forceActive:n,theme:"newsletter-cell",noContext:!0,doNotBoldUnread:!0,hideArchivedIcon:!0,heightStyle:e.heightStyle})})};var i=n(700071),o=n(96096),a=n(780549),l=n(877171),s=n(81644),d=n(548360),u=r(n(928361)),c=n(785893)},85517:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.NewsletterDirectoryDrawer=void 0;var i=n(839058),o=r(n(908081)),a=r(n(324093)),l=n(626194),s=r(n(969358)),d=n(596241),u=n(690495),c=r(n(469733)),f=n(81644),h=n(526795),p=n(931109),g=n(180519),m=n(548360),C=n(667294),v=r(n(156720)),x=n(785893);const y={hotKeys:{height:"ppled2lx"},drawer:{backgroundColor:"se2m7z6i"},container:{paddingTop:"jvpa774f",paddingEnd:"qkgcnfab",paddingBottom:"taa14sug",paddingStart:"ly84yby8"},emptyTabBadge:{marginTop:"mnhq3yws"},emptyTabHeader:{marginTop:"rek1qe2c",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",lineHeight:"a4ywakfo",textAlign:"qfejxiq4"},emptyTabDescription:{marginTop:"rek1qe2c",marginEnd:"k1jo73ug",marginBottom:"ndlvrqf7",marginStart:"isfiuinm",color:"gro5s87f",lineHeight:"a4ywakfo",textAlign:"qfejxiq4"}},b=()=>(0,x.jsxs)(s.default,{theme:"full-height",xstyle:y.container,children:[(0,x.jsx)(u.FlexRow,{align:"center",justify:"center",children:(0,x.jsx)(c.default,{xstyle:y.emptyTabBadge,children:(0,x.jsx)(i.CommunityTabNuxIcon,{})})}),(0,x.jsx)(g.TextHeader,{level:"2",size:"24",color:"dark",weight:"bold",xstyle:y.emptyTabHeader,children:m.fbt._("Introducing channels",null,{hk:"4w8NWX"})}),(0,x.jsx)(g.TextParagraph,{xstyle:y.emptyTabDescription,children:m.fbt._("Now, your channels can have their own space.",null,{hk:"49jvIK"})})]}),j=(0,C.forwardRef)(((e,t)=>{const n=(0,C.useRef)(),r=(0,x.jsx)(h.MenuBarItem,{tabOrder:p.TAB_ORDER.NEWSLETTER_TAB_HEADER,testid:"find-newsletters-dropdown-button",icon:(0,x.jsx)(d.FilterIcon,{}),title:m.fbt._("Menu",null,{hk:"2xaXZl"})}),i=(0,x.jsx)(a.default,{children:(0,x.jsx)(b,{})});return(0,x.jsx)(f.HotKeys,{ref:n,className:(0,v.default)(y.hotKeys),"aria-label":m.fbt._("Find Newsletters Drawer",null,{hk:"1koIMX"}),"data-testid":"finds-newsletters-tab-drawer",children:(0,x.jsxs)(o.default,{ref:t,xstyle:y.drawer,testid:"find-newsletter-drawer",children:[(0,x.jsx)(l.DrawerHeader,{title:m.fbt._("Find Channels",null,{hk:"57NbH"}),type:l.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,children:r}),i]})})}));t.NewsletterDirectoryDrawer=j,j.displayName="NewsletterDirectoryDrawer"},102182:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(839058),o=r(n(908081)),a=r(n(324093)),l=n(626194),s=r(n(969358)),d=n(512938),u=r(n(570834)),c=n(690495),f=r(n(469733)),h=r(n(335540)),p=n(81644),g=n(526795),m=n(899341),C=n(521425),v=r(n(358533)),x=n(415432),y=n(533393),b=n(792625),j=r(n(237889)),E=n(956113),_=n(931109),S=n(180519),w=n(548360),k=n(667294),T=r(n(156720)),M=r(n(969651)),I=r(n(637660)),P=n(808446),D=n(655241),L=n(785893);const R="NEWSLETTER_CHAT_CELL",O="GUTTER",A={hotKeys:{height:"ppled2lx"},drawer:{backgroundColor:"se2m7z6i"},container:{paddingTop:"jvpa774f",paddingEnd:"qkgcnfab",paddingBottom:"taa14sug",paddingStart:"ly84yby8"},emptyTabBadge:{marginTop:"mnhq3yws"},emptyTabHeader:{marginTop:"rek1qe2c",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",lineHeight:"a4ywakfo",textAlign:"qfejxiq4"},emptyTabDescription:{marginTop:"rek1qe2c",marginEnd:"k1jo73ug",marginBottom:"ndlvrqf7",marginStart:"isfiuinm",color:"gro5s87f",lineHeight:"a4ywakfo",textAlign:"qfejxiq4"},gutter:{backgroundColor:"se2m7z6i",height:"g965lu3b"}},N=()=>(0,L.jsxs)(s.default,{theme:"full-height",xstyle:A.container,children:[(0,L.jsx)(c.FlexRow,{align:"center",justify:"center",children:(0,L.jsx)(f.default,{xstyle:A.emptyTabBadge,children:(0,L.jsx)(i.CommunityTabNuxIcon,{})})}),(0,L.jsx)(S.TextHeader,{level:"2",size:"24",color:"dark",weight:"bold",xstyle:A.emptyTabHeader,children:w.fbt._("Introducing channels",null,{hk:"4w8NWX"})}),(0,L.jsx)(S.TextParagraph,{xstyle:A.emptyTabDescription,children:w.fbt._("Now, your channels can have their own space.",null,{hk:"49jvIK"})})]}),B=()=>(0,L.jsx)(s.default,{theme:"full-height",xstyle:A.container,children:(0,L.jsx)(E.Spinner,{})}),F=()=>(0,L.jsx)("div",{className:(0,T.default)(A.gutter)}),H=e=>{let{data:t,selectionRef:n,onSelect:r}=e;switch(t.type){case R:return(0,L.jsx)(s.default,{shadow:!1,animation:!1,children:(0,L.jsx)(m.NewsletterChatCell,{newsletter:t.newsletter,heightStyle:t.heightStyle,active:n,onSelect:()=>r(t)})});case O:return(0,L.jsx)(F,{})}},U=(0,k.forwardRef)(((e,t)=>{var n;const[r,i]=(0,k.useState)([]),s=(0,I.default)((()=>new u.default)),c=(0,k.useRef)(),f=(0,k.useRef)(),m=(0,I.default)((()=>new j.default([],(e=>e.itemKey)))),E=(0,k.useRef)(null!==(n=e.initialScrollTop)&&void 0!==n?n:0),S=(0,k.useRef)(!1),F=(0,k.useCallback)((()=>r.filter((e=>e.type!==O))),[r]),U=(0,M.default)();(0,P.useListener)(v.default,"add remove change",U);const G=(0,k.useCallback)((()=>{f.current&&h.default.focus(f.current)}),[f]),z=()=>{if(c.current){const t=m.current.value;if(null==t)return;const n=r.findIndex((e=>e.itemKey===t.itemKey));var e;if(-1!==n)null===(e=c.current)||void 0===e||e.scrollIntoViewIfNeeded(n,100)}},q=t=>{if(0===e.newsletters.length)return;null==t||t.preventDefault(),null==t||t.stopPropagation();m.current.prev()>-1&&(m.current.setPrev(!0),z())},V=t=>{if(0===e.newsletters.length)return;null==t||t.preventDefault(),null==t||t.stopPropagation();const n=m.current.next();m.current.index!==n&&(m.current.setNext(!0),z())},W=e=>{m.current.setVal(e)};(0,k.useEffect)((()=>{i((e=>{const t=[];return e.forEach((e=>{const n=(0,C.getNewsletterCellHeight)(e);t.push({itemKey:`newsletter-${e.id.toString()}`,type:R,height:n,heightStyle:(0,C.newsletterCellHeightToHeightStyle)(n),newsletter:e})})),t.push({itemKey:"newsletter-gutter",type:O,height:22}),t})(e.newsletters))}),[e.newsletters]),(0,k.useEffect)((()=>{0===m.current.list.length&&m.current.init(F())}),[m,r,F]),(0,k.useEffect)((()=>{G()}),[G]),(0,k.useEffect)((()=>{var t;r.length&&!1===S.current&&(s.current.setScrollFromStart(null!==(t=e.initialScrollTop)&&void 0!==t?t:0),S.current=!0);return()=>{var t;return null===(t=e.setScrollTop)||void 0===t?void 0:t.call(e,E.current)}}),[r,s,e]);const{isLoading:Y}=(0,D.useModelValues)(x.NewsletterLoadingStageManager,["isLoading"]),Z=(0,L.jsx)(g.MenuBarItem,{tabOrder:_.TAB_ORDER.NEWSLETTER_TAB_HEADER,testid:"newsletter-tab-dropdown-button",icon:(0,L.jsx)(b.PlusLargeIcon,{}),title:w.fbt._("Menu",null,{hk:"2xaXZl"}),children:(0,L.jsx)(y.NewsletterTabMenuDropdown,{onCreateNewsletter:e.onCreateNewsletter,onNewsletterDirectorySearch:e.onNewsletterDirectorySearch})}),K=e.newsletters.length>0?(0,L.jsx)(a.default,{flatListControllers:[s.current],onScroll:e=>{E.current=e.currentTarget.scrollTop},children:(0,L.jsx)(d.FlatList,{ref:c,data:r,renderItem:e=>(0,L.jsx)(H,{data:e,selectionRef:m.current,onSelect:W}),flatListController:s.current,direction:"vertical",role:"navigation","aria-label":w.fbt._("Channel List",null,{hk:"MgvLU"}).toString()})}):(0,L.jsx)(a.default,{children:(0,L.jsx)(N,{})});return(0,L.jsx)(p.HotKeys,{handlers:{down:V,j:V,tab:V,up:q,k:q,"shift+tab":q},ref:f,className:(0,T.default)(A.hotKeys),"aria-label":w.fbt._("Channel Tab Drawer",null,{hk:"2Zi5QB"}),"data-testid":"newsletter-tab-drawer",children:(0,L.jsxs)(o.default,{ref:t,xstyle:A.drawer,testid:"newsletter-drawer",children:[(0,L.jsx)(l.DrawerHeader,{title:w.fbt._("Channels",null,{hk:"2btjT0"}),type:l.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,children:Z}),Y?(0,L.jsx)(B,{}):K]})})}));U.displayName="NewsletterTabDrawer";var G=U;t.default=G},148281:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,f.useRef)(0),n=()=>{(0,c.settNewsletterTabLastSeenTimestamp)((0,o.unixTime)()),s.default.trigger("newsletter_tab_close"),e.onBack?e.onBack():a.DrawerManager.closeDrawerLeft()},[r,v]=(0,p.useFlow)(C.NewsletterTab,{transitions:p.FlowTransitions.DrawerLeft,onEnd:n}),x=function(){const[e,t]=(0,f.useState)(!1);(0,g.useListeners)(s.default.toArray().filter((e=>null!=e.newsletterMetadata)).map((n=>({source:(0,i.default)(n.newsletterMetadata,"newsletter.newsletterMetadata"),eventOrEvents:"change:isPreview",callback:()=>t(!e)}))));return(0,h.default)(s.default,["add","remove","reset","sort"],(()=>s.default.filter((e=>{var t;return!(null===(t=e.newsletterMetadata)||void 0===t?void 0:t.isPreview)}))),[e])}();if(null==v.step)return null;let y;switch(v.step){case C.NewsletterTab:y=(0,m.jsx)(u.default,{newsletters:x,onBack:n,initialScrollTop:t.current,setScrollTop:e=>{t.current=e},onCreateNewsletter:()=>{v.push(C.CreateNewsletter)},onNewsletterDirectorySearch:()=>{v.push(C.NewsletterDirectory)}});break;case C.CreateNewsletter:y=(0,m.jsx)(l.default,{onBack:()=>v.pop()});break;case C.NewsletterDirectory:y=(0,m.jsx)(d.NewsletterDirectoryDrawer,{onBack:()=>v.pop(),initialScrollTop:t.current,setScrollTop:e=>{t.current=e}})}return(0,m.jsx)(r,{flow:v,children:y})};var i=r(n(670983)),o=n(632157),a=n(900316),l=r(n(706016)),s=r(n(358533)),d=n(85517),u=r(n(102182)),c=n(690491),f=n(667294),h=r(n(524578)),p=n(839062),g=n(808446),m=n(785893);const C=n(76672).Mirrored(["NewsletterTab","CreateNewsletter","NewsletterDirectory"])},356439:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,c.useFlow)(null==e.stickerPackId?h.StickerStore:h.StickerPackDetails,{transitions:c.FlowTransitions.DrawerRight}),[r,p]=(0,u.useState)(null),[g,m]=(0,u.useState)(null),C=(0,u.useRef)(0),v=e=>{C.current=e},x=e=>{p(e),n.push(h.StickerPackDetails)},y=(e,t)=>{m(e),t&&p(t),n.push(h.StickerDetails)},b=()=>{n.pop()},j=()=>{n.pop(),g&&i.Cmd.once("ui_idle",(()=>{e.onSticker(g,d.STICKER_SEND_ORIGIN_TYPE.STICKER_STORE)}))};if(null==n.step)return null;let E=null;switch(n.step){case h.StickerStore:E=(0,f.jsx)(l.default,{onStickerPackDetails:x,onClose:()=>n.pop(),onScrollOffsetChange:v,scrollOffset:C.current});break;case h.StickerPackDetails:E=null==e.stickerPackId?null!=r?(0,f.jsx)(a.default,{stickerPack:r,onStickerClick:y,onStickerEnter:y,onBack:b}):null:(0,f.jsx)(a.default,{stickerPackId:e.stickerPackId,onStickerClick:y,onStickerEnter:y,onClose:()=>n.end(s.DismissReason.LIFECYCLE)});break;case h.StickerDetails:E=null!=g&&null!=r?(0,f.jsx)(o.default,{sticker:g,stickerPack:r,onSend:j,onBack:()=>n.pop()}):null}return(0,f.jsx)(t,{flow:n,children:E})};var i=n(780549),o=r(n(718630)),a=r(n(659415)),l=r(n(665695)),s=n(238669),d=n(130756),u=n(667294),c=n(839062),f=n(785893);const h=n(76672).Mirrored(["StickerStore","StickerPackDetails","StickerDetails"])},84846:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerIconContainer=function(e){let{url:t,xstyle:n}=e;const[r,{isIntersecting:h}]=(0,d.default)({root:null,rootMargin:"0px",threshold:0}),p=(0,l.useRef)(h);return p.current=p.current||h,(0,u.jsx)("div",{ref:r,className:(0,s.default)(c,n),children:p.current&&(0,u.jsx)(o.ImgWithFallback,{fallbackSVG:(0,u.jsx)(a.StickerIcon,{}),wrapOptions:{centerWrapperChild:!0,wrapperClassName:""},className:(0,s.default)(f),size:"NONE",shape:i.DetailImageShape.Square,imgProps:{src:t,draggable:!1},theme:o.Theme.Transparent})})};var i=n(23641),o=n(118914),a=n(593642),l=n(667294),s=r(n(156720)),d=r(n(105170)),u=n(785893);const c={boxSizing:"cm280p3y",height:"graaj7av",width:"jgly3g7g",minHeight:"lignnmtc",minWidth:"j3e9rhaw",position:"g0rxnol2"},f={width:"ln8gz9je",height:"ppled2lx"}},399358:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{stickerPacks:t,onStickerPackDetails:n}=e,r=(0,c.default)((()=>new a.default)),h=(0,u.useMemo)((()=>t.map((e=>({itemKey:e.id,stickerPack:e})))),[t]);return(0,f.jsx)(o.default,{flatListControllers:[r.current],children:(0,f.jsx)(i.FlatList,{flatListController:r.current,direction:"vertical",forceConsistentRenderCount:!1,data:h,renderItem:e=>(0,f.jsx)(d.default,{data:e,onClick:n}),defaultItemHeight:s.STICKER_LIST_ITEM_HEIGHT,keyOrder:l.KeyOrder.INVERSE})})};var i=n(512938),o=r(n(964223)),a=r(n(570834)),l=n(390185),s=n(432938),d=r(n(999205)),u=n(667294),c=r(n(637660)),f=n(785893)},999205:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{stickerPack:t}=e.data,n=(0,c.jsxs)("div",{className:(0,u.default)(f.title),children:[(0,c.jsx)(a.EmojiText,{text:t.name,ellipsify:!0,titlify:!0}),t.animated?(0,c.jsx)(l.RoundPlayIcon,{className:(0,u.default)(f.animatedIcon),width:16,height:16}):null]}),r=[],h=Math.min(6,t.previewImageIds.length);for(let e=0;e<h;e++){const n=t.previewImageIds[e];r.push((0,c.jsxs)(d.Fragment,{children:[(0,c.jsx)(i.default,{breakpoint:94*(e+1)-22,inverseToContainer:!0,maxWidth:"100%",minWidth:0}),(0,c.jsx)(s.StickerIconContainer,{url:`https://static.whatsapp.net/sticker?cat=sticker_preview_png&id=${n}`,xstyle:f.stickerIcon})]},n))}const p=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.EmojiText,{text:t.publisher,ellipsify:!0}),(0,c.jsx)("div",{className:(0,u.default)(f.stickerIconsContainer),children:r})]});return(0,c.jsx)(o.default,{testid:"sticker-pack-list-item",theme:"sticker-pack",primary:n,secondary:p,onClick:()=>{e.onClick(t)},className:(0,u.default)(f.stickerPack),contextEnabled:()=>!1},t.id)};var i=r(n(681176)),o=r(n(991370)),a=n(305521),l=n(388213),s=n(84846),d=n(667294),u=r(n(156720)),c=n(785893);const f={stickerPack:{paddingStart:"lyvj5e2u",color:"h15s16sg"},title:{display:"p357zi0d",alignItems:"gndfcl4n"},animatedIcon:{marginStart:"oz0g9ue8",color:"kw851w1p"},stickerIconsContainer:{display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"dnb887gk",marginTop:"dj1c3cmq"},stickerIcon:{marginEnd:"gwq3iy2m"}}},718630:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(983098)),o=r(n(908081)),a=r(n(324093)),l=n(626194),s=r(n(969358)),d=r(n(570834)),u=n(430484),c=n(438543),f=r(n(767569)),h=n(548360),p=n(667294),g=r(n(156720)),m=r(n(637660)),C=n(785893);const v={stickerContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"hv5pdlef",marginBottom:"gdaqao4w",width:"ln8gz9je"},controlsContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"fhelu9n7"},controlsButton:{marginStart:"nzcjdldu",marginEnd:"gqi0zhd6"}};function x(e,t){const n=(0,m.default)((()=>new d.default)),{sticker:r,stickerPack:p,onSend:x,onBack:y}=e;return(0,C.jsxs)(o.default,{theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-details",children:[(0,C.jsx)(l.DrawerHeader,{title:h.fbt._("Sticker Details",null,{hk:"44A1rH"}),type:l.DRAWER_HEADER_TYPE.SMALL,onBack:y}),(0,C.jsx)(a.default,{flatListControllers:[n.current],children:(0,C.jsxs)(s.default,{animation:!1,theme:"padding-no-margin",shadow:!1,children:[(0,C.jsx)("div",{className:(0,g.default)(v.stickerContainer),children:(0,C.jsx)(f.default,{sticker:r,theme:"stickerDetails"},r.id)}),(0,C.jsx)(c.StickerDetailsStickerPackInfo,{name:p.name,publisher:p.publisher,theme:c.Theme.StickerStore}),(0,C.jsx)("div",{className:(0,g.default)(v.controlsContainer),children:(0,C.jsx)(i.default,{Icon:u.SendIcon,label:h.fbt._("Send to this chat",null,{hk:"3uG4Tr"}),testid:"sticker-action send-button",xstyle:v.controlsButton,onClick:()=>{x(r)}})})]})})]},"sticker-details-modal")}var y=(0,p.forwardRef)(x);t.default=y},659415:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(908081)),o=r(n(324093)),a=n(626194),l=r(n(969358)),s=n(305521),d=r(n(570834)),u=r(n(932325)),c=n(388213),f=n(956113),h=n(425192),p=r(n(767569)),g=n(180519),m=n(548360),C=n(667294),v=r(n(156720)),x=r(n(524578)),y=r(n(637660)),b=r(n(940630)),j=n(785893);const E=n(95492),_={titleContainer:{display:"p357zi0d",alignItems:"gndfcl4n",marginBottom:"or9x5nie"},title:{flexGrow:"tvf2evcx"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},animatedIcon:{marginStart:"oz0g9ue8",color:"kw851w1p"},contentContainer:{marginBottom:"dblt22a0",color:"hp667wtd",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},stickersContainer:{display:"btb1m7bk",gridTemplateColumns:"dr6m1ylk",gridTemplateRows:"kenirpp9",gridColumnGap:"zqptfkjs",gridRowGap:"lhjw8glk",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"ppled2lx"},emptyContainer:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"hv5pdlef",marginBottom:"gdaqao4w",width:"ln8gz9je"},emptySticker:{width:"sr23wnuw",height:"rjxfi64q",marginBottom:"dblt22a0",backgroundRepeat:"sxl192xd",backgroundSize:"hbhfgwk1"},emptyText:{textAlign:"qfejxiq4",marginBottom:"fhelu9n7"}};function S(e,t){const n=(0,y.default)((()=>new d.default)),{stickerPack:r,stickerPackId:S,onStickerClick:w,onStickerEnter:k,onBack:T,onClose:M}=e,I=function(e,t){return(0,x.default)(h.StickerPackCollectionMd,"add remove reset",(()=>e||(t?h.StickerPackCollectionMd.get(t):null)))||(null==t?null:void h.StickerPackCollectionMd.fetchStickerPack(t))}(r,S),P=function(e){return(0,x.default)(null==e?void 0:e.stickers,"add remove reset",(()=>null==e?void 0:e.stickers.toArray()))}(I),D=function(e){return(0,x.default)(h.StickerPackCollectionMd,"change:packFetchState",(()=>e?h.StickerPackCollectionMd.packFetchState.get(e):null))}(S),L=(0,b.default)();(0,C.useEffect)((()=>{L((()=>{null==I||I.stickers.fetch()}))}),[null==I?void 0:I.stickers,L]);const R=(e,t)=>{I&&w(e,I,t)},O=(e,t)=>{I&&k(e,I,t)};let A;return(S&&D===h.FETCH_STATE.PENDING||0===(null==P?void 0:P.length))&&(A=(0,j.jsx)(g.TextDiv,{theme:"plain",xstyle:_.spinner,children:(0,j.jsx)(f.Spinner,{size:50,stroke:4})})),(0,j.jsxs)(i.default,{theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-pack-details",children:[(0,j.jsx)(a.DrawerHeader,{title:m.fbt._("Sticker Details",null,{hk:"44A1rH"}),type:a.DRAWER_HEADER_TYPE.SMALL,onBack:T,onCancel:M}),(0,j.jsx)(o.default,{flatListControllers:[n.current],children:(0,j.jsxs)(l.default,{animation:!1,theme:"padding-no-margin",shadow:!1,children:[I?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g.TextDiv,{theme:"title",xstyle:_.titleContainer,children:[(0,j.jsx)(s.EmojiText,{xstyle:_.title,text:I.name,ellipsify:!0,titlify:!0}),I.animated?(0,j.jsx)(c.RoundPlayIcon,{className:(0,v.default)(_.animatedIcon),width:16,height:16}):null]}),I.publisher&&(0,j.jsx)(g.TextDiv,{theme:"plain",xstyle:_.contentContainer,children:(0,j.jsx)(s.EmojiText,{text:u.default.t(588,{name:I.publisher})})}),I.description&&(0,j.jsx)(g.TextDiv,{theme:"plain",xstyle:_.contentContainer,children:(0,j.jsx)(s.EmojiText,{text:I.description})}),A,(0,j.jsx)("div",{className:(0,v.default)(_.stickersContainer),children:null==P?void 0:P.map((e=>(0,j.jsx)(p.default,{sticker:e,theme:"stickerStore",onClick:R,onEnter:O,dontShowViewPack:!0},e.id)))})]}):null,!I&&S&&D===h.FETCH_STATE.PENDING?A:null,I||S&&D===h.FETCH_STATE.PENDING?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:(0,v.default)(_.emptyContainer),children:(0,j.jsx)("div",{className:(0,v.default)(_.emptySticker),style:{backgroundImage:`url(${E})`}})}),(0,j.jsx)(g.TextDiv,{theme:"plain",xstyle:[_.contentContainer,_.emptyText],children:(0,j.jsx)(s.EmojiText,{text:m.fbt._("Unable to find sticker pack",null,{hk:"3aIIxP"})})})]})]})})]},"sticker-pack-details-modal")}var w=(0,C.forwardRef)(S);t.default=w},665695:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(908081)),o=r(n(324093)),a=n(626194),l=r(n(969358)),s=r(n(570834)),d=n(956113),u=n(425192),c=r(n(399358)),f=n(180519),h=n(548360),p=n(667294),g=(r(n(156720)),r(n(524578))),m=r(n(637660)),C=n(785893);const v={spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"}};function x(e,t){const n=(0,g.default)(u.StickerPackCollectionMd,"add remove reset",(()=>u.StickerPackCollectionMd.filter((e=>null!=e.index)))),r=(0,m.default)((()=>new s.default));let p;return 0===n.length&&(p=(0,C.jsx)(f.TextDiv,{theme:"plain",xstyle:v.spinner,children:(0,C.jsx)(d.Spinner,{size:50,stroke:4})})),(0,C.jsxs)(i.default,{theme:"sticker-store",ref:t,testid:"sticker-drawer-sticker-store",children:[(0,C.jsx)(a.DrawerHeader,{title:h.fbt._("WhatsApp Sticker Store",null,{hk:"nicpq"}),type:a.DRAWER_HEADER_TYPE.SMALL,onCancel:e.onClose}),(0,C.jsx)(o.default,{flatListControllers:[r.current],onScroll:t=>{var n;null===(n=e.onScrollOffsetChange)||void 0===n||n.call(e,t.currentTarget.scrollTop)},scrollOffset:e.scrollOffset,children:(0,C.jsxs)(l.default,{animation:!1,theme:"no-padding",shadow:!1,children:[p,(0,C.jsx)(c.default,{stickerPacks:n,onStickerPackDetails:e.onStickerPackDetails})]})})]},"sticker-store-modal")}var y=(0,p.forwardRef)(x);t.default=y},752819:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.addQuickReply=function(e){e.id=(0,o.default)();const t=a.QuickReplyCollection.add(e)[0];return Promise.resolve((0,i.default)(t,"addedQuickReply"))},t.deleteQuickReply=function(e){const t=a.QuickReplyCollection.remove(e.id)[0];return Promise.resolve((0,i.default)(t,"deletedQuickReply"))},t.editQuickReply=function(e){const t=a.QuickReplyCollection.add(e,{merge:!0})[0];return Promise.resolve((0,i.default)(t,"updatedQuickReply"))};var i=r(n(670983)),o=r(n(243957)),a=n(775579)},680110:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.cartItemCollection.reset(),e.set("message",void 0),e.trigger("change:cartItemCollection"),(0,i.default)(e)};var i=r(n(879366))},702727:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createProductFromRefreshCartItem=y,t.getSavingsFromCartItemsAndProducts=function(e){return e.reduce(((e,t)=>e+t.cartItem.quantity*(0,h.getSavings)(t.product)),0)},t.isPriceMatch=x,t.matchCartItemsToProducts=function(e,t){const n=d.CatalogCollection.get((0,p.createWid)(e.id)),r=[],i=[];let l=!0;n&&e.cartItemCollection.forEach((a=>{const s=n.productCollection.get(a.id);let d=t&&t.products.find((e=>e.id===a.id));if(d=function(e,t){if(e&&"deleted"===e.status)return void t.productCollection.remove(e.id);return e}(d,n),!t&&s){const e=function(e,t){const n=function(e,t){return e.priceAmount1000===(0,h.getActivePrice)(t)&&e.currency===t.currency&&e.name===t.name&&e.imageHash===t.imageHash&&e.maxAvailable===t.maxAvailable}(e,t);n||e.set({priceAmount1000:(0,h.getActivePrice)(t),currency:t.currency,name:t.name,imageHash:t.imageHash,maxAvailable:t.maxAvailable},{silent:!0});return n}(a,s);l=l&&e,r.push({product:s,cartItem:a})}else if(d){const t=function(e,t){const n=!t||function(e,t){var n,r;const i=(0,h.getActivePrice)(C(t));return x(e.priceAmount1000,i)&&(!(0,o.isString)(e.currency)&&!(0,o.isString)(t.currency)||e.currency===t.currency)&&e.name===t.name&&e.imageHash===(null===(n=t.media)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.id)}(e,t);if(!n&&t){const n=C(t);e.set({priceAmount1000:(0,h.getActivePrice)(n),currency:n.currency,name:n.name,imageHash:n.imageHash,maxAvailable:n.maxAvailable},{silent:!0})}return n}(a,d);l=l&&t,r.push({product:y(d,e.id),cartItem:a})}else l=!1,i.push(a.id)})),n||(0,a.default)(e);l||(i.length&&e.cartItemCollection.remove(i),e.trigger("change:cartItemCollection"),c.ModalManager.open((0,m.jsx)(u.ConfirmPopup,{onOK:()=>{c.ModalManager.close()},children:g.fbt._("One or more items in your cart have been updated",null,{hk:"1jr9xE"})})));return(0,s.default)(e),r},t.parsePrice=v;var i=r(n(81109)),o=n(724976),a=r(n(680110)),l=n(172949),s=r(n(879366)),d=n(713464),u=n(103440),c=n(114850),f=n(517086),h=n(607592),p=n(669050),g=n(548360),m=n(785893);function C(e){var t,n,r,i,o,a,s,d;return{id:e.id,name:null!==(t=e.name)&&void 0!==t?t:"",imageCdnUrl:null===(n=e.media)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.request_image_url,imageHash:null===(i=e.media)||void 0===i||null===(o=i.image)||void 0===o?void 0:o.id,currency:e.currency,priceAmount1000:v(e.price),salePriceAmount1000:v(null===(a=e.sale_price)||void 0===a?void 0:a.price),salePriceStartDate:(0,l.parseDateValue)(null===(s=e.sale_price)||void 0===s?void 0:s.start_date),salePriceEndDate:(0,l.parseDateValue)(null===(d=e.sale_price)||void 0===d?void 0:d.end_date),maxAvailable:e.max_available}}function v(e){return"string"==typeof e?e.length>0?parseInt(e,10):null:e}function x(e,t){const n=v(e),r=v(t);return(0,o.isNumber)(n)&&(0,o.isNumber)(r)?n===r:!(0,o.isNumber)(n)&&!(0,o.isNumber)(r)}function y(e,t){return new f.Product((0,i.default)((0,i.default)({},C(e)),{},{catalogWid:(0,p.createWid)(t),productMsgMediaData:null,imageCount:1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1}))}},106901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(0===e.cartItemCollection.length)return Promise.resolve({products:[],price:{}});const n=e.cartItemCollection.map((e=>e.id));return(0,r.refreshCart)((0,o.createWid)(e.id),n,i.CartCollection.imageWidth,i.CartCollection.imageHeight,t)};var r=n(59155),i=n(290895),o=n(669050)},961827:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return f.apply(this,arguments)};var i=r(n(348926)),o=n(239795),a=r(n(879366)),l=n(713464),s=r(n(756680)),d=r(n(234921)),u=n(669050);function c(e){var t,n;const r=e.cartItemCollection.at(0);if(null==r)return"";const i=l.CatalogCollection.get((0,u.createWid)(e.id)),o=null==i?void 0:i.productCollection.get(r.id),a=null==o||null===(t=o.getProductImageCollectionHead())||void 0===t?void 0:t.mediaData;return null==a?"":a.preview instanceof s.default&&null!==(n=a.preview.getBase64())&&void 0!==n?n:""}function f(){return(f=(0,i.default)((function*(e,t){const n=yield(0,o.createOrder)(t.id,e.cartItemCollection.toArray());return yield(0,d.default)(t,n,e.itemCount,c(e),e.message),(0,a.default)(e),n.id}))).apply(this,arguments)}},898475:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.set("message",t),(0,i.default)(e)};var i=r(n(879366))},234921:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return f.apply(this,arguments)};var i=r(n(348926)),o=n(632157),a=n(402994),l=r(n(565754)),s=n(918602),d=n(693741),u=n(459857),c=r(n(556869));function f(){return(f=(0,i.default)((function*(e,t,n,r,i){const o=yield h(e,t,n,r,i);if((0,u.isMeAccount)(e.id))return(0,s.addAndSendMsgToChat)(e,o)[0].then((()=>{})).catch((e=>{throw __LOG__(3)`Order message send to chat failure: ${e}`,e}));try{const t=yield(0,s.addAndSendMsgToChat)(e,o)[1];if(!t||t!==d.SendMsgResult.OK)throw(0,c.default)("Order message SendMsgResult failure status")}catch(e){throw __LOG__(3)`Order message send to chat failure: ${e}`,e}}))).apply(this,arguments)}function h(){return p.apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e,t,n,r,i){const s=(0,u.getMaybeMeUser)(),d=t.price.total;return{type:"order",ack:a.ACK.CLOCK,from:s,id:new l.default({from:s,to:e.id,id:yield l.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:(0,o.unixTime)(),to:e.id,orderId:t.id,token:t.token,orderTitle:e.name||e.formattedTitle,sellerJid:e.id.toString({legacy:!0}),thumbnail:r,itemCount:n,message:i,totalAmount1000:d&&d.length>0?parseInt(d,10):void 0,totalCurrencyCode:t.price.currency&&t.price.currency.length>0?t.price.currency:void 0}}))).apply(this,arguments)}},463164:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return E.apply(this,arguments)};var i=r(n(348926)),o=n(898817),a=n(122583),l=n(287461),s=n(328620),d=n(984330),u=n(324222),c=n(271307),f=n(650348),h=n(114850),p=n(446474),g=n(115948),m=n(625786),C=n(390737),v=n(382117),x=n(130756),y=n(669050),b=n(548360),j=n(785893);function E(){return(E=(0,i.default)((function*(e){let{name:t,desc:n,icon:r,existingGroups:E,newGroups:_,onCommunityCreationFailure:S}=e;const w=(0,l.getABPropConfigValue)("parent_group_no_disclaimer"),k=(0,f.sendCreateCommunity)({name:t,desc:n,closed:w}),T=new v.UiActionWamEvent({uiActionType:x.UI_ACTION_TYPE.COMMUNITY_CREATE,uiActionPreloaded:!1}),M=(0,i.default)((function*(){try{return yield k,new s.ActionType(b.fbt._("Community created",null,{hk:"xIcPS"}))}catch(e){throw __LOG__(3,!0,void 0,!0)`Community creation failed`,SEND_LOGS("community-creation-failed"),new o.AbortError}}))(),I=new s.ActionType(b.fbt._("Creating community",null,{hk:"riXxC"}));C.ToastManager.open((0,j.jsx)(s.ActionToast,{initialAction:I,pendingAction:M}));try{const e=(yield k).wid,t=[];if(null!=r){const t=p.ProfilePicThumbCollection.gadd(e);(0,g.setProfilePic)(t,r,r)}if(_.length>0){const n=_.map((t=>{let{subject:n,icon:r,ephemeralDuration:i}=t;return(0,c.createGroup)(n,r,r,[],i,e)}));t.push(...n)}if(E.length>0){const n=(0,f.sendLinkSubgroups)({parentGroupId:e,subgroupIds:E.map((e=>e.id))}).then((t=>{if(t.failedGroups.length>0){const n=t.failedGroups.reduce(((e,t)=>e&&406===t.error),!0);h.ModalManager.open((0,j.jsx)(u.LinkingFailedModal,{parentGroupId:e,failedGroups:t.failedGroups.map((e=>(0,y.createWid)(e.jid))),isCommunityFull:n}))}}));t.push(n)}return Promise.all(t).finally((()=>{T.markUiActionT(),T.commit()})),e}catch(e){C.ToastManager.open((0,j.jsx)(m.Toast,{msg:b.fbt._("Community could not be created. Check your internet connection and try again.",null,{hk:"2mdI8K"})})),(0,a.filteredCatch)(d.ServerStatusCodeError,(()=>{}))(e),S()}}))).apply(this,arguments)}},258058:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var i=r(n(348926)),o=n(122583),a=n(328620),l=n(984330),s=n(260854),d=n(103440),u=n(900316),c=n(650348),f=n(114850),h=r(n(99398)),p=n(625786),g=n(390737),m=n(548360),C=n(785893);function v(){u.DrawerManager.closeDrawerLeft(),u.DrawerManager.openDrawerLeft((0,C.jsx)(s.CommunityFlowLoadable,{}))}function x(){return y.apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e){if(!h.default.online)return void g.ToastManager.open((0,C.jsx)(p.Toast,{msg:m.fbt._("Community was not deactivated. Check your connection and try again.",null,{hk:"3P15KK"})}));const t=e.id,n=(0,c.sendDeactivateCommunity)({parentGroupId:t}),r=(0,i.default)((function*(){try{return yield n,new a.ActionType(m.fbt._('"{community-name}" was deactivated',[m.fbt._param("community-name",e.formattedTitle)],{hk:"3q7YBe"}))}catch(e){(0,o.filteredCatch)(l.ServerStatusCodeError,(()=>{__LOG__(4,void 0,new Error,!0)`Community deactivation failed`,SEND_LOGS("community-deactivation-failed")}))(e)}}))(),s=new a.ActionType(m.fbt._("Deactivating community ...",null,{hk:"141Rtg"}));g.ToastManager.open((0,C.jsx)(a.ActionToast,{initialAction:s,pendingAction:r}));try{yield n,v()}catch(t){(0,o.filteredCatch)(l.ServerStatusCodeError,(t=>{401===t.status?f.ModalManager.open((0,C.jsx)(d.ConfirmPopup,{onOK:()=>f.ModalManager.close(),children:m.fbt._("Community could not be deactivated. You did not create this community, so you cannot deactivate it.",null,{hk:"2bDNa0"})})):404===t.status?(v(),g.ToastManager.open((0,C.jsx)(p.Toast,{msg:m.fbt._("This community no longer exists",null,{hk:"1WSss7"})}))):500===t.status&&f.ModalManager.open((0,C.jsx)(d.ConfirmPopup,{okText:m.fbt._("Try again",null,{hk:"3qJDe7"}),onOK:()=>{f.ModalManager.close(),x(e)},onCancel:()=>{f.ModalManager.close()},children:m.fbt._("Something went wrong. Please try again.",null,{hk:"jvJcK"})}))}))(t)}}))).apply(this,arguments)}},726e3:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return f.apply(this,arguments)};var i=r(n(348926)),o=n(122583),a=n(328620),l=n(984330),s=n(650348),d=n(390737),u=n(548360),c=n(785893);function f(){return(f=(0,i.default)((function*(e,t){const n=(0,s.sendLinkSubgroups)({parentGroupId:e,subgroupIds:t}),r=(0,i.default)((function*(){try{const e=yield n;if(e.failedGroups.length>0){return e.failedGroups.reduce(((e,t)=>e&&406===t.error),!0)?new a.ActionType(u.fbt._({"*":"These groups cannot be added because the community is full.",_1:"This group cannot be added because the community is full."},[u.fbt._plural(e.failedGroups.length)],{hk:"3lFhlB"})):new a.ActionType(u.fbt._({"*":"These groups were not linked.",_1:"This group was not linked."},[u.fbt._plural(e.failedGroups.length)],{hk:"vzIWG"}))}return new a.ActionType(u.fbt._({"*":"Groups linked",_1:"Group linked"},[u.fbt._plural(t.length)],{hk:"2NDR70"}))}catch(e){return __LOG__(3,!0,void 0,!0)`Subgroup linking failed`,SEND_LOGS("subgroup-linking-failed"),new a.ActionType(u.fbt._("Subgroup could not be linked. Please try again.",null,{hk:"2Eihhk"}))}}))(),f=new a.ActionType(u.fbt._({"*":"Linking groups",_1:"Linking group"},[u.fbt._plural(t.length)],{hk:"3sVN59"}));d.ToastManager.open((0,c.jsx)(a.ActionToast,{initialAction:f,pendingAction:r}));try{yield n}catch(e){(0,o.filteredCatch)(l.ServerStatusCodeError,(()=>{}))(e)}}))).apply(this,arguments)}},811066:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return p(e)};var i=r(n(348926)),o=n(122583),a=n(328620),l=n(984330),s=n(445729),d=r(n(932325)),u=r(n(858640)),c=n(800196),f=n(390737),h=n(785893);function p(){return g.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)(),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(0,u.default)(e),i=new a.ActionType(d.default.t(114)),g=s.Conn.pushname,m=r.then((()=>{const e=n?void 0:{actionText:d.default.t(126),actionHandler:()=>p(g,t,!0)};return new a.ActionType(d.default.t(112),e)})).catch((0,o.filteredCatch)(l.ServerStatusCodeError,(e=>{if(e.status>=400)return new a.ActionType(d.default.t(113))}))).catch((e=>{throw __LOG__(3)`models:conn:setPushname dropped`,new a.ActionType(d.default.t(113),{actionText:d.default.t(122),actionHandler:()=>p(e.status,t)})}));f.ToastManager.open((0,h.jsx)(a.ActionToast,{id:t,initialAction:i,pendingAction:m})),yield r,(0,c.setPushnameLocally)(e)}))).apply(this,arguments)}},294414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){i.ToastManager.open((0,a.jsx)(r.Toast,{msg:o.fbt._("Something went wrong",null,{hk:"2TMztB"}),duration:6e3}))};var r=n(625786),i=n(390737),o=n(548360),a=n(785893)},488106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGdprDelete=function(){return(0,o.useSendIq)((0,r.wap)("iq",{xmlns:"urn:xmpp:whatsapp:account",to:r.S_WHATSAPP_NET,type:"get",id:(0,r.generateId)()},(0,r.wap)("gdpr",{action:"delete"})),i.GdprStatusWapParser)};var r=n(504784),i=n(5900),o=n(87086)},545268:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useGdprDownload=function(){const[e,t]=(0,d.useState)(!1);return[e,e=>{t(!0),(0,l.gdprDownloadMedia)(e).then((e=>o.FileSaver.downloadData((0,i.default)(e.mediaBlob,"mediaObject.mediaBlob").formData(),String(s.fbt._("My Account Info",null,{hk:"IqRu3"})),a.AllowedFileExtensions.ZIP))).finally((()=>t(!1)))}]};var i=r(n(670983)),o=n(821130),a=n(653887),l=n(488702),s=n(548360),d=n(667294)},372729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGdprRequest=function(){return(0,o.useSendIq)((0,r.wap)("iq",{xmlns:"urn:xmpp:whatsapp:account",to:r.S_WHATSAPP_NET,type:"get",id:(0,r.generateId)()},(0,r.wap)("gdpr",{action:"request"})),i.GdprStatusWapParser)};var r=n(504784),i=n(5900),o=n(87086)},5900:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.GdprStatusWapParser=void 0,t.useGdprStatus=function(){const[e,t]=function(e){(0,c.default)((()=>{h=(0,o.generateId)()}));const[t,n]=(0,u.useState)(h),r=(0,u.useMemo)((()=>e(t)),[e,t]);return[(0,l.sendSuspensefulIq)(r,f),()=>n((0,o.generateId)())]}((e=>(0,o.wap)("iq",{xmlns:"urn:xmpp:whatsapp:account",to:o.S_WHATSAPP_NET,type:"get",id:e},(0,o.wap)("gdpr",{action:"status"}))));return[e.result,t]};var i=r(n(670983)),o=n(504784),a=n(358452),l=n(795303),s=n(533494),d=n(309512),u=n(667294),c=r(n(558532));const f=new a.WapParser("parseStatus",(e=>{if(!e.hasChild("gdpr"))return null;const t=e.child("gdpr");if(t.hasChild("document")){const e=t.child("document");return{creation:e.attrTime("creation"),documentMessage:(0,i.default)((0,d.decodeProtobuf)(s.MessageSpec,e.contentBytes()).documentMessage,"decodeProtobuf(MessageSpec, document.contentBytes()).documentMessage"),expiration:e.attrTime("expiration"),type:"GdprAvailableStatusResponse"}}return{timestamp:t.attrTime("timestamp"),type:"GdprPendingStatusResponse"}}));t.GdprStatusWapParser=f;let h=(0,o.generateId)()},48360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplEndProductMessageSend=function(e){const t=i.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;e.then((()=>{o.QPL.markerEnd(t,r.QuickLogActionType.SUCCESS)})).catch((()=>{o.QPL.markerEnd(t,r.QuickLogActionType.FAIL)}))},t.qplStartProductSendMessage=function(e,t,n){const r=i.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;o.QPL.markerStart(r,{annotations:{string:{EntryPoint:e}}}),void 0!==t&&o.QPL.markerAnnotate(r,{int:{ProductCount:t}}),void 0!==n&&o.QPL.markerAnnotate(r,{int:{ContactCount:n}})};var r=n(15842),i=n(316348),o=n(555622)},762066:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,b.useState)(f.LoadType.PENDING),[n,r]=(0,b.useState)(),a=(0,b.useRef)(Math.floor(2147483648*Math.random()).toString()),v=function(){var e=(0,i.default)((function*(){t(f.LoadType.PENDING);try{const e=yield S();r(e),t(f.LoadType.DONE),(0,c.logProfileOpen)(e,a.current)}catch(e){t(f.LoadType.ERROR)}}));return function(){return e.apply(this,arguments)}}();if((0,b.useEffect)((()=>{v()}),[]),e===f.LoadType.PENDING)return(0,E.jsx)("div",{className:(0,j.default)(_.loadingSpinner),children:(0,E.jsx)(C.Spinner,{color:"default",size:24,stroke:6})});if(e===f.LoadType.ERROR)return(0,E.jsx)(d.default,{title:y.fbt._("Business Information",null,{hk:"36RGyI"}),theme:"refresh",children:(0,E.jsxs)(p.FlexRow,{align:"center",justify:"center",children:[(0,E.jsx)(g.default,{children:m.default.t(159)}),(0,E.jsx)(g.default,{xstyle:_.retryButton,children:(0,E.jsx)(s.default,{onClick:()=>{v()},type:"simplified",children:y.fbt._("Retry",null,{hk:"2jS9Tg"})})})]})});if(e===f.LoadType.DONE&&n)return(0,E.jsx)(u.default,{sessionId:a.current,businessProfile:n,saveBusinessProfile:function(){var e=(0,i.default)((function*(e){try{yield(0,l.editBusinessProfile)(e)}catch(e){throw(0,h.showError)(m.default.t(160)),(0,x.qplEndProfileSave)(o.QuickLogActionType.FAIL),__LOG__(3,void 0,void 0,!0)`business_profile:edit_form save failed`,SEND_LOGS(`businessProfile edit handled server error - ${e.status}`),e}try{const e=yield w();return r(e),(0,x.qplEndProfileSave)(o.QuickLogActionType.SUCCESS),e}catch(e){throw(0,h.showError)(m.default.t(159)),(0,x.qplEndProfileSave)(o.QuickLogActionType.FAIL),e}}));return function(){return e.apply(this,arguments)}}()});return null};var i=r(n(348926)),o=n(15842),a=n(778945),l=n(972855),s=r(n(692629)),d=r(n(969358)),u=r(n(225455)),c=n(189024),f=n(983758),h=n(830371),p=n(690495),g=r(n(469733)),m=r(n(932325)),C=n(956113),v=n(459857),x=n(887222),y=n(548360),b=n(667294),j=r(n(156720)),E=n(785893);const _={retryButton:{height:"epwkujcx",marginStart:"nzcjdldu"},loadingSpinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"}},S=function(){var e=(0,i.default)((function*(){const e=(0,v.getMeUser)(),t=a.BusinessProfileCollection.get(e);t&&t.markStale();return(yield a.BusinessProfileCollection.find(e)).serialize()}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.default)((function*(){const e=(0,v.getMeUser)(),t=yield a.BusinessProfileCollection.update(e);return(Array.isArray(t)?t[0]:t).serialize()}));return function(){return e.apply(this,arguments)}}()},392832:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessAddressField=function(e){let{businessProfile:t,activeField:n,rawBusinessProfile:r,sessionId:a,value:d,validate:c,error:f,lowProfile:h=!0,onActive:g,onChange:m,onSaveBusinessProfile:C,onError:v,onCancel:x}=e;const y=(0,u.jsx)(o.BusinessProfileFormField,{activeField:n,fieldKey:"address",fieldMetric:l.BUSINESS_PROFILE_FIELD.ADDRESS,formatForSave:()=>({address:d}),lowProfile:h,originalValue:t.address,placeholder:s.fbt._("Business Address",null,{hk:"HF4CB"}),rawBusinessProfile:r,sessionId:a,maxLength:i.BUSINESS_PROFILE_FIELDS_LENGTH.ADDRESS,value:d,validate:c,error:f,onActive:g,onChange:m,onSaveBusinessProfile:C,onError:v,onCancel:x}),{latitude:b,longitude:j}=t,E=null!=b&&null!=j?(0,u.jsx)(p,{activeField:n,value:d,latitude:b,longitude:j}):null;return(0,u.jsxs)(u.Fragment,{children:[y,E]})};var i=n(817649),o=n(724476),a=r(n(459510)),l=n(130756),s=n(548360),d=r(n(156720)),u=n(785893);const c={position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"ppypbuwx",paddingEnd:"fhfm09ip",paddingBottom:"s8gyl5p1",paddingStart:"mjn2akup",marginTop:"c6axuxzh",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},f={position:"lhggkp7q",top:"qq0sjtgm",right:"grt5ktjy",bottom:"jxacihee",left:"tukmaf4q",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno"},h={paddingTop:"fbgy3m38",paddingEnd:"bcymb0na",paddingBottom:"oq31bsqd",paddingStart:"e8k79tju",fontSize:"f8jlpxt4",color:"o4oavg8t",textTransform:"ofejerhi",backgroundColor:"o8fg3bdd",borderTop:"dl47i6rc",borderEnd:"pdo9fnbd",borderBottom:"n8n2xqzm",borderStart:"hqx4twni",borderTopStartRadius:"g1jn521u",borderTopEndRadius:"mrnekr2l",borderBottomEndRadius:"wu0i2wpa",borderBottomStartRadius:"bbs9k8l5"};function p(e){let{activeField:t,latitude:n,longitude:r,value:i}=e;const o="address"===(null==t?void 0:t.fieldKey)?(0,u.jsx)("div",{className:(0,d.default)(f),children:(0,u.jsx)("div",{className:(0,d.default)(h),children:s.fbt._("Edit map on mobile",null,{hk:"3AK8Fa"})})}):null;return(0,u.jsxs)("div",{style:{height:96},className:(0,d.default)(c),children:[o,(0,u.jsx)(a.default,{lat:n,lng:r,name:i,width:312,height:96})]})}},724476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessProfileFormField=function(e){let{activeField:t,error:n,fieldKey:s,fieldMetric:d,formatForSave:u,lowProfile:c,originalValue:f,placeholder:h,rawBusinessProfile:p,sessionId:g,startActive:m,maxLength:C,supportsEmoji:v,validate:x,value:y,onActive:b,onChange:j,onError:E,onSaveBusinessProfile:_,onCancel:S}=e;const w=(null==t?void 0:t.fieldKey)===s,k=y?void 0:h;return(0,l.jsx)(o.RichTextField,{value:y,editable:!t||w,pending:w&&(null==t?void 0:t.editType)===i.EditType.PENDING,showRemaining:!0,onBeginEdit:()=>{null!=g&&(0,r.logProfileFieldOpen)(d,p,g),b({fieldKey:s,editType:i.EditType.EDITING})},onChange:e=>{let{text:t}=e;return j(t)},onSave:()=>{(0,a.qplStartProfileSave)(s),null!=g&&(0,r.logProfileFieldSave)(d,p,g),b({fieldKey:s,editType:i.EditType.PENDING}),_(u()).then((()=>{b()}),(()=>{b()}))},onCancel:()=>{null!=g&&(0,r.logProfileFieldDiscard)(d,p,g),j(f),b(),null==S||S()},lockable:!0,lowProfile:c,multiline:!0,inputPlaceholder:k,theme:"text-input",validate:x,onError:E,error:n,testid:`biz-profile-${s}-input`,fieldName:h,startActive:m,maxLength:C,supportsEmoji:v})};var r=n(189024),i=n(983758),o=n(202391),a=n(887222),l=n(785893)},225455:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{businessProfile:t,saveBusinessProfile:n,sessionId:r}=e;const[i,o]=(0,B.useState)(),[b,j]=(0,B.useState)(),[T,I]=(0,B.useState)(),[H,q]=(0,B.useState)(),[K,X]=(0,B.useState)(),[Q,J]=(0,B.useState)(),[$,ee]=(0,B.useState)(),[te,ne]=(0,B.useState)(),[re,ie]=(0,B.useState)(),[oe,ae]=(0,B.useState)(!1),le=(0,D.getMeUser)(),se=(0,s.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(le),[de,ue]=(0,B.useState)();(0,B.useEffect)((()=>{const e=(0,k.convertRawBusinessProfile)(t);o(e.description),I(e.email),j(e.address),q(e.primaryWebsite),X(e.secondaryWebsite),J(Boolean(e.primaryWebsite&&!e.secondaryWebsite))}),[t]),(0,B.useEffect)((()=>{(0,R.validateEmail)(T)&&ee(null)}),[T]),(0,B.useEffect)((()=>{(0,R.validateURL)(H)&&ne(null)}),[H]),(0,B.useEffect)((()=>{(0,R.validateURL)(K)&&ie(null)}),[K]);const ce=()=>{const e=[];return H&&e.push(H),K&&e.push(K),{website:e.map(((e,t)=>{if(!P.default.isHttps(e)&&!P.default.isHttp(e)){const n=`https://${e}`;return 0===t?q(n):X(n),n}return e}))}},fe=(0,B.useCallback)((()=>se?(0,a.default)():void 0),[se]),he=(0,k.convertRawBusinessProfile)(t);let pe,ge,me=N.fbt._("Business Information",null,{hk:"36RGyI"});(0,s.canSeeBizProfileV3)()&&(me=null,pe=A.default.noPaddingTop);(0,s.isCustomURLViaBizProfileEnabled)()&&null!=t.customUrlPath?ge=(0,U.jsx)(Z,{url:`${C.BUSINESS_URL_DOMAIN}${t.customUrlPath}`,activeField:de}):null!=t.customUrlPaths&&t.customUrlPaths.length>0&&!(0,s.isCustomURLViaBizProfileEnabled)()&&(ge=(0,U.jsx)(Z,{url:`${C.BUSINESS_URL_DOMAIN}${t.customUrlPaths[0]}`,activeField:de}));return(0,U.jsxs)(E.default,{title:me,theme:"refresh",className:pe,children:[(0,U.jsx)(Y,{activeField:de}),ge,(0,U.jsx)(W,{config:{Icon:f.BusinessDescriptionIcon,content:(0,U.jsx)(S.BusinessProfileFormField,{activeField:de,fieldKey:"description",fieldMetric:O.BUSINESS_PROFILE_FIELD.DESCRIPTION,formatForSave:()=>({description:i}),lowProfile:!0,originalValue:he.description,placeholder:N.fbt._("Business Description",null,{hk:"2Q2DP8"}),rawBusinessProfile:t,sessionId:r,maxLength:v.BUSINESS_PROFILE_FIELDS_LENGTH.DESCRIPTION,supportsEmoji:!0,value:i,onActive:ue,onChange:o,onSaveBusinessProfile:n})},activeField:de}),(0,U.jsx)(W,{config:{Icon:c.BusinessCategoryIcon,type:"container",emptyText:N.fbt._("Categories",null,{hk:"2YgYDL"}),content:0===he.categories.length?null:(0,U.jsx)(V,{categories:he.categories}),fieldName:N.fbt._("Categories",null,{hk:"2YgYDL"}),onEdit:()=>{(0,L.qplStartProfileCatsView)("Profile"),(0,w.logProfileFieldOpen)(O.BUSINESS_PROFILE_FIELD.CATEGORY,t,r),M.ModalManager.open((0,U.jsx)(y.default,{initialCategories:he.categories,saveBusinessProfile:n,searchCategories:e=>u.BusinessCategoriesResultCollection.find(e),afterSave:()=>(0,w.logProfileFieldSave)(O.BUSINESS_PROFILE_FIELD.CATEGORY,t,r),onCancel:()=>{(0,w.logProfileFieldDiscard)(O.BUSINESS_PROFILE_FIELD.CATEGORY,t,r)}}))}},activeField:de}),(0,U.jsx)(W,{config:{Icon:d.BusinessAddressIcon,content:(0,U.jsx)(_.BusinessAddressField,{businessProfile:he,activeField:de,rawBusinessProfile:t,sessionId:r,value:b,onActive:ue,onChange:j,onSaveBusinessProfile:n,validate:e=>(0,l.existsField)(e,le),onError:fe})},activeField:de}),(0,U.jsx)(W,{config:{Icon:g.BusinessHoursIcon,type:"container",emptyText:N.fbt._("Business Hours",null,{hk:"1bV20v"}),content:null==he.hours.mode?null:(0,U.jsx)(z,{hours:he.hours}),fieldName:N.fbt._("Business Hours",null,{hk:"1bV20v"}),onEdit:()=>{(0,w.logProfileFieldOpen)(O.BUSINESS_PROFILE_FIELD.HOURS,t,r),M.ModalManager.open((0,U.jsx)(p.default,{businessHours:he.hours,saveBusinessProfile:n,onCancel:()=>{(0,w.logProfileFieldDiscard)(O.BUSINESS_PROFILE_FIELD.HOURS,t,r)},afterSave:()=>(0,w.logProfileFieldSave)(O.BUSINESS_PROFILE_FIELD.HOURS,t,r)}))}},activeField:de}),(0,U.jsx)(W,{config:{Icon:h.BusinessEmailIcon,content:(0,U.jsx)(S.BusinessProfileFormField,{activeField:de,error:$,fieldKey:"email",fieldMetric:O.BUSINESS_PROFILE_FIELD.EMAIL,formatForSave:()=>({email:T}),lowProfile:!1,originalValue:he.email,placeholder:N.fbt._("Email Address",null,{hk:"5tSKT"}),rawBusinessProfile:t,sessionId:r,maxLength:v.BUSINESS_PROFILE_FIELDS_LENGTH.EMAIL,validate:e=>(0,R.validateEmail)(e),value:T,onActive:ue,onChange:I,onError:()=>{ee(N.fbt._("Incorrect email address format",null,{hk:"1KuwvT"}))},onSaveBusinessProfile:n})},activeField:de}),(0,U.jsx)(W,{config:{Icon:x.BusinessWebsiteIcon,theme:m.IconSectionTheme.SmallMargin,content:(0,U.jsx)("div",{children:(0,U.jsx)(S.BusinessProfileFormField,{activeField:de,error:te,fieldKey:"primaryWebsite",fieldMetric:O.BUSINESS_PROFILE_FIELD.WEBSITE,formatForSave:ce,lowProfile:!1,originalValue:he.primaryWebsite,placeholder:N.fbt._("Website",null,{hk:"2HRvqj"}),rawBusinessProfile:t,sessionId:r,maxLength:v.BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE,validate:R.validateURL,value:H,onActive:ue,onChange:q,onError:()=>{ne(N.fbt._("URL is incorrect",null,{hk:"xiOtm"}))},onSaveBusinessProfile:n})})},activeField:de}),he.primaryWebsite&&(K||!Q?(0,U.jsx)(W,{config:{Icon:x.BusinessWebsiteIcon,theme:m.IconSectionTheme.NoMargin,content:(0,U.jsx)("div",{children:(0,U.jsx)(S.BusinessProfileFormField,{activeField:de,error:re,fieldKey:"secondaryWebsite",fieldMetric:O.BUSINESS_PROFILE_FIELD.WEBSITE,formatForSave:ce,lowProfile:!1,originalValue:he.secondaryWebsite,placeholder:N.fbt._("Website",null,{hk:"2HRvqj"}),rawBusinessProfile:t,sessionId:r,startActive:oe,maxLength:v.BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE,validate:R.validateURL,value:K,onActive:ue,onChange:X,onError:()=>{ie(N.fbt._("URL is incorrect",null,{hk:"xiOtm"}))},onSaveBusinessProfile:n})})},activeField:de}):(0,U.jsx)(W,{config:{Icon:x.BusinessWebsiteIcon,theme:m.IconSectionTheme.NoMargin,content:(0,U.jsx)("div",{children:(0,U.jsx)("button",{className:(0,F.default)(G.addAnotherWebsite),onClick:()=>{J(!1),ae(!0)},children:N.fbt._("Add another website",null,{hk:"1HOyZt"})})})},activeField:de}))]})};var i=r(n(81109)),o=n(20140),a=r(n(154501)),l=n(637842),s=n(72696),d=n(115888),u=n(99365),c=n(624573),f=n(718620),h=n(423082),p=r(n(758207)),g=n(675305),m=n(107755),C=n(335898),v=n(817649),x=n(36409),y=r(n(946495)),b=n(103440),j=n(445729),E=r(n(969358)),_=n(392832),S=n(724476),w=n(189024),k=n(812774),T=r(n(932325)),M=n(114850),I=n(676345),P=r(n(79291)),D=n(459857),L=n(887222),R=n(912837),O=n(130756),A=r(n(329764)),N=n(548360),B=n(667294),F=r(n(156720)),H=n(655241),U=n(785893);const G={addAnotherWebsite:{color:"ky3f94nk",fontSize:"f8jlpxt4",textTransform:"ofejerhi"},businessHoursDayColumn:{flexGrow:"gj6qtt9u",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",textTransform:"aprpv14t"},businessHoursSection:{display:"p357zi0d"},businessHoursTimeColumn:{flexGrow:"a6lcuizr",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg"},infoText:{color:"t35qvd06",fontSize:"dsh4tgtl",lineHeight:"jgi8eev7",marginTop:"dkeqio29"},bizUrl:{wordBreak:"m1c2hokz"}};function z(e){let{hours:{mode:t,days:n}}=e;return null==t?null:(0,U.jsx)("div",{children:n.map(((e,n)=>{let{dayName:r,dayKey:i,closed:o,hours:a}=e;return(0,U.jsxs)("div",{className:(0,F.default)(G.businessHoursSection,0!==n&&I.uiMargin.top28),"data-testid":"business-hours-section-row",children:[(0,U.jsx)("div",{className:(0,F.default)(G.businessHoursDayColumn),children:r}),(0,U.jsx)("div",{className:(0,F.default)(G.businessHoursTimeColumn),children:(0,U.jsx)(q,{mode:t,closed:o,hours:a})})]},i)}))})}function q(e){let{mode:t,closed:n,hours:r}=e;if(n)return N.fbt._("Closed",null,{hk:"3IRgct"});switch(t){case v.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return(0,U.jsx)(U.Fragment,{children:r&&r.map(((e,t)=>{let[n,r]=e;return(0,U.jsxs)("div",{className:(0,F.default)(0!==t&&I.uiMargin.top16),"data-testid":"business-hours-time",children:[n," - ",r]},t)}))});case v.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return N.fbt._("By appointment only",null,{hk:"e1vew"});case v.BUSINESS_HOUR_MODES.OPEN_24H:return N.fbt._("Open 24 hours",null,{hk:"1AlfF5"});default:return null}}function V(e){let{categories:t}=e;return 0===t.length?null:(0,U.jsx)("div",{"data-testid":"biz-profile-category-input",children:t.map((e=>e.localized_display_name)).join(T.default.t(253))})}function W(e){let{config:t,activeField:n}=e;return(0,U.jsx)(m.IconSection,(0,i.default)((0,i.default)({},t),{},{hideEditIcon:Boolean(n)}))}function Y(e){let{activeField:t}=e;const{pushname:n}=(0,H.useModelValues)(j.Conn,["pushname"]);if(null==n)return null;const r=(0,s.canSeeBizProfileV3)()?m.IconSectionTheme.NoMargin:void 0;return(0,U.jsx)(W,{config:{theme:r,Icon:o.AccountBoxIcon,iconClass:A.default.verifiedNameIcon,content:(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{children:n}),(0,U.jsx)("div",{className:(0,F.default)(G.infoText),children:N.fbt._("This name will be visible to your WhatsApp customers and can be edited from the app on your mobile device.",null,{hk:"1y9lc"})})]})},activeField:t})}function Z(e){let{url:t,activeField:n}=e;return null==t?null:(0,U.jsx)(W,{config:{Icon:x.BusinessWebsiteIcon,iconClass:A.default.verifiedNameIcon,onEdit:()=>{M.ModalManager.open((0,U.jsx)(b.ConfirmPopup,{okText:N.fbt._("OK",null,{hk:"4oTrfy"}),onOK:()=>M.ModalManager.close(),children:N.fbt._("This url will be visible to your WhatsApp customers and can be edited from the app on your mobile device.",null,{hk:"rhTNH"})}))},content:(0,U.jsx)("div",{className:G.bizUrl,children:t}),fieldName:N.fbt._("Custom URL",null,{hk:"FmWY1"})},activeField:n})}},812774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertRawBusinessProfile=void 0;var r=n(341463);t.convertRawBusinessProfile=e=>{const{description:t,email:n,address:i,website:o,categories:a,businessHours:l,latitude:s,longitude:d}=e,[u,c]=o||[];return{description:t,email:n,address:i,primaryWebsite:u,secondaryWebsite:c,hours:(0,r.getBusinessHoursForEdit)(l),categories:a||[],latitude:s,longitude:d}}},983758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadType=t.EditType=void 0;const r=n(76672).Mirrored(["EDITING","PENDING","DONE","ERROR"]);t.EditType=r;const i=n(76672).Mirrored(["PENDING","DONE","ERROR"]);t.LoadType=i},830371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showError=void 0;var r=n(625786),i=n(390737),o=n(785893);t.showError=e=>{i.ToastManager.open((0,o.jsx)(r.Toast,{msg:e,duration:6e3}))}},758207:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{businessHours:{note:t,timezone:n,days:r}}=e,[o,a]=(0,h.useState)(e.businessHours.mode||C),[s,u]=(0,h.useState)((()=>{const e={};for(const{dayKey:t,closed:n,hours:i,dayName:o}of r)e[t]={closed:n,hours:i||[(0,l.getDefaultHoursPair)()],dayKey:t,dayName:o};return e})),p=r.map((e=>e.dayKey));return(0,g.jsx)(d.default,{title:f.fbt._("Edit Business Hours",null,{hk:"2zl0Ai"}),isValid:(0,l.isValidBusinessHours)(o,s),doSave:(0,i.default)((function*(){(0,c.qplStartProfileSave)("bizHours"),yield e.saveBusinessProfile((0,l.convertToRawBusinessProfile)({mode:o,dayValues:s,note:t,timezone:n}))})),afterSave:e.afterSave,onCancel:e.onCancel,children:(0,g.jsx)(x,{selectedMode:o,onModeChange:a,days:s,onDayValuesChange:u,daysOrder:p})})};var i=r(n(348926)),o=r(n(81109)),a=n(819939),l=n(491078),s=n(817649),d=r(n(103701)),u=r(n(434377)),c=n(887222),f=n(548360),h=n(667294),p=r(n(156720)),g=n(785893);const m={width:"hblzrxh7",height:"e5sv7owa",paddingTop:"n1yiu2zv",paddingEnd:"abxuf49s",paddingBottom:"eb4rp10x",paddingStart:"mhcwslh8",overflowY:"ag5g9lrv",borderBottom:"qmxv8cnq"},C=(n(76672).Mirrored(["START","END"]),s.BUSINESS_HOUR_MODES.SPECIFIC_HOURS);function v(e){let{selectedMode:t,onSelect:n}=e;return(0,g.jsx)(u.default,{onSelect:n,selectedId:t,tabConfigs:[{title:f.fbt._("Selected Hours",null,{hk:"1EI8CI"}),id:s.BUSINESS_HOUR_MODES.SPECIFIC_HOURS},{title:f.fbt._("Always Open",null,{hk:"W2gxH"}),id:s.BUSINESS_HOUR_MODES.OPEN_24H},{title:f.fbt._("By Appointment",null,{hk:"nN1q9"}),id:s.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY}]})}function x(e){let{selectedMode:t,onModeChange:n,days:r,onDayValuesChange:i,daysOrder:l}=e;return(0,g.jsxs)("div",{children:[(0,g.jsx)(v,{selectedMode:t,onSelect:n}),(0,g.jsx)("div",{className:(0,p.default)(m),children:l.map((e=>{const n=r[e];return(0,g.jsx)(a.DayEdit,{day:n,mode:t,updateDayValue:t=>((e,t)=>{const n=r[e],a=(0,o.default)((0,o.default)({},r),{},{[e]:(0,o.default)((0,o.default)({},n),t)});i(a)})(e,t)},e)}))})]})}},819939:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DayEdit=function(e){let{day:t,mode:n,updateDayValue:r}=e;const{dayName:i,dayKey:o,closed:a}=t,l=S(t);return(0,m.jsxs)("div",{className:(0,g.default)(j),children:[(0,m.jsx)(w,{day:t,onChange:()=>{r({closed:!a})}}),(0,m.jsxs)("div",{className:(0,g.default)(E),children:[(0,m.jsx)("label",{htmlFor:l,children:i}),(0,m.jsx)(P,{day:t,mode:n,onHoursChange:e=>{r({hours:e})}})]})]},`day-${o}`)};var i=n(491078),o=n(817649),a=n(468926),l=r(n(407284)),s=r(n(932325)),d=n(202391),u=n(360398),c=n(25192),f=r(n(397778)),h=n(992934),p=n(548360),g=r(n(156720)),m=n(785893);const C={paddingTop:"hc2u0oym",paddingEnd:"h1a80dm5",paddingBottom:"myel2vfb",paddingStart:"sta02ykp"},v={display:"l7jjieqr",marginStart:"bv1sdm6y",":first-child":{marginStart:"nadoev3v"}},x={marginStart:"bv1sdm6y",color:"g4ti3y4y"},y={display:"p357zi0d",alignItems:"gndfcl4n"},b={color:"pm5hny62"},j={display:"p357zi0d"},E={flexGrow:"ggj6brxn",paddingTop:"lqdozo90",paddingEnd:"f9ovudaz",paddingBottom:"bavixdlz",paddingStart:"gx1rr48f"},_=n(76672).Mirrored(["START","END"]),S=e=>{let{dayKey:t}=e;return`${t}_business_hours`};function w(e){let{day:t,onChange:n}=e;const{closed:r}=t,i=S(t);return(0,m.jsx)("div",{className:(0,g.default)(C),children:(0,m.jsx)(a.CheckBox,{id:i,checked:!r,onChange:n})})}function k(e){let{onClick:t}=e;return(0,m.jsx)("div",{className:(0,g.default)(v),children:(0,m.jsx)(f.default,{title:s.default.t(531),"aria-label":s.default.t(531),Icon:h.XAltIcon,onClick:t})})}function T(e){let{onClick:t}=e;return(0,m.jsx)("div",{className:(0,g.default)(v),children:(0,m.jsx)(l.default,{"aria-label":p.fbt._("Add additional hours",null,{hk:"1RUQxq"}),label:p.fbt._("Add set of hours",null,{hk:"XYa8r"}),onClick:t,PrefixIcon:c.StatusClockIcon,iconTheme:"padded-svg"})})}function M(e){let{value:t,onChange:n,onBlur:r}=e;const o=(0,i.isValidTime)(t)?null:" ";return(0,m.jsx)("div",{className:(0,g.default)(v),children:(0,m.jsx)(d.RichTextField,{managed:!0,value:t,theme:"small",maxLength:15,customStyleThemes:["desaturated","noErrorInfo"],error:o,onChange:e=>{let{text:t}=e;n(t)},onBlur:r})})}function I(e){let{hours:t,onHoursChange:n}=e;const r=(e,n,r)=>{const i=[...t],o=r===_.START?0:1,a=[...i[n]];return a[o]=e,i[n]=a,i},o=(e,n)=>{const i=n===_.START?0:1,o=t[e][i],a=(0,u.timeStringToMinutes)(o);if(void 0!==a)return r((0,u.minutesToTime)(a),e,n)},a=[],l=t.length>=2?(0,m.jsx)(k,{onClick:()=>{n(t.slice(0,-1))}}):(0,m.jsx)(T,{onClick:()=>{n([...t,(0,i.getDefaultHoursPair)()])}});return t.forEach(((e,t)=>{let[i,l]=e;t>0&&a.push((0,m.jsx)("div",{className:(0,g.default)(x),children:p.fbt._("and",null,{hk:"280Z25"})},`AND-${t}`)),a.push((0,m.jsx)(M,{value:i,onChange:e=>{n(r(e,t,_.START))},onBlur:()=>{const e=o(t,_.START);e&&n(e)}},`${_.START}-${t}`),(0,m.jsx)(M,{value:l,onChange:e=>{n(r(e,t,_.END))},onBlur:()=>{const e=o(t,_.END);e&&n(e)}},`${_.END}-${t}`))})),(0,m.jsxs)("div",{className:(0,g.default)(y),children:[a,l]})}function P(e){let{day:t,mode:n,onHoursChange:r}=e;const{closed:i,hours:a}=t;let l;return i?l=p.fbt._("Closed",null,{hk:"3IRgct"}):n===o.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY?l=p.fbt._("By appointment only",null,{hk:"e1vew"}):n===o.BUSINESS_HOUR_MODES.OPEN_24H&&(l=p.fbt._("Open 24 hours",null,{hk:"1AlfF5"})),l?(0,m.jsx)("div",{className:(0,g.default)(b),children:l}):o.BUSINESS_HOUR_MODES.SPECIFIC_HOURS&&!i?(0,m.jsx)(I,{hours:a,onHoursChange:r}):null}},491078:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidTime=t.isValidBusinessHours=t.getDefaultHoursPair=t.convertToRawBusinessProfile=void 0;var r=n(817649),i=n(360398);const o=e=>void 0!==(0,i.timeStringToMinutes)(e);t.isValidTime=o;t.isValidBusinessHours=(e,t)=>{if(e===r.BUSINESS_HOUR_MODES.SPECIFIC_HOURS)for(const e in t){const n=t[e],{closed:r,hours:i}=n;if(!r)for(const[e,t]of i)if(!o(e)||!o(t))return!1}return!0};t.convertToRawBusinessProfile=e=>{let{mode:t,dayValues:n,note:o,timezone:a}=e;const l={};for(const e in n){const o=n[e],{closed:a,hours:s}=o;if(!a){const n={mode:t};t===r.BUSINESS_HOUR_MODES.SPECIFIC_HOURS&&(n.hours=s.map((e=>{let[t,n]=e;return[(0,i.timeStringToMinutes)(t)||0,(0,i.timeStringToMinutes)(n)||0]}))),l[e]=n}}return{businessHours:{config:l,note:o,timezone:a||Intl.DateTimeFormat().resolvedOptions().timeZone}}};t.getDefaultHoursPair=()=>[(0,i.minutesToTime)(540),(0,i.minutesToTime)(1080)]},946495:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,E.useState)(e.initialCategories),[r,i]=(0,E.useState)(!1),[u,f]=(0,E.useState)(!1),[h,p]=(0,E.useState)([]),[g,C]=(0,E.useState)(""),_=()=>{x.ToastManager.open((0,S.jsx)(v.Toast,{msg:j.fbt._('You cannot select categories when you have selected "Not a Business"',null,{hk:"12A4L0"})}))},w=e=>{for(let n=0;n<t.length;n++)if(t[n].id===e)return!0;return!1},k=e=>{const r=t.find((e=>e.id===g));let i=t;t.length>0&&(e.not_a_biz&&!r?(i=[],_()):!e.not_a_biz&&r&&(i=t.filter((e=>e.id!==r.id)),_())),w(e.id)?n(i.filter((t=>t.id!==e.id))):n([...i,e])},M=t=>{f(!0),e.searchCategories(t||l.BUSINESS_CATEGORY_EMPTY_STR_ID).then((e=>{let n=e.categories;""!==t&&(n=n.filter((e=>!e.not_a_biz))),f(!1),p(n),C(e.notABizId),(0,y.qplAnnotateProfileCatsView)(n.length),(0,y.qplEndProfileCatsView)(a.QuickLogActionType.SUCCESS)})).catch((()=>{x.ToastManager.open((0,S.jsx)(v.Toast,{msg:j.fbt._("Something went wrong.",null,{hk:"2Cx5Nt"})})),f(!1),p([]),C(""),(0,y.qplEndProfileCatsView)(a.QuickLogActionType.FAIL)}))};return(0,E.useEffect)((()=>{M("")}),[]),(0,S.jsxs)(m.default,{title:j.fbt._("Choose up to three categories",null,{hk:"17Tmht"}),isValid:t.length>0,doSave:(0,o.default)((function*(){(0,y.qplStartProfileSave)("categories"),yield e.saveBusinessProfile({categories:t})})),afterSave:()=>{i(!0),e.afterSave()},onCancel:()=>{i(!0),e.onCancel()},children:[(0,S.jsx)("div",{className:b.default.searchBackground,children:(0,S.jsx)(d.ListSearch,{onSearch:e=>{u||r||((0,y.qplStartProfileCatsView)("Search"),M(e))},placeholder:j.fbt._("Search categories",null,{hk:"4zfNoj"})})}),(0,S.jsxs)("div",{className:b.default.editMain,children:[(0,S.jsx)("div",{className:b.default.list,children:(0,S.jsx)(T,{isLoading:u,results:h,isSelected:w,isDisabled:e=>!e.not_a_biz&&!w(e.id)&&t.length>=s.MAX_BUSINESS_CATEGORIES,toggleResultById:e=>{const t=h.filter((t=>t.id===e))[0];t&&k(t)}})}),t&&(0,S.jsx)(c.default,{categories:t,onRemoveItem:e=>{const n=t.filter((t=>t.id===e))[0];n&&k(n)}})]})]})};var i=r(n(81109)),o=r(n(348926)),a=n(15842),l=n(431307),s=n(335898),d=n(409623),u=n(468926),c=r(n(54286)),f=n(752253),h=n(512938),p=r(n(964223)),g=r(n(570834)),m=r(n(103701)),C=n(956113),v=n(625786),x=n(390737),y=n(887222),b=r(n(51699)),j=n(548360),E=n(667294),_=r(n(637660)),S=n(785893);function w(e){let{category:t,toggleResultById:n}=e;return(0,S.jsxs)("div",{className:b.default.rowMain,children:[(0,S.jsx)("div",{className:b.default.rowCheckbox,children:(0,S.jsx)(u.CheckBox,{id:`${t.id}`,onChange:()=>{!t.disabled&&n(t.id)},checked:t.selected,disabled:t.disabled})}),(0,S.jsx)("label",{"data-testid":`category-list-item-${t.id}`,className:(0,f.cx)({[b.default.disabled]:t.disabled,[b.default.rowLabel]:!0}),htmlFor:t.id,children:t.localized_display_name})]})}function k(e){let{label:t}=e;return(0,S.jsxs)("div",{className:b.default.rowMain,children:[(0,S.jsx)("div",{className:b.default.rowCheckbox}),t]})}function T(e){let{isLoading:t,results:n,isSelected:r,isDisabled:o,toggleResultById:a}=e;const l=(0,_.default)((()=>new g.default));if(t)return(0,S.jsx)("div",{className:b.default.loadingSpinner,children:(0,S.jsx)(C.Spinner,{color:"highlight",size:44,stroke:6})});if(!n||0===n.length)return(0,S.jsx)(k,{label:j.fbt._("No categories found",null,{hk:"2xfbJX"})});const s=n.map((e=>(0,i.default)((0,i.default)({},e),{},{id:e.id,itemKey:e.id.toString(),disabled:o(e),selected:r(e.id)})));return(0,S.jsx)(p.default,{flatListControllers:[l.current],children:(0,S.jsx)(h.FlatList,{data:s,flatListController:l.current,direction:"vertical",renderItem:e=>(0,S.jsx)(w,{category:e,toggleResultById:a}),defaultItemHeight:48})})}},726855:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CartDetailDrawer=void 0;var i=r(n(348926)),o=n(652204),a=n(15842),l=n(632157),s=r(n(680110)),d=n(72696),u=n(702727),c=r(n(106901)),f=r(n(961827)),h=r(n(898475)),p=n(778945),g=n(542358),m=r(n(692629)),C=n(290895),v=n(784423),x=n(957256),y=r(n(704107)),b=n(698867),j=n(103440),E=r(n(908081)),_=r(n(324093)),S=n(568550),w=n(626194),k=n(900316),T=r(n(570834)),M=r(n(495012)),I=n(690495),P=n(114850),D=n(71977),L=n(932523),R=n(748875),O=r(n(294414)),A=n(180519),N=n(667738),B=n(676345),F=n(887222),H=n(548360),U=n(667294),G=r(n(156720)),z=r(n(637660)),q=n(808446),V=n(785893);const W={emptyCartContainer:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",height:"ppled2lx",paddingTop:"gq7nj7y3",paddingEnd:"td5bf8pq",paddingBottom:"eynyaxvo",paddingStart:"l3k7h4x6",backgroundColor:"ihvf49ua"},emptyCardHeader:{marginTop:"nylzjxre",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka"},emptyCardText:{marginBottom:"bvhm1occ",textAlign:"qfejxiq4"},contentBackground:{backgroundColor:"ihvf49ua"},addMoreBtn:{marginBottom:"pel5o5rz"},footer:{position:"g0rxnol2",zIndex:"b9fczbqn",boxSizing:"cm280p3y",backgroundColor:"ihvf49ua"},footerDark:{backgroundColor:"emqjox7q"}},Y=e=>{const t=e.cart.itemCount;return null==t||0===t?null:(0,V.jsx)(A.TextDiv,{theme:"title",children:H.fbt._({"*":"{cart-number-of-items} items",_1:"1 item"},[H.fbt._plural(t,"cart-number-of-items")],{hk:"3Xysc4"})})},Z=e=>{const{cart:t,onSend:n,cartFlatListControllerRef:r,onProductDetail:i,sellerJid:o,cartProductItems:a,isDarkTheme:l,isDirectConnection:s,onProductCatalog:d}=e,c=(0,u.getSavingsFromCartItemsAndProducts)(a);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(X,{cart:t,onProductCatalog:d}),(0,V.jsx)(y.default,{flatListController:r.current,onProductDetail:i,cart:t,sellerJid:o,cartProductItems:a}),(0,V.jsx)("div",{className:(0,G.default)(W.footer,l&&W.footerDark),children:(0,V.jsx)(v.CartDrawerContentFooter,{savings:c,cart:t,onSend:n,isDirectConnection:s})})]})},K=e=>{let{onProductCatalog:t}=e;return(0,V.jsx)(m.default,{testid:"cart-add-more-button",type:"secondary",xstyle:W.addMoreBtn,onClick:t,children:H.fbt._("Add More",null,{hk:"2QM3jH"})})},X=e=>{let{cart:t,onProductCatalog:n}=e;return(0,V.jsxs)(I.FlexRow,{justify:"all",align:"center",xstyle:[B.uiPadding.all16,W.contentBackground],children:[(0,V.jsx)(Y,{cart:t}),(0,V.jsx)(K,{onProductCatalog:n})]})},Q=e=>{let{businessProfile:t,onProductCatalog:n}=e;return(0,V.jsxs)("div",{className:(0,G.default)(W.emptyCartContainer),children:[(0,V.jsx)(R.ShoppingCartEmptyIcon,{}),(0,V.jsx)(A.TextDiv,{xstyle:W.emptyCardHeader,theme:"large",children:H.fbt._("Add items to your cart",null,{hk:"411bLF"})}),(0,V.jsx)(A.TextDiv,{xstyle:W.emptyCardText,theme:"plain",children:H.fbt._("Collect all the items you're interested in here and then send them to the business. Use your cart to ask about buying, customizing, delivery, or anything you want.",null,{hk:"2L1JTk"})}),(0,g.hasCatalog)(t)&&(0,V.jsx)(m.default,{onClick:n,type:"primary",children:H.fbt._("View catalog",null,{hk:"1bDXja"})})]})},J=n(76672)({LOADING:"loading",READY_EMPTY:"readyEmpty",READY_CONTENT:"readyContent"}),$=e=>{let{drawerState:t,emptyContent:n,children:r}=e;switch(t){case J.READY_EMPTY:return n;case J.READY_CONTENT:return r;case J.LOADING:return(0,V.jsx)(M.default,{})}},ee=(0,U.forwardRef)(((e,t)=>{const{onBack:n,sellerJid:r,chat:g,closeDrawerRightOnSend:m,onProductCatalog:v,onProductDetail:y,isPushed:M=!0}=e,I=(0,U.useContext)(S.DrawerContext),R=(0,N.useIsDarkTheme)(),A=(0,U.useMemo)((()=>C.CartCollection.findCart(r)),[r]),B=(0,U.useRef)(null),G=(0,z.default)((()=>new o.PromiseQueue)),W=(0,z.default)((()=>new T.default)),[Y,K]=(0,U.useState)(!0),[X,ee]=(0,U.useState)(void 0),[te,ne]=(0,U.useState)([]),[re,ie]=(0,U.useState)(A.message),oe=function(){var e=(0,i.default)((function*(e){const[t,n]=yield Promise.all([e?(0,c.default)(A,M):Promise.resolve(),p.BusinessProfileCollection.find(g.id)]);t&&(B.current=t);const r=(0,u.matchCartItemsToProducts)(A,B.current);K(!1),ee(n),ne(r)}));return function(){return e.apply(this,arguments)}}();(0,q.useListener)(A,"change:cartItemCollection",(()=>{G.current.enqueue((()=>oe()))})),(0,U.useEffect)((()=>{let e=!0;M&&(0,F.qplAnnotateCartView)(A.id.toString()!==r,A.itemCount),oe(!0,M).then((()=>{e=!1,M&&(0,F.qplEndCartView)(a.QuickLogActionType.SUCCESS),(0,x.logCartListImpression)(A.id.toString(),(0,L.getProductCatalogContext)(I))})).catch((()=>{__LOG__(4,!0,new Error,!0)`Unable to open the cart`,SEND_LOGS("openCart: failed to open the cart"),(0,O.default)(),(0,s.default)(A)})).finally((()=>{e&&M&&(0,F.qplEndCartView)(a.QuickLogActionType.FAIL),K(!1)}))}),[]);const ae=(0,U.useMemo)((()=>Y?J.LOADING:A.itemCount?J.READY_CONTENT:J.READY_EMPTY),[Y,A.itemCount]),le=(0,V.jsx)(Q,{onProductCatalog:v,businessProfile:X});return(0,V.jsxs)(E.default,{ref:t,onDrop:n,theme:"striped",children:[(0,V.jsx)(w.DrawerHeader,{title:H.fbt._("Your cart",null,{hk:"Sn66V"}),type:w.DRAWER_HEADER_TYPE.SMALL,onBack:n}),(0,V.jsx)(_.default,{flatListControllers:[W.current],children:(0,V.jsx)($,{drawerState:ae,emptyContent:le,children:(0,V.jsx)(Z,{cart:A,chat:g,onSend:()=>{K(!0),(0,F.qplStartOrderCreate)(te.length),(0,f.default)(A,g).then((e=>{const t=Boolean(A.message);(0,D.logSendOrderMessage)({orderId:e,catalogOwnerJid:A.id,catalogContext:(0,L.getProductCatalogContext)(I),isOrderMsgAttached:t,quantity:A.itemCount}),(0,d.commerceThreadsLoggingEnabled)()&&(0,b.handleActivitiesForChatThreadLogging)([{activityType:"ordersSent",ts:(0,l.unixTime)(),chatId:g.id}]),n(),(0,s.default)(A),A.message=void 0,m&&k.DrawerManager.existsDrawerRight((e=>{e&&k.DrawerManager.closeDrawerRight()})),(0,F.qplEndOrderCreate)(a.QuickLogActionType.SUCCESS)})).catch((()=>{__LOG__(4,!0,new Error,!0)`Unable to create catalog order`,SEND_LOGS("submitOrder: order creation or order message send error"),(0,O.default)(),oe(!0),(0,F.qplEndOrderCreate)(a.QuickLogActionType.FAIL)})).finally((()=>{K(!1)}))},onChange:e=>{ie(e),(0,h.default)(A,e)},onMaxPasteExceeded:()=>{P.ModalManager.open((0,V.jsx)(j.ConfirmPopup,{title:H.fbt._("Message Too Long",null,{hk:"3CMbLA"}),onOK:()=>{P.ModalManager.close()},okText:H.fbt._("OK",null,{hk:"4oTrfy"}),children:H.fbt._("The message you're pasting is too long. Try shortening it or sending it as a separate message.",null,{hk:"3uhizb"})}))},cartMessage:re,cartFlatListControllerRef:W,onProductDetail:y,onProductCatalog:v,sellerJid:r,cartProductItems:te,isDarkTheme:R,isDirectConnection:Boolean(null==X?void 0:X.isBusinessDirectConnection())})})})]})}));t.CartDetailDrawer=ee,ee.displayName="CartDetailDrawer"},784423:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CartDrawerContentFooter=void 0;var i=n(287461),o=r(n(692629)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(27578)),l=n(263079),s=n(753233),d=n(258105),u=n(690495),c=n(180519),f=n(676345),h=r(n(844453)),p=n(548360),g=(r(n(156720)),n(785893));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const C={footerPrice:{width:"ln8gz9je"},footerBorder:{borderTop:"swyb62mu"}},v=()=>(0,g.jsxs)(g.Fragment,{children:[p.fbt._("By continuing, you agree to share your cart and phone number with the business so it can confirm your order and total price, including any tax, fees and discounts.",null,{hk:"a2Yd0"})," ",(0,g.jsx)(s.ExternalLink,{href:(0,d.getJioMartPostcodeChangeLearnMoreLink)(),children:p.fbt._("Learn More",null,{hk:"281Gd"})})]}),x=()=>p.fbt._("The business will confirm your order and total price, including any tax, fees and discounts",null,{hk:"13r7X"}),y=e=>{let{isDirectConnection:t}=e;return t&&(0,l.supportsDirectConnection)()&&(0,i.getABPropConfigValue)("share_phone_number_on_cart_send_to_direct_connection_biz_enabled")?(0,g.jsx)(v,{}):(0,g.jsx)(x,{})},b=e=>(0,g.jsxs)(u.FlexRow,{align:"baseline",justify:"all",xstyle:[f.uiMargin.bottom8,C.footerPrice],children:[(0,g.jsx)(c.TextSpan,{theme:"title",color:"secondary",children:p.fbt._("You save",null,{hk:"2gJK4X"})}),(0,g.jsx)(c.TextSpan,{theme:"title",color:"accent",children:p.fbt._("{cart-savings}",[p.fbt._param("cart-savings",a.formatAmount1000(e.currency,e.savings))],{hk:"3rC0sz"})})]}),j=e=>{let{currency:t,total:n,savings:r}=e;return(0,g.jsxs)(g.Fragment,{children:[r>0?(0,g.jsx)(b,{currency:t,savings:r}):null,(0,g.jsxs)(u.FlexRow,{align:"baseline",justify:"all",xstyle:[f.uiMargin.bottom8,C.footerPrice],children:[(0,g.jsx)(c.TextSpan,{theme:"title",color:"dark",weight:"medium",children:p.fbt._("Estimated total",null,{hk:"1B6kY"})}),(0,g.jsx)(c.TextSpan,{theme:"title",color:"dark",children:p.fbt._("{cart-total-price}",[p.fbt._param("cart-total-price",a.formatAmount1000(t,n))],{hk:"3y3vJX"})})]})]})},E=()=>(0,g.jsx)(c.TextSpan,{theme:"title",color:"dark",weight:"medium",children:p.fbt._("Business will provide total price",null,{hk:"3EzUju"})}),_=e=>{let{total:t,currency:n,savings:r}=e;return null!=t&&null!=n?(0,g.jsx)(j,{currency:n,savings:r,total:t}):(0,g.jsx)(E,{})};t.CartDrawerContentFooter=e=>{const{onSend:t,isDirectConnection:n,cart:r,savings:i}=e;return(0,g.jsxs)(u.FlexColumn,{xstyle:[C.footerBorder,f.uiPadding.all16],children:[(0,g.jsx)(_,{total:r.total,currency:r.currency,savings:i}),(0,g.jsx)(c.TextDiv,{theme:"plain",color:"secondary",xstyle:f.uiMargin.bottom15,children:(0,g.jsx)(y,{isDirectConnection:n})}),(0,g.jsx)(h.default,{appear:!0,transitionName:"btn",children:(0,g.jsx)(o.default,{testid:"cart-send-button",type:"primary",onClick:t,children:p.fbt._("Send to business",null,{hk:"309iQm"})})})]})}},704107:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{cartProductItems:t,onProductDetail:n,sellerJid:r}=e;return(0,d.jsx)(l.default,{flatListControllers:[e.flatListController],children:(0,d.jsx)(a.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:t.map((e=>({itemKey:e.cartItem.id,contentKey:(0,i.default)("cartItem"),product:e.product,cartItem:e.cartItem}))),renderItem:e=>(0,d.jsx)(o.default,{cartId:r,product:e.product,quantity:e.cartItem.quantity,onClick:()=>n({productId:e.cartItem.id,businessOwnerJid:r})}),defaultItemHeight:s.CART_PRODUCT_LIST_ITEM_HEIGHT})})};var i=r(n(873955)),o=r(n(327422)),a=n(512938),l=r(n(964223)),s=n(899841),d=n(785893)},327422:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{cartId:n,product:r,quantity:i,onClick:o}=e,a=(0,y.jsx)(h.EmojiText,{text:r.name,ellipsify:!0,titlify:!0}),l=null===(t=r.getPreviewImage())||void 0===t?void 0:t.mediaData,s=l?(0,y.jsx)(m.ProductThumb,{theme:"cart-list",mediaData:l}):null,{isHovered:d,onMouseEnter:u,onMouseLeave:f}=(0,x.default)(),p=(0,y.jsx)(g.default,{className:(0,v.default)(_),showTotalPrice:!0,product:r}),C=(0,y.jsx)(S,{isHovered:d,cartId:n,cartProduct:r,quantity:i});return(0,y.jsx)(c.default,{onMouseEnter:u,onMouseLeave:f,image:s,customImage:!0,primary:a,secondary:C,theme:"cart-product",onClick:o,detail:p},r.id.toString())};var i=r(n(187783)),o=n(72696),a=r(n(905221)),l=r(n(305160)),s=n(957256),d=r(n(573006)),u=r(n(894138)),c=r(n(170206)),f=n(568550),h=n(305521),p=n(932523),g=r(n(269261)),m=n(493770),C=n(667294),v=r(n(156720)),x=r(n(478636)),y=n(785893);const b={visibility:"kojwoqec"},j={paddingTop:"qomlamqu",visibility:"g5crjs6l"},E={display:"p357zi0d",marginEnd:"q471nw87"},_={alignItems:"gndfcl4n",display:"p357zi0d"};function S(e){let{cartId:t,cartProduct:n,quantity:r,isHovered:c}=e;const h=(0,C.useContext)(f.DrawerContext),g=(0,p.getProductCatalogContext)(h);const m=c?(0,v.default)(j):(0,v.default)(b),x=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.default,{testid:"productQuantityDropdown",quantity:r,onChange:e=>function(e,t){(0,a.default)(n,e),(0,s.logEditProduct)(n,t,e)}(e,g)}),(0,y.jsx)("div",{className:m,children:(0,y.jsx)(l.default,{onClick:e=>function(e,r){const o=(0,i.default)(t,n.id.toString());(0,i.default)(t,n.id.toString()),(0,s.logDeleteProduct)(n,r),0===o&&(0,s.logCartAbandon)(n.catalogWid.toString(),r),function(e){e.preventDefault(),e.stopPropagation()}(e)}(e,g)})})]}),_=(0,y.jsx)(u.default,{product:n,context:h});return(0,y.jsx)("div",{className:(0,v.default)(E),children:(0,o.isQuantityControlsFeatureEnabled)()?_:x})}},573006:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsxs)("div",{className:(0,a.default)(s),"data-testid":e.testid,children:[(0,l.jsx)("span",{className:(0,a.default)(u),children:"â¾"}),(0,l.jsx)("select",{className:(0,a.default)(d,o.uiPadding.horiz10),onClick:function(e){e.preventDefault(),e.stopPropagation()},value:e.quantity,onChange:function(t){const n=t.target;n instanceof HTMLSelectElement&&e.onChange(parseInt(n.value,10))},children:(0,l.jsx)(c,{})})]})};var i=n(753958),o=n(676345),a=r(n(156720)),l=n(785893);const s={position:"g0rxnol2",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"l07amlnk",width:"b6qzmhfs"},d={fontFamily:"shdiholb"},u={position:"lhggkp7q",top:"jgz0asyo",end:"j2mzdvlq",zIndex:"mb8var44",display:"f804f6gw",height:"hpdpob1j",fontSize:"cqiun4t2",lineHeight:"gz7w46tb",color:"hp667wtd",pointerEvents:"m62443ks",backgroundRepeat:"sxl192xd"};function c(){const e=[];for(let t=1;t<=i.CART_ITEM_MAX_QUANTITY;t++)e.push((0,l.jsx)("option",{value:t,children:t},t));return e}},411430:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=n(726855),a=n(568550),l=n(900316),s=r(n(329982)),d=n(932523),u=n(639793),c=n(316348),f=n(555622),h=n(238669),p=n(887222),g=n(130756),m=n(667294),C=n(785893);class v extends s.default{constructor(){super(...arguments),this._handleProductCatalog=()=>{const{sellerJid:e,chat:t}=this.props;f.QPL.markerStart(c.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Cart"}}}),this.push((0,C.jsx)(u.ProductDetailsFlowLoadable,{chat:t,catalogOwnerJid:e}))},this._handleProductDetail=e=>{const{chat:t}=this.props;(0,p.qplStartProductView)("Cart"),this.push((0,C.jsx)(u.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:t,productInfo:e,onEnd:this._pop}))},this._end=()=>{this.end(h.DismissReason.LIFECYCLE)},this._pop=()=>{this.pop()}}componentDidMount(){const{sellerJid:e,chat:t}=this.props,{isPushed:n}=this.state;this.push((0,C.jsx)(x,{chat:t,sellerJid:e,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalog,onBack:this._end,isPushed:n})),l.DrawerManager.existsDrawerLeft((e=>{e&&l.DrawerManager.closeDrawerLeft()})),l.DrawerManager.existsDrawerMid((e=>{e&&l.DrawerManager.closeDrawerMid()}))}}t.default=v;const x=(0,m.forwardRef)(((e,t)=>{const n=(0,m.useContext)(a.DrawerContext),{entryPoint:r}=(0,d.getProductCatalogContext)(n);return(0,C.jsx)(o.CartDetailDrawer,(0,i.default)({ref:t,closeDrawerRightOnSend:r===g.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE},e))}));x.displayName="CartDetailDrawerWithContext"},501685:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(348926)),a=n(122583),l=n(15842),s=n(984330),d=n(637842),u=r(n(311397)),c=n(72696),f=n(172949),h=r(n(55423)),p=n(778945),g=n(713464),m=n(87630),C=n(177938),v=r(n(908081)),x=r(n(324093)),y=n(568550),b=n(626194),j=n(900316),E=r(n(329982)),_=n(299950),S=r(n(554740)),w=r(n(114742)),k=n(959673),T=r(n(386067)),M=n(45735),I=n(932523),P=n(77548),D=r(n(632289)),L=r(n(559893)),R=n(977575),O=r(n(980679)),A=n(854682),N=n(517086),B=n(316348),F=n(555622),H=n(625786),U=n(390737),G=n(238669),z=n(459857),q=n(887222),V=n(548360),W=n(667294),Y=n(785893);const Z=n(76672).Mirrored(["YES","NO","PENDING"]);class K extends E.default{constructor(){var e;super(...arguments),e=this,this._isComplianceFormVisible=!1,this._isProductListVisible=!1,this._blockCartInterstitial=()=>this.props.mustCompleteCompliance!==Z.NO,this._isCreatingCatalog=()=>this.props.isCreatingCatalog,this._showProductList=e=>{this.push((0,Y.jsx)(L.default,{contact:this.props.contact,onCatalogLinkClick:this._handleCatalogShare,onProductShare:this._handleProductShare,onProductDetail:this._handleEditProduct,onAddProduct:this._handleAddProduct,onRemoveProduct:this._handleRemoveProduct,catalogId:this.props.catalogId,onBack:this._end,onCartClick:this._handleCartClick,businessProfile:null,headerType:b.DRAWER_HEADER_TYPE.LARGE,onCollectionSeeAll:this._handleCollectionSeeAll,canManageCatalog:!0,autoUpdate:!0,onOpenCollections:this._handleOpenCollections,onOpenMerchantDetailsForm:this._handleOpenMerchantDetailsForm,onEditCollection:this._handleEditCollection,onOpenSettings:this._handleOpenSettings,blockCartInterstitialFn:this._blockCartInterstitial,canLogQpl:e}))},this._handleOpenMerchantDetailsForm=()=>{const e=(0,z.getMeUser)();this.push((0,Y.jsx)(k.MerchantDetailsFormFlowLoadable,{contactId:e,onBack:this.pop}))},this._handleEditProduct=e=>{const t=g.CatalogCollection.assertGet(this.props.catalogId);j.DrawerManager.openDrawerMid((0,Y.jsx)(u.default,{catalog:t,product:e}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:_.FocusType.TABBABLE})},this._handleCartClick=e=>{(0,h.default)(e,void 0,this.props.context)},this._handleCollectionSeeAll=e=>{this.push((0,Y.jsx)(R.CollectionContentDrawer,{contact:this.props.contact,onProductDetail:this._handleEditProduct,onProductShare:this._handleProductShare,catalogId:this.props.catalogId,onBack:this._pop,onCatalogLinkClick:this._handleCatalogShare,onCartClick:this._handleCartClick,collection:e,canManageCatalog:!0,headerType:b.DRAWER_HEADER_TYPE.LARGE,onEditCollection:this._handleEditCollection}))},this._handleEditCollection=e=>{const t=g.CatalogCollection.get(this.props.catalogId);e||(0,A.logCollectionCreateClicked)((0,I.getProductCatalogContext)(this.props.context)),t&&this.push((0,Y.jsx)(S.default,{onBack:this._pop,collection:e,catalog:t}))},this._handleCatalogShare=(e,t)=>{j.DrawerManager.openDrawerMid((0,Y.jsx)(T.default,{onCancel:()=>{j.DrawerManager.closeDrawerMid()},catalog:e,contact:t,prompt:V.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"}),onSend:()=>j.DrawerManager.closeDrawerMid(),centerDrawer:!0}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:_.FocusType.TABBABLE})},this._handleProductShare=e=>{j.DrawerManager.openDrawerMid((0,Y.jsx)(D.default,{onCancel:()=>{j.DrawerManager.closeDrawerMid()},product:e,prompt:V.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"}),onSend:()=>j.DrawerManager.closeDrawerMid(),centerDrawer:!0,sendProductMsg:!0}),{transition:"slide-left",newDrawerContext:this.props.context,focusType:_.FocusType.TABBABLE})},this._handleOpenCollections=()=>{F.QPL.markerStart(B.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW),this.push((0,Y.jsx)(O.default,{onBack:this._pop,editCollection:this.editCollection,onSeeCollection:this._handleSeeCollection,onReorderCollection:this._handleReorderCollections})),(0,A.logCollectionMenuClicked)((0,I.getProductCatalogContext)(this.props.context))},this._handleReorderCollections=()=>{this.push((0,Y.jsx)(O.default,{onBack:this._pop,editCollection:this.editCollection,onSeeCollection:this._handleSeeCollection,isReorder:!0}))},this._handleSeeCollection=e=>{(0,q.qplStartCollectionViewAll)("Collection"),this.push((0,Y.jsx)(X,{catalogId:this.props.catalogId,collection:e,product:null}))},this.editCollection=e=>{const t=g.CatalogCollection.get(this.props.catalogId);e||(0,A.logCollectionCreateClicked)((0,I.getProductCatalogContext)(this.props.context)),t&&this.push((0,Y.jsx)(S.default,{onBack:this._pop,collection:e,catalog:t}))},this._handleOpenSettings=()=>{this.push((0,Y.jsx)(M.CatalogSettingsDrawer,{onBack:this._pop}))},this._handleAddProduct=()=>this.props.onAddProduct(),this._handleAddFirstProduct=()=>this.props.onAddFirstProduct(),this._handleRemoveProduct=()=>this.props.onRemoveProduct(),this._handleAddProductFromBusinessDetails=(0,o.default)((function*(){e._pop(),e._isComplianceFormVisible=!1,yield e.props.onComplianceFormClosed();g.CatalogCollection.get(e.props.catalogId)?e._handleAddProduct():e._handleAddFirstProduct()})),this._pop=()=>{this.pop(),j.DrawerManager.closeDrawerMid()},this._end=()=>{this.end(G.DismissReason.LIFECYCLE),j.DrawerManager.closeDrawerMid()}}componentDidMount(){null!=this.props.collection?this._handleCollectionSeeAll(this.props.collection):null!=this.props.catalog?(this._showProductList(!0),null!=this.props.product&&this._handleEditProduct(this.props.product)):(F.QPL.markerDrop(B.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW),this._showNewCatalog())}componentDidUpdate(){this.props.showComplianceForm&&!this._isComplianceFormVisible?(this._isComplianceFormVisible=!0,this._showComplianceForm()):this.props.showProductList&&!this._isProductListVisible&&(this._isProductListVisible=!0,this._showProductList(!1))}_showNewCatalog(){this.push((0,Y.jsx)(w.default,{isCreatingCatalogFn:this._isCreatingCatalog,onBack:this._pop,onAddProductClick:this._handleAddFirstProduct}))}_showComplianceForm(){this.push((0,Y.jsx)(k.MerchantDetailsFormFlowLoadable,{contactId:this.props.contact.id,enableCatalogCreationContext:!0,enableBusinessProfileAddress:!0,onAddProduct:this._handleAddProductFromBusinessDetails,onBack:()=>{this._pop(),this._isComplianceFormVisible=!1,this.props.onComplianceFormClosed()},onUnmount:()=>{this._isComplianceFormVisible=!1,this.props.onComplianceFormClosed()}}))}}const X=(0,W.forwardRef)(((e,t)=>{const n=(0,W.useContext)(y.DrawerContext),[r,h]=(0,W.useState)(Z.PENDING),E=C.ContactCollection.get(e.catalogId),[S,w]=(0,W.useState)(!1),[k,T]=(0,W.useState)(!1),[M,D]=(0,W.useState)(!1),[L,R]=(0,W.useState)(!1),O=(0,W.useCallback)((()=>g.CatalogCollection.get(e.catalogId)),[e.catalogId]),A=(0,W.useCallback)((0,o.default)((function*(){var e;if(!E)return __LOG__(4,void 0,new Error,!0)`Cannot update compliance for non existing user`,void SEND_LOGS("catalog-management-flow-compliance-no-contact-error");h(Z.PENDING);const t=null===(e=p.BusinessProfileCollection.get(E.id))||void 0===e?void 0:e.address;let n=Z.NO;const r=O();!(0,c.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(E.id)||r&&r.productCollection.length||(0,d.isBusinessCompliant)(t,yield(0,m.getLegalEntityDetails)(E.id),E.id)||(n=Z.YES),h(n)})),[E,O]),G=(0,W.useCallback)((()=>{const e=O();if(r===Z.YES)w(!0);else if(r===Z.PENDING)D(!0);else if(e){const t=new N.Product({catalogWid:e.id,additionalImageCdnUrl:[]});j.DrawerManager.openDrawerMid((0,Y.jsx)(u.default,{catalog:e,product:t,onCreate:t=>{j.DrawerManager.openDrawerMid((0,Y.jsx)(u.default,{catalog:e,product:t}),{transition:"slide-left",newDrawerContext:n,focusType:_.FocusType.TABBABLE})},newProduct:!0}),{transition:"slide-left",newDrawerContext:n,focusType:_.FocusType.TABBABLE})}}),[r,n,O]),z=(0,W.useCallback)((0,o.default)((function*(){R(!0);const t=(0,I.getProductCatalogContext)(n);(0,P.logCreateProductCatalogClick)(t),F.QPL.markerStart(B.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE);let r=!0;try{yield(0,f.createCatalog)(),(0,P.logCreateProductCatalogSuccess)(t),r=!1,F.QPL.markerEnd(B.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE,l.QuickLogActionType.SUCCESS);try{yield g.CatalogCollection.find(e.catalogId),T(!0),G()}catch(e){(0,a.filteredCatch)(s.ServerStatusCodeError,(()=>{__LOG__(3)`Failed to fetch product catalog from server`}))}}catch(e){(0,a.filteredCatch)(s.ServerStatusCodeError,(e=>{(0,P.logCreateProductCatalogFailed)(t,e.statusCode),U.ToastManager.open((0,Y.jsx)(H.Toast,{msg:V.fbt._("Catalog already created.",null,{hk:"1s2DFD"}),id:(0,H.genId)("err_catalog_already_created")})),T(!0)}))}finally{r&&F.QPL.markerEnd(B.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE,l.QuickLogActionType.FAIL)}R(!1)})),[e.catalogId,n,G]),q=(0,W.useCallback)((0,o.default)((function*(){r===Z.YES?w(!0):r===Z.PENDING?D(!0):yield z()})),[r,z]),X=(0,W.useCallback)((0,o.default)((function*(){yield A()})),[A]);return(0,W.useEffect)((()=>{A()}),[]),(0,W.useEffect)((()=>{const e=O();M&&r!==Z.PENDING&&(D(!1),r===Z.YES?w(!0):e?G():z()),r===Z.YES&&j.DrawerManager.closeDrawerMid()}),[M,r,O,z,G]),E?M?(0,Y.jsxs)(v.default,{ref:t,children:[(0,Y.jsx)(b.DrawerHeader,{title:V.fbt._("Add new item",null,{hk:"2Tc6p3"}),onCancel:()=>{w(!1),D(!1)},type:b.DRAWER_HEADER_TYPE.LARGE}),(0,Y.jsx)(x.default,{theme:"center-content",children:(0,Y.jsx)(m.ComplianceInfoLoading,{})})]}):(0,Y.jsx)(y.DrawerContext.Consumer,{children:n=>(0,Y.jsx)(K,(0,i.default)({ref:t,contact:E,context:n,mustCompleteCompliance:r,showComplianceForm:S,showProductList:k,isCreatingCatalog:L,onAddProduct:G,onAddFirstProduct:q,onRemoveProduct:X,onComplianceFormClosed:()=>(w(!1),A())},e))}):null}));X.displayName="CatalogManagement";var Q=X;t.default=Q},311397:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(900316),o=r(n(329982)),a=n(319170),l=n(387268),s=r(n(632289)),d=n(238669),u=n(887222),c=n(548360),f=n(785893);class h extends o.default{constructor(){super(...arguments),this._handleEditSuccess=e=>{(0,u.qplStartProductView)("EditProduct"),this._showInfoDrawer(e)},this._showInfoDrawer=e=>{const{catalog:t}=this.props;this.push((0,f.jsx)(l.ProductInfoDrawer,{catalog:t,product:e,onCancel:this.end,onEditProduct:this._handleProductEdit,onShareProduct:this._handleShareProduct}))},this._handleShareProduct=e=>{this.push((0,f.jsx)(s.default,{onBack:this._pop,product:e,prompt:(0,f.jsx)("div",{children:c.fbt._("Anyone with WhatsApp can follow this link to browse catalog",null,{hk:"1Lofnu"})}),onSend:()=>i.DrawerManager.closeDrawerMid(),centerDrawer:!0,sendProductMsg:!0}))},this._handleProductEdit=e=>{this.push((0,f.jsx)(a.EditProductDrawer,{catalog:this.props.catalog,onBack:this._pop,onEditSuccess:this._handleEditSuccess,product:e,onDelete:this._handleDelete}))},this._handleDelete=e=>{var t,n;const{product:r}=this.props;r.id===e.id&&i.DrawerManager.closeDrawerMid(),null===(t=(n=this.props).onDelete)||void 0===t||t.call(n)},this._pop=()=>{this.pop()},this._end=()=>{this.end(d.DismissReason.LIFECYCLE)}}componentDidMount(){const{catalog:e,product:t,onCreate:n,newProduct:r}=this.props;e.productCollection.on("remove",this._handleDelete),r?this.push((0,f.jsx)(a.EditProductDrawer,{onCancel:this._pop,onEditSuccess:e=>n?n(e):this._handleEditSuccess(t),catalog:e,product:t,newProduct:!0})):this._showInfoDrawer(t)}componentWillUnmount(){this.props.catalog.productCollection.off("remove",this._handleDelete)}}t.default=h},715127:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,u.useFlow)(f.Labels,{transitions:u.FlowTransitions.DrawerLeft}),[r,h]=(0,d.useState)("");if(null==t.step)return null;let p;switch(t.step){case f.Labels:p=(0,c.jsx)(i.default,{onLabelClick:e=>{h(e),t.push(f.LabelItem)},onClose:()=>t.pop()});break;case f.LabelItem:{const e=(0,o.default)(n(457349));p=(0,c.jsx)(e,{labelId:r,onManageLabels:e=>{s.ModalManager.open((0,c.jsx)(l.ManageLabelFlowLoadable,{modelsToUpdate:e,onClose:()=>s.ModalManager.close()}))},onClose:()=>t.pop(),onRemoveLabel:(e,t)=>{a.LabelCollection.addOrRemoveLabels([{id:e,type:"remove"}],t)}});break}}return(0,c.jsx)(e,{flow:t,children:p})};var i=r(n(589134)),o=r(n(97359)),a=n(856311),l=n(614724),s=n(114850),d=n(667294),u=n(839062),c=n(785893);const f=n(76672).Mirrored(["Labels","LabelItem"])},751188:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.default)((()=>new Set)),n=(0,s.useRef)();return(0,s.useEffect)((()=>{const t=e.modelsToUpdate.length;n.current=1===t?e.modelsToUpdate[0]instanceof o.Chat?a.LABEL_TARGETS.LABEL_CHAT_DIALOG:a.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:a.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,l.logLabelOperationEvent)(a.LABEL_OPERATIONS.VIEW,t,n.current)}),[]),(0,u.jsx)(i.default,{shouldScrollIntoViewAndSelect:e=>t.current.has(e)?(t.current.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1},onLabelUpdateComplete:()=>{var t,n;null===(t=e.onLabelUpdateComplete)||void 0===t||t.call(e),null===(n=e.onClose)||void 0===n||n.call(e)},onCancel:()=>{var t;n.current&&(0,l.logLabelOperationEvent)(a.LABEL_OPERATIONS.CLICK_NEGATIVE,e.modelsToUpdate.length,n.current),null===(t=e.onClose)||void 0===t||t.call(e)},modelsToUpdate:e.modelsToUpdate})};var i=r(n(131929)),o=n(79672),a=n(130756),l=n(651919),s=n(667294),d=r(n(637660)),u=n(785893)},568471:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(348926)),a=n(986120),l=n(247585),s=n(794443),d=r(n(685957)),u=n(637842),c=n(72696),f=n(115888),h=n(423082),p=n(778945),g=n(972855),m=n(107755),C=n(780549),v=n(676594),x=n(87630),y=r(n(908081)),b=r(n(324093)),j=n(626194),E=r(n(969358)),_=r(n(171915)),S=n(392832),w=r(n(329982)),k=n(731085),T=n(368478),M=n(202391),I=n(180519),P=n(459857),D=n(912837),L=r(n(556869)),R=n(548360),O=n(667294),A=(r(n(156720)),n(785893));const N={complianceInfoHelpCenterBanner:{color:"hp667wtd",paddingTop:"nlnf8xo7",paddingEnd:"bcymb0na",paddingBottom:"r219jyu0",paddingStart:"e8k79tju"},formContainer:{paddingTop:"a4bywxmn",paddingEnd:"bcymb0na",paddingBottom:"ekpn4oxx",paddingStart:"e8k79tju",marginBottom:"brac1wpa"},formTitle:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginBottom:"oqp0d33z"},formTitleWithSubtitle:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginBottom:"inww9tbj"},subtitle:{color:"hp667wtd",marginBottom:"oqp0d33z"},containingBlock:{transform:"cgi16xlc"}};class B extends w.default{componentDidMount(){this.push((0,A.jsx)(W,{contactId:this.props.contactId,enableCatalogCreationContext:this.props.enableCatalogCreationContext,enableBusinessProfileAddress:this.props.enableBusinessProfileAddress,onBack:()=>{this.props.onBack()},onAddProduct:this.props.onAddProduct}))}componentWillUnmount(){var e,t;null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t)}}t.default=B;const F=e=>e?N.formTitleWithSubtitle:N.formTitle,H=()=>R.fbt._("Add a legal name of business",null,{hk:"1Dgk4f"}),U=()=>R.fbt._("Add a business address",null,{hk:"2x7w3h"}),G=e=>e?R.fbt._("Incorrect email address format",null,{hk:"1KuwvT"}):R.fbt._("Add an email address",null,{hk:"KeJaU"}),z=()=>R.fbt._("Add a grievance officer name",null,{hk:"29OUSc"}),q=e=>!e||(0,a.isPotentiallyPhoneNumber)(e),V=(0,P.getMeUser)(),W=(0,O.forwardRef)(((e,t)=>{let{contactId:n,onBack:r,enableCatalogCreationContext:a,enableBusinessProfileAddress:f,onAddProduct:m}=e;const[S,w]=(0,O.useState)({}),[M,P]=(0,O.useState)({}),[B,W]=(0,O.useState)({}),[Z,X]=(0,O.useState)(!0),[Q,J]=(0,O.useState)(!1),[$,ee]=(0,O.useState)(),[te,ne]=(0,O.useState)(!1);(0,O.useEffect)((()=>{let e=!0;return(0,o.default)((function*(){const[t,r]=yield Promise.all([(0,x.getLegalEntityDetails)(n),p.BusinessProfileCollection.find(n)]);e&&(w(t),ee(r.serialize()),X(!1))}))(),()=>{e=!1}}),[n]),(0,O.useEffect)((()=>{ne(!Object.keys(B).length&&!Object.keys(M).length&&(0,u.isBusinessCompliant)(null==$?void 0:$.address,S,n))}),[S,M,null==$?void 0:$.address,n,B]);const re=function(){var e=(0,o.default)((function*(e){yield(0,g.editBusinessCompliance)(e);const t=yield p.BusinessProfileCollection.update(V,{getMerchantCompliance:!0});return(Array.isArray(t)?t[0]:t).serialize().legalEntityDetails}));return function(){return e.apply(this,arguments)}}(),ie=(0,O.useCallback)((e=>{W((t=>(0,i.default)((0,i.default)({},t),{},{[e]:!0})))}),[]),oe=(0,O.useCallback)((e=>{W((t=>{const n=(0,i.default)({},t);return n.hasOwnProperty(e)&&delete n[e],n}))}),[]),ae=(0,O.useCallback)(function(){var e=(0,o.default)((function*(e,t){const n={[e]:t,isRegistered:null==S?void 0:S.isRegistered};oe(e),w((0,i.default)((0,i.default)({},S),n));const r=yield re(n);w(r)}));return function(){return e.apply(this,arguments)}}(),[S,oe]),le=(0,O.useCallback)(((e,t)=>{P((n=>(0,i.default)((0,i.default)({},n),{},{[`${e}.${t}`]:!0})))}),[]),se=(0,O.useCallback)(((e,t)=>{P((n=>{const r=(0,i.default)({},n);return delete r[`${e}.${t}`],r}))}),[]),de=(0,O.useCallback)(function(){var e=(0,o.default)((function*(e,t,n){const r={[e]:{[t]:n},isRegistered:null==S?void 0:S.isRegistered};w((0,i.default)((0,i.default)({},S),{},{[e]:(0,i.default)((0,i.default)({},null==S?void 0:S[e]),r[e])}));try{le(e,t);const n=yield re(r);w(n),se(e,t),oe(`${e}.${t}`)}catch(e){throw(0,L.default)(e)}}));return function(){return e.apply(this,arguments)}}(),[S,le,se,oe]),ue=(0,O.useCallback)(function(){var e=(0,o.default)((function*(e){ee(e),oe("businessAddress"),yield p.BusinessProfileCollection.update(V)}));return function(){return e.apply(this,arguments)}}(),[oe]),ce=(0,O.useCallback)(function(){var e=(0,o.default)((function*(e,t){w(yield(0,x.getLegalEntityDetails)(n)),se(e,t)}));return function(){return e.apply(this,arguments)}}(),[n,se]),fe=(0,O.useCallback)(function(){var e=(0,o.default)((function*(e,t,n){if(e||t){J(!0);const r=yield re({entityType:e,entityTypeCustom:t,isRegistered:n});J(!1),w(r)}}));return function(){return e.apply(this,arguments)}}(),[]),{entityName:he,customerCareDetails:pe,grievanceOfficerDetails:ge}=S||{},me=(0,O.useMemo)((()=>(0,u.getEntityTypeText)(S)),[S]),Ce=(0,O.useCallback)((e=>(0,u.existsField)(e,n)),[n]),ve=(0,O.useRef)(null),xe=(0,c.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(V);return(0,A.jsx)("div",{ref:t,children:(0,A.jsxs)(y.default,{xstyle:N.containingBlock,children:[(0,A.jsx)(j.DrawerHeader,{title:R.fbt._("Business details",null,{hk:"m9xzp"}),onBack:r,type:j.DRAWER_HEADER_TYPE.LARGE}),(0,A.jsx)(b.default,{theme:Z?"center-content":void 0,ref:ve,children:Z?(0,A.jsx)(x.ComplianceInfoLoading,{}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.ComplianceInfoHelpCenterBanner,{xstyle:N.complianceInfoHelpCenterBanner}),(0,A.jsxs)(E.default,{titleXStyle:N.formTitle,xstyle:[N.formContainer],children:[(0,A.jsx)(Y,{value:he,maxLength:v.COMPLIANCE_INFO_LENGTH.ENTITY_NAME,placeholder:R.fbt._("Legal Name of Business",null,{hk:"2s9jD"}),Icon:k.InfoIcon,validate:Ce,errorFn:H,onSave:e=>ae("entityName",e),onError:()=>ie("entityName")}),(0,A.jsx)(Y,{value:me,placeholder:R.fbt._("Business Type",null,{hk:"48J73B"}),Icon:l.AccountBalanceIcon,onFocus:()=>C.Cmd.showMerchantDetailsEntityTypePopup(S,fe),isLoading:Q}),xe?(0,A.jsx)(K,{rawBusinessProfile:$,validate:Ce,onAfterSave:ue,errorFn:U,onError:()=>ie("businessAddress")}):null]}),(0,A.jsxs)(E.default,{title:R.fbt._("Customer Care Information",null,{hk:"qlYos"}),titleXStyle:F(xe),xstyle:[N.formContainer],children:[xe?(0,A.jsx)(I.TextDiv,{xstyle:N.subtitle,children:R.fbt._("Provide at least one phone number and email address",null,{hk:"IKXYK"})}):null,(0,A.jsx)(Y,{value:null==pe?void 0:pe.mobileNumber,maxLength:v.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,placeholder:R.fbt._("Mobile Phone Number",null,{hk:"PMTTg"}),Icon:T.PhoneIcon,validate:e=>(0,u.existsCustomerCareDetailsContact)(pe,n,"mobileNumber",e)&&q(e),onSave:e=>de("customerCareDetails","mobileNumber",e),onCancel:()=>ce("customerCareDetails","mobileNumber"),onError:e=>(0,x.handleCustomerCareDetailsError)(pe,n,"mobileNumber",e),errorFn:e=>(0,u.getCustomerCareDetailsError)(pe,"mobileNumber",e,R.fbt._("Incorrect phone number format",null,{hk:"3lFQ1f"}),n)}),(0,A.jsx)(Y,{value:null==pe?void 0:pe.landlineNumber,maxLength:v.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,placeholder:R.fbt._("Landline Phone Number",null,{hk:"tXYaf"}),Icon:T.PhoneIcon,validate:e=>(0,u.existsCustomerCareDetailsContact)(pe,n,"landlineNumber",e)&&q(e),onSave:e=>de("customerCareDetails","landlineNumber",e),onCancel:()=>ce("customerCareDetails","landlineNumber"),onError:e=>(0,x.handleCustomerCareDetailsError)(pe,n,"landlineNumber",e),errorFn:e=>(0,u.getCustomerCareDetailsError)(pe,"landlineNumber",e,R.fbt._("Incorrect landline phone number format",null,{hk:"4zXlsw"}),n)}),(0,A.jsx)(Y,{value:null==pe?void 0:pe.email,maxLength:v.COMPLIANCE_INFO_LENGTH.EMAIL,placeholder:R.fbt._("Email Address",null,{hk:"2jYxR1"}),Icon:h.BusinessEmailIcon,validate:e=>Ce(e)&&(0,D.validateEmail)(e),onSave:e=>de("customerCareDetails","email",e),errorFn:G,onError:()=>ie("customerCareDetails.email")})]}),(0,A.jsxs)(E.default,{title:R.fbt._("Grievance Officer Information",null,{hk:"3emd7I"}),titleXStyle:F(xe),xstyle:[N.formContainer],children:[xe?(0,A.jsx)(I.TextDiv,{xstyle:N.subtitle,children:R.fbt._("Provide name and at least one contact method",null,{hk:"2Fjw3Y"})}):null,(0,A.jsx)(Y,{value:null==ge?void 0:ge.name,maxLength:v.COMPLIANCE_INFO_LENGTH.GRIEVANCE_OFFICER_NAME,placeholder:R.fbt._("Name",null,{hk:"2vEs6r"}),validate:Ce,Icon:s.AssignmentIndIcon,onSave:e=>de("grievanceOfficerDetails","name",e),errorFn:z,onError:()=>ie("grievanceOfficerDetails.name")}),(0,A.jsx)(Y,{value:null==ge?void 0:ge.mobileNumber,maxLength:v.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,placeholder:R.fbt._("Mobile Phone Number",null,{hk:"3kk5I"}),Icon:T.PhoneIcon,validate:e=>(0,u.existsGrievanceOfficerDetailsContact)(ge,n,"mobileNumber",e)&&q(e),onSave:e=>de("grievanceOfficerDetails","mobileNumber",e),onCancel:()=>ce("grievanceOfficerDetails","mobileNumber"),onError:e=>(0,x.handleGrievanceOfficerDetailsError)(ge,n,"mobileNumber",e),errorFn:e=>(0,u.getGrievanceOfficerDetailsError)(ge,"mobileNumber",e,R.fbt._("Incorrect phone number format",null,{hk:"3lFQ1f"}),n)}),(0,A.jsx)(Y,{value:null==ge?void 0:ge.landlineNumber,maxLength:v.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,placeholder:R.fbt._("Landline Phone Number",null,{hk:"4GBzF0"}),Icon:T.PhoneIcon,validate:e=>(0,u.existsGrievanceOfficerDetailsContact)(ge,n,"landlineNumber",e)&&q(e),onSave:e=>de("grievanceOfficerDetails","landlineNumber",e),onCancel:()=>ce("grievanceOfficerDetails","landlineNumber"),onError:e=>(0,x.handleGrievanceOfficerDetailsError)(ge,n,"landlineNumber",e),errorFn:e=>(0,u.getGrievanceOfficerDetailsError)(ge,"landlineNumber",e,R.fbt._("Incorrect landline phone number format",null,{hk:"4zXlsw"}),n)}),(0,A.jsx)(Y,{value:null==ge?void 0:ge.email,maxLength:v.COMPLIANCE_INFO_LENGTH.EMAIL,placeholder:R.fbt._("Email Address",null,{hk:"3SvbLl"}),Icon:h.BusinessEmailIcon,validate:e=>(0,u.existsGrievanceOfficerDetailsContact)(ge,n,"email",e)&&(0,D.validateEmail)(e),onSave:e=>de("grievanceOfficerDetails","email",e),onError:e=>{ie("grievanceOfficerDetails.email"),(0,x.handleGrievanceOfficerDetailsError)(ge,n,"email",e)},errorFn:e=>(0,u.getGrievanceOfficerDetailsError)(ge,"email",e,R.fbt._("Incorrect email address format",null,{hk:"1KuwvT"}),n)})]}),null!=a&&null!=m?(0,A.jsx)(_.default,{disabled:!te,rootRef:ve.current,onClick:()=>(0,d.default)(m),children:R.fbt._("Next: Add Items",null,{hk:"4gxzId"})}):null]})})]})})}));function Y(e){let{value:t="",maxLength:n,placeholder:r,Icon:i,isLoading:a=!1,validate:l,errorFn:s,onChange:d,onSave:u,onCancel:c,onError:f,onFocus:h}=e;const[p,g]=(0,O.useState)(t),[C,v]=(0,O.useState)(),[x,y]=(0,O.useState)(a);return(0,O.useEffect)((()=>{g(t)}),[t]),(0,O.useEffect)((()=>{(null==l?void 0:l(p))&&v(null)}),[p,l,s]),(0,O.useEffect)((()=>{y(a)}),[a]),(0,A.jsx)(m.IconSection,{Icon:i,theme:m.IconSectionTheme.NoMargin,content:(0,A.jsx)(M.RichTextField,{value:p,editable:!0,maxLength:n,pending:x,inputPlaceholder:r,showRemaining:!0,managedError:!0,validate:l,error:C,onChange:e=>{let{text:t}=e;return g(t)},onSave:(0,o.default)((function*(){y(!0);try{yield null==u?void 0:u(p)}catch(e){s&&v(s(p))}y(!1)})),onCancel:()=>{g(t),v(null),null==c||c()},onError:()=>{s&&v(s(p)),null==f||f(p)},theme:"text-input",onFocus:h,blockFocusOnLock:!!h,lockable:!0})})}function Z(e,t,n){return{address:e,categories:[],hours:{days:[]},longitude:t,latitude:n}}function K(e){let{rawBusinessProfile:t,validate:n,onAfterSave:r,errorFn:a,onError:l}=e;const[s,d]=(0,O.useState)(),[u,c]=(0,O.useState)(null==t?void 0:t.address),[h,p]=(0,O.useState)(),{longitude:C,latitude:v}=t||{},[x,y]=(0,O.useState)(Z(u,C,v));return(0,O.useEffect)((()=>y(Z(u,C,v))),[u,C,v]),(0,O.useEffect)((()=>{n(u)&&p(null)}),[u,n]),null==t||null==x?null:(0,A.jsx)(m.IconSection,{Icon:f.BusinessAddressIcon,theme:m.IconSectionTheme.NoMargin,content:(0,A.jsx)(S.BusinessAddressField,{businessProfile:x,activeField:s,rawBusinessProfile:t,value:u,validate:n,error:h,lowProfile:!1,onActive:d,onChange:c,onCancel:()=>{c(t.address)},onSaveBusinessProfile:(0,o.default)((function*(){yield(0,g.editBusinessProfile)({address:u}),yield r((0,i.default)((0,i.default)({},t),{},{address:u}))})),onError:()=>{a&&p(a(u)),null==l||l()}})})}W.displayName="MerchantDetailsFormDrawer"},891742:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(120162)),o=n(686526),a=n(818670),l=n(780549),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(27578)),d=n(23641),u=r(n(908081)),c=r(n(324093)),f=n(626194),h=n(690495),p=r(n(329982)),g=n(163755),m=n(878192),C=n(21645),v=n(859157),x=n(620982),y=n(689044),b=n(956113),j=n(676345),E=n(548360),_=n(667294),S=r(n(156720)),w=r(n(321201)),k=n(785893);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}class M extends p.default{componentDidMount(){this.push((0,k.jsx)(R,{onBack:this.end}))}}t.default=M;const I={orderButton:{display:"p357zi0d",alignItems:"gndfcl4n",textAlign:"ljrqcn24",height:"b82nm36r",width:"ln8gz9je"},orderManagementDrawerBody:{backgroundColor:"ihvf49ua",overflowX:"i44ccddp",overflowY:"ag5g9lrv",height:"ppled2lx"},orderInfo:{borderBottom:"qmxv8cnq",flexGrow:"ggj6brxn",overflowX:"gfz4du6o",overflowY:"r7fjleex"},flexGrow:{flexGrow:"ggj6brxn"},orderSubDetails:{color:"re3l9645",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},canceled:{color:"mvxzr2tb"},completed:{color:"jq3rn4u7"},infoRow:{color:"re3l9645",fontWeight:"hnx8ox4h",fontSize:"f8jlpxt4",lineHeight:"t4tp0euv"},orderStatusLabel:{fontWeight:"hnx8ox4h"},title:{color:"edisrohx",lineHeight:"a4ywakfo",fontSize:"enbbiyaj"},subTitle:{color:"re3l9645"},orderItemLabel:{whiteSpace:"le5p0ye3",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae"}},P=e=>{let{orderStatusInfo:t=(0,x.getDefaultOrderStatus)()}=e;const n=a.OrderStatusLabels[t];return(0,k.jsx)("span",{className:(0,S.default)(I.orderStatusLabel,I[String(t)]),children:n})},D=e=>{let{items:t=[]}=e;if(0===t.length)return null;const[n,...r]=t,i=String(E.fbt._({"*":"{number_of_items} items",_1:"1 item"},[E.fbt._plural(r.length,"number_of_items")],{hk:"4kR0HP"})),o=r.length>0?`${String(E.fbt._("and",null,{hk:"1nijDn"}))} ${1===r.length?r[0].name:i}`:"",a=`${n.name} ${o}`;return(0,k.jsx)("span",{title:a,className:(0,S.default)(I.orderItemLabel,I.flexGrow),children:a})},L=()=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:(0,S.default)(I.infoRow,j.uiPadding.horiz16,j.uiPadding.vert10),children:E.fbt._("History",null,{hk:"YpPUW"})}),(0,k.jsxs)(h.FlexColumn,{align:"center",xstyle:j.uiPadding.top9,children:[(0,k.jsx)(y.PaymentHistoryEmptyIcon,{}),(0,k.jsx)("div",{className:(0,S.default)(I.subTitle,j.uiPadding.all16),children:E.fbt._("No order history",null,{hk:"38B6xg"})})]})]}),R=(0,_.forwardRef)(((e,t)=>{const n=(0,_.useRef)(null),{ordersInfoMap:{contactAndOrderInfoMap:r,orderStatusInfoMap:i},isLoading:o,ordersLazylist:a}=(0,m.useGetOrders)(n,65);return(0,k.jsxs)(u.default,{ref:t,children:[(0,k.jsx)(f.DrawerHeader,{title:E.fbt._("Orders",null,{hk:"lWP2b"}),type:f.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),(0,k.jsxs)(c.default,{ref:n,className:(0,S.default)(I.orderManagementDrawerBody),children:[a.map(((e,t)=>(0,k.jsxs)(_.Fragment,{children:[(0,k.jsx)(A,{date:(0,v.getOrderDisplayDate)(r,a,t)}),(0,k.jsx)(O,{contactAndOrderInfo:r[e],orderStatusInfo:i[e]?i[e].status:(0,x.getDefaultOrderStatus)()})]},e))),o&&(0,k.jsx)(h.FlexRow,{justify:"center",xstyle:j.uiPadding.all16,children:(0,k.jsx)(b.Spinner,{color:"default",size:24,stroke:6})}),!o&&!a.length&&(0,k.jsx)(L,{})]})]})}));R.displayName="OrderManagementDrawer";const O=e=>{var t;let{contactAndOrderInfo:n,orderStatusInfo:r}=e;const a=(0,w.default)();return(0,k.jsxs)("button",{"data-testid":"order-management-order-button",onClick:()=>{const{interactiveMsg:e}=n;e&&(l.Cmd.openChatFromUnread((0,g.getChat)(e.unsafe())),(0,o.openOrderDetailDrawer)(e,a,i.default.FROM_BUSINESS_TOOLS))},className:(0,S.default)(I.orderButton),children:[(0,k.jsx)("div",{className:(0,S.default)(j.uiPadding.vert12,j.uiPadding.horiz16),children:(0,k.jsx)(d.DetailImage,{id:n.contact.id,size:40})}),(0,k.jsxs)("div",{className:(0,S.default)(I.orderInfo,j.uiPadding.vert10,j.uiPadding.end16),children:[(0,k.jsxs)(h.FlexRow,{xstyle:I.title,children:[(0,k.jsx)(C.Name,{titlify:!0,ellipsify:!0,className:(0,S.default)(I.flexGrow),contact:n.contact}),(0,k.jsx)("span",{children:s.formatAmount(n.orderInfo.currency,null!==(t=n.orderInfo.totalAmount)&&void 0!==t?t:0)})]}),(0,k.jsxs)(h.FlexRow,{xstyle:I.orderSubDetails,children:[(0,k.jsx)(D,{items:n.orderInfo.items}),(0,k.jsx)(P,{orderStatusInfo:r})]})]})]})},A=e=>{let{date:t=""}=e;return t&&(0,k.jsx)("div",{className:(0,S.default)(I.infoRow,j.uiPadding.horiz16,j.uiPadding.vert10),children:t.toUpperCase()})}},345689:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,o.useFlow)(l.Updatestatus,{transitions:o.FlowTransitions.DrawerRight}),r=(0,a.jsx)(i.default,{entryPoint:e.entryPoint,chat:e.chat,onBack:n.pop,orderInfo:e.orderInfo,sellerJid:e.sellerJid});return(0,a.jsx)(t,{flow:n,children:r})};var i=r(n(351640)),o=n(839062),a=n(785893);const l=n(76672).Mirrored(["Updatestatus"])},172827:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,o.useFlow)(l.Updatestatus,{transitions:o.FlowTransitions.DrawerRight}),r=(0,a.jsx)(i.default,{entryPoint:e.entryPoint,chat:e.chat,onBack:n.pop,orderInfo:e.orderInfo,sellerJid:e.sellerJid});return(0,a.jsx)(t,{flow:n,children:r})};var i=r(n(249118)),o=n(839062),a=n(785893);const l=n(76672).Mirrored(["Updatestatus"])},81903:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(348926)),a=r(n(670983)),l=n(632157),s=r(n(120162)),d=n(72696),u=r(n(55423)),c=n(778945),f=n(542358),h=r(n(804005)),p=n(698867),g=n(103440),m=n(177938),C=n(568550),v=r(n(329982)),x=n(114850),y=n(699411),b=r(n(630582)),j=r(n(275687)),E=r(n(59380)),_=r(n(94530)),S=n(873994),w=n(272493),k=r(n(249118)),T=r(n(386067)),M=n(932523),I=n(77548),P=r(n(614058)),D=n(499020),L=r(n(632289)),R=n(559016),O=n(716890),A=r(n(898707)),N=r(n(559893)),B=n(977575),F=n(625786),H=n(390737),U=n(238669),G=n(459857),z=n(130756),q=n(669050),V=r(n(556869)),W=n(548360),Y=n(667294),Z=n(785893);class K extends v.default{constructor(){var e;super(...arguments),e=this,this.scrollOffset=0,this.setScrollOffset=e=>{this.scrollOffset=e},this._handleCollectionSeeAll=e=>{const{catalogOwnerJid:t,chat:n,product:r,productInfo:i,sellerJid:o}=this.props,a=t||(null==r?void 0:r.catalogWid.toString())||(null==i?void 0:i.businessOwnerJid)||o;this.push((0,Z.jsx)(X,{chat:n,catalogOwnerJid:a,collection:e,isAllItems:!e}))},this._pushProductDetails=(e,t)=>{const{chat:n,refreshCarousel:r}=this.props,i=(0,Z.jsx)(P.default,{chat:n,product:e,onEnd:this._end,onBack:this._popAndUpdate,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,refreshCarousel:r,onCartClick:this._handleCartClick,collectionId:t});this.push(i)},this._pushProductMoreInformation=e=>{const t=(0,Z.jsx)(A.default,{product:e,onBack:this._popAndUpdate});this.push(t)},this._pushProductDetailsWithDeepLink=e=>{const t=(0,Z.jsx)(D.ProductDetailsWithDeepLink,{chat:this.props.chat,productInfo:e,onEnd:this._end,onBack:this._pop,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(t)},this.pushProductCatalog=function(){var t=(0,o.default)((function*(t){const n=m.ContactCollection.gadd(t),r=yield c.BusinessProfileCollection.find(t),i=(0,f.hasCatalog)(r)?(0,Z.jsx)(N.default,{contact:n,onProductDetail:e._handleProductDetail,catalogId:t,onBack:e._pop,businessProfile:r,scrollOffset:e.scrollOffset,setScrollOffset:e.setScrollOffset,onCatalogLinkClick:e._handleCatalogLinkClick,onCartClick:e._handleCartClick,onCollectionSeeAll:e._handleCollectionSeeAll}):(0,Z.jsx)(R.ProductListDrawer,{contact:n,onProductDetail:e._handleProductDetail,catalogId:t,onBack:e._pop,businessProfile:r,setScrollOffset:e.setScrollOffset,onCatalogLinkClick:e._handleCatalogLinkClick,onCartClick:e._handleCartClick});e.push(i)}));return function(){return t.apply(this,arguments)}}(),this._pushCartOrderDetail=(e,t,n,r,i,o,a)=>{const l=(0,Z.jsx)(h.default,{orderId:e,token:t,sellerJid:n,userIsCartOwner:r,onProductDetail:this._handleProductDetailFromInfo,onOrderCreate:this._handleOrderCreate,onOrderCancel:this._handleOrderCancel,ownerHasReviewed:i,orderMessage:o,chat:a});this.push(l)},this._pushProductList=(e,t)=>{const n=m.ContactCollection.gadd(t),r=(0,Z.jsx)(O.ProductMessageListDrawer,{contact:n,productListId:e,onProductDetail:this._handleProductDetail,onCartClick:this._handleCartClick,onBack:this._pop,onEnd:this._end,setScrollOffset:this.setScrollOffset,catalogWid:t});this.push(r)},this._handleProductSummaryClick=e=>{this._pushOrderDetailProductList(e)},this._handleOrderStatusUpdateClick=()=>{new S.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:z.ORDER_DETAILS_CREATION_ACTION.CLICK_UPDATE_ORDER_STATUS,actionCategory:String(_.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(this.props.entryPoint),hasCatalog:(0,f.hasCatalog)(c.BusinessProfileCollection.get((0,G.getMaybeMeUser)()))}).commit(),this._pushOrderStatusUpdate()},this._handleOrderCreate=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;new S.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:z.ORDER_DETAILS_CREATION_ACTION.CLICK_CREATE_ORDER_DETAILS_FROM_CART,actionCategory:String(_.default.RECEIVED_CART),orderDetailEntryPoint:String(s.default.FROM_CART),hasCatalog:(0,f.hasCatalog)(c.BusinessProfileCollection.get((0,G.getMaybeMeUser)()))}).commit();const r=()=>{e._pushOrderCreate(t,n)};r()},this.cancelOrder=()=>{const{orderId:e,token:t,sellerJid:n,userIsCartOwner:r,orderMessage:i,chat:o}=this.props;null!=e&&null!=t&&null!=n&&null!=r&&this._pushCartOrderDetail(e,t,n,r,!0,i,o),x.ModalManager.close()},this._handleOrderCancel=()=>{x.ModalManager.open((0,Z.jsx)(g.ConfirmPopup,{onCancel:()=>{x.ModalManager.close()},cancelText:W.fbt._("Do not decline",null,{hk:"1GLBjf"}),onOK:this.cancelOrder,okText:W.fbt._("Decline",null,{hk:"thsKi"}),title:W.fbt._("Decline this order?",null,{hk:"2hlAzX"}),children:W.fbt._("You can include a note with the cancelation message.",null,{hk:"3M6G2k"})}))},this._handleProductDetail=(e,t)=>{this._pushProductDetails(e,t)},this._handleProductMoreInformation=e=>{this._pushProductMoreInformation(e)},this._handleProductDetailFromInfo=e=>{this._pushProductDetailsWithDeepLink(e)},this._handleProductCatalogHeaderClick=(e,t)=>{(0,I.logCarouselViewMoreClick)({catalogOwnerWid:e,catalogContext:t}),this.pushProductCatalog(e)},this._handleProductLinkClick=e=>{this.push((0,Z.jsx)(L.default,{product:e,onBack:this._pop}))},this._handleCatalogLinkClick=(e,t)=>{this.push((0,Z.jsx)(T.default,{catalog:e,contact:t,onBack:this._pop}))},this._handleCartClick=e=>{const t=(0,M.getProductCatalogContext)(this.props.context),n=(0,u.default)(e,this.props.chat,t);n&&this.push(n)},this._pop=()=>{this.pop()},this._end=()=>{this.end(U.DismissReason.LIFECYCLE)},this._popAndUpdate=()=>{this.popAndUpdate({scrollOffset:this.scrollOffset})},this._handleFindOrderError=()=>{const e=W.fbt._("OK",null,{hk:"4oTrfy"});H.ToastManager.open((0,Z.jsx)(F.Toast,{action:{dismiss:!0,actionText:e},msg:W.fbt._("Something went wrong. Please try again.",null,{hk:"28mZYT"}),id:(0,F.genId)()}))}}componentDidMount(){const{catalogOwnerJid:e,orderId:t,product:n,productInfo:r,productListId:i,collection:o,collectionId:s,isAllItems:u,token:c,sellerJid:f,userIsCartOwner:h,orderMessage:g,chat:m,orderInfo:C}=this.props;if((0,d.commerceThreadsLoggingEnabled)()&&(0,p.handleActivitiesForChatThreadLogging)([{activityType:"isCommerceViewed",ts:(0,l.unixTime)(),chatId:m.id}]),e)o||u?this.pushCollectionContent((0,q.createWid)(e)):null!=i?this._pushProductList(i,(0,q.createWid)(e)):this.pushProductCatalog((0,q.createWid)(e));else if(n)this._pushProductDetails(n,s);else if(r)this._pushProductDetailsWithDeepLink(r);else if(t)null!=c&&null!=f&&null!=h&&((0,w.isOrderExpansionEnabled)()?y.OrderCollection.findOrder(t,f,c).then((e=>{this._handleOrderCreate((0,a.default)(e,"cartOrder"),this._handleOrderCancel)})).catch((()=>{this._handleFindOrderError()})):this._pushCartOrderDetail(t,c,f,h,!1,g,m));else{if(null==C||null==f)throw(0,V.default)("ProductDetailsFlow:no-product");this._pushOrderDetail(m,C,(0,q.createWid)(f))}}pushCollectionContent(e){const t=m.ContactCollection.gadd(e);this.push((0,Z.jsx)(B.CollectionContentDrawer,{contact:t,onProductDetail:this._handleProductDetail,catalogId:e,onBack:this._pop,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,scrollOffset:this.scrollOffset,setScrollOffset:this.setScrollOffset,collection:this.props.collection}))}_pushOrderCreate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.push((0,Z.jsx)(b.default,{entryPoint:s.default.FROM_CART,onBack:this._pop,order:e,chat:this.props.chat,onDeclineOrder:t}))}_pushOrderDetailProductList(e){this.push((0,Z.jsx)(E.default,{onBack:this._pop,productItems:e}))}_pushOrderDetail(e,t,n){this.push((0,Z.jsx)(j.default,{entryPoint:this.props.entryPoint,onBack:this._pop,orderInfo:t,sellerWid:n,chat:e,onProductSummaryClick:this._handleProductSummaryClick,onOrderStatusUpdateClick:this._handleOrderStatusUpdateClick}))}_pushOrderStatusUpdate(){const{orderInfo:e,sellerJid:t}=this.props;null!=e&&null!=t&&this.push((0,Z.jsx)(k.default,{entryPoint:this.props.entryPoint,chat:this.props.chat,onBack:this._pop,orderInfo:e,sellerJid:t}))}}const X=(0,Y.forwardRef)(((e,t)=>{const n=(0,Y.useContext)(C.DrawerContext);return(0,Z.jsx)(K,(0,i.default)({ref:t,context:n},e))}));X.displayName="ProductDetailsFlow";var Q=X;t.default=Q},781657:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,o.useFlow)(l.QuickRepliesList,{transitions:o.FlowTransitions.DrawerLeft});if(null==t.step)return null;let n;switch(t.step){case l.QuickRepliesList:n=(0,a.jsx)(i.default,{onBack:()=>t.pop()})}return(0,a.jsx)(e,{flow:t,children:n})};var i=r(n(452770)),o=n(839062),a=n(785893);const l=n(76672).Mirrored(["QuickRepliesList"])},371839:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,p.useEffect)((()=>{l.Cmd.closeContextMenu(),l.Cmd.closeTooltip()}),[]);return(0,g.jsx)(c.SelectModal,{onConfirm:t=>{var n;(0,o.qplStartProductSendMessage)("Forward",void 0,t.length);const r=t.map(function(){var t=(0,i.default)((function*(t){return t.isUser&&t.contact.isContactBlocked&&(yield(0,a.unblockContact)(t.contact)),(t=>{const{product:n}=e;return new Promise(((e,r)=>{l.Cmd.once("ui_idle",(()=>{t.sendProductMessage(n).then((()=>e())).catch((e=>r(e)))}))}))})(t)}));return function(){return t.apply(this,arguments)}}());(0,o.qplEndProductMessageSend)(Promise.all(r)),u.ModalManager.close(),1===t.length&&(l.Cmd.openChatFromUnread(t[0]),window.innerWidth<=d.LAYOUT_2COLUMNS_MAX_WIDTH&&s.DrawerManager.closeDrawerRight()),null===(n=e.onSend)||void 0===n||n.call(e)},maxItems:f.MULTICAST_LIMIT_GLOBAL,title:h.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:c.ListType.CHAT_SELECT_MODAL,onCancel:()=>{u.ModalManager.close()}})};var i=r(n(348926)),o=n(48360),a=n(547979),l=n(780549),s=n(900316),d=n(914368),u=n(114850),c=n(61740),f=n(962260),h=n(548360),p=n(667294),g=n(785893)},115762:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{label:t,label:n}=e,r=(0,d.default)();(0,u.useListener)(l.LabelCollection,`label_updated_${n}`,(()=>{r()}));const f=l.LabelCollection.get(t);if(!f||!f.name)return null;if("label-list"===e.theme){const n=(0,c.jsx)(s.Labels,{renderAsCircle:"label-list"===e.theme,theme:e.theme,labels:[t]}),r=(0,c.jsx)(o.EmojiText,{text:f.name,ellipsify:!0,titlify:!0});return(0,c.jsx)(i.default,{image:n,primary:r,secondary:a.default.t(391,{count:parseInt(f.count||0,10),_plural:parseInt(f.count||0,10)})})}const h=(0,s.renderLabelSvg)(f.hexColor),p=(0,c.jsx)(o.EmojiText,{text:f.name,ellipsify:!0,titlify:!0});return(0,c.jsx)(i.default,{theme:"label-selection",image:h,primary:p})};var i=r(n(170206)),o=n(305521),a=r(n(932325)),l=n(856311),s=n(129363),d=r(n(969651)),u=n(808446),c=n(785893)},358263:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{shouldScrollIntoViewAndSelect:t,selectedLabels:n,onMultiSelect:r,renderContext:i,onLabelClick:a,initialLabelState:f={}}=e,[h,p]=(0,s.useState)((()=>o.LabelCollection.toArray())),g=(0,s.useRef)(null),m=(e,t,i)=>{null==n||n.setVal(e,t,i),null==r||r(e.id)};(0,d.useListener)(o.LabelCollection,"add remove",((e,n,r)=>{if(p(o.LabelCollection.toArray()),r.add&&t){var i;const{shouldScrollIntoView:n,shouldSelect:r}=t(e.name);n&&(null===(i=g.current)||void 0===i||i.scrollIntoView({behavior:"smooth"})),r&&m(e,!0,!1)}}));const C=(0,s.useMemo)((()=>[...h].sort(((e,t)=>{const n=parseInt(e.id,10),r=parseInt(t.id,10);return isNaN(n)||isNaN(r)?0:n-r}))),[h]);return(0,u.jsx)("div",{children:C.map(((t,r)=>(0,u.jsx)(c,{selectedLabels:n,renderContext:i,onLabelClick:a,initialLabelState:f,onMultiSelect:m,label:t,selectableState:e.SelectableState||new l.default(!0),ref:e=>{r===h.length-1&&(g.current=e)}},t.id)))})};var i=r(n(970622)),o=n(856311),a=r(n(115762)),l=r(n(725863)),s=n(667294),d=n(808446),u=n(785893);const c=(0,s.forwardRef)(((e,t)=>{let{label:n,selectedLabels:r,renderContext:l,onLabelClick:s,initialLabelState:d,onMultiSelect:c,selectableState:f}=e;if(!n.name)return null;const h=o.LabelCollection.assertGet(n.id),p="label-selection"===l?(0,u.jsx)(i.default,{theme:l,model:h,initialSelection:d[n.id]||0,multiSelection:r,selectableState:f,onSelect:c,children:(0,u.jsx)(a.default,{label:n.id})}):(0,u.jsx)(a.default,{label:n.id,theme:l});return(0,u.jsx)("div",{ref:t,onClick:s?s.bind(null,n.id):void 0,children:p},`label_item_${n.id}`)}));c.displayName="LabelRow"},513534:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,sessionId:n}=e,[r,E]=(0,b.useState)(!1),[_,S]=(0,b.useState)(!1),[w,k]=(0,b.useState)(""),T=()=>{c.ModalManager.close()};if(_)return(0,j.jsx)(s.ConfirmPopup,{title:y.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:T,children:(0,j.jsx)(C.TextDiv,{children:y.fbt._("We will review the item and if it meets our guidelines, it will be added to your catalog.",null,{hk:"4tmhbu"})})});const M=w.length<1||r;return(0,j.jsx)(s.ConfirmPopup,{title:y.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:()=>{(0,f.logAppealProductCatalogClick)(n),E(!0);let e=!0;g.QPL.markerStart(p.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL),(0,l.appealProduct)(t.id.toString(),w).then((()=>{t.canAppeal=!1,t.reviewStatus=h.PRODUCT_REVIEW_STATUS.PENDING,(0,f.logAppealProductCatalogSuccess)(n),E(!1),S(!0),e=!1,g.QPL.markerEnd(p.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL,o.QuickLogActionType.SUCCESS)})).catch((0,i.filteredCatch)(a.ServerStatusCodeError,(e=>{x.ToastManager.open((0,j.jsx)(v.Toast,{msg:y.fbt._("Failed to send review request.",null,{hk:"1MNBtG"}),id:(0,v.genId)("catalog_appeal_submission_failed")})),(0,f.logAppealProductCatalogFailed)(n,e.status),E(!1)}))).finally((()=>{e&&g.QPL.markerEnd(p.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL,o.QuickLogActionType.FAIL)}))},onCancel:T,okDisabled:M,children:(0,j.jsxs)("form",{children:[(0,j.jsx)(m.RichTextField,{testid:"confirm-popup-text-input",placeholder:y.fbt._("Enter reason for this request...",null,{hk:"49sHMz"}),onChange:e=>{let{text:t}=e;k(t)},value:w,maxLength:1e3}),(0,j.jsx)(u.ExternalLink,{href:d.default.WA_COMMERCE_POLICY_URL,children:y.fbt._("Learn more",null,{hk:"2S4fxr"})})]})})};var i=n(122583),o=n(15842),a=n(984330),l=n(739071),s=n(103440),d=r(n(846870)),u=n(753233),c=n(114850),f=n(77548),h=n(530485),p=n(316348),g=n(555622),m=n(202391),C=n(180519),v=n(625786),x=n(390737),y=n(548360),b=n(667294),j=n(785893)},761035:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,c.jsx)(d.default,{onCancel:()=>{var t;null===(t=e.onCancel)||void 0===t||t.call(e),l.ModalManager.close()},onConfirm:t=>{const{chat:n,sessionId:r,onSend:o}=e;(0,i.qplStartProductSendMessage)("Attachment",t.length);const a=t.map(((e,t)=>{const i=0===t?n.composeQuotedMsg:null;return n.sendProductMessage(e,i).then((()=>{(0,s.logProductMessageSent)({product:e,catalogSessionId:r})}))}));(0,i.qplEndProductMessageSend)(Promise.all(a)),n.composeQuotedMsg=null,null==o||o(),l.ModalManager.close()},onShare:t=>{const{chat:n,sessionId:r}=e,i=(0,o.createCatalogLink)(t.id.user),d=u.fbt._("Follow this link to view our catalog on WhatsApp: {catalogUrl}",[u.fbt._param("catalogUrl",i)],{hk:"2XU3Oe"}).toString();a.ComposeBoxActions.paste(n,d),(0,s.logSendCatalogClick)({catalogOwnerWid:t.id,catalogSessionId:r}),l.ModalManager.close()}})};var i=n(48360),o=n(22323),a=n(877171),l=n(114850),s=n(77548),d=r(n(614415)),u=n(548360),c=n(785893)},154501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(87630),i=n(103440),o=n(114850),a=n(548360),l=n(785893);var s=()=>{o.ModalManager.open((0,l.jsx)(i.ConfirmPopup,{okText:a.fbt._("OK",null,{hk:"4oTrfy"}),onOK:()=>o.ModalManager.close(),children:(0,l.jsx)(r.ComplianceInfoHelpCenterBanner,{})}))};t.default=s},685957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(103440),i=n(114850),o=n(548360),a=n(785893);var l=e=>{i.ModalManager.open((0,a.jsx)(r.ConfirmPopup,{title:o.fbt._("Information accuracy",null,{hk:"1IkKdC"}),okText:o.fbt._("OK",null,{hk:"4oTrfy"}),onOK:()=>{null==e||e(),i.ModalManager.close()},cancelText:o.fbt._("Go back",null,{hk:"3k17TN"}),onCancel:()=>i.ModalManager.close(),children:(0,a.jsxs)(a.Fragment,{children:[o.fbt._("By continuing, you confirm that all information you have provided is correct and current.",null,{hk:"3VB7Ib"}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),o.fbt._("You are required by law to update this info on WhatsApp if it ever changes.",null,{hk:"3FF6ZU"})]})}))};t.default=l},589134:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(908081)),o=r(n(324093)),a=n(626194),l=r(n(358263)),s=r(n(930440)),d=n(130756),u=n(651919),c=n(548360),f=n(667294),h=r(n(637660)),p=n(785893);function g(e,t){const n=(0,h.default)((()=>new s.default([],(e=>e.id))));return(0,f.useEffect)((()=>{(0,u.logLabelOperationEvent)(d.LABEL_OPERATIONS.VIEW,void 0,d.LABEL_TARGETS.LABELS_SCREEN)}),[]),(0,p.jsxs)(i.default,{ref:t,theme:"settings",children:[(0,p.jsx)(a.DrawerHeader,{title:c.fbt._("Labels",null,{hk:"t1hII"}),onBack:e.onClose,type:a.DRAWER_HEADER_TYPE.LARGE}),(0,p.jsx)(o.default,{children:(0,p.jsx)(l.default,{shouldScrollIntoViewAndSelect:()=>({shouldScrollIntoView:!0,shouldSelect:!1}),selectedLabels:n.current,renderContext:"label-list",onLabelClick:e.onLabelClick})})]})}var m=(0,f.forwardRef)(g);t.default=m},457349:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(793458),o=r(n(638938)),a=n(103440),l=r(n(908081)),s=r(n(324093)),d=n(626194),u=r(n(932325)),c=n(856311),f=n(129363),h=r(n(801056)),p=n(114850),g=n(772358),m=n(608834),C=r(n(930440)),v=r(n(634152)),x=n(130756),y=n(651919),b=n(548360),j=n(667294),E=r(n(969651)),_=r(n(637660)),S=n(808446),w=n(785893);function k(e,t){const{labelId:n,onRemoveLabel:r}=e,k=(0,E.default)(),T=(0,_.default)((()=>new C.default([],(e=>e.id.toString())))).current;(0,S.useListener)(T,"all",(()=>k())),(0,j.useEffect)((()=>{(0,y.logLabelOperationEvent)(x.LABEL_OPERATIONS.VIEW,void 0,x.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}),[]);const M=()=>{T.unsetAll()},I=()=>{const e=T.getSelected();(0,y.logLabelOperationEvent)(x.LABEL_OPERATIONS.CLICK_NEGATIVE,e.length,x.LABEL_TARGETS.BULK_UNLABEL_DIALOG),p.ModalManager.close()},P=(e=>{let t,n;for(let r=0;r<e.length;r++){if(e[r]instanceof g.Msg?n=!0:t=!0,t&&n)return!0}return!1})(T.getSelected()),D=T.getSelected().length>0?(0,w.jsx)(h.default,{labelEditEnabled:!P,onRemoveLabel:()=>{const e=T.getSelected();if(!r)return;const t=c.LabelCollection.assertGet(n);(0,y.logLabelOperationEvent)(x.LABEL_OPERATIONS.VIEW,e.length,x.LABEL_TARGETS.BULK_UNLABEL_DIALOG),p.ModalManager.open((0,w.jsx)(a.ConfirmPopup,{title:u.default.t(533,{count:e.length,labelName:t.name,_plural:e.length}),okText:b.fbt._("OK",null,{hk:"4oTrfy"}),cancelText:b.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:I,onOK:()=>((e,t)=>{p.ModalManager.close(),M(),r(e,t),(0,y.logLabelOperationEvent)(x.LABEL_OPERATIONS.CLICK_POSITIVE,t.length,x.LABEL_TARGETS.BULK_UNLABEL_DIALOG)})(n,e)}))},selectedModels:T,onCancel:M,theme:"drawer-header",multiSelectEntryPoint:m.MultiSelectEntryPoint.Label}):(0,w.jsx)(d.DrawerHeader,{onBack:e.onClose,type:d.DRAWER_HEADER_TYPE.LABELS,children:(0,w.jsx)(f.Labels,{labels:[e.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"})});return(0,w.jsxs)(l.default,{ref:t,theme:"settings",children:[D,(0,w.jsx)(s.default,{children:(0,w.jsx)(i.ChatlistPanel,{hideMultiSelectBar:!0,multiSelection:T,labelFilter:e.labelId,settings:v.default,mode:o.default.Chatlist,selectable:!0})})]})}var T=(0,j.forwardRef)(k);t.default=T},131929:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(66604)),o=r(n(692629)),a=r(n(908081)),l=r(n(324093)),s=n(626194),d=r(n(932325)),u=n(856311),c=r(n(358263)),f=n(118612),h=r(n(930440)),p=n(163139),g=n(130756),m=n(651919),C=n(548360),v=n(667294),x=r(n(156720)),y=r(n(969651)),b=r(n(637660)),j=n(785893);const E={display:"p357zi0d",justifyContent:"kcgo1i74",paddingTop:"i5tg98hk",paddingEnd:"lk91ofgv",paddingBottom:"r219jyu0",paddingStart:"gx1rr48f"},_=0,S=1,w=2;function k(e,t){const{modelsToUpdate:n,onLabelUpdateComplete:r}=e,k=(0,b.default)((()=>new h.default([],(e=>e.id)))),T=(0,v.useRef)(new Set),M=k.current,I=T.current,P=(0,y.default)(),D=(0,v.useMemo)((()=>{const e=(()=>{const e={};return n.forEach((t=>{const n=(0,p.unproxy)(t);n.labels&&n.labels.forEach((t=>{e[t]=e[t]?++e[t]:1}))})),e})();return(0,i.default)(e,(e=>e===n.length?S:e>0?w:_))}),[]),L=(0,j.jsx)(o.default,{testid:"popup-controls-ok",type:"primary",disabled:0===I.size,onClick:()=>{(0,m.logLabelOperationEvent)(g.LABEL_OPERATIONS.CLICK_POSITIVE,n.length,g.LABEL_TARGETS.LABEL_COMBINED_DIALOG);const e=M.list,t=M.selected,i=e.map(((e,n)=>({id:e.id,type:t[n]?"add":"remove"})));u.LabelCollection.addOrRemoveLabels(i,n),r()},children:d.default.t(542)},1),R=(0,j.jsx)(o.default,{testid:"popup-controls-cancel",type:"secondary",onClick:e.onCancel,children:C.fbt._("Cancel",null,{hk:"H0gNq"})},0);return(0,j.jsx)(f.Modal,{ref:t,type:f.ModalTheme.Tower,children:(0,j.jsxs)(a.default,{theme:"labels",children:[(0,j.jsx)(s.DrawerHeader,{title:C.fbt._("Label items",null,{hk:"2xOVMD"}),type:s.DRAWER_HEADER_TYPE.POPUP,onCancel:e.onCancel}),(0,j.jsx)(l.default,{"data-list-scroll-container":!0,theme:"padding",children:(0,j.jsx)(c.default,{shouldScrollIntoViewAndSelect:e.shouldScrollIntoViewAndSelect,initialLabelState:D,selectedLabels:M,renderContext:"label-selection",onMultiSelect:e=>{e&&(D[e]===w?I.add("{labelId}_changed"):I.has(e)?I.delete(e):I.add(e),P())}})}),(0,j.jsxs)("div",{className:(0,x.default)(E),children:[R,L]})]},"mange_label_modal")})}var T=(0,v.forwardRef)(k);t.default=T},452770:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(93095),o=r(n(441033)),a=r(n(908081)),l=r(n(324093)),s=n(626194),d=n(811720),u=n(512938),c=r(n(570834)),f=n(390185),h=n(114850),p=r(n(835730)),g=n(775579),m=n(794968),C=n(435595),v=n(548360),x=n(667294),y=r(n(156720)),b=r(n(637660)),j=n(808446),E=n(785893);const _={position:"lhggkp7q",bottom:"n803nsoz",end:"l5wf47vo",zIndex:"nbczt5ty"};function S(e,t){const n=()=>g.QuickReplyCollection.filter((e=>e.type===m.QuickReplyTypes.TEXT)).map((e=>({itemKey:e.id,quickReply:e}))),[r,S]=(0,x.useState)(n);(0,j.useListener)(g.QuickReplyCollection,"add change remove",(()=>{S(n())}));const w=v.fbt._("Quick Replies",null,{hk:"2sLQo1"}),k=(0,b.default)((()=>new c.default)),T=r.length>0?(0,E.jsx)(u.FlatList,{data:r,direction:"vertical",flatListController:k.current,renderItem:e=>(0,E.jsx)(p.default,{quickReply:e.quickReply}),keyOrder:f.KeyOrder.INVERSE}):(0,E.jsx)(d.NoQuickReplies,{}),M=(0,E.jsx)(C.Round,{onClick:()=>{h.ModalManager.open((0,E.jsx)(o.default,{quickReply:null}))},className:(0,y.default)(_),large:!0,testid:"quick-replies-drawer-add-button",children:(0,E.jsx)(i.AddAlt2Icon,{})});return(0,E.jsxs)(a.default,{ref:t,children:[(0,E.jsx)(s.DrawerHeader,{title:w,onBack:e.onBack,type:s.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,E.jsx)(l.default,{flatListControllers:[k.current],children:T}),M]})}var w=(0,x.forwardRef)(S);t.default=w},441033:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const{quickReply:r}=e,[j,E]=(0,C.useState)(null!==(t=null==r?void 0:r.shortcut)&&void 0!==t?t:""),[_,S]=(0,C.useState)(null!==(n=null==r?void 0:r.message)&&void 0!==n?n:""),[w,k]=(0,C.useState)(null),[T,M]=(0,C.useState)(null),I=e=>{const t=function(e){if(""===e.trim())return x.ShortcutEmpty;if(!y.test(e))return x.ShortcutInvalid;return null}(e);E(e),k(t?b(t):null)},P=e=>{const t=function(e){if(""===e.trim())return x.MessageEmpty;return null}(e);S(e),M(t?b(t):null)},D=function(){var e=(0,i.default)((function*(){if(j!==(null==r?void 0:r.shortcut)&&s.QuickReplyCollection.some((e=>j===e.shortcut)))throw(0,g.default)(x.ShortcutAlreadyInUse);if(r){const e={id:r.id,shortcut:j,message:_,count:0,keywords:r.keywords};yield(0,o.editQuickReply)(e)}else yield(0,o.addQuickReply)({shortcut:j,message:_,count:0,keywords:[]})}));return function(){return e.apply(this,arguments)}}();return(0,v.jsx)(u.default,{title:m.fbt._("Add quick reply",null,{hk:"1nJfz0"}),doSave:D,afterSave:()=>{h.ToastManager.open((0,v.jsx)(f.Toast,{msg:m.fbt._("Quick reply saved",null,{hk:"3akZvv"})}))},onError:e=>{var t;const n=null!==(t=x.cast(e.message))&&void 0!==t?t:x.SaveFailed;h.ToastManager.open((0,v.jsx)(f.Toast,{msg:b(n)}))},isValid:[j,_].every((e=>e))&&![w,T].some((e=>e)),modalConfig:{type:l.ModalTheme.QuickReplies},children:(0,v.jsxs)(a.FlexColumn,{align:"stretch",xstyle:p.uiPadding.all30,children:[(0,v.jsx)(d.RichTextField,{maxLength:25,placeholder:m.fbt._("Shortcut",null,{hk:"2NZG9y"}),value:j,error:w,onChange:e=>{let{text:t}=e;return I(t)},showRemaining:!0,focusOnMount:!0,testid:"quick-replies-modal-shortcut"}),(0,v.jsx)(d.RichTextField,{placeholder:m.fbt._("Reply message",null,{hk:"3VBHqV"}),value:_,error:T,multiline:!0,supportsEmoji:!0,onChange:e=>{let{text:t}=e;return P(t)},theme:"contact-us",testid:"quick-replies-modal-message"}),(0,v.jsx)(c.WDSTextSmall,{as:"p",children:m.fbt._("Disclaimer about the lack of support for media, pointing user to primary device",null,{hk:"1wXB1C"})})]})})};var i=r(n(348926)),o=n(752819),a=n(690495),l=n(118612),s=n(775579),d=n(202391),u=r(n(103701)),c=n(180519),f=n(625786),h=n(390737),p=n(676345),g=r(n(556869)),m=n(548360),C=n(667294),v=n(785893);const x=n(76672).Mirrored(["ShortcutAlreadyInUse","ShortcutEmpty","ShortcutInvalid","MessageEmpty","SaveFailed"]),y=/^(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BEF\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D66-\u0D6F\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F29\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD30-\uDD39\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC66-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF39]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+$/;function b(e){switch(e){case x.ShortcutAlreadyInUse:return m.fbt._("Shortcut is already in use",null,{hk:"4EExzT"});case x.ShortcutEmpty:return m.fbt._("Shortcut can't be empty",null,{hk:"4FkhD"});case x.ShortcutInvalid:return m.fbt._("Shortcut may not contain spaces or any punctuations or emojis",null,{hk:"1v2jRR"});case x.MessageEmpty:return m.fbt._("Add a message before saving",null,{hk:"1Xk3Ib"});case x.SaveFailed:return m.fbt._("Failed to save the quick reply",null,{hk:"3ssSB7"})}}},804005:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(122583),o=r(n(670983)),a=n(15842),l=n(984330),s=r(n(120162)),d=n(72696),u=n(778945),c=n(542358),f=n(63014),h=n(780549),p=n(103440),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(27578)),m=r(n(908081)),C=r(n(324093)),v=n(36045),x=n(626194),y=n(900316),b=r(n(969358)),j=r(n(570834)),E=r(n(932325)),_=n(114850),S=n(772358),w=n(699411),k=r(n(94530)),T=n(873994),M=r(n(601086)),I=r(n(707769)),P=r(n(568414)),D=n(498703),L=n(180519),R=n(676345),O=n(459857),A=n(887222),N=n(130756),B=n(669050),F=n(548360),H=n(667294),U=r(n(156720)),G=r(n(637660)),z=n(785893);function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}const V={backgroundColor:"ihvf49ua"};function W(e){let{chat:t,value:n,onSubmit:r,onChange:i}=e;return(0,z.jsx)("div",{className:(0,U.default)(R.uiPadding.vert0,R.uiPadding.horiz18),children:(0,z.jsx)(M.default,{chat:t,onChange:i,onSubmit:r,value:n,placeholder:F.fbt._("Add a cancelation note",null,{hk:"22DPGj"})})})}function Y(e){let{sellerJid:t,order:n,onCreateOrderClick:r,onDeclineOrderClick:i}=e;return(0,B.createUserWid)(t).equals((0,O.getMaybeMeUser)())?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(b.default,{children:(0,z.jsx)(v.DrawerButton,{testid:"order-create",color:"dark",onClick:r,children:F.fbt._("Create order",null,{hk:"1S0Pla"})})}),(0,z.jsx)(b.default,{children:(0,z.jsx)(v.DrawerButton,{testid:"order-decline",color:"dark",onClick:i,children:F.fbt._("Decline order",null,{hk:"1YQsHY"})})})]}):null}function Z(e){let{cancellationMessage:t,chat:n,fetchState:r,flatListController:i,isLoading:a,onOrderCancel:l,onOrderCreate:s,onProductDetail:u,order:c,ownerHasReviewed:h,sellerJid:p,sendCancelMessage:m,setCancellationMessage:C}=e;if(a||null==c)return(0,z.jsx)(P.default,{fetchState:r});let v="";v=c.products.length>0?E.default.t(391,{count:c.totalItemCount||0,_plural:c.totalItemCount||0}):F.fbt._("No Items",null,{hk:"3x8YcR"});const x=(0,z.jsx)(L.TextDiv,{theme:"title",children:v});let y=null;const j=c.products.reduce(((e,t)=>null==t.price?e:(e||0)+t.price*t.quantity),null),_=c.products.reduce(((e,t)=>null==t.currency?e:t.currency),null);y=null!=j&&null!=_?E.default.t(511,{subtotal:g.formatAmount1000(_,j)}):F.fbt._("No price entered",null,{hk:"1vzCQg"});const S=(0,z.jsx)(L.WDSTextSmall,{as:"div",children:y});let w=null;if(null!=c.createdAt){const e=f.Clock.timeStr(c.createdAt);w=(0,z.jsx)(L.WDSTextSmall,{children:`${e}`})}return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(b.default,{children:[(0,z.jsx)(P.default,{fetchState:r}),(0,z.jsxs)("div",{className:(0,U.default)(V,R.uiPadding.all18),children:[x,S]}),(0,z.jsx)(I.default,{flatListController:i,onProductDetail:u,order:c,sellerJid:p}),(0,z.jsx)("div",{className:(0,U.default)(V,R.uiPadding.all18),children:w}),h?(0,z.jsx)(W,{chat:n,value:t,onSubmit:m,onChange:C}):null]}),(0,d.orderDetailsFromCartEnabled)()&&!h?(0,z.jsx)(Y,{sellerJid:p,order:c,onCreateOrderClick:()=>s((0,o.default)(c,"order")),onDeclineOrderClick:l}):null]})}function K(e,t){const{userIsCartOwner:n,orderId:r,token:o,sellerJid:d,onProductDetail:f,onOrderCreate:g,ownerHasReviewed:v,chat:b,orderMessage:M,onOrderCancel:I,isPushed:P=!0}=e,[L,R]=(0,H.useState)(!0),[B,U]=(0,H.useState)("PENDING"),[q,V]=(0,H.useState)(null),[W,Y]=(0,H.useState)(""),K=(0,G.default)((()=>new j.default));(0,H.useEffect)((()=>{w.OrderCollection.findOrder(r,d,o).then((e=>{R(!1),U("SUCCESS"),V(e),P&&((0,A.qplAnnotateOrderView)((null==e?void 0:e.products.length)||0),(0,A.qplEndOrderView)(a.QuickLogActionType.SUCCESS))})).catch((0,i.filteredCatch)(l.E404,(()=>{_.ModalManager.open((0,z.jsx)(p.ConfirmPopup,{onOK:()=>{_.ModalManager.close()},okText:F.fbt._("OK",null,{hk:"4oTrfy"}),children:F.fbt._("The seller has deleted your sent cart. Contact the seller for more information.",null,{hk:"1bBDJ6"})})),R(!1),U("ERROR"),(0,A.qplDropOrderView)()}))).catch((()=>{R(!1),U("ERROR"),__LOG__(4,!0,new Error,!0)`Catalog Order Display failed`,SEND_LOGS("OrderDetails: failed to display"),P&&(0,A.qplEndOrderView)(a.QuickLogActionType.FAIL)}))}),[]);const X=()=>{y.DrawerManager.closeDrawerRight()};return(0,z.jsxs)(m.default,{ref:t,theme:"striped",onDrop:X,children:[(0,z.jsx)(x.DrawerHeader,{title:n?F.fbt._("Your sent cart",null,{hk:"2rB2j3"}):E.default.t(169),type:x.DRAWER_HEADER_TYPE.SMALL,onBack:X}),(0,z.jsx)(C.default,{children:(0,z.jsx)(Z,{cancellationMessage:W,chat:b,fetchState:B,flatListController:K.current,isLoading:L,onOrderCancel:I,onOrderCreate:g,onProductDetail:f,ownerHasReviewed:v,order:q,sellerJid:d,sendCancelMessage:()=>{if(X(),null!=M){new T.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:N.ORDER_DETAILS_CREATION_ACTION.SEND_DECLINE_CART,actionCategory:String(k.default.RECEIVED_CART),orderDetailEntryPoint:String(s.default.FROM_CART),hasNote:Boolean(W),hasCatalog:(0,c.hasCatalog)(u.BusinessProfileCollection.get((0,O.getMaybeMeUser)()))}).commit();const e=F.fbt._("We have canceled your order.",null,{hk:"3cbQBD"}).toString()+"\n"+W;(0,D.sendTextMsgToChat)(b,e,{quotedMsg:new S.Msg(M)})}h.Cmd.openChatFromUnread(b)},setCancellationMessage:Y})})]})}var X=(0,H.forwardRef)(K);t.default=X},275687:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(72696),o=n(778945),a=n(542358),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(27578)),s=r(n(908081)),d=r(n(324093)),u=n(36045),c=n(626194),f=r(n(969358)),h=n(690495),p=r(n(469733)),g=r(n(453823)),m=n(238977),C=r(n(94530)),v=n(873994),x=r(n(535407)),y=r(n(210762)),b=r(n(697944)),j=n(620982),E=n(832545),_=n(956113),S=n(25192),w=n(220584),k=n(180519),T=n(676345),M=r(n(280384)),I=n(459857),P=n(130756),D=n(548360),L=n(667294),R=n(785893);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function A(e,t){var n,r;const p=(0,I.getMeUser)(),{chat:_,orderInfo:O,sellerWid:A}=e,{referenceId:B,discount:F,tax:H,shipping:U,subtotal:G,totalAmount:z}=O,{orderItems:q,isLoading:V}=(0,M.default)(O,A),W=(0,L.useMemo)((()=>(0,j.findOrderStatus)(_,B)),[_,B]);return(0,L.useEffect)((()=>{new v.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:P.ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS,actionCategory:String(C.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasCatalog:(0,a.hasCatalog)(o.BusinessProfileCollection.get((0,I.getMaybeMeUser)()))}).commit()}),[e.entryPoint]),null==G?null:(0,R.jsxs)(s.default,{onDrop:e.onBack,ref:t,children:[(0,R.jsx)(c.DrawerHeader,{title:D.fbt._("Order details",null,{hk:"2HeBLz"}),onBack:e.onBack,type:c.DRAWER_HEADER_TYPE.SMALL}),(0,R.jsx)(d.default,{theme:V?"center-content":void 0,children:V?(0,R.jsx)(N,{}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.default,{xstyle:[T.uiPadding.top20,T.uiPadding.bottom15],children:(0,R.jsxs)(x.default,{children:[(0,R.jsx)(y.default,{testid:"order-status-container",orderId:O.referenceId,sellerWid:A,orderStatus:(0,R.jsx)(b.default,{orderStatus:W})}),(0,R.jsx)(g.default,{details:!0,currency:O.currency,items:q}),(0,R.jsx)(E.OrderValues,{tax:null!=H?H*m.DEFAULT_OFFSET:null,discount:null!=F?F*m.DEFAULT_OFFSET:null,shipping:null!=U?U*m.DEFAULT_OFFSET:null,subtotal:G*m.DEFAULT_OFFSET,currency:O.currency,canDisplayAdditionalCharges:!0}),(0,R.jsxs)(h.FlexRow,{justify:"all",xstyle:T.uiPadding.horiz16,testid:"order-details-total-row",children:[(0,R.jsx)(k.TextSpan,{theme:"title",children:D.fbt._("Total",null,{hk:"7xRrT"})}),(0,R.jsx)(k.TextSpan,{theme:"title",children:l.formatAmount(O.currency,z)})]})]})}),[j.OrderStatus.Canceled,j.OrderStatus.Complete].every((e=>W!==e))&&p.user===A.user&&(0,R.jsx)(f.default,{children:(0,R.jsx)(u.DrawerButton,{icon:(0,R.jsx)(S.StatusClockIcon,{color:w.SvgColorProp.TEAL,width:20}),testid:"order-status-update",color:"dark",onClick:()=>{var t;null===(t=e.onOrderStatusUpdateClick)||void 0===t||t.call(e)},children:D.fbt._("Update order status",null,{hk:"4j4YaZ"})})}),p.user===A.user&&(null!==(n=null===(r=(0,i.getOrdersExpansionAllowedCountries)())||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0&&(0,R.jsx)(f.default,{children:(0,R.jsxs)(u.DrawerButton,{icon:(0,R.jsx)(S.StatusClockIcon,{width:20}),testid:"order-payment-details",color:"dark",disabled:!0,onClick:()=>{},children:[(0,R.jsx)(k.TextDiv,{size:"16",children:D.fbt._("Payment details",null,{hk:"2J0d9B"})}),(0,R.jsx)(k.TextDiv,{size:"12",children:D.fbt._("To see payment details, open WhatsApp on your phone.",null,{hk:"aeAA6"})})]})})]})})]})}function N(){return(0,R.jsx)(h.FlexRow,{align:"center",justify:"center",testid:"order-detail-drawer-loading",children:(0,R.jsx)(p.default,{children:(0,R.jsx)(_.Spinner,{})})})}var B=(0,L.forwardRef)(A);t.default=B},402590:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{productItems:t}=e,n=t.map((e=>({itemKey:e.id.toString(),product:e})));return(0,l.jsx)(o.default,{flatListControllers:[e.flatListController],children:(0,l.jsx)(i.FlatList,{testid:"order-detail-product-list",flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:n,renderItem:e=>{let{product:t}=e;return(0,l.jsx)(a.default,{product:t})},defaultItemHeight:60})})};var i=n(512938),o=r(n(964223)),a=r(n(47178)),l=n(785893)},59380:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(908081)),o=r(n(324093)),a=n(626194),l=r(n(969358)),s=r(n(570834)),d=r(n(402590)),u=n(548360),c=n(667294),f=(r(n(156720)),r(n(637660))),h=n(785893);const p={container:{paddingTop:"emrlamx0",paddingEnd:"folpon7g",paddingBottom:"aiput80m",paddingStart:"lyvj5e2u"}};function g(e,t){const{productItems:n}=e,r=(0,f.default)((()=>new s.default));return(0,h.jsxs)(i.default,{onDrop:e.onBack,ref:t,children:[(0,h.jsx)(a.DrawerHeader,{title:u.fbt._("Items",null,{hk:"3B8pMI"}),onBack:e.onBack,type:a.DRAWER_HEADER_TYPE.SMALL}),(0,h.jsx)(o.default,{flatListControllers:[r.current],children:(0,h.jsx)(l.default,{xstyle:p.container,theme:"refresh-padding-title",children:(0,h.jsx)(d.default,{flatListController:r.current,productItems:n})})})]})}var m=(0,c.forwardRef)(g);t.default=m},47178:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{product:n}=e,r=(0,f.jsx)(a.EmojiText,{text:n.name,ellipsify:!0,titlify:!0}),h=(0,f.jsx)(s.OrderItemIcon,{useCustomIcon:!1===Boolean(n.mediaData),mediaData:null!==(t=n.mediaData)&&void 0!==t?t:null});let p=null;if(n.quantity){const e=l.default.t(512,{quantity:n.quantity.toString()});p=(0,f.jsx)(d.TextSpan,{children:e})}let g=null;g=(0,c.isNonZeroNumber)(n.price)?o.formatAmount1000(n.currency,n.price):u.fbt._("Ask for price",null,{hk:"3t7lv2"});const m=(0,f.jsx)(d.TextSpan,{children:g});return(0,f.jsx)(i.default,{image:h,customImage:!0,primary:r,secondary:p,detail:m,theme:"media"})};var i=r(n(170206)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(27578)),a=n(305521),l=r(n(932325)),s=n(114459),d=n(180519),u=n(548360),c=n(113189),f=n(785893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}},411151:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{testid:t,label:n,isCanceled:r,checked:u,onClick:c}=e;return(0,s.jsx)(a.default,{onClick:c,testid:null!=t?t:"",children:(0,s.jsxs)(o.FlexRow,{children:[(0,s.jsx)(o.FlexColumn,{xstyle:d.checkboxContainer,children:(0,s.jsx)(i.default,{checked:u,radio:!0,hover:!1,systemUncheckedColor:!0,onChange:()=>{c()}})}),(0,s.jsx)("div",{className:r?(0,l.default)(d.canceledStyle):null,children:n})]})})};var i=r(n(46650)),o=n(690495),a=r(n(625903)),l=r(n(156720)),s=n(785893);const d={canceledStyle:{color:"mvxzr2tb"},checkboxContainer:{paddingStart:"nqtxkp62",paddingEnd:"h1a80dm5"}}},601086:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.default,{transitionName:"media-caption",className:(0,d.default)(c),children:(0,u.jsx)("div",{children:(0,u.jsx)(o.RichTextField,{maxLength:i.default.MAX_CART_MESSAGE_LENGTH,placeholder:e.placeholder,value:e.value,multiline:!0,showRemaining:!0,spellCheck:!0,supportsEmoji:!0,textFormatEnabled:!0,onEnter:()=>{!0!==e.disabled&&e.onSubmit()},onChange:t=>e.onChange(t.text)})})}),(0,u.jsx)(s.default,{appear:!0,transitionName:"btn",children:(0,u.jsx)("button",{disabled:e.disabled,"data-testid":e.testid,className:(0,d.default)(f),tabIndex:"-1",onClick:()=>e.onSubmit(),title:e.buttonTitle,children:(0,u.jsx)(a.Round,{disabled:e.disabled,children:(0,u.jsx)(l.SendIcon,{width:18,directional:!0})})})})]})};var i=r(n(846870)),o=n(202391),a=n(435595),l=n(430484),s=r(n(844453)),d=r(n(156720)),u=n(785893);const c={display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",zIndex:"mb8var44",position:"g0rxnol2",marginBottom:"mggyuyyy"},f={color:"svlsagor",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",opacity:"axi1ht8l",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",position:"lhggkp7q",right:"q82cfhbg",bottom:"efio351b",textAlign:"qfejxiq4"}},351640:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(919175),o=n(780549),a=r(n(908081)),l=r(n(324093)),s=n(626194),d=n(900316),u=r(n(969358)),c=n(238977),f=r(n(94530)),h=n(873994),p=r(n(601086)),g=n(620982),m=n(676345),C=n(130756),v=n(548360),x=n(667294),y=n(785893);function b(e,t){const[n,r]=(0,x.useState)(""),{chat:b,sellerJid:j,orderInfo:E}=e,_=(0,x.useMemo)((()=>(0,g.findOrderStatus)(e.chat,e.orderInfo.referenceId)),[e.chat,e.orderInfo.referenceId]),S=v.fbt._("Add a note",null,{hk:"1Snn3r"});return(0,y.jsxs)(a.default,{onDrop:e.onBack,ref:t,children:[(0,y.jsx)(s.DrawerHeader,{title:v.fbt._("Mark as paid",null,{hk:"2aij4u"}),onBack:e.onBack,type:s.DRAWER_HEADER_TYPE.SMALL}),(0,y.jsx)(l.default,{children:(0,y.jsx)(u.default,{xstyle:[m.uiPadding.top8,m.uiPadding.horiz16],theme:"refresh-padding-title",children:(0,y.jsx)(p.default,{chat:e.chat,placeholder:S,value:n,onChange:r,onSubmit:()=>{d.DrawerManager.closeDrawerRight(),(0,i.sendOrderPaymentStatusMessageAsMerchant)({chat:b,sellerJid:j,orderInfo:E,orderNote:n,orderStatus:_,offset:c.DEFAULT_OFFSET}).then((()=>{(()=>{var t,r,i;const o=null!==(t=null===(r=E.externalPaymentConfigurations)||void 0===r||null===(i=r.at(0))||void 0===i?void 0:i.type)&&void 0!==t?t:"no_method_confirmed";new h.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:C.ORDER_DETAILS_CREATION_ACTION.SEND_MARK_AS_PAID,actionCategory:String(f.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasNote:Boolean(n),paymentStatus:!0,paymentType:o}).commit()})()})).catch((()=>{__LOG__(4,void 0,new Error)`Failed to mark order as paid`})),o.Cmd.openChatFromUnread(b).catch((()=>{__LOG__(4,void 0,new Error)`Failed to open chat after mark order as paid`}))},buttonTitle:S,testid:"order-mark-as-paid-button",disabled:!1})})})]})}var j=(0,x.forwardRef)(b);t.default=j},707769:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{order:t,onProductDetail:n,sellerJid:r}=e,h=e=>{const n=t.orderItemCollection.toArray();return(0,l.logOrderListImpression)({catalogContext:e,orderId:t.id,productCount:n.length,catalogOwnerJid:r}),n.map((e=>({itemKey:e.id.toString(),product:e})))};return(0,f.jsx)(i.DrawerContext.Consumer,{children:t=>{const i=(0,u.getProductCatalogContext)(t);return(0,f.jsx)(a.default,{flatListControllers:[e.flatListController],children:(0,f.jsx)(o.FlatList,{testid:"order-product-list",flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:h(i),renderItem:t=>(0,f.jsx)(s.default,{product:t.product,onClick:()=>((t,i)=>{const o={productId:t.product.id,businessOwnerJid:r};(0,c.qplStartProductView)("Order"),(0,l.logOrderListItemClick)({catalogContext:i,orderId:e.order.id,catalogOwnerJid:r}),n(o)})(t,i)}),defaultItemHeight:d.PRODUCT_LIST_ITEM_HEIGHT})})}})};var i=n(568550),o=n(512938),a=r(n(964223)),l=n(71977),s=r(n(115893)),d=n(899841),u=n(932523),c=n(887222),f=n(785893)},115893:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,onClick:n}=e,r=(0,h.jsx)(a.EmojiText,{text:t.name,ellipsify:!0,titlify:!0}),p=(0,h.jsx)(l.ProductThumb,{mediaData:t.mediaData,theme:"list"}),g=u.fbt._("Quantity {item-quantity}",[u.fbt._param("item-quantity",t.quantity)],{hk:"102wGk"});let m=null;t.quantity&&(m=(0,h.jsx)(s.TextSpan,{className:(0,f.default)(d.uiMargin.vert0,d.uiMargin.start0,d.uiMargin.end6),children:g}));let C=null;(0,c.isNonZeroNumber)(t.price)&&(C=(0,h.jsx)(s.TextSpan,{className:(0,f.default)(d.uiMargin.vert0,d.uiMargin.start0,d.uiMargin.end6),children:o.formatAmount1000(t.currency,t.price)}));let v=null;null!=C&&(v=(0,h.jsx)("span",{className:(0,f.default)(d.uiMargin.vert0,d.uiMargin.start0,d.uiMargin.end6),children:"â¢"}));const x=(0,h.jsxs)("div",{children:[C,v,m]});return(0,h.jsx)(i.default,{image:p,customImage:!0,primary:r,secondary:x,theme:"order-product",onClick:n},t.id.toString())};var i=r(n(170206)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(27578)),a=n(305521),l=n(493770),s=n(180519),d=n(676345),u=n(548360),c=n(113189),f=r(n(156720)),h=n(785893);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}},249118:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(818670),o=n(919175),a=n(778945),l=n(542358),s=n(780549),d=n(103440),u=r(n(908081)),c=r(n(324093)),f=n(626194),h=n(900316),p=r(n(969358)),g=n(690495),m=n(114850),C=n(238977),v=r(n(411151)),x=r(n(94530)),y=n(873994),b=r(n(601086)),j=n(620982),E=n(676345),_=n(459857),S=n(130756),w=n(548360),k=n(667294),T=(r(n(156720)),n(785893));const M=[j.OrderStatus.Processing,j.OrderStatus.Shipped,j.OrderStatus.Complete,j.OrderStatus.Canceled],I={checkboxContainer:{gap:"n8lfltvd"}};function P(e,t){const[n,r]=(0,k.useState)(""),P=(0,k.useMemo)((()=>(0,j.findOrderStatus)(e.chat,e.orderInfo.referenceId)),[e.chat,e.orderInfo.referenceId]),[D,L]=(0,k.useState)(P),{chat:R,sellerJid:O,orderInfo:A}=e;function N(){h.DrawerManager.closeDrawerRight(),new y.OrderDetailsActionsSmbWamEvent({orderDetailsCreationAction:S.ORDER_DETAILS_CREATION_ACTION.SEND_ORDER_STATUS,actionCategory:String(x.default.ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasCatalog:(0,l.hasCatalog)(a.BusinessProfileCollection.get((0,_.getMaybeMeUser)())),hasNote:Boolean(n)}).commit(),(0,o.sendOrderStatusMessageAsMerchant)({chat:R,sellerJid:O,orderInfo:A,orderNote:n,orderStatus:D,offset:C.DEFAULT_OFFSET}),s.Cmd.openChatFromUnread(R)}function B(e){return M.findIndex((t=>t===e))}const F=w.fbt._("Add a note",null,{hk:"37dHqT"});return(0,T.jsxs)(u.default,{onDrop:e.onBack,ref:t,children:[(0,T.jsx)(f.DrawerHeader,{title:w.fbt._("Update order status",null,{hk:"2pK0VF"}),onBack:e.onBack,type:f.DRAWER_HEADER_TYPE.SMALL}),(0,T.jsxs)(c.default,{children:[(0,T.jsx)(p.default,{xstyle:[E.uiPadding.vert20,E.uiPadding.horiz16],theme:"refresh-padding-title",children:(0,T.jsx)(g.FlexColumn,{xstyle:I.checkboxContainer,children:M.map((e=>(0,T.jsx)(v.default,{testid:"order-status-select-option",label:i.OrderStatusLabels[e],isCanceled:e===j.OrderStatus.Canceled,checked:D===e,onClick:()=>{L(e)}},e)))})}),(e.chat,A.items.length,null),(0,T.jsx)(p.default,{xstyle:[E.uiPadding.top8,E.uiPadding.horiz16],theme:"refresh-padding-title",children:(0,T.jsx)(b.default,{chat:e.chat,placeholder:F,value:n,onChange:r,onSubmit:function(){const e=B(D),t=B(P);e===t?m.ModalManager.open((0,T.jsx)(d.ConfirmPopup,{title:w.fbt._("Status already sent",null,{hk:"3GmLDK"}),okText:w.fbt._("OK",null,{hk:"4oTrfy"}),onOK:()=>{m.ModalManager.close()},children:w.fbt._("Your have already updated this order to {originalOrderStatus}",[w.fbt._param("originalOrderStatus",i.OrderStatusLabels[P])],{hk:"1C6myK"})})):e<t?m.ModalManager.open((0,T.jsx)(d.ConfirmPopup,{title:w.fbt._("Update sent status?",null,{hk:"Vz57T"}),okText:w.fbt._("Update",null,{hk:"1b5vbz"}),onOK:()=>{N(),m.ModalManager.close()},cancelText:w.fbt._("Cancel",null,{hk:"9jDpn"}),onCancel:()=>{m.ModalManager.close()},children:w.fbt._("Your customer has already seen this order marked as {originalOrderStatus}. Do you want update it to {orderStatus}?",[w.fbt._param("originalOrderStatus",i.OrderStatusLabels[P]),w.fbt._param("orderStatus",i.OrderStatusLabels[D])],{hk:"3MuiJd"})})):N()},buttonTitle:F,testid:"order-status-update-button"})})]})]})}var D=(0,k.forwardRef)(P);t.default=D},280384:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=(0,l.default)(t),[r,f]=(0,u.useState)([]),[h,p]=(0,u.useState)(!0),g=(0,c.default)(),m=(0,u.useCallback)((()=>null==n?new Map:n.productCollection.getProductModels().reduce(((e,t)=>{var n;return e.set(t.id.toString(),null===(n=t.getPreviewImage())||void 0===n?void 0:n.mediaUrl)}),new Map)),[n]),C=(0,u.useCallback)((t=>{if(null==n)return Promise.resolve([]);const r=e.items.reduce(((e,r)=>{if(r.isCustomItem||null!=t.get(r.id))return e;const i=a.CatalogCollection.findProduct({catalogWid:n.id,productId:r.id});return e.concat(i)}),[]);return Promise.all(r)}),[n,e.items]),v=(0,u.useCallback)(((t,n)=>{var r;return new d.default((0,o.default)((0,o.default)({},t),{},{price:(null!==(r=t.amount)&&void 0!==r?r:0)*s.DEFAULT_OFFSET,currency:e.currency,thumbnailUrl:n.get(t.id)}))}),[e.currency]),x=(0,u.useCallback)((t=>e.items.map((e=>v(e,t)))),[e.items,v]);return(0,u.useEffect)((()=>{(0,i.default)((function*(){const e=m();if(p(!0),yield C(e),g.aborted)return;p(!1);const t=m();f(x(t))}))()}),[n,g,C,m,x]),{orderItems:r,isLoading:h}};var i=r(n(348926)),o=r(n(81109)),a=n(713464),l=r(n(67791)),s=n(238977),d=r(n(454903)),u=n(667294),c=r(n(895851))},115749:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useLazyOrders=void 0;var i=n(914368),o=n(667294),a=r(n(286481));t.useLazyOrders=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const[r,l]=(0,o.useState)(0),s=(0,o.useMemo)((()=>e.slice(0,r)),[e,r]),d=(0,o.useCallback)((t=>{l((n=>{const r=t(n)||n;return r>-1&&r<e.length?r:e.length}))}),[e]),u=e=>e.scrollTop+i.SCROLL_FUDGE>=e.scrollHeight-e.clientHeight,c=(0,a.default)((e=>{u(e)&&d((e=>e+2))}),100),f=(0,o.useCallback)((e=>{c(e.currentTarget)}),[c]),h=(0,o.useCallback)((e=>{if(e){const n=Math.round(e.clientHeight/t)+2;t>0&&r<n&&d((()=>n))}}),[d,t,r]);return(0,o.useEffect)((()=>{const e=n.current;return e&&(e.addEventListener("scroll",f),h(e)),()=>{null==e||e.removeEventListener("scroll",f)}}),[n,h,f]),{ordersLazylist:s,scrollToTop:()=>{var e;null===(e=n.current)||void 0===e||e.scroll({top:0,behavior:"smooth"})}}}},878192:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useGetOrders=function(e,t){const[n,r]=(0,u.useState)({contactAndOrderInfoMap:{},orderStatusInfoMap:{}}),[f,h]=(0,u.useState)(!0),p=(0,u.useCallback)((e=>{r((t=>{const{contactAndOrderInfoMap:n,orderStatusInfoMap:r}=t,{contactsAndOrdersInfo:i,ordersStatusInfo:o}=e;return{contactAndOrderInfoMap:(0,d.getMergedContactAndOrderInfoMap)(n,i),orderStatusInfoMap:(0,d.getMergedOrderStatusInfoMap)(r,o)}}))}),[]),g=(0,u.useCallback)(function(){var e=(0,o.default)((function*(e,t){const{fetcher:n}=(0,d.getCachedOrdersInfoFromChat)(t),o=yield n;r((t=>(0,i.default)((0,i.default)({},t),{},{orderStatusInfoMap:(0,d.removeOrderStatusInfoFromMap)(o,e,t)})))}));return function(){return e.apply(this,arguments)}}(),[]),m=(0,u.useCallback)((e=>{r((t=>{const{contactAndOrderInfoMap:n}=t,{contactsAndOrdersInfo:r}=e;return(0,i.default)((0,i.default)({},t),{},{contactAndOrderInfoMap:(0,d.removeContactAndOrdersInfoFromMap)(n,r)})}))}),[]);(0,u.useEffect)((()=>{const e=[],t=[];return a.ChatCollection.toArray().forEach((n=>{const r=n.msgs.msgLoadState.noEarlierMsgs?d.getCachedOrdersInfoFromChat:d.getNotCachedOrdersInfoFromChat,{fetcher:i,unsubscribe:o}=r(n);i.then(p),e.push(i),t.push(o)})),Promise.all(e).finally((()=>h(!1))),()=>{t.forEach((e=>e()))}}),[p]);const{contactAndOrderInfoMap:C}=n,v=(0,u.useMemo)((()=>[...Object.keys(C).sort(((e,t)=>C[t].timestamp-C[e].timestamp))]),[C]),{ordersLazylist:x,scrollToTop:y}=(0,s.useLazyOrders)(v,t,e);return(0,c.useListener)(a.ChatCollection,"add",function(){var e=(0,o.default)((function*(e){const{fetcher:t}=(0,d.getCachedOrdersInfoFromChat)(e),n=yield t;p(n),n.contactsAndOrdersInfo.length&&y()}));return function(){return e.apply(this,arguments)}}()),(0,c.useListeners)(a.ChatCollection.toArray().map((e=>({source:e.msgs,eventOrEvents:"remove",callback:t=>{const n=(0,d.getOrdersInfoFromMsgs)([t],e.contact);n.contactsAndOrdersInfo.length?m(n):n.ordersStatusInfo.length&&g(n,(0,l.getChat)(t))}})))),(0,c.useListeners)(a.ChatCollection.toArray().map((e=>({source:e.msgs,eventOrEvents:"add",callback:t=>{const n=(0,d.getOrdersInfoFromMsgs)([t],e.contact);p(n),n.contactsAndOrdersInfo.length&&y()}})))),{ordersInfoMap:n,isLoading:f,ordersLazylist:x}};var i=r(n(81109)),o=r(n(348926)),a=n(351053),l=n(163755),s=n(115749),d=n(859157),u=n(667294),c=n(808446)},45735:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogSettingsDrawer=void 0;var i=n(898817),o=r(n(229922)),a=n(724472),l=n(778945),s=r(n(196554)),d=r(n(908081)),u=r(n(324093)),c=n(626194),f=r(n(969358)),h=n(753233),p=n(258105),g=r(n(932325)),m=r(n(284435)),C=n(956113),v=n(180519),x=n(625786),y=n(390737),b=n(459857),j=n(548360),E=n(667294),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(973935)),S=r(n(156720)),w=r(n(895851)),k=n(785893);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const M={paddingTop:"nlnf8xo7",paddingEnd:"rmtqb32e",paddingBottom:"r219jyu0",paddingStart:"hmkl5ysc"},I={display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"};function P(e){let{cartEnabled:t,setCartEnabled:n}=e;const r=e=>{n(e),(0,a.updateCartEnabled)(e).catch((()=>{__LOG__(4,!0,new Error,!0)`Failed to update cartEnabled value`,SEND_LOGS("updateCartEnabled: cartEnabled toggle error"),y.ToastManager.open((0,k.jsx)(x.Toast,{msg:j.fbt._("Failed to update the setting.",null,{hk:"RZBg9"}),duration:6e3})),n(t)}))},i=(0,p.getCatalogCartOnOffFaqUrl)(),o=(0,k.jsx)(s.default,{href:i,onClick:e=>{e.preventDefault(),(0,h.openExternalLink)(i)},children:g.default.t(393)}),l=j.fbt._("Turn this on to let customers add items to a cart when shopping in your catalog. Turning this off won't affect carts you've already received. {learn_more_link}",[j.fbt._param("learn_more_link",o)],{hk:"iTzgD"});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(f.default,{title:j.fbt._("Add to cart",null,{hk:"1mbCt1"}),theme:"title-larger",animation:!1,children:[(0,k.jsx)(m.default,{isChosen:t,onChoose:()=>{r(!0)},choiceText:j.fbt._("On",null,{hk:"2m7e5W"})}),(0,k.jsx)(m.default,{isChosen:!t,onChoose:()=>{r(!1)},choiceText:j.fbt._("Off",null,{hk:"1l0P5X"})})]}),(0,k.jsx)(v.TextDiv,{theme:"plain",className:(0,S.default)(M),children:l})]})}const D=(0,E.forwardRef)(((e,t)=>{const{onBack:n}=e,[r,a]=(0,E.useState)(!0),[s,f]=(0,E.useState)(!1),h=(0,w.default)();return(0,E.useEffect)((()=>{(0,o.default)(l.BusinessProfileCollection.fetchBizProfile((0,b.getMeUser)()),h).then((e=>{const t=e.profileOptions;_.unstable_batchedUpdates((()=>{f(null!=t&&t.cartEnabled),a(!1)}))})).catch((0,i.catchAbort)((()=>{}))).catch((()=>{__LOG__(4,!0,new Error)`Error fetching the business profile.`,y.ToastManager.open((0,k.jsx)(x.Toast,{msg:j.fbt._("Failed to load catalog settings.",null,{hk:"2UxoQh"}),duration:6e3})),n()}))}),[]),(0,k.jsxs)(d.default,{ref:t,theme:"catalog",onDrop:e.onBack,children:[(0,k.jsx)(c.DrawerHeader,{title:j.fbt._("Settings",null,{hk:"2RmHUB"}),type:c.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,focusBackOrCancel:!0}),(0,k.jsx)(u.default,{children:r?(0,k.jsx)("div",{className:(0,S.default)(I),children:(0,k.jsx)(C.Spinner,{})}):(0,k.jsx)(P,{cartEnabled:s,setCartEnabled:e=>{f(e)}})})]})}));t.CatalogSettingsDrawer=D,D.displayName="CatalogSettingsDrawer"},830114:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{businessProfile:t,catalog:n,openCatalog:r=g}=e;const o=(0,i.hasShop)(t),m=Boolean(o&&d.ServerProps.shopsProductGrid);if((0,h.useEffect)((()=>{(0,u.logShopsManagementEvent)(c.SHOPS_MANAGEMENT_ACTION.ACTION_SHOPS_PRODUCT_PREVIEW_VISIBLE,{shouldLogJid:!1,isShopsProductPreviewVisible:m})}),[m]),o)return m?(0,p.jsx)(s.default,{isEditMode:!0,subtitle:a.default.t(410),businessProfile:t,catalog:n,productsToShow:3}):null;return(0,p.jsx)(l.default,{catalog:n,onProductDetail:r,onProductCatalog:()=>{r()},productsToShow:3,catalogEntryLabel:null==n?f.fbt._("Add catalog",null,{hk:"2iihM5"}):f.fbt._("View or edit catalog",null,{hk:"354QjL"}),showProductPlaceholders:!0,seeMoreOverlay:!0,sectionTheme:"refresh"})};var i=n(542358),o=n(581442),a=r(n(932325)),l=r(n(213393)),s=r(n(335748)),d=n(937001),u=n(748483),c=n(130756),f=n(548360),h=n(667294),p=n(785893);function g(e){(0,o.openCatalogManagementFlow)(e,c.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE)}},499020:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsWithDeepLink=void 0;var i=n(122583),o=r(n(670983)),a=n(984330),l=n(713464),s=n(103440),d=r(n(908081)),u=r(n(324093)),c=n(626194),f=n(114850),h=n(227604),p=r(n(568414)),g=r(n(654709)),m=r(n(614058)),C=n(669050),v=n(548360),x=n(667294),y=n(785893);const b=(0,x.forwardRef)(((e,t)=>{const{isPushed:n=!0,productInfo:{productId:r,businessOwnerJid:b},onBack:j}=e,[E,_]=(0,x.useState)((()=>(0,g.default)({productId:r,businessOwnerJid:b}))),[S,w]=(0,x.useState)((()=>E?"NONE":"PENDING")),k=()=>{const e=(0,C.createWid)(b);l.CatalogCollection.findProduct({catalogWid:e,productId:r}).then((()=>{const t=l.CatalogCollection.get(e);_((0,o.default)(t,"catalog").productCollection.get(r)),w("SUCCESS")})).catch((0,i.filteredCatch)(a.E404,(()=>{j(),f.ModalManager.open((0,y.jsx)(s.ConfirmPopup,{onOK:()=>{f.ModalManager.close()},okText:v.fbt._("OK",null,{hk:"4oTrfy"}),children:v.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),w("ERROR")}))).catch((e=>{(0,h.parseErrorState)(e,(e=>{w(e)}))}))};return(0,x.useEffect)((()=>{E||k()}),[]),E?(0,y.jsx)(m.default,{ref:t,chat:e.chat,isPushed:n,product:E,onEnd:e.onEnd,onBack:e.onBack,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalog,refreshCarousel:!0,onProductLinkClick:e.onProductLinkClick,onProductMoreInformation:e.onProductMoreInformation,onCartClick:e.onCartClick}):(0,y.jsxs)(d.default,{ref:t,onDrop:e.onBack,children:[(0,y.jsx)(c.DrawerHeader,{testid:"drawer-title-profile",title:v.fbt._("Details",null,{hk:"1hLRT1"}),onBack:e.onBack,type:c.DRAWER_HEADER_TYPE.SMALL}),(0,y.jsx)(u.default,{children:(0,y.jsx)(p.default,{fetchState:S})})]},"product-details-drawer")}));t.ProductDetailsWithDeepLink=b,b.displayName="ProductDetailsWithDeepLink"},76987:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(952543),o=n(679589),a=n(488940),l=n(644234),s=r(n(756680)),d=n(172259),u=n(937484),c=n(373070),f=n(493770),h=n(316348),p=n(555622),g=n(625786),m=n(390737),C=r(n(625903)),v=r(n(844453)),x=n(992934),y=r(n(452256)),b=n(548360),j=n(667294),E=(r(n(156720)),n(785893));const _={btnDelete:{position:"lhggkp7q",top:"hdpg1tjz",end:"ltcz4qz9",zIndex:"mb8var44",color:"k17s6i4e",filter:"rhe1kc9j"},btnAdd:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"jkv2xdwy",height:"sptw4ec9",fontSize:"lak21jic",fontWeight:"hnx8ox4h",lineHeight:"gz7w46tb",letterSpacing:"hql59cr1"}},S=(0,j.forwardRef)(((e,t)=>{let{imageData:n,onDelete:r,index:i}=e;return(0,E.jsxs)("div",{ref:t,className:y.default.imageTile,children:[(0,E.jsx)(C.default,{xstyle:_.btnDelete,"aria-label":b.fbt._("Remove image number {imageNumber}",[b.fbt._param("imageNumber",i+1)],{hk:"11vQtK"}),testid:"delete-image",onClick:r,children:(0,E.jsx)(x.XAltIcon,{className:y.default.deleteIcon})}),(0,E.jsx)(f.ProductThumb,{mediaData:n.mediaData,className:y.default.imageThumb})]})}));function w(e){let{inputRef:t,handleFilePick:n}=e;return(0,E.jsx)("input",{ref:t,type:"file",accept:u.IMAGE_MIMES,style:{display:"none"},onChange:n,multiple:!0})}S.displayName="Tile";const k=(0,j.forwardRef)(((e,t)=>{let{onAddFileClick:n}=e;return(0,E.jsx)("div",{ref:t,className:y.default.btnAddContainer,children:(0,E.jsxs)(C.default,{xstyle:_.btnAdd,"aria-label":b.fbt._("Add additional image",null,{hk:"1zIuu3"}),onClick:n,testid:"add-image",children:[(0,E.jsx)(o.CameraIcon,{}),(0,E.jsx)("div",{className:y.default.btnAddText,children:b.fbt._("Add Images",null,{hk:"3yrGBr"})})]})})}));function T(e){let{error:t}=e;return(0,E.jsx)("div",{className:y.default.errorMessage,role:"alert",children:t})}function M(e,t){const{maxImageCount:n,onChange:r,error:o,product:f}=e,C=(0,j.useRef)(null),[x,_]=(0,j.useState)((()=>f.productImageCollection.filter((e=>!e.old)).map((e=>({url:e.mediaUrl,mediaData:e.mediaData}))))),M=e=>{e.mediaPrep.waitForPrep().then((t=>{if(!(e=>!(x.filter((t=>t.mediaData.filehash===e.filehash)).length>0&&(m.ToastManager.open((0,E.jsx)(g.Toast,{msg:b.fbt._("Two or more images are the same. Delete any duplicates and try again.",null,{hk:"3qIMS6"})})),1)))(t))return;t.mediaStage=d.MEDIA_DATA_STAGE.RESOLVED,t.renderableUrl=e.fullPreview;const n=t.mediaBlob;!n||n instanceof s.default||s.default.createFromData(n,n.type).then((e=>{t.mediaBlob=e})),_((e=>[...e,{url:null,mediaData:t}])),null==r||r([...x,{url:null,mediaData:t}])}))},I=e=>{(0,a.getFiles)(e,u.IMAGE_MIMES).then((e=>{const t=n-x.length;e.length>t&&m.ToastManager.open((0,E.jsx)(g.Toast,{msg:b.fbt._("You've reached the maximum number of images to add.",null,{hk:"2ra3Nx"}),duration:6e3,action:{onAction:()=>{},actionText:b.fbt._("GOT IT",null,{hk:"175geM"}),dismiss:!0,theme:"success"}})),e.slice(0,n-x.length).map((e=>({file:e,filename:e.name,mimetype:e.type,type:c.MSG_TYPE.PRODUCT}))).map((e=>{var t;const n=new i.AttachMedia({file:Promise.resolve(e)});return null===(t=n.processPromise)||void 0===t?void 0:t.then((()=>{M(n)}))}))})),e.target.value&&(e.target.value="")},P=()=>{const e=x.filter((e=>null==e.url)).length;p.QPL.markerAnnotate(h.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,{int:{ImagesCount:e}}),p.QPL.markerPoint(h.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,"images_upload_start");const t=x.filter((e=>null==e.url)).map((e=>{const{mediaData:{mediaBlob:t,filehash:n}}=e;return t instanceof s.default?(0,l.uploadProductImage)(t,n).then((t=>{e.url=t})):null})).filter(Boolean);return Promise.all(t).then((()=>(p.QPL.markerPoint(h.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,"images_upload_end"),x.map((e=>e.url||"")))))};(0,j.useImperativeHandle)(t,(()=>({uploadImages:P,handleFilePick:I})));return(0,E.jsxs)("div",{className:y.default.panel,children:[(0,E.jsxs)("div",{className:y.default.tileContainer,children:[(0,E.jsxs)(v.default,{appear:!0,transitionName:"thumb-scale-flex",children:[x.filter((e=>e.mediaData)).map(((e,t)=>(0,E.jsx)(S,{index:t,imageData:e,onDelete:()=>(e=>{const t=x.filter((t=>t!==e));_(t),null==r||r(t)})(e)},e.mediaData.filehash))),x.length<n?(0,E.jsx)(k,{onAddFileClick:()=>{if(C.current){C.current.click()}}}):null]}),(0,E.jsx)(w,{inputRef:C,handleFilePick:I})]}),(0,E.jsx)(T,{error:o})]})}k.displayName="AddImageButton";var I=(0,j.forwardRef)(M);t.default=I},533196:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{flatListController:t,onProductDetail:n,productMessageList:r}=e;const o=r.productCollection.getProductModels(),c=r.getSections(),f=r.getSectionsCount()>0,h=r.getTotalProductsFetchedOrFailed(),g=r.getProductSize()===h&&0===o.length,m=[];return c.forEach(((e,t)=>{let{title:n,products:r}=e;const i=[];r.forEach((e=>{let{productId:n}=e;const r=o.find((e=>e.id===n));null!=r&&i.push({itemKey:`section-${t}-${r.id.toString()}`,product:r,type:"product",height:u.PRODUCT_LIST_ITEM_HEIGHT})})),i.length>0&&(null!=n&&""!==n&&m.push({itemKey:`header-${t}-${n}`,label:n,type:"section",height:72}),m.push(...i))})),(0,x.useEffect)((()=>{g&&d.ModalManager.open((0,y.jsx)(p.default,{onConfirm:()=>{a.DrawerManager.closeDrawerRight(),d.ModalManager.close()}}))}),[g]),(0,y.jsx)("div",{className:(0,i.cx)({[v.default.list]:!0,[v.default.noSections]:!f}),children:(0,y.jsx)(s.default,{flatListControllers:[t],children:(0,y.jsx)(l.FlatList,{flatListController:t,direction:"vertical",forceConsistentRenderCount:!1,data:m,renderItem:e=>(0,y.jsx)(b,{item:e,onProductDetail:n}),itemEnterAnimationsEnabled:!0})})})};var i=n(752253),o=n(568550),a=n(900316),l=n(512938),s=r(n(964223)),d=n(114850),u=n(899841),c=n(932523),f=r(n(698690)),h=n(77548),p=r(n(373044)),g=r(n(772549)),m=n(163139),C=n(887222),v=r(n(515148)),x=n(667294),y=n(785893);function b(e){let{item:t,onProductDetail:n}=e;const r=(0,x.useCallback)(((e,t)=>((0,h.logCatalogListDetailClick)({product:(0,m.unproxy)(e),catalogContext:t}),(0,C.qplStartProductView)("PLM"),n(e))),[n]);let i=null;switch(t.type){case"section":{const{label:e}=t;i=(0,y.jsx)(g.default,{header:e});break}case"product":{const{product:e}=t;i=(0,y.jsx)(o.DrawerContext.Consumer,{children:t=>(0,y.jsx)(f.default,{product:e,onClick:()=>r(e,(0,c.getProductCatalogContext)(t)),canManageCatalog:!1})});break}}return i}},716890:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductMessageListDrawer=void 0;var i=r(n(348926)),o=n(15842),a=n(724976),l=n(290895),s=n(263755),d=r(n(908081)),u=r(n(324093)),c=n(568550),f=n(626194),h=n(305521),p=r(n(570834)),g=r(n(495012)),m=n(914368),C=n(899841),v=r(n(819543)),x=n(932523),y=n(227604),b=r(n(568414)),j=n(77548),E=r(n(533196)),_=n(466077),S=n(316348),w=n(555622),k=n(887222),T=n(667294),M=r(n(156720)),I=r(n(637660)),P=n(808446),D=n(655241),L=r(n(895851)),R=n(785893);const O={display:"p357zi0d"};function A(e){let{productMessageList:t,loadingMore:n,productMessageListFetchState:r,onProductDetail:i,productListFlatListControllerRef:o}=e;return t?(0,R.jsxs)("div",{children:[(0,R.jsx)(E.default,{productMessageList:t,flatListController:o.current,onProductDetail:i}),n&&(0,R.jsx)(g.default,{})]}):(0,R.jsx)(b.default,{fetchState:r})}const N=(0,T.forwardRef)(((e,t)=>{const{productListId:n,setScrollOffset:r,onCartClick:g,onProductDetail:b,catalogWid:E}=e,N=(0,L.default)(),B=(0,T.useContext)(c.DrawerContext),F=(0,I.default)((()=>new p.default)),H=(0,D.useModelValues)(e.contact,["id"]),[U,G]=(0,T.useState)(!1),[z,q]=(0,T.useState)(0),[V,W]=(0,T.useState)(!1),[Y,Z]=(0,T.useState)((()=>_.ProductMessageListCollection.get(n))),[K]=(0,T.useState)((()=>l.CartCollection.findCart(H.id.toString()))),[X,Q]=(0,T.useState)(K.itemCount),[J,$]=(0,T.useState)(!1),[ee,te]=(0,T.useState)(Y?"SUCCESS":"NONE"),ne=t=>{const{isPushed:r=!0}=e,i=r&&!0===t,a=_.ProductMessageListCollection.assertGet(n),l=a.getTotalProductsFetchedOrFailed(),s=a.getProductSize();if(V||l===s)return i&&(w.QPL.markerAnnotate(S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{int:{ProductsCount:l}}),w.QPL.markerEnd(S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,o.QuickLogActionType.SUCCESS)),void W(!0);G(!0),q(l);const d=i?S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW:void 0;_.ProductMessageListCollection.update(n,{markerId:d}).then((e=>{if(N.aborted)return void(i&&w.QPL.markerDrop(S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW));G(!1);const t=(Array.isArray(e)?e[0]:e).getTotalProductsFetchedOrFailed();t===z&&W(!0),i&&(w.QPL.markerAnnotate(S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{int:{ProductsCount:t}}),w.QPL.markerEnd(S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,o.QuickLogActionType.SUCCESS)),l*C.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&ne()})).catch((()=>{G(!1),W(!0),i&&w.QPL.markerEnd(S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,o.QuickLogActionType.FAIL)}))},re=function(){var t=(0,i.default)((function*(){const{isPushed:t=!0}=e;try{const e=yield _.ProductMessageListCollection.find(n);if(N.aborted)return void(t&&w.QPL.markerDrop(S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW));Z(e),te("SUCCESS"),ne(!0)}catch(e){(0,y.parseErrorState)(e,(e=>te(e))),t&&w.QPL.markerEnd(S.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,o.QuickLogActionType.FAIL)}}));return function(){return t.apply(this,arguments)}}();(0,T.useEffect)((()=>{Y?ne():re(),(0,v.default)(H.id).then((e=>{N.aborted||($(e),(0,j.logCatalogListView)({catalogOwnerWid:E,catalogContext:(0,x.getProductCatalogContext)(B),cartToggle:e}))}))}),[]),(0,P.useListener)(K,"all",(()=>{Q(K.itemCount)}));const ie=null!=g&&J?(0,R.jsx)(s.CartIconMenuBarItem,{cartCountText:(0,a.isNumber)(X)&&X>0?X.toString():void 0,onClick:()=>{(0,k.qplStartCartView)("PLM"),null==g||g(H.id.toString())},catalogOwnerJid:H.id.toString()}):null;return(0,R.jsxs)(d.default,{ref:t,theme:"products",onDrop:e.onBack,children:[(0,R.jsx)(f.DrawerHeader,{title:(0,R.jsx)("div",{className:(0,M.default)(O),children:(0,R.jsx)(h.EmojiText,{text:null==Y?void 0:Y.title,ellipsify:!0})}),titleStr:null==Y?void 0:Y.title,type:f.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:ie}),(0,R.jsx)(u.default,{onScroll:e=>{var t;t=e.currentTarget,U||t.scrollTop+m.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&ne(),null==r||r(e.currentTarget.scrollTop)},flatListControllers:[F.current],scrollOffset:e.scrollOffset,children:(0,R.jsx)(A,{productMessageList:Y,loadingMore:U,productMessageListFetchState:ee,onProductDetail:b,productListFlatListControllerRef:F})})]})}));t.ProductMessageListDrawer=N,N.displayName="ProductMessageListDrawer",N.displayName="ProductMessageListDrawer"},373044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onConfirm:t}=e;return(0,a.jsx)(r.ConfirmPopup,{onOK:t,okText:o.fbt._("OK",null,{hk:"4oTrfy"}),children:(0,a.jsx)(i.EmojiText,{text:o.fbt._("Items in this message are no longer available",null,{hk:"1MclQl"})})})};var r=n(103440),i=n(305521),o=n(548360),a=n(785893)},614415:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(670983)),o=n(713464),a=r(n(368084)),l=n(61740),s=n(548360),d=n(667294),u=n(785893);const c=(e,t)=>{const[n,r]=(0,d.useState)(!1),[c,f]=(0,d.useState)([]),h=(0,u.jsx)(a.default,{disabled:!n,onClick:()=>{var t;const n=(0,i.default)(null===(t=c[0])||void 0===t?void 0:t.catalogWid,"products[0]?.catalogWid"),r=(0,i.default)(o.CatalogCollection.get(n),"CatalogCollection.get(catalogWid)");e.onShare(r)}});return(0,u.jsx)(l.SelectModal,{ref:t,title:s.fbt._("Send products",null,{hk:"3C7pQj"}),onCancel:e.onCancel,onConfirm:e.onConfirm,listType:l.ListType.PRODUCT_SELECT_MODAL,enableSearchBox:!1,customHeader:h,onSelectionChanged:(e,t,n)=>{r(0===n.length)},onDataLoaded:e=>{const t=e;f(t),r(t.length>0)}})};var f=(0,d.forwardRef)(c);t.default=f},368084:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.disabled?"bx7g2weo":"",n=e.disabled?"hp667wtd":"",r=e.disabled?null:e.onClick,d=(0,s.jsx)("span",{className:n,children:l.fbt._("Send catalog",null,{hk:"BiYcl"})}),u=(0,s.jsx)(a.default,{theme:"compact",disabled:e.disabled,children:(0,s.jsx)(i.CatalogIcon,{})});return(0,s.jsx)(o.default,{image:u,onClick:r,primary:d,theme:"list-button-compact",className:t})};var i=n(57469),o=r(n(170206)),a=r(n(802211)),l=n(548360),s=(r(n(156720)),n(785893))},67791:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,a.useState)((()=>o.CatalogCollection.get(e))),r=(0,l.default)();return(0,a.useEffect)((()=>{const a=o.CatalogCollection.get(e);a!==t&&(null!=a?n(a):(0,i.default)((function*(){const t=yield o.CatalogCollection.find(e);r.aborted||n(t)}))())}),[e,t,r]),t};var i=r(n(348926)),o=n(713464),a=n(667294),l=r(n(895851))},149917:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{selections:t,active:n,onSelectionChanged:r,catalog:d}=e,u=e=>{((e,i,o)=>{t.setVal(e,i,o),n.setVal(e,o),r()})(e,!t.isSelected(e),!1)};return(0,s.jsx)(o.default,{flatListControllers:[e.flatListController],children:(0,s.jsx)(i.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:d.productCollection.getProductModels(!0).map((e=>({itemKey:e.id.toString(),product:e}))),renderItem:e=>{let{product:r}=e;return(0,s.jsx)(l.default,{product:r,selections:t,onClick:()=>u(r),active:n},r.id.toString())},defaultItemHeight:a.PRODUCT_LIST_ITEM_HEIGHT})})};var i=n(512938),o=r(n(964223)),a=n(899841),l=r(n(313292)),s=n(785893)},554740:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(348926)),o=n(898817),a=n(15842),l=n(477627),s=n(175015),d=n(910648),u=r(n(908081)),c=r(n(324093)),f=n(568550),h=n(626194),p=r(n(570834)),g=r(n(495012)),m=r(n(932325)),C=n(491606),v=r(n(149917)),x=r(n(930440)),y=n(899841),b=n(932523),j=n(854682),E=n(316348),_=n(555622),S=n(202391),w=n(435595),k=r(n(237889)),T=n(956113),M=n(548360),I=n(667294),P=r(n(156720)),D=r(n(969651)),L=r(n(637660)),R=r(n(286481)),O=r(n(895851)),A=n(785893);const N={container:{position:"g0rxnol2",zIndex:"thghmljt",display:"p357zi0d",flex:"a1m9qzja",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"ag5g9lrv"},isSending:{pointerEvents:"m62443ks",opacity:"n791o4v8"},footer:{zIndex:"ercejckq",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"fe3aadhc",paddingEnd:"h1a80dm5",paddingStart:"sta02ykp",color:"k17s6i4e",backgroundColor:"gulicvea"},saveButton:{paddingTop:"b7n2qyd4",paddingEnd:"btzf6ewn",paddingBottom:"ekpn4oxx",paddingStart:"nqtxkp62"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},nameContainer:{position:"g0rxnol2"},nameIcon:{position:"g0rxnol2",top:"fcxg0yzc",display:"l7jjieqr",width:"jgly3g7g",marginStart:"lhp4ctto",transform:"mdse5hul"},nameEdit:{display:"l7jjieqr",width:"p56o3wws",height:"q7zw29cd",paddingTop:"emrlamx0",verticalAlign:"fewfhwl7"},operation:{paddingTop:"qomlamqu",paddingEnd:"f9ovudaz",paddingBottom:"r219jyu0",paddingStart:"rppts313",marginStart:"bv1sdm6y",color:"jq3rn4u7"},listContainer:{height:"cbqxid7y",overflowX:"i44ccddp",overflowY:"ag5g9lrv"},loadingSpinner:{display:"btb1m7bk",justifyContent:"ac2vgrno",height:"jdwybkuq"}};function B(e){let{value:t,errorName:n,onChange:r}=e;return(0,A.jsx)(S.RichTextField,{editable:!0,focusOnMount:!0,showRemaining:!0,value:t,onChange:e=>{let{text:t}=e;r(t)},inputPlaceholder:M.fbt._("New collection",null,{hk:"2NAI33"}),theme:"text-input",error:n,maxLength:30})}function F(e){let{onClick:t,updated:n}=e;const r=m.default.t(170,{updated:n,_plural:n});return(0,A.jsxs)("div",{className:(0,P.default)(N.footer),children:[r,(0,A.jsx)("div",{className:(0,P.default)(N.saveButton),children:(0,A.jsx)(w.Round,{large:!0,onClick:t,children:(0,A.jsx)(s.CheckmarkMediumIcon,{})})})]})}function H(e){let{nameInfo:t,collection:n,selectionList:r,syncInfo:i}=e;const{name:o,errorName:a,handleNameChange:l}=t,{isUpdating:s,loadingMore:u,syncSelection:c,handleSave:h}=i,p=s?(0,A.jsx)("div",{className:(0,P.default)(N.spinner),children:(0,A.jsx)(T.Spinner,{size:50,stroke:3})}):null,m=c();return(0,A.jsx)(f.DrawerContext.Consumer,{children:e=>{const t=(0,b.getProductCatalogContext)(e);return(0,A.jsxs)(A.Fragment,{children:[p,(0,A.jsxs)("div",{className:(0,P.default)(N.nameContainer),children:[(0,A.jsx)("span",{className:(0,P.default)(N.nameIcon),children:(0,A.jsx)(d.CollectionsFolderIcon,{})}),(0,A.jsx)("span",{className:(0,P.default)(N.nameEdit),children:(0,A.jsx)(B,{onChange:l,value:o,errorName:a})})]}),(0,A.jsx)("div",{className:(0,P.default)(N.operation),children:n?M.fbt._("Update Items",null,{hk:"2dT3Pu"}):M.fbt._("Add Items",null,{hk:"3NRr27"})}),(0,A.jsxs)("div",{className:(0,P.default)(N.listContainer),children:[r,u&&(0,A.jsx)("div",{className:(0,P.default)(N.loadingSpinner),children:(0,A.jsx)(g.default,{})})]}),m>0||n&&o!==n.name?(0,A.jsx)(F,{updated:m,onClick:()=>{h(t)}}):null]})}})}function U(e,t){var n;const{catalog:r,collection:s,onBack:d}=e,f=(0,L.default)((()=>new k.default([],(e=>e.id.toString())))),g=(0,L.default)((()=>new x.default([],(e=>e.id.toString())))),m=(0,L.default)((()=>new p.default)),S=(0,D.default)(),w=(0,O.default)(),[T,B]=(0,I.useState)(null),[F,U]=(0,I.useState)(null==s?void 0:s.name),[G,z]=(0,I.useState)(null==s?void 0:s.name),[q,V]=(0,I.useState)(null),[W,Y]=(0,I.useState)(!1),[Z,K]=(0,I.useState)(!0);(0,I.useEffect)((()=>{(()=>{const e=new l.CollectionsContentDataSource(r,y.PRODUCT_LIST_ITEM_HEIGHT,null==s?void 0:s.id),t=new l.CatalogListItemScrollHelper(e);B(t),e.loadInitialItems().then((()=>{if(w.aborted)throw new o.AbortError;K(!1),S()})).catch((0,o.catchAbort)((()=>{})))})()}),[]);const X=(0,R.default)((e=>{const t=e.currentTarget;(null==T?void 0:T.willLoadMore(t))&&K(!0),null==T||T.onScroll(e,t).then((e=>{K(!1),e&&K(!1)})).catch((e=>{throw K(!1),e}))}),100),Q=function(){var e=(0,i.default)((function*(e){const t=(0,b.getProductCatalogContext)(e);if(F&&""!==F.trim()){_.QPL.markerStart(E.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT),Y(!0);const{added:e,removed:n}=(()=>{const e=r.productCollection.getProductModels(!0),t=[],n=[];return e.forEach((e=>{const r=g.current.isSelected(e);e.checkmark!==r&&(r?n.push(e):t.push(e))})),{added:n,removed:t}})(),i=F!==G;_.QPL.markerAnnotate(E.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,{bool:{IsNew:!s},int:{ProductsAdded:e.length}}),s&&_.QPL.markerAnnotate(E.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,{bool:{Renamed:i},int:{ProductsDeleted:n.length}});try{if(yield(0,C.handleCollectionSave)(r,s,F||"",e,n,t)){d();const r=null==s?void 0:s.id;r&&i&&((0,j.logCollectionRenamed)({catalogContext:t,collectionId:r}),z(F)),s&&(0,j.logCollectionItemsAssignment)({collectionId:s.id,addedCount:e.length,removedCount:n.length,catalogContext:t}),_.QPL.markerEnd(E.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,a.QuickLogActionType.SUCCESS)}else Y(!1),_.QPL.markerDrop(E.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT)}catch(e){Y(!1),_.QPL.markerEnd(E.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,a.QuickLogActionType.FAIL)}}else V(M.fbt._("Name required",null,{hk:"1pvj2p"}))}));return function(){return e.apply(this,arguments)}}(),J=(0,P.default)(N.container,W&&N.isSending),$=(null===(n=e.collection)||void 0===n?void 0:n.name)||M.fbt._("New collection",null,{hk:"4dusPd"});return(0,A.jsxs)(u.default,{ref:t,theme:"products",onDrop:e.onBack,children:[(0,A.jsx)(h.DrawerHeader,{title:$,type:h.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),(0,A.jsx)(c.default,{className:J,flatListControllers:[m.current],onScroll:X,children:(0,A.jsx)(H,{nameInfo:{name:F,errorName:q,handleNameChange:e=>{U(e),V(q&&e?null:q)}},syncInfo:{isUpdating:W,loadingMore:Z,syncSelection:()=>{const e=r.productCollection.getProductModels(!0);let t=0;return e.forEach((e=>{g.current.isInList(e)?e.checkmark!==g.current.isSelected(e)&&t++:g.current.setVal(e,e.checkmark)})),t},handleSave:e=>{Q(e)}},collection:s,selectionList:(0,A.jsx)(v.default,{catalog:r,flatListController:m.current,active:f.current,selections:g.current,onSelectionChanged:()=>S()})})})]})}var G=(0,I.forwardRef)(U);t.default=G},319170:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EditProductDrawer=void 0;var i=r(n(81109)),o=r(n(348926)),a=n(122583),l=r(n(670983)),s=n(15842),d=n(984330),u=n(637842),c=n(72696),f=n(172949),h=r(n(692629)),p=n(713464),g=n(468926),m=n(780549),C=n(676594),v=n(87630),x=n(537469),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(27578)),b=r(n(413252)),j=r(n(908081)),E=r(n(324093)),_=n(568550),S=n(626194),w=n(900316),k=n(690495),T=r(n(469733)),M=n(486392),I=n(491606),P=n(932523),D=n(77548),L=r(n(76987)),R=n(517086),O=n(316348),A=n(555622),N=n(202391),B=n(956113),F=n(741703),H=n(180519),U=n(625786),G=n(390737),z=r(n(79291)),q=n(459857),V=n(548360),W=n(667294),Y=r(n(156720)),Z=n(808446),K=n(655241),X=n(785893);function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}const J={complianceInfoHelpCenterBanner:{paddingTop:"nlnf8xo7",paddingEnd:"f9ovudaz",paddingBottom:"jzp2c175",paddingStart:"gx1rr48f"},productWrapper:{position:"g0rxnol2",width:"dlt2z1m8",paddingTop:"gq7nj7y3",paddingEnd:"f9ovudaz",paddingBottom:"eynyaxvo",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm"},isSending:{pointerEvents:"m62443ks",opacity:"n791o4v8"},drawerHeader:{display:"p357zi0d",alignItems:"gndfcl4n"},drawerHeaderButtonContainer:{marginStart:"isfiuinm"},deleteButtonContainer:{marginTop:"dkeqio29",marginEnd:"jnwc1y2a",marginBottom:"ofb4x1dx",marginStart:"svoq16ka",textAlign:"qfejxiq4"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},hiddenContainer:{marginTop:"opp68qpq",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},hiddenLabel:{position:"g0rxnol2",top:"hd6b059k",marginStart:"a3oefunm"},hiddenDescr:{marginTop:"hymafltn",marginBottom:"bvhm1occ",marginStart:"gv7ona1m",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"pp1m8hwk"}},$=(0,W.forwardRef)(((e,t)=>{const{catalog:n,onBack:r,onCancel:m,newProduct:v=!1,onDelete:k,onEditSuccess:T,onCreate:Q}=e,$=(0,W.useContext)(_.DrawerContext),te=(0,W.useRef)(null),ne=(0,K.useModelValues)(e.product,["id","additionalImageCdnUrl","name","priceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl","retailerId","currency","isHidden","complianceInfo"]),re=e=>!(0,c.hideUnsupportedCurrency)()||y.isSupportedCurrency(e),ie=null!=ne.currency?ne.currency:y.currencyForCountryShortcode((0,M.getCountryShortcodeByPhone)((0,q.getMeUser)().user)),oe=re(ie),[ae,le]=(0,W.useState)(ne.name||""),[se,de]=(0,W.useState)(oe?ne.priceAmount1000:null),[ue,ce]=(0,W.useState)(ne.description||""),[fe,he]=(0,W.useState)(ne.url||""),[pe,ge]=(0,W.useState)(ne.retailerId||""),[me,Ce]=(0,W.useState)((()=>{if(null!=ne.priceAmount1000&&null!=ie&&oe){const e=y.formatAmount1000ToParts(ie,ne.priceAmount1000);return`${e.integer}${e.decimal}`}return""})),ve=oe?ie:"",[xe,ye]=(0,W.useState)(!1),[be,je]=(0,W.useState)(""),[Ee,_e]=(0,W.useState)(""),[Se,we]=(0,W.useState)(""),[ke,Te]=(0,W.useState)(""),[Me,Ie]=(0,W.useState)(""),[Pe,De]=(0,W.useState)(!!ne.imageCdnUrl),[Le,Re]=(0,W.useState)(!1),[Oe,Ae]=(0,W.useState)(ne.isHidden),[Ne,Be]=(0,W.useState)(!!oe),[Fe,He]=(0,W.useState)(!1),[Ue,Ge]=(0,W.useState)(void 0);(0,Z.useListener)(ne,"change:isHidden",(()=>{Ae(ne.isHidden)}));const ze=function(){var e=(0,o.default)((function*(){if(v)He(!0);else{yield p.CatalogCollection.findProduct({catalogWid:n.id,productId:ne.id.toString(),shouldFetchComplianceFields:!0});const e=(0,l.default)(n,"catalog").productCollection.get(ne.id),{countryCodeOrigin:t,importerName:r,importerAddress:i}=(null==e?void 0:e.complianceInfo)||{},o=t===String(F.SyntheticCountryCode.NotApplicable)?V.fbt._("Not Applicable",null,{hk:"2k1klN"}).toString():t&&(yield(0,x.getCountryName)(t,x.COUNTRY_FILTER_TYPE.META_RECOGNIZED)),a=(null==i?void 0:i.countryCode)&&(yield(0,x.getCountryName)(i.countryCode,x.COUNTRY_FILTER_TYPE.META_RECOGNIZED));He(!0),Ge({countryCodeOrigin:t,countryNameOrigin:o,countryCodeOriginError:"",importerName:r,importerNameError:"",importerAddress:{street1:null==i?void 0:i.street1,street1Error:"",street2:null==i?void 0:i.street2,postalCode:null==i?void 0:i.postalCode,city:null==i?void 0:i.city,cityError:"",region:null==i?void 0:i.region,countryCode:null==i?void 0:i.countryCode,countryName:a,countryCodeError:""}})}}));return function(){return e.apply(this,arguments)}}();(0,W.useEffect)((()=>{(0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id)&&ze()}),[]);const qe=(e,t,n)=>{const{importerAddress:r}=Ue||{};return t===e?n:r[e]},Ve=()=>{const e=null==Ue?void 0:Ue.countryCodeOrigin;return!!e&&![C.COMPLIANCE_INFO_CODES.INDIA,F.SyntheticCountryCode.NotApplicable].includes(e)},We=()=>(0,c.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(n.id),Ye=(e,t)=>{v?(0,D.logAddProductFailed)((0,P.getProductCatalogContext)($)):(0,D.logEditProductFailed)(ne,(0,P.getProductCatalogContext)($),e.statusCode);let n=V.fbt._("Failed to save changes",null,{hk:"1rgjJH"});null!=e.errors&&(e.errors.filter((e=>"duplicate"===e.reason)).length>0?A.QPL.markerDrop(t):A.QPL.markerEnd(t,s.QuickLogActionType.FAIL),e.errors.map((e=>{"media"===e.name&&"duplicate"===e.reason&&Ie(V.fbt._("Two or more images are the same. Delete any duplicates and try again.",null,{hk:"3qIMS6"})),"retailer_id"!==e.name&&"retailer-id"!==e.name||"duplicate"!==e.reason||Te(V.fbt._("Item code must be unique.",null,{hk:"2T0KbL"})),(0,c.hideUnsupportedCurrency)()&&"currency"===e.name&&"invalid-data"===e.reason&&(n=V.fbt._("Price can't be shown in your country. Delete the price you entered.",null,{hk:"2fEiD0"}))}))),G.ToastManager.open((0,X.jsx)(U.Toast,{msg:n,id:(0,U.genId)("catalog_save_item_failed")}))},Ze=e=>{n.productCollection.add(e,{merge:!0}),v?(0,D.logAddProductSuccess)((0,P.getProductCatalogContext)($)):(0,D.logEditProductSuccess)(ne,(0,P.getProductCatalogContext)($)),G.ToastManager.open((0,X.jsx)(U.Toast,{msg:V.fbt._("Changes saved",null,{hk:"fmK60"}),id:(0,U.genId)("catalog_item_saved")})),T(e),null!=v&&(null==Q||Q())},Ke=function(){var e=(0,o.default)((function*(e,t){const n=qe("street1",e,t),r=qe("street2",e,t),o=qe("postalCode",e,t),a=qe("city",e,t),l=qe("region",e,t),s=qe("countryCode",e,t),d=[n,r,o,a,l,s].some((e=>e))||We(),c=(0,i.default)((0,i.default)({},Ue),{},{importerAddress:(0,i.default)({},null==Ue?void 0:Ue.importerAddress)});"countryCode"===e&&(c.importerAddress.countryName=(yield(0,x.getCountryName)(t,x.COUNTRY_FILTER_TYPE.META_RECOGNIZED))||void 0),c.importerAddress[e]=t||void 0,c.importerAddress.street1Error=d&&!(0,u.existsFieldIgnoreHardEnforcement)(n)?V.fbt._("Add an importer address line 1",null,{hk:"3HSMmN"}):"",c.importerAddress.cityError=d&&!(0,u.existsFieldIgnoreHardEnforcement)(a)?V.fbt._("Add an importer city",null,{hk:"1nq7dA"}):"",c.importerAddress.countryCodeError=d&&!(0,u.existsFieldIgnoreHardEnforcement)(s)?V.fbt._("Add an importer country",null,{hk:"3VmDTh"}):"",Be(!0),Ge(c)}));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,o.default)((function*(e,t){let n;const r=(0,i.default)((0,i.default)({},Ue),{},{importerAddress:(0,i.default)({},null==Ue?void 0:Ue.importerAddress)});"countryCodeOrigin"===e&&(n=t===String(F.SyntheticCountryCode.NotApplicable)?V.fbt._("Not Applicable",null,{hk:"2k1klN"}).toString():yield(0,x.getCountryName)(t,x.COUNTRY_FILTER_TYPE.META_RECOGNIZED),r.countryNameOrigin=n,r.countryCodeOriginError=""),"importerName"===e&&(r.importerNameError=(0,u.existsField)(t,(0,q.getMeUser)())||!We()?"":V.fbt._("Add an importer name",null,{hk:"3UwP1T"})),r[e]=t||void 0,Be(!0),Ge(r)}));return function(){return e.apply(this,arguments)}}(),Qe=(0,X.jsx)(h.default,{type:"primary",onClick:()=>{let e=!0;const t=new R.Product({id:ne.id,priceAmount1000:se,currency:ve,description:ue||"",imageCdnUrl:ne.imageCdnUrl,additionalImageCdnUrl:ne.additionalImageCdnUrl,name:ae,retailerId:pe,url:fe,isHidden:Oe,complianceInfo:(0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id)?{countryCodeOrigin:null==Ue?void 0:Ue.countryCodeOrigin,importerName:null==Ue?void 0:Ue.importerName,importerAddress:{street1:null==Ue?void 0:Ue.importerAddress.street1,street2:null==Ue?void 0:Ue.importerAddress.street2,postalCode:null==Ue?void 0:Ue.importerAddress.postalCode,city:null==Ue?void 0:Ue.importerAddress.city,region:null==Ue?void 0:Ue.importerAddress.region,countryCode:null==Ue?void 0:Ue.importerAddress.countryCode}}:void 0});var r;(()=>{const e=(0,q.getMeUser)();if(!We()||!Fe)return!1;const t=(0,i.default)((0,i.default)({},Ue),{},{importerAddress:(0,i.default)({},null==Ue?void 0:Ue.importerAddress)});if(!(0,u.existsField)(t.countryCodeOrigin,e))return t.countryCodeOriginError=V.fbt._("Add a country of origin",null,{hk:"3WA7X9"}),Ge(t),!0;if(!Ve())return!1;const{importerName:n,importerAddress:{street1:r,city:o,countryCode:a}}=t;let l=!1;return(0,u.existsField)(n,e)||(t.importerNameError=V.fbt._("Add an importer name",null,{hk:"3UwP1T"}),l=!0),(0,u.existsFieldIgnoreHardEnforcement)(r)||(t.importerAddress.street1Error=V.fbt._("Add an importer address line 1",null,{hk:"3HSMmN"}),l=!0),(0,u.existsFieldIgnoreHardEnforcement)(o)||(t.importerAddress.cityError=V.fbt._("Add an importer city",null,{hk:"1nq7dA"}),l=!0),(0,u.existsFieldIgnoreHardEnforcement)(a)||(t.importerAddress.countryCodeError=V.fbt._("Add an importer country",null,{hk:"3VmDTh"}),l=!0),!!l&&(Ge(t),!0)})()||(v?(0,D.logAddProductClick)((0,P.getProductCatalogContext)($)):(0,D.logEditProductClick)(ne,(0,P.getProductCatalogContext)($)),ye(!0),v||Ne?(A.QPL.markerStart(O.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,{annotations:{bool:{IsNewProduct:!!v}}}),null===(r=te.current)||void 0===r||r.uploadImages().then((r=>{t.imageCdnUrl=r[0],t.additionalImageCdnUrl=r.slice(1);(v?n.addProduct:n.editProduct).call(n,t).then((t=>{Ze(t),e=!1,A.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,s.QuickLogActionType.SUCCESS)})).catch((0,a.filteredCatch)(d.CatalogEditServerError,(t=>{e=!1,Ye(t,O.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE)}))).finally((()=>{e&&A.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,s.QuickLogActionType.FAIL),ye(!1)}))})).catch((e=>{throw A.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,s.QuickLogActionType.FAIL),ye(!1),e}))):(A.QPL.markerStart(O.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{annotations:{string:{EntryPoint:"Product"}}}),(0,f.productVisibilitySet)([{productId:ne.id.toString(),isHidden:t.isHidden}]).then((()=>{ne.isHidden=t.isHidden,Ze(ne),e=!1,A.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,s.QuickLogActionType.SUCCESS)})).catch((0,a.filteredCatch)(d.CatalogEditServerError,(t=>{e=!1,Ye(t,O.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE)}))).finally((()=>{e&&A.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,s.QuickLogActionType.FAIL),ye(!1)}))))},disabled:!(()=>{if(""===ae.trim()||!1===Pe)return!1;const e=[be,Ee,Se,ke,Me];return Ve()&&e.push(null==Ue?void 0:Ue.importerNameError,null==Ue?void 0:Ue.importerAddress.street1Error,null==Ue?void 0:Ue.importerAddress.cityError,null==Ue?void 0:Ue.importerAddress.countryCodeError),We()&&e.push(null==Ue?void 0:Ue.countryCodeOriginError),e.every((e=>!e))})(),testid:"product-edit-drawer-save-button",children:v?V.fbt._("Add to catalog",null,{hk:"3Dku2o"}):V.fbt._("Save",null,{hk:"44asBM"})}),Je=v?V.fbt._("Add new item",null,{hk:"3DqBBM"}):V.fbt._("Edit item",null,{hk:"2qzKLB"}),$e=(0,X.jsxs)("div",{className:(0,Y.default)(J.drawerHeader),children:[(0,X.jsx)(H.TextHeader,{level:"2",weight:"normal",size:"inherit",children:Je}),(0,X.jsx)("div",{className:(0,Y.default)(J.drawerHeaderButtonContainer),children:Qe})]}),et=v?null:(0,X.jsx)("div",{className:(0,Y.default)(J.deleteButtonContainer),children:(0,X.jsx)(h.default,{type:"warning",onClick:()=>{(0,I.handleProductDelete)(n,ne,(0,P.getProductCatalogContext)($),"Product").then((e=>{e&&(w.DrawerManager.closeDrawerMid(),null==k||k(ne))}))},testid:"product-edit-drawer-delete-button",children:V.fbt._("Delete Item",null,{hk:"Frzv9"})})}),tt=(0,Y.default)(J.productWrapper,xe&&J.isSending),nt=Le?(0,X.jsx)(b.default,{}):null,rt=xe?(0,X.jsx)("div",{className:(0,Y.default)(J.spinner),children:(0,X.jsx)(B.Spinner,{size:50,stroke:3})}):null,it=(0,X.jsxs)("div",{className:(0,Y.default)(J.hiddenContainer),children:[(0,X.jsx)(g.CheckBox,{id:"product-hidden-check",onChange:()=>{Ae((e=>!e))},checked:Oe,disabled:!1}),(0,X.jsx)("label",{className:(0,Y.default)(J.hiddenLabel),htmlFor:"product-hidden-check",children:V.fbt._("Hide item",null,{hk:"GjLlA"})}),(0,X.jsx)("div",{className:(0,Y.default)(J.hiddenDescr),children:V.fbt._("When you hide an item, customers won't see it in your catalog.",null,{hk:"eoTzf"})})]}),ot=(0,W.useMemo)((()=>{const e=""!==ve?y.formatAmount1000ToParts(ve,0).symbol:"";return V.fbt._("Price {currencySymbol} (Recommended)",[V.fbt._param("currencySymbol",e)],{hk:"3kOjhT"})}),[ve]);return(0,X.jsxs)(j.default,{ref:t,theme:"catalog",onDrop:e=>{var t;null===(t=te.current)||void 0===t||t.handleFilePick(e)},onDragChange:e=>{Re(e)},children:[nt,(0,X.jsx)(S.DrawerHeader,{testid:"catalog-link-title",title:$e,titleStr:Je,type:S.DRAWER_HEADER_TYPE.SMALL,onBack:r,onCancel:m,focusBackOrCancel:!0}),(0,X.jsx)(E.default,{children:(0,X.jsxs)("div",{className:tt,children:[rt,(0,X.jsx)(L.default,{product:ne,maxImageCount:R.MAX_PRODUCT_IMAGES,onChange:e=>{let t="";0===e.length&&(t=V.fbt._("Add at least one image",null,{hk:"4tbVYS"})),Ie(t),De(e.length>0),Be(!0)},ref:te,error:Me}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-name-input",value:ae,placeholder:V.fbt._("Name",null,{hk:"46mqET"}),onChange:e=>{const t=e.text;le(t),je(""===t.trim()?V.fbt._("Add a title",null,{hk:"3QauyV"}):""),Be(!0)},theme:"small",showRemaining:!0,customStyleThemes:["desaturated"],maxLength:150,error:be,title:V.fbt._("Name",null,{hk:"47pzCN"})}),re(ve)&&(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-price-input",value:me,placeholder:ot,onChange:e=>{const t=e.text,n=y.valueFromString(ve,t);let r="";""===t||y.validatePriceString(ve,t,R.MIN_PRICE,R.MAX_PRICE)||(r=V.fbt._("Enter a valid price",null,{hk:"3JgcXg"})),de(""===t?null:n),Ce(`${t}`),_e(r),Be(!0)},theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:Ee,title:V.fbt._("Price",null,{hk:"1q6KRK"})}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-description-input",value:ue,placeholder:V.fbt._("Description (Optional)",null,{hk:"38PzGH"}),onChange:e=>{ce(e.text),Be(!0)},theme:"small",maxLength:5e3,customStyleThemes:["desaturated"],multiline:!0,title:V.fbt._("Description",null,{hk:"2sGitZ"})}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-link-input",value:fe,placeholder:V.fbt._("Link (Optional)",null,{hk:"18F36s"}),onChange:e=>{const t=e.text;let n="";""===t||z.default.isValid(t)||(n=V.fbt._("URL is incorrect",null,{hk:"xiOtm"})),he(t),we(n),Be(!0)},onBlur:()=>{""===fe||z.default.isHttps(fe)||z.default.isHttp(fe)||he(`https://${fe}`)},theme:"small",customStyleThemes:["desaturated"],maxLength:75,error:Se,managed:!0,title:V.fbt._("Link",null,{hk:"1yLSRM"})}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-retailer-id-input",value:pe,placeholder:V.fbt._("Item Code (Optional)",null,{hk:"MWG64"}),onChange:e=>{ge(e.text),Te(""),Be(!0)},theme:"small",customStyleThemes:["desaturated"],maxLength:100,error:ke,title:V.fbt._("Item code",null,{hk:"6trPE"})}),(0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id)?(0,X.jsx)(ee,{isComplianceHardEnforced:We(),isComplianceInfoAvailable:Fe,showComplianceInfoImporterAddress:Ve(),complianceInfo:Ue,onComplianceInfoChange:Xe,onComplianceInfoImporterAddressChange:Ke}):null,it,et]})})]},"catalog-link-drawer")}));function ee(e){let{isComplianceInfoAvailable:t,isComplianceHardEnforced:n,showComplianceInfoImporterAddress:r,complianceInfo:i,onComplianceInfoChange:a,onComplianceInfoImporterAddressChange:l}=e;const[s,d]=(0,W.useState)([]),u=(0,W.useMemo)((()=>{const e=(0,q.getMeUser)();return s.length>0&&(0,c.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e)?(0,x.bubbleCountryOnListOfCountries)(s,C.COMPLIANCE_INFO_CODES.INDIA,!0):s}),[s]),f=(0,W.useMemo)((()=>{const e=(0,q.getMeUser)();if(s.length>0&&(0,c.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e)){let e=C.COMPLIANCE_INFO_CODES.INDIA;return"string"==typeof(null==i?void 0:i.countryCodeOrigin)&&""!==i.countryCodeOrigin&&(e=i.countryCodeOrigin),(0,x.formatCountriesOfOrigin)(s,e)}return s}),[s,null==i?void 0:i.countryCodeOrigin]),h=e=>`${e.toString()} (${V.fbt._("Optional",null,{hk:"4vf9yI"}).toString()})`,p=e=>!i||Object.values(i.importerAddress).every((e=>!e))?h(e):e;return(0,W.useEffect)((()=>{let e=!0;return(0,o.default)((function*(){const t=(0,q.getMeUser)();if((0,c.canSeeECommerceComplianceIndiaSoftEnforcement)(t)){const t=yield(0,x.getCountries)({filter:x.COUNTRY_FILTER_TYPE.META_RECOGNIZED});e&&d(t)}}))(),()=>{e=!1}}),[]),t&&s.length?(0,X.jsxs)("div",{"data-testid":"product-edit-drawer-compliance",children:[(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-compliance-country-of-origin-input",value:null==i?void 0:i.countryNameOrigin,placeholder:V.fbt._("Country of Origin",null,{hk:"2yl0F7"}),onChange:()=>{},theme:"small",customStyleThemes:["desaturated"],managed:!0,onFocus:()=>m.Cmd.showCountrySelector(V.fbt._("Country of Origin",null,{hk:"2yl0F7"}),null==i?void 0:i.countryCodeOrigin,f,(e=>{a("countryCodeOrigin",e)})),error:null==i?void 0:i.countryCodeOriginError}),r&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-compliance-importer-name-input",value:null==i?void 0:i.importerName,placeholder:p(V.fbt._("Importer Name",null,{hk:"3DW3Nn"})),onChange:e=>{a("importerName",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:C.COMPLIANCE_INFO_LENGTH.IMPORTER_NAME,error:null==i?void 0:i.importerNameError}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-street-1-input",value:null==i?void 0:i.importerAddress.street1,placeholder:p(V.fbt._("Importer Address Line 1",null,{hk:"1ORfyh"})),onChange:e=>{l("street1",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:C.COMPLIANCE_INFO_LENGTH.STREET1,error:null==i?void 0:i.importerAddress.street1Error}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-street-2-input",value:null==i?void 0:i.importerAddress.street2,placeholder:h(V.fbt._("Importer Address Line 2",null,{hk:"2pYt7Y"})),onChange:e=>{l("street2",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:C.COMPLIANCE_INFO_LENGTH.STREET2}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-city-input",value:null==i?void 0:i.importerAddress.city,placeholder:p(V.fbt._("Importer City",null,{hk:"4c06Q3"})),onChange:e=>{l("city",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:C.COMPLIANCE_INFO_LENGTH.CITY,error:null==i?void 0:i.importerAddress.cityError}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-region-input",value:null==i?void 0:i.importerAddress.region,placeholder:h(V.fbt._("Importer Region",null,{hk:"3MkbQD"})),onChange:e=>{l("region",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:C.COMPLIANCE_INFO_LENGTH.REGION}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-country-code-input",value:null==i?void 0:i.importerAddress.countryName,placeholder:p(V.fbt._("Importer Country",null,{hk:"3ar6sr"})),onChange:()=>{},theme:"small",customStyleThemes:["desaturated"],managed:!0,onFocus:()=>m.Cmd.showCountrySelector(V.fbt._("Importer Country",null,{hk:"3ar6sr"}),null==i?void 0:i.importerAddress.countryCode,u,(e=>{l("countryCode",e)})),error:null==i?void 0:i.importerAddress.countryCodeError}),(0,X.jsx)(N.RichTextField,{testid:"product-edit-drawer-compliance-importer-address-postal-code-input",value:null==i?void 0:i.importerAddress.postalCode,placeholder:h(V.fbt._("Importer Zip/Postal Code",null,{hk:"Bbhqf"})),onChange:e=>{l("postalCode",e.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:C.COMPLIANCE_INFO_LENGTH.POSTAL_CODE}),(0,X.jsx)(v.ComplianceInfoHelpCenterBanner,{xstyle:J.complianceInfoHelpCenterBanner})]})]}):(0,X.jsx)(k.FlexRow,{align:"center",justify:"center",children:(0,X.jsx)(T.default,{children:(0,X.jsx)(B.Spinner,{})})})}t.EditProductDrawer=$,$.displayName="EditProductDrawer"},114742:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(170206)),o=r(n(196554)),a=r(n(846870)),l=r(n(908081)),s=r(n(324093)),d=n(568550),u=n(626194),c=r(n(969358)),f=n(753233),h=r(n(468601)),p=n(956113),g=n(180519),m=n(548360),C=n(667294),v=r(n(156720)),x=n(785893);const y={isLoading:{pointerEvents:"m62443ks",opacity:"n791o4v8"},placeholderIcon:{position:"g0rxnol2",width:"dxy1asz1",height:"q7zw29cd",background:"tqd5if5z",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},spinner:{position:"lhggkp7q",top:"kfa44f3y",start:"m7kgcvyw",zIndex:"thghmljt",transform:"qk2y3tb3"},placeholderContainer:{width:"ln8gz9je",paddingTop:"emrlamx0",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginTop:"c46o30wg",marginEnd:"jnwc1y2a",marginBottom:"du8bjn1j",marginStart:"svoq16ka",borderTop:"lufur1ix"},addItemPlaceholder:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",borderTop:"q4zabkcz"},divider:{width:"jpfst8ig",marginStart:"ia9wx81j",borderTop:"lufur1ix"}},b="https://www.facebook.com/legal/terms",j="https://www.facebook.com/policies/commerce";function E(e,t){const{onBack:n,onAddProductClick:r,isCreatingCatalogFn:C}=e,E=C(),_=(0,x.jsx)("div",{className:(0,v.default)(y.placeholderIcon)}),S=(0,x.jsx)(o.default,{href:b,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(b)},children:m.fbt._("Facebook Product",null,{hk:"3JyFEa"})}),w=(0,x.jsx)(o.default,{href:j,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(j)},children:m.fbt._("Facebook Commercial Terms",null,{hk:"3LS54M"})}),k=(0,x.jsx)(o.default,{href:a.default.WA_COMMERCE_POLICY_URL,onClick:e=>{e.preventDefault(),(0,f.openExternalLink)(a.default.WA_COMMERCE_POLICY_URL)},children:m.fbt._("WhatsApp Commerce Policies",null,{hk:"2wf95I"})}),T=m.fbt._("By using this feature, you're using a {fb_product_link} and agree that the {fb_commerce_link} and {wa_commerce_policy_link} apply.",[m.fbt._param("fb_product_link",S),m.fbt._param("fb_commerce_link",w),m.fbt._param("wa_commerce_policy_link",k)],{hk:"14xbJv"}),M=(0,v.default)(E&&y.isLoading),I=E?(0,x.jsx)("div",{className:(0,v.default)(y.spinner),children:(0,x.jsx)(p.Spinner,{size:50,stroke:3})}):null,P=E?(0,x.jsx)(h.default,{onClick:()=>{},theme:"default",idle:!!E,testid:"add-item"}):(0,x.jsx)(d.DrawerContext.Consumer,{children:()=>(0,x.jsx)(h.default,{onClick:()=>{r()},theme:"default",idle:!1,testid:"add-item"})});return(0,x.jsxs)(l.default,{ref:t,children:[(0,x.jsx)(u.DrawerHeader,{title:m.fbt._("Catalog",null,{hk:"3YVOSV"}),type:u.DRAWER_HEADER_TYPE.LARGE,onBack:n}),(0,x.jsx)(s.default,{className:M,children:(0,x.jsxs)(c.default,{theme:"padding-small",animation:!1,children:[I,(0,x.jsx)(g.TextDiv,{theme:"title",children:m.fbt._("Add items to your catalog so customers can see what you're offering",null,{hk:"3z35i1"})}),P,(0,x.jsx)(g.TextDiv,{theme:"plain",children:T}),(0,x.jsxs)("div",{className:(0,v.default)(y.placeholderContainer),children:[(0,x.jsx)(i.default,{theme:"add-item-placeholder",image:_,customImage:!0,className:(0,v.default)(y.addItemPlaceholder),primary:"",secondary:"",idle:!0}),(0,x.jsx)("div",{className:(0,v.default)(y.divider)}),(0,x.jsx)(i.default,{theme:"add-item-placeholder",image:_,customImage:!0,className:(0,v.default)(y.addItemPlaceholder),primary:"",secondary:"",idle:!0}),(0,x.jsx)("div",{className:(0,v.default)(y.divider)})]})]})})]},"catalog-link-drawer")}var _=(0,C.forwardRef)(E);t.default=_},387268:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInfoDrawer=void 0;var i=n(15842),o=n(739071),a=r(n(692629)),l=r(n(908081)),s=r(n(324093)),d=n(568550),u=n(626194),c=r(n(969358)),f=r(n(495012)),h=r(n(245611)),p=r(n(331939)),g=n(932523),m=n(77548),C=r(n(791724)),v=r(n(557575)),x=n(530485),y=n(476473),b=n(180519),j=n(676345),E=n(459857),_=n(887222),S=n(548360),w=n(667294),k=r(n(156720)),T=n(655241),M=n(785893);const I={drawerHeader:{display:"p357zi0d",alignItems:"gndfcl4n"},productName:{overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"cqiun4t2",fontWeight:"hnx8ox4h",textOverflow:"lhj4utae"},buttonSeparator:{display:"l7jjieqr"},drawerHeaderButtonContainer:{marginStart:"isfiuinm"},productWrapper:{width:"tcisnlar",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm"},businessInfoTitle:{color:"izlvswng"}},P=(0,w.forwardRef)(((e,t)=>{const{onCancel:n,collectionId:r,catalog:P,onEditProduct:D,onShareProduct:L,isPushed:R=!0}=e,O=(0,w.useContext)(d.DrawerContext),A=(0,T.useModelValues)(e.product,["id","catalogWid","name","priceAmount1000","description","productImageCollection","reviewStatus","url","canAppeal","imageCdnUrl","retailerId","currency","isHidden"]),[N,B]=(0,w.useState)(!0);(0,w.useEffect)((()=>{const e=(0,E.getMaybeMeUser)();R&&(0,_.qplAnnotateProductView)(!(null==e?void 0:e.equals(A.catalogWid))),P.pullProduct(A.id.toString(),R).then((()=>{R&&(0,_.qplEndProductView)(i.QuickLogActionType.SUCCESS)})).catch((()=>{R&&(0,_.qplEndProductView)(i.QuickLogActionType.FAIL)})).finally((()=>{B(!1)})),(0,m.logProductDetailView)({product:A,catalogContext:(0,g.getProductCatalogContext)(O),collectionId:r})}),[]);const F=(0,E.getMaybeMeUser)(),H=y.StatusCollection.get(F),U=(0,M.jsx)(b.TextDiv,{theme:"muted",xstyle:[I.businessInfoTitle,j.uiPadding.vert10,j.uiPadding.horiz20],children:S.fbt._("Business Info",null,{hk:"20HLtr"})}),G=A.reviewStatus!==x.PRODUCT_REVIEW_STATUS.APPROVED||A.isHidden,z=(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{className:(0,k.default)(I.buttonSeparator,j.uiPadding.all0,j.uiPadding.top3,j.uiMargin.end32),children:(0,M.jsx)(a.default,{type:"strong",onClick:()=>{D&&D(A)},testid:"product-info-drawer edit-button",children:S.fbt._("Edit",null,{hk:"4aIVNd"})})}),(0,M.jsx)(a.default,{type:"strong-primary",onClick:()=>{L&&L(A)},disabled:G,testid:"product-info-drawer share-button",children:S.fbt._("Share",null,{hk:"3RmUA"})})]}),q=(0,M.jsxs)("div",{className:(0,k.default)(I.drawerHeader),children:[(0,M.jsx)("div",{className:(0,k.default)(I.productName),children:A.name}),(0,M.jsx)("div",{className:(0,k.default)(I.drawerHeaderButtonContainer,j.uiPadding.all0,j.uiPadding.end10),children:z})]}),V=H?(0,M.jsx)(c.default,{title:U,theme:"no-padding",children:(0,M.jsx)(p.default,{status:H})}):null,W=N?(0,M.jsx)(f.default,{}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(v.default,{product:A,isAvailable:!0,fetching:!1}),(0,M.jsx)(h.default,{product:A}),(0,M.jsx)(C.default,{product:A,collectionId:r,onSendChat:()=>{n(),(0,o.sendProductToChat)(A,P),(0,m.logProductMessageBusinessClick)(A,(0,g.getProductCatalogContext)(O))},isAvailable:!0})]});return(0,M.jsxs)(l.default,{ref:t,theme:"catalog",children:[(0,M.jsx)(u.DrawerHeader,{testid:"catalog-product-title",title:q,titleStr:A.name,type:u.DRAWER_HEADER_TYPE.SMALL,onCancel:n,headingLevel:"2",focusBackOrCancel:!0}),(0,M.jsxs)(s.default,{children:[(0,M.jsx)(c.default,{theme:"center-column-fixed-width",children:W}),(0,M.jsx)("div",{className:(0,k.default)(I.productWrapper),children:V})]})]},"catalog-link-drawer")}));t.ProductInfoDrawer=P,P.displayName="ProductInfoDrawer"},245611:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t}=e;const n=(0,v.jsx)(o.default,{href:a.default.WA_COMMERCE_POLICY_URL,onClick:e=>{e.preventDefault(),(0,s.openExternalLink)(a.default.WA_COMMERCE_POLICY_URL)},children:u.default.t(393)});if(t.reviewStatus===h.PRODUCT_REVIEW_STATUS.APPROVED)return t.isHidden?(0,v.jsxs)("div",{className:(0,C.default)(x),children:[(0,v.jsx)("div",{className:(0,C.default)(y),children:(0,v.jsx)(g.VisibilityOffIcon,{})}),(0,v.jsx)("div",{className:(0,C.default)(b),children:(0,v.jsx)(p.TextDiv,{children:m.fbt._("You hid this item. Your customers can't see it in your catalog",null,{hk:"28Rw4y"})})})]}):null;if(t.reviewStatus===h.PRODUCT_REVIEW_STATUS.REJECTED){if(!0===t.canAppeal){const e=m.fbt._("This item wasn't approved because it doesn't follow our product or service guidelines. {learn_more_link}.",[m.fbt._param("learn_more_link",n)],{hk:"3r1bOw"}),r=(0,v.jsx)(o.default,{onClick:function(){c.ModalManager.open((0,v.jsx)(l.DrawerContext.Consumer,{children:e=>(0,v.jsx)(i.default,{product:t,sessionId:(0,f.getProductCatalogSessionId)(e)})}))},testid:"product-appeal-button",children:m.fbt._("request another review",null,{hk:"1edAPz"})}),a=(0,v.jsx)("span",{className:(0,C.default)(j),tabIndex:"0",children:m.fbt._("If you feel this is not correct, you can {request_review_link}.",[m.fbt._param("request_review_link",r)],{hk:"2Vozbp"})});return(0,v.jsxs)("div",{className:(0,C.default)(x),"data-testid":"product-appeal-rejected-initial-review",children:[(0,v.jsx)("div",{className:(0,C.default)(y),children:(0,v.jsx)(d.InfoIcon,{})}),(0,v.jsxs)("div",{className:(0,C.default)(b),children:[e,a]})]})}const e=m.fbt._("We reviewed this item again and found it didn't follow product or service guidelines. {learn_more_link}.",[m.fbt._param("learn_more_link",n)],{hk:"4yu8I0"});return(0,v.jsx)("div",{className:(0,C.default)(x),"data-testid":"product-appeal-rejected-final",children:e})}if(t.reviewStatus===h.PRODUCT_REVIEW_STATUS.NO_REVIEW||t.reviewStatus===h.PRODUCT_REVIEW_STATUS.OUTDATED){const e=t.isHidden?m.fbt._("This item is being reviewed. You hid it, so customers won't see it in your catalog when it's approved. {learn_more_link}.",[m.fbt._param("learn_more_link",n)],{hk:"6Banw"}):m.fbt._("This item is being reviewed. If it's been approved, your customers will be able to see it on your profile. {learn_more_link}.",[m.fbt._param("learn_more_link",n)],{hk:"3qp9RQ"});return(0,v.jsx)("div",{className:(0,C.default)(x),"data-testid":"product-appeal-pending-initial-review",children:e})}if(!1===t.canAppeal){const e=m.fbt._("Your appeal was submitted. If it's approved, your item will be added to your catalog. If it's not approved, you'll be notified.",null,{hk:"1AmQTZ"});return(0,v.jsx)("div",{className:(0,C.default)(x),"data-testid":"product-appeal-pending-appeal",children:e})}return null};var i=r(n(513534)),o=r(n(196554)),a=r(n(846870)),l=n(568550),s=n(753233),d=n(731085),u=r(n(932325)),c=n(114850),f=n(932523),h=n(530485),p=n(180519),g=n(700848),m=n(548360),C=r(n(156720)),v=n(785893);const x={paddingTop:"a71rq12o",paddingEnd:"bcymb0na",paddingBottom:"pcbmd69e",paddingStart:"e8k79tju",marginBottom:"mpdn4nr2",lineHeight:"r5qsrrlp",backgroundColor:"ronsgs3n"},y={display:"p357zi0d",flex:"n5hs2j7m",alignItems:"gndfcl4n"},b={marginStart:"r6x3u63k"},j={display:"l7jjieqr",marginTop:"a4rz4n5c",fontSize:"f8jlpxt4"}},331939:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.status,["status"]);return(0,d.jsx)(i.default,{image:(0,d.jsx)(a.DetailImage,{id:(0,l.getMaybeMeUser)()}),primary:o.Conn.pushname,secondary:t.status,idle:!0})};var i=r(n(170206)),o=n(445729),a=n(23641),l=n(459857),s=n(655241),d=n(785893)},83689:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t,theme:n="collection-edit",onDelete:r,onEdit:a,onSeeCollection:d,canManage:f,isReorder:y}=e,[b]=(0,p.useState)(!1),[j,E]=(0,p.useState)(null),_=e=>{e.preventDefault(),e.stopPropagation(),r&&r(t)},S=e=>{e.preventDefault(),e.stopPropagation(),a&&a(t)},w=()=>{E(null)},k=(0,m.jsx)("div",{className:(0,g.default)(C),children:(0,m.jsx)("div",{className:(0,g.default)(v),children:(0,m.jsx)(o.CollectionsFolderIcon,{})})}),T=(0,m.jsx)(s.EmojiText,{text:t.name,ellipsify:!0,titlify:!0});let M;j&&(M=(0,m.jsx)(u.UIE,{displayName:"CollectionContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:w,children:(0,m.jsx)(c.default,{contextMenu:j})}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.default,{customImage:!0,image:k,primary:T,theme:n,detail:y?(0,m.jsx)(x,{}):void 0,active:b,contextEnabled:()=>e.canManage&&!y,onContext:e=>{if(j)return void E(null);const t=[];f&&(t.push((0,m.jsx)(l.DropdownItem,{testid:"mi-edit-collection",action:S,children:h.fbt._("Edit",null,{hk:"Xow6E"})},"EditLabel")),t.push((0,m.jsx)(l.DropdownItem,{testid:"mi-delete-collection",action:_,children:h.fbt._("Delete",null,{hk:"1rLhBB"})},"DeleteLabel"))),E({menu:t,event:e.event,anchor:e.anchor})},onClick:e=>{e.preventDefault(),e.stopPropagation(),y||d&&d(t)}},t.id.toString()),M]})};var i=r(n(991370)),o=n(910648),a=n(156546),l=n(675085),s=n(305521),d=n(690495),u=n(392632),c=r(n(37875)),f=n(676345),h=n(548360),p=n(667294),g=r(n(156720)),m=n(785893);const C={zIndex:"thghmljt",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"h4dw90qs",marginTop:"dj1c3cmq",marginEnd:"ds60debm",marginBottom:"or9x5nie",marginStart:"svoq16ka",color:"bot80yxp",pointerEvents:"m62443ks",backgroundColor:"ddl5anf2",borderTopStartRadius:"r18xjin9",borderTopEndRadius:"pz6oj2k2",borderBottomEndRadius:"sa2xs5zj",borderBottomStartRadius:"n58sa971"},v={transform:"t21h2yns"},x=()=>(0,m.jsx)(d.FlexColumn,{xstyle:f.uiMargin.end15,justify:"center",align:"center",children:(0,m.jsx)(a.DraggableItemIcon,{})})},185602:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{data:t,canManage:n,onEditCollection:r,onSeeCollection:m,isReorder:C,handleReorderMove:v,containerRef:x,onFinalDropOfItem:y}=e,b=(0,p.useModelValues)(e.catalog,["collections"]),j=(0,h.useMemo)((()=>t.map(((e,t)=>e.collection?{itemKey:e.collection.id,catalogListItem:e,order:t}:null)).filter(Boolean)),[t]),E=(0,h.useContext)(i.DrawerContext),_=e=>e?(0,g.jsx)(c.default,{collection:e,canManage:n,onDelete:()=>((e,t)=>{(0,s.handleCollectionDelete)((0,f.unproxy)(b),e,t)})(e,(0,u.getProductCatalogContext)(E)),onEdit:r,onSeeCollection:m,isReorder:C}):null;return(0,g.jsx)(a.default,{flatListControllers:[e.flatListController],children:(0,g.jsx)(l.DragAndDropWrapper,{containerRef:x,children:(0,g.jsx)(o.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:j,renderItem:e=>{let{catalogListItem:{collection:t},order:n}=e;return C?(0,g.jsx)(l.DragAndDropItem,{index:n,onMove:v,onFinalDrop:y,children:_(t)}):_(t)},defaultItemHeight:d.PRODUCT_LIST_ITEM_HEIGHT})})})};var i=n(568550),o=n(512938),a=r(n(964223)),l=n(658616),s=n(491606),d=n(899841),u=n(932523),c=r(n(83689)),f=n(163139),h=n(667294),p=n(655241),g=n(785893)},980679:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(348926)),o=n(293760),a=n(487769),l=r(n(98017)),s=n(15842),d=n(477627),u=r(n(692629)),c=n(713464),f=r(n(908081)),h=r(n(324093)),p=n(568550),g=n(626194),m=r(n(570834)),C=r(n(495012)),v=n(690495),x=r(n(469733)),y=n(491606),b=r(n(468601)),j=n(899841),E=n(932523),_=r(n(185602)),S=r(n(114495)),w=n(316348),k=n(555622),T=n(956113),M=n(368170),I=n(676345),P=n(459857),D=n(548360),L=n(667294),R=r(n(156720)),O=r(n(637660)),A=r(n(558532)),N=r(n(17533)),B=r(n(286481)),F=n(785893);const H={loadingSpinner:{display:"btb1m7bk",justifyContent:"ac2vgrno",height:"jdwybkuq"},footer:{backgroundColor:"rv6u8h8g"},reorderLoadingScreen:{minWidth:"llkbrke6",minHeight:"sdfuwbjb",position:"lhggkp7q",zIndex:"bgigc5s4",backgroundColor:"rz1eta6h",transitionProperty:"ariinwu3",transitionDuration:"p4t1lx4y",transitionTimingFunction:"pu4k07i0"}};function U(e){let{onClick:t,disableBtn:n=!1,isLoading:r}=e;return(0,F.jsx)(v.FlexContainer,{xstyle:[H.footer,I.uiPadding.bottom8],direction:"horizontal",justify:"end",children:(0,F.jsx)(u.default,{xstyle:I.uiMargin.all12,onClick:t,disabled:n,spinner:r,type:"primary",children:D.fbt._("Save",null,{hk:"4EgenI"})})})}function G(){return(0,F.jsx)(v.FlexRow,{xstyle:[H.reorderLoadingScreen],align:"center",justify:"center",testid:"collection-reorder-updating-loading",children:(0,F.jsx)(x.default,{children:(0,F.jsx)(T.Spinner,{size:50,stroke:4,color:"accent"})})})}function z(e){let{catalog:t,isReorder:n,isLoadingMore:r,reorderedCollection:i,editCollection:o,onSeeCollection:a,handleReorderMove:l,checkIfCollectionIsDirty:s,catalogFlatListController:d,drawerRef:u}=e;return t?(0,F.jsxs)("div",{children:[!n&&(0,F.jsx)(b.default,{onClick:()=>{o(null)},theme:"collections",title:D.fbt._("New collection",null,{hk:"2Q4UnS"})}),0!==i.length&&(0,F.jsx)(_.default,{canManage:!0,catalog:t,onEditCollection:o,data:i,flatListController:d,onSeeCollection:a,isReorder:n,handleReorderMove:l,containerRef:u,onFinalDropOfItem:s}),r&&(0,F.jsx)("div",{className:(0,R.default)(H.loadingSpinner),children:(0,F.jsx)(C.default,{})})]}):null}function q(e,t){const{setScrollOffset:n,editCollection:r,onSeeCollection:u,onReorderCollection:C,isReorder:v=!1,onBack:x}=e,b=(0,O.default)((()=>new m.default)),_=(0,L.useRef)(null),[T,I]=(0,L.useState)(!0),R=(0,L.useRef)(null),[H,q]=(0,L.useState)(null),[V,W]=(0,L.useState)([]),[Y,Z]=(0,L.useState)(!1),[K,X]=(0,L.useState)(!1),Q=(0,L.useRef)(!0),J=(0,L.useContext)(p.DrawerContext),$=(0,L.useMemo)((()=>{const e=(0,P.getMeUser)();return c.CatalogCollection.get(e)}),[]),ee=(0,L.useCallback)((e=>{(function(){var t=(0,i.default)((function*(){if($)try{const t=new d.CollectionsDataSource($,!0,j.PRODUCT_LIST_ITEM_HEIGHT,e);if(yield null==t?void 0:t.loadInitialItems(),!Q.current||!t)return;const n=new d.CatalogListItemScrollHelper(t);R.current=t,q(n),W(t.getData()),I(!1),e&&k.QPL.markerEnd(w.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW,s.QuickLogActionType.SUCCESS)}catch(t){e&&k.QPL.markerEnd(w.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW,s.QuickLogActionType.FAIL)}}));return function(){return t.apply(this,arguments)}})()()}),[$]);(0,L.useEffect)((()=>{if(!$)return;const{isPushed:t=!0}=e;$.collections.on("add remove",(()=>{Q.current&&R.current&&W((e=>{var t;const n=(null===(t=R.current)||void 0===t?void 0:t.getData())||[];return v?[...e,...n.slice(e.length)]:n}))})),ee(t&&!v)}),[]);const te=(0,B.default)(((e,t)=>{null==n||n(t.scrollTop),(null==H?void 0:H.willLoadMore(t))&&I(!0),null==H||H.onScroll(e,t).then((e=>{e&&I(!1)})).catch((e=>{throw I(!1),e}))}),100),ne=(0,L.useCallback)(((e,t)=>{W((n=>(0,a.arrayMove)(n,e,t)))}),[]),re=(0,N.default)((()=>{const e=(null==$?void 0:$.collections.map((e=>e.id)))||[],t=V.reduce(((e,t)=>t.collection?[...e,t.collection.id]:e),[]);Z(!(0,l.default)(e,t))}));(0,A.default)((()=>{Q.current=!1}));const ie=(0,L.useCallback)((()=>{(function(){var e=(0,i.default)((function*(){try{var e;if(!$)return;X(!0);const t=(0,E.getProductCatalogContext)(J),n=(null==$?void 0:$.collections.map((e=>e.id)))||[],r=V.reduce(((e,t)=>t.collection?[...e,t.collection.id]:e),[]),{moved:i}=(0,o.findArrayDiff)(n,r);if(!i.length)return X(!1),void Z(!1);const a=yield(0,y.handleCollectionReorder)(i,t);if(!Q.current||!R.current)return;if(null===(e=R.current)||void 0===e||e.resetData(),a)return void x();yield ee(!1),Z(!1)}finally{Q.current&&X(!1)}}));return function(){return e.apply(this,arguments)}})()()}),[V,$,x,J,ee]);return(0,F.jsxs)(f.default,{ref:t,theme:"products",children:[(0,F.jsx)(g.DrawerHeader,{title:v?D.fbt._("Reorder",null,{hk:"41Tp0M"}):D.fbt._("Collections",null,{hk:"I9pEH"}),type:g.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,menu:(0,F.jsx)(S.default,{isReorderEnabled:!M.UA.isSafari&&!v&&V.length>1,onReorder:C})}),(0,F.jsx)(h.default,{ref:_,onScroll:e=>{e.currentTarget&&te(e,e.currentTarget)},flatListControllers:[b.current],scrollOffset:e.scrollOffset,children:(0,F.jsx)(z,{catalog:$,isReorder:v,isLoadingMore:T,reorderedCollection:V,editCollection:r,onSeeCollection:u,handleReorderMove:ne,checkIfCollectionIsDirty:re,catalogFlatListController:b.current,drawerRef:_.current})}),v&&(0,F.jsx)(U,{disableBtn:!Y||K,isLoading:K,onClick:()=>{ie()}}),K&&(0,F.jsx)(G,{})]})}var V=(0,L.forwardRef)(q);t.default=V},114495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(72696),i=n(664149),o=n(675085),a=n(526795),l=n(784424),s=n(548360),d=n(667294),u=n(785893);function c(e,t){let{isReorderEnabled:n,onReorder:d=(()=>{})}=e;const c=[];return n&&(0,r.isCollectionReorderingEnabled)()&&c.push((0,u.jsx)(o.DropdownItem,{testid:"menu-item",action:d,children:s.fbt._("Reorder",null,{hk:"2EAZAN"})},"reorder-button")),0===c.length?null:(0,u.jsx)(a.MenuBarItem,{ref:t,testid:"menu-bar-menu",icon:(0,u.jsx)(l.MenuIcon,{}),title:s.fbt._("Menu",null,{hk:"1WeEwR"}),children:(0,u.jsx)(i.Dropdown,{type:i.MenuType.DropdownMenu,flipOnRTL:!0,dirX:i.DirX.LEFT,children:c},"CatalogDetailHeader")})}var f=(0,d.forwardRef)(c);t.default=f},835730:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{quickReply:t}=e,[n,r]=(0,x.useState)(!1),[b,j]=(0,x.useState)(null),E=(0,x.useRef)(null),_=(0,x.useRef)(null),S=f.default.isRTL()?"left":"right",w=()=>{h.ModalManager.open((0,y.jsx)(o.default,{quickReply:t}))},k=function(){var e=(0,i.default)((function*(){try{yield(0,a.deleteQuickReply)(t),g.ToastManager.open((0,y.jsx)(p.Toast,{msg:v.fbt._("Quick reply deleted",null,{hk:"gXzTG"})}))}catch(e){g.ToastManager.open((0,y.jsx)(p.Toast,{msg:v.fbt._("Failed to delete the quick reply",null,{hk:"3yXE4I"})}))}finally{h.ModalManager.close()}}));return function(){return e.apply(this,arguments)}}(),T=()=>{h.ModalManager.open((0,y.jsx)(s.ConfirmPopup,{title:v.fbt._("Delete quick reply",null,{hk:"26SlCG"}),onOK:k,onCancel:()=>{h.ModalManager.close()},children:v.fbt._("Are you sure you want to delete the quick reply?",null,{hk:"38ji3u"})}))},M=b&&(0,y.jsx)(m.UIE,{displayName:"QuickReplyContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{j(null),u.default.focus(E.current)},children:(0,y.jsx)(C.default,{contextMenu:b})});return(0,y.jsxs)(c.HotKeys,{ref:E,handlers:{[S]:()=>{var e;null===(e=_.current)||void 0===e||e.focusOnContextMenuButton()}},tabIndex:0,onFocus:()=>{var e;null===(e=_.current)||void 0===e||e.mouseOver(),r(!0)},onBlur:()=>{var e;null===(e=_.current)||void 0===e||e.mouseLeave(),r(!1)},children:[(0,y.jsx)(l.default,{ref:_,active:n||!!b,contextEnabled:()=>!0,contextMenuControlled:!0,onContext:e=>{if(b)return void j(null);const t=[];t.push((0,y.jsx)(d.DropdownItem,{testid:"mi-edit-quick_reply",action:w,children:v.fbt._("Edit",null,{hk:"O1WFg"})},"mi-edit-quick_reply")),t.push((0,y.jsx)(d.DropdownItem,{testid:"mi-delete-quick-reply",action:T,children:v.fbt._("Delete",null,{hk:"1XMCRZ"})},"mi-delete-quick-reply")),j({menu:t,event:e.event,anchor:e.anchor})},theme:"quick-replies-drawer-item",primary:t.shortcut,secondary:t.message,testid:"quick-replies-drawer-item"}),M]})};var i=r(n(348926)),o=r(n(441033)),a=n(752819),l=r(n(991370)),s=n(103440),d=n(675085),u=r(n(335540)),c=n(81644),f=r(n(932325)),h=n(114850),p=n(625786),g=n(390737),m=n(392632),C=r(n(37875)),v=n(548360),x=n(667294),y=n(785893)},430772:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,u.useMsgValues)(e.msg.id,[s.getFrom,s.getT]),r=o.Clock.relativeDateAndTimeStr(n),p=(0,a.getSize)(a.DetailImageSize.Small);return(0,c.jsx)(i.default,{contextEnabled:()=>!1,image:(0,c.jsx)("div",{className:(0,d.default)(f),style:{height:p,width:p},children:(0,c.jsx)(a.DefaultIcon,{id:t})}),primary:(0,c.jsx)(l.EmojiText,{direction:"auto",text:e.agentName,titlify:!0,ellipsify:!0}),secondary:(0,c.jsx)("span",{title:r,children:r}),className:(0,d.default)(h),theme:e.theme,idle:!0})};var i=r(n(991370)),o=n(63014),a=n(23641),l=n(305521),s=n(787742),d=r(n(156720)),u=n(871210),c=n(785893);const f={position:"g0rxnol2"},h={cursor:"okw0zzku",boxShadow:"tio0brup"}},163567:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{title:t,icon:n,t:r}=e;const d=null!=r?o.Clock.relativeDateAndTimeStr(r):"-",u=(0,s.jsxs)("div",{className:l.default.title,"data-testid":"msg-info-title",children:[n,(0,s.jsx)(a.EmojiText,{direction:"auto",text:t,titlify:!0,ellipsify:!0})]});return(0,s.jsx)(i.default,{primary:u,secondary:d,theme:"plain",idle:!0,testid:"kept-by-info"})};var i=r(n(170206)),o=n(63014),a=n(305521),l=r(n(635263)),s=n(785893)},937945:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.useModelValues)(e.contact,["id","name","formattedName","notifyName"]),n=(0,u.jsx)(a.DetailImage,{id:t.id});let r;null!=e.kicTimestampMs&&(r=o.Clock.relativeDateAndTimeStr(e.kicTimestampMs/1e3));const h=(0,u.jsx)("span",{title:r,children:r});let p;!t.name&&t.notifyName&&(p=(0,u.jsx)(l.EmojiText,{className:(0,s.default)(c),direction:"auto",text:t.notifyName}));return(0,u.jsx)(i.default,{contextEnabled:()=>!1,image:n,primary:(0,u.jsx)(l.EmojiText,{direction:"auto",text:t.formattedName,titlify:!0,ellipsify:!0}),secondary:h,secondaryDetail:p,style:(0,s.default)(f),theme:e.theme,idle:!0,testid:"kept-by-info"})};var i=r(n(991370)),o=n(63014),a=n(23641),l=n(305521),s=r(n(156720)),d=n(655241),u=n(785893);const c={"::before":{content:"f76rftwh"}},f={cursor:"okw0zzku",boxShadow:"tio0brup"}},62375:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarOverlayTheme=t.AvatarOverlay=void 0;var i=n(667294),o=r(n(156720)),a=n(785893);const l=n(76672).Mirrored(["DEFAULT","COMMUNITY"]);t.AvatarOverlayTheme=l;const s={overlay:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"ercejckq",boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",paddingTop:"pxvlsfnc",fontSize:"ovllcyds",lineHeight:"tkq7s68q",color:"k239c91b",textTransform:"ofejerhi",backgroundColor:"epdck8xl",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},noBorderRadius:{borderTopStartRadius:"bi2mdrpt",borderTopEndRadius:"hsk1pqkj",borderBottomEndRadius:"e3yfz9gx",borderBottomStartRadius:"a0vc5f8u"},icon:{color:"k17s6i4e"},text:{width:"gbtdc75f",marginTop:"opp68qpq",textAlign:"qfejxiq4",overflowWrap:"fd365im1"}},d=(0,i.forwardRef)(((e,t)=>(0,a.jsxs)("div",{ref:t,className:(0,o.default)([s.overlay,e.theme===l.COMMUNITY&&s.noBorderRadius]),children:[(0,a.jsx)("div",{className:(0,o.default)(s.icon),children:e.icon}),(0,a.jsx)("div",{"data-testid":"avatar-text",className:(0,o.default)(s.text),children:e.text})]},"avatar-overlay")));t.AvatarOverlay=d,d.displayName="AvatarOverlay"},681176:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(506479)),a=n(667294),l=r(n(156720)),s=n(785893);const d=["breakpoint","inverseToContainer","maxWidth","minWidth","xstyle"],u={boxSizing:"cm280p3y",flexShrink:"oq44ahr5",position:"g0rxnol2"};function c(e,t){let{breakpoint:n,inverseToContainer:r=!1,maxWidth:a,minWidth:c,xstyle:f}=e,h=(0,o.default)(e,d);return(0,s.jsx)("div",(0,i.default)((0,i.default)({},h),{},{className:(0,l.default)(u,f),ref:t,style:{maxWidth:a,minWidth:c,width:r?`calc((${n}px - 100%) * 9999)`:`calc((100% - ${n-.1}px) * 9999)`}}))}var f=(0,a.forwardRef)(c);t.default=f},245956:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t,download:n,file:r,extension:s}=e;return(0,a.jsx)(o.default,{xstyle:l.button,onClick:()=>{null!=r&&i.FileSaver.downloadData(r,n,s)},children:t})};var i=n(821130),o=r(n(625903)),a=(r(n(156720)),n(785893));const l={button:{display:"f804f6gw"}}},29394:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.useRef)(null),n=(0,d.useRef)([]);e.refs&&e.tabConfigs.forEach(((t,n)=>(0,i.default)(e.refs,"props.refs")[n]={current:(0,i.default)(document.body,"document.body")}));return(0,c.jsx)(l.HotKeys,{role:"tablist",handlers:{right:()=>{var r,i;const o=null!==(r=t.current)&&void 0!==r?r:e.tabConfigs.length-1,a=o===e.tabConfigs.length-1?0:o+1;null===(i=n.current[a])||void 0===i||i.focus()},left:()=>{var r,i;const o=null!==(r=t.current)&&void 0!==r?r:0,a=0===o?e.tabConfigs.length-1:o-1;null===(i=n.current[a])||void 0===i||i.focus()}},children:(0,c.jsx)(o.FlexRow,{children:e.tabConfigs.map(((r,i)=>{let{Icon:o,iconStyle:l,ariaLabel:d}=r;const h=e.selectedIndex===i,p=0===i,g=i===e.tabConfigs.length-1;return(0,c.jsx)(a.default,{align:"stretch",children:(0,c.jsx)("button",{"aria-label":d,role:"tab",ref:e=>n.current[i]=e,tabIndex:null==e.selectedIndex&&p||h?0:-1,"aria-selected":h,className:(0,u.default)(h&&f.selected,f.tab,p&&f.firstTab,g&&f.lastTab),onClick:()=>e.onSelect(i),onFocus:()=>t.current=i,children:(0,c.jsx)(o,{containerRef:e.refs?e.refs[i]:void 0,iconXstyle:[f.icon,l],className:(0,u.default)(p&&f.firstIconContainer,g&&f.lastIconContainer,!0===e.popupAtLuanch&&f.popupAnim,s.UA.isElectron&&f.electronIconsPerspective),style:{animationDuration:"0.6s",animationDelay:.5+.3*i+"s"}})})},i)}))})})};var i=r(n(670983)),o=n(690495),a=r(n(469733)),l=n(81644),s=n(368170),d=n(667294),u=r(n(156720)),c=n(785893);const f={selected:{backgroundColor:"f7wxzknn"},tab:{display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",width:"dq3evca1",height:"epwkujcx",boxSizing:"cm280p3y",borderTop:"lbsrbgll",borderEnd:"q49csmvs",borderBottom:"bh3h7g0c",borderStart:"tqxyxngt",borderStartWidth:"ldwklxfk",borderEndWidth:"gwvgr1ja"},firstTab:{borderTopStartRadius:"g1jn521u",borderBottomStartRadius:"bbs9k8l5",borderStartWidth:"mzoqfcbu",":focus":{borderTopStartRadius:"oyztl3ar",borderBottomStartRadius:"h6r5aqpz"}},lastTab:{borderTopEndRadius:"mrnekr2l",borderBottomEndRadius:"wu0i2wpa",borderEndWidth:"p7waza29",":focus":{borderTopEndRadius:"kq55ehwl",borderBottomEndRadius:"t2hfvjzt"}},icon:{color:"svlsagor",width:"hgg0ttet",height:"qgpfrw6h"},firstIconContainer:{marginStart:"fooq7fky"},lastIconContainer:{marginEnd:"bugiwsl0"},popupAnim:{animationName:"j6t0p44n"},electronIconsPerspective:{transform:"j8qkm4ft"}}},482500:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(435161)),o=r(n(670983)),a=n(752253),l=n(465113),s=r(n(988410)),d=r(n(335540)),u=n(914368),c=n(81644),f=r(n(359599)),h=r(n(237889)),p=n(956113),g=n(931109),m=r(n(625903)),C=r(n(585951)),v=r(n(556869)),x=n(548360),y=n(667294),b=r(n(637660)),j=r(n(286481)),E=n(785893);function _(e,t){const{onImageClick:n,isLoadingMore:r,canLoadMore:_,onRequestMoreImages:S,onFocusPrev:w,thumbnails:k}=e,T=(0,y.useRef)(null),M=(0,b.default)((()=>new Map)),I=(0,y.useRef)(null),P=(0,b.default)((()=>new h.default(k,(e=>e.id)))),[D,L]=(0,y.useState)(null),R=(0,y.useCallback)((function(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=P.current,n=t.getVal();if(n&&D!==n&&(L(n),t.index>-1)){const n=M.current.get(`${t.index}`);d.default.focus(n),e&&n&&(0,l.scrollIntoViewIfNeeded)(n,!1)}}),[M,D,P]),O=new f.default(((e,t)=>{t?M.current.set(e,t):M.current.delete(e)})),A=e=>{const t=e.target;n&&1===t.nodeType&&"IMG"===t.tagName&&n(t.src)},N=(0,y.useCallback)((()=>{if(!r&&_&&S){if(!T.current)throw(0,v.default)("Requesting more images when body not rendered");T.current.scrollTop+u.SCROLL_FUDGE>T.current.scrollHeight-T.current.clientHeight&&S()}}),[_,r,S]),B=(0,j.default)(N,100),F=()=>{P.current.unset(),L(void 0)};(0,y.useEffect)((()=>{N(),P.current.init(k,!1),R()}),[N,P,k,R]);const H=()=>{I.current&&I.current.focus()};(0,y.useImperativeHandle)(t,(()=>({focus:H,handleRequestDismiss:F})));const U=(0,i.default)(e.thumbnails,((e,t)=>{let{id:n,name:r,thumbUrl:i}=e;const o=!!D&&D.id===n,l=(0,a.cx)({[C.default.selected]:o,[C.default.imageGalleryItem]:!0}),s=(0,E.jsx)("div",{className:C.default.imageGalleryItemOverlay});return(0,E.jsxs)("div",{ref:O.getRefSetter(`${t}`),className:l,tabIndex:-1,children:[s,(0,E.jsx)(m.default,{onClick:A,children:(0,E.jsx)("img",{alt:x.fbt._("Result: {name}",[x.fbt._param("name",r)],{hk:"1u9YJJ"}),className:C.default.imageGalleryItemImage,src:i})})]},n)})),G=e.isLoadingMore?(0,E.jsx)("div",{tabIndex:-1,className:C.default.imageGalleryFooter,children:(0,E.jsx)(p.Spinner,{stroke:6,size:24})}):null;return(0,E.jsx)(c.HotKeys,{className:C.default.imageGallery,"data-tab":g.TAB_ORDER.CHAT_IMAGE_GALLERY,handlers:{down:e=>{e.preventDefault(),e.stopPropagation(),P.current.set(P.current.index+3,!1,!1),R(!0,!0)},enter:()=>{const e=P.current.getVal();e||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("No value selected, but enter clicked")),n&&e&&n(e.thumbUrl)},left:e=>{e.preventDefault(),e.stopPropagation(),P.current.setPrev(!1),R(!0,!0)},right:e=>{e.preventDefault(),e.stopPropagation(),P.current.setNext(!1),R(!0,!0)},up:e=>{if(e.preventDefault(),e.stopPropagation(),0===P.current.index&&w)w();else{const e=Math.max(P.current.index-3,0);P.current.set(e,!1,!1),R(!0,!0)}}},onFocus:e=>{e.stopPropagation(),e.preventDefault(),(null==P.current.index||P.current.index<0)&&P.current.setFirst(!1),R(!0,!1);const t=(0,o.default)(M.current.get(`${P.current.index}`),"imagesRef.current.get(`${selectionRef.current.index}`)").getElementsByClassName(C.default.imageGalleryItemOverlay);if(1!==t.length)throw(0,v.default)(`Unexpected number of overlay elements ${t.length}`);s.default.maybeIndicateFocus(t[0],C.default.focusAnimation)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},ref:I,children:(0,E.jsxs)("div",{ref:T,className:C.default.imageGalleryList,onScroll:B,children:[U,(0,E.jsx)("div",{tabIndex:-1,className:C.default.imageGalleryItemSpacer}),(0,E.jsx)("div",{tabIndex:-1,className:C.default.imageGalleryItemSpacer}),(0,E.jsx)("div",{tabIndex:-1,className:C.default.imageGalleryItemSpacer}),G]})})}var S=(0,y.forwardRef)(_);t.default=S},127044:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{startImage:t="",type:n,attachToChat:r,id:ae,pending:se=!1,readOnly:de=!1,onImageSet:ue,size:ce,testid:fe,theme:he,dimmed:pe=!1,sendGroupProfilePictureLoggingEvent:ge,active:me}=e;const[Ce,ve]=(0,te.useState)(null!=t?t:""),[xe,ye]=(0,te.useState)(!1),[be,je]=(0,te.useState)(null),[Ee,_e]=(0,te.useState)(),[Se,we]=(0,te.useState)(),ke=(0,ie.default)(),Te=(0,te.useRef)(null),Me=(0,te.useRef)(null),[Ie,Pe]=(0,re.default)(me,"photo-picker");let De=$.fbt._("Photo",null,{hk:"297glr"});const Le=(0,te.useRef)(),Re=(0,te.useRef)([...O.PHOTO_PICKER_QUALIFIED_EMOJIS]);(null!=t?t:"")!==Ce&&(ve(null!=t?t:""),je(""===t?null:be));const Oe=!se&&(null!=be||""===Ce&&!de),Ae=e=>{n===O.PhotoPickerType.GROUP&&(null==ge||ge(e,!!t))},Ne=e=>{n===O.PhotoPickerType.GROUP&&null!=ge&&ge(Q.GROUP_PROFILE_ACTION_TYPE.PROFILE_PIC_UPDATED,!!t,e)},Be=e=>{n===O.PhotoPickerType.GROUP&&null!=ge&&ge(Q.GROUP_PROFILE_ACTION_TYPE[`${String(e)}_PANEL_OPEN`],!!t)},Fe=()=>{Ae(Q.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_UPLOAD_PHOTO);const e=Me.current;if(e)return e.click(),!0},He=()=>{_e(null),null==me||me.reset()},Ue=e=>{const t=e.currentTarget.clientWidth,n=e.currentTarget.clientHeight;je({width:t,height:n})},Ge=()=>{ye(!1)},ze=()=>{ye(!0)},qe=(e,t)=>{if(!e)return ve(""),void je(null);I.loadImage(e).then((()=>{ve(e),ue(e,t)})).catch((e=>{let t;switch(__LOG__(3)`PhotoPicker:onImageReceived failed to load image: ${String(e)}`,n){case O.PhotoPickerType.NEWSLETTER:t=$.fbt._("Couldn't set channel icon.",null,{hk:"444n7p"});break;case O.PhotoPickerType.GROUP:t=$.fbt._("Couldn't set group icon.",null,{hk:"1Yy6JI"});break;case O.PhotoPickerType.COMMUNITY:t=$.fbt._("Couldn't set community icon.",null,{hk:"4bEr1Y"});break;case O.PhotoPickerType.PROFILE:t=$.fbt._("Couldn't set profile photo.",null,{hk:"28vVyZ"});break;case O.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case O.PhotoPickerType.COVER_PHOTO:}L.ModalManager.open((0,oe.jsx)(h.ConfirmPopup,{onOK:()=>L.ModalManager.close(),children:t}))}))},Ve=e=>{const t=URL.createObjectURL(e);I.loadImage(t).then((t=>{if(t&&(t.width<B.PROF_PIC_MIN_SIDE||t.height<B.PROF_PIC_MIN_SIDE))L.ModalManager.open((0,oe.jsx)(h.ConfirmPopup,{onOK:()=>L.ModalManager.close(),children:$.fbt._({"*":"This photo is too small. Please select a photo with height and width of at least {number_of_pixels} pixels.",_1:"This photo is too small. Please select a photo with height and width of at least 1 pixel."},[$.fbt._plural(B.PROF_PIC_MIN_SIDE,"number_of_pixels")],{hk:"yLtJE"})}));else{const t=n===O.PhotoPickerType.COVER_PHOTO?D.ModalTheme.BoxLarge:D.ModalTheme.Box;let r;r=n===O.PhotoPickerType.COVER_PHOTO?F.CropShapeType.RECT:n===O.PhotoPickerType.COMMUNITY?F.CropShapeType.SQUIRCLE:F.CropShapeType.CIRCLE,L.ModalManager.open((0,oe.jsx)(j.default,{img:e,onFinished:(e,t)=>{Ne(Q.PROFILE_PICTURE_TYPE.PHOTO_UPLOAD),qe(e,t)},onRetake:Fe,cropShape:r,theme:t}))}})).catch((()=>{let e;switch(n){case O.PhotoPickerType.NEWSLETTER:e=$.fbt._("Couldn't set channel icon.",null,{hk:"444n7p"});break;case O.PhotoPickerType.GROUP:e=$.fbt._("Couldn't set group icon.",null,{hk:"1Yy6JI"});break;case O.PhotoPickerType.COMMUNITY:e=$.fbt._("Couldn't set community icon.",null,{hk:"4bEr1Y"});break;case O.PhotoPickerType.PROFILE:e=$.fbt._("Couldn't set profile photo.",null,{hk:"28vVyZ"});break;case O.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case O.PhotoPickerType.COVER_PHOTO:}L.ModalManager.open((0,oe.jsx)(h.ConfirmPopup,{onOK:()=>L.ModalManager.close(),children:e}))})).finally((()=>{URL.revokeObjectURL(t)}))},We=function(){var e=(0,o.default)((function*(){const e=Math.floor(Math.random()*Re.current.length);we({color:(0,Z.default)(b.COLOR_OPTIONS[Math.floor(Math.random()*b.COLOR_OPTIONS.length)],200),emoji:yield(0,T.createImageFromEmoji)(Re.current[e])}),Re.current.splice(e,1),0===Re.current.length&&(Re.current=[...O.PHOTO_PICKER_QUALIFIED_EMOJIS])}));return function(){return e.apply(this,arguments)}}(),Ye=()=>{Ae(Q.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_WEB_SEARCH),L.ModalManager.open((0,oe.jsx)(D.Modal,{type:D.ModalTheme.Box,children:(0,oe.jsx)(S.default,{onFinished:(e,t)=>{Ne(Q.PROFILE_PICTURE_TYPE.WEB_SEARCH),qe(e,t)}})}))},Ze=()=>{Ae(Q.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_VIEW_PHOTO);const e=Te.current;if(!e||!ae)return;const t=p.ContactCollection.assertGet(ae),i={transition:"profile-viewer"};r&&(i.uim=ke),L.ModalManager.openMedia((0,oe.jsx)(A.default,{contact:t,profilePicThumb:t.getProfilePicThumb(),animateBorderRadius:n!==O.PhotoPickerType.COMMUNITY,animateSquircle:n===O.PhotoPickerType.COMMUNITY,getZoomNode:t=>{t(e)}}),i)},Ke=()=>{ue(),L.ModalManager.close(),Ne(Q.PROFILE_PICTURE_TYPE.REMOVE_PHOTO)},Xe=()=>{let e;switch(Ae(Q.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_REMOVE_PHOTO),n){case O.PhotoPickerType.NEWSLETTER:e=$.fbt._("Remove this channel's icon?",null,{hk:"3b2j1F"});break;case O.PhotoPickerType.GROUP:e=$.fbt._("Remove this group's icon?",null,{hk:"3upRnn"});break;case O.PhotoPickerType.COMMUNITY:e=$.fbt._("Remove this community's icon?",null,{hk:"3ejOXd"});break;case O.PhotoPickerType.PROFILE:e=$.fbt._("Remove your profile photo?",null,{hk:"zHH3L"});break;case O.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case O.PhotoPickerType.COVER_PHOTO:e=$.fbt._("Remove your cover photo?",null,{hk:"1XkdPH"})}L.ModalManager.open((0,oe.jsx)(h.ConfirmPopup,{onOK:Ke,okText:$.fbt._("Remove",null,{hk:"4uz2xw"}),onCancel:()=>L.ModalManager.close(),cancelText:$.fbt._("Cancel",null,{hk:"H0gNq"}),children:e}))},Qe=()=>{Ae(Q.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_EMOJI_STICKER);const e=$.fbt._("Emoji and sticker",null,{hk:"TUqHK"});L.ModalManager.open((0,oe.jsx)(D.Modal,{type:D.ModalTheme.Box,ariaLabel:e,children:(0,oe.jsx)(b.EditGroupProfileDrawer,{title:e,onCancel:()=>L.ModalManager.close(),onFinished:(e,t,n)=>{Ne(Q.PROFILE_PICTURE_TYPE[String(n)]),qe(e,t),L.ModalManager.close()},sendEmojiStickerPanelOpenLoggingEvent:Be})}))},Je=()=>{const e=[];if(null!=ae&&""!==Ce&&e.push((0,oe.jsx)(y.DropdownItem,{testid:"mi-view-photo",action:Ze,children:$.fbt._("View photo",null,{hk:"3e8MJc"})},"view")),N.default){const t=n===O.PhotoPickerType.COVER_PHOTO?F.CropShapeType.RECT:F.CropShapeType.CIRCLE,r=n===O.PhotoPickerType.COVER_PHOTO?D.ModalTheme.BoxLarge:D.ModalTheme.Box;e.push((0,oe.jsx)(z.default,{onImageTake:(e,t)=>{Ne(Q.PROFILE_PICTURE_TYPE.PHOTO_CAMERA),qe(e,t)},editCropShape:t,modalTheme:r,action:()=>{Ae(Q.GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_TAKE_PHOTO)}},"take"))}return e.push((0,oe.jsx)(y.DropdownItem,{testid:"mi-upload-photo",action:Fe,children:$.fbt._("Upload photo",null,{hk:"rYsA0"})},"upload")),!(0,P.groupProfileEditorEnabled)()||n!==O.PhotoPickerType.GROUP&&n!==O.PhotoPickerType.COMMUNITY&&n!==O.PhotoPickerType.NEWSLETTER||e.push((0,oe.jsx)(y.DropdownItem,{testid:"mi-edit-group-profile-picture",action:Qe,children:$.fbt._("Emoji & sticker",null,{hk:"255zwo"})},"edit")),q.UA.isElectron&&(n!==O.PhotoPickerType.GROUP&&n!==O.PhotoPickerType.COMMUNITY||e.push((0,oe.jsx)(y.DropdownItem,{testid:"mi-search-photo",action:Ye,children:$.fbt._("Web Search",null,{hk:"3otQk8"})},"search"))),""!==Ce&&e.push((0,oe.jsx)(y.DropdownItem,{testid:"mi-remove-photo",action:Xe,children:$.fbt._("Remove photo",null,{hk:"1X2lKq"})},"remove")),e},$e=e=>{if(!Oe)return;if(de)return void(""!==Ce&&Ze());e.stopPropagation(),e.preventDefault();const t=Je();_e({menu:t,anchor:Te.current})};let et,tt;""!==Ce&&(et=(0,oe.jsx)(R.default,{type:"cover",size:be,children:(0,oe.jsx)(w.default,{src:Ce,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:Ue})}));(se||""!==Ce&&!be)&&(tt=n===O.PhotoPickerType.COVER_PHOTO?(0,oe.jsx)("div",{className:(0,ne.default)(le.loadingBg),children:(0,oe.jsx)("div",{className:(0,ne.default)(le.cornerSpinner),children:(0,oe.jsx)(G.Spinner,{size:24,stroke:3,color:"solidwhite"})})}):(0,oe.jsx)(d.default,{}));let nt,rt,it,ot,at=null;if(!se&&!de&&(""===Ce||be)&&(""===Ce||Ee||xe||Pe)){let e="";switch(n){case O.PhotoPickerType.NEWSLETTER:e=""!==Ce?$.fbt._("Change channel icon",null,{hk:"2CKHBB"}):$.fbt._("Add channel icon",null,{hk:"3wZdCL"});break;case O.PhotoPickerType.GROUP:e=""!==Ce?$.fbt._("Change group icon",null,{hk:"DhTFI"}):$.fbt._("Add group icon",null,{hk:"eTjnN"});break;case O.PhotoPickerType.COMMUNITY:e=""!==Ce?$.fbt._("Change community icon",null,{hk:"pg4UZ"}):$.fbt._("Add community icon",null,{hk:"3djWDS"});break;case O.PhotoPickerType.PROFILE:e=""!==Ce?$.fbt._("Change profile photo",null,{hk:"1TRs18"}):$.fbt._("Add profile photo",null,{hk:"4zeUKC"});break;case O.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:case O.PhotoPickerType.COVER_PHOTO:}n!==O.PhotoPickerType.COVER_PHOTO&&(at=(0,oe.jsx)(s.AvatarOverlay,{icon:(0,oe.jsx)(u.CameraIcon,{}),text:e,theme:n===O.PhotoPickerType.COMMUNITY?s.AvatarOverlayTheme.COMMUNITY:s.AvatarOverlayTheme.DEFAULT})),De=e}if((0,te.useEffect)((()=>{if(he===O.PhotoPickerThemeType.EMOJI_SUGGESTIONS&&Se){var e,t,n,r;const o={mimeType:"image/jpeg",width:b.PHOTO_SIZE,height:b.PHOTO_SIZE},a=null!==(e=null===(t=Le.current)||void 0===t?void 0:t.toDataURL((0,i.default)((0,i.default)({},o),{},{pixelRatio:B.PROF_PIC_THUMB_SIDE/b.PHOTO_SIZE,quality:0})))&&void 0!==e?e:"",l=null!==(n=null===(r=Le.current)||void 0===r?void 0:r.toDataURL((0,i.default)((0,i.default)({},o),{},{pixelRatio:2*B.PROF_PIC_MIN_SIDE/b.PHOTO_SIZE,quality:1})))&&void 0!==n?n:"";qe(a,l)}}),[Se]),he===O.PhotoPickerThemeType.EMOJI_SUGGESTIONS){const{color:e,emoji:t}=Se||{};nt=(0,oe.jsx)(Y.default,{testid:"set-random-picture-btn",xstyle:le.newSuggestion,onClick:We,"aria-label":$.fbt._("Set random picture",null,{hk:"4aShRL"}),children:(0,oe.jsx)(U.default,{children:(0,oe.jsx)(H.RefreshIcon,{width:30,height:30})})}),null!=e&&t&&(rt=(0,oe.jsx)(M.Stage,{ref:Le,width:b.PHOTO_SIZE,height:b.PHOTO_SIZE,className:(0,ne.default)(le.hidden),children:(0,oe.jsxs)(M.Layer,{children:[(0,oe.jsx)(M.Rect,{width:b.PHOTO_SIZE,height:b.PHOTO_SIZE,fill:e}),(0,oe.jsx)(M.Image,{width:b.IMAGE_SIZE,height:b.IMAGE_SIZE,offset:{x:b.IMAGE_SIZE/2,y:b.IMAGE_SIZE/2},x:b.PHOTO_SIZE/2,y:b.PHOTO_SIZE/2,image:t,filters:t.naturalWidth<=b.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD&&t.naturalHeight<=b.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD?[K.default]:[]})]})}))}Ee&&(it=(0,oe.jsx)(V.UIE,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:He,children:(0,oe.jsx)(W.default,{contextMenu:Ee})}));if(se||""===Ce||!be){let e;switch(n){case O.PhotoPickerType.PROFILE:e=(0,oe.jsx)(x.DefaultUserIcon,{});break;case O.PhotoPickerType.COMMUNITY:e=(0,oe.jsx)(f.CommunitySquircleIcon,{iconXstyle:le.communitySquircle});break;case O.PhotoPickerType.NEWSLETTER:e=(0,oe.jsx)(v.DefaultNewsletterIcon,{iconXstyle:le.newsletterAvatar});break;case O.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:e=(0,oe.jsx)(l.AnnouncementSpeakerIcon,{directional:!0});break;case O.PhotoPickerType.COVER_PHOTO:e=null;break;default:e=(0,oe.jsx)(C.DefaultGroupIcon,{})}null!=e&&(ot=(0,oe.jsx)("div",{className:(0,g.cx)({[J.default.defaultAnnouncementGroupIcon]:n===O.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP,[J.default.defaultIcon]:!0}),children:e}))}const lt=document.activeElement===Te.current?{space:$e,enter:$e}:{};return(0,oe.jsxs)(k.HotKeys,{className:(0,ee.default)((0,g.cx)({[J.default.coverPhoto]:he===O.PhotoPickerThemeType.COVER_PHOTO,[J.default.container]:!0}),(0,ne.default)((Pe||xe&&""!==Ce)&&de&&le.dimmed)),style:null!=ce?{width:ce,height:ce}:void 0,handlers:lt,ref:Ie,"aria-label":De.toString(),role:"button",children:[(0,oe.jsxs)("div",{className:(0,g.cx)({[J.default.squircleBackground]:n===O.PhotoPickerType.COMMUNITY||n===O.PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP&&(0,c.communityAnnouncementImprovementM2Enabled)(),[J.default.clickable]:Oe,[J.default.body]:!0}),onClick:e=>{if(!Oe)return;if(de)return void(""!==Ce&&Ze());e.stopPropagation(),e.preventDefault();const r=Je();_e({menu:r,event:e}),n===O.PhotoPickerType.GROUP&&null!=ge&&ge(Q.GROUP_PROFILE_ACTION_TYPE.CHANGE_PROFILE_PHOTO,!!t)},onMouseOver:()=>{ye(!0)},onMouseEnter:ze,onMouseLeave:Ge,onPaste:e=>{if(!Ee)return;const t=new m.default(e.clipboardData),n=(0,a.default)(t.getFiles(),(e=>"image"===(0,E.typeFromMimetype)(e.type)));if(!n.length)return;e.preventDefault(),e.stopPropagation(),He();const r=n[0];Ve(r)},onFocus:ze,onBlur:Ge,ref:Te,title:De,dir:"ltr",tabIndex:Oe?0:-1,role:Oe?"button":"none","data-testid":fe,children:[(0,oe.jsxs)("div",{className:(0,ee.default)((0,g.cx)({[J.default.imageContainer]:!0}),(0,ne.default)(pe&&le.dimmed)),children:[et,ot,rt]}),(0,oe.jsxs)(X.default,{transitionName:"fade",children:[tt,at]})]}),(0,oe.jsx)("input",{ref:Me,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:e=>{He();const t=e.target.files[0];if(!t)return!1;Ve(t),e.target.value="",Te.current&&_.default.focus(Te.current)}}),it,nt]})};var i=r(n(81109)),o=r(n(348926)),a=r(n(763105)),l=n(474518),s=n(62375),d=r(n(731792)),u=n(679589),c=n(174834),f=n(247365),h=n(103440),p=n(177938),g=n(752253),m=r(n(194886)),C=n(998266),v=n(509272),x=n(412213),y=n(675085),b=n(568898),j=r(n(428611)),E=n(698210),_=r(n(335540)),S=r(n(418372)),w=r(n(488922)),k=n(81644),T=n(675249),M=n(139519),I=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ae(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(197636)),P=n(97858),D=n(118612),L=n(114850),R=r(n(821384)),O=n(588792),A=r(n(499717)),N=r(n(65162)),B=n(915272),F=n(785093),H=n(735510),U=r(n(802211)),G=n(956113),z=r(n(802602)),q=n(368170),V=n(392632),W=r(n(37875)),Y=r(n(625903)),Z=r(n(774426)),K=r(n(747384)),X=r(n(844453)),Q=n(130756),J=r(n(912306)),$=n(548360),ee=r(n(261294)),te=n(667294),ne=r(n(156720)),re=r(n(928361)),ie=r(n(321201)),oe=n(785893);function ae(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ae=function(e){return e?n:t})(e)}const le={cornerSpinner:{position:"lhggkp7q",start:"qo25nl7o",top:"bqmxb3s7",zIndex:"lqxtw3mz",pointerEvents:"m62443ks"},loadingBg:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",end:"ebjesfe0",bottom:"jxacihee",backgroundColor:"s9lgn3x7",zIndex:"jnl3jror"},communitySquircle:{color:"bk9ojlrj"},newsletterAvatar:{color:"bk9ojlrj"},dimmed:{opacity:"kaq19mkm"},hidden:{display:"qibyn6m3"},newSuggestion:{position:"lhggkp7q",bottom:"jxacihee",end:"ebjesfe0",zIndex:"qwzl264q",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",borderTop:"ryoss9fg",borderEnd:"qlyfm0a8",borderBottom:"mw2c6hax",borderStart:"lz3lu4h7"}}},478163:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(435595),o=r(n(156720)),a=n(785893);const l={container:{position:"g0rxnol2"},disabled:{opacity:"aiwu9bi8"},count:{position:"lhggkp7q",start:"fdi1u0wl",bottom:"iuagithl",zIndex:"g2bpp9au",width:"m0s4cjtr",height:"jdwybkuq",fontSize:"enbbiyaj",lineHeight:"htjsae3x",color:"m4sq1sd8",textAlign:"qfejxiq4",backgroundColor:"ovutvysd",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",boxShadow:"hftcxtij",transitionProperty:"e3b81npk",transitionDuration:"rtx6r8la",transitionTimingFunction:"oa9ii99z"},large:{bottom:"ayh9k7s5",width:"i94gqilv",height:"bmot90v7",lineHeight:"a4ywakfo",start:"cdp1hot0"},wide:{borderTopStartRadius:"kygtoxk5",borderTopEndRadius:"rykvhg4p",borderBottomEndRadius:"llwlbyh8",borderBottomStartRadius:"mhmt5mju",width:"gofbmt1g",paddingStart:"bdbt56hn",paddingEnd:"jfqm35v0"},countText:{verticalAlign:"neme6l2y"}};function s(e){return e>9}function d(e){return e>999}var u=e=>{let{ariaLabel:t,large:n,testid:r,onClick:u,icon:c,count:f,disabled:h}=e;return(0,a.jsxs)("div",{className:(0,o.default)(l.container,!0===h&&l.disabled),children:[(0,a.jsx)(i.Round,{label:t,large:n,testid:r,onClick:u,disabled:h,children:c}),null!=f&&(0,a.jsx)("div",{className:(0,o.default)(l.count,!0===n&&l.large,s(f)&&l.wide),children:(0,a.jsx)("span",{className:(0,o.default)(l.countText),children:d(f)?"999+":f})})]})};t.default=u},103701:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=n(103440),a=n(626194),l=n(983758),s=r(n(932325)),d=n(118612),u=n(114850),c=n(667294),f=n(785893);t.default=e=>{let{doSave:t,afterSave:n,isValid:r,children:h,modalConfig:p,onError:g,title:m,onCancel:C}=e;const[v,x]=(0,c.useState)(l.EditType.EDITING),y=(0,f.jsx)(a.DrawerHeader,{title:m,type:a.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>{u.ModalManager.close(),null==C||C()}});return(0,f.jsx)(o.ConfirmPopup,(0,i.default)({children:h,okText:s.default.t(542),type:d.ModalTheme.Auto,onOK:()=>{x(l.EditType.PENDING),t().then((()=>{x(l.EditType.DONE),n&&n(),u.ModalManager.close()}),(e=>{x(l.EditType.ERROR),g&&g(e)}))},okSpinner:v===l.EditType.PENDING,okDisabled:v===l.EditType.PENDING||!r,title:y},p))}},563389:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{displayValue:t=!1}=e,n=(0,i.default)(e,d);const r=(0,a.useRef)(!1);return(0,s.jsxs)(o.FlexRow,{align:"center",children:[(0,s.jsx)("input",{type:"range",className:(0,l.default)(u),min:n.min,max:n.max,value:n.value,onMouseDown:()=>{r.current=!0},onMouseUp:()=>{r.current=!1},onChange:e=>{e.preventDefault(),n.onChange(parseInt(e.target.value,10),r.current),r.current=!1}}),t?(0,s.jsx)("span",{className:(0,l.default)(c),children:n.value}):null]})};var i=r(n(506479)),o=n(690495),a=n(667294),l=r(n(156720)),s=n(785893);const d=["displayValue"],u={WebkitAppearance:"rc6mlzu0",backgroundColor:"lmoo7qev",width:"jkv2xdwy",height:"itoi26wd",borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",outline:"gk6igrwd","::-webkit-slider-thumb":{WebkitAppearance:"lhcc0jp6",backgroundColor:"f8t368tc",width:"t68znmxb",height:"adibp37i",borderTopStartRadius:"dyphzmav",borderTopEndRadius:"cpexef3b",borderBottomEndRadius:"mdwvbymx",borderBottomStartRadius:"d1bl3yr6"},"::-moz-range-thumb":{backgroundColor:"eg5obqgd",width:"j09sh4ga",height:"q2g3zwp2",borderTopStartRadius:"f0tdcqsg",borderTopEndRadius:"ox1qo7wz",borderBottomEndRadius:"csvggiwl",borderBottomStartRadius:"s849znjx"},"::-ms-thumb":{backgroundColor:"h67vyybg",width:"dn131129",height:"cstjocha",borderTopStartRadius:"dowrn9ox",borderTopEndRadius:"f9qgu6hk",borderBottomEndRadius:"a9153urd",borderBottomStartRadius:"aa14nhyp"}},c={width:"i94gqilv",marginStart:"a3oefunm",marginBottom:"inogquss",fontSize:"f8jlpxt4",color:"j8jyn9yl"}},802602:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onImageTake:t,editCropShape:n,modalTheme:r}=e;return(0,u.jsx)(i.DropdownItem,{action:i=>{null!=e.action&&e.action(i),s.ModalManager.open((0,u.jsx)(o.EditCaptureFlowLoadable,{onFinished:t,editCropShape:n||d.CropShapeType.CIRCLE,modalTheme:r||l.ModalTheme.Box}))},testid:"mi-take-photo",disabled:e.disabled,children:a.default.t(592)})};var i=n(675085),o=n(819052),a=r(n(932325)),l=n(118612),s=n(114850),d=n(785093),u=n(785893)},344262:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,l.useState)([]);let n,r;const[f]=(0,d.useExternalBetaOptIn)();(0,l.useEffect)((()=>{}),[]);let h=(0,u.jsxs)(u.Fragment,{children:[o.default.t(626,{version:""}),(0,u.jsx)("span",{dir:"LTR",children:"2.2325.3"})]});return(0,u.jsxs)(i.SelectableDiv,{"data-testid":"version",className:(0,s.default)(c),selectable:!0,children:[h,null,(0,u.jsx)("div",{children:r}),null,f?(0,u.jsx)("div",{children:a.fbt._("(joined beta)",null,{hk:"1jWkVe"})}):null,(0,u.jsx)("div",{children:n})]})};var i=n(306703),o=(n(753233),r(n(97359)),r(n(932325))),a=(n(901254),r(n(595307)),n(459857),n(548360)),l=(r(n(730381)),n(667294)),s=r(n(156720)),d=n(597518),u=n(785893);const c={alignSelf:"o2es7gts",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"pm5hny62",textAlign:"qfejxiq4"}},658616:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DragAndDropItem=void 0,t.DragAndDropWrapper=function(e){let{children:t,containerRef:n}=e;if(l.UA.isSafari&&n)return(0,u.jsx)(m,{containerRef:n,children:t});return(0,u.jsx)(h.Provider,{value:a.EMPTY_SCROLL_EVENTS,children:(0,u.jsx)(i.DndProvider,{backend:o.HTML5Backend,children:t})})};var i=n(230509),o=n(820487),a=n(123632),l=n(368170),s=n(667294),d=r(n(156720)),u=n(785893);const c={draggableDiv:{cursor:"n25td99q"},dragging:{opacity:"axi1ht8l"}},f="item",h=(0,s.createContext)(a.EMPTY_SCROLL_EVENTS);function p(e){let{index:t,children:n,onMove:r,onFinalDrop:o}=e;const a=(0,s.useRef)(null),{addDragScroll:l,removeDragScroll:p}=(0,s.useContext)(h),[{handlerId:g},m]=(0,i.useDrop)({accept:f,collect:e=>({handlerId:e.getHandlerId()}),hover(e,n){var i;if(!a.current)return;const o=e.index,l=t;if(o===l)return;const s=null===(i=a.current)||void 0===i?void 0:i.getBoundingClientRect(),d=(s.bottom-s.top)/2,u=n.getClientOffset().y-s.top;o<l&&u<d||o>l&&u>d||(r(o,l),e.index=l)}}),[{isDragging:C},v]=(0,i.useDrag)({type:f,item:()=>(null==l||l(),{index:t}),end:()=>{null==p||p(),null==o||o()},collect:e=>({handlerId:e.getHandlerId(),isDragging:e.isDragging()})});return(0,u.jsx)("div",{ref:v(m(a)),className:(0,d.default)(c.draggableDiv,C&&c.dragging),"data-handler-id":g,children:n})}const g=(0,s.memo)(p);function m(e){let{children:t,containerRef:n}=e;const r=(0,a.useDragAndAutoScrollForSafari)(n);return(0,u.jsx)(h.Provider,{value:r,children:(0,u.jsx)(i.DndProvider,{backend:o.HTML5Backend,children:t})})}t.DragAndDropItem=g,g.displayName="DragAndDropItem"},123632:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SCROLL_EVENTS=void 0,t.useDragAndAutoScrollForSafari=function(e){const t=(0,o.useMemo)((()=>function(e){const{bottom:t,top:n}=e.getBoundingClientRect();let r,o=0,a=!1;const l=()=>{var t;(o-=6,e.scrollTop=o,!a||o<=0)&&(null===(t=r)||void 0===t||t())},s=()=>{var t;(o+=6,e.scrollTop=o,!a||o>e.scrollHeight)&&(null===(t=r)||void 0===t||t())};return{handleDragOver:d=>{const u=o>=0&&d.clientY>n&&d.clientY<n+50,c=o<=e.scrollHeight&&d.clientY>t-50&&d.clientY<=t;a||!u&&!c?u||c||(a=!1):(a=!0,o=e.scrollTop,r=(0,i.default)(u?l:s))},forceStop:()=>{var e;a=!1,null===(e=r)||void 0===e||e()}}}(e)),[e]),n=(0,l.default)(t.handleDragOver,150),r=(0,a.default)((()=>{e.addEventListener("dragover",n)})),s=(0,a.default)((()=>{e.removeEventListener("dragover",n),n.cancel(),t.forceStop()}));return(0,o.useEffect)((()=>s),[s]),{removeDragScroll:s,addDragScroll:r}};var i=r(n(927519)),o=n(667294),a=r(n(17533)),l=r(n(286481));t.EMPTY_SCROLL_EVENTS={addDragScroll:null,removeDragScroll:null}},945786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(810319),i=n(667294);const o=(e,t)=>{const[n,o]=(0,r.useLottie)(e);return(0,i.useImperativeHandle)(t,(()=>o)),n};var a=(0,i.forwardRef)(o);t.default=a},810319:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0,t.useLottie=function(e){let{autoplay:t=!1,data:n,direction:r=1,fallback:c=null,loop:f=!1,path:h,placeholder:p=null,renderer:g=u.SVG,speed:m=1,xstyle:C,wrapperXstyle:v,onComplete:x,onLoopComplete:y}=e;(0,o.default)(null==n&&null!=h||null!=n&&null==h,"These opts are mutually exclusive");const b=(0,l.useRef)(),j=(0,l.useRef)(),E=(0,i.getNetworkResourceCache)().cache,[_,S]=(0,l.useState)(null!=h&&!1===(null==E?void 0:E.isCached(h))),[w,k]=(0,l.useState)(!1),[T,M]=(0,l.useState)(n),I=(0,l.useCallback)((()=>{var e;null===(e=b.current)||void 0===e||e.play()}),[]),P=(0,l.useCallback)((()=>{var e;null===(e=b.current)||void 0===e||e.stop()}),[]),D=(0,l.useCallback)((()=>{var e;null===(e=b.current)||void 0===e||e.pause()}),[]),L=(0,l.useCallback)(((e,t)=>{var n;null===(n=b.current)||void 0===n||n.goToAndPlay(e,t)}),[]),R=(0,l.useCallback)(((e,t)=>{var n;null===(n=b.current)||void 0===n||n.goToAndStop(e,t)}),[]),O=(0,l.useCallback)((e=>{var t;null===(t=b.current)||void 0===t||t.getDuration(e)}),[]),A=(0,l.useCallback)((e=>{null!=b.current&&(b.current.loop=e)}),[]),N=(0,l.useCallback)((e=>{var t;null===(t=b.current)||void 0===t||t.addEventListener("loopComplete",e)}),[]),B=(0,l.useCallback)((()=>{var e;null===(e=b.current)||void 0===e||e.removeEventListener("loopComplete")}),[]);(0,l.useEffect)((()=>{null!=h&&""!==h&&(null==E||E.getOrRun(h).then((e=>{M(e),S(!1)})).catch((()=>k(!0))))}),[E,h]),(0,l.useEffect)((()=>{const e=a.default.loadAnimation({container:j.current,animationData:T,renderer:g,loop:f,autoplay:t});b.current=e;const n=[{name:"data_failed",handler:()=>k(!0)},{name:"complete",handler:()=>{null==x||x()}},{name:"loopComplete",handler:()=>{null==y||y()}}].map((t=>(e.addEventListener(t.name,t.handler),()=>e.removeEventListener(t.name,t.handler))));return()=>{n.forEach((e=>e())),e.destroy()}}),[T,g,f,t,x,y]),(0,l.useEffect)((()=>{var e;null===(e=b.current)||void 0===e||e.setSpeed(m)}),[m]),(0,l.useEffect)((()=>{var e;null===(e=b.current)||void 0===e||e.setDirection(r)}),[r]);return[(0,d.jsxs)("div",{className:(0,s.default)(v),children:[(0,d.jsx)("div",{className:(0,s.default)(C),ref:j}),_&&!w?p:null,w?c:null]}),{play:I,stop:P,pause:D,goToAndPlay:L,goToAndStop:R,getDuration:O,setLoop:A,addOnLoopCompleteHandler:N,removeOnLoopCompleteHandler:B}]};var i=n(751905),o=r(n(441143)),a=r(n(211248)),l=n(667294),s=r(n(156720)),d=n(785893);const u=n(76672)({SVG:"svg",Canvas:"canvas"});t.Renderer=u},247585:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AccountBalanceIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"account-balance"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"currentColor",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M4 11.5v4c0 .83.67 1.5 1.5 1.5S7 16.33 7 15.5v-4c0-.83-.67-1.5-1.5-1.5S4 10.67 4 11.5zm6 0v4c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5zM3.5 22h16c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5h-16c-.83 0-1.5.67-1.5 1.5S2.67 22 3.5 22zM16 11.5v4c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5zM10.57 1.49l-7.9 4.16c-.41.21-.67.64-.67 1.1C2 7.44 2.56 8 3.25 8h16.51C20.44 8 21 7.44 21 6.75c0-.46-.26-.89-.67-1.1l-7.9-4.16c-.58-.31-1.28-.31-1.86 0z"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},20140:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AccountBoxIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=25;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"account-box"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 25 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsx)("path",{d:"M3.5 5V19C3.5 20.1 4.39 21 5.5 21H19.5C20.6 21 21.5 20.1 21.5 19V5C21.5 3.9 20.6 3 19.5 3H5.5C4.39 3 3.5 3.9 3.5 5ZM15.5 9C15.5 10.66 14.16 12 12.5 12C10.84 12 9.5 10.66 9.5 9C9.5 7.34 10.84 6 12.5 6C14.16 6 15.5 7.34 15.5 9ZM6.5 17C6.5 15 10.5 13.9 12.5 13.9C14.5 13.9 18.5 15 18.5 17V18H6.5V17Z",fill:"currentColor"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},28199:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AddAltIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"add-alt"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M20,13.5h-6.5V20h-2.9v-6.5H4v-2.9h6.5V4h2.9v6.5H20V13.5z"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},481999:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignCenterIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=28,g=28;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"align-center"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",children:(0,s.jsx)("path",{fill:"currentColor",d:"M18.5,19 C18.7761424,19 19,19.2238576 19,19.5 L19,20 C19,20.2761424 18.7761424,20.5 18.5,20.5 L9.5,20.5 C9.22385763,20.5 9,20.2761424 9,20 L9,19.5 C9,19.2238576 9.22385763,19 9.5,19 L18.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M21.5,11 C21.7761424,11 22,11.2238576 22,11.5 L22,12 C22,12.2761424 21.7761424,12.5 21.5,12.5 L6.5,12.5 C6.22385763,12.5 6,12.2761424 6,12 L6,11.5 C6,11.2238576 6.22385763,11 6.5,11 L21.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},164338:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignLeftIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=28,g=28;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"align-left"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",children:(0,s.jsx)("path",{fill:"currentColor",d:"M14.5,19 C14.7761424,19 15,19.2238576 15,19.5 L15,20 C15,20.2761424 14.7761424,20.5 14.5,20.5 L5.5,20.5 C5.22385763,20.5 5,20.2761424 5,20 L5,19.5 C5,19.2238576 5.22385763,19 5.5,19 L14.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M20.5,11 C20.7761424,11 21,11.2238576 21,11.5 L21,12 C21,12.2761424 20.7761424,12.5 20.5,12.5 L5.5,12.5 C5.22385763,12.5 5,12.2761424 5,12 L5,11.5 C5,11.2238576 5.22385763,11 5.5,11 L20.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},868049:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AlignRightIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=28,g=28;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"align-right"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",children:(0,s.jsx)("path",{fill:"currentColor",d:"M22.5,19 C22.7761424,19 23,19.2238576 23,19.5 L23,20 C23,20.2761424 22.7761424,20.5 22.5,20.5 L13.5,20.5 C13.2238576,20.5 13,20.2761424 13,20 L13,19.5 C13,19.2238576 13.2238576,19 13.5,19 L22.5,19 Z M22.5,15 C22.7761424,15 23,15.2238576 23,15.5 L23,16 C23,16.2761424 22.7761424,16.5 22.5,16.5 L5.5,16.5 C5.22385763,16.5 5,16.2761424 5,16 L5,15.5 C5,15.2238576 5.22385763,15 5.5,15 L22.5,15 Z M22.5,11 C22.7761424,11 23,11.2238576 23,11.5 L23,12 C23,12.2761424 22.7761424,12.5 22.5,12.5 L7.5,12.5 C7.22385763,12.5 7,12.2761424 7,12 L7,11.5 C7,11.2238576 7.22385763,11 7.5,11 L22.5,11 Z M22.5,7 C22.7761424,7 23,7.22385763 23,7.5 L23,8 C23,8.27614237 22.7761424,8.5 22.5,8.5 L5.5,8.5 C5.22385763,8.5 5,8.27614237 5,8 L5,7.5 C5,7.22385763 5.22385763,7 5.5,7 L22.5,7 Z",id:"Combined-Shape"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},794443:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AssignmentIndIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"assignment-ind"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"currentColor",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},520485:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioWaveThumbnailIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=40,g=40;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"audio-wave-thumbnail"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 40 40",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsx)("path",{d:"M18.1953 31.4492C18.7461 31.4492 19.1562 31.0156 19.1562 30.4883V10.6016C19.1562 10.0625 18.7344 9.64062 18.1953 9.64062C17.6562 9.64062 17.2344 10.0625 17.2344 10.6016V30.4883C17.2344 31.0156 17.6562 31.4492 18.1953 31.4492ZM25.4023 29.1172C25.9531 29.1172 26.3633 28.6953 26.3633 28.1562V12.9336C26.3633 12.3945 25.9414 11.9727 25.4023 11.9727C24.8516 11.9727 24.4414 12.3945 24.4414 12.9336V28.1562C24.4414 28.6953 24.8516 29.1172 25.4023 29.1172ZM14.5859 27.4414C15.1367 27.4414 15.5586 27.0195 15.5586 26.4805V14.6094C15.5586 14.0703 15.1367 13.6484 14.5859 13.6484C14.0469 13.6484 13.6367 14.0703 13.6367 14.6094V26.4805C13.6367 27.0195 14.0469 27.4414 14.5859 27.4414ZM21.8047 25.9648C22.3438 25.9648 22.7539 25.5312 22.7539 25.0039V16.0859C22.7539 15.5469 22.3438 15.125 21.8047 15.125C21.2539 15.125 20.8438 15.5586 20.8438 16.0859V25.0039C20.8438 25.5312 21.2539 25.9648 21.8047 25.9648ZM29 23.9727C29.5508 23.9727 29.9609 23.5508 29.9609 23.0117V18.0781C29.9609 17.5391 29.5508 17.1172 29 17.1172C28.4492 17.1172 28.0391 17.5391 28.0391 18.0781V23.0117C28.0391 23.5508 28.4609 23.9727 29 23.9727ZM10.9883 23.0469C11.5391 23.0469 11.9492 22.625 11.9492 22.0859V19.0039C11.9492 18.4648 11.5273 18.0312 10.9883 18.0312C10.4375 18.0312 10.0273 18.4648 10.0273 19.0039V22.0859C10.0273 22.625 10.4375 23.0469 10.9883 23.0469Z",fill:"currentColor"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},404744:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"business"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"currentColor",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},444967:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CallPhoneIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=6,o=6;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"call-phone"},c),{},{children:(0,s.jsx)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 19 6",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),version:"1.1",children:(0,s.jsx)("path",{fill:"currentColor",d:"M13.3215771,4.8564656 C13.1991403,4.73306621 13.1159227,4.59135186 13.071922,4.43131828 C13.0279213,4.2712847 12.9944429,4.11414565 12.971486,3.95989642 C12.971486,3.95218396 12.9676599,3.92133457 12.9600076,3.86734734 C12.9370507,3.73623549 12.9102681,3.60319753 12.8796589,3.46822945 C12.8490497,3.33326137 12.7897452,3.22143235 12.7017437,3.13273904 C12.5754807,3.00548343 12.3468716,2.89847463 12.0159096,2.81170943 C11.6849475,2.72494424 11.3013816,2.65842526 10.8652004,2.61215049 C10.4290191,2.56587572 9.96797483,2.54081059 9.48205363,2.53695436 C8.99613244,2.53309813 8.53508814,2.55045091 8.09890691,2.58901322 C7.66272567,2.62757552 7.27820325,2.68734621 6.9453281,2.76832705 C6.61245295,2.8493079 6.38288732,2.95342457 6.25662434,3.08068019 C6.16862286,3.1693735 6.10740536,3.28698677 6.07297,3.43352354 C6.03853464,3.58006031 6.00792589,3.73623532 5.98114283,3.90205325 C5.95053362,4.08715232 5.91418573,4.26839245 5.87209807,4.44577907 C5.8300104,4.62316569 5.75348853,4.76777218 5.64253015,4.87960287 C5.53539791,4.98757733 5.37278893,5.08398166 5.15469831,5.16881874 C4.9366077,5.25365581 4.70130293,5.33077927 4.44877695,5.40019143 C4.19625098,5.46960358 3.94659836,5.53033831 3.69981161,5.58239742 C3.45302486,5.63445654 3.25311146,5.67976657 3.10006541,5.71832888 C3.00823779,5.74146626 2.92023763,5.7646033 2.8360623,5.78774069 C2.75188698,5.81087807 2.6753651,5.83015894 2.60649438,5.84558386 C2.44196988,5.8880024 2.28988266,5.91981583 2.15022814,5.9410251 C2.01057362,5.96223437 1.88144296,5.96705458 1.76283227,5.95548589 C1.64422158,5.9439172 1.53135182,5.91113973 1.42421959,5.85715249 C1.31708735,5.80316526 1.20995673,5.72218563 1.1028245,5.61421117 C0.900038485,5.40983093 0.747951258,5.16592799 0.646558252,4.88249503 C0.545165246,4.59906206 0.496382551,4.30310079 0.500208702,3.99460232 C0.504034853,3.68610386 0.562382783,3.38243023 0.675254242,3.08357235 C0.788125701,2.78471446 0.959343397,2.51960257 1.18891247,2.28822872 C1.57917988,1.89489317 2.07274598,1.55362186 2.66962556,1.26440455 C3.26650514,0.975187242 3.93128893,0.735140474 4.66399688,0.544257049 C5.39670483,0.353373623 6.17627143,0.213587353 7.00272008,0.124894044 C7.82916873,0.0362007354 8.66421369,-0.00525312405 9.50788003,0.000531222177 C10.3515464,0.0063155684 11.1856348,0.0603019901 12.0101704,0.162492107 C12.8347059,0.264682223 13.6104465,0.414108926 14.3374152,0.610776698 C15.0643839,0.80744447 15.7243851,1.05231145 16.3174385,1.345385 C16.9104919,1.63845854 17.3964058,1.97587367 17.7751948,2.35764052 C18.0009377,2.58515814 18.175025,2.84737791 18.2974618,3.14430768 C18.4198987,3.44123745 18.4868553,3.74587512 18.4983338,4.05822981 C18.5098122,4.37058451 18.461986,4.67715026 18.3548538,4.97793626 C18.2477216,5.27872227 18.0793734,5.5447982 17.8498044,5.77617205 C17.7082368,5.91885259 17.5465843,5.99308392 17.3648421,5.99886827 C17.1831,6.00465261 16.9965779,5.98826388 16.8052703,5.94970157 C16.6560504,5.92270796 16.5020502,5.88896644 16.3432649,5.84847602 C16.1844796,5.8079856 16.0266532,5.76653174 15.8697811,5.7241132 C15.6976042,5.6739822 15.523517,5.62578003 15.347514,5.57950526 L14.8195078,5.44068165 C14.7582894,5.42525673 14.7066371,5.41176012 14.6645495,5.40019143 L14.5382871,5.36548552 C14.4426333,5.33849191 14.3383723,5.31053465 14.2255008,5.28161292 C14.1126294,5.25269119 14.0016726,5.21991372 13.8926273,5.18327953 C13.783582,5.14664534 13.6802775,5.10229935 13.5827106,5.05024023 C13.4851438,4.99818111 13.3981001,4.93359022 13.3215771,4.8564656 Z"})})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},679589:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CameraIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"camera"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M21.317,4.381H10.971L9.078,2.45C8.832,2.199,8.342,1.993,7.989,1.993H4.905 c-0.352,0-0.837,0.211-1.078,0.468L1.201,5.272C0.96,5.529,0.763,6.028,0.763,6.38v1.878c0,0.003-0.002,0.007-0.002,0.01v11.189 c0,1.061,0.86,1.921,1.921,1.921h18.634c1.061,0,1.921-0.86,1.921-1.921V6.302C23.238,5.241,22.378,4.381,21.317,4.381z  M12.076,18.51c-3.08,0-5.577-2.497-5.577-5.577s2.497-5.577,5.577-5.577s5.577,2.497,5.577,5.577 C17.654,16.013,15.157,18.51,12.076,18.51z M12.076,9.004c-2.17,0-3.929,1.759-3.929,3.929s1.759,3.929,3.929,3.929 s3.929-1.759,3.929-3.929C16.004,10.763,14.245,9.004,12.076,9.004z"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},57469:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"catalog"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",children:(0,s.jsxs)("g",{id:"catalog_web",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[(0,s.jsx)("path",{d:"M3.25,15 L3.25,19 C3.25,19.9664983 4.03350169,20.75 5,20.75 L15,20.75 C15.9664983,20.75 16.75,19.9664983 16.75,19 L16.75,15 C16.75,14.5857864 16.4142136,14.25 16,14.25 C15.5857864,14.25 15.25,14.5857864 15.25,15 L15.25,19 C15.25,19.1380712 15.1380712,19.25 15,19.25 L5,19.25 C4.86192881,19.25 4.75,19.1380712 4.75,19 L4.75,15 C4.75,14.5857864 4.41421356,14.25 4,14.25 C3.58578644,14.25 3.25,14.5857864 3.25,15 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),(0,s.jsx)("path",{d:"M20.75,20 L20.75,15 C20.75,14.5857864 20.4142136,14.25 20,14.25 C19.5857864,14.25 19.25,14.5857864 19.25,15 L19.25,20 C19.25,20.4142136 19.5857864,20.75 20,20.75 C20.4142136,20.75 20.75,20.4142136 20.75,20 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),(0,s.jsx)("path",{d:"M19.0596875,4 L5.51793438,4 C4.40802085,4 3.43383032,4.73889996 3.13458536,5.80771262 L2.05872453,9.65036257 C1.82420376,10.488 2.31312637,11.3571559 3.15076375,11.5916766 C3.2889905,11.6303772 3.43185897,11.65 3.57540118,11.65 L21.0022207,11.65 C21.8720692,11.65 22.5772207,10.9448485 22.5772207,10.075 C22.5772207,9.93145779 22.557598,9.78858932 22.5188974,9.65036257 L21.4430366,5.80771262 C21.1437916,4.73889996 20.1696011,4 19.0596875,4 Z M19.0596875,5.35 C19.5641937,5.35 20.0070076,5.68586362 20.143028,6.17168755 L21.2188888,10.0143375 C21.2244175,10.0340842 21.2272207,10.054494 21.2272207,10.075 C21.2272207,10.1992641 21.1264848,10.3 21.0022207,10.3 L3.57540118,10.3 C3.55489515,10.3 3.53448537,10.2971967 3.51473869,10.2916681 C3.39507621,10.2581651 3.32523012,10.134 3.35873309,10.0143375 L4.43459391,6.17168755 C4.57061435,5.68586362 5.01342823,5.35 5.51793438,5.35 L19.0596875,5.35 Z",id:"Path",fill:"#000000",fillRule:"nonzero"}),(0,s.jsx)("path",{d:"M22.188811,10.975 L22.188811,11.3296105 C22.188811,12.1278748 21.2949411,13.225 20.1923038,13.225 C19.1592556,13.225 18.3198702,12.2052018 18.2168352,11.4776253 C18.1127212,12.2052018 17.2733358,13.225 16.2408271,13.225 C15.2072395,13.225 14.3683936,12.2052018 14.264819,11.4776253 C14.1612445,12.2052018 13.3218591,13.225 12.288811,13.225 C11.2552233,13.225 10.4163774,12.2052018 10.3128029,11.4776253 C10.2097678,12.2052018 9.369843,13.225 8.33679483,13.225 C7.30374666,13.225 6.46490076,12.2052018 6.36132621,11.4776253 C6.25775167,12.2052018 5.41782687,13.225 4.38531815,13.225 C3.28268083,13.225 2.38881096,12.1278748 2.38881096,11.3296105 L2.38881096,10.975 L22.188811,10.975 Z",id:"Fill-9",fill:"#000000"})]})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},53004:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CheckmarkLargeIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=30,g=30;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"checkmark-large"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 30 30",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 30 30",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M9.9,21.25l-6.7-6.7L1,16.75l8.9,8.9L29,6.55l-2.2-2.2L9.9,21.25z"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},268286:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityAdminDarkIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=157,g=224;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"community-admin-dark"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 224 157",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M176.395 133.783C202.079 125.033 221.527 100.338 218.74 64.6342C214.507 10.3886 162.863 -3.06763 130.691 12.9117C87.0477 34.5885 81.5198 38.1422 50.2608 38.1422C26.9784 38.1422 3.27272 49.4959 0.309525 80.193C-1.83832 102.443 6.80145 121.865 38.7733 131.781C96.9612 149.829 151.574 142.238 176.395 133.783Z",fill:"#A6CCC7"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.293 99.6867C27.0535 101.355 30.7418 103.637 31.4074 104.997C32.228 106.674 30.9928 110.9 29.8353 114.37C29.6388 114.958 30.4495 115.336 30.7732 114.808C32.5509 111.908 34.8757 108.32 36.4515 107.751C38.026 107.182 42.3203 108.547 45.6143 109.668C46.2027 109.868 46.5832 109.056 46.0527 108.732C43.0243 106.882 39.2021 104.422 38.6613 102.787C38.151 101.244 39.7028 96.5983 40.8637 93.2422C41.0683 92.6508 40.2467 92.2674 39.9241 92.8033C38.1077 95.8232 35.5519 99.9797 34.0649 100.588C32.4546 101.246 28.1113 99.8943 24.7277 98.7485C24.1378 98.5486 23.7597 99.3643 24.293 99.6867Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.603 6.78459C160.945 9.42458 162.712 12.9937 162.57 14.3772C162.396 16.0823 159.382 18.7764 156.795 20.9197C156.356 21.2825 156.805 21.9707 157.313 21.7158C160.107 20.3189 163.66 18.651 165.165 18.972C166.668 19.2932 169.353 22.4415 171.376 24.9143C171.737 25.3561 172.428 24.9077 172.172 24.3978C170.71 21.4856 168.925 17.7127 169.297 16.1757C169.648 14.7255 173.113 11.8582 175.647 9.80596C176.094 9.44436 175.639 8.74666 175.128 9.00773C172.246 10.4797 168.236 12.4786 166.782 12.2308C165.208 11.9618 162.478 8.79999 160.398 6.26437C160.035 5.8222 159.344 6.27439 159.603 6.78459Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M109.286 19.9086L109.286 19.9086C102.842 23.1185 87.3525 30.1026 68.0072 33.804L68.0071 33.804C64.0692 34.5576 61.1751 37.956 61.1751 41.9896V78.4977C61.1751 95.8063 64.3953 110.744 72.2448 122.656C80.1062 134.586 92.541 143.377 110.759 148.511L110.76 148.511C112.199 148.916 113.736 148.916 115.176 148.511L115.176 148.511C133.395 143.377 145.829 134.586 153.691 122.656C161.54 110.744 164.76 95.8063 164.76 78.4977V41.9896C164.76 37.9561 161.866 34.5577 157.93 33.804L157.93 33.804C138.583 30.1026 123.093 23.1185 116.65 19.9086L116.65 19.9086C114.33 18.7529 111.606 18.7529 109.286 19.9086Z",fill:"#73F793",stroke:"#326474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{opacity:.7,fillRule:"evenodd",clipRule:"evenodd",d:"M113.003 147.88C113.65 147.877 114.296 147.787 114.922 147.611C151.018 137.439 163.825 112.902 163.825 78.4977V41.9896C163.825 38.4165 161.262 35.3937 157.754 34.7221C138.293 30.999 122.719 23.9767 116.233 20.7453C115.168 20.2149 114.007 19.959 112.85 19.9775C112.85 19.9775 113.003 147.88 113.003 147.88Z",fill:"#326474",fillOpacity:.24}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.63 55.9921C124.733 61.8564 119.841 71.555 113.712 71.7298C107.582 71.904 102.535 62.4889 102.433 56.6242C102.33 50.7596 107.216 45.8638 113.346 45.6892C119.475 45.5147 124.527 50.1275 124.63 55.9921Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.304 108.889C141.352 110.234 140.929 112.456 139.062 112.593C131.568 113.141 123.268 113.291 115.461 113.276C105.994 113.258 98.3013 113.143 91.6051 112.528C89.47 112.332 89.1898 110.211 89.1435 108.894C88.5616 92.3891 99.7667 79.0083 114.17 79.007C128.574 79.006 140.722 92.3849 141.304 108.889Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M88.8634 124.688L88.8654 124.699L88.8677 124.71L90.5779 132.936C90.5808 132.958 90.5772 132.993 90.5574 133.03C90.5443 133.054 90.5327 133.063 90.5293 133.066L86.1695 134.637C85.3298 134.94 84.7883 135.671 84.6077 136.457C84.5266 136.81 84.4268 137.168 84.3132 137.525C84.193 137.904 84.0646 138.263 83.9269 138.606C83.6311 139.344 83.6722 140.219 84.135 140.932L86.722 144.917L86.7298 144.929L86.7379 144.94C86.7548 144.965 86.7559 144.981 86.7544 144.994C86.7529 145.008 86.7451 145.039 86.7061 145.079L80.6257 150.623L80.617 150.631L80.6084 150.639C80.5944 150.652 80.5849 150.657 80.5813 150.658C80.5772 150.66 80.5731 150.661 80.5678 150.661C80.5582 150.661 80.5356 150.658 80.5072 150.637L76.9313 147.535C76.2822 146.971 75.4112 146.822 74.6369 147.052C73.9344 147.262 73.2146 147.416 72.4798 147.507C71.6809 147.606 70.9399 148.087 70.5675 148.865L68.5234 153.133L68.5201 153.14L68.5169 153.147C68.5097 153.162 68.5031 153.17 68.4999 153.173C68.4964 153.176 68.4935 153.178 68.4908 153.179C68.488 153.18 68.4837 153.181 68.4774 153.182C68.4712 153.182 68.4605 153.181 68.4449 153.176L60.6394 150.49C60.6146 150.481 60.5989 150.469 60.5852 150.445C60.5708 150.421 60.5542 150.374 60.5578 150.306L61.3525 145.648C61.4965 144.804 61.182 143.98 60.6149 143.42C60.0761 142.888 59.5864 142.313 59.1316 141.697C58.6567 141.054 57.8837 140.636 57.0324 140.686L52.403 140.958C52.3615 140.954 52.3298 140.939 52.311 140.924C52.3009 140.916 52.2942 140.908 52.2894 140.9C52.2849 140.893 52.2785 140.88 52.2743 140.857L52.2722 140.845L52.2699 140.834L50.5597 132.609C50.5569 132.587 50.5605 132.551 50.5802 132.515C50.5934 132.491 50.605 132.481 50.6084 132.479L54.9682 130.908C55.8074 130.605 56.3496 129.874 56.5304 129.088C56.6131 128.729 56.7141 128.367 56.8245 128.019C56.9285 127.692 57.0629 127.351 57.2144 127.011C57.5519 126.254 57.5218 125.34 57.0378 124.602L54.4336 120.631L54.4209 120.612L54.4072 120.593C54.3996 120.583 54.3979 120.577 54.3974 120.575C54.3967 120.572 54.3959 120.567 54.3969 120.559C54.399 120.543 54.4094 120.512 54.4431 120.481C54.4433 120.481 54.4435 120.48 54.4437 120.48L60.5136 114.921L60.5215 114.913L60.5292 114.906C60.5433 114.892 60.5527 114.888 60.5564 114.886C60.5605 114.885 60.5646 114.884 60.5698 114.884C60.5794 114.884 60.602 114.886 60.6305 114.907L64.2157 118.018C64.8554 118.573 65.7157 118.73 66.4879 118.503C67.1984 118.295 67.925 118.134 68.6619 118.039C69.4572 117.937 70.1977 117.457 70.5701 116.68L72.6077 112.426C72.6333 112.378 72.6577 112.367 72.6611 112.365C72.6639 112.364 72.6657 112.364 72.6678 112.364C72.6697 112.364 72.6776 112.364 72.6928 112.369L80.4983 115.055C80.5268 115.065 80.5483 115.082 80.5635 115.108C80.5783 115.133 80.5892 115.169 80.5837 115.216L79.7852 119.897C79.6412 120.741 79.9557 121.564 80.5228 122.124C81.0616 122.657 81.5512 123.232 82.006 123.847C82.481 124.49 83.2539 124.909 84.1053 124.859L88.7347 124.586C88.7762 124.591 88.8079 124.606 88.8266 124.621C88.8368 124.629 88.8435 124.637 88.8483 124.645C88.8527 124.652 88.8592 124.665 88.8634 124.688ZM90.5334 133.064L90.5331 133.064L90.5334 133.064ZM50.6042 132.48L50.6045 132.48L50.6042 132.48Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("circle",{cx:70.569,cy:132.774,r:7.26307,transform:"rotate(-11.7053 70.569 132.774)",fill:"#A6CCC7",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M180.569 58.8458C180.569 58.8458 176.96 65.5006 177.039 66.0964C177.118 66.6924 182.278 65.5183 182.772 65.3757C183.265 65.2331 183.897 70.1809 184.73 71.2426C185.562 72.3045 186.593 72.2585 188.611 71.9274C190.629 71.5962 218.325 64.2513 218.325 64.2513C218.325 64.2513 221.971 63.975 221.295 60.6806C220.618 57.3864 216.928 38.503 216.729 37.8987C216.529 37.2945 216.409 34.6885 211.772 35.3087C207.134 35.9291 181.489 42.4728 181.489 42.4728C181.489 42.4728 178.275 43.4878 178.399 46.0349C178.523 48.5821 180.569 58.8458 180.569 58.8458Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M195.734 59.8696C196.455 57.2607 199.154 55.7299 201.763 56.4506L211.211 59.0602C213.819 59.7808 215.35 62.48 214.63 65.0889L211.857 75.1268C211.136 77.7357 208.437 79.2664 205.828 78.5458L196.381 75.9362C193.772 75.2155 192.241 72.5164 192.962 69.9075L195.734 59.8696Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.395 72.4404C204.024 73.6143 202.771 74.265 201.597 73.8941C200.423 73.5233 199.772 72.2707 200.143 71.0968C200.513 69.9229 201.766 69.2722 202.94 69.6431C204.114 70.0139 204.766 71.2663 204.395 72.4404Z",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M195.956 59.0666C196.554 56.9012 198.795 55.6306 200.96 56.2288L212.014 59.282C214.179 59.8801 215.45 62.1205 214.851 64.2859C214.253 66.4513 212.013 67.7219 209.847 67.1238L198.794 64.0705C196.628 63.4724 195.358 61.2321 195.956 59.0666Z",fill:"#EDE9E3",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{d:"M200.754 52.7398C201.763 49.0874 205.541 46.9443 209.194 47.9532C212.846 48.9621 214.989 52.7409 213.981 56.3933L212.017 63.503C212.017 63.503 211.274 64.3528 209.856 63.9613C208.439 63.5699 208.238 62.4592 208.238 62.4592L210.162 55.4913C210.595 53.9259 209.676 52.3065 208.111 51.8741C206.546 51.4417 204.926 52.3602 204.494 53.9255L202.569 60.8934C202.569 60.8934 201.826 61.7431 200.409 61.3517C198.992 60.9603 198.79 59.8495 198.79 59.8495L200.754 52.7398Z",fill:"#F2F8FD",stroke:"#316474",strokeWidth:1.86956,strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.748 100.235C199.5 102.479 197.156 105.943 194.806 105.709C192.457 105.475 190.991 101.631 191.24 99.3867C191.489 97.142 193.595 95.5121 195.944 95.7463C198.294 95.9806 199.997 97.9901 199.748 100.235Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M203.52 121.254C203.472 121.77 203.202 122.598 202.482 122.558C199.593 122.4 196.416 122.05 193.435 121.661C189.821 121.189 186.889 120.768 184.362 120.204C183.556 120.025 183.553 119.201 183.6 118.696C184.188 112.364 189.124 107.804 194.624 108.51C200.125 109.217 204.108 114.923 203.52 121.254Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.83 99.6489C184.788 101.26 183.42 103.843 181.846 103.793C180.271 103.743 179.085 101.079 179.128 99.4682C179.169 97.8574 180.48 96.5917 182.055 96.6417C183.63 96.6916 184.872 98.038 184.83 99.6489Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185.267 107.242C184.244 106.685 183.043 106.353 181.744 106.329C177.808 106.256 174.478 109.021 174.305 112.504C174.291 112.782 174.325 113.231 174.905 113.283C176.538 113.43 178.4 113.496 180.638 113.546C181.322 111.002 182.997 108.79 185.267 107.242Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M28.9824 44.2651L31.1808 39.3806C31.4314 38.8239 31.8365 38.3511 32.348 38.0186C33.6901 37.146 32.4959 39.4744 33.3707 40.82L47.1311 61.9843C48.023 63.3561 50.6282 63.2444 49.2601 64.1339C48.778 64.4474 48.2211 64.627 47.6464 64.6544L42.6015 64.8951C39.4188 65.0469 36.2878 65.6667 33.3065 66.7259C32.9225 66.8623 32.8228 67.3539 33.1145 67.6385C34.0807 68.5815 34.9974 69.5032 35.0613 69.5729L37.4241 72.1491C38.7976 73.6465 38.5873 75.9994 36.9709 77.2219C35.8196 78.0927 34.2456 78.1488 33.0313 77.3624C31.9197 76.5933 25.4778 70.8878 24.1959 71.6402C21.3482 73.3116 17.6574 72.4561 15.8343 69.6521L14.0729 66.9429C12.197 64.0577 13.0091 60.2022 15.8866 58.3313C16.2841 58.0728 16.6882 57.82 17.093 57.5667C22.0637 54.4563 26.5731 49.618 28.9824 44.2651Z",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{d:"M25.5366 70.553L26.0596 71.3278L26.0596 71.3278L25.5366 70.553ZM42.5182 65.0836L42.5134 64.1489L42.5182 65.0836ZM47.8745 65.0562L47.8793 65.991L47.8745 65.0562ZM49.1936 63.6206L48.8486 64.4894L48.8486 64.4894L49.1936 63.6206ZM14.3181 69.0346L14.9578 70.0184L16.5252 68.9993L15.8855 68.0155L14.3181 69.0346ZM14.9578 70.0184C17.1137 73.3344 21.5454 74.2827 24.8578 72.1291L23.8387 70.5617C21.3959 72.1499 18.1209 71.4536 16.5252 68.9993L14.9578 70.0184ZM24.8578 72.1291C25.2632 71.8655 25.665 71.5942 26.0596 71.3278L25.0135 69.7783C24.6166 70.0463 24.2283 70.3084 23.8387 70.5617L24.8578 72.1291ZM26.0596 71.3278C30.7859 68.1368 36.8602 66.0474 42.523 66.0184L42.5134 64.1489C36.4362 64.18 30.0067 66.4072 25.0135 69.7783L26.0596 71.3278ZM42.523 66.0184L47.8793 65.991L47.8697 64.1214L42.5134 64.1489L42.523 66.0184ZM47.8793 65.991C48.1844 65.9894 48.6818 65.9854 49.1759 65.9349C49.6181 65.8897 50.2582 65.7921 50.7223 65.4903L49.7032 63.9229C49.7068 63.9206 49.6932 63.9298 49.6537 63.945C49.6152 63.9599 49.5626 63.9766 49.4941 63.9934C49.3551 64.0276 49.1823 64.0549 48.9857 64.075C48.5912 64.1154 48.1752 64.1199 47.8697 64.1214L47.8793 65.991ZM50.7223 65.4903C50.9693 65.3297 51.4366 64.9499 51.3904 64.3086C51.3494 63.7413 50.9204 63.4252 50.7644 63.3182C50.5525 63.1728 50.3053 63.0603 50.1091 62.9778C49.9157 62.8965 49.6814 62.8086 49.5387 62.7519L48.8486 64.4894C49.0515 64.57 49.2085 64.6273 49.3847 64.7013C49.5583 64.7743 49.6592 64.8272 49.7067 64.8598C49.7291 64.8752 49.7036 64.8621 49.6647 64.8138C49.6238 64.763 49.5396 64.6366 49.5256 64.443C49.5107 64.2362 49.5846 64.0773 49.6465 63.9908C49.6989 63.9178 49.7384 63.9001 49.7032 63.9229L50.7223 65.4903ZM49.5387 62.7519C48.8913 62.4947 48.4404 62.2828 48.2312 61.9611L46.6638 62.9802C47.2548 63.8892 48.331 64.2838 48.8486 64.4894L49.5387 62.7519Z",fill:"#316474"}),(0,s.jsx)("ellipse",{cx:41.4607,cy:51.2452,rx:4.16271,ry:16.0562,transform:"rotate(-33.0306 41.4607 51.2452)",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1483 57.8186C39.9805 56.398 38.7929 54.7788 37.6467 53.0158C36.7429 51.6257 35.9312 50.2484 35.2241 48.9222C37.4134 47.6394 40.3897 48.5062 41.9598 50.9211C43.5056 53.2987 43.1269 56.313 41.1483 57.8186Z",fill:"#ECE8E2"}),(0,s.jsx)("path",{d:"M41.1483 57.8186L40.4262 58.4122L40.9979 59.1076L41.7143 58.5625L41.1483 57.8186ZM35.2241 48.9222L34.7515 48.1156L33.9768 48.5696L34.3993 49.362L35.2241 48.9222ZM41.8704 57.2249C40.7259 55.8327 39.5588 54.2418 38.4304 52.5063L36.863 53.5253C38.0271 55.3158 39.2351 56.9632 40.4262 58.4122L41.8704 57.2249ZM38.4304 52.5063C37.5408 51.138 36.743 49.784 36.049 48.4824L34.3993 49.362C35.1195 50.7128 35.945 52.1134 36.863 53.5253L38.4304 52.5063ZM35.6967 49.7287C37.3761 48.7447 39.8252 49.353 41.1761 51.4307L42.7435 50.4116C40.9541 47.6594 37.4508 46.5341 34.7515 48.1156L35.6967 49.7287ZM41.1761 51.4307C42.505 53.4747 42.1024 55.9179 40.5822 57.0747L41.7143 58.5625C44.1514 56.7081 44.5061 53.1227 42.7435 50.4116L41.1761 51.4307Z",fill:"#316474"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},936769:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityAdminLightIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=157,g=221;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"community-admin-light"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 221 157",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M176.395 133.783C202.079 125.033 221.526 100.338 218.74 64.6342C214.507 10.3886 162.863 -3.06763 130.691 12.9117C87.0476 34.5885 81.5197 38.1422 50.2607 38.1422C26.9783 38.1422 3.2726 49.4959 0.309402 80.193C-1.83844 102.443 6.80133 121.865 38.7732 131.781C96.9611 149.829 151.574 142.238 176.395 133.783Z",fill:"#DAF7F3"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.2931 99.6867C27.0536 101.355 30.7419 103.637 31.4075 104.997C32.2281 106.674 30.9929 110.9 29.8354 114.37C29.6389 114.958 30.4496 115.336 30.7734 114.808C32.551 111.908 34.8758 108.32 36.4516 107.751C38.0261 107.182 42.3204 108.547 45.6144 109.668C46.2029 109.868 46.5833 109.056 46.0529 108.732C43.0245 106.882 39.2022 104.422 38.6615 102.787C38.1511 101.244 39.703 96.5983 40.8638 93.2422C41.0684 92.6508 40.2468 92.2674 39.9242 92.8033C38.1078 95.8232 35.552 99.9797 34.0651 100.588C32.4547 101.246 28.1114 99.8943 24.7278 98.7485C24.1379 98.5486 23.7598 99.3643 24.2931 99.6867Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M159.603 6.78459C160.945 9.42458 162.712 12.9937 162.57 14.3772C162.396 16.0823 159.382 18.7764 156.795 20.9197C156.356 21.2825 156.805 21.9707 157.313 21.7158C160.107 20.3189 163.66 18.651 165.165 18.972C166.668 19.2932 169.353 22.4415 171.376 24.9143C171.737 25.3561 172.428 24.9077 172.172 24.3978C170.71 21.4856 168.925 17.7127 169.297 16.1757C169.648 14.7255 173.113 11.8582 175.647 9.80596C176.094 9.44436 175.639 8.74666 175.128 9.00773C172.246 10.4797 168.236 12.4786 166.782 12.2308C165.208 11.9618 162.478 8.79999 160.398 6.26437C160.035 5.8222 159.344 6.27439 159.603 6.78459Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M109.285 19.9086L109.285 19.9086C102.842 23.1185 87.3523 30.1026 68.0069 33.804L68.0069 33.804C64.069 34.5576 61.1748 37.956 61.1748 41.9896V78.4977C61.1748 95.8063 64.395 110.744 72.2446 122.656C80.1059 134.586 92.5407 143.377 110.759 148.511L110.759 148.511C112.199 148.916 113.736 148.916 115.176 148.511L115.176 148.511C133.394 143.377 145.829 134.586 153.69 122.656C161.54 110.744 164.76 95.8063 164.76 78.4977V41.9896C164.76 37.9561 161.866 34.5577 157.93 33.804L157.929 33.804C138.583 30.1026 123.093 23.1185 116.65 19.9086L116.65 19.9086C114.329 18.7529 111.606 18.7529 109.285 19.9086Z",fill:"#73F793",stroke:"#326474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{opacity:.7,fillRule:"evenodd",clipRule:"evenodd",d:"M113.002 147.88C113.649 147.877 114.296 147.787 114.922 147.611C151.018 137.439 163.825 112.902 163.825 78.4977V41.9896C163.825 38.4165 161.261 35.3937 157.753 34.7221C138.293 30.999 122.719 23.9767 116.233 20.7453C115.168 20.2149 114.007 19.959 112.85 19.9775C112.85 19.9775 113.002 147.88 113.002 147.88Z",fill:"#326474",fillOpacity:.24}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M124.63 55.9921C124.733 61.8564 119.841 71.555 113.712 71.7298C107.582 71.904 102.535 62.4889 102.432 56.6242C102.33 50.7596 107.215 45.8638 113.345 45.6892C119.475 45.5147 124.527 50.1275 124.63 55.9921Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.304 108.889C141.351 110.234 140.929 112.456 139.062 112.593C131.568 113.141 123.268 113.291 115.46 113.276C105.994 113.258 98.301 113.143 91.6049 112.528C89.4697 112.332 89.1896 110.211 89.1433 108.894C88.5614 92.3891 99.7665 79.0083 114.17 79.007C128.574 79.006 140.722 92.3849 141.304 108.889Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M88.8631 124.688L88.8652 124.699L88.8675 124.71L90.5777 132.936C90.5806 132.958 90.5769 132.993 90.5572 133.03C90.5441 133.054 90.5324 133.063 90.5291 133.066L86.1693 134.637C85.3296 134.94 84.788 135.671 84.6075 136.457C84.5264 136.81 84.4265 137.168 84.3129 137.525C84.1927 137.904 84.0643 138.263 83.9266 138.606C83.6308 139.344 83.672 140.219 84.1348 140.932L86.7217 144.917L86.7295 144.929L86.7377 144.94C86.7546 144.965 86.7557 144.981 86.7542 144.994C86.7526 145.008 86.7448 145.039 86.7059 145.079L80.6255 150.623L80.6167 150.631L80.6082 150.639C80.5941 150.652 80.5847 150.657 80.581 150.658C80.5769 150.66 80.5728 150.661 80.5676 150.661C80.558 150.661 80.5354 150.658 80.5069 150.637L76.9311 147.535C76.282 146.971 75.411 146.822 74.6367 147.052C73.9342 147.262 73.2144 147.416 72.4795 147.507C71.6807 147.606 70.9396 148.087 70.5673 148.865L68.5231 153.133L68.5198 153.14L68.5167 153.147C68.5095 153.162 68.5029 153.17 68.4996 153.173C68.4962 153.176 68.4932 153.178 68.4905 153.179C68.4878 153.18 68.4835 153.181 68.4771 153.182C68.471 153.182 68.4602 153.181 68.4446 153.176L60.6391 150.49C60.6144 150.481 60.5987 150.469 60.5849 150.445C60.5706 150.421 60.554 150.374 60.5576 150.306L61.3523 145.648C61.4962 144.804 61.1818 143.98 60.6147 143.42C60.0758 142.888 59.5862 142.313 59.1314 141.697C58.6565 141.054 57.8835 140.636 57.0321 140.686L52.4027 140.958C52.3613 140.954 52.3296 140.939 52.3108 140.924C52.3006 140.916 52.2939 140.908 52.2892 140.9C52.2847 140.893 52.2783 140.88 52.274 140.857L52.272 140.845L52.2697 140.834L50.5595 132.609C50.5566 132.587 50.5603 132.551 50.58 132.515C50.5931 132.491 50.6048 132.481 50.6081 132.479L54.9679 130.908C55.8072 130.605 56.3494 129.874 56.5302 129.088C56.6129 128.729 56.7139 128.367 56.8242 128.019C56.9282 127.692 57.0626 127.351 57.2142 127.011C57.5517 126.254 57.5216 125.34 57.0375 124.602L54.4334 120.631L54.4206 120.612L54.4069 120.593C54.3994 120.583 54.3977 120.577 54.3971 120.575C54.3964 120.572 54.3957 120.567 54.3967 120.559C54.3988 120.543 54.4092 120.512 54.4429 120.481C54.4431 120.481 54.4433 120.48 54.4435 120.48L60.5133 114.921L60.5212 114.913L60.529 114.906C60.5431 114.892 60.5525 114.888 60.5562 114.886C60.5603 114.885 60.5644 114.884 60.5696 114.884C60.5792 114.884 60.6018 114.886 60.6303 114.907L64.2155 118.018C64.8552 118.573 65.7154 118.73 66.4876 118.503C67.1982 118.295 67.9248 118.134 68.6616 118.039C69.4569 117.937 70.1974 117.457 70.5699 116.68L72.6075 112.426C72.633 112.378 72.6574 112.367 72.6608 112.365C72.6637 112.364 72.6655 112.364 72.6676 112.364C72.6694 112.364 72.6773 112.364 72.6926 112.369L80.4981 115.055C80.5265 115.065 80.548 115.082 80.5633 115.108C80.5781 115.133 80.589 115.169 80.5835 115.216L79.7849 119.897C79.6409 120.741 79.9554 121.564 80.5225 122.124C81.0614 122.657 81.551 123.232 82.0058 123.847C82.4807 124.49 83.2537 124.909 84.1051 124.859L88.7345 124.586C88.7759 124.591 88.8076 124.606 88.8264 124.621C88.8366 124.629 88.8432 124.637 88.848 124.645C88.8525 124.652 88.8589 124.665 88.8631 124.688ZM90.5332 133.064L90.5329 133.064L90.5332 133.064ZM50.604 132.48L50.6043 132.48L50.604 132.48Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("circle",{cx:70.5685,cy:132.774,r:7.26307,transform:"rotate(-11.7053 70.5685 132.774)",fill:"#DAF7F3",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M177.569 58.8458C177.569 58.8458 173.96 65.5006 174.039 66.0964C174.119 66.6924 179.278 65.5183 179.772 65.3757C180.266 65.2331 180.897 70.1809 181.73 71.2426C182.562 72.3045 183.593 72.2585 185.611 71.9274C187.629 71.5962 215.325 64.2513 215.325 64.2513C215.325 64.2513 218.971 63.975 218.295 60.6806C217.618 57.3864 213.929 38.503 213.729 37.8987C213.529 37.2945 213.409 34.6885 208.772 35.3087C204.134 35.9291 178.489 42.4728 178.489 42.4728C178.489 42.4728 175.275 43.4878 175.399 46.0349C175.523 48.5821 177.569 58.8458 177.569 58.8458Z",fill:"#E4FFE3",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M192.735 59.8696C193.455 57.2607 196.154 55.7299 198.763 56.4506L208.211 59.0602C210.82 59.7808 212.351 62.48 211.63 65.0889L208.857 75.1268C208.137 77.7357 205.438 79.2664 202.829 78.5458L193.381 75.9362C190.772 75.2155 189.241 72.5164 189.962 69.9075L192.735 59.8696Z",fill:"white",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M201.395 72.4404C201.024 73.6143 199.771 74.265 198.597 73.8941C197.423 73.5233 196.772 72.2707 197.143 71.0968C197.514 69.9229 198.766 69.2722 199.941 69.6431C201.115 70.0139 201.766 71.2663 201.395 72.4404Z",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M192.956 59.0666C193.555 56.9012 195.795 55.6306 197.96 56.2288L209.014 59.282C211.179 59.8801 212.45 62.1205 211.852 64.2859C211.254 66.4513 209.013 67.7219 206.848 67.1238L195.794 64.0705C193.629 63.4724 192.358 61.2321 192.956 59.0666Z",fill:"#EDE9E3",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{d:"M197.754 52.7398C198.763 49.0874 202.541 46.9443 206.194 47.9532C209.846 48.9621 211.989 52.7409 210.981 56.3933L209.017 63.503C209.017 63.503 208.274 64.3528 206.856 63.9613C205.439 63.5699 205.238 62.4592 205.238 62.4592L207.162 55.4913C207.595 53.9259 206.676 52.3065 205.111 51.8741C203.546 51.4417 201.926 52.3602 201.494 53.9255L199.569 60.8934C199.569 60.8934 198.826 61.7431 197.409 61.3517C195.992 60.9603 195.79 59.8495 195.79 59.8495L197.754 52.7398Z",fill:"white",stroke:"#316474",strokeWidth:1.86956,strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.748 100.235C199.499 102.479 197.155 105.943 194.806 105.709C192.456 105.475 190.991 101.631 191.24 99.3867C191.489 97.142 193.595 95.5121 195.944 95.7463C198.294 95.9806 199.997 97.9901 199.748 100.235Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M203.52 121.254C203.472 121.77 203.202 122.598 202.482 122.558C199.593 122.4 196.416 122.05 193.435 121.661C189.821 121.189 186.889 120.768 184.362 120.204C183.556 120.025 183.553 119.201 183.6 118.696C184.188 112.364 189.124 107.804 194.624 108.51C200.125 109.217 204.108 114.923 203.52 121.254Z",fill:"#EDE9E2",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.83 99.6489C184.788 101.26 183.42 103.843 181.845 103.793C180.27 103.743 179.085 101.079 179.127 99.4682C179.169 97.8574 180.48 96.5917 182.055 96.6417C183.63 96.6916 184.872 98.038 184.83 99.6489Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185.267 107.242C184.245 106.685 183.043 106.353 181.744 106.329C177.808 106.256 174.478 109.021 174.305 112.504C174.292 112.782 174.325 113.231 174.905 113.283C176.538 113.43 178.4 113.496 180.638 113.546C181.322 111.002 182.998 108.79 185.267 107.242Z",fill:"#EEE9E4",stroke:"#316474",strokeWidth:1.86956,strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M28.9826 44.2651L31.1811 39.3806C31.4317 38.8239 31.8368 38.3511 32.3482 38.0186C33.6903 37.146 32.4961 39.4744 33.371 40.82L47.1313 61.9843C48.0232 63.3561 50.6285 63.2444 49.2603 64.1339C48.7782 64.4474 48.2214 64.627 47.6466 64.6544L42.6017 64.8951C39.4191 65.0469 36.288 65.6667 33.3067 66.7259C32.9227 66.8623 32.8231 67.3539 33.1147 67.6385C34.081 68.5815 34.9976 69.5032 35.0615 69.5729L37.4244 72.1491C38.7978 73.6465 38.5876 75.9994 36.9712 77.2219C35.8198 78.0927 34.2458 78.1488 33.0315 77.3624C31.92 76.5933 25.4781 70.8878 24.1962 71.6402C21.3485 73.3116 17.6576 72.4561 15.8346 69.6521L14.0731 66.9429C12.1973 64.0577 13.0093 60.2022 15.8868 58.3313C16.2843 58.0728 16.6884 57.82 17.0932 57.5667C22.0639 54.4563 26.5733 49.618 28.9826 44.2651Z",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{d:"M25.5367 70.553L26.0597 71.3278L26.0597 71.3278L25.5367 70.553ZM42.5183 65.0836L42.5135 64.1489L42.5183 65.0836ZM47.8746 65.0562L47.8794 65.991L47.8746 65.0562ZM49.1938 63.6206L48.8487 64.4894L48.8487 64.4894L49.1938 63.6206ZM14.3182 69.0346L14.9579 70.0184L16.5253 68.9993L15.8856 68.0155L14.3182 69.0346ZM14.9579 70.0184C17.1139 73.3344 21.5456 74.2827 24.8579 72.1291L23.8388 70.5617C21.3961 72.1499 18.121 71.4536 16.5253 68.9993L14.9579 70.0184ZM24.8579 72.1291C25.2633 71.8655 25.6651 71.5942 26.0597 71.3278L25.0136 69.7783C24.6167 70.0463 24.2284 70.3084 23.8388 70.5617L24.8579 72.1291ZM26.0597 71.3278C30.786 68.1368 36.8603 66.0474 42.5231 66.0184L42.5135 64.1489C36.4363 64.18 30.0068 66.4072 25.0136 69.7783L26.0597 71.3278ZM42.5231 66.0184L47.8794 65.991L47.8698 64.1214L42.5135 64.1489L42.5231 66.0184ZM47.8794 65.991C48.1845 65.9894 48.6819 65.9854 49.176 65.9349C49.6182 65.8897 50.2583 65.7921 50.7224 65.4903L49.7033 63.9229C49.7069 63.9206 49.6933 63.9298 49.6538 63.945C49.6154 63.9599 49.5627 63.9766 49.4942 63.9934C49.3552 64.0276 49.1824 64.0549 48.9858 64.075C48.5913 64.1154 48.1753 64.1199 47.8698 64.1214L47.8794 65.991ZM50.7224 65.4903C50.9694 65.3297 51.4367 64.9499 51.3905 64.3086C51.3496 63.7413 50.9205 63.4252 50.7645 63.3182C50.5526 63.1728 50.3054 63.0603 50.1092 62.9778C49.9158 62.8965 49.6815 62.8086 49.5388 62.7519L48.8487 64.4894C49.0516 64.57 49.2086 64.6273 49.3849 64.7013C49.5584 64.7743 49.6593 64.8272 49.7068 64.8598C49.7292 64.8752 49.7038 64.8621 49.6649 64.8138C49.6239 64.763 49.5397 64.6366 49.5257 64.443C49.5108 64.2362 49.5847 64.0773 49.6467 63.9908C49.699 63.9178 49.7385 63.9001 49.7033 63.9229L50.7224 65.4903ZM49.5388 62.7519C48.8914 62.4947 48.4405 62.2828 48.2314 61.9611L46.664 62.9802C47.255 63.8892 48.3311 64.2838 48.8487 64.4894L49.5388 62.7519Z",fill:"#316474"}),(0,s.jsx)("ellipse",{cx:41.4608,cy:51.2452,rx:4.16271,ry:16.0562,transform:"rotate(-33.0306 41.4608 51.2452)",fill:"#ECE8E2",stroke:"#316474",strokeWidth:1.86956}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1483 57.8186C39.9805 56.398 38.7929 54.7788 37.6467 53.0158C36.7429 51.6257 35.9312 50.2484 35.2241 48.9222C37.4134 47.6394 40.3897 48.5062 41.9598 50.9211C43.5056 53.2987 43.1269 56.313 41.1483 57.8186Z",fill:"#ECE8E2"}),(0,s.jsx)("path",{d:"M41.1483 57.8186L40.4262 58.4122L40.9979 59.1076L41.7143 58.5625L41.1483 57.8186ZM35.2241 48.9222L34.7515 48.1156L33.9768 48.5696L34.3993 49.362L35.2241 48.9222ZM41.8704 57.2249C40.7259 55.8327 39.5588 54.2418 38.4304 52.5063L36.863 53.5253C38.0271 55.3158 39.2351 56.9632 40.4262 58.4122L41.8704 57.2249ZM38.4304 52.5063C37.5408 51.138 36.743 49.784 36.049 48.4824L34.3993 49.362C35.1195 50.7128 35.945 52.1134 36.863 53.5253L38.4304 52.5063ZM35.6967 49.7287C37.3761 48.7447 39.8252 49.353 41.1761 51.4307L42.7435 50.4116C40.9541 47.6594 37.4508 46.5341 34.7515 48.1156L35.6967 49.7287ZM41.1761 51.4307C42.505 53.4747 42.1024 55.9179 40.5822 57.0747L41.7143 58.5625C44.1514 56.7081 44.5061 53.1227 42.7435 50.4116L41.1761 51.4307Z",fill:"#316474"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},587663:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityNuxLightIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=200,g=360;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"community-nux-light"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 360 200",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_995_68203)",children:[(0,s.jsx)("path",{opacity:.15,d:"M308.2 59.5H306.6C303.8 59.5 301.6 61.8999 301.6 64.6999C301.6 67.4999 303.9 69.6999 306.6 69.6999C309.7 69.6999 312.1 72.2 312.1 75.2V185.9C312.1 190.9 308.1 194.9 303.1 194.9H135.6C130.6 194.9 126.6 190.9 126.6 185.9V64.6999H125.1C120.1 64.6999 116.1 60.7 116.1 55.7V16.7C116.1 11.7 120.1 7.69995 125.1 7.69995H324.7C329.7 7.69995 333.7 11.7 333.7 16.7V50.7C333.7 55.7 329.7 59.7 324.7 59.7H307.9",fill:"#06CF9C"}),(0,s.jsx)("path",{d:"M138.2 80.4H300.5C303.2 80.4 305.3 82.5 305.3 85.2V122.7C305.3 125.4 303.2 127.5 300.5 127.5H138.2C135.5 127.5 133.4 125.4 133.4 122.7V85.2C133.4 82.5 135.5 80.4 138.2 80.4Z",fill:"#73F38F",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M159.8 123.3C170.514 123.3 179.2 114.614 179.2 103.9C179.2 93.1857 170.514 84.5 159.8 84.5C149.086 84.5 140.4 93.1857 140.4 103.9C140.4 114.614 149.086 123.3 159.8 123.3Z",fill:"#FCF5EB",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M138.2 137.3H300.5C303.2 137.3 305.3 139.4 305.3 142.1V179.6C305.3 182.3 303.2 184.4 300.5 184.4H138.2C135.5 184.4 133.4 182.3 133.4 179.6V142.1C133.4 139.4 135.5 137.3 138.2 137.3Z",fill:"#73F38F",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M159.8 180.3C170.514 180.3 179.2 171.614 179.2 160.9C179.2 150.186 170.514 141.5 159.8 141.5C149.086 141.5 140.4 150.186 140.4 160.9C140.4 171.614 149.086 180.3 159.8 180.3Z",fill:"#FCF5EB",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M141.1 12.4H163C170 12.4 175.6 18 175.6 25V46.9C175.6 53.9 170 59.5 163 59.5H141.1C134.1 59.5 128.5 53.9 128.5 46.9V25C128.5 18 134.1 12.4 141.1 12.4Z",fill:"#FCF5EB",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M267.1 28.7L190.7 28.7999L267.1 28.7ZM246.3 43.2L190.9 43.2999L246.3 43.2Z",fill:"#FCF5EB"}),(0,s.jsx)("path",{d:"M267.1 28.7L190.7 28.7999M246.3 43.2L190.9 43.2999",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M167.2 28.5C168.2 27.7 169.8 26 167.2 23.1C164.5 20.1 163 19.1 162.1 18.7C161.2 18.2 159.7 17.5 157.7 19.5C157.3 19.9 155 21.9 152.2 24.7C157.2 26.7 160.9 31.2 162.1 33.4L167.2 28.5ZM148.2 43C148.2 40.3 144.2 37.9 144.2 37.9C144.6 35.9 140.4 37.8 140.4 37.8L138.4 38.4L137.8 40C137.4 41 136.8 43.5 136.5 45.7V47.7C136.5 47.7 136.7 48.3 137.9 48.7L139.4 49.2C141.8 48.9 146.7 47.8 148 47.2C147.3 45.8 148.2 43.1 148.2 43.1V43Z",fill:"white",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M162 33.4C159.7 29.5 156.3 26.5 152.2 24.7L150.5 26.6L138.4 38.4V38.9C138.4 38.9 142.5 40 142.2 41.9C142.2 41.9 145.4 42.4 145.4 45.2C145.4 45.2 147.4 45.7 148 47.2C151 45.1 155.2 40.5 159.5 36.2L162.1 33.4H162ZM139.8 49C138.9 45.7999 136.5 45.7 136.5 45.7C136.5 45.7 136 49 136.3 49.4C136.5 49.6 137.9 49.4 139.6 49.2L139.9 49.0999L139.8 49Z",fill:"#73F38F",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M166 29.6C163.7 25.9 160.3 23 156.3 21.4L166 29.6Z",fill:"white"}),(0,s.jsx)("path",{d:"M166 29.6C163.7 25.9 160.3 23 156.3 21.4",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M286.7 59.5999H282.7C277.7 59.5999 273.7 55.5999 273.7 50.5999V27C273.7 22 277.7 18 282.7 18H306.4C311.4 18 315.4 22 315.4 27V50.5999C315.4 54.9999 312.3 58.6 308.2 59.4L306.7 59.5999C303.8 59.5999 301.6 61.8999 301.6 64.5999C301.6 67.4999 303.9 69.8 306.7 69.8C309.7 69.8 312.2 72.2 312.2 75.2V185.9C312.2 190.9 308.2 194.9 303.2 194.9H135.5C130.5 194.9 126.5 190.9 126.5 185.9V64.6999H125C120 64.6999 116 60.7 116 55.7V16.7C116 11.7 120 7.69995 125 7.69995H269.8M287.4 57.5999V61.7",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M300.3 47.6L310.6 47.5C311.3 47.5 312 46.9 312.3 46.3C312.6 45.7 312.6 45 312.3 44.3C310.6 42 308 40.7 305.2 40.7C303.9 40.7 302.6 41.2 302.6 41.2M288 47.3H279C278.3 47.3 277.7 47 277.3 46.3C276.9 45.6 277 45 277.3 44.3C279.4 41.4 283 40.1 286.5 40.9",fill:"white"}),(0,s.jsx)("path",{d:"M300.3 47.6L310.6 47.5C311.3 47.5 312 46.9 312.3 46.3C312.6 45.7 312.6 45 312.3 44.3C310.6 42 308 40.7 305.2 40.7C303.9 40.7 302.6 41.2 302.6 41.2M288 47.3H279C278.3 47.3 277.7 47 277.3 46.3C276.9 45.6 277 45 277.3 44.3C279.4 41.4 283 40.1 286.5 40.9",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M301.8 47.6L287.4 47.3C286.4 47.3 285.4 47 284.8 46.1C284.3 45.1 284.4 44.1 284.9 43.1C288.1 37.8 295.1 36.1 300.4 39.3C301.9 40.2 303.2 41.5 304.2 43.1C304.8 44.1 304.8 45.2 304.3 46.1C303.8 47.1 302.8 47.6 301.8 47.6ZM301.6 35C301.6 33 303.2 31.4 305.2 31.4C307.2 31.4 308.8 33 308.8 35C308.8 37 307.2 38.6 305.2 38.6C303.2 38.6 301.6 37 301.6 35ZM284.5 38.5C282.5 38.8 280.7 37.5 280.4 35.5C280.1 33.5 281.4 31.7 283.4 31.4C283.8 31.3 284.2 31.3 284.6 31.4C286.6 31.7 287.9 33.6 287.6 35.5C287.2 37.1 286 38.2 284.5 38.5ZM294.7 35.3C292.1 35.3 290.1 33.2 290.1 30.7C290.1 28.2 292.2 26.1 294.7 26.1C297.2 26.1 299.3 28.2 299.3 30.7C299.3 33.2 297.3 35.3 294.7 35.3Z",fill:"white",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M125.2 138.4L64.3999 150.7L47.3999 123.9L83.6999 74.3",fill:"#FCF5EB"}),(0,s.jsx)("path",{d:"M125.2 138.4L64.3999 150.7L47.3999 123.9L83.6999 74.3",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M136.8 139.1C145 133.9 140.8 112.5 127.4 91.5C114 70.5 96.3999 57.6 88.1999 62.9C79.8999 68.2 84.0999 89.5 97.4999 110.6C110.9 131.6 128.5 144.4 136.7 139.1H136.8Z",fill:"#FCF5EB",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M113.2 112.9C122.6 124.9 132.4 131.8 137.1 128.9C142.7 125.3 138.5 108.6 127.6 91.6C116.7 74.6 103.4 63.6 97.8001 67.2H97.7001C93.1001 70.2 95.1001 82 102.1 95.6",fill:"#FCF5EB"}),(0,s.jsx)("path",{d:"M113.2 112.9C122.6 124.9 132.4 131.8 137.1 128.9C142.7 125.3 138.5 108.6 127.6 91.6C116.7 74.6 103.4 63.6 97.8001 67.2H97.7001C93.1001 70.2 95.1001 82 102.1 95.6",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M117.3 98.0999C114.2 93.2999 107.8 91.8999 103 94.8999C102.7 95.0999 102.4 95.2999 102.1 95.4999C103.6 98.3999 105.3 101.4 107.2 104.5C109.1 107.6 111.1 110.3 113.1 112.9C113.4 112.7 113.7 112.6 114 112.4C118.9 109.3 120.3 102.9 117.3 98.0999Z",fill:"#FCF5EB",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M51.3 159.3L65 150.6L47.6 123.2L33.9 131.9C25.9 136 22.7 145.8 26.8 153.8C30.9 161.8 40.7 165 48.7 160.9C49.6 160.5 50.5 159.9 51.3 159.3Z",fill:"#FCF5EB",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M75.2001 176.8L75.0001 176.9C72.4001 178.6 69.0001 177.8 67.4001 175.2L55.6001 156.6L65.1001 150.6L76.9001 169.2C78.5001 171.8 77.7001 175.2 75.2001 176.8Z",fill:"#FCF5EB",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M269.9 5.69995V9.69995M126.5 64.6999H201.2M78.1999 8.99995C76.9999 14.9 75.1999 22.7 73.1999 24.7C70.7999 27.2 62.5999 27.7 55.7999 27.7C54.6999 27.7 54.4999 29.3 55.5999 29.6C61.7999 31 69.5999 32.8999 71.4999 35.2999C73.4999 37.6999 73.6999 46.1 73.6999 52.5C73.6999 53.6 75.3999 53.8 75.6999 52.7C77.0999 46.3 78.9999 38.0999 81.5999 36.0999C83.9999 34.2999 93.0999 34.0999 99.5999 34.0999C100.9 34.0999 101 32.5 99.8999 32.2C93.4999 30.9 84.5999 29 82.5999 26.7C80.4999 24.3 80.1999 15.8 80.1999 9.19995C80.1999 8.09995 78.4999 7.89995 78.1999 8.99995ZM110.7 158.3C108.3 160.6 105.5 162.4 102.4 163.7C100.4 163.9 96.3999 161.1 93.0999 158.5C92.5999 158.1 91.8999 158.8 92.2999 159.3C94.6999 162.3 97.5999 166.1 97.5999 168C97.5999 169.9 94.5999 173.9 92.0999 176.9C91.6999 177.4 92.3999 178.1 92.8999 177.7C95.9999 175.3 99.9999 172.2 101.9 172.2C103.8 172.2 108.1 175.7 111.2 178.2C111.7 178.6 112.4 177.9 112 177.3C109.5 174.3 106.1 170 106 168.2C106 166.2 109 162.2 111.5 159.1C111.9 158.6 111.2 157.8 110.7 158.3Z",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M172.3 166.9C171.4 163 170.4 159.1 169.3 155.2L164.3 151.7L148.2 157.7C148.2 158.2 150.9 170.6 151.1 171.1C151.2 171.5 151.8 172 152.5 172.1C153.1 172.3 164.3 172.7 164.7 172.7C165.1 172.7 165.7 172.7 166.4 172.2C167.1 171.7 171.4 169.2 171.9 168.7C172.4 168.2 172.5 167.8 172.3 166.9Z",fill:"white",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M164.2 151.8L163.1 158.1L148.2 157.7L151.9 152.7L151.6 150.7C151.6 150.2 151.7 149.9 152.4 149.9L162.7 149.1C163.3 149.1 163.5 149 163.7 149.9L164.2 151.9L151.9 152.6M163.1 158.1L165.5 172.6L163.1 158.1ZM161.5 113.7C161.5 113.7 169.1 111.7 171.5 110.9C173.7 110.1 173.4 108.2 173.2 107.5C171.9 102.8 170.6 98.1 169.2 93.5C169.2 93.5 168.7 90.9 165.2 91.6C161.6 92.4 149.5 95.6 149 96C148.5 96.3 146.4 96.8 147.5 100.3C148.7 103.7 149.9 108.1 149.9 108.1",fill:"white"}),(0,s.jsx)("path",{d:"M164.2 151.8L163.1 158.1M163.1 158.1L148.2 157.7L151.9 152.7L151.6 150.7C151.6 150.2 151.7 149.9 152.4 149.9L162.7 149.1C163.3 149.1 163.5 149 163.7 149.9L164.2 151.9L151.9 152.6M163.1 158.1L165.5 172.6M161.5 113.7C161.5 113.7 169.1 111.7 171.5 110.9C173.7 110.1 173.4 108.2 173.2 107.5C171.9 102.8 170.6 98.1 169.2 93.5C169.2 93.5 168.7 90.9 165.2 91.6C161.6 92.4 149.5 95.6 149 96C148.5 96.3 146.4 96.8 147.5 100.3C148.7 103.7 149.9 108.1 149.9 108.1",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M155.5 116.3C152 116 149.4 113 149.7 109.5C150 106.1 153.1 103.5 156.7 103.8C160.2 104.1 162.9 107.2 162.5 110.6C162.1 114 159.1 116.6 155.5 116.3Z",fill:"#73F38F",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M169.9 101.3L168.6 101.6M166.1 102.8L165.1 103M162.7 104.2L161.9 104.4M156.3 94.6L156.6 95.9M157.4 98L157.7 98.9M158.4 101.3C158.4 101.6 158.6 101.9 158.8 102.2M153.4 109.8L153.7 109.5L158.1 108C157.8 108.6 153.5 109.9 153.4 109.8ZM154.2 112.1L154.5 111.8L158.8 110.3C158.6 110.9 154.2 112.2 154.2 112.1ZM150.7 101.7C150.7 101.5 150.8 101.4 151 101.4C152.4 100.9 153.8 100.3 155.3 99.9C155.1 100.5 150.7 101.7 150.7 101.7ZM162 98L162.3 97.8L166.8 97.2C166.5 97.7 161.9 98.2 161.9 98.1L162 98Z",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M163.7 95.3L164 95.6L165 100C164.4 99.7 163.6 95.3 163.7 95.3ZM165 110C164.8 109.8 165 109.5 165 109.3L168 104.1C168.3 104.9 165 110 165 110Z",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M163.6 105.7C163.7 105.5 164 105.6 164.2 105.7C165.9 106.5 167.7 107.3 169.4 108.3C168.6 108.7 163.6 105.8 163.6 105.7Z",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M267.1 96.5L190.7 96.6L267.1 96.5ZM246.3 111L190.9 111.1L246.3 111Z",fill:"#FCF5EB"}),(0,s.jsx)("path",{d:"M267.1 96.5L190.7 96.6M246.3 111L190.9 111.1",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M267.1 153.6L190.7 153.7L267.1 153.6ZM246.3 168.1L190.9 168.2L246.3 168.1Z",fill:"#FCF5EB"}),(0,s.jsx)("path",{d:"M267.1 153.6L190.7 153.7M246.3 168.1L190.9 168.2",stroke:"#316474",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_995_68203",children:(0,s.jsx)("rect",{width:360,height:200,fill:"white"})})})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},990206:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeactivateBadgeDarkIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=42,g=42;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"deactivate_badge_dark"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 42 42",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{d:"M22.0607 22.7593L21 21.6987L19.9393 22.7593L15.6993 26.9993C15.5051 27.1936 15.1949 27.1936 15.0007 26.9993C14.8064 26.8051 14.8064 26.4949 15.0007 26.3007L19.2407 22.0607L20.3038 20.9975L19.2382 19.9368L14.9807 15.6993C14.9804 15.6991 14.9801 15.6988 14.9798 15.6985C14.7864 15.5042 14.7867 15.1946 14.9807 15.0007C15.1749 14.8064 15.4851 14.8064 15.6793 15.0007L15.6818 15.0032L19.9418 19.2432L21.0025 20.2988L22.0607 19.2407L26.3007 15.0007C26.4949 14.8064 26.8051 14.8064 26.9993 15.0007C27.1936 15.1949 27.1936 15.5051 26.9993 15.6993L22.7593 19.9393L21.6987 21L22.7593 22.0607L26.9993 26.3007L27.0061 26.3074L27.0128 26.314C27.2114 26.5076 27.2113 26.8274 27.0193 27.0193C26.8251 27.2136 26.5149 27.2136 26.3207 27.0193L22.0607 22.7593ZM26.8 1.5H15.2C13.7416 1.5 12.3403 2.07842 11.2993 3.11934L3.09934 11.3193C2.07444 12.3442 1.5 13.7473 1.5 15.2V26.8C1.5 28.2512 2.0737 29.6586 3.12587 30.6872L11.3129 38.8743C12.3415 39.9263 13.7488 40.5 15.2 40.5H26.8C28.2512 40.5 29.6585 39.9263 30.6871 38.8743L38.8743 30.6871C39.9263 29.6585 40.5 28.2512 40.5 26.8V15.2C40.5 13.7488 39.9263 12.3415 38.8743 11.3129L30.6872 3.12587C29.6586 2.0737 28.2512 1.5 26.8 1.5Z",fill:"#F15C6D",stroke:"#111b21",strokeWidth:3}),(0,s.jsx)("path",{d:"M28.08 28.08C27.3 28.86 26.04 28.86 25.26 28.08L21 23.82L16.76 28.06C15.98 28.84 14.72 28.84 13.94 28.06C13.16 27.28 13.16 26.02 13.94 25.24L18.18 21L13.92 16.76C13.14 15.98 13.14 14.72 13.92 13.94C14.7 13.16 15.96 13.16 16.74 13.94L21 18.18L25.24 13.94C26.02 13.16 27.28 13.16 28.06 13.94C28.84 14.72 28.84 15.98 28.06 16.76L23.82 21L28.06 25.24C28.86 26.02 28.86 27.3 28.08 28.08Z",fill:"#111b21"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},694771:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeactivateBadgeIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=42,g=42;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"deactivate_badge"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 42 42",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{d:"M22.0607 22.7593L21 21.6987L19.9393 22.7593L15.6993 26.9993C15.5051 27.1936 15.1949 27.1936 15.0007 26.9993C14.8064 26.8051 14.8064 26.4949 15.0007 26.3007L19.2407 22.0607L20.3038 20.9975L19.2382 19.9368L14.9807 15.6993C14.9804 15.6991 14.9801 15.6988 14.9798 15.6985C14.7864 15.5042 14.7867 15.1946 14.9807 15.0007C15.1749 14.8064 15.4851 14.8064 15.6793 15.0007L15.6818 15.0032L19.9418 19.2432L21.0025 20.2988L22.0607 19.2407L26.3007 15.0007C26.4949 14.8064 26.8051 14.8064 26.9993 15.0007C27.1936 15.1949 27.1936 15.5051 26.9993 15.6993L22.7593 19.9393L21.6987 21L22.7593 22.0607L26.9993 26.3007L27.0061 26.3074L27.0128 26.314C27.2114 26.5076 27.2113 26.8274 27.0193 27.0193C26.8251 27.2136 26.5149 27.2136 26.3207 27.0193L22.0607 22.7593ZM26.8 1.5H15.2C13.7416 1.5 12.3403 2.07842 11.2993 3.11934L3.09934 11.3193C2.07444 12.3442 1.5 13.7473 1.5 15.2V26.8C1.5 28.2512 2.0737 29.6586 3.12587 30.6872L11.3129 38.8743C12.3415 39.9263 13.7488 40.5 15.2 40.5H26.8C28.2512 40.5 29.6585 39.9263 30.6871 38.8743L38.8743 30.6871C39.9263 29.6585 40.5 28.2512 40.5 26.8V15.2C40.5 13.7488 39.9263 12.3415 38.8743 11.3129L30.6872 3.12587C29.6586 2.0737 28.2512 1.5 26.8 1.5Z",fill:"#ea0038",stroke:"white",strokeWidth:3}),(0,s.jsx)("path",{d:"M28.08 28.08C27.3 28.86 26.04 28.86 25.26 28.08L21 23.82L16.76 28.06C15.98 28.84 14.72 28.84 13.94 28.06C13.16 27.28 13.16 26.02 13.94 25.24L18.18 21L13.92 16.76C13.14 15.98 13.14 14.72 13.92 13.94C14.7 13.16 15.96 13.16 16.74 13.94L21 18.18L25.24 13.94C26.02 13.16 27.28 13.16 28.06 13.94C28.84 14.72 28.84 15.98 28.06 16.76L23.82 21L28.06 25.24C28.86 26.02 28.86 27.3 28.08 28.08Z",fill:"white"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},74168:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=112,g=112;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"document"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 112 112",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M112 56C112 86.9279 86.9279 112 56 112C25.0721 112 0 86.9279 0 56C0 25.0721 25.0721 0 56 0C86.9279 0 112 25.0721 112 56ZM41.9395 48.6665H69.9395C71.044 48.6665 71.9395 49.5619 71.9395 50.6665C71.9395 51.7711 71.044 52.6665 69.9395 52.6665H41.9395C40.8349 52.6665 39.9395 51.7711 39.9395 50.6665C39.9395 49.5619 40.8349 48.6665 41.9395 48.6665ZM41.9395 58.6665H69.9395C71.044 58.6665 71.9395 59.5619 71.9395 60.6665C71.9395 61.7711 71.044 62.6665 69.9395 62.6665H41.9395C40.8349 62.6665 39.9395 61.7711 39.9395 60.6665C39.9395 59.5619 40.8349 58.6665 41.9395 58.6665ZM53.9394 68.6665H41.9395C40.8349 68.6665 39.9395 69.5619 39.9395 70.6665C39.9395 71.7711 40.8349 72.6665 41.9395 72.6665H53.9394C55.044 72.6665 55.9394 71.7711 55.9394 70.6665C55.9394 69.5619 55.044 68.6665 53.9394 68.6665Z",fill:"#06CF9C",fillOpacity:.15}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M68 19H34C30.6863 19 28 21.6863 28 25V87C28 90.3137 30.6863 93 34 93H78C81.3137 93 84 90.3137 84 87V35L68 19ZM42 49H70C71.1046 49 72 49.8954 72 51C72 52.1046 71.1046 53 70 53H42C40.8954 53 40 52.1046 40 51C40 49.8954 40.8954 49 42 49ZM42 59H70C71.1046 59 72 59.8954 72 61C72 62.1046 71.1046 63 70 63H42C40.8954 63 40 62.1046 40 61C40 59.8954 40.8954 59 42 59ZM54 69H42C40.8954 69 40 69.8954 40 71C40 72.1046 40.8954 73 42 73H54C55.1046 73 56 72.1046 56 71C56 69.8954 55.1046 69 54 69Z",fill:"#06CF9C"}),(0,s.jsx)("path",{d:"M84 35L68 19V29C68 32.3137 70.6863 35 74 35L84 35Z",fill:"#00A884"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},156546:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.DraggableItemIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=6,g=16;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"draggable_item"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 16 6",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsx)("path",{d:"M15 0H1C0.45 0 0 0.45 0 1C0 1.55 0.45 2 1 2H15C15.55 2 16 1.55 16 1C16 0.45 15.55 0 15 0ZM1 6H15C15.55 6 16 5.55 16 5C16 4.45 15.55 4 15 4H1C0.45 4 0 4.45 0 5C0 5.55 0.45 6 1 6Z",fill:"#8696A0"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},108937:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.HelpIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=21,g=20;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"help"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 20 21",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 10.5C0 4.98 4.48 0.5 10 0.5C15.52 0.5 20 4.98 20 10.5C20 16.02 15.52 20.5 10 20.5C4.48 20.5 0 16.02 0 10.5ZM2 10.5C2 14.91 5.59 18.5 10 18.5C14.41 18.5 18 14.91 18 10.5C18 6.09 14.41 2.5 10 2.5C5.59 2.5 2 6.09 2 10.5ZM11 14.5V16.5H9V14.5H11ZM6.18 7.33C6.73 5.51 8.55 4.24 10.61 4.54C12.35 4.8 13.72 6.27 13.96 8.01C14.1881 9.62354 13.2957 10.4021 12.4344 11.1535C12.2762 11.2916 12.119 11.4288 11.97 11.57C11.85 11.68 11.74 11.79 11.64 11.91C11.635 11.915 11.63 11.9225 11.625 11.93C11.62 11.9375 11.615 11.945 11.61 11.95C11.51 12.07 11.41 12.2 11.33 12.34C11.32 12.355 11.3125 12.37 11.305 12.385C11.2975 12.4 11.29 12.415 11.28 12.43C11.11 12.73 11 13.08 11 13.5H9C9 13 9.08 12.59 9.2 12.25C9.20438 12.2368 9.20685 12.2256 9.20907 12.2155C9.21192 12.2025 9.21438 12.1912 9.22 12.18C9.225 12.165 9.2325 12.1525 9.24 12.14C9.2475 12.1275 9.255 12.115 9.26 12.1C9.33 11.92 9.42 11.75 9.51 11.6C9.515 11.59 9.52 11.5825 9.525 11.575C9.53 11.5675 9.535 11.56 9.54 11.55C9.54 11.545 9.5425 11.5425 9.545 11.54C9.5475 11.5375 9.55 11.535 9.55 11.53C9.89058 11.0171 10.3473 10.6658 10.7745 10.3373C11.3883 9.8652 11.941 9.44014 12 8.65C12.08 7.68 11.38 6.75 10.43 6.55C9.4 6.33 8.45 6.94 8.13 7.83C7.99 8.21 7.66 8.5 7.25 8.5H7.05C6.44 8.5 6 7.91 6.18 7.33Z",fill:"currentColor"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},49552:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.HighlyForwardedIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=16,g=20;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"highly-forwarded"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 20 16",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",children:[(0,s.jsx)("path",{d:"M13.6059557,5.26308901 C13.6220086,5.26163419 13.6302968,5.26102868 13.6302968,5.26102868 L13.6666317,3.82396292 C13.6881611,2.97246613 14.1900805,2.77489995 14.7806307,3.3754967 L18.4132486,7.06991365 C18.7126057,7.37436354 18.7160739,7.87287893 18.4230266,8.18124118 L14.7679628,12.0273223 C14.1812438,12.6447038 13.7056141,12.4510723 13.7056141,11.6045324 L13.7056141,9.93754567 L14.8701549,8.71214475 C15.4496567,8.10235763 15.441656,7.13001879 14.8512575,6.52957627 L13.6059557,5.26308901 L13.6059557,5.26308901 Z",fillOpacity:.25,fill:"currentColor"}),(0,s.jsx)("path",{d:"M9.55511091,3.82396292 C9.57664026,2.97246613 10.0785597,2.77489995 10.6691099,3.3754967 L14.3017278,7.06991365 C14.6010849,7.37436354 14.6045531,7.87287893 14.3115058,8.18124118 L10.656442,12.0273223 C10.069723,12.6447038 9.59409325,12.4510723 9.59409325,11.6045324 L9.59409325,9.87219486 C9.59409325,9.87219486 5.03474338,9.49878283 2.43099409,12.3846575 C1.83824676,12.8974744 1.66218866,12.9568393 1.47026458,12.8572726 C1.32851376,12.7423664 1.28325362,12.3846575 1.73218749,11.260453 C3.56459895,5.69602505 9.51877595,5.26102868 9.51877595,5.26102868 L9.55511091,3.82396292 Z",fillOpacity:.4,fill:"currentColor"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},848408:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.IcHdActiveIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=32,g=32;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"ic_hd_active"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 32 32",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.79199 21.0949C3.792 23.2757 5.55996 25.0437 7.74085 25.0437H20.0548C20.3244 25.0402 20.5419 24.8206 20.5419 24.5501V22.0957C20.5419 20.4676 21.8617 19.1478 23.4899 19.1478H25.5556C26.0579 19.1478 26.4652 18.7405 26.4652 18.2382C26.4652 18.2043 26.4661 18.1707 26.4678 18.1375V10.8504C26.4678 8.66953 24.6998 6.90308 22.5189 6.90308L7.74088 6.90308C5.55997 6.90309 3.792 8.67106 3.792 10.852L3.79199 21.0949ZM12.9351 20.0024H14.4953V11.9413H12.9351V15.2022H10.6245V11.9413H9.05564V20.0024H10.6245V16.5531H12.9351V20.0024ZM16.5301 11.9413V20.0024H18.5401C19.4855 20.0024 20.2266 19.7016 20.7633 19.0999C21.3035 18.4946 21.5736 17.6623 21.5736 16.603V15.2964C21.563 14.2555 21.2875 13.4361 20.7473 12.8382C20.2106 12.2402 19.489 11.9413 18.5827 11.9413H16.5301ZM18.0975 18.6515V13.2977H18.668C19.1549 13.3125 19.4997 13.4693 19.7023 13.7683C19.9049 14.0636 20.0062 14.5877 20.0062 15.3407V16.7414C19.9955 17.4427 19.8836 17.9373 19.6703 18.2252C19.4571 18.5094 19.0892 18.6515 18.5667 18.6515H18.0975ZM30.4521 19.9975L25.9503 24.3925L24.5109 22.9873C24.3678 22.8474 24.1736 22.7687 23.9711 22.7687C23.7686 22.7687 23.5744 22.8474 23.4314 22.9873C23.1328 23.2788 23.1328 23.7497 23.4314 24.0412L25.4143 25.9772C25.7129 26.2687 26.1953 26.2687 26.4939 25.9772L31.5393 21.0514C31.8379 20.7599 31.8379 20.289 31.5393 19.9975C31.2407 19.706 30.7507 19.706 30.4521 19.9975Z",fill:"currentColor"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},766326:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.IcHdSettingsIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=32,g=32;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"ic_hd_settings"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 32 32",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0606 8.44477H7.19032C6.16357 8.44477 5.33123 9.27712 5.33123 10.3039V21.6399C5.33123 22.6666 6.16357 23.499 7.19032 23.499H18.9996C19.0787 24.036 19.221 24.5525 19.4186 25.0407H7.19032C5.31213 25.0407 3.78955 23.5181 3.78955 21.6399V10.3039C3.78955 8.42567 5.31213 6.90308 7.19032 6.90308H23.0606C24.9388 6.90308 26.4613 8.42567 26.4613 10.3039V15.7792C26.2099 15.7508 25.9544 15.7363 25.6954 15.7363C25.4331 15.7363 25.1742 15.7512 24.9197 15.7803V10.3039C24.9197 9.27712 24.0873 8.44477 23.0606 8.44477ZM14.4944 20.0024H12.9341V16.5532H10.6235V20.0024H9.05472V11.9413H10.6235V15.2023H12.9341V11.9413H14.4944V20.0024ZM16.5291 20.0024V11.9413H18.5817C19.4881 11.9413 20.2096 12.2402 20.7463 12.8382C21.2865 13.4361 21.562 14.2555 21.5727 15.2964V16.603C21.5727 17.6623 21.3025 18.4947 20.7623 19.1C20.2256 19.7016 19.4845 20.0024 18.5391 20.0024H16.5291ZM18.0966 13.2977V18.6515H18.5657C19.0882 18.6515 19.4561 18.5094 19.6693 18.2252C19.8826 17.9373 19.9946 17.4427 20.0052 16.7414V15.3407C20.0052 14.5877 19.9039 14.0636 19.7013 13.7683C19.4987 13.4694 19.154 13.3125 18.667 13.2977H18.0966ZM24.8447 26.6327L24.581 25.3538C24.4052 25.2828 24.2406 25.2083 24.087 25.1304C23.9329 25.052 23.7753 24.9559 23.6141 24.8422L22.3396 25.2259L21.4606 23.7765L22.4715 22.9238C22.4422 22.7249 22.4275 22.5402 22.4275 22.3696C22.4275 22.1991 22.4422 22.0144 22.4715 21.8154L21.4606 20.9628L22.3396 19.5133L23.6141 19.897C23.7753 19.7833 23.9329 19.6873 24.087 19.6088C24.2406 19.531 24.4052 19.4565 24.581 19.3855L24.8447 18.1065H26.6027L26.8664 19.3855C27.0422 19.4565 27.2071 19.5347 27.3612 19.6199C27.5148 19.7052 27.6721 19.8118 27.8333 19.9397L29.1078 19.5133L29.9868 21.0054L28.9759 21.8581C29.0052 22.0286 29.0199 22.2062 29.0199 22.3909C29.0199 22.5757 29.0052 22.7533 28.9759 22.9238L29.9868 23.7765L29.1078 25.2259L27.8333 24.8422C27.6721 24.9559 27.5148 25.052 27.3612 25.1304C27.2071 25.2083 27.0422 25.2828 26.8664 25.3538L26.6027 26.6327H24.8447ZM25.7237 24.0749C26.2071 24.0749 26.6211 23.908 26.9657 23.5744C27.3097 23.2402 27.4817 22.8386 27.4817 22.3696C27.4817 21.9007 27.3097 21.4991 26.9657 21.1649C26.6211 20.8312 26.2071 20.6644 25.7237 20.6644C25.2403 20.6644 24.8265 20.8312 24.4826 21.1649C24.138 21.4991 23.9657 21.9007 23.9657 22.3696C23.9657 22.8386 24.138 23.2402 24.4826 23.5744C24.8265 23.908 25.2403 24.0749 25.7237 24.0749Z",fill:"currentColor"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},583651:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.LinkCrossedIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"link-crossed"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsx)("path",{d:"M17 7H13V8.9H17C18.71 8.9 20.1 10.29 20.1 12C20.1 13.43 19.12 14.63 17.79 14.98L19.25 16.44C20.88 15.61 22 13.95 22 12C22 9.24 19.76 7 17 7ZM16 11H13.81L15.81 13H16V11ZM2 4.27L5.11 7.38C3.29 8.12 2 9.91 2 12C2 14.76 4.24 17 7 17H11V15.1H7C5.29 15.1 3.9 13.71 3.9 12C3.9 10.41 5.11 9.1 6.66 8.93L8.73 11H8V13H10.73L13 15.27V17H14.73L18.74 21L20 19.74L3.27 3L2 4.27Z",fill:"currentColor"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},939674:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorAddIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:l}=e;(0,i.default)(e,a);if(l){const{x:e=0,y:t=0,width:n=0,height:r=0}=l;[e,t,n,r].join(" ")}throw(0,o.default)("This SVG doesn't exist on web!")};r(n(81109));var i=r(n(506479)),o=(n(220584),r(n(156720)),r(n(556869)));n(785893);const a=["iconXstyle","height","width","viewBox"]},767065:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorBlurPixelateIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-blur-pixelate"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("rect",{x:4.5,y:4.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:4.5,y:10.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:4.5,y:16.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:7.5,y:7.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:7.5,y:13.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:13.5,y:7.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:13.5,y:13.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:10.5,y:4.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:10.5,y:10.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:10.5,y:16.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:16.5,y:4.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:16.5,y:10.5,width:3,height:3,fill:"currentColor"}),(0,s.jsx)("rect",{x:16.5,y:16.5,width:3,height:3,fill:"currentColor"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},160334:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorBlurSmoothIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-blur-smooth"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsx)("path",{d:"M6 13C5.45 13 5 13.45 5 14C5 14.55 5.45 15 6 15C6.55 15 7 14.55 7 14C7 13.45 6.55 13 6 13ZM6 17C5.45 17 5 17.45 5 18C5 18.55 5.45 19 6 19C6.55 19 7 18.55 7 18C7 17.45 6.55 17 6 17ZM6 9C5.45 9 5 9.45 5 10C5 10.55 5.45 11 6 11C6.55 11 7 10.55 7 10C7 9.45 6.55 9 6 9ZM3 9.5C2.72 9.5 2.5 9.72 2.5 10C2.5 10.28 2.72 10.5 3 10.5C3.28 10.5 3.5 10.28 3.5 10C3.5 9.72 3.28 9.5 3 9.5ZM6 5C5.45 5 5 5.45 5 6C5 6.55 5.45 7 6 7C6.55 7 7 6.55 7 6C7 5.45 6.55 5 6 5ZM21 10.5C21.28 10.5 21.5 10.28 21.5 10C21.5 9.72 21.28 9.5 21 9.5C20.72 9.5 20.5 9.72 20.5 10C20.5 10.28 20.72 10.5 21 10.5ZM14 7C14.55 7 15 6.55 15 6C15 5.45 14.55 5 14 5C13.45 5 13 5.45 13 6C13 6.55 13.45 7 14 7ZM14 3.5C14.28 3.5 14.5 3.28 14.5 3C14.5 2.72 14.28 2.5 14 2.5C13.72 2.5 13.5 2.72 13.5 3C13.5 3.28 13.72 3.5 14 3.5ZM3 13.5C2.72 13.5 2.5 13.72 2.5 14C2.5 14.28 2.72 14.5 3 14.5C3.28 14.5 3.5 14.28 3.5 14C3.5 13.72 3.28 13.5 3 13.5ZM10 20.5C9.72 20.5 9.5 20.72 9.5 21C9.5 21.28 9.72 21.5 10 21.5C10.28 21.5 10.5 21.28 10.5 21C10.5 20.72 10.28 20.5 10 20.5ZM10 3.5C10.28 3.5 10.5 3.28 10.5 3C10.5 2.72 10.28 2.5 10 2.5C9.72 2.5 9.5 2.72 9.5 3C9.5 3.28 9.72 3.5 10 3.5ZM10 7C10.55 7 11 6.55 11 6C11 5.45 10.55 5 10 5C9.45 5 9 5.45 9 6C9 6.55 9.45 7 10 7ZM10 12.5C9.17 12.5 8.5 13.17 8.5 14C8.5 14.83 9.17 15.5 10 15.5C10.83 15.5 11.5 14.83 11.5 14C11.5 13.17 10.83 12.5 10 12.5ZM18 13C17.45 13 17 13.45 17 14C17 14.55 17.45 15 18 15C18.55 15 19 14.55 19 14C19 13.45 18.55 13 18 13ZM18 17C17.45 17 17 17.45 17 18C17 18.55 17.45 19 18 19C18.55 19 19 18.55 19 18C19 17.45 18.55 17 18 17ZM18 9C17.45 9 17 9.45 17 10C17 10.55 17.45 11 18 11C18.55 11 19 10.55 19 10C19 9.45 18.55 9 18 9ZM18 5C17.45 5 17 5.45 17 6C17 6.55 17.45 7 18 7C18.55 7 19 6.55 19 6C19 5.45 18.55 5 18 5ZM21 13.5C20.72 13.5 20.5 13.72 20.5 14C20.5 14.28 20.72 14.5 21 14.5C21.28 14.5 21.5 14.28 21.5 14C21.5 13.72 21.28 13.5 21 13.5ZM14 17C13.45 17 13 17.45 13 18C13 18.55 13.45 19 14 19C14.55 19 15 18.55 15 18C15 17.45 14.55 17 14 17ZM14 20.5C13.72 20.5 13.5 20.72 13.5 21C13.5 21.28 13.72 21.5 14 21.5C14.28 21.5 14.5 21.28 14.5 21C14.5 20.72 14.28 20.5 14 20.5ZM10 8.5C9.17 8.5 8.5 9.17 8.5 10C8.5 10.83 9.17 11.5 10 11.5C10.83 11.5 11.5 10.83 11.5 10C11.5 9.17 10.83 8.5 10 8.5ZM10 17C9.45 17 9 17.45 9 18C9 18.55 9.45 19 10 19C10.55 19 11 18.55 11 18C11 17.45 10.55 17 10 17ZM14 12.5C13.17 12.5 12.5 13.17 12.5 14C12.5 14.83 13.17 15.5 14 15.5C14.83 15.5 15.5 14.83 15.5 14C15.5 13.17 14.83 12.5 14 12.5ZM14 8.5C13.17 8.5 12.5 9.17 12.5 10C12.5 10.83 13.17 11.5 14 11.5C14.83 11.5 15.5 10.83 15.5 10C15.5 9.17 14.83 8.5 14 8.5Z",fill:"currentColor"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},740647:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorCropRotateIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-crop-rotate"},c),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3816 3.90531C14.6637 3.90531 14.8923 3.67656 14.8923 3.39438L14.8918 2.84589C16.1791 2.85038 17.6246 3.213 18.7365 4.14324C19.3525 4.65862 20.1579 5.50436 20.5746 6.56201C21.1688 8.07002 21.2528 9.90516 21.2528 10.9187C21.2528 11.0355 21.3256 11.163 21.4225 11.2599C21.5194 11.3568 21.6468 11.4297 21.7636 11.4297H22.1521C22.2924 11.4297 22.4435 11.373 22.5595 11.282C22.6755 11.1911 22.76 11.0631 22.76 10.9187C22.76 9.62054 22.556 7.44191 21.7866 5.69255C21.2979 4.58147 20.4227 3.71554 19.7402 3.13325C18.3666 1.96127 16.5472 1.44043 14.8918 1.4354L14.8923 0.610953C14.8923 0.491427 14.8504 0.375683 14.774 0.283861C14.5934 0.0670835 14.2713 0.0377945 14.0546 0.218443L12.385 1.61015C12.3612 1.62994 12.3393 1.65183 12.3196 1.67557C12.139 1.89235 12.1682 2.21453 12.385 2.39517L14.0546 3.78689C14.1463 3.8634 14.2621 3.90531 14.3816 3.90531Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8064 15.0538V9.00506L17.7987 9.00506C17.7852 7.6881 16.7109 6.62478 15.3878 6.62478L7.13536 6.62477L7.13536 3.43437C7.13536 2.99096 6.77596 2.63803 6.33319 2.63803H5.98825C5.54547 2.63803 5.18607 2.99096 5.18607 3.43437V6.62477H2.04586C1.60299 6.62477 1.23999 6.98386 1.23999 7.42717V7.76721C1.23999 8.21052 1.60299 8.5696 2.04586 8.5696L15.3878 8.56961C15.6429 8.56961 15.8495 8.77602 15.8495 9.03035L15.8622 11.4123V15.0538C15.8622 15.4969 16.2213 15.8562 16.6643 15.8562H17.0043C17.4473 15.8562 17.8064 15.4969 17.8064 15.0538Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.18797 10.779V13.3284H5.18607L5.18609 16.8025C5.18609 18.1311 6.26561 19.208 7.59713 19.208H15.8495V22.2939C15.8495 22.7369 16.2085 23.1 16.6517 23.1H16.9967C17.4398 23.1 17.7988 22.7369 17.7988 22.2939V19.208H20.8904C21.3333 19.208 21.6963 18.8489 21.6963 18.4056V18.0655C21.6963 17.6222 21.3333 17.2631 20.8904 17.2631H7.59713C7.34204 17.2631 7.13537 17.0569 7.13537 16.8025L7.13536 13.3284H7.13226V10.779C7.13226 10.3358 6.77311 9.97659 6.33009 9.97659H5.99014C5.54711 9.97659 5.18797 10.3358 5.18797 10.779Z",fill:"currentColor"})]})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},494276:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorDrawingIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-drawing"},c),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.35999 18.0342V22.6393H5.99278L18.9143 9.66526L14.2817 5.06126L1.35999 18.0342ZM16.1582 9.67289L5.18355 20.6911H3.30815V18.8389L14.2887 7.81484L16.1582 9.67289Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5747 1.78958L15.3879 3.96288L20.0211 8.56752L22.2067 6.39544C22.4885 6.1154 22.6393 5.78963 22.6393 5.45357C22.6393 5.11751 22.4885 4.79175 22.2067 4.51171L19.4676 1.78958C19.1858 1.50949 18.8584 1.36 18.5212 1.36C18.1839 1.36 17.8565 1.50949 17.5747 1.78958ZM20.0211 5.82089L18.1516 3.96288L18.5212 3.59557L20.3907 5.45357L20.0211 5.82089Z",fill:"currentColor"})]})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},70843:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorEmojiIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-emoji"},c),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:[(0,s.jsx)("path",{d:"M10.5804 9.61471C10.5804 10.6992 9.9374 11.5794 9.14361 11.5794C8.34982 11.5794 7.7068 10.6992 7.7068 9.61471C7.7068 8.53022 8.34982 7.65 9.14361 7.65C9.9374 7.65 10.5804 8.53022 10.5804 9.61471Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9983 18.502C5.8137 18.1685 5.91853 12.6359 5.9445 12.9433C5.9445 12.9433 11.9863 14.3613 18.055 12.9433C18.055 12.9433 18.055 18.2516 11.9983 18.502ZM12.2469 16.0146C16.6222 16.0146 17.2902 14.0528 17.2902 14.0528C12.5514 15.1093 6.64842 14.0528 6.64842 14.0528C6.86709 14.8489 8.74722 16.0146 12.2469 16.0146Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M16.5263 9.61471C16.5263 10.6992 15.8833 11.5794 15.0895 11.5794C14.2957 11.5794 13.6527 10.6992 13.6527 9.61471C13.6527 8.53022 14.2957 7.65 15.0895 7.65C15.8833 7.65 16.5263 8.53022 16.5263 9.61471Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.14 12C23.14 18.1525 18.1524 23.14 12 23.14C5.84753 23.14 0.859985 18.1525 0.859985 12C0.859985 5.84755 5.84753 0.860001 12 0.860001C18.1524 0.860001 23.14 5.84755 23.14 12ZM21.19 12C21.19 17.0755 17.0755 21.19 12 21.19C6.92449 21.19 2.80999 17.0755 2.80999 12C2.80999 6.9245 6.92449 2.81 12 2.81C17.0755 2.81 21.19 6.9245 21.19 12Z",fill:"currentColor"})]})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},77678:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRedoIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-redo"},c),{},{children:(0,s.jsx)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1711 6.65302L15.1706 8.51221C15.1706 9.11927 15.6414 9.63151 16.2464 9.63151C16.4274 9.63151 16.605 9.58399 16.763 9.49405L21.8193 6.61457C22.3483 6.31335 22.5358 5.62853 22.256 5.08554C22.1569 4.89308 22.0057 4.73331 21.8193 4.62721L16.763 1.74774C16.2331 1.44598 15.5777 1.65826 15.2983 2.20064C15.2143 2.36365 15.1706 2.54543 15.1706 2.72959L15.1711 4.63483H10.1842C5.56509 4.63483 1.61 8.23329 1.61 13.3828C1.61 18.506 5.02928 22.3855 9.67952 22.3855H19.1685C19.66 22.3855 20.0388 21.9699 20.0388 21.4822V21.2336C20.0388 20.7313 19.6457 20.3614 19.1685 20.3614H9.67952C6.36475 20.3614 3.53737 17.1539 3.53737 13.3828C3.53737 9.62489 6.35893 6.65302 9.67952 6.65302H15.1711Z",fill:"currentColor"})})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},664376:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRotateLeftIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-rotate-left"},c),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.3542 8.1443C6.3542 7.7438 6.03051 7.4185 5.63045 7.4185L5.01611 7.41915C5.03258 5.57318 5.47035 4.24139 6.34295 3.36586C7.23254 2.4733 8.59469 2.03425 10.4907 2.03425H10.6135C10.9457 2.03425 11.2144 1.76409 11.2144 1.43161V0.815805C11.2144 0.415302 10.8908 0.090004 10.4907 0.090004C8.0866 0.090004 6.22855 0.730549 4.97198 1.99134C3.73442 3.23304 3.09655 5.05999 3.07758 7.41919L2.11375 7.4185C1.94433 7.4185 1.78034 7.4781 1.65028 7.58684C1.34333 7.84348 1.30195 8.30096 1.55763 8.60881L3.31599 10.7259C3.344 10.7596 3.37501 10.7907 3.40863 10.8189C3.71579 11.0757 4.17235 11.034 4.42821 10.7259L6.18656 8.60881C6.29491 8.47836 6.3542 8.31399 6.3542 8.1443Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.35864 8.89517V17.2464C9.35864 18.6072 10.4633 19.71 11.8256 19.71H20.143C21.5053 19.71 22.61 18.6072 22.61 17.2464V8.89517C22.61 7.53441 21.5053 6.43158 20.143 6.43158H11.8256C10.4633 6.43158 9.35864 7.53442 9.35864 8.89517ZM11.8256 17.764C11.5391 17.764 11.3071 17.5321 11.3071 17.2464V8.89517C11.3071 8.60945 11.5391 8.37755 11.8256 8.37755H20.143C20.4295 8.37755 20.6615 8.60945 20.6615 8.89517V17.2464C20.6615 17.5321 20.4295 17.764 20.143 17.764H11.8256Z",fill:"currentColor"})]})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},611381:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorRotateRightIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-rotate-right"},c),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6458 8.1443C17.6458 7.7438 17.9695 7.4185 18.3695 7.4185L18.9839 7.41915C18.9674 5.57318 18.5296 4.24139 17.657 3.36586C16.7674 2.4733 15.4053 2.03425 13.5093 2.03425H13.3865C13.0543 2.03425 12.7855 1.76409 12.7855 1.43161V0.815805C12.7855 0.415302 13.1092 0.090004 13.5093 0.090004C15.9134 0.090004 17.7714 0.730551 19.028 1.99134C20.2655 3.23304 20.9034 5.05999 20.9224 7.41919L21.8862 7.4185C22.0556 7.4185 22.2196 7.4781 22.3497 7.58684C22.6566 7.84348 22.698 8.30096 22.4423 8.60881L20.684 10.7259C20.656 10.7596 20.625 10.7907 20.5913 10.8189C20.2842 11.0757 19.8276 11.034 19.5718 10.7259L17.8134 8.60881C17.7051 8.47836 17.6458 8.31399 17.6458 8.1443Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6413 8.89517L14.6413 17.2464C14.6413 18.6072 13.5367 19.71 12.1743 19.71H3.85698C2.49465 19.71 1.38998 18.6072 1.38998 17.2464V8.89517C1.38998 7.53441 2.49465 6.43158 3.85698 6.43158H12.1743C13.5367 6.43158 14.6413 7.53442 14.6413 8.89517ZM12.1743 17.764C12.4609 17.764 12.6929 17.5321 12.6929 17.2464V8.89517C12.6929 8.60945 12.4609 8.37755 12.1743 8.37755H3.85698C3.57045 8.37755 3.33845 8.60945 3.33845 8.89517V17.2464C3.33845 17.5321 3.57045 17.764 3.85698 17.764H12.1743Z",fill:"currentColor"})]})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},638864:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorStickerIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-sticker"},c),{},{children:(0,s.jsx)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:(0,s.jsx)("path",{d:"M22.492 10.0663C22.4899 9.87314 22.4875 9.67478 22.4823 9.4911C22.4613 8.68504 22.42 8.07629 22.3069 7.456C22.1771 6.74019 21.882 5.9027 21.5721 5.30025C21.2569 4.68415 20.8413 4.12354 20.3429 3.63024C19.8476 3.138 19.2816 2.72605 18.6554 2.41119C18.0523 2.10576 17.2104 1.81134 16.4869 1.68329C15.8691 1.57203 15.2575 1.52999 14.4335 1.50795C14.1005 1.49955 10.6565 1.49535 9.58425 1.50795C8.74865 1.52894 8.13609 1.57203 7.51619 1.68329C6.79473 1.81238 5.95342 2.1053 5.34714 2.41177C4.72306 2.72559 4.15656 3.13806 3.65918 3.63136C3.16389 4.1215 2.74885 4.68159 2.43053 5.30084C2.12268 5.90119 1.82571 6.7381 1.69482 7.4539C1.58277 8.07419 1.54148 8.69868 1.51949 9.4911C1.51111 9.78183 1.5 12.5159 1.5 12.5159C1.5 13.0617 1.5111 14.2446 1.51948 14.5364C1.54042 15.3288 1.58383 15.9522 1.69482 16.5704C1.82676 17.2915 2.12344 18.1266 2.43129 18.7259C2.74857 19.3451 3.15777 19.9121 3.65515 20.4043C4.15044 20.8966 4.72435 21.3016 5.34948 21.6165C5.95471 21.9219 6.79473 22.215 7.51724 22.3441C7.60624 22.3599 7.6963 22.3705 7.78844 22.3831C8.29001 22.4544 8.66069 22.4779 9.49839 22.5C9.53504 22.501 11.7162 22.4726 12.1979 22.461C13.9434 22.419 15.71 21.8418 16.9938 20.659C18.1749 19.5695 19.2233 18.5885 20.06 17.7856C21.3605 16.5366 22.3215 14.4713 22.4336 12.6639L22.5018 11.5598C22.5028 11.2491 22.5018 11.0361 22.5018 10.8587C22.5028 10.8345 22.4931 10.0841 22.492 10.0663ZM18.8541 16.2428C18.0269 17.0373 16.9702 18.0273 15.7953 19.1104C15.1796 19.6782 14.4806 20.0586 13.6931 20.3052C13.7465 20.1552 13.8146 20.0518 13.845 19.887C13.889 19.6414 13.9078 19.4032 13.9151 19.1104C13.9183 19.0002 13.9246 18.2822 13.9246 18.2822C13.9382 17.7753 13.9685 17.3744 14.0366 17.0018C14.1089 16.604 14.224 16.2576 14.3884 15.9354C14.556 15.609 14.7748 15.3109 15.0387 15.0496C15.3047 14.7851 15.6062 14.5689 15.9382 14.402C16.267 14.2362 16.6188 14.1207 17.024 14.0483C17.3999 13.9811 17.7916 13.9507 18.3361 13.9371C18.3361 13.9371 18.7371 13.9381 19.0701 13.9339C19.3853 13.9255 19.6177 13.9077 19.8607 13.8646C20.0554 13.8289 20.1895 13.7544 20.3644 13.6873C20.0995 14.6686 19.5944 15.5312 18.8541 16.2428ZM20.5842 11.0445C20.5549 11.2019 20.5102 11.317 20.46 11.4146C20.3972 11.5364 20.3335 11.6337 20.2497 11.7166C20.1575 11.8079 20.0879 11.8537 19.9738 11.9114C19.8596 11.9691 19.735 12.0021 19.5853 12.0283C19.4376 12.0546 19.2732 12.0707 19.0408 12.077C18.7172 12.0812 18.3214 12.077 18.3214 12.077C17.6795 12.0938 17.2188 12.1294 16.7486 12.2134C16.1968 12.3121 15.6994 12.4751 15.2335 12.7102C14.7549 12.9505 14.1203 13.3553 13.7371 13.7353C13.357 14.111 13.0302 14.5688 12.7863 15.0442C12.5486 15.5081 12.3049 16.1716 12.2054 16.7194C12.1206 17.1886 12.0848 17.6588 12.0691 18.2529C12.0691 18.2529 12.0614 18.9708 12.0593 19.0684C12.053 19.2867 12.0368 19.4567 12.0106 19.6047C11.9844 19.7474 11.9503 19.8681 11.8937 19.9783C11.8351 20.0917 11.7792 20.1778 11.6892 20.267C11.597 20.3583 11.5111 20.41 11.3969 20.4677C11.3215 20.5055 11.2285 20.5362 11.017 20.5729C10.9888 20.5781 10.747 20.5974 10.5397 20.6016C10.5177 20.6016 9.57587 20.6122 9.53922 20.6111C8.76226 20.5912 8.21671 20.5613 7.79263 20.4773C7.21567 20.3744 6.69412 20.2355 6.2271 19.9994C5.74857 19.759 5.31574 19.4479 4.93668 19.0722C4.55658 18.6964 4.29917 18.2843 4.05728 17.8131C3.82168 17.3555 3.65538 16.859 3.55067 16.2881C3.45643 15.7685 3.41763 15.2123 3.39773 14.4933C3.3904 14.2141 3.39878 13.9234 3.39773 13.6043C3.39459 13.2979 3.3904 9.81122 3.39773 9.53308C3.41867 8.81413 3.45643 8.25891 3.55067 7.73623C3.65329 7.16947 3.82168 6.67407 4.05728 6.21436C4.29917 5.74311 4.57483 5.35737 4.95389 4.98268C5.334 4.60483 5.7675 4.28628 6.24499 4.04593C6.71305 3.80977 7.21567 3.65068 7.79158 3.54887C8.31828 3.45441 8.86174 3.40737 9.61357 3.38638C10.6691 3.37378 14.0743 3.37798 14.3895 3.38638C15.1403 3.40632 15.6837 3.45441 16.2083 3.54887C16.7863 3.65173 17.289 3.81082 17.7539 4.04593C18.2335 4.28732 18.667 4.59737 19.046 4.97312C19.4272 5.34991 19.704 5.74206 19.9438 6.21121C20.1826 6.67407 20.3489 7.16947 20.4504 7.73623C20.5457 8.25996 20.5835 8.79944 20.6034 9.53308C20.6117 9.81752 20.6225 10.4428 20.6225 10.5866C20.6172 10.7703 20.6073 10.9185 20.5842 11.0445Z",fill:"currentColor"})})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},894850:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorTextIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-text"},c),{},{children:(0,s.jsx)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:(0,s.jsx)("path",{d:"M20.9636 2.1C21.6465 2.1 22.2 2.58298 22.2 3.26643C22.2 3.94989 21.6465 4.42307 20.9636 4.42307H17.2545H13.1573V20.6625C13.1573 21.3459 12.6828 21.9 12 21.9C11.3172 21.9 10.8427 21.3459 10.8427 20.6625V4.42307H6.74544H3.03635C2.35353 4.42307 1.79999 3.94989 1.79999 3.26643C1.79999 2.58298 2.35353 2.1 3.03635 2.1H20.9636Z",fill:"currentColor"})})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},309564:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEditorUndoIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}{var h;let e=24,o=24;return null==n&&null==r||(e=n,o=r),(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"media-editor-undo"},c),{},{children:(0,s.jsx)("svg",{viewBox:null!==(h=f)&&void 0!==h?h:"0 0 24 24",height:e,width:o,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),fill:"none",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.74895 9.63151C8.3539 9.63151 8.82472 9.1193 8.82472 8.51224L8.82426 6.65302H14.3158C17.6364 6.65302 20.458 9.62489 20.458 13.3828C20.458 17.1539 17.6306 20.3614 14.3158 20.3614H4.82686C4.34965 20.3614 3.95653 20.7313 3.95653 21.2336V21.4822C3.95653 21.9699 4.33532 22.3855 4.82686 22.3855H14.3158C18.966 22.3855 22.3853 18.506 22.3853 13.3828C22.3853 8.23329 18.4302 4.63483 13.8111 4.63483H8.82426L8.82472 2.72955C8.82472 2.5454 8.78106 2.36365 8.69707 2.20064C8.41763 1.65826 7.76223 1.44598 7.23234 1.74774L2.17598 4.62721C1.98966 4.73331 1.83846 4.89308 1.7393 5.08554C1.45954 5.62853 1.64703 6.31335 2.17598 6.61457L7.23234 9.49405C7.39028 9.58399 7.56789 9.63151 7.74895 9.63151Z",fill:"currentColor"})})}))}};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},379863:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MinusIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=28,g=28;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"minus"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 28 28",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 28 28",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M8.381,14.803v-1.605h11.237v1.605C19.618,14.803,8.381,14.803,8.381,14.803z"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},534526:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiDeviceIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=16,g=22;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"multi-device"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 22 16",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),children:(0,s.jsx)("path",{d:"M3.66667 2.49984H20.1667V0.666504H3.66667C2.65833 0.666504 1.83333 1.4915 1.83333 2.49984V12.5832H0V15.3332H12.8333V12.5832H3.66667V2.49984ZM21.0833 4.33317H15.5833C15.0792 4.33317 14.6667 4.74567 14.6667 5.24984V14.4165C14.6667 14.9207 15.0792 15.3332 15.5833 15.3332H21.0833C21.5875 15.3332 22 14.9207 22 14.4165V5.24984C22 4.74567 21.5875 4.33317 21.0833 4.33317ZM20.1667 12.5832H16.5V6.1665H20.1667V12.5832Z",fill:"currentColor"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},662558:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineSmoothIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"outline-smooth"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{d:"M12 6.8C13.3255 6.8 14.4 5.72548 14.4 4.4C14.4 3.07452 13.3255 2 12 2C10.6745 2 9.6 3.07452 9.6 4.4C9.6 5.72548 10.6745 6.8 12 6.8Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M2.4 18C3.72548 18 4.8 16.9255 4.8 15.6C4.8 14.2745 3.72548 13.2 2.4 13.2C1.07452 13.2 0 14.2745 0 15.6C0 16.9255 1.07452 18 2.4 18Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M24 15.6C24 16.9255 22.9255 18 21.6 18C20.2745 18 19.2 16.9255 19.2 15.6C19.2 14.2745 20.2745 13.2 21.6 13.2C22.9255 13.2 24 14.2745 24 15.6Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M8.45173 6.81238C8.84982 6.6207 9.01714 6.1426 8.82545 5.74452C8.63377 5.34644 8.15567 5.17912 7.75759 5.3708C6.96932 5.75036 6.23447 6.23171 5.56699 6.79818C5.23012 7.08406 5.18879 7.58891 5.47468 7.92578C5.76057 8.26264 6.26541 8.30397 6.60228 8.01808C7.16902 7.53711 7.78973 7.13114 8.45173 6.81238Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M16.2423 5.3708C15.8442 5.17912 15.3661 5.34644 15.1744 5.74452C14.9827 6.1426 15.15 6.6207 15.5481 6.81238C16.2101 7.13114 16.8308 7.53711 17.3976 8.01808C17.7344 8.30397 18.2393 8.26264 18.5252 7.92578C18.8111 7.58891 18.7697 7.08407 18.4329 6.79818C17.7654 6.23171 17.0305 5.75036 16.2423 5.3708Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M4.88232 9.95429C5.12771 9.58687 5.02879 9.09009 4.66137 8.8447C4.29395 8.59931 3.79717 8.69823 3.55178 9.06565C3.07649 9.77728 2.67721 10.5509 2.3661 11.3726C2.20967 11.7858 2.41782 12.2476 2.83102 12.404C3.24423 12.5605 3.70602 12.3523 3.86245 11.9391C4.13081 11.2303 4.47456 10.5648 4.88232 9.95429Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M20.4481 9.06565C20.2027 8.69823 19.7059 8.59931 19.3385 8.8447C18.9711 9.0901 18.8721 9.58687 19.1175 9.95429C19.5253 10.5648 19.869 11.2303 20.1374 11.9391C20.2938 12.3523 20.7556 12.5605 21.1688 12.404C21.582 12.2476 21.7902 11.7858 21.6337 11.3726C21.3226 10.5509 20.9234 9.77728 20.4481 9.06565Z",fill:"currentColor"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},422749:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineStraightIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"outline-straight"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{d:"M14.4 4.4C14.4 5.72548 13.3255 6.8 12 6.8C10.6745 6.8 9.6 5.72548 9.6 4.4C9.6 3.07452 10.6745 2 12 2C13.3255 2 14.4 3.07452 14.4 4.4Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M15.1215 6.81258C14.8339 6.47712 14.3289 6.43827 13.9934 6.72581C13.658 7.01335 13.6191 7.51839 13.9067 7.85385L15.2781 9.45385C15.5656 9.78931 16.0707 9.82816 16.4061 9.54062C16.7416 9.25308 16.7804 8.74804 16.4929 8.41258L15.1215 6.81258Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M10.0929 7.85385C10.3804 7.51839 10.3416 7.01335 10.0061 6.72581C9.67068 6.43828 9.16564 6.47712 8.8781 6.81258L7.50667 8.41258C7.21913 8.74805 7.25798 9.25309 7.59344 9.54062C7.9289 9.82816 8.43394 9.78931 8.72148 9.45385L10.0929 7.85385Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M18.3215 10.5459C18.0339 10.2105 17.5289 10.1716 17.1934 10.4591C16.858 10.7467 16.8191 11.2517 17.1067 11.5872L18.4781 13.1872C18.7656 13.5226 19.2707 13.5615 19.6061 13.274C19.9416 12.9864 19.9804 12.4814 19.6929 12.1459L18.3215 10.5459Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M6.89291 11.5872C7.18045 11.2517 7.1416 10.7467 6.80614 10.4591C6.47068 10.1716 5.96564 10.2105 5.6781 10.5459L4.30667 12.1459C4.01913 12.4814 4.05798 12.9864 4.39344 13.274C4.7289 13.5615 5.23394 13.5226 5.52148 13.1872L6.89291 11.5872Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M2.4 18C3.72548 18 4.8 16.9255 4.8 15.6C4.8 14.2745 3.72548 13.2 2.4 13.2C1.07452 13.2 0 14.2745 0 15.6C0 16.9255 1.07452 18 2.4 18Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M21.6 18C22.9255 18 24 16.9255 24 15.6C24 14.2745 22.9255 13.2 21.6 13.2C20.2745 13.2 19.2 14.2745 19.2 15.6C19.2 16.9255 20.2745 18 21.6 18Z",fill:"currentColor"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},689044:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentHistoryEmptyIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=41,g=48;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"payment-history-empty"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 48 41",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsxs)("g",{opacity:.38,children:[(0,s.jsx)("path",{d:"M15.09 5.46a3.96 3.96 0 0 1 3.96-3.96h23.784a3.96 3.96 0 0 1 3.96 3.96v26.12a7.92 7.92 0 0 1-7.92 7.92H8.044a7.045 7.045 0 0 0 7.046-7.045V5.46Z",stroke:"currentColor",strokeWidth:1.32}),(0,s.jsx)("rect",{x:22.136,y:12.358,width:17.613,height:1.206,rx:.603,fill:"currentColor"}),(0,s.jsx)("rect",{x:22.136,y:19.596,width:17.613,height:1.206,rx:.603,fill:"currentColor"}),(0,s.jsx)("rect",{x:22.136,y:26.832,width:17.613,height:1.206,rx:.603,fill:"currentColor"}),(0,s.jsx)("path",{d:"M1 25c0-.321.26-.58.58-.58h13.51v8.033a7.045 7.045 0 1 1-14.09 0V25Z",fill:"currentColor",fillOpacity:.2,stroke:"currentColor",strokeWidth:1.32})]})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},368478:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"phone"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"currentColor",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M19.23 15.26l-2.54-.29c-.61-.07-1.21.14-1.64.57l-1.84 1.84c-2.83-1.44-5.15-3.75-6.59-6.59l1.85-1.85c.43-.43.64-1.03.57-1.64l-.29-2.52c-.12-1.01-.97-1.77-1.99-1.77H5.03c-1.13 0-2.07.94-2 2.07.53 8.54 7.36 15.36 15.89 15.89 1.13.07 2.07-.87 2.07-2v-1.73c.01-1.01-.75-1.86-1.76-1.98z"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},168458:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewAudioIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=112,g=88;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"preview-audio"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 112",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),children:[(0,s.jsx)("defs",{children:(0,s.jsx)("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})}),(0,s.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,s.jsxs)("g",{transform:"translate(4 3)",children:[(0,s.jsx)("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),(0,s.jsx)("use",{fill:"#FFF",xlinkHref:"#a"}),(0,s.jsx)("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"})]}),(0,s.jsx)("path",{d:"M59 41v26.246a.501.501 0 0 1-.014.119A5 5 0 1 1 54 62.745c.19 0 .398.022.62.065A2 2 0 0 0 57 60.847V49.113a1 1 0 0 0-1.12-.993l-19 2.28a1 1 0 0 0-.88.993v18.853a.501.501 0 0 1-.014.119A5 5 0 1 1 31 65.745c.316 0 .676.06 1.08.178a1.5 1.5 0 0 0 1.92-1.44V43.52a2 2 0 0 1 1.762-1.986l21-2.52A2 2 0 0 1 59 41z",fillOpacity:.2,fill:"#000"}),(0,s.jsx)("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},11106:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewCompressedIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=110,g=88;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"preview-compressed"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 110",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),children:[(0,s.jsx)("defs",{children:(0,s.jsx)("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})}),(0,s.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,s.jsxs)("g",{transform:"translate(4 3)",children:[(0,s.jsx)("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),(0,s.jsx)("use",{fill:"#FFF",xlinkHref:"#a"}),(0,s.jsx)("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"})]}),(0,s.jsxs)("g",{transform:"translate(39 44)",fill:"#000",children:[(0,s.jsx)("rect",{fillOpacity:.1,y:61,width:5,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,x:5,y:58,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,y:55,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,x:5,y:52,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,y:49,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,x:5,y:46,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,y:43,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,x:5,y:40,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,y:37,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,x:5,y:34,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,y:31,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,x:5,y:28,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,y:25,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,x:5,y:22,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,y:19,width:5,height:3,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,x:5,y:16,width:5,height:3,rx:.5}),(0,s.jsx)("path",{d:"M8 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6zM7 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z",fillOpacity:.2})]}),(0,s.jsx)("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},519594:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewDocIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=110,g=88;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"preview-doc"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 110",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),children:[(0,s.jsxs)("defs",{children:[(0,s.jsx)("rect",{id:"b",x:0,y:0,width:54,height:36,rx:2.37}),(0,s.jsx)("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})]}),(0,s.jsxs)("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd",children:[(0,s.jsx)("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),(0,s.jsx)("use",{fill:"#FFF",xlinkHref:"#a"}),(0,s.jsx)("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:84,width:54,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:89,width:27,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:24,width:54,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:29,width:54,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:34,width:40,height:2,rx:.5}),(0,s.jsx)("g",{children:(0,s.jsxs)("g",{transform:"translate(13 42)",children:[(0,s.jsx)("mask",{id:"c",fill:"#fff",children:(0,s.jsx)("use",{xlinkHref:"#b"})}),(0,s.jsx)("use",{fillOpacity:.1,fill:"#000",xlinkHref:"#b"}),(0,s.jsx)("circle",{fillOpacity:.1,fill:"#000",mask:"url(#c)",cx:37.5,cy:11.5,r:5.5}),(0,s.jsx)("path",{d:"m34.565 31.195 7.912-7.89a2.37 2.37 0 0 1 3.348 0l25.144 25.073L44.15 75.119l-19.556-19.5-11.259 11.228-26.817-26.742 25.143-25.072a2.37 2.37 0 0 1 3.348 0l16.208 16.162a2.37 2.37 0 0 0 3.347 0z",fillOpacity:.1,fill:"#000",mask:"url(#c)"})]})}),(0,s.jsx)("path",{d:"M61.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},654880:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewGenericIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=110,g=88;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"preview-generic"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 110",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),children:[(0,s.jsx)("g",{transform:"translate(4 3)",children:(0,s.jsx)("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"#FFF",fillRule:"evenodd"})}),(0,s.jsx)("path",{d:"M65.5 3.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},260056:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewSheetIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=88,g=110;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"preview-sheet"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 110 88",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),children:[(0,s.jsx)("defs",{children:(0,s.jsx)("path",{d:"M3 0h80.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 104 20.07V77a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})}),(0,s.jsxs)("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd",children:[(0,s.jsx)("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),(0,s.jsx)("use",{fill:"#FFF",xlinkHref:"#a"}),(0,s.jsx)("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h80.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V77a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 77V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:14,y:22,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:34,y:22,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:54,y:22,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:74,y:22,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:14,y:12,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:34,y:12,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:54,y:12,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:74,y:12,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:14,y:32,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:34,y:32,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:54,y:32,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:74,y:32,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:14,y:42,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:34,y:42,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:54,y:42,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:74,y:42,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:14,y:52,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:34,y:52,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:54,y:52,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:74,y:52,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:14,y:62,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:34,y:62,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:54,y:62,width:16,height:6,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",x:74,y:62,width:16,height:6,rx:.5}),(0,s.jsx)("path",{d:"M85.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},647658:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewSlidesIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=88,g=110;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"preview-slides"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 110 88",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),children:(0,s.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,s.jsxs)("g",{transform:"translate(4 3)",children:[(0,s.jsx)("use",{fill:"#000",filter:"url(#filter-2)",xlinkHref:"#path-1"}),(0,s.jsx)("rect",{strokeOpacity:.08,stroke:"#000",fill:"#FFF",x:-.5,y:-.5,width:105,height:81,rx:3})]}),(0,s.jsxs)("g",{transform:"translate(8 15)",children:[(0,s.jsx)("rect",{fillOpacity:.1,fill:"#000",width:96,height:56,rx:2}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:55,y:19,width:30,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:55,y:24,width:30,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:55,y:29,width:30,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:55,y:34,width:18,height:2,rx:.5}),(0,s.jsxs)("g",{transform:"translate(12 13)",children:[(0,s.jsx)("circle",{fillOpacity:.2,fill:"#000",cx:16,cy:16,r:16}),(0,s.jsx)("path",{d:"M32 16c0 8.837-7.163 16-16 16V16z",fill:"#FFF"})]})]})]})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},522373:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewTxtIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=110,g=88;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"preview-txt"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 88 110",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),children:[(0,s.jsx)("defs",{children:(0,s.jsx)("path",{d:"M3 0h56.928a5 5 0 0 1 3.536 1.464l15.072 15.072A5 5 0 0 1 80 20.07V101a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z",id:"a"})}),(0,s.jsxs)("g",{transform:"translate(4 3)",fill:"none",fillRule:"evenodd",children:[(0,s.jsx)("use",{fill:"#000",filter:"url(#filter-3)",xlinkHref:"#a"}),(0,s.jsx)("use",{fill:"#FFF",xlinkHref:"#a"}),(0,s.jsx)("path",{strokeOpacity:.08,stroke:"#000",d:"M3-.5h56.929a5.5 5.5 0 0 1 3.889 1.61l15.071 15.072a5.5 5.5 0 0 1 1.611 3.89V101a3.5 3.5 0 0 1-3.5 3.5H3A3.5 3.5 0 0 1-.5 101V3A3.5 3.5 0 0 1 3-.5z",fill:"url(#linearGradient-1)"}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:28,width:52,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:33,width:52,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:38,width:52,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:43,width:40,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:53,width:52,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:58,width:52,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:63,width:52,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:68,width:52,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:73,width:52,height:2,rx:.5}),(0,s.jsx)("rect",{fillOpacity:.2,fill:"#000",x:13,y:78,width:27,height:2,rx:.5}),(0,s.jsx)("path",{d:"M61.5.5v15a3 3 0 0 0 3 3h15",strokeOpacity:.12,stroke:"#000",fill:"#FFF"})]})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},47186:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReturnIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"return"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",x:"0px",y:"0px",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M19.77,11.73c0,1.64-0.5,2.95-1.48,3.89c-1.38,1.32-3.26,1.41-3.75,1.41c-0.07,0-0.11,0-0.12,0l-5.41,0v-2.1 h5.46c0.05,0,1.47,0.04,2.38-0.84c0.55-0.53,0.82-1.32,0.82-2.37c0-1.27-0.33-2.23-0.99-2.84c-0.98-0.92-2.43-0.85-2.44-0.85 l-4.23,0v3.1L4,7.07L10.01,3v2.93h4.16c0.03,0,2.29-0.13,3.95,1.42C19.21,8.38,19.77,9.85,19.77,11.73z"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},388213:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RoundPlayIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=16,g=16;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"round-play"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 16 16",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{d:"M6.46508 4.82093C6.01511 4.55151 5.64722 4.77192 5.64722 5.31048V10.6893C5.64722 11.2282 6.01511 11.4486 6.46508 11.1792L10.9568 8.48989C11.4068     8.22047 11.4068 7.77964 10.9568 7.51021L6.46508 4.82093Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16     8ZM15.0588 8C15.0588 11.8985 11.8985 15.0588 8 15.0588C4.10152 15.0588 0.941177 11.8985 0.941177 8C0.941177 4.10152 4.10152 0.941177 8 0.941177C11.8985     0.941177 15.0588 4.10152 15.0588 8Z",fill:"currentColor"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},460059:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ScissorsIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"scissors"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("circle",{cx:6,cy:18,r:3.125,stroke:"currentColor",strokeWidth:1.75}),(0,s.jsx)("circle",{cx:6,cy:6,r:3.125,stroke:"currentColor",strokeWidth:1.75}),(0,s.jsx)("path",{d:"M7.71745 14.7425C7.32693 15.1331 7.32693 15.7662 7.71745 16.1567C8.10798 16.5473 8.74114 16.5473 9.13167 16.1567L11.9372 13.3512L10.523 11.937L7.71745 14.7425Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M13.3742 9.08579L14.7884 10.5L20.6956 4.59285C21.0861 4.20232 21.0861 3.56916 20.6956 3.17864C20.305 2.78811 19.6719 2.78811 19.2814 3.17864L13.3742 9.08579Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.01594 7.60173C8.62542 7.21121 7.99226 7.21121 7.60173 7.60173C7.21121 7.99226 7.21121 8.62542 7.60173 9.01594L19.3586 20.7728C19.7492 21.1634 20.3823 21.1634 20.7728 20.7728C21.1634 20.3823 21.1634 19.7492 20.7728 19.3586L9.01594 7.60173ZM12 12.5001C12.2761 12.5001 12.5 12.2762 12.5 12.0001C12.5 11.724 12.2761 11.5001 12 11.5001C11.7239 11.5001 11.5 11.724 11.5 12.0001C11.5 12.2762 11.7239 12.5001 12 12.5001Z",fill:"currentColor"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},748875:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ShoppingCartEmptyIcon=function(e){const{iconXstyle:t,height:n,width:r,viewBox:u}=e,c=(0,o.default)(e,d);let f;if(u){const{x:e=0,y:t=0,width:n=0,height:r=0}=u;f=[e,t,n,r].join(" ")}let h=90,p=90;null==n&&null==r||(h=n,p=r);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"shopping-cart-empty"},c),{},{children:(0,s.jsx)("svg",{viewBox:f,height:h,width:p,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(t),children:(0,s.jsxs)("g",{fillRule:"nonzero",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M36.6666667 55C34.8333333 55 33.35 56.5 33.35 58.3333333 33.35 60.1666667 34.8333333 61.6666667 36.6666667 61.6666667 38.5 61.6666667 40 60.1666667 40 58.3333333 40 56.5 38.5 55 36.6666667 55zM26.6666667 30C26.6666667 30.9166667 27.4166667 31.6666667 28.3333333 31.6666667L30 31.6666667 36 44.3166667 33.75 48.3833333C32.5333333 50.6166667 34.1333333 53.3333333 36.6666667 53.3333333L55 53.3333333C55.9166667 53.3333333 56.6666667 52.5833333 56.6666667 51.6666667 56.6666667 50.75 55.9166667 50 55 50L36.6666667 50 38.5 46.6666667 50.9166667 46.6666667C52.1666667 46.6666667 53.2666667 45.9833333 53.8333333 44.95L59.8 34.1333333C60.4166667 33.0333333 59.6166667 31.6666667 58.35 31.6666667L33.6833333 31.6666667 32.5666667 29.2833333C32.3 28.7 31.7 28.3333333 31.0666667 28.3333333L28.3333333 28.3333333C27.4166667 28.3333333 26.6666667 29.0833333 26.6666667 30zM53.3333333 55C51.5 55 50.0166667 56.5 50.0166667 58.3333333 50.0166667 60.1666667 51.5 61.6666667 53.3333333 61.6666667 55.1666667 61.6666667 56.6666667 60.1666667 56.6666667 58.3333333 56.6666667 56.5 55.1666667 55 53.3333333 55z"}),(0,s.jsx)("path",{d:"M44.957,2 C21.221,2 2,21.264 2,45 C2,68.736 21.221,88 44.957,88 C68.736,88 88,68.736 88,45 C88,21.264 68.736,2 44.957,2 Z M45,90 C20.1375,90 0,69.8625 0,45 C0,20.1375 20.1375,0 45,0 C69.8625,0 90,20.1375 90,45 C90,69.8625 69.8625,90 45,90 Z"})]})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},816029:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerCrossedIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"speaker-crossed"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.17295 8.44087C8.17295 8.32308 8.23459 8.21389 8.33543 8.15303L12.3622 5.72284C12.7728 5.46882 13.3171 5.74791 13.3171 6.21249V15.9904C13.3171 16.4449 12.7936 16.7257 12.3822 16.4918L8.343 14.1959C8.23788 14.1361 8.17295 14.0245 8.17295 13.9036V8.44087ZM2 10.2005C2 9.12385 2.92124 8.25109 4.05765 8.25109H6.80793C6.99361 8.25109 7.14412 8.40161 7.14412 8.58728V13.763C7.14412 13.9487 6.99361 14.0992 6.80793 14.0992H6.20602L7.15101 17.4458C7.23322 17.737 7.06213 18.0333 6.76887 18.1076L5.78098 18.3579C5.48772 18.4323 5.18334 18.2565 5.10113 17.9654L4.0305 14.1737C4.02344 14.1487 4.01825 14.1237 4.01485 14.0988C2.8982 14.0772 2 13.2129 2 12.1498V10.2005Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M15.9116 13.2149L15.8232 13.3033L15.9116 13.3917L16.9723 14.4523L17.0607 14.5407L17.149 14.4523L19.182 12.4194L21.2149 14.4523L21.3033 14.5407L21.3917 14.4523L22.4523 13.3917L22.5407 13.3033L22.4523 13.2149L20.4194 11.182L22.4523 9.14905L22.5407 9.06066L22.4523 8.97227L21.3917 7.91161L21.3033 7.82322L21.2149 7.91161L19.182 9.94454L17.149 7.91161L17.0607 7.82322L16.9723 7.91161L15.9116 8.97227L15.8232 9.06066L15.9116 9.14905L17.9445 11.182L15.9116 13.2149Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.25})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},578700:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3PlaceholderIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=80,g=80;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"status-v3-placeholder"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 80 80",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),version:"1.1",id:"Layer_1",x:"0px",y:"0px",enableBackground:"new 0 0 80 80",xmlSpace:"preserve",children:(0,s.jsx)("path",{fill:"currentColor",d:"M30.566,78.982c-0.222,0-0.447-0.028-0.672-0.087C12.587,74.324,0.5,58.588,0.5,40.631 c0-3.509,0.459-6.989,1.363-10.343c0.377-1.399,1.814-2.23,3.217-1.851c1.399,0.377,2.228,1.818,1.851,3.217 c-0.784,2.909-1.182,5.929-1.182,8.977c0,15.578,10.48,29.226,25.485,33.188c1.401,0.37,2.237,1.806,1.867,3.209 C32.79,78.204,31.728,78.982,30.566,78.982z M49.921,78.875C67.336,74.364,79.5,58.611,79.5,40.563c0-3.477-0.452-6.933-1.345-10.27 c-0.374-1.401-1.812-2.232-3.213-1.858c-1.4,0.375-2.233,1.813-1.858,3.214c0.773,2.896,1.166,5.895,1.166,8.914 c0,15.655-10.545,29.319-25.646,33.23c-1.403,0.363-2.246,1.796-1.883,3.199c0.306,1.182,1.371,1.967,2.539,1.967 C49.478,78.959,49.699,78.932,49.921,78.875z M15.482,16.5C21.968,9.901,30.628,6.267,39.867,6.267 c9.143,0,17.738,3.569,24.202,10.05c1.024,1.026,2.686,1.028,3.712,0.004c1.026-1.024,1.028-2.685,0.005-3.712 C60.329,5.135,50.413,1.018,39.867,1.018c-10.658,0-20.648,4.191-28.128,11.802c-1.016,1.034-1.002,2.696,0.032,3.711 c0.511,0.503,1.175,0.753,1.84,0.753C14.289,17.284,14.968,17.022,15.482,16.5z"})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},999437:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SubgroupsNuxIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=27,g=27;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"subgroups-nux"},f),{},{children:(0,s.jsx)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 27 27",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:(0,s.jsxs)("g",{children:[(0,s.jsx)("rect",{x:0,y:0,width:17,height:17,rx:8.5,transform:"matrix(-1 0 0 1 18 4)",fill:"#D1D7DB",stroke:"currentColor"}),(0,s.jsx)("rect",{x:0,y:0,width:17,height:17,rx:8.5,transform:"matrix(-1 0 0 1 22 4)",fill:"#AEBAC1",stroke:"currentColor"}),(0,s.jsx)("rect",{x:0,y:0,width:17,height:17,rx:8.5,transform:"matrix(-1 0 0 1 26 4)",fill:"#8696A0",stroke:"currentColor"})]})})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},66801:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TrashActiveIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=24,g=24;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"trash-active"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 24 24",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{d:"M16 7.5H22.25C22.6642 7.5 23 7.83579 23 8.25C23 8.66421 22.6642 9 22.25 9H16V7.5Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M16 12H21.25C21.6642 12 22 12.3358 22 12.75C22 13.1642 21.6642 13.5 21.25 13.5H16V12Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M16 16.5H19.25C19.6642 16.5 20 16.8358 20 17.25C20 17.6642 19.6642 18 19.25 18H16V16.5Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 4.88889H13.1429C13.6143 4.88889 14 5.28889 14 5.77778C14 6.26667 13.6143 6.66667 13.1429 6.66667H2.85714C2.38571 6.66667 2 6.26667 2 5.77778C2 5.28889 2.38571 4.88889 2.85714 4.88889H5L5.60857 4.25778C5.76286 4.09778 5.98571 4 6.20857 4H9.79143C10.0143 4 10.2371 4.09778 10.3914 4.25778L11 4.88889ZM4.57143 20C3.62857 20 2.85714 19.2 2.85714 18.2222V9.33333C2.85714 8.35556 3.62857 7.55556 4.57143 7.55556H11.4286C12.3714 7.55556 13.1429 8.35556 13.1429 9.33333V18.2222C13.1429 19.2 12.3714 20 11.4286 20H4.57143Z",fill:"currentColor"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},964137:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ViewOnceMediaSelectIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=72,g=72;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"view-once-media-select"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 72 72",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0003 35.8829C12.0001 35.9219 12 35.9609 12 36C12 36.0391 12.0001 36.0781 12.0003 36.1172V35.8829ZM35.9043 59.9998C35.9362 59.9999 35.9681 60 36 60C36.0319 60 36.0638 59.9999 36.0957 59.9998H35.9043ZM37.0003 59.9721C38.0165 59.8465 38.7866 58.9632 38.7515 57.9202C38.718 56.9231 37.9601 56.121 37.0003 56.0025V59.9721ZM37.0003 15.9975C37.9601 15.879 38.718 15.0769 38.7515 14.0798C38.7866 13.0368 38.0165 12.1535 37.0003 12.0279V15.9975ZM47.2868 14.8147C46.3124 14.2946 45.1008 14.6629 44.5806 15.6373C44.0605 16.6117 44.4288 17.8233 45.4032 18.3435C45.8056 18.5582 46.1998 18.7864 46.5853 19.0274C47.5219 19.6129 48.7558 19.3283 49.3413 18.3916C49.9268 17.455 49.6422 16.2211 48.7056 15.6356C48.243 15.3464 47.7699 15.0726 47.2868 14.8147ZM56.3644 23.2944C55.7789 22.3578 54.545 22.0732 53.6084 22.6587C52.6718 23.2442 52.3871 24.4781 52.9726 25.4147C53.2136 25.8002 53.4418 26.1944 53.6565 26.5968C54.1767 27.5712 55.3883 27.9395 56.3627 27.4194C57.3372 26.8992 57.7054 25.6876 57.1853 24.7132C56.9274 24.2301 56.6536 23.757 56.3644 23.2944ZM59.9862 35.1802C59.9491 34.0762 59.0241 33.2114 57.9202 33.2485C56.8162 33.2856 55.9514 34.2106 55.9885 35.3146C55.9961 35.542 56 35.7705 56 36C56 36.2295 55.9961 36.458 55.9885 36.6854C55.9514 37.7894 56.8162 38.7144 57.9202 38.7515C59.0241 38.7886 59.9491 37.9238 59.9862 36.8198C59.9954 36.5476 60 36.2743 60 36C60 35.7257 59.9954 35.4524 59.9862 35.1802ZM57.1853 47.2868C57.7054 46.3124 57.3372 45.1008 56.3627 44.5806C55.3883 44.0605 54.1767 44.4288 53.6565 45.4032C53.4418 45.8056 53.2136 46.1998 52.9726 46.5853C52.3871 47.5219 52.6718 48.7558 53.6084 49.3414C54.545 49.9269 55.7789 49.6422 56.3644 48.7056C56.6536 48.243 56.9274 47.7699 57.1853 47.2868ZM48.7056 56.3644C49.6422 55.7789 49.9268 54.545 49.3413 53.6084C48.7558 52.6718 47.5219 52.3871 46.5853 52.9726C46.1998 53.2136 45.8056 53.4418 45.4032 53.6566C44.4288 54.1767 44.0605 55.3883 44.5806 56.3627C45.1008 57.3372 46.3124 57.7054 47.2868 57.1853C47.7699 56.9274 48.243 56.6536 48.7056 56.3644Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 12.0205C36.6684 12.0069 36.335 12 36 12C22.7452 12 12 22.7452 12 36C12 49.2548 22.7452 60 36 60C36.335 60 36.6684 59.9931 37 59.9795V55.9754C36.6687 55.9917 36.3353 56 36 56C24.9543 56 16 47.0457 16 36C16 24.9543 24.9543 16 36 16C36.3353 16 36.6687 16.0083 37 16.0246V12.0205Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 25C31.1193 25 30 26.1193 30 27.5C30 28.8807 31.1193 30 32.5 30H35V45.5C35 46.8807 36.1193 48 37.5 48C38.8807 48 40 46.8807 40 45.5V27.5C40 26.1193 38.8807 25 37.5 25H32.5Z",fill:"currentColor"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},498216:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ViewOnceMediaSelectOnIcon=function(e){var t;const{iconXstyle:n,height:r,width:u,viewBox:c}=e,f=(0,o.default)(e,d);let h;if(c){const{x:e=0,y:t=0,width:n=0,height:r=0}=c;h=[e,t,n,r].join(" ")}let p=72,g=72;null==r&&null==u||(p=r,g=u);return(0,s.jsx)(a.BaseSvgSpan,(0,i.default)((0,i.default)({name:"view-once-media-select-on"},f),{},{children:(0,s.jsxs)("svg",{viewBox:null!==(t=h)&&void 0!==t?t:"0 0 72 72",height:p,width:g,preserveAspectRatio:"xMidYMid meet",className:(0,l.default)(n),fill:"none",children:[(0,s.jsx)("ellipse",{cx:35,cy:36.5,rx:23,ry:22.5,fill:"#00B39B",fillOpacity:.3}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0003 35.8829C12.0001 35.9219 12 35.9609 12 36C12 36.0391 12.0001 36.0781 12.0003 36.1172V35.8829ZM35.9043 59.9998C35.9362 59.9999 35.9681 60 36 60C36.0319 60 36.0638 59.9999 36.0957 59.9998H35.9043ZM37.0003 59.9721C38.0165 59.8465 38.7866 58.9632 38.7515 57.9202C38.718 56.9231 37.9601 56.121 37.0003 56.0025V59.9721ZM37.0003 15.9975C37.9601 15.879 38.718 15.0769 38.7515 14.0798C38.7866 13.0368 38.0165 12.1535 37.0003 12.0279V15.9975ZM47.2868 14.8147C46.3124 14.2946 45.1008 14.6629 44.5806 15.6373C44.0605 16.6117 44.4288 17.8233 45.4032 18.3435C45.8056 18.5582 46.1998 18.7864 46.5853 19.0274C47.5219 19.6129 48.7558 19.3283 49.3413 18.3916C49.9268 17.455 49.6422 16.2211 48.7056 15.6356C48.243 15.3464 47.7699 15.0726 47.2868 14.8147ZM56.3644 23.2944C55.7789 22.3578 54.545 22.0732 53.6084 22.6587C52.6718 23.2442 52.3871 24.4781 52.9726 25.4147C53.2136 25.8002 53.4418 26.1944 53.6565 26.5968C54.1767 27.5712 55.3883 27.9395 56.3627 27.4194C57.3372 26.8992 57.7054 25.6876 57.1853 24.7132C56.9274 24.2301 56.6536 23.757 56.3644 23.2944ZM59.9862 35.1802C59.9491 34.0762 59.0241 33.2114 57.9202 33.2485C56.8162 33.2856 55.9514 34.2106 55.9885 35.3146C55.9961 35.542 56 35.7705 56 36C56 36.2295 55.9961 36.458 55.9885 36.6854C55.9514 37.7894 56.8162 38.7144 57.9202 38.7515C59.0241 38.7886 59.9491 37.9238 59.9862 36.8198C59.9954 36.5476 60 36.2743 60 36C60 35.7257 59.9954 35.4524 59.9862 35.1802ZM57.1853 47.2868C57.7054 46.3124 57.3372 45.1008 56.3627 44.5806C55.3883 44.0605 54.1767 44.4288 53.6565 45.4032C53.4418 45.8056 53.2136 46.1998 52.9726 46.5853C52.3871 47.5219 52.6718 48.7558 53.6084 49.3414C54.545 49.9269 55.7789 49.6422 56.3644 48.7056C56.6536 48.243 56.9274 47.7699 57.1853 47.2868ZM48.7056 56.3644C49.6422 55.7789 49.9268 54.545 49.3413 53.6084C48.7558 52.6718 47.5219 52.3871 46.5853 52.9726C46.1998 53.2136 45.8056 53.4418 45.4032 53.6566C44.4288 54.1767 44.0605 55.3883 44.5806 56.3627C45.1008 57.3372 46.3124 57.7054 47.2868 57.1853C47.7699 56.9274 48.243 56.6536 48.7056 56.3644Z",fill:"#00B39B"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 36C16 24.9543 24.9543 16 36 16C36.3353 16 36.6687 16.0083 37 16.0246V12.0205C36.6684 12.0069 36.335 12 36 12C22.7452 12 12 22.7452 12 36C12 49.2548 22.7452 60 36 60C36.335 60 36.6684 59.9931 37 59.9795V55.9754C36.6687 55.9917 36.3353 56 36 56C24.9543 56 16 47.0457 16 36Z",fill:"#00B39B"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 25C31.1193 25 30 26.1193 30 27.5C30 28.8807 31.1193 30 32.5 30H35V45.5C35 46.8807 36.1193 48 37.5 48C38.8807 48 40 46.8807 40 45.5V27.5C40 26.1193 38.8807 25 37.5 25H32.5Z",fill:"#00B39B"})]})}))};var i=r(n(81109)),o=r(n(506479)),a=n(220584),l=r(n(156720)),s=n(785893);const d=["iconXstyle","height","width","viewBox"]},937134:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(692629)),o=n(268286),a=n(936769),l=n(305521),s=n(753233),d=n(258105),u=n(81644),c=n(118612),f=n(667738),h=n(548360),p=n(667294),g=r(n(156720)),m=n(785893);const C={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",backgroundColor:"b19fvycv"},v={marginBottom:"dblt22a0"},x={marginBottom:"dblt22a0",textAlign:"qfejxiq4"},y={fontSize:"p9fp32ui",lineHeight:"tkq7s68q",fontWeight:"hnx8ox4h"},b={marginBottom:"mdtr2l4m"},j={fontSize:"f8jlpxt4"};function E(e,t){const n=t=>{t.stopPropagation(),t.preventDefault(),e.onContinue()},r=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.default,{testid:"popup-controls-demote",type:"secondary",onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onDemote()},children:h.fbt._("Dismiss yourself as admin",null,{hk:"2576jl"})},"popup-controls-demote"),(0,m.jsx)(i.default,{testid:"popup-controls-continue",type:"primary",onClick:n,children:h.fbt._("Continue",null,{hk:"tefLH"})},"popup-controls-continue")]}),p=(0,m.jsx)(s.ExternalLink,{href:(0,d.getCommunitiesLearningCenterUrl)(),children:h.fbt._("admin tools",null,{hk:"oQNuO"})}),E=h.fbt._("You can send announcements, manage the community and use {learn-more-link} to help keep it safe. Your profile is now visible to community members.",[h.fbt._param("learn-more-link",p)],{hk:"3zcgMr"});return(0,m.jsx)(u.HotKeys,{ref:t,handlers:{enter:n,escape:n},children:(0,m.jsx)(c.Modal,{type:c.ModalTheme.Promote,actions:r,children:(0,m.jsxs)("div",{className:(0,g.default)(C),children:[(0,m.jsx)("div",{className:(0,g.default)(v),children:(0,f.isLightTheme)()?(0,m.jsx)(a.CommunityAdminLightIcon,{width:130}):(0,m.jsx)(o.CommunityAdminDarkIcon,{width:130})}),(0,m.jsx)("div",{className:(0,g.default)(x),children:(0,m.jsx)(l.EmojiText,{className:(0,g.default)(y),text:h.fbt._("You're now a community admin",null,{hk:"4kw3lU"})})}),(0,m.jsx)("div",{className:(0,g.default)(b),children:(0,m.jsx)("div",{className:(0,g.default)(j),children:E})})]})})})}var _=(0,p.forwardRef)(E);t.default=_},274019:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(692629)),o=r(n(463680)),a=r(n(276105)),l=n(990206),s=n(694771),d=n(23641),u=r(n(908081)),c=r(n(324093)),f=n(626194),h=r(n(969358)),p=n(305521),g=n(690495),m=r(n(335540)),C=n(583651),v=n(114850),x=n(816029),y=n(180519),b=n(667738),j=n(66801),E=n(676345),_=n(548360),S=n(667294),w=(r(n(156720)),n(808446)),k=n(655241),T=n(785893);const M={container:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"byg5ndfj",paddingEnd:"gv1bfy1o",paddingBottom:"l7ubuiw1",paddingStart:"qt3358re"},buttonContainer:{marginTop:"fgtikrv0",textAlign:"qfejxiq4"},header:{marginTop:"lxsc1wef",marginBottom:"dblt22a0",textAlign:"qfejxiq4",lineHeight:"a4ywakfo"},badge:{zIndex:"b9fczbqn",bottom:"kwjb00gf",end:"n642r0m2",position:"g0rxnol2",marginEnd:"febin9tk"}};function I(e,t){const n=(0,k.useModelValues)(e.chat.contact,["id","name"]),{theme:r}=(0,S.useContext)(b.ThemeContext),I=(0,S.useRef)();(0,S.useEffect)((()=>{m.default.focus(I.current)}),[]),(0,w.useListener)(v.ModalManager,["close_modal"],(()=>m.default.focus(I.current)));const P="dark"===r?l.DeactivateBadgeDarkIcon:s.DeactivateBadgeIcon,D=_.fbt._('Deactivate "{community-name}"?',[_.fbt._param("community-name",(0,T.jsx)(p.EmojiText,{text:n.name}))],{hk:"2Stocg"}),L=_.fbt._("This action cannot be undone.",null,{hk:"4xj20P"}),R=[{title:_.fbt._("Groups will be disconnected",null,{hk:"37z2Qi"}),description:_.fbt._("Groups won't be in this community but will still work as usual.",null,{hk:"1poncX"}),Icon:C.LinkCrossedIcon},{title:_.fbt._("Announcement group will be closed",null,{hk:"4f10fq"}),description:_.fbt._("Past admins won't be able to message this community.",null,{hk:"3tdjc1"}),Icon:x.SpeakerCrossedIcon},{title:_.fbt._("Community info will be deleted",null,{hk:"3fnH2z"}),description:_.fbt._("Members won't have access to past info, like admins and groups.",null,{hk:"1xVPz4"}),Icon:j.TrashActiveIcon}];return(0,T.jsxs)(u.default,{ref:t,testid:"community-deactivation-info-drawer",children:[(0,T.jsx)(f.DrawerHeader,{title:_.fbt._("Deactivate community",null,{hk:"LRCf4"}),type:f.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),(0,T.jsx)(c.default,{ref:I,tabIndex:"-1",children:(0,T.jsxs)(h.default,{animation:!1,xstyle:M.container,children:[(0,T.jsxs)(g.FlexRow,{align:"center",justify:"center",children:[(0,T.jsx)(d.DetailImage,{id:e.chat.id,size:104,quality:d.DetailImageQuality.High,shape:d.DetailImageShape.Squircle}),(0,T.jsx)(P,{width:36,height:36,xstyle:M.badge})]}),(0,T.jsx)(g.FlexRow,{align:"center",justify:"center",children:(0,T.jsx)(y.TextHeader,{xstyle:M.header,size:"24",color:"dark",weight:"bold",children:D})}),(0,T.jsx)(g.FlexRow,{align:"center",justify:"center",xstyle:E.uiMargin.bottom16,children:(0,T.jsx)(y.TextHeader,{theme:"title",children:L})}),R.map((e=>{let{title:t,description:n,Icon:r}=e;return(0,T.jsx)(a.default,{Icon:r,title:t,description:n},t)})),(0,T.jsx)(g.FlexRow,{xstyle:M.buttonContainer,children:(0,T.jsx)(i.default,{testid:"deactivate-community-button",type:"solidWarning",onClick:()=>{v.ModalManager.open((0,T.jsx)(o.default,{chat:e.chat}))},children:_.fbt._("Deactivate",null,{hk:"1wQQMo"})})})]})})]})}var P=(0,S.forwardRef)(I);t.default=P},463680:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.chat,["id","formattedTitle"]),n=l.fbt._("Deactivate {community-name}",[l.fbt._param("community-name",t.formattedTitle)],{hk:"3qzJmw"}),r=l.fbt._('Are you sure you want to deactivate the community "{community-name}"? This action cannot be undone.',[l.fbt._param("community-name",t.formattedTitle)],{hk:"Qgbfe"});return(0,d.jsx)(i.ConfirmPopup,{title:n,onOK:()=>{(0,o.default)(t),a.ModalManager.close()},onCancel:()=>{a.ModalManager.close()},okButtonType:"solidWarning",okText:l.fbt._("Deactivate",null,{hk:"3kZPYS"}),children:r})};var i=n(103440),o=r(n(258058)),a=n(114850),l=n(548360),s=n(655241),d=n(785893)},522897:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=null!=e.communityName?a.fbt._({"*":'Anyone in the community "{community-name}" will be able to join these groups.',_1:'Anyone in the community "{community-name}" will be able to join this group.'},[a.fbt._plural(e.groupCount),a.fbt._param("community-name",(0,l.jsx)(i.EmojiText,{text:e.communityName}))],{hk:"24sLUO"}):a.fbt._({"*":"Anyone in a community will be able to join these groups.",_1:"Anyone in a community will be able to join this group."},[a.fbt._plural(e.groupCount)],{hk:"3aeZpc"});return(0,l.jsx)(r.ConfirmPopup,{onOK:()=>{e.onContinue(),o.ModalManager.close()},onCancel:()=>{o.ModalManager.close()},okText:a.fbt._("Continue",null,{hk:"2jbrZK"}),children:t})};var r=n(103440),i=n(305521),o=n(114850),a=n(548360),l=n(785893)},946641:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(348926)),o=r(n(29521)),a=n(898817),l=r(n(670983)),s=r(n(229922)),d=n(351053),u=n(79672),c=r(n(227389)),f=n(969579),h=r(n(522897)),p=n(174834),g=r(n(3586)),m=n(103440),C=n(177938),v=n(306703),x=r(n(908081)),y=r(n(324093)),b=n(626194),j=n(305521),E=r(n(964223)),_=r(n(570834)),S=r(n(988410)),w=r(n(335540)),k=r(n(667845)),T=n(862159),M=n(81644),I=r(n(932325)),P=n(114850),D=r(n(803203)),L=r(n(930440)),R=r(n(550506)),O=n(435595),A=n(470824),N=r(n(237889)),B=n(956113),F=n(180519),H=r(n(625903)),U=r(n(844453)),G=n(548360),z=r(n(261294)),q=n(667294),V=r(n(156720)),W=r(n(637660)),Y=r(n(895851)),Z=n(785893);const K={search:{paddingTop:"mw9hwy0h",paddingEnd:"ixsqo53d",paddingBottom:"ekpn4oxx",paddingStart:"iy3dfvyp",marginTop:"s15egc35",marginEnd:"r67mms0c",marginBottom:"pel5o5rz",marginStart:"m0ig7u5t",backgroundColor:"ihvf49ua"},inputArea:{display:"l7jjieqr",width:"ln8gz9je",height:"bvcnfjzh",paddingTop:"ppypbuwx",paddingEnd:"f9ovudaz",paddingBottom:"s8gyl5p1",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"bze30y65",lineHeight:"jgi8eev7",color:"mfzfak1c",verticalAlign:"fewfhwl7",backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a",outline:"gk6igrwd"},inputLine:{position:"g0rxnol2",width:"ln8gz9je",minHeight:"g4oj0cdv",maxHeight:"f0mh0h6e",paddingTop:"n1yiu2zv",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"mjn2akup",overflowY:"ag5g9lrv",fontSize:"bze30y65",fontWeight:"e1gr2w1z",lineHeight:"htjsae3x",backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderStart:"nsmrnv0a",borderBottom:"ob9ouq0z",outline:"gk6igrwd",transition:"qbtd8e50"},drawerSection:{zIndex:"b9fczbqn",display:"p357zi0d",justifyContent:"j1p1mz06",paddingBottom:"hjz8m82x",marginTop:"ignnouf6",textAlign:"qfejxiq4"},inputAreaSizer:{position:"snyj76hw",visibility:"kojwoqec"},contacts:{position:"g0rxnol2",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"l07amlnk",overflowX:"gfz4du6o",overflowY:"ag5g9lrv",backgroundColor:"ihvf49ua"},paragraph:{paddingTop:"a4bywxmn",paddingEnd:"h1a80dm5",paddingBottom:"lzi2pvmc",paddingStart:"sta02ykp",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",textAlign:"qfejxiq4",color:"pm5hny62",backgroundColor:"ihvf49ua",borderBottom:"daad4uqs",overflowWrap:"fd365im1"},spinner:{backgroundColor:"ihvf49ua",display:"p357zi0d",justifyContent:"ac2vgrno",paddingTop:"gzqlv4l6",paddingEnd:"f9ovudaz",paddingBottom:"lhcgb2gc",paddingStart:"gx1rr48f"},createNewGroupText:{color:"e1vllz7m"}},X=(0,q.forwardRef)(((e,t)=>{var n;const r=!0===e.isCommunityCreation?(0,p.getParentGroupLinkLimitCommunityCreation)():(0,p.getParentGroupLinkLimit)(),X=r-e.currentSubgroupCount,Q=Array.from(null!==(n=e.addedExistingGroups)&&void 0!==n?n:[]),[J,$]=(0,q.useState)(""),ee=(0,W.default)((()=>new L.default([],(e=>e.id.toString())))),te=(0,W.default)((()=>new N.default([],(e=>e.id.toString())))),ne=(0,q.useRef)(null),[re,ie]=(0,q.useState)([]),[oe,ae]=(0,q.useState)([]),[le,se]=(0,q.useState)(!0),de=(0,q.useRef)(new _.default),ue=(0,q.useRef)();(0,q.useEffect)((()=>{w.default.focus(ue.current)}));(0,q.useEffect)((()=>{(()=>{se(!0);const t=C.ContactCollection.getGroupContacts().filter((t=>{var n,r;const i=d.ChatCollection.get(t.id.toString()),o=null==i||null===(n=i.groupMetadata)||void 0===n?void 0:n.participants;return null!=o&&o.iAmAdmin()&&!(null===(r=e.addedExistingGroups)||void 0===r?void 0:r.has(t.id))})).filter((e=>{const t=k.default.get(e.id.toString());return(null==t?void 0:t.groupType)===T.GroupType.DEFAULT||(null==t?void 0:t.groupType)===T.GroupType.SUBGROUP}));ae(t),se(!1)})()}),[]);const ce=()=>{S.default.shouldIndicateFocus(),w.default.focus(ue.current)},fe=()=>{!0===e.isParentGroupClosed?e.onSubmit(re):P.ModalManager.open((0,Z.jsx)(h.default,{onContinue:()=>e.onSubmit(re),communityName:e.communityName,groupCount:re.length}))},he=e=>{ee.current.setVal(e,!1),ie(ee.current.getSelected()),$("")},pe=(0,Y.default)(),ge=function(){var e=(0,i.default)((function*(e,t){yield(0,s.default)((0,A.setGroupSubject)(t,e),pe).catch((0,a.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`name_group_modal:onSetSubject failed`})),P.ModalManager.close(),ie(ee.current.getSelected()),$("")}));return function(){return e.apply(this,arguments)}}(),me=()=>{P.ModalManager.open((0,Z.jsx)(m.ConfirmPopup,{onOK:()=>P.ModalManager.close(),okText:G.fbt._("OK",null,{hk:"4oTrfy"}),children:G.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})}))};let Ce;re.length>0&&(Ce=(0,Z.jsx)(O.Round,{testid:"group-participants-btn",onClick:fe,children:(0,Z.jsx)(f.CheckmarkIcon,{})}));const ve=(0,o.default)(oe,Q,((e,t)=>e.id.equals(t))),xe=(0,Z.jsx)(D.default,{ref:ne,active:te.current,selections:ee.current,flatListController:de.current,msgType:"message",onLeaveList:ce,searchText:J,maxChats:X,onSelectionChanged:(t,n)=>{if(re.length>=X&&n)P.ModalManager.open((0,Z.jsx)(g.default,{maxSubgroups:r,isCommunityCreation:e.isCommunityCreation}));else{const e=k.default.get(t.id);if(!0===(null==e?void 0:e.isUnnamed)){const n=(0,l.default)(d.ChatCollection.get(t.id.toString()),"ChatCollection.get(selectedItem.id.toString())"),r=(0,l.default)(ee.current.list.find((e=>e.id.toString()===t.id.toString())),"selectedGroupsRef.current.list.find(si => si.id.toString() === selectedItem.id.toString())"),i=G.fbt._("This group was created without a name. Give it a name to add it to a community.",null,{hk:"4mUKhy"});P.ModalManager.open((0,Z.jsx)(R.default,{chat:n,subtext:i,onCancel:()=>{he(r),P.ModalManager.close()},onOK:ge,editable:null==e?void 0:e.canSetSubject(),editRestrictionInfo:(null==e?void 0:e.restrict)?me:void 0}))}else ie(ee.current.getSelected()),$("")}},chatFilter:e=>ve.some((t=>t.id.equals(e.id))),excludeBroadcast:!0,excludeContacts:!0,isCommunityExistingGroupsDrawer:!0,isDisabled:e=>{const t=k.default.get(e.id.toString());return(null==t?void 0:t.groupType)===T.GroupType.SUBGROUP},customItemSecondaryText:(e,t)=>{if(!(t&&e instanceof u.Chat))return;const n=k.default.get(e.id.toString());if((null==n?void 0:n.groupType)===T.GroupType.SUBGROUP){var r,i;const t=null===(r=e.groupMetadata)||void 0===r||null===(i=r.getParentGroupChat())||void 0===i?void 0:i.formattedTitle;return G.fbt._('Already added to "{community-name}"',[G.fbt._param("community-name",(0,Z.jsx)(j.EmojiText,{text:t}))],{hk:"2dKc7a"})}}});let ye;ye=oe.length>0?!0===e.isParentGroupClosed?G.fbt._("Everyone in the groups will be added to the community.",null,{hk:"fAEBh"}):G.fbt._("Everyone in the groups will be added to the community. Anyone in the community can join these groups.",null,{hk:"1IFzys"}):(0,Z.jsxs)(Z.Fragment,{children:[G.fbt._("All groups you're an admin of have already been added to other communities.",null,{hk:"23m9Tz"})," ",(0,Z.jsx)(H.default,{xstyle:K.createNewGroupText,onClick:e.onCreateNewGroup,children:G.fbt._("Create new group",null,{hk:"2j5qDf"})})]});const be=G.fbt._("Add existing groups ({=m1})",[G.fbt._implicitParam("=m1",(0,Z.jsx)("span",{dir:I.default.LR("ltr","rtl"),children:G.fbt._("{groupcount}{=m2}{subgroups-left-to-max}",[G.fbt._param("groupcount",I.default.n(re.length)),G.fbt._param("subgroups-left-to-max",I.default.n(X)),G.fbt._implicitParam("=m2",(0,Z.jsx)("span",{dir:I.default.LR("ltr","rtl"),children:G.fbt._("/",null,{hk:"7CI9K"})}))],{hk:"311McY"})}))],{hk:"BLbNQ"});return(0,Z.jsxs)(x.default,{ref:t,children:[(0,Z.jsx)(b.DrawerHeader,{title:be,type:b.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),(0,Z.jsxs)(y.default,{children:[(0,Z.jsx)(F.TextParagraph,{xstyle:K.paragraph,children:ye}),le?(0,Z.jsx)("div",{className:(0,V.default)(K.spinner),children:(0,Z.jsx)(B.Spinner,{})}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:(0,V.default)(K.search),children:(0,Z.jsxs)("div",{className:(0,V.default)(K.inputLine),children:[(0,Z.jsx)("div",{"data-list-scroll-container":!0,children:(0,Z.jsx)(c.default,{theme:"list-names",contacts:re,onDelete:(e,t)=>{he(t)},onFocusSearch:ce})}),(0,Z.jsx)(M.HotKeys,{handlers:{down:e=>{null==e||e.preventDefault(),te.current.setFirst(!0)}},onFocus:()=>{te.current.unset(),w.default.focus(ue.current)},children:(0,Z.jsx)("input",{"data-testid":"inputarea",className:(0,z.default)((0,V.default)(K.inputArea),v.SELECTABLE_INPUT_CSS_CLASS),ref:ue,placeholder:G.fbt._("Type group name",null,{hk:"4EQeB2"}),onChange:e=>$(e.target.value),value:J,type:"text"})}),(0,Z.jsx)("span",{className:(0,V.default)(K.inputAreaSizer),children:J})]})}),(0,Z.jsx)(E.default,{className:(0,V.default)(K.contacts),flatListControllers:[de.current],children:xe})]}),(0,Z.jsx)(U.default,{transitionName:"btn",className:(0,V.default)(K.drawerSection),children:Ce})]})]})}));X.displayName="NewCommunityExistingGroupsDrawer";var Q=X;t.default=Q},786977:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=f.fbt._('Add "{community-name}" to community?',[f.fbt._param("community-name",(0,h.jsx)(l.EmojiText,{text:e.groupName}))],{hk:"OmyRc"}),n=[{text:f.fbt._("The people in this group will be added to the community as members.",null,{hk:"4kArqr"}),Icon:i.AlertBellIcon},{text:f.fbt._("They can join or request to join other groups in the community.",null,{hk:"3sm9m8"}),Icon:d.PeopleIcon}];return(0,h.jsx)(a.ConfirmPopup,{title:t,onOK:e.onOK,onCancel:e.onCancel,children:(0,h.jsx)(s.FlexColumn,{align:"center",justify:"center",children:n.map(((e,t)=>{let{text:r,Icon:i}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.FlexRow,{align:"center",justify:"center",xstyle:c.uiPadding.vert14,children:[(0,h.jsx)(i,{width:18,height:18,iconXstyle:p.iconColor}),(0,h.jsx)(u.TextParagraph,{size:"15",xstyle:c.uiPadding.start30,children:r})]}),t!==n.length-1&&(0,h.jsx)(o.default,{noMargin:!0})]})}))})})};var i=n(531353),o=r(n(579484)),a=n(103440),l=n(305521),s=n(690495),d=n(810685),u=n(180519),c=n(676345),f=n(548360),h=(r(n(156720)),n(785893));const p={iconColor:{color:"fsk8o631"}}},276105:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{Icon:t,title:n,description:r}=e;return(0,a.jsxs)("div",{className:(0,o.default)(l.informationCell),children:[(0,a.jsx)("div",{className:(0,o.default)(l.iconColumn),children:(0,a.jsx)(t,{width:24,height:24,iconXstyle:l.iconColor})}),(0,a.jsxs)("div",{className:(0,o.default)(l.textAreaColumn),children:[(0,a.jsx)(i.TextParagraph,{xstyle:l.title,children:n}),(0,a.jsx)(i.TextParagraph,{theme:"muted",xstyle:l.subText,children:r})]})]})};var i=n(180519),o=r(n(156720)),a=n(785893);const l={informationCell:{display:"p357zi0d",marginTop:"fgtikrv0",marginBottom:"dblt22a0",width:"ln8gz9je"},textAreaColumn:{flexGrow:"ggj6brxn",marginEnd:"gqi0zhd6",marginStart:"nzcjdldu"},title:{color:"tviruh8d",lineHeight:"jgi8eev7"},iconColor:{color:"pm5hny62"},subText:{paddingTop:"fbgy3m38"},iconColumn:{paddingTop:"ppypbuwx",width:"i94gqilv",height:"bmot90v7"}}},559721:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,w.default)(e.onContinue),n=(0,l.communityCreationNoAddGroupsScreenEnabled)(),r=(0,k.default)(),g=n?_.fbt._("Create a new community",null,{hk:"3AfO32"}):_.fbt._("Start a community",null,{hk:"29ZmXp"}),m=(0,T.jsx)(b.SubgroupsNuxIcon,{width:24,height:24,iconXstyle:I.iconStroke}),D=(0,T.jsx)(o.AnnouncementSpeakerIcon,{width:24,height:24,viewBox:{x:26,y:26,width:160,height:160},iconXstyle:I.iconColor,directional:!0}),L=(0,T.jsx)(u.CommunityTabIcon,{width:24,height:24,iconXstyle:I.iconColor}),R=(0,i.getABPropConfigValue)("community_announcement_group_size_limit"),O=[{icon:m,title:_.fbt._("Add and manage related groups from one place",null,{hk:"2H3F4e"})},{icon:D,title:_.fbt._("Reach up to {community-group-size-limit} members with announcements",[_.fbt._param("community-group-size-limit",x.default.n(R))],{hk:"2jMExr"})},{icon:L,title:_.fbt._("Organize your neighborhood, school, team and more",null,{hk:"3ko9cS"})}];return(0,T.jsxs)(c.default,{children:[(0,T.jsx)(h.DrawerHeader,{title:_.fbt._("New community",null,{hk:"2fzGYI"}),type:h.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),(0,T.jsx)(f.default,{ref:r,tabIndex:"-1",children:(0,T.jsx)(p.default,{animation:!1,theme:"full-height",children:(0,T.jsxs)(C.FlexColumn,{align:"center",xstyle:n&&I.full,children:[(0,T.jsxs)(C.FlexColumn,{align:"center",xstyle:E.uiMargin.vertAuto,children:[(0,T.jsx)(v.default,{xstyle:I.badge,children:n?(0,T.jsx)(d.CommunityNuxLightIcon,{}):(0,T.jsx)(s.CommunityNuxIcon,{})}),(0,T.jsx)(j.TextHeader,{level:"2",xstyle:I.header,size:"24",color:"dark",weight:"bold",children:g}),n?(0,T.jsx)(P,{type:M.COMMUNITY}):O.map(((e,t)=>{let{icon:n,title:r}=e;return(0,T.jsxs)("div",{className:(0,S.default)(I.section),children:[(0,T.jsx)(C.FlexRow,{xstyle:E.uiPadding.top0,children:n}),(0,T.jsx)(C.FlexRow,{xstyle:I.content,children:(0,T.jsx)(j.TextParagraph,{theme:"title",xstyle:I.headerText,children:r})})]},t)}))]}),(0,T.jsxs)(C.FlexColumn,{xstyle:n&&E.uiPadding.bottom32,children:[(0,l.communityCreatePrivacyEnabled)()?(0,T.jsx)(P,{type:M.PRIVACY_POLICY}):null,(0,T.jsx)(y.Round,{className:(0,S.default)(I.nextButton),testid:"nux-continue-btn",label:_.fbt._("Continue new community creation",null,{hk:"4esUWI"}),onClick:t,children:(0,T.jsx)(a.ArrowForwardIcon,{directional:!0})})]})]})})})]})};var i=n(287461),o=n(474518),a=n(554204),l=n(174834),s=n(506023),d=n(587663),u=n(324559),c=r(n(908081)),f=r(n(324093)),h=n(626194),p=r(n(969358)),g=n(753233),m=n(258105),C=n(690495),v=r(n(469733)),x=r(n(932325)),y=n(435595),b=n(999437),j=n(180519),E=n(676345),_=n(548360),S=r(n(156720)),w=r(n(829686)),k=r(n(401715)),T=n(785893);const M=n(76672).Mirrored(["COMMUNITY","PRIVACY_POLICY"]),I={badge:{marginTop:"mnhq3yws"},header:{marginTop:"rek1qe2c",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",maxWidth:"dknb6df3",textAlign:"qfejxiq4",lineHeight:"a4ywakfo"},section:{display:"p357zi0d",marginTop:"mnhq3yws",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",maxWidth:"dknb6df3"},iconStroke:{color:"h6rxrygl"},iconColor:{color:"s4k44ver"},content:{paddingStart:"bmj4fdax"},headerText:{lineHeight:"pvbam5uh"},nextButton:{marginTop:"rntbvq1t",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm"},disclaimerSection:{marginTop:"qlylaf53"},disclaimerText:{textAlign:"qfejxiq4",lineHeight:"e4qy2s3t"},full:{height:"ppled2lx"}};function P(e){let{type:t}=e;const n=t===M.PRIVACY_POLICY?_.fbt._("Our privacy policy includes details about Communities.",null,{hk:"3bDW0a"}):_.fbt._("Bring together a neighborhood, school or more. Create topic-based groups for members, and easily send them admin updates.",null,{hk:"IesBD"});return(0,T.jsx)(C.FlexRow,{xstyle:[I.section,I.disclaimerSection,t===M.COMMUNITY&&E.uiMargin.top8],children:(0,T.jsxs)(j.TextParagraph,{color:"secondary",xstyle:I.disclaimerText,children:[n," ",t===M.PRIVACY_POLICY?(0,T.jsx)(g.ExternalLink,{href:(0,m.getCommunityCreatorPrivacyUrl)(),children:_.fbt._("Learn more",null,{hk:"1L9NkE"})}):null]})})}},988256:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(670983)),o=n(474518),a=r(n(692629)),l=r(n(170206)),s=n(969579),d=n(648678),u=n(174834),c=r(n(43212)),f=n(286545),h=n(411356),p=r(n(3586)),g=n(998266),m=n(23641),C=r(n(908081)),v=r(n(324093)),x=n(626194),y=r(n(969358)),b=n(305521),j=r(n(667845)),E=r(n(932325)),_=n(118612),S=n(114850),w=n(164406),k=n(435595),T=r(n(802211)),M=r(n(237889)),I=n(956113),P=r(n(928040)),D=n(676345),L=r(n(517050)),R=n(548360),O=n(667294),A=r(n(156720)),N=r(n(401715)),B=r(n(637660)),F=n(785893);const H={nextButton:{zIndex:"b9fczbqn",display:"p357zi0d",justifyContent:"j1p1mz06",animationName:"s0bejz76",animationDuration:"oauresqk",animationTimingFunction:"pqvv99ib"},groupIcon:{height:"ppled2lx",width:"ln8gz9je"}},U=(0,u.communityAnnouncementImprovementM2Enabled)()?P.default:T.default,G=(0,F.jsx)(U,{xstyle:[f.styles.icon,f.styles.announcementIcon],transparent:!0,children:(0,F.jsx)(o.AnnouncementSpeakerIcon,{directional:!0,height:40,width:40,iconXstyle:f.styles.announcementSpeaker})}),z=e=>{let{data:t,active:n,isAnnouncementGroup:r,onRemoveGroup:i}=e;return r?(0,F.jsx)(l.default,{primary:(0,F.jsx)(b.EmojiText,{text:t.name,ellipsify:!0}),image:t.icon,secondary:(0,F.jsx)(b.EmojiText,{text:t.secondary,ellipsify:!0})}):(0,F.jsx)(l.default,{primary:(0,F.jsx)(b.EmojiText,{text:t.name,ellipsify:!0}),image:t.icon,secondary:(0,F.jsx)(b.EmojiText,{text:t.secondary,ellipsify:!0}),detail:(0,F.jsx)(d.RemoveButton,{active:n,subgroup:t.itemKey,groupName:t.name,onClick:()=>i(t.itemKey)})})},q=(0,O.forwardRef)(((e,t)=>{const n=(0,u.getParentGroupLinkLimitCommunityCreation)(),r=(0,B.default)((()=>new M.default([],(e=>e.itemKey)))),o=(0,N.default)(),l=e.groups.length>0||(0,u.noSubgroupRequirementEnabled)(),b=(0,O.useMemo)((()=>{const t=e.groups.map((e=>{const{subject:t,icon:n=null,id:r=null,tempId:o=null,participants:a=null}=e;let l,s;null!=r?(l=(0,F.jsx)(m.DetailImage,{id:r}),null!=a&&(s=(0,c.default)(a))):(l=null!=n?(0,F.jsx)("img",{src:n,alt:"Group icon",className:(0,A.default)(H.groupIcon)}):(0,F.jsx)(g.DefaultGroupIcon,{xstyle:H.groupIcon,className:L.default.defaultGroupIcon}),s=R.fbt._("You created group {subject}",[R.fbt._param("subject",t)],{hk:"2nJMx9"}).toString());return{itemKey:(0,i.default)(null!=o?o:null==r?void 0:r.toString(),"tempId ?? id?.toString()"),name:e.subject,icon:(0,F.jsx)(T.default,{xstyle:f.styles.icon,transparent:!0,children:l}),secondary:s,announcementGroup:!1}})).sort(h.SubgroupComparator);return t.unshift({itemKey:e.name,name:e.name,icon:G,announcementGroup:!0,secondary:(0,u.communityAnnouncementImprovementM2Enabled)()?null:R.fbt._("Announcement group",null,{hk:"1YLlbO"}).toString()}),t}),[e.groups,e.name]),P=(0,O.useMemo)((()=>b.map((e=>{let{announcementGroup:t,itemKey:n}=e;if(!t)return{itemKey:`remove-button-${n}`}})).filter(Boolean)),[b]);r.current.init(P);const U=()=>{S.ModalManager.open((0,F.jsx)(p.default,{maxSubgroups:n,isCommunityCreation:!0}))},q=e.loading?(0,F.jsx)(I.Spinner,{color:"white",size:30}):(0,F.jsx)(s.CheckmarkIcon,{}),V=l?(0,F.jsx)("div",{className:(0,A.default)(H.nextButton,D.uiPadding.bottom32,D.uiMargin.top28),children:(0,F.jsx)(k.Round,{testid:"create-community-btn",onClick:e.onCreateCommunity,label:R.fbt._("Create community",null,{hk:"3RHJNo"}),children:q})}):null,W=e.groups.length+1,Y=R.fbt._("Add groups ({=m1})",[R.fbt._implicitParam("=m1",(0,F.jsx)("span",{dir:E.default.LR("ltr","rtl"),children:R.fbt._("{groupcount}{=m2}{maxsubgroups}",[R.fbt._param("groupcount",E.default.n(W)),R.fbt._param("maxsubgroups",E.default.n(n)),R.fbt._implicitParam("=m2",(0,F.jsx)("span",{dir:E.default.LR("ltr","rtl"),children:R.fbt._("/",null,{hk:"n8PW0"})}))],{hk:"2bygpM"})}))],{hk:"1y6iZ"});return(0,F.jsx)("div",{role:"complementary",ref:o,tabIndex:"-1","aria-label":R.fbt._("Manage Community Groups Drawer",null,{hk:"29V3MC"}),children:(0,F.jsxs)(C.default,{ref:t,children:[(0,F.jsx)(x.DrawerHeader,{title:Y,type:x.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack}),(0,F.jsxs)(v.default,{children:[(0,F.jsxs)(y.default,{children:[(0,F.jsx)(d.CreateNewGroupCell,{onClick:()=>{e.groups.length+1>=n?U():e.onNewGroupFlow()}}),(0,F.jsx)(d.AddExistingGroupsCell,{onClick:()=>{if(e.groups.length+1>=n)U();else{if(null!=j.default.findFirst((e=>e.participants.iAmAdmin())))e.onExistingGroupFlow();else{const t=(0,F.jsx)(a.default,{type:"secondary",onClick:()=>S.ModalManager.close(),children:R.fbt._("Cancel",null,{hk:"w74ws"})},0),n=(0,F.jsx)(a.default,{type:"primary",onClick:()=>{S.ModalManager.close(),e.onNewGroupFlow()},children:R.fbt._("Create group",null,{hk:"3UOEZN"})},1);S.ModalManager.open((0,F.jsx)(_.Modal,{actions:[t,n],children:(0,F.jsx)("div",{children:R.fbt._("You can only add existing groups you're an admin of. You're not currently an admin of any groups, but you can create a new group.",null,{hk:"XYbne"})})}))}}}})]}),(0,F.jsx)(y.default,{testid:"groups-in-community",title:R.fbt._("GROUPS IN THIS COMMUNITY",null,{hk:"1kTWJn"}),children:(0,F.jsx)(w.NavigableFlatList,{ariaLabel:R.fbt._("Community Subgroups List",null,{hk:"5ScFc"}),listData:b,onRenderItem:t=>(0,F.jsx)(z,{data:t,active:r.current,isAnnouncementGroup:t.announcementGroup,onRemoveGroup:e.onRemoveGroup}),selection:r.current,rotateList:!0})}),V]})]})})}));q.displayName="NewCommunityManagerDrawer";var V=q;t.default=V},834431:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=n(554204),a=r(n(170206)),l=n(969579),s=n(950987),d=n(648678),u=n(198933),c=n(174834),f=r(n(43212)),h=r(n(786977)),p=n(23641),g=r(n(908081)),m=r(n(324093)),C=n(626194),v=r(n(969358)),x=n(305521),y=n(753233),b=n(258105),j=n(690495),E=n(108937),_=n(114850),S=n(588792),w=n(511696),k=n(202391),T=n(435595),M=n(937001),I=n(956113),P=n(676345),D=r(n(844453)),L=n(130756),R=n(548360),O=n(667294),A=r(n(156720)),N=r(n(829686)),B=n(785893);const F={section:{paddingEnd:"igb3k0ri",paddingStart:"nntdgyy8"}},H=(0,O.forwardRef)(((e,t)=>{var n,r;const H=(0,O.useRef)(null),U=(0,O.useRef)(null),[G,z]=(0,O.useState)(null!==(n=e.name)&&void 0!==n?n:""),[q,V]=(0,O.useState)(null!==(r=e.description)&&void 0!==r?r:""),[W,Y]=(0,O.useState)(e.imgBlob),Z=[P.uiPadding.horiz32,P.uiPadding.bottom28];(0,O.useEffect)((()=>{var e;null===(e=H.current)||void 0===e||e.restoreFocus()}),[e.existingGroups.length]);const K=()=>{u.UiCommunityCreationAction.unlinkGroup(),e.onExistingGroupsChanged([])},X=(0,N.default)((()=>{e.onContinue(G,q,W)})),Q=()=>{var t;u.UiCommunityCreationAction.createCommunity(L.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.COMMUNITY_INFO),e.existingGroups.length&&(0,c.communityCreationNoAddGroupsScreenEnabled)()?_.ModalManager.open((0,B.jsx)(h.default,{groupName:null===(t=e.existingGroups[0])||void 0===t?void 0:t.subject,onOK:()=>{u.UiCommunityCreationAction.linkGroupConfirmationOk(),X(),_.ModalManager.close()},onCancel:()=>{u.UiCommunityCreationAction.linkGroupConfirmationCancel(),_.ModalManager.close()}})):X()};(0,O.useImperativeHandle)(t,(()=>({restoreFocus:()=>{var e;return null===(e=H.current)||void 0===e?void 0:e.restoreFocus()},getElement:()=>U.current})));const J=e.loading?(0,B.jsx)(I.Spinner,{color:"white",size:30}):(0,B.jsx)(l.CheckmarkIcon,{}),$=(0,c.communityCreationNoAddGroupsScreenEnabled)()?J:(0,B.jsx)(o.ArrowForwardIcon,{directional:!0}),ee=(0,c.communityCreationNoAddGroupsScreenEnabled)()?R.fbt._("Create community",null,{hk:"3RHJNo"}).toString():R.fbt._("Next",null,{hk:"1IVCK5"}).toString(),te=G.trim().length>0,ne=te?(0,B.jsx)(j.FlexRow,{align:"center",justify:"center",children:(0,B.jsx)(D.default,{transitionName:"btn",className:(0,A.default)(P.uiPadding.vert32),appear:!0,children:(0,B.jsx)(T.Round,{testid:"new-community-info-continue-btn",onClick:Q,label:ee,children:$})})}):null,re=R.fbt._("Community name",null,{hk:"3Zo7Yg"}),ie=(0,c.richCommunityDescriptionEnabled)(),oe=R.fbt._("What's this community for? It's helpful to add rules for your members.",null,{hk:"4arNqu"}),ae=R.fbt._("Community description",null,{hk:"2gM6Fr"}),le=ie?oe:ae,se=(0,c.communityCreationNoAddGroupsScreenEnabled)()?(0,B.jsx)(s.Clickable,{dataTestId:"btn-about-communities",onClick:()=>{u.UiCommunityCreationAction.helpIconClick(),(0,y.openExternalLink)((0,b.getAboutCommunitiesFaqUrl)())},ariaLabel:R.fbt._("About communities",null,{hk:"3aoSLL"}),children:(0,B.jsx)(E.HelpIcon,{})}):null;return(0,B.jsxs)(g.default,{ref:U,children:[(0,B.jsx)(C.DrawerHeader,{title:R.fbt._("New community",null,{hk:"2fzGYI"}),type:C.DRAWER_HEADER_TYPE.LARGE,onBack:e.onBack,children:se}),(0,B.jsx)(m.default,{children:(0,B.jsxs)(v.default,{theme:"full-height",children:[(0,B.jsx)("div",{className:(0,A.default)(P.uiPadding.top28,...Z),children:(0,B.jsx)(w.PhotoPickerLoadable,(0,i.default)({type:S.PhotoPickerType.COMMUNITY,attachToChat:!1,startImage:W,onImageSet:(e,t)=>{Y(t)}},(0,c.communityCreationNoAddGroupsScreenEnabled)()&&{theme:S.PhotoPickerThemeType.EMOJI_SUGGESTIONS}))}),(0,B.jsx)("div",{className:(0,A.default)(...Z),children:(0,B.jsx)(k.RichTextField,{testid:"community-subject",title:re,ref:e=>{H.current=e},value:G,maxLength:M.ServerProps.maxSubject,showRemaining:!0,onChange:e=>{let{text:t}=e;return(e=>{z(e)})(t)},placeholder:re,onEnter:te?Q:()=>{},supportsEmoji:!0,focusOnMount:!0})}),(0,B.jsx)("div",{className:(0,A.default)(...Z),children:(0,B.jsx)(k.RichTextField,{testid:"community-description",title:le,value:q,maxLength:M.ServerProps.groupDescLength,showRemaining:!0,onChange:e=>{let{text:t}=e;return(e=>{V(e)})(t)},placeholder:ae,inputPlaceholder:oe,onEnter:te?Q:()=>{},supportsEmoji:!0,multiline:!0,maxVisibleLines:5,minVisibleLines:5,textFormatEnabled:!0,bulletPointsEnabled:ie,theme:"gray-background"})}),e.existingGroups.length&&(0,c.communityCreationNoAddGroupsScreenEnabled)()?(0,B.jsx)(v.default,{testid:"groups-in-community",title:R.fbt._("GROUPS IN THIS COMMUNITY",null,{hk:"1kTWJn"}),animation:!1,xstyle:F.section,theme:"padding-no-vertical",shadow:!1,children:e.existingGroups.map((e=>{let{id:t,participants:n,subject:r}=e;return(0,B.jsx)(a.default,{primary:(0,B.jsx)(x.EmojiText,{text:r,ellipsify:!0}),image:(0,B.jsx)(p.DetailImage,{id:t}),secondary:(0,B.jsx)(x.EmojiText,{text:n?(0,f.default)(n):null,ellipsify:!0}),detail:(0,B.jsx)(d.RemoveButton,{groupName:r,onClick:K,subgroup:t,tabIndex:0}),theme:"collection-header"},t)}))}):null]})}),ne]})}));H.displayName="NewCommunityInfoDrawer";var U=H;t.default=U},286545:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.CommunityHomeGroupsManager=void 0;var i=r(n(670983)),o=n(474518),a=r(n(170206)),l=n(351053),s=n(648678),d=n(174834),u=r(n(43212)),c=n(493678),f=n(411356),h=r(n(3586)),p=n(23641),g=r(n(908081)),m=r(n(324093)),C=n(626194),v=r(n(969358)),x=n(305521),y=n(862159),b=r(n(932325)),j=n(114850),E=n(164406),_=r(n(802211)),S=r(n(237889)),w=n(956113),k=r(n(928040)),T=r(n(22368)),M=r(n(844453)),I=n(548360),P=n(667294),D=(r(n(156720)),r(n(401715))),L=r(n(637660)),R=n(655241),O=n(785893);const A={icon:{height:"brqbuz94",width:"nfc7olq2",overflowX:"gfz4du6o",overflowY:"r7fjleex"},announcementIcon:{backgroundColor:"se52eggw"},announcementSpeaker:{color:"jn5oezdz"},hotKeys:{height:"ppled2lx"}};t.styles=A;const N=(0,d.communityAnnouncementImprovementM2Enabled)()?k.default:_.default,B=(0,O.jsx)(N,{xstyle:[A.icon,A.announcementIcon],transparent:!0,children:(0,O.jsx)(o.AnnouncementSpeakerIcon,{directional:!0,height:40,width:40,iconXstyle:A.announcementSpeaker})});function F(e){var t,n;const{data:{itemKey:r,parentId:i,currentSubgroupCount:o,name:u,icon:f,secondary:h,showRemove:p,subgroupWid:g}}=e,[m,C]=(0,P.useState)(!1),v=l.ChatCollection.get(r),b=(0,R.useOptionalModelValues)(v,["formattedTitle"]);let j=null!==(t=null==b?void 0:b.formattedTitle)&&void 0!==t?t:u;(null==v||null===(n=v.groupMetadata)||void 0===n?void 0:n.groupType)===y.GroupType.DEFAULT_ANNOUNCEMENT_GROUP&&(0,d.communityAnnouncementImprovementM2Enabled)()&&(j=I.fbt._("Announcements",null,{hk:"GNIKa"}).toString());return(0,O.jsx)(a.default,{primary:(0,O.jsx)(x.EmojiText,{text:j,ellipsify:!0}),image:f,secondary:h,detail:p&&(m?(0,O.jsx)(M.default,{transitionName:"fade",children:(0,O.jsx)(w.Spinner,{size:18,stroke:6,color:"highlight"})}):(0,O.jsx)(M.default,{transitionName:"fade",children:(0,O.jsx)(s.RemoveButton,{onClick:()=>{(0,c.handleRemoveSubgroup)({parentId:i,currentSubgroupCount:o,removedSubgroupWid:g,removedSubgroupTitle:j,setLoading:C})},active:e.active,subgroup:g,groupName:j})}))})}const H=(0,P.forwardRef)(((e,t)=>{const{joinedSubgroups:n,unjoinedSubgroups:r,currentSubgroupCount:o,onNewGroupFlow:a,onExistingGroupFlow:c,onBack:x,parentId:y}=e,w=(0,d.getParentGroupLinkLimit)(),k=(0,L.default)((()=>new S.default([],(e=>e.itemKey)))),M=(0,D.default)(),R=()=>{j.ModalManager.open((0,O.jsx)(h.default,{maxSubgroups:w}))},N=(0,P.useMemo)((()=>[...n,...r].map((e=>{const[t,n]=(e=>{let t,n;const r=l.ChatCollection.get(e.toString());return r?(t=(0,i.default)(r.groupMetadata,"groupChat.groupMetadata"),n=r.title()):(t=T.default.assertGet(e.toString()),n=t.subject),[t,n]})(e);if(!0===t.defaultSubgroup)return{itemKey:e.toString(),subgroupWid:e,parentId:y,currentSubgroupCount:o,name:n,icon:B,secondary:(0,d.communityAnnouncementImprovementM2Enabled)()?null:I.fbt._("Announcement group",null,{hk:"1YLlbO"}),announcementGroup:!0,showRemove:!1};const r=(0,O.jsx)(p.DetailImage,{id:e});let a;return a=t.participants.iAmMember()?null!=t.participants?(0,u.default)(t.participants):I.fbt._("You created group {subject}",[I.fbt._param("subject",n)],{hk:"2nJMx9"}):I.fbt._("You are not a member of this group",null,{hk:"3hsiuD"}),{name:n,subgroupWid:e,parentId:y,currentSubgroupCount:o,itemKey:e.toString(),icon:(0,O.jsx)(_.default,{xstyle:A.icon,transparent:!0,children:r}),secondary:a,announcementGroup:!1,showRemove:!0}})).sort(f.SubgroupComparator)),[n,r,y,o]),H=(0,P.useMemo)((()=>N.map((e=>{let{showRemove:t,subgroupWid:n}=e;if(t)return{itemKey:`remove-button-${n.toString()}`}})).filter(Boolean)),[N]);k.current.init(H);const U=I.fbt._("Manage groups ({=m1})",[I.fbt._implicitParam("=m1",(0,O.jsx)("span",{dir:b.default.LR("ltr","rtl"),children:I.fbt._("{groupcount}{=m2}{maxsubgroups}",[I.fbt._param("groupcount",b.default.n(o)),I.fbt._param("maxsubgroups",b.default.n(w)),I.fbt._implicitParam("=m2",(0,O.jsx)("span",{dir:b.default.LR("ltr","rtl"),children:I.fbt._("/",null,{hk:"1j0TgB"})}))],{hk:"mOrOP"})}))],{hk:"3hngRL"});return(0,O.jsx)("div",{role:"complementary",ref:M,tabIndex:"-1","aria-label":I.fbt._("Manage Community Groups Drawer",null,{hk:"29V3MC"}),children:(0,O.jsxs)(g.default,{ref:t,testid:"community-manage-group-drawer",children:[(0,O.jsx)(C.DrawerHeader,{title:U,titleStr:U,type:C.DRAWER_HEADER_TYPE.LARGE,onBack:x}),(0,O.jsxs)(m.default,{children:[(0,O.jsxs)(v.default,{children:[(0,O.jsx)(s.CreateNewGroupCell,{onClick:()=>{o>=w?R():a()}}),(0,O.jsx)(s.AddExistingGroupsCell,{onClick:()=>{o>=w?R():c()}})]}),(0,O.jsx)(v.default,{title:I.fbt._("GROUPS IN THIS COMMUNITY",null,{hk:"1kTWJn"}),testid:"groups-in-community",children:(0,O.jsx)(E.NavigableFlatList,{selection:k.current,ariaLabel:I.fbt._("Community Subgroups List",null,{hk:"5ScFc"}),listData:N,onRenderItem:e=>(0,O.jsx)(F,{data:e,active:k.current}),rotateList:!0})})]})]})})}));t.CommunityHomeGroupsManager=H,H.displayName="CommunityHomeGroupsManager"},324222:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.LinkingFailedModal=function(e){let{parentGroupId:t,failedGroups:n,isCommunityFull:r}=e;const f=(0,a.getFormattedGroupListForCommunity)((0,d.flattenPairList)(n.map((e=>[e,""])))),h=[];let p;if(r){const e=(0,c.jsx)(i.default,{type:"secondary",onClick:()=>s.ModalManager.close(),children:u.fbt._("OK",null,{hk:"49CT4n"})});h.push(e),p=u.fbt._("{groups} could not be added because the community is full.",[u.fbt._param("groups",f)],{hk:"47TQcn"})}else{const e=(0,c.jsx)(i.default,{type:"secondary",onClick:()=>s.ModalManager.close(),children:u.fbt._("Cancel",null,{hk:"2g51G7"})});h.push(e);const r=(0,c.jsx)(i.default,{type:"primary",onClick:()=>{o.Cmd.openCommunityHomeManageGroups(t),s.ModalManager.close()},children:u.fbt._("Add Groups",null,{hk:"fDoqm"})});h.push(r),p=u.fbt._({"*":"{groups} could not be added to the community. Try adding them again.",_1:"{groups} could not be added to the community. Try adding it again."},[u.fbt._plural(n.length),u.fbt._param("groups",f)],{hk:"1jqcZt"})}return(0,c.jsx)(l.Modal,{actions:h,children:(0,c.jsx)("div",{children:p})})};var i=r(n(692629)),o=n(780549),a=n(436355),l=n(118612),s=n(114850),d=n(628199),u=n(548360),c=n(785893)},323533:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(274019)),o=n(900316),a=n(667294),l=r(n(829686)),s=n(785893);const d=(0,a.forwardRef)(((e,t)=>{const n=(0,l.default)((()=>{e.onBack?e.onBack():o.DrawerManager.closeDrawerLeft()}));return(0,s.jsx)(i.default,{ref:t,onBack:n,chat:e.chat})}));d.displayName="DeactivateCommunityDrawerFn";var u=d;t.default=u},43212:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.map((e=>e.contact)).filter((e=>e.isMe||e.shortName)).sort(((e,t)=>e.isMe?-1:t.isMe?1:0)).slice(0,3),n=e.length-t.length;let r="";t.length+n<3?t.forEach(((e,n)=>{const o=e.isMe?i.default.t(801):e.shortName;0===n?r+=o:n===t.length-1?r+=` ${i.default.t(251)}${o}`:r+=`${i.default.t(253)}${o}`})):t.forEach(((e,t)=>{const n=e.isMe?i.default.t(801):e.shortName;r+=0===t?n:`${i.default.t(253)}${n}`}));if(0===n)return o.fbt._("{participant-info-text}",[o.fbt._param("participant-info-text",r)],{hk:"3JQguL"});0===t.length?r+=o.fbt._({"*":"{unknown_participants_user} users",_1:"1 user"},[o.fbt._plural(n,"unknown_participants_user")],{hk:"2g0vkd"}).toString():1===t.length?r=o.fbt._({"*":"{existing_name} & {unknown_participants_other} others",_1:"{existing_name} & 1 other"},[o.fbt._plural(n,"unknown_participants_other"),o.fbt._param("existing_name",r)],{hk:"3sLtd6"}).toString():t.length>1&&(r+=o.fbt._({"*":", & {unknown_participants_other} others",_1:", & 1 other"},[o.fbt._plural(n,"unknown_participants_other")],{hk:"4bzObR"}).toString());return o.fbt._("{participant-info-text}",[o.fbt._param("participant-info-text",r)],{hk:"3JQguL"})};var i=r(n(932325)),o=n(548360)},411356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubgroupComparator=function(e,t){if(!0===e.announcementGroup)return-1;if(!0===t.announcementGroup)return 1;return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}},816304:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,C.useFlow)(x.SelectGroup),[r,y]=(0,m.useState)(),b=t=>{const n=t.groupMetadata;if(!t.isGroup||t.isGroup&&!(null==n?void 0:n.participants.iAmMember()))return!1;const r=!0===(null==n?void 0:n.isLidAddressingMode)?(0,o.getCurrentLid)(e.contact.id):e.contact.id;return null!=r&&(null==n?void 0:n.participants.get(r))?g.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString():!!(null==n?void 0:n.participants.iAmAdmin())||h.default.t(176)},j=(0,m.useRef)(null),E=e=>{(()=>{if(!j.current)return;const e=j.current;e&&!e.contains(document.activeElement)&&c.default.focus(e)})(),y(e),n.push(x.Confirm)};if(null==n.step)return null;let _=null;switch(n.step){case x.SelectGroup:_=(0,v.jsx)(f.default,{chats:a.ChatCollection.filter((e=>e.isGroup)),filter:b,onCancel:()=>n.pop(),onGroup:E});break;case x.Confirm:_=(0,v.jsx)(d.ConfirmPopup,{cancelText:g.fbt._("Cancel",null,{hk:"H0gNq"}),okText:g.fbt._("Add participant",null,{hk:"48ECfz"}),onOK:()=>{return t=(0,i.default)(r,"group"),(0,p.addParticipants)(t,[e.contact]).then((()=>{l.Cmd.openChatFromUnread(t).then((e=>{e&&s.ComposeBoxActions.focus(t)}))})).catch((()=>{})),void n.end();var t},onCancel:()=>n.pop(),children:(0,v.jsx)(u.EmojiText,{text:h.default.t(191,{participant:e.contact.formattedName,subject:(0,i.default)(r,"group").contact.name})})})}return(0,v.jsx)(t,{ref:j,flow:n,children:_})};var i=r(n(670983)),o=n(12643),a=n(351053),l=n(780549),s=n(877171),d=n(103440),u=n(305521),c=r(n(335540)),f=r(n(740068)),h=r(n(932325)),p=n(33014),g=n(548360),m=n(667294),C=n(839062),v=n(785893);const x=n(76672).Mirrored(["SelectGroup","Confirm"])},383923:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(781629)),o=r(n(751463)),a=n(95112),l=n(952543),s=n(780549),d=n(877171),u=n(900316),c=r(n(329982)),f=n(25878),h=n(179268),p=n(368170),g=n(238669),m=n(785893);class C extends c.default{constructor(){var e;super(...arguments),e=this,this._setRefMediaEditor=e=>{this._refMediaEditor=e},this._handleCancel=()=>{var e,t,n,r;null===(e=(t=this.props).onComplete)||void 0===e||e.call(t,!1),null===(n=(r=this.props).onCancel)||void 0===n||n.call(r),this._clearAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel(),this.end()},this._handleFailedMedias=e=>{const t=e.filter((e=>e.isGif));if(t.length>0){const e=t.map((e=>e.filename));s.Cmd.once("ui_idle",(()=>{d.ComposeBoxActions.paste(this.props.chat,e.join(" "))})),this.props.onComplete&&this.props.onComplete(!1),this._clearAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel(),this.end()}},this._sendMediaWithMentions=function(t){var n,r,i,o;let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{initCaptionUsed:u,isViewOnce:c}=d,{chat:f}=e.props;s.Cmd.once("ui_idle",(()=>{t.forEach(((t,n)=>{var r;const i=t.media,o={};if(0===n&&(o.quotedMsg=f.composeQuotedMsg,f.composeQuotedMsg=null),o.type=i.type,o.isViewOnce=c,o.mentionedJidList=t.mentionedJidList,o.groupMentions=t.groupMentions,o.caption=i.caption,o.addEvenWhilePreparing=i.previewable&&i.state===l.ATTACH_MEDIA_STATE.PROCESSING,null===(r=e.props.initCaption)||void 0===r?void 0:r.ctwaContextLinkData){const{ctwaContextLinkData:t,ctwaContext:n}=e.props.initCaption;o.ctwaContext=(0,a.prepareCtwaContextSend)(t,n)}i.sendToChat(f,o)})),e._clearAttachMedia()})),null===(n=(r=e.props).onComplete)||void 0===n||n.call(r,!0,{initCaptionUsed:u}),null===(i=(o=e.props).onSend)||void 0===i||i.call(o),e.props.mediaCollection.mediaPickerStatsLogger.logSend({isViewOnce:!!c}),e.end()},this.setText=e=>{null!=e&&s.Cmd.once("ui_idle",(()=>{d.ComposeBoxActions.paste(this.props.chat,e)})),this.end()},this._clearAttachMedia=()=>{this.props.chat&&this.props.chat.setAttachMediaContents(null)},this.handleRequestDismiss=e=>{var t;(null===(t=this._refMediaEditor)||void 0===t?void 0:t.handleRequestDismiss())&&(e===g.DismissReason.UIM_INTERACTION&&this._handleCancel(),super.handleRequestDismiss())}}componentDidMount(){s.Cmd.closeContextMenu(),s.Cmd.closeTooltip(),u.DrawerManager.closeDrawerRight(),this.push((0,m.jsx)(f.MediaEditor,{theme:f.MediaTheme.ATTACH,ref:this._setRefMediaEditor,chat:this.props.chat,onClose:this._handleCancel,initCaption:this.props.initCaption,onSendMedia:(0,o.default)(this._sendMediaWithMentions),mediaCollection:this.props.mediaCollection,onDropText:(0,o.default)(this.setText),sendAsSticker:this.props.sendAsSticker})),(0,h.prepareChatForMessageSending)(this.props.chat)}componentWillUnmount(){p.UA.isGecko?(0,i.default)((()=>d.ComposeBoxActions.focus(this.props.chat))):d.ComposeBoxActions.focus(this.props.chat)}}t.default=C},767206:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,c.useFlow)(h.Select),r=(0,u.useRef)([]);if(null==n.step)return null;let p;switch(n.step){case h.Select:{const t=l.ServerProps.maxParticipants;p=(0,f.jsx)(o.SelectModal,{title:d.fbt._("Send contacts",null,{hk:"9ZMyz"}),onCancel:()=>{e.onCancel(),n.pop()},onConfirm:e=>{n.push(h.Confirm),r.current=e},getInitialItems:()=>r.current,listType:o.ListType.CONTACT_SELECT_MODAL,maxItems:t,includeLidContacts:(0,i.isLidVcardSharingEnabled)(),allowBlockedContacts:!0});break}case h.Confirm:{const t=t=>{const{chat:r}=e,i=r.composeQuotedMsg,o=r.getComposeContents().ctwaContext||void 0;(0,a.default)(t,r,i,o),r.composeQuotedMsg=null,e.onContactsSent(),n.end()};p=(0,f.jsx)(s.default,{contactList:r.current,onSend:()=>t(r.current),onBack:()=>{n.pop()},chat:e.chat});break}}return(0,f.jsx)(t,{flow:n,children:p})};var i=n(447164),o=n(61740),a=r(n(27752)),l=n(937001),s=r(n(306225)),d=n(548360),u=n(667294),c=n(839062),f=n(785893);const h=n(76672).Mirrored(["Select","Confirm"])},356432:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,d.useFlow)(c.MessageInfo,{transitions:d.FlowTransitions.DrawerRight}),[r,f]=(0,s.useState)();if(null==n.step)return null;let h;switch(n.step){case c.MessageInfo:h=(0,u.jsx)(o.default,{msg:e.msg,onProductClick:e=>{f(e),n.push(c.ProductDetails)}});break;case c.ProductDetails:h=(0,u.jsx)(l.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:(0,a.getChat)(e.msg),product:(0,i.default)(r,"product"),onEnd:()=>n.pop()})}return(0,u.jsx)(t,{flow:n,children:h})};var i=r(n(670983)),o=r(n(696716)),a=n(163755),l=n(639793),s=n(667294),d=n(839062),u=n(785893);const c=n(76672).Mirrored(["MessageInfo","ProductDetails"])},262186:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,p.useState)(null),r=(0,p.useRef)(null),C=(0,p.useRef)(),[v,y]=(0,g.useFlow)(x.Capture),b=()=>{var e;null===(e=C.current)||void 0===e||e.call(C);const{asyncStream:t,disposeStream:n}=u.start("camera",(()=>y.push(x.Guide,"modal")),5e3);C.current=n,t.then((e=>{r.current||y.pop("modal"),e&&r.current&&r.current.loadNewStream(e,n)})).catch((0,i.filteredCatch)(c.GetUserMedia.NotAllowedError,(()=>{y.end(),h.ModalManager.open((0,m.jsx)(s.GuidePopup,{messaging:s.Messaging.CAMERA_FAIL,type:s.TYPE.GUIDE_UNBLOCK}))}))).catch((0,i.filteredCatch)(c.GetUserMedia.GetUserMediaError,(()=>{y.end(),h.ModalManager.open((0,m.jsx)(s.GuidePopup,{messaging:s.Messaging.CAMERA_MISSING,type:s.TYPE.GUIDE_NONE}))})))};if((0,p.useEffect)((()=>(b(),()=>{var e;null===(e=C.current)||void 0===e||e.call(C)})),[]),null==y.step)return null;let j;switch(y.step){case x.Capture:j=(0,m.jsx)(f.Modal,{type:e.modalTheme||f.ModalTheme.Box,ariaLabel:d.default.t(592),children:(0,m.jsx)(a.default,{ref:r,stream:void 0,disposeStream:void 0,caption:!1,theme:"capture-cover",onBack:()=>y.end(),onSend:null,onCaptured:e=>{n(e),y.push(x.EditImage,"flow-transition-box-size-drawer-push")},chat:void 0})});break;case x.Guide:j=(0,m.jsx)(s.GuidePopup,{messaging:s.Messaging.CAMERA,type:s.TYPE.GUIDE_ALLOW,onConfirm:()=>y.pop("modal")});break;case x.EditImage:j=(0,m.jsx)(f.Modal,{type:e.modalTheme||f.ModalTheme.Box,children:(0,m.jsx)(l.EditImageDrawer,{onRetake:()=>{y.pop("flow-transition-box-size-drawer-pop"),b()},retryText:l.RETRY_OPTIONS.RETAKE,onFinished:(t,n)=>{e.onFinished(t,n),y.end()},onCancel:()=>y.end(),img:(0,o.default)(t,"blob"),cropShape:e.editCropShape})})}return(0,m.jsx)(v,{flow:y,children:j})};var i=n(122583),o=r(n(670983)),a=r(n(905832)),l=n(323795),s=n(858770),d=r(n(932325)),u=v(n(213462)),c=v(n(288057)),f=n(118612),h=n(114850),p=n(667294),g=n(839062),m=n(785893);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const x=n(76672).Mirrored(["Capture","Guide","EditImage"])},82557:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,d.useFlow)(c.GroupMessageInfo,{transitions:d.FlowTransitions.DrawerRight}),[r,f]=(0,s.useState)();if(null==n.step)return null;let h;switch(n.step){case c.GroupMessageInfo:h=(0,u.jsx)(a.default,{msg:e.msg,onProductClick:e=>{f(e),n.push(c.ProductDetails)}});break;case c.ProductDetails:h=(0,u.jsx)(l.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:(0,o.getChat)(e.msg),product:(0,i.default)(r,"product"),onEnd:()=>n.pop()})}return(0,u.jsx)(t,{flow:n,children:h})};var i=r(n(670983)),o=n(163755),a=r(n(58465)),l=n(639793),s=n(667294),d=n(839062),u=n(785893);const c=n(76672).Mirrored(["GroupMessageInfo","ProductDetails"])},390849:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(348926)),o=n(239523),a=n(103440),l=n(581354),s=r(n(329982)),d=r(n(667845)),u=r(n(147158)),c=r(n(932325)),f=r(n(682026)),h=n(114850),p=n(21645),g=n(693741),m=n(625786),C=n(390737),v=n(548360),x=n(785893);class y extends s.default{constructor(){var e;super(...arguments),e=this,this._handleSendInvite=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;h.ModalManager.close(),Promise.all(e.props.participantNeedInvite.map(function(){var r=(0,i.default)((function*(r){const{contact:i,invite_code:a,invite_code_exp:s}=r,u=yield(0,l.findChat)(i.id,"groupsV4InviteFlow"),c=e.props.groupGid.toString(),f=d.default.assertGet(c);return(yield(0,o.sendGroupInviteMessage)(u,c,e.props.subject,a||"",s,t,n))===g.SendMsgResult.OK&&(f.pendingParticipants.add({id:i.id}),!0)}));return function(){return r.apply(this,arguments)}}())).then((e=>{const t=e.filter(Boolean).length;C.ToastManager.open((0,x.jsx)(m.Toast,{msg:c.default.t(717,{num:t,_plural:t})}))}))},this._addInviteCommment=e=>{this.push((0,x.jsx)(u.default,{participants:e,gid:this.props.groupGid,subject:this.props.subject,groupDesc:this.props.groupDesc,onClose:this._pop,onSend:this._handleSendInvite}))},this._pop=()=>{this.pop()}}componentDidMount(){const{participantNeedInvite:e}=this.props,t=this._getFormattedNames(e.map((e=>e.contact)),!0),n=c.default.t(358,{participant:t,_plural:e.length});this.push((0,x.jsx)(a.ConfirmPopup,{onOK:this._addInviteCommment.bind(this,e),okText:v.fbt._("Invite to group",null,{hk:"FbMSO"}),onCancel:this._pop,cancelText:v.fbt._("Cancel",null,{hk:"H0gNq"}),children:n}))}_getFormattedName(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.formattedUser:(0,x.jsx)(p.Name,{contact:e})}_getFormattedNames(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this._getFormattedName(e,t);const n=e.map((e=>this._getFormattedName(e,t)));return(0,f.default)(n,t)}}t.default=y,y.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none",displayName:"GroupsV4InviteFlow"}},418372:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,l.useFlow)(d.ImageSearch),[r,u]=(0,a.useState)(),[c,f]=(0,a.useState)();if(null==n.step)return null;let h;switch(n.step){case d.ImageSearch:h=(0,s.jsx)(o.default,{onCancel:()=>n.pop(),onImageSelected:(e,t)=>{u(e),f(t),n.push(d.ImageEdit)}});break;case d.ImageEdit:r&&null!=c&&(h=(0,s.jsx)(i.EditImageDrawer,{onCancel:()=>n.end(),attributionUrl:c,onFinished:(t,r)=>{e.onFinished(t,r),n.end()},onRetake:()=>n.pop(),retryText:i.RETRY_OPTIONS.NONE,img:r}))}return(0,s.jsx)(t,{flow:n,children:h})};var i=n(323795),o=r(n(120381)),a=n(667294),l=n(839062),s=n(785893);const d=n(76672).Mirrored(["ImageSearch","ImageEdit"])},592367:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(780549),o=n(198933),a=n(877171),l=n(177938),s=n(581354),d=n(165433),u=r(n(386315)),c=n(219548),f=n(427181),h=n(130756),p=n(548360),g=n(667294),m=n(839062),C=n(808446),v=n(785893);const x=n(76672).Mirrored(["NewChatDrawer","NewCommunityFlow","NewGroupFlow"]);function y(e,t){let{onEnd:n}=e;l.ContactCollection.ensureSorted();const[r,g]=(0,m.useFlow)(x.NewChatDrawer,{transitions:m.FlowTransitions.DrawerLeft,onEnd:n});(0,C.useListener)(i.Cmd,"end_flow",(()=>{g.end()}));const y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,s.findChat)(t.id,"newChatFlow").then((e=>{i.Cmd.openChatFromUnread(e).then((r=>{r&&(t.isMe&&d.UiMessageYourselfNewChatAction.logMessageYourselfOpenedEvent(e,n),a.ComposeBoxActions.focus(e))}))})),g.end()},b=()=>{g.push(x.NewGroupFlow)},j=()=>{g.push(x.NewCommunityFlow),o.UiCommunityCreationAction.startSession(h.COMMUNITY_CREATION_ENTRYPOINT_TYPE.CHATS_TAB),o.UiCommunityCreationAction.enter(h.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.CHATS_TAB)};if(null==g.step)return null;let E=null;switch(g.step){case x.NewChatDrawer:E=(0,v.jsx)(u.default,{title:p.fbt._("New chat",null,{hk:"36lSV2"}),onBack:()=>g.end(),onClick:y,onNewGroup:b,onNewCommunity:j});break;case x.NewGroupFlow:E=(0,v.jsx)(f.NewGroupFlowLoadable,{onCreateGroup:()=>g.end(),onEnd:g.pop});break;case x.NewCommunityFlow:E=(0,v.jsx)(c.NewCommunityFlowLoadable,{onBack:g.pop})}return(0,v.jsx)(r,{ref:t,flow:g,children:E})}var b=(0,g.forwardRef)(y);t.default=b},685066:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const{chat:r}=e,u=(0,i.default)(null===(t=r.groupMetadata)||void 0===t?void 0:t.groupInviteLink,"chat.groupMetadata?.groupInviteLink"),c=(null===(n=r.groupMetadata)||void 0===n?void 0:n.groupType)===o.GroupType.COMMUNITY?`${s.fbt._("Follow this link to join my WhatsApp community:",null,{hk:"1ezDlv"}).toString()} ${u}`:`${s.fbt._("Follow this link to join my WhatsApp group:",null,{hk:"4FZHrC"}).toString()} ${u}`;return(0,d.jsx)(l.default,{title:a.default.t(340),text:c})};var i=r(n(670983)),o=n(862159),a=r(n(932325)),l=r(n(210002)),s=n(548360),d=n(785893)},885507:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsFlow=function(e){const{initialStep:t=E.SettingsSteps.Settings,onEnd:n}=e,[r,f]=(0,P.useFlow)(t,{transitions:P.FlowTransitions.DrawerLeft,onEnd:n});if(null==f.step)return null;if(R(f.step))return void f.end();const p=()=>{f.pop()},k=e=>{if(!R(e)){switch(e){case E.SettingsSteps.Help:s.upload({reason:"help-page-opened",isHighPri:!0})}f.push(e)}};let L;switch(f.step){case E.SettingsSteps.Settings:L=(0,D.jsx)(_.default,{profileId:(0,T.getMaybeMeUser)(),onProfile:()=>f.push(E.SettingsSteps.Profile),onClose:p,onSettingClick:k});break;case E.SettingsSteps.Wallpaper:L=(0,D.jsx)(M.default,{onClose:p});break;case E.SettingsSteps.RequestAccountInfoSettings:L=(0,D.jsx)(u.default,{settings:S.default,onClose:p});break;case E.SettingsSteps.Blocked:L=(0,D.jsx)(i.default,{onClose:p});break;case E.SettingsSteps.Profile:{const e=(0,T.getMaybeMeUser)(),t=w.StatusCollection.assertGet(e),n=y.ProfilePicThumbCollection.assertGet(e),r=l.ContactCollection.assertGet(e);L=(0,D.jsx)(x.ProfileDrawerFlowLoadable,{status:t,profilePicThumb:n,contact:r,conn:a.Conn,onClose:p});break}case E.SettingsSteps.Notifications:L=(0,D.jsx)(g.default,{onClose:p});break;case E.SettingsSteps.MediaAutoDownload:L=(0,D.jsx)(h.default,{onClose:p});break;case E.SettingsSteps.Security:L=(0,D.jsx)(j.default,{onClose:p});break;case E.SettingsSteps.PrivacyVisiblityEditLastSeen:L=(0,D.jsx)(C.default,{onClose:p});break;case E.SettingsSteps.PrivacyVisiblityEditProfilePicture:L=(0,D.jsx)(v.default,{onClose:p,category:"profilePicture"});break;case E.SettingsSteps.PrivacyVisiblityEditAbout:L=(0,D.jsx)(v.default,{onClose:p,category:"about"});break;case E.SettingsSteps.PrivacyVisiblityEditGroupAdd:L=(0,D.jsx)(v.default,{onClose:p,category:"groupAdd"});break;case E.SettingsSteps.Calls:L=(0,D.jsx)(o.default,{onClose:p});break;case E.SettingsSteps.PrivacySettings:L=(0,D.jsx)(m.default,{onClose:p,onOpenVisibilityEditDrawer:e=>{switch(e){case"lastSeen":f.push(E.SettingsSteps.PrivacyVisiblityEditLastSeen);break;case"about":f.push(E.SettingsSteps.PrivacyVisiblityEditAbout);break;case"groupAdd":f.push(E.SettingsSteps.PrivacyVisiblityEditGroupAdd);break;case"profilePicture":f.push(E.SettingsSteps.PrivacyVisiblityEditProfilePicture)}},onOpenBlockedContacts:()=>{f.push(E.SettingsSteps.Blocked)},onOpenEphemeralityDrawer:()=>{f.push(E.SettingsSteps.DefaultEphemerality)},onOpenScreenLockDrawer:()=>{f.push(E.SettingsSteps.ScreenLock)},onOpenCallsDrawer:()=>{f.push(E.SettingsSteps.Calls)}});break;case E.SettingsSteps.DefaultEphemerality:L=(0,D.jsx)(d.default,{onClose:p,entryPoint:I.DISAPPEARING_MODE_ENTRY_POINT_TYPE.ACCOUNT_SETTINGS});break;case E.SettingsSteps.DesktopSettings:break;case E.SettingsSteps.Help:L=(0,D.jsx)(c.default,{onClose:p});break;case E.SettingsSteps.Developer:case E.SettingsSteps.DataSharing:break;case E.SettingsSteps.ScreenLock:L=(0,D.jsx)(b.default,{onBack:p})}return(0,D.jsx)(r,{flow:f,children:L})};var i=r(n(633631)),o=r(n(664920)),a=n(445729),l=n(177938),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(996588)),d=r(n(41493)),u=r(n(506211)),c=(r(n(97359)),r(n(647654))),f=r(n(494843)),h=r(n(664287)),p=n(114850),g=r(n(330635)),m=r(n(519996)),C=r(n(43496)),v=r(n(203824)),x=n(937445),y=n(446474),b=r(n(96771)),j=r(n(426336)),E=n(73016),_=r(n(737303)),S=r(n(634152)),w=n(476473),k=r(n(85463)),T=n(459857),M=r(n(648215)),I=n(130756),P=n(839062),D=n(785893);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function R(e){switch(e){case E.SettingsSteps.Theme:return p.ModalManager.open((0,D.jsx)(k.default,{})),!0;case E.SettingsSteps.KeyboardShortcuts:return p.ModalManager.open((0,D.jsx)(f.default,{})),!0;default:return!1}}},300904:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{communityMetadata:t}=e,n=(0,c.getCommunityAdminPromotionNuxKey)(t.id.toString()),[,,r]=(0,g.default)(n),[v,x]=(0,p.useFlow)(C.PromotionNotification);if(null==x.step)return null;let y;switch(x.step){case C.PromotionNotification:y=(0,m.jsx)(o.default,{onDemote:()=>{x.push(C.Demote)},onContinue:()=>{r(),x.end()}});break;case C.Demote:{const e=(0,f.isMeAccount)(t.owner),n=n=>{(0,l.logCadminDemoteEvent)(h.CADMIN_DEMOTE_ORIGIN_TYPE.PROMOTION_NOTIFICATION,n,1===t.participants.getAdmins().length||e)},o=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n(e?h.CADMIN_DEMOTE_RESULT_TYPE.RETRY_CANCEL:h.CADMIN_DEMOTE_RESULT_TYPE.CANCEL),d.ModalManager.close()},c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r();const a=t.participants.getMeParticipant(),l=i.ChatCollection.get(t.id);a&&l&&(a.contact.pendingAction++,(0,u.demoteCommunityParticipants)(l,[a]).then((()=>{n(e?h.CADMIN_DEMOTE_RESULT_TYPE.RETRY_SUCCESS:h.CADMIN_DEMOTE_RESULT_TYPE.SUCCESS)})).catch((()=>{__LOG__(3,!0,void 0,!0)`Error sending demote community participants iq`,SEND_LOGS("community-admin-self-demote-failed"),n(e?h.CADMIN_DEMOTE_RESULT_TYPE.RETRY_FAILURE:h.CADMIN_DEMOTE_RESULT_TYPE.FAILURE),d.ModalManager.open((0,m.jsx)(s.CommunityAdminDemoteErrorPopup,{onParticipantDemote:()=>c(!0),onCancel:()=>o(!0),isMe:!0}))})).finally((()=>{a.contact.pendingAction--}))),e?d.ModalManager.close():x.end()};y=(0,m.jsx)(a.default,{onDemote:c,onCancel:o,onFailure:()=>{n(h.CADMIN_DEMOTE_RESULT_TYPE.FAILURE),x.pop()},isCommunityOwner:e});break}}return(0,m.jsx)(v,{flow:x,children:y})};var i=n(351053),o=r(n(937134)),a=r(n(488145)),l=n(378280),s=n(659862),d=n(114850),u=n(33014),c=n(95589),f=n(459857),h=n(130756),p=n(839062),g=r(n(157558)),m=n(785893);const C=n(76672).Mirrored(["PromotionNotification","Demote"])},324654:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(348926)),o=n(287461),a=n(351053),l=n(780549),s=r(n(946641)),d=n(286545),u=n(877171),c=n(900316),f=n(581354),h=r(n(726e3)),p=n(427181),g=n(382117),m=n(130756),C=n(818674),v=n(667294),x=r(n(829686)),y=r(n(847116)),b=n(839062),j=r(n(895851)),E=n(785893);const _=n(76672).Mirrored(["GROUPS_MANAGER","NEW_GROUP","EXISTING_GROUP"]);function S(e,t){const{joinedSubgroups:n,unjoinedSubgroups:r,subgroupCount:v}=(0,y.default)(e.parentGroupMetadata),S=(0,j.default)(),w=(0,x.default)((()=>{e.onBack?e.onBack():c.DrawerManager.closeDrawerRight()})),[k,T]=(0,b.useFlow)(_.GROUPS_MANAGER,{transitions:b.FlowTransitions.DrawerLeft,onEnd:w});function M(){return(M=(0,i.default)((function*(e){const t=yield e;T.pop(),null==t||S.aborted||(0,f.findChat)(t,"communityGroupsFlow").then((e=>{l.Cmd.openChatBottom(e).then((t=>{t&&u.ComposeBoxActions.focus(e)}))}))}))).apply(this,arguments)}if(null==T.step)return null;let I;switch(T.step){case _.GROUPS_MANAGER:I=(0,E.jsx)(d.CommunityHomeGroupsManager,{joinedSubgroups:n,unjoinedSubgroups:r,currentSubgroupCount:v,onBack:w,onNewGroupFlow:()=>T.push(_.NEW_GROUP),onExistingGroupFlow:()=>T.push(_.EXISTING_GROUP),parentId:e.parentGroupMetadata.id});break;case _.NEW_GROUP:I=(0,E.jsx)(p.NewGroupFlowLoadable,{onCreateGroup:function(){return M.apply(this,arguments)},onEnd:()=>T.pop(),parentGroupWid:e.parentGroupMetadata.id});break;case _.EXISTING_GROUP:{var P;const t=a.ChatCollection.get(e.parentGroupMetadata.id),i=(0,o.getABPropConfigValue)("parent_group_no_disclaimer")&&!0===(null==t||null===(P=t.groupMetadata)||void 0===P?void 0:P.isParentGroupClosed),l=null==t?void 0:t.formattedTitle;I=(0,E.jsx)(s.default,{onBack:()=>T.pop(),onSubmit:function(t){const i=new Set([...r,...n]),o=t.filter((e=>!i.has(e.id)));if(o.length){const t=new g.UiActionWamEvent({uiActionType:m.UI_ACTION_TYPE.COMMUNITY_LINK,uiActionPreloaded:!1});(0,h.default)(e.parentGroupMetadata.id,o.map((e=>e.id))).then((()=>{t.markUiActionT(),t.commit(),(0,C.logUiActionShadowPrivateStatsTestEvents)()}))}T.pop()},onCreateNewGroup:()=>T.push(_.NEW_GROUP),currentSubgroupCount:v,communityName:l,isParentGroupClosed:i});break}}return(0,E.jsx)(k,{flow:T,ref:t,children:I})}var w=(0,v.forwardRef)(S);t.default=w},943537:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(348926)),a=n(390934),l=r(n(670983)),s=n(287461),d=n(351053),u=n(780549),c=n(198933),f=r(n(946641)),h=n(174834),p=r(n(559721)),g=r(n(463164)),m=n(900316),C=r(n(667845)),v=n(862159),x=r(n(99398)),y=r(n(988256)),b=r(n(834431)),j=r(n(530513)),E=n(95589),_=n(625786),S=n(390737),w=n(130756),k=n(818674),T=n(548360),M=n(667294),I=r(n(829686)),P=n(839062),D=r(n(157558)),L=n(785893);const R=n(76672).Mirrored(["Info","GroupsManager","NewGroup","ExistingGroup"]);function O(e,t){const[n,r]=(0,M.useState)(""),[O,A]=(0,M.useState)((0,h.communityCreationNoAddGroupsScreenEnabled)()?T.fbt._("Hi everyone! This community is for members to chat in topic-based groups and get important announcements.",null,{hk:"2FnRPz"}).toString():""),[N,B]=(0,M.useState)(),[F,H]=(0,M.useState)(!1),[U,G]=(0,D.default)(E.NUX.COMMUNITY),z=(0,M.useRef)(!1),[q,V]=(0,M.useState)((()=>null==e.existingGroups||e.existingGroups.length<=0?[]:e.existingGroups.map((e=>{var t,n;const r=d.ChatCollection.get(e);return null==r?null:{id:e,subject:null!==(t=r.formattedTitle)&&void 0!==t?t:"",participants:null===(n=r.groupMetadata)||void 0===n?void 0:n.participants,contact:r.contact}})).filter(Boolean))),[W,Y]=(0,M.useState)([]),Z=(0,I.default)((()=>{te(),U?c.UiCommunityCreationAction.dismiss():!1===z.current&&c.UiCommunityCreationAction.exit(),e.onBack?e.onBack():!1===z.current&&m.DrawerManager.closeDrawerLeft()})),[K,X]=(0,P.useFlow)(R.Info,{transitions:P.FlowTransitions.DrawerLeft,onEnd:Z}),Q=e=>U?w.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.COMMUNITY_NUX:e===R.Info?w.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.COMMUNITY_INFO:w.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.COMMUNITY_GROUPS_SUMMARY;function J(){c.UiCommunityCreationAction.createCommunityFail(Q(X.step))}function $(){return($=(0,o.default)((function*(e){const t=yield(0,g.default)((0,i.default)((0,i.default)({},e),{},{existingGroups:q,newGroups:W,onCommunityCreationFailure:J}));z.current=!0,(0,k.logUiActionShadowPrivateStatsTestEvents)(),null!=t&&(u.Cmd.openCommunityHome(t),c.UiCommunityCreationAction.createCommunitySuccess(Q(X.step),t.user))}))).apply(this,arguments)}const ee=(0,I.default)((e=>{H(!0),function(){$.apply(this,arguments)}(e)})),te=()=>{const e=Q(X.step);W.length&&c.UiCommunityCreationAction.createGroup(W.length,e),q.length&&c.UiCommunityCreationAction.linkGroup(W.length,e)};if(U)return(0,L.jsx)(p.default,{onContinue:()=>{c.UiCommunityCreationAction.getStarted(),G()},onBack:Z});function ne(e){if(!x.default.online)return S.ToastManager.open((0,L.jsx)(_.Toast,{msg:T.fbt._("Community could not be created. Check your internet connection and try again.",null,{hk:"25Od7i"})})),void J();ee(e)}if(null==X.step)return null;let re=null;switch(X.step){case R.Info:re=(0,L.jsx)(b.default,{name:n,description:O,imgBlob:N,loading:F,onBack:Z,existingGroups:q,onContinue:function(e,t,n){const i=X.step===R.Info&&(0,h.communityCreationNoAddGroupsScreenEnabled)(),o=e.trim();r(o),A(t),B(n),i?ne({name:o,desc:t,icon:n}):(X.push(R.GroupsManager),c.UiCommunityCreationAction.next())},onExistingGroupsChanged:V});break;case R.GroupsManager:re=(0,L.jsx)(y.default,{name:n,description:O,imgBlob:N,loading:F,onBack:()=>X.pop(),onNewGroupFlow:()=>X.push(R.NewGroup),onExistingGroupFlow:()=>X.push(R.ExistingGroup),onRemoveGroup:function(e){const t=W.filter((t=>t.tempId!==e)),n=q.filter((t=>t.id.toString()!==e));W.length!==t&&Y(t),q.length!==n&&V(n)},onCreateCommunity:function(){c.UiCommunityCreationAction.createCommunity(w.COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.COMMUNITY_GROUPS_SUMMARY),ne({name:n,desc:O,icon:N})},groups:[...q,...W]});break;case R.NewGroup:re=(0,L.jsx)(j.default,{onBack:()=>X.pop(),onSubmit:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=(0,a.randomHex)(8);Y((t=>[{tempId:i,subject:e,icon:n,ephemeralDuration:r},...t])),X.pop()},communityName:n});break;case R.ExistingGroup:{const e=new Set(q.filter((e=>{let{id:t}=e;const n=C.default.get(t.toString());return(null==n?void 0:n.groupType)!==v.GroupType.DEFAULT_ANNOUNCEMENT_GROUP})).map((e=>{let{id:t}=e;return t})));re=(0,L.jsx)(f.default,{onBack:()=>X.pop(),onSubmit:function(e){const t=e.map((e=>{var t;const n=(0,l.default)(d.ChatCollection.get(e.id.toString()),"ChatCollection.get(contact.id.toString())");return{id:e.id,subject:n.title(),participants:null===(t=n.groupMetadata)||void 0===t?void 0:t.participants,contact:e}}));V([...q,...t]),X.pop()},addedExistingGroups:e,currentSubgroupCount:q.length+W.length+1,onCreateNewGroup:()=>X.push(R.NewGroup),communityName:n,isCommunityCreation:!0,isParentGroupClosed:(0,s.getABPropConfigValue)("parent_group_no_disclaimer")});break}}return(0,L.jsx)(K,{ref:t,flow:X,displayName:"NewCommunityFlow",children:re})}var A=(0,M.forwardRef)(O);t.default=A},790590:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,d.useFlow)(h.StatusV3Main),[n,r]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[m,C]=(0,s.useState)(void 0),[v,x]=(0,s.useState)(void 0),y=(0,u.default)((()=>Math.round(1e9*Math.random()))),b=e=>{e?t.end():t.pop()},j=(e,n,i,o)=>{r(e),g(n),C(i),x(o),t.push(h.StatusV3Viewer,"none")};if((0,c.useListener)(i.Cmd,"close_status_viewer",(()=>{b(!0)})),null==t.step)return null;let E=null;switch(t.step){case h.StatusV3Main:E=(0,f.jsx)(o.default,{onOpenStatus:j,closeStatusViewer:b,sessionId:y.current});break;case h.StatusV3Viewer:(0,l.default)(null!=n,"This will never be null"),E=(0,f.jsx)(a.default,{initialStatusV3:n,initialStatusMsg:p,closeStatusViewer:b,sessionId:y.current,rowIdx:m,rowSection:v,continuousPlay:!0})}return(0,f.jsx)(e,{flow:t,children:E})};var i=n(780549),o=r(n(546922)),a=r(n(564479)),l=r(n(441143)),s=n(667294),d=n(839062),u=r(n(637660)),c=n(808446),f=n(785893);const h=n(76672).Mirrored(["StatusV3Main","StatusV3Viewer"])},896524:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.HistorySyncSettingItem=function(){const e=(0,f.useModelValues)((0,s.getHistorySyncProgress)(),["inProgress","paused","progress"]),t=e.progress;if(!e.inProgress)return null;if(e.paused)return(0,h.jsx)(o.DrawerButtonSimple,{testid:"li-history-sync-paused",theme:"settings-drawer",onClick:()=>u.ModalManager.open((0,h.jsx)(l.default,{})),icon:(0,h.jsx)(i.AlertSyncPausedIcon,{width:24,height:24}),secondaryChildren:(0,d.SYNCING_PAUSED_GLOBAL_SETTINGS_SUBTITLE)(),children:(0,d.SYNCING_PAUSED_GLOBAL_SETTINGS_TITLE)()});return(0,h.jsx)(o.DrawerButtonSimple,{testid:"li-history-sync-in-progress",theme:"settings-drawer",onClick:()=>u.ModalManager.open((0,h.jsx)(a.default,{})),icon:(0,h.jsx)(c.SyncInProgressIcon,{}),secondaryChildren:null==t?null:(0,d.SYNCING_OLDER_MESSAGES_SETTINGS_PERCENT_COMPLETE)(t),children:(0,d.SYNCING_OLDER_MESSAGES_SETTINGS_TITLE)()})};var i=n(777619),o=n(36045),a=r(n(254583)),l=r(n(379802)),s=n(894795),d=n(631588),u=n(114850),c=n(621944),f=n(655241),h=n(785893)},173845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const n=(0,r.useRef)(null);(0,i.useListener)(t,"mousedown",(()=>{n.current=self.performance.now()})),(0,i.useListener)(t,"mouseup",(()=>{n.current=null}));const o=(0,r.useCallback)((()=>{const t=n.current;return null!=t&&self.performance.now()-t>=e}),[e]);return o};var r=n(667294),i=n(808446)},695908:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.useSearchModel=function(e){const t=(0,o.useMemo)((()=>new e),[e]),[n,r]=(0,o.useState)(),a=(0,o.useCallback)(function(){var e=(0,i.default)((function*(e,n){const i=yield t.query(e,n);return r(i),i}));return function(){return e.apply(this,arguments)}}(),[t]);return{results:n,query:a,searchInstance:t}};var i=r(n(348926)),o=n(667294)},87086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSendIq=function(e,t){const[n,o]=(0,i.useState)(!1);return[n,()=>(o(!0),(0,r.deprecatedSendIq)(e,t).finally((()=>o(!1))))]};var r=n(67201),i=n(667294)},959673:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MerchantDetailsFormFlowLoadable=void 0;var i=r(n(348926)),o=r(n(114945)),a=r(n(97359)),l=r(n(205106)),s=r(n(544142)),d=n(785893);const u=(0,l.default)((0,i.default)((function*(){const e=yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,568471));return(0,a.default)(e)})),"MerchantDetailsFormFlow"),c=(0,o.default)({loader:u,loading:e=>(0,d.jsx)(s.default,{error:Boolean(e.error)})});t.MerchantDetailsFormFlowLoadable=c},25878:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaTheme=t.MediaEditor=void 0;var i=r(n(348926)),o=n(122583),a=r(n(670983)),l=n(28199),s=n(952543),d=n(780549),u=n(752253),c=r(n(194886)),f=r(n(908081)),h=r(n(324093)),p=n(488940),g=n(698210),m=n(690495),C=r(n(335540)),v=n(81644),x=(n(939674),r(n(287866))),y=n(358369),b=n(490836),j=n(695710),E=r(n(301667)),_=r(n(31579)),S=r(n(527539)),w=n(320561),k=n(477540),T=n(950079),M=n(272802),I=r(n(763560)),P=r(n(915373)),D=r(n(402420)),L=r(n(913466)),R=n(580716),O=n(675249),A=n(75421),N=n(937484),B=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ae(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(288057)),F=n(97858),H=n(373070),U=r(n(478163)),G=n(430484),z=n(956113),q=n(432938),V=n(501372),W=r(n(397778)),Y=n(625786),Z=n(390737),K=n(130756),X=n(140960),Q=n(843274),J=r(n(867109)),$=n(548360),ee=n(667294),te=(r(n(156720)),r(n(969651))),ne=r(n(637660)),re=n(808446),ie=r(n(895851)),oe=n(785893);function ae(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ae=function(e){return e?n:t})(e)}const{IMAGE:le,VIDEO:se,AUDIO:de,STICKER:ue,DOCUMENT:ce}=H.MSG_TYPE,fe=3*M.DEFAULT_FONT_SIZE,he=n(76672).Mirrored(["ATTACH","CAPTURE"]);function pe(e,t){var n,r;const{onClose:H=(()=>{}),theme:ae=he.ATTACH,sendAsSticker:pe=!1,chat:ge,mediaCollection:me,initCaption:Ce,onDropText:ve,onSendMedia:xe}=e,[ye,be]=(0,ee.useState)((()=>(0,y.getColorValue)(y.ColorType.BLUE))),[je,Ee]=(0,ee.useState)(null!=pe&&pe?j.ThicknessType.XLARGE:j.ThicknessType.SMALL),[_e,Se]=(0,ee.useState)(!0),[we,ke]=(0,ee.useState)((()=>(0,y.getColorValue)(y.ColorType.BLACK))),[Te,Me]=(0,ee.useState)(b.FontType.SANS_SERIF),[Ie,Pe]=(0,ee.useState)(b.TextAlignment.CENTER),[De,Le]=(0,ee.useState)(!0),[Re,Oe]=(0,ee.useState)(!1),[Ae,Ne]=(0,ee.useState)(!1),[Be,Fe]=(0,ee.useState)(!1),[He,Ue]=(0,ee.useState)(null),[Ge,ze]=(0,ee.useState)(null),[qe,Ve]=(0,ee.useState)(!1),[We,Ye]=(0,ee.useState)(null),[Ze,Ke]=(0,ee.useState)(null),[Xe,Qe]=(0,ee.useState)(!1),[Je,$e]=(0,ee.useState)(null!=pe&&pe),et=(0,ee.useRef)(),tt=(0,ee.useRef)(),nt=(0,ee.useRef)(),rt=(0,ee.useRef)(),it=(0,ee.useRef)(null==Ce?void 0:Ce.text),ot=(0,ee.useRef)(),at=(0,ee.useRef)(R.BLUR_DEFAULT_MODE),lt=(0,ee.useRef)(R.BLUR_DEFAULT_RADIUS),st=(0,ne.default)((()=>new Map)),dt=(e,t)=>{st.current.set(e,t)},ut=(0,ne.default)((()=>new Map)),ct=(0,ne.default)((()=>new Map)),ft=(e,t)=>{ct.current.set(e,t)},ht=(0,te.default)(),pt=(0,ie.default)();me.isStickerMaker=Je,(0,re.useListener)(me,["add","remove","reset"],ht),(0,re.useListener)(me,["active-change","change:state","change:previewable"],(()=>{if(!me.canSend())return;const{errorMsgs:e}=me.uiProcessMsgs();e&&(Z.ToastManager.open((0,oe.jsx)(Y.Toast,{msg:e})),0===me.getPreviewableMedias().length&&H()),ht()}));(0,re.useListener)(d.Cmd,"toggle_sticker_maker",(()=>{const e=!Je&&1===me.length&&(null===(t=me.at(0))||void 0===t?void 0:t.type)===le;var t;$e(e),Ee(e?j.ThicknessType.XLARGE:j.ThicknessType.SMALL)})),(0,ee.useEffect)((()=>{var e;return null===(e=rt.current)||void 0===e||e.focus(),()=>{ot.current&&self.clearTimeout(ot.current)}}),[]),(0,ee.useEffect)((()=>{me.isStickerMaker=Je}));const gt=()=>rt.current,mt=()=>{var e;return!(null===(e=et.current)||void 0===e?void 0:e.resetUIState())&&(Ze?(Ye(null),Ke(null),!1):(H(),!0))};(0,ee.useImperativeHandle)(t,(()=>({getElement:gt,handleRequestDismiss:mt})));const Ct=me.getActive(),vt=it.current;let xt=qe;xt||He||null==vt||""===vt||!Ct||Ct.type!==le&&Ct.type!==se&&Ct.type!==ce||(Ct.caption=vt,xt=!0);const yt=null!==(n=null==Ct?void 0:Ct.canUndoMediaEditorData())&&void 0!==n&&n,bt=null!==(r=null==Ct?void 0:Ct.canRedoMediaEditorData())&&void 0!==r&&r;Ct!==Ge&&(ze(Ct),Ue(Ct),Ne(yt),Fe(bt),Ve(xt));const jt=()=>null==He?x.default.create():He.mediaEditorData,Et=()=>{var e,t;Ne(null!==(e=null==He?void 0:He.canUndoMediaEditorData())&&void 0!==e&&e),Fe(null!==(t=null==He?void 0:He.canRedoMediaEditorData())&&void 0!==t&&t)},_t=(e,t)=>{if(e!==jt()){var n,r,i;if(He)He.updateMediaEditorData(e,{undoable:null!==(n=null==t?void 0:t.undoable)&&void 0!==n&&n,lastAction:null!==(r=null==t?void 0:t.lastAction)&&void 0!==r?r:null}),Et();if(null==t?void 0:t.updatePreview)null===(i=et.current)||void 0===i||i.updatePreview();__LOG__(2)`MediaEditor: Updated MediaEditorData`}},St=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(He&&He.canUndoMediaEditorData()){var t,n;const r=He.lastMediaEditorAction;He.undoMediaEditorData(e);const i=He.lastMediaEditorAction;Et(),null===(t=et.current)||void 0===t||t.updatePreview(),null===(n=et.current)||void 0===n||n.undoAction(r,i)}},wt=()=>{if(He&&He.canRedoMediaEditorData()){var e,t;const n=He.lastMediaEditorAction;He.redoMediaEditorData();const r=He.lastMediaEditorAction;Et(),null===(e=et.current)||void 0===e||e.updatePreview(),null===(t=et.current)||void 0===t||t.redoAction(r,n)}},kt=(e,t,n,r)=>{const i=(0,a.default)(et.current,"imageBodyRef.current").getCanvasScale(),o=t.width*i,l=t.height*i,s=Math.min(n/o,r/l),d=jt().addImageLayerToCenter({type:e,image:t,editable:!0,scale:s});_t(d,{updatePreview:!0,undoable:!0})},Tt=function(){var e=(0,i.default)((function*(e){try{const t=yield(0,O.createImageFromEmoji)(e);if(!t)return;const n=Je?128:64;kt(T.ImageLayerType.Emoji,t,n,n),Je&&new Q.WebcStickerMakerEventsWamEvent({stickerMakerEventName:K.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.EMOJI_ADDED}).commit()}catch(e){Z.ToastManager.open((0,oe.jsx)(Y.Toast,{msg:$.fbt._("Failed to add image",null,{hk:"1e7nnp"})}))}}));return function(){return e.apply(this,arguments)}}(),Mt=function(){var e=(0,i.default)((function*(e){try{const t=yield(0,O.createImageFromSticker)(e);kt(T.ImageLayerType.Sticker,t,128,128),Je&&new Q.WebcStickerMakerEventsWamEvent({stickerMakerEventName:K.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_ADDED}).commit()}catch(e){Z.ToastManager.open((0,oe.jsx)(Y.Toast,{msg:$.fbt._("Failed to add image",null,{hk:"1e7nnp"})}))}}));return function(){return e.apply(this,arguments)}}(),It=()=>{const e=jt().clearSelectedLayer();_t(e)},Pt=()=>{const e=jt().clearSelectedLayer();_t(e)},Dt=()=>{const e=null===(t=et.current)||void 0===t?void 0:t.getBackground();var t;const n=jt();if(!e||n.outlineLayer.isEmpty())return;const r=n.cropCenter,{width:i,height:o}=e,a=new _.default({x:r.x-i/2,y:r.y-o/2}),l=-n.rotation,d=Math.max(i,o),u=n.cropSize.dimension,c=n.updateBackground(e,a,l,u*((q.STICKER_DIMENSION-2*q.STICKER_PADDING)/q.STICKER_DIMENSION)/d).clearOutlinePaths();_t(c,{undoable:!0,updatePreview:!0,lastAction:s.MediaEditorAction.OutlineDone}),Je&&new Q.WebcStickerMakerEventsWamEvent({stickerMakerEventName:K.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_OUTLINED}).commit()},Lt=()=>{const e=jt().clearOutlinePaths();_t(e,{undoable:!0,updatePreview:!0})},Rt=(e,t,n)=>{const r=jt().setRotation(e).setCrop(t,n);_t(r,{undoable:!0,updatePreview:!0,lastAction:s.MediaEditorAction.CropRotateCanvas}),Je&&new Q.WebcStickerMakerEventsWamEvent({stickerMakerEventName:K.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_CROPPED}).commit()},Ot=e=>{const{selectedLayer:t}=jt();if(t instanceof k.BlurLayer){const n=jt().setBlurMode(t,e);_t(n,{updatePreview:!0,undoable:!0}),at.current=e}},At=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{selectedLayer:n}=jt();if(n instanceof k.BlurLayer){const r=jt().setBlurRadius(n,e);_t(r,{updatePreview:!0,undoable:t}),lt.current=e}},Nt=()=>{const e=jt().selectedLayer;if(e instanceof k.BlurLayer&&!e.confirmed)St(!1);else{var t,n;const e=jt().clearSelectedLayer();_t(e),((e,t,n,r)=>{const i=(0,a.default)(et.current,"imageBodyRef.current").getCanvasScale(),o=(0,a.default)(et.current,"imageBodyRef.current").getCanvasSize(),l=Math.min(o.width,200/i),s=Math.min(o.height,100/i),d=jt().addBlurLayerToCenter({image:e,size:new S.default({width:l,height:s}),mode:t,radius:n,backgroundFrame:r});_t(d,{updatePreview:!0,undoable:!0})})((0,a.default)(null===(t=jt().background)||void 0===t?void 0:t.image,"getData().background?.image"),at.current,lt.current,(0,a.default)(null===(n=jt().background)||void 0===n?void 0:n.frame,"getData().background?.frame"))}},Bt=e=>{be(e)},Ft=e=>{Ee(e)},Ht=e=>{Se(e)},Ut=()=>{_t(jt().clearSelectedLayer())},Gt=()=>{if(We)return;Ut();let e=1.2/(0,a.default)(et.current,"imageBodyRef.current").getCanvasScale();if(Je){const t=jt().cropSize.dimension;e=fe*t/q.STICKER_DIMENSION/M.DEFAULT_FONT_SIZE}const t={origin:jt().cropCenter,text:"",textColor:we,textBackground:De,alignment:Ie,font:Te,scale:e},n=jt().addTextLayer(t),r=(0,a.default)(n.lastTextLayer,"data.lastTextLayer");Ke(r),Ye(null)},zt=e=>{Me(e);const{selectedLayer:t}=jt();if(Ze)Ke(Ze.setFont(e));else if(t&&t instanceof M.TextLayer){const n=jt().setFont(t,e);_t(n,{updatePreview:!0,undoable:!0})}},qt=e=>{Pe(e);const{selectedLayer:t}=jt();if(Ze)Ke(Ze.setAlignment(e));else if(t&&t instanceof M.TextLayer){const n=jt().setAlignment(t,e);_t(n,{updatePreview:!0,undoable:!0})}},Vt=e=>{ke(e);const{selectedLayer:t}=jt();if(Ze)Ke(Ze.setTextColor(e));else if(t&&t instanceof M.TextLayer){const n=jt().setTextColor(t,e);_t(n,{updatePreview:!0,undoable:!0})}},Wt=()=>{const e=!De;Le(e);const{selectedLayer:t}=jt();if(Ze)Ke(Ze.setTextBackground(e));else if(t&&t instanceof M.TextLayer){const n=jt().setTextBackground(t,e);_t(n,{updatePreview:!0,undoable:!0})}},Yt=e=>{Ke(e),Ye(e)},Zt=(e,t)=>{var n;if(t){let e=jt();const n=(0,a.default)(Ze,"draftTextLayer").setText(t);We?e=e.updateLayer((0,a.default)(We,"currentlyEditingTextLayer"),n):(e=e.addTextLayer(n),Je&&new Q.WebcStickerMakerEventsWamEvent({stickerMakerEventName:K.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.TEXT_ADDED}).commit()),_t(e,{updatePreview:!0,undoable:!0})}else We&&_t(jt().deleteLayer(We),{updatePreview:!0,undoable:Boolean(e.text)});self.setTimeout((()=>{Ke(null),Ye(null)}),0),null===(n=rt.current)||void 0===n||n.focus()},Kt=e=>{_t(jt().addPaintPath(e),{undoable:!0,updatePreview:!0})},Xt=e=>{_t(jt().addOutlinePath(e),{undoable:!0,updatePreview:!0,lastAction:s.MediaEditorAction.Outline})},Qt=e=>{if(!e.editable)return;let t=jt().setSelectedLayer(e);e instanceof k.BlurLayer&&(e.confirmed||(t=t.updateLayer(e,e.setConfirmed())),at.current=e.mode,lt.current=e.radius),_t(t),e instanceof M.TextLayer&&(ke(e.textColor),Le(e.textBackground),Me(e.font))},Jt=(e,t)=>{const n=e instanceof T.ImageLayer&&e.isBackground();_t(n?jt().translateBackground(t):jt().translateLayer(e,t),{updatePreview:!0,undoable:!0})},$t=(e,t,n,r)=>{const i=e instanceof T.ImageLayer&&e.isBackground();_t(i?jt().transformBackground(t,n):jt().transformLayer(e,t,n,r),{updatePreview:!0,undoable:!0})},en=e=>{const t=jt().deleteLayer(e);_t(t,{updatePreview:!0,undoable:!0})},tn=e=>{(0,p.getFiles)(e).then((t=>{if(pt.aborted)return;let n;return e.shiftKey&&e.altKey&&1===t.length&&($e(!0),Ee(j.ThicknessType.XLARGE),n=!0),me.processAttachments(t.map((e=>({file:e,stickerMaker:n}))),K.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)})).catch((0,o.filteredCatch)(B.MediaDragDropError,(e=>{me.length||ve(e.src)}))),e.target.value&&(e.target.value="")},nn=e=>{Xe||Je||tn(e)},rn=(e,t)=>{Xe||Je||(Oe(e),e||t||me.length||H())},on=e=>{if(!He)return;const t=me.indexOf(He);He.updateCaption(e),0===t&&""===e&&qe&&Ve(!1);const n=ct.current.get(He.id);n&&ut.current.set(He.id,n.editorContent())},an=e=>{const t=e.getFiles().filter((e=>{const t=(0,g.typeFromMimetype)(e.type);return"image"===t||"video"===t})).map((e=>({file:e})));me.processAttachments(t,K.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},ln=e=>{e.preventDefault(),e.stopPropagation();const t=new c.default(e.clipboardData);t.hasFiles()&&an(t)},sn=()=>{if(tt.current){tt.current.click()}},dn=()=>{var e;const t=ge.contact.isEnterprise;return 1===me.length&&!0===(null===(e=me.at(0))||void 0===e?void 0:e.isViewableOnce())&&!t&&!pe},un=e=>{if(null==e||e.preventDefault(),null==e||e.stopPropagation(),!me.canSend())return;const t=me.getPreviewableMedias();if(0===t.length)return void H();var n;((null==He?void 0:He.mediaEditorData.hasEdits())||Je)&&(null===(n=et.current)||void 0===n||n.updatePreview({immediately:!0}));const r=[];t.forEach((e=>{if(e.editedFile&&(e.mediaEditorData.hasEdits()||Je)){const t=me.replace(e.id,{file:e.editedFile,asSticker:Je});r.push(t)}})),Promise.all(r).then((()=>{const e=me.getPreviewableMedias();if(0===e.length)return;const n=e.map((e=>{var t,n;let r=null===(t=e.caption)||void 0===t?void 0:t.trim(),i=[],o=[];const a=ut.current.get(e.id);if(a){const{text:e,data:t}=a;e.length&&(r=e.trim(),i=t.mentionedJidList||[],o=t.groupMentions||[])}return e.caption=null!==(n=r)&&void 0!==n?n:void 0,{media:e,mentionedJidList:i,groupMentions:o}}));xe(n,{initCaptionUsed:qe,isViewOnce:dn()&&Xe}),(e=>{if(Je)return new V.StickerSendWamEvent({stickerSendOrigin:K.STICKER_SEND_ORIGIN_TYPE.STICKER_MAKER,stickerIsAnimated:!1,stickerIsFirstParty:!1,stickerIsFromStickerMaker:!0}).commit(),void new Q.WebcStickerMakerEventsWamEvent({stickerMakerEventName:K.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.SEND_STICKER}).commit();let t=0,n=0,r=0,i=0,o=0,a=0,l=0;e.forEach((e=>{const s=e.mediaEditorData;e.type===le&&(t++,s.hasEdits()&&n++,s.paintLayer.paths.length>0&&r++,s.layers.some((e=>e instanceof k.BlurLayer))&&l++),s.layers.forEach((e=>{e instanceof T.ImageLayer?(e.isEmoji()&&i++,e.isSticker()&&o++):e instanceof M.TextLayer&&a++}))})),new X.WebcMediaEditorSendWamEvent({imageCount:t,editedImageCount:n,paintedImageCount:r,blurImageCount:l,emojiLayerCount:i,stickerLayerCount:o,textLayerCount:a}).commit()})(t)}))},cn=()=>{if(!He)return;const e=st.current.get(He.id);e&&e.scrollIntoView()},fn=(e,t)=>{if(!He||t.repeat||Ze)return;const n=He&&!He.caption,r=ct.current.get(He.id);let i=!1;r&&(i=!n&&r.isFocused()&&(!r.isCursorAtStart()||"left"!==e)&&(!r.isCursorAtEnd()||"right"!==e)),i||(t.preventDefault(),t.stopPropagation(),"left"===e?me.setPrevAsActive()&&cn():me.setNextAsActive()&&cn())},hn=e=>{me.setActive(e)},pn=(e,t)=>{t.stopPropagation(),t.preventDefault(),me.remove(e),0===me.getValidMedias().length?ot.current=self.setTimeout((()=>{H()}),200):nt.current&&C.default.focus(nt.current)},gn=e=>{Qe(e)};let mn,Cn=me.getPreviewableMedias();const vn=(0,A.getMaxNumberSelectableMedia)(Cn.length);Cn.length>vn&&(Cn=Cn.slice(0,vn)),me.canSend()?He&&(mn=(e=>{let t=null;switch(e.type){case ue:case le:t=(0,oe.jsx)(w.ImageBody,{ref:et,attachMedia:e,chat:ge,onCaptionChange:on,onClose:ae===he.CAPTURE?null:H,onEnter:un,setCaptionInputRef:ft,paintColor:ye,paintThickness:je,outlineSmoothing:_e,canUndo:Ae,canRedo:Be,currentlyEditingTextLayer:We,draftTextLayer:Ze,viewOnce:Xe,viewOnceDisabled:!dn(),sendAsSticker:Je,onPaintSelect:It,onOutlineSelect:Pt,onOutlineDone:Dt,onOutlineReset:Lt,onTextSelect:Gt,onTextBackgroundToggle:Wt,onEmojiSelect:Tt,onStickerSelect:Mt,onLayerSelect:Qt,onLayerUnselect:Ut,onLayerDelete:en,onLayerTranslate:Jt,onLayerTransform:$t,onTextEditingStart:Yt,onTextEditingEnd:Zt,onTextColorSelect:Vt,onFontSelect:zt,onAlignmentSelect:qt,onPaintColorSelect:Bt,onPaintThicknessSelect:Ft,onOutlineSmoothingToggle:Ht,onCropRotateCanvas:Rt,onBlurModeChange:Ot,onBlurRadiusChange:At,onBlurSelect:Nt,onUndo:St,onRedo:wt,onPaintDrawEnd:Kt,onOutlineDrawEnd:Xt,onToggleViewOnce:gn,onFiles:an},e.mediaEditorData.id);break;case se:t=(0,oe.jsx)(L.default,{attachMedia:e,chat:ge,viewOnce:Xe,viewOnceDisabled:!dn(),setCaptionInputRef:ft,onCaptionChange:on,onClose:H,onEnter:un,onToggleViewOnce:gn,onFiles:an},e.id);break;case de:t=(0,oe.jsx)(I.default,{item:e,onClose:H},e.id);break;default:t="pdf"===(0,N.previewType)(e.mimetype)?(0,oe.jsx)(D.default,{item:e,onClose:H,attachMedia:e,chat:ge,setCaptionInputRef:ft,onCaptionChange:on,onEnter:un,onToggleViewOnce:gn,onFiles:an},e.id):(0,oe.jsx)(P.default,{mimeType:e.mimetype,filesize:e.filesize,filename:e.filename,fileExt:e.fileExt,onClose:H,attachMedia:e,chat:ge,setCaptionInputRef:ft,onCaptionChange:on,onEnter:un,onToggleViewOnce:gn,onFiles:an},e.id)}return t})(He)):mn=(0,oe.jsx)("div",{className:J.default.spinner,children:(0,oe.jsx)(z.Spinner,{color:"highlight"},"processing")});const xn=Re?(0,oe.jsx)("div",{className:J.default.dropOverlay,children:(0,oe.jsx)("div",{className:J.default.dropOverlayOutline,children:$.fbt._("Drag file here",null,{hk:"y9aHs"})})},"container"):null,yn="*"===N.DOC_MIMES?"*":[N.IMAGE_MIMES].join();let bn;if(null!=mn){let e;if(Cn.length>0&&(e=(0,oe.jsx)("div",{className:J.default.sendButton,tabIndex:"-1",ref:nt,onKeyPress:e=>e.preventDefault(),children:(0,oe.jsx)(U.default,{ariaLabel:$.fbt._("Send",null,{hk:"2JJUaP"}),large:!0,icon:(0,oe.jsx)(G.SendIcon,{directional:!0}),count:1===Cn.length?null:Cn.length,onClick:un,disabled:!me.canSend()})})),ae===he.CAPTURE)bn=(0,oe.jsx)("div",{className:J.default.captureFooter,children:e});else{const t=!Xe&&!Je&&Cn.length<vn,n=l.AddAltIcon,r=Je?null:(0,oe.jsx)(W.default,{className:(0,u.cx)({[J.default.addMediaButtonDisabled]:!t,[J.default.addMediaButton]:!0}),disabled:!t,Icon:n,title:$.fbt._("Add file",null,{hk:"4Gvj3D"}),onClick:sn,"aria-label":$.fbt._("Add file",null,{hk:"4Gvj3D"})},"media-more");let i;Cn.length>0&&(i=(0,oe.jsxs)(m.FlexRow,{className:J.default.filmstripContainer,justify:"center",align:"start",children:[(0,oe.jsx)(E.default,{className:J.default.thumbs,mediaCollection:me,onClick:hn,onClose:pn,onElementRef:dt}),r]})),bn=(0,oe.jsxs)("div",{className:J.default.footer,children:[i,e]})}}const jn=(0,u.cx)({[J.default.previewOnly]:(null==He?void 0:He.type)!==le,[J.default.documentPreview]:(0,F.documentWithCaptionsSendEnabled)()&&(null==He?void 0:He.type)===ce,[J.default.container]:!0});let En=(0,oe.jsxs)(m.FlexColumn,{className:jn,align:"stretch",children:[xn,mn,bn,(0,oe.jsx)("input",{ref:tt,type:"file",accept:yn,style:{display:"none"},onChange:tn,multiple:!0})]});ae===he.ATTACH&&(En=(0,oe.jsx)(f.default,{theme:"media",onDrop:nn,onDragChange:rn,children:(0,oe.jsx)(h.default,{tabIndex:"-1",overflow:"hidden",onPaste:ln,children:En})},"attach-image-modal"));const _n=ae===he.CAPTURE?"ppled2lx ln8gz9je":"";return(0,oe.jsx)(v.HotKeys,{className:_n,handlers:{enter:e=>{var t;if(!He)return;if(e.repeat)return;if(e.shiftKey)return;if(Ze)return;const{selectedLayer:n}=jt();if(n instanceof M.TextLayer)return e.preventDefault(),e.stopPropagation(),void Yt(n);(null===(t=et.current)||void 0===t?void 0:t.resetUIState())||un()},left:e=>fn("left",e),right:e=>fn("right",e)},ref:rt,children:En})}t.MediaTheme=he;const ge=(0,ee.forwardRef)(pe);t.MediaEditor=ge,ge.displayName="MediaEditor"},278791:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const{caption:r,setCaptionInputRef:d,onEnter:I}=e,P=(0,S.useRef)(null),D=(0,S.useRef)(null),[L,R]=(0,S.useState)(null),{isKeyboardUser:O}=(0,j.default)(),A=()=>{var e;null===(e=P.current)||void 0===e||e.focus()};(0,S.useEffect)((()=>{A()}),[]);const N=()=>{R(null),O&&A()},B=e=>{const t=P.current;t&&(t.focus(),t.replaceSelection(e)),O&&N()},F=(0,i.numCodepoints)(e.caption||""),H=a.default.MAX_CAPTION_LENGTH-F<50,U=null!=r&&""!==r?(0,k.jsx)(b.default,{className:(0,w.default)(T.inputButton),onClick:()=>{var e;null===(e=P.current)||void 0===e||e.reset(),A()},title:_.fbt._("Clear caption",null,{hk:"1MEvgr"}),children:(0,k.jsx)(E.XAltIcon,{})}):null,G=H&&(0,k.jsx)("div",{className:T.charCounter,children:p.default.n(a.default.MAX_CAPTION_LENGTH-F)});let z=null;L&&(z=(0,k.jsx)(x.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,ref:D,requestDismiss:N,children:(0,k.jsx)(y.default,{contextMenu:L})}));let q=null;"document"===e.theme||(0,m.isViewOnceSunsetEnabled)()||(q=(0,k.jsx)("div",{className:T.secondaryButtonContainer,children:(0,k.jsx)(o.default,{disabled:e.viewOnceDisabled,isOn:Boolean(e.viewOnce),mediaType:e.msgType,onChange:e.onToggleViewOnce,noMargin:!0})}));let V=e.chat.groupMetadata;(null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.groupType)!==h.GroupType.DEFAULT_ANNOUNCEMENT_GROUP||(0,g.shouldEnableGroupMentions)(V)||(V=null);const W=(0,k.jsx)(C.RichTextInput,{ref:e=>{P.current=e,d(e)},testid:"media-caption-input-container",initialText:r,placeholder:_.fbt._("Type a message",null,{hk:"4chl4F"}),title:_.fbt._("Type a message",null,{hk:"4chl4F"}),onChange:t=>e.onChange(t.parsableText),onEnter:e=>{var t;(null===(t=P.current)||void 0===t?void 0:t.isFocused())?I(e):I()},onFiles:e.onFiles,maxLength:a.default.MAX_CAPTION_LENGTH,maxVisibleLines:5,multiline:!0,spellCheck:!0,focusOnMount:!0,textFormatEnabled:!0,groupMetadata:V,xstyle:T.richTextInput,textXstyle:T.richTextInputText});let Y;const Z=null===(n=P.current)||void 0===n?void 0:n.editor;null!=Z&&(Y=(0,k.jsx)("div",{className:(0,w.default)(T.suggestionsPositioner),children:(0,k.jsxs)("div",{className:(0,w.default)(T.suggestionsContainer),children:[(0,k.jsx)(g.MentionSuggestions,{kind:v.SuggestionsPanelKind.MediaEditorCaption,editor:Z,groupMetadata:V,elevatedPushNamesEnabled:(0,s.elevatedPushNamesM2Enabled)(e.chat)}),(0,k.jsx)(c.EmojiSuggestions,{kind:v.SuggestionsPanelKind.MediaEditorCaption,editor:Z})]})}));return(0,k.jsxs)(f.FlexRow,{className:(0,w.default)(T.container),align:"center",justify:"center",children:[Y,(0,k.jsxs)(f.FlexRow,{align:"start",className:(0,w.default)(T.inputContainer,"document"===e.theme&&T.inputContainerForDoc,"video"===e.theme&&T.inputContainerForVideo),children:[W,(0,k.jsxs)(f.FlexRow,{className:(0,w.default)(T.buttonContainer),align:"center",children:[G,U,(0,k.jsx)(M,{onClick:e=>{e.preventDefault(),e.stopPropagation();const t=(0,k.jsx)(u.EmojiPanel,{onEmoji:B,onFocusNext:A,onFocusPrev:A});R({menu:t,dirY:l.DirY.TOP,type:l.MenuType.EmojiPicker,anchor:e.target}),A()}})]})]}),q,z]})};var i=n(370257),o=r(n(353884)),a=r(n(846870)),l=n(664149),s=n(235630),d=n(900164),u=n(637624),c=n(934740),f=n(690495),h=n(862159),p=r(n(932325)),g=n(597820),m=n(97858),C=n(150610),v=n(204875),x=n(392632),y=r(n(37875)),b=r(n(625903)),j=r(n(395967)),E=n(992934),_=n(548360),S=n(667294),w=r(n(156720)),k=n(785893);const T={container:{position:"g0rxnol2",width:"ln8gz9je",maxWidth:"o779q1nt",marginTop:"tt8xd2xn",marginEnd:"r9gcara8",marginBottom:"mpdn4nr2",marginStart:"je7dqiji"},inputContainer:{boxSizing:"cm280p3y",width:"ln8gz9je",minHeight:"gc15jzxb",paddingTop:"eujn52yf",paddingEnd:"l9g3jx6n",paddingBottom:"ckm995li",paddingStart:"lyvj5e2u",backgroundColor:"qpz0rf1m",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},inputContainerForVideo:{backgroundColor:"la59b5bx"},inputContainerForDoc:{backgroundColor:"d5zlj0ol"},buttonContainer:{minHeight:"tiex1193"},inputButton:{marginStart:"fooq7fky",color:"cs9t9or5"},charCounter:{marginStart:"fooq7fky",fontSize:"f8jlpxt4",color:"t3rh7lfs"},suggestionsPositioner:{position:"lhggkp7q",end:"b4u6kxhc",bottom:"c5zpj14d",start:"okbql4zm",height:"smvc51u0",paddingEnd:"itegkywt",paddingStart:"rppts313",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"tviruh8d"},suggestionsContainer:{position:"lhggkp7q",end:"citmgm7b",bottom:"s7ynmu90",start:"cheugonp"},secondaryButtonContainer:{marginStart:"fooq7fky"},richTextInput:{width:"ln8gz9je",marginTop:"iin4x6c7",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka",minHeight:"g4oj0cdv",color:"tviruh8d",wordWrap:"b6f1x6w7",whiteSpace:"bbv8nyr4",userSelect:"to2l77zo"},richTextInputText:{fontSize:"fe5nidar"}};function M(e){let{onClick:t}=e;return(0,k.jsx)(b.default,{onClick:t,className:(0,w.default)(T.inputButton),title:_.fbt._("Open emojis panel",null,{hk:"2MKtLP"}),children:(0,k.jsx)(d.EmojiInputIcon,{})})}},320561:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageBody=void 0;var i=n(952543),o=n(752253),a=n(419e3),l=n(690495),s=r(n(849664)),d=r(n(278791)),u=n(358369),c=n(490836),f=n(695710),h=r(n(31579)),p=r(n(527539)),g=n(477540),m=n(950079),C=n(272802),v=r(n(91801)),x=n(580716),y=r(n(500713)),b=r(n(429600)),j=n(160058),E=n(691984),_=r(n(442864)),S=n(905540),w=r(n(205370)),k=r(n(634452)),T=n(372682),M=n(373070),I=n(881839),P=n(163139),D=r(n(625903)),L=r(n(79291)),R=n(341386),O=r(n(530728)),A=r(n(556869)),N=n(548360),B=n(667294),F=r(n(710629)),H=r(n(969651)),U=n(808446),G=n(655241),z=n(785893);const q=new p.default({width:200,height:200}),V=(0,B.forwardRef)((function(e,t){const{paintColor:n,paintThickness:r,outlineSmoothing:V,onLayerDelete:W,onTextEditingStart:Y,onTextEditingEnd:Z,onOutlineDone:K,draftTextLayer:X,onLayerUnselect:Q,onPaintSelect:J,onCropRotateCanvas:$,onOutlineSelect:ee,onClose:te}=e,ne=(0,G.useModelValues)(e.attachMedia,["mediaEditorData","caption","id","quality","hdEligible","metadataByQuality"]),{isNewsletter:re}=(0,G.useModelValues)(e.chat,["isNewsletter"]),ie=(0,B.useRef)(null),oe=(0,B.useRef)(null),ae=(0,B.useRef)(null),le=(0,B.useRef)(null),se=(0,B.useRef)(null),de=(0,B.useRef)(null),ue=(0,B.useRef)(null),ce=(0,B.useRef)(null),[fe,he]=(0,B.useState)(p.default.empty()),[pe,ge]=(0,B.useState)(!1),[me,Ce]=(0,B.useState)(!1),[ve,xe]=(0,B.useState)(!1),[ye,be]=(0,B.useState)(!1),[je,Ee]=(0,B.useState)(!1),_e=()=>{ge((e=>!e))},Se=()=>ne.mediaEditorData,we=()=>{if(!ie.current)return;const e=ie.current.getBoundingClientRect(),t=new p.default({width:e.width-40,height:e.height-40});he(t)},ke=()=>{!me&&Se().selectedLayer&&Q(),Ce((e=>!e)),we()},Te=()=>ve,Me=()=>{xe((e=>!e))},Ie=()=>{if(pe)_e();else if(me)ke();else if(Te())K(),Me();else{if(!ne.mediaEditorData.selectedLayer||X)return!1;Q()}return!0};(0,U.useListener)(window,"mousedown",(e=>{ce.current=e.target})),(0,U.useListener)(window,"click",(()=>{const e=ce.current;e!==ie.current&&e!==ae.current&&e!==oe.current||Ie()}));const Pe=()=>{const{selectedLayer:e}=ne.mediaEditorData;e&&W(e)},De=e=>{"Backspace"!==e.code||e.target instanceof HTMLInputElement||e.target instanceof HTMLDivElement&&"true"===e.target.contentEditable||me||Pe()},Le=()=>{const e=(()=>{if(!le.current)throw(0,A.default)("MediaEditor:canvas is not initialized");return le.current.getDataUrl()})();return L.default.dataURLtoFile(e)},Re=()=>{if(null!=le.current){const{width:e,height:t}=le.current.getStage().attrs;if(0!==e&&0!==t){const e=Le(),t=window.URL.createObjectURL(e);ne.updateEditedFile(e),ne.updatePreview(t),ne.updateFullPreview(t)}}},Oe=(0,F.default)((()=>{ue.current&&((0,I.cancelIdleCallback)(ue.current),ue.current=null),ue.current=(0,I.requestIdleCallback)(Re)}),1e3),Ae=e=>{(null==e?void 0:e.immediately)?Re():Oe()};(0,B.useEffect)((()=>(window.addEventListener("resize",we),window.addEventListener("keydown",De),we(),()=>{window.removeEventListener("resize",we),window.removeEventListener("keydown",De),Ae({immediately:!0})})),[]);const Ne=(0,H.default)(),Be=()=>{if(me)ke();else if(pe)_e();else if(ve)K(),Me();else if(X){var e;null===(e=le.current)||void 0===e||e.endTextEditing()}else Se().selectedLayer&&Q()},Fe=e=>{$(Se().rotation+e,Se().cropOrigin,Se().cropSize)},He=()=>{$(0,new h.default({x:0,y:0}),Se().size)},Ue=(e,t)=>{$(Se().rotation,e,t)},Ge=(e,t)=>{e===i.MediaEditorAction.OutlineDone?(Ie(),Me()):e===i.MediaEditorAction.Outline?(Te()&&Me(),t===i.MediaEditorAction.Outline&&Me()):e===i.MediaEditorAction.CropRotateCanvas&&(Ie(),t===i.MediaEditorAction.CropRotateCanvas&&ke())},ze=(e,t)=>{e===i.MediaEditorAction.OutlineDone?Ie():e===i.MediaEditorAction.Outline?Te()||Me():e===i.MediaEditorAction.CropRotateCanvas?(Ie(),ke()):t===i.MediaEditorAction.CropRotateCanvas&&e!==i.MediaEditorAction.CropRotateCanvas&&Ie()},qe=()=>{const e=ne.mediaEditorData;return(0,T.calculateContainScale)(e.screenWidth,e.screenHeight,fe,q)},Ve=()=>{const e=ne.mediaEditorData;return new p.default({width:e.screenWidth,height:e.screenHeight})},We=()=>{var e;return null===(e=le.current)||void 0===e?void 0:e.getBackground()};(0,B.useImperativeHandle)(t,(()=>({updatePreview:Ae,undoAction:Ge,redoAction:ze,getCanvasScale:qe,getCanvasSize:Ve,resetUIState:Ie,getBackground:We})));const Ye=ne.mediaEditorData,Ze=e.draftTextLayer||Ye.selectedLayer;let Ke;if(me)Ke=(0,z.jsx)(j.CropRotateToolbar,{canReset:Ye.isRotated()||Ye.isCropped(),onRotateCanvas:Fe,onReset:He});else if(ve)Ke=(0,z.jsx)(S.OutlineToolbar,{smoothing:e.outlineSmoothing,onSmoothingToggle:e.onOutlineSmoothingToggle,canReset:Ye.isOutlined(),onReset:e.onOutlineReset});else if(Ze){const t=Ze instanceof m.ImageLayer&&Ze.isBackground();if(Ze instanceof C.TextLayer){const t=(0,u.getAllColors)().map((e=>{const t=(0,u.getColorValue)(e),n=(0,u.getColorValue)(t.isLight()?u.ColorType.BLACK:u.ColorType.WHITE);return{primaryColor:t,secondaryColor:n}}));Ke=(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(b.default,{ref:se,colors:t,onColorSelect:e.onTextColorSelect,selectedColor:Ze.textColor}),(0,z.jsx)(E.Font,{ref:de,fonts:(0,c.getAllFonts)(),selectedFont:Ze.font,selectedAlignment:Ze.alignment,onFontSelect:e.onFontSelect,onAlignmentSelect:e.onAlignmentSelect}),(0,z.jsx)(w.default,{checked:Ze.textBackground,onBackgroundToggle:e.onTextBackgroundToggle}),(0,z.jsx)(y.default,{icon:(0,z.jsx)(a.DeleteIcon,{displayInline:!0}),title:N.fbt._("Delete",null,{hk:"1XGJJN"}),onClick:Pe})]})}else t||(Ke=(0,z.jsxs)(z.Fragment,{children:[Ze instanceof g.BlurLayer?(0,z.jsx)(x.BlurToolbar,{blurMode:Ze.mode,blurRadius:Ze.radius,onBlurModeChange:e.onBlurModeChange,onBlurRadiusChange:e.onBlurRadiusChange}):null,(0,z.jsx)(y.default,{icon:(0,z.jsx)(a.DeleteIcon,{displayInline:!0}),title:N.fbt._("Delete",null,{hk:"1XGJJN"}),onClick:Pe})]}))}else pe&&(Ke=(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(b.default,{colors:(0,u.getAllColors)().map((e=>({primaryColor:(0,u.getColorValue)(e)}))),onColorSelect:e.onPaintColorSelect,selectedColor:n}),(0,z.jsx)(k.default,{thicknesses:(0,f.getAllThicknesses)(),onThicknessSelect:e.onPaintThicknessSelect,selectedThickness:r})]}));const Xe=!Ke&&!e.draftTextLayer&&!e.sendAsSticker,Qe=(0,z.jsx)(l.FlexRow,{className:(0,o.cx)({[O.default.captionInputHidden]:!Xe,[O.default.captionInputContainer]:!0}),justify:"center",children:(0,z.jsx)(d.default,{chat:e.chat,caption:ne.caption,viewOnce:e.viewOnce,viewOnceDisabled:e.viewOnceDisabled,msgType:M.MSG_TYPE.IMAGE,theme:"image",onToggleViewOnce:e.onToggleViewOnce,onChange:e.onCaptionChange,onEnter:e.onEnter,onFiles:e.onFiles,setCaptionInputRef:t=>{e.setCaptionInputRef(ne.id,t)}},ne.id)}),Je=(0,z.jsxs)(l.FlexRow,{justify:"center",align:"center",className:O.default.footer,ref:ae,children:[Ke&&(0,z.jsx)(l.FlexRow,{justify:"center",align:"center",className:O.default.bottomToolbar,children:Ke}),Qe]});let $e=null;me&&($e=(0,z.jsx)(v.default,{data:Ye,rotation:Se().rotation,cropOrigin:Se().cropOrigin,cropSize:Se().cropSize,onCropChange:Ue,containerSize:fe,keepRatio:e.sendAsSticker,sendAsSticker:e.sendAsSticker}));const et=me||pe||ve||ye||je||Boolean(e.draftTextLayer)||Boolean(Se().selectedLayer);return(0,z.jsxs)("div",{className:O.default.container,children:[(0,z.jsxs)(l.FlexRow,{className:O.default.header,ref:oe,children:[te?(0,z.jsx)("div",{className:O.default.closeButton,children:(0,z.jsx)(D.default,{onClick:te,"aria-label":N.fbt._("Close",null,{hk:"gQq3k"}),children:(0,z.jsx)(R.XIcon,{})})}):(0,z.jsx)("div",{className:O.default.closeButtonPlaceholder}),(0,z.jsx)(_.default,{selectedLayer:Ze,inPaintMode:pe,inCropRotateMode:me,inTextEditingMode:Boolean(e.draftTextLayer),inOutlineMode:ve,canUndo:e.canUndo,canRedo:e.canRedo,onPaintSelect:()=>{_e(),J()},onChangeQuality:t=>{(0,P.unproxy)(e.attachMedia).updateQuality(t)},selectedQuality:ne.quality,hdEligible:ne.hdEligible&&!re,metadataByQuality:ne.metadataByQuality,onCropRotateSelect:()=>{ke()},onOutlineSelect:()=>{Me(),ee()},onTextSelect:e.onTextSelect,onEmojiSelect:e.onEmojiSelect,onStickerSelect:e.onStickerSelect,onToggleEmojiPanel:e=>{be(e)},onToggleStickerPanel:e=>{Ee(e)},onBlurSelect:e.onBlurSelect,onUndo:e.onUndo,onRedo:e.onRedo,showOutline:e.sendAsSticker}),(0,z.jsx)(l.FlexRow,{className:O.default.headerRight,justify:"end",children:et&&(0,z.jsx)(y.default,{onClick:Be,children:N.fbt._("Done",null,{hk:"2nVR7W"})})})]}),(0,z.jsxs)("div",{ref:ie,className:(0,o.cx)({[O.default.cropRotateContainer]:me,[O.default.canvasContainer]:!0}),children:[(0,z.jsx)("div",{className:O.default.canvas,style:{display:me?"none":"unset"},children:(0,z.jsx)(s.default,{ref:le,data:Ye,inPaintMode:pe,inOutlineMode:ve,paintColor:n,paintThickness:r,outlineSmoothing:V,currentlyEditingTextLayer:e.currentlyEditingTextLayer,draftTextLayer:e.draftTextLayer,scale:qe(),onLayerSelect:e.onLayerSelect,onLayerUnselect:e.onLayerUnselect,onLayerTranslate:e.onLayerTranslate,onLayerTransform:e.onLayerTransform,onTextEditingStart:e=>{Ne(),Y(e)},onTextEditingEnd:(e,t)=>{Ne(),Z(e,t)},onTextInputOutsideClick:e=>{var t,n;const r=e.target;return!(r instanceof HTMLElement&&r.closest(`.${O.default.footer}`)&&r!==ae.current||(null===(t=se.current)||void 0===t?void 0:t.isPanelVisible())||(null===(n=de.current)||void 0===n?void 0:n.isMenuVisible()))},onPaintDrawEnd:e.onPaintDrawEnd,onOutlineDrawEnd:e.onOutlineDrawEnd,onOutlineDone:Be,canEditBackground:e.sendAsSticker,outlineEnabled:e.sendAsSticker})}),$e]}),Je]})}));t.ImageBody=V,V.displayName="ImageBody"},849664:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(618446)),a=r(n(170225)),l=n(153724),s=n(931434),d=n(769662),u=r(n(554e3)),c=r(n(551004)),f=r(n(95713)),h=n(695710),p=n(477540),g=n(272802),m=n(102826),C=n(398573),v=n(139519),x=r(n(556869)),y=n(667294),b=n(785893);const j="#52F818";function E(e){let{canEditBackground:t,data:n,scale:r,canvasContextRef:i,isEditingBackground:o,canEditLayer:a,dragging:l,inPaintMode:s,inOutlineMode:d,currentlyEditingTextLayer:u,selectedGroupRef:c,selectedNodeRef:f,transformerRef:h,onSelect:g,onDoubleClick:m,onDragMove:C,onDragStart:v,onDragEnd:x,onTransformStart:y,onTransformEnd:j}=e;const E=!1;return(0,b.jsxs)(b.Fragment,{children:[t&&n.background&&(0,b.jsx)(S,{layer:n.background,hidden:!o(),data:n,scale:r,dragging:l,canEditLayer:a,inPaintMode:s,inOutlineMode:d,currentlyEditingTextLayer:u,selectedGroupRef:c,selectedNodeRef:f,transformerRef:h,onSelect:g,onDoubleClick:m,onDragMove:C,onDragStart:v,onDragEnd:x,onTransformStart:y,onTransformEnd:j}),!o()&&n.layers.filter((e=>e instanceof p.BlurLayer)).map((e=>(0,b.jsx)(S,{layer:e,hidden:E,data:n,scale:r,dragging:l,canEditLayer:a,inPaintMode:s,inOutlineMode:d,currentlyEditingTextLayer:u,selectedGroupRef:c,selectedNodeRef:f,transformerRef:h,onSelect:g,onDoubleClick:m,onDragMove:C,onDragStart:v,onDragEnd:x,onTransformStart:y,onTransformEnd:j},String(e.id)))),n.paintLayer&&(0,b.jsx)(S,{layer:n.paintLayer,hidden:E,data:n,scale:r,dragging:l,canEditLayer:a,inPaintMode:s,inOutlineMode:d,currentlyEditingTextLayer:u,selectedGroupRef:c,selectedNodeRef:f,transformerRef:h,onSelect:g,onDoubleClick:m,onDragMove:C,onDragStart:v,onDragEnd:x,onTransformStart:y,onTransformEnd:j}),n.layers.filter((e=>!(e instanceof p.BlurLayer))).map((e=>(0,b.jsx)(S,{layer:e,hidden:E,data:n,scale:r,dragging:l,canEditLayer:a,inPaintMode:s,inOutlineMode:d,currentlyEditingTextLayer:u,selectedGroupRef:c,selectedNodeRef:f,transformerRef:h,onSelect:g,onDoubleClick:m,onDragMove:C,onDragStart:v,onDragEnd:x,onTransformStart:y,onTransformEnd:j},String(e.id))))]})}function _(e){let{guides:t,scale:n,guidesLayerRef:r,getStage:i}=e;const{vertical:o,horizontal:a}=t;if(!o&&!a)return null;const l=i();return(0,b.jsxs)(v.Layer,{ref:r,children:[o&&(0,b.jsx)(v.Line,{x:o.position/n,y:0,points:[0,0,0,l.height()/n],stroke:j,strokeWidth:1,strokeScaleEnabled:!1},"vertical"),a&&(0,b.jsx)(v.Line,{x:0,y:a.position/n,points:[0,0,l.width()/n,0],stroke:j,strokeWidth:1,strokeScaleEnabled:!1},"horizontal")]},"guides")}function S(e){let{layer:t,hidden:n,data:r,scale:i,dragging:o,canEditLayer:a,inPaintMode:l,inOutlineMode:s,currentlyEditingTextLayer:u,selectedGroupRef:c,selectedNodeRef:f,transformerRef:h,onSelect:p,onDoubleClick:g,onDragMove:m,onDragStart:C,onDragEnd:v,onTransformStart:x,onTransformEnd:y}=e;const j=r.selectedLayer===t&&u!==t,E=r.screenWidth*i,_=r.screenHeight*i,S=r.cropSize.dimension,w=t.editable&&a&&!l&&!s&&!u;return(0,b.jsx)(d.CanvasLayer,{layer:t,scale:i,canvasRotation:r.rotation,textBackgroundShadow:!o,dimension:S,editing:u===t,selected:j,editable:w,stageHeight:_,stageWidth:E,selectedGroupRef:e=>{c.current=e},selectedNodeRef:e=>{f.current=e},transformerRef:e=>{h.current=e},onSelect:p,onDoubleClick:g,onDragMove:m,onDragStart:C,onDragEnd:v,onTransformStart:x,onTransformEnd:y,hidden:n},String(t.id))}function w(e){let{draftTextLayer:t,data:n,editableTextRef:r,scale:i,onTextSave:o,onLayerUnselect:a,onTextInputOutsideClick:l}=e;if(!t)return null;const d=n.toScreenPoint(t.frame.getCenter());return(0,b.jsx)(s.EditableText,{ref:r,layer:t,layerCenter:d,text:t.text,scale:i,onSave:o,onUnselect:a,onOutsideClick:l})}function k(e,t){var n;const{inPaintMode:r=!1,inOutlineMode:s=!1,paintColor:d=m.Color.White,paintThickness:p=h.ThicknessType.MEDIUM,outlineSmoothing:j=!0,canEditLayer:S=!0,canEditBackground:k=!1,outlineEnabled:T=!1,currentlyEditingTextLayer:M=null,draftTextLayer:I=null,onLayerSelect:P=(()=>{}),onLayerUnselect:D=(()=>{}),onLayerTranslate:L=(()=>{}),onLayerTransform:R=(()=>{}),onTextEditingStart:O=(()=>{}),onTextEditingEnd:A=(()=>{}),onTextInputOutsideClick:N=(()=>!0),onPaintDrawEnd:B=(()=>{}),onOutlineDrawEnd:F=(()=>{}),onOutlineDone:H=(()=>{}),scale:U,data:G}=e,z=(0,y.useRef)(null),q=(0,y.useRef)(null),V=(0,y.useRef)(null),W=(0,y.useRef)(null),Y=(0,y.useRef)(null),Z=(0,y.useRef)(null),K=(0,y.useRef)(null),X=(0,y.useRef)(null),Q=(0,y.useRef)(null),J=(0,y.useRef)(null),$=(0,y.useRef)({dragging:!1,transforming:!1,editing:!1,canEditBackground:k}),[ee,te]=(0,y.useState)({horizontal:null,vertical:null}),[ne,re]=(0,y.useState)(!1),[ie,oe]=(0,y.useState)(!1),[ae,le]=(0,y.useState)("crosshair"),se=()=>{if(!z.current)throw(0,x.default)("MediaEditorCanvas:stage is not initialized");return z.current.getStage()};(0,y.useEffect)((()=>{var e,t,n;V.current&&(null===(e=W.current)||void 0===e||e.nodes([V.current]),null===(t=W.current)||void 0===t||null===(n=t.getLayer())||void 0===n||n.batchDraw())}));const de=()=>{var e,t,n,r,i,o,a,l,s,d,u;null===(e=W.current)||void 0===e||e.hide(),null===(t=q.current)||void 0===t||null===(n=t.getChildren()[1])||void 0===n||n.hide(),null===(r=q.current)||void 0===r||null===(i=r.getChildren()[2])||void 0===i||i.hide(),null===(o=Y.current)||void 0===o||o.hide(),null===(a=K.current)||void 0===a||a.toggleCursor(!1),null===(l=X.current)||void 0===l||l.hide(),null===(s=W.current)||void 0===s||null===(d=s.getLayer())||void 0===d||d.batchDraw(),null===(u=Z.current)||void 0===u||u.hide();const c=se().toDataURL({mimeType:"image/png",quality:1,pixelRatio:1/U});var f,h,p,g,m,C,v,x,y,b,j;return null===(f=W.current)||void 0===f||f.show(),null===(h=q.current)||void 0===h||null===(p=h.getChildren()[1])||void 0===p||p.show(),null===(g=q.current)||void 0===g||null===(m=g.getChildren()[2])||void 0===m||m.show(),null===(C=Y.current)||void 0===C||C.show(),null===(v=K.current)||void 0===v||v.toggleCursor(!0),null===(x=X.current)||void 0===x||x.show(),null===(y=W.current)||void 0===y||null===(b=y.getLayer())||void 0===b||b.batchDraw(),null===(j=Z.current)||void 0===j||j.show(),c},ue=()=>{var e;return null===(e=J.current)||void 0===e?void 0:e.toCanvas()},ce=()=>{var e;null===(e=Q.current)||void 0===e||e.save()},fe=()=>(ne||ie)&&G.selectedLayer===G.background;(0,y.useImperativeHandle)(t,(()=>({getStage:se,getDataUrl:de,endTextEditing:ce,getBackground:ue})));const he=G.screenWidth/2,pe=G.screenHeight/2,ge=G.toScreenPoint(G.cropCenter),me=G.toScreenPoint(G.canvasCenter),Ce=he-(ge.x-me.x),ve=pe-(ge.y-me.y),xe=G.cropSize.dimension;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Stage,{ref:z,width:G.screenWidth*U,height:G.screenHeight*U,onMouseDown:e=>{M||(0,C.isEventOnAnchor)(e)||D()},scaleX:U,scaleY:U,style:(0,i.default)({cursor:r?"none":s?ae:"default"},null!==(n=e.style)&&void 0!==n?n:{}),children:(0,b.jsxs)(l.CanvasContext.Provider,{value:$.current,children:[T&&(0,b.jsx)(v.Layer,{x:Ce,y:ve,offsetX:G.width/2,offsetY:G.height/2,rotation:G.rotation,children:(0,b.jsx)(f.default,{ref:Z,width:G.width,height:G.height})},"transparent"),(0,b.jsx)(v.Layer,{x:Ce,y:ve,offsetX:G.width/2,offsetY:G.height/2,rotation:G.rotation,children:(0,b.jsx)(a.default,{ref:J,layer:G.background,outlineLayer:G.outlineLayer,dimension:xe,removeBackground:T&&!s,scale:U,visible:!fe()})},"background"),(0,b.jsx)(v.Layer,{x:Ce,y:ve,offsetX:G.width/2,offsetY:G.height/2,rotation:G.rotation,children:(0,b.jsx)(E,{canEditBackground:k,data:G,scale:U,canvasContextRef:$,isEditingBackground:fe,canEditLayer:S,dragging:ne,inPaintMode:r,inOutlineMode:s,currentlyEditingTextLayer:M,selectedGroupRef:q,selectedNodeRef:V,transformerRef:W,onSelect:e=>{P(e)},onDoubleClick:e=>{e instanceof g.TextLayer&&O(e)},onDragMove:(e,t)=>{var n,r,i,a;const l=[{position:se().width()/2,orientation:"v"},{position:se().height()/2,orientation:"h"}],s=t.target,d=s.absolutePosition(),u=[{position:d.y,orientation:"h"},{position:d.x,orientation:"v"}],c=[];for(const e of u)for(const t of l){if(e.orientation!==t.orientation)continue;const n=Math.abs(t.position-e.position);n<=15&&c.push({guide:t,distance:n})}c.sort(((e,t)=>e.distance-t.distance));let f=null,h=null;for(const{guide:e}of c)"v"!==e.orientation||f?"h"!==e.orientation||h||(h=e):f=e;s.absolutePosition({x:null!==(n=null===(r=f)||void 0===r?void 0:r.position)&&void 0!==n?n:d.x,y:null!==(i=null===(a=h)||void 0===a?void 0:a.position)&&void 0!==i?i:d.y});const p={horizontal:h,vertical:f};(0,o.default)(ee,p)||te(p)},onDragStart:()=>{$.current.dragging=!0,re(!0)},onDragEnd:(e,t)=>{$.current.dragging=!1,L(e,t),te({vertical:null,horizontal:null}),re(!1)},onTransformStart:()=>{$.current.transforming=!0,oe(!0)},onTransformEnd:(e,t,n,r)=>{$.current.transforming=!1,R(e,t,n,r),oe(!1)}})},"edits"),(0,b.jsx)(_,{guides:ee,scale:U,guidesLayerRef:Y,getStage:se}),r&&(0,b.jsx)(c.default,{ref:K,width:G.screenWidth,height:G.screenHeight,scale:U,pathStyle:{color:d,thickness:(0,h.getThicknessValue)(p),smoothing:!1},data:G,onDrawEnd:B}),s&&(0,b.jsx)(u.default,{ref:X,width:G.screenWidth,height:G.screenHeight,scale:U,data:G,smoothing:j,onDrawEnd:F,onDone:H,onCursorChange:e=>{le(e)}})]})}),(0,b.jsx)(w,{draftTextLayer:I,data:G,editableTextRef:Q,scale:U,onTextSave:e=>{I&&A(I,e)},onLayerUnselect:D,onTextInputOutsideClick:N})]})}var T=(0,y.forwardRef)(k);t.default=T},170225:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(588750),o=r(n(367838)),a=n(964643),l=n(139519),s=n(432938),d=n(667294),u=n(785893);function c(e,t){let{layer:n,outlineLayer:r,dimension:c,removeBackground:f,scale:h,visible:p}=e;const g=(0,d.useRef)(),m=(0,d.useRef)();if((0,d.useImperativeHandle)(t,(()=>({toCanvas(){var e;const t=null===(e=m.current)||void 0===e?void 0:e.getBoundingRect(),n=g.current;if(!t||!n||t.size.isEmpty())return;const{x:r,y:o,width:a,height:l}=t;var d;null===(d=m.current)||void 0===d||d.show();const u=n.toCanvas({x:r,y:o,width:a,height:l,pixelRatio:1/h});var c;null===(c=m.current)||void 0===c||c.hide();const f=Math.max(u.width,u.height),p=Math.max(Math.ceil(s.STICKER_BORDER_WIDTH*(f/s.STICKER_DIMENSION)),2),C=(0,i.addBorder)(u,p);return(0,i.trim)(C)}}))),!n||!r)return null;const C=n.frame.getCenter();return(0,u.jsxs)(l.Group,{ref:g,visible:p,children:[(0,u.jsx)(l.Group,{x:C.x,y:C.y,offsetX:n.width/2,offsetY:n.height/2,width:n.width,height:n.height,rotation:n.rotation,scaleX:n.scale,scaleY:n.scale,children:(0,u.jsx)(o.default,{layer:n})}),(0,u.jsx)(a.Outline,{ref:m,layer:r,dimension:c})]})}var f=(0,d.forwardRef)(c);t.default=f},778326:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,r,d,u,c;let{layer:f,scale:h,frame:p,selectedNodeRef:g,showPadding:m,onTransformStart:C,onTransformEnd:v,onTransform:x}=e;const y=(0,l.useRef)();(0,l.useEffect)((()=>{var e;null==y||null===(e=y.current)||void 0===e||e.cache({pixelRatio:.4,imageSmoothingEnabled:!1})}),[f.image]);const b=m?50:0,j=null!==(t=null==p?void 0:p.x)&&void 0!==t?t:f.x,E=null!==(n=null==p?void 0:p.y)&&void 0!==n?n:f.y,_=null!==(r=null==p?void 0:p.width)&&void 0!==r?r:f.width,S=null!==(d=null==p?void 0:p.height)&&void 0!==d?d:f.height,w=(null!=h?h:1)*f.backgroundFrame.scale*3/.4,k=-j+f.backgroundFrame.width/2+f.backgroundFrame.x,T=-E+f.backgroundFrame.height/2+f.backgroundFrame.y,M=f.backgroundFrame.width+b/f.backgroundFrame.scale*2,I=f.backgroundFrame.height+b/f.backgroundFrame.scale*2;return(0,s.jsxs)(o.Group,{width:_,height:S,clipX:0,clipY:0,clipWidth:_,clipHeight:S,children:[(0,s.jsx)(o.Image,{ref:y,x:k,y:T,width:M,height:I,offsetX:M/2,offsetY:I/2,fillPatternImage:f.image,fillPatternOffsetX:-b/f.backgroundFrame.scale,fillPatternOffsetY:-b/f.backgroundFrame.scale,fillPatternRepeat:"no-repeat",scaleX:f.backgroundFrame.scale,scaleY:f.backgroundFrame.scale,rotation:null!==(u=null===(c=f.backgroundFrame)||void 0===c?void 0:c.rotation)&&void 0!==u?u:0,perfectDrawEnabled:!1,filters:[f.mode===i.BlurMode.Smooth?a.default.Filters.Blur:a.default.Filters.Pixelate],blurRadius:f.radius/w,pixelSize:f.radius/w}),(0,s.jsx)(o.Rect,{ref:g,x:0,y:0,width:_,height:S,fill:"transparent",onTransformStart:C,onTransformEnd:v,onTransform:x})]})};var i=n(477540),o=n(139519),a=r(n(820185)),l=n(667294),s=n(785893)},153724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasContext=void 0;const r={transforming:!1,dragging:!1,editing:!1,canEditBackground:!1},i=(0,n(667294).createContext)(r);t.CanvasContext=i},931434:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EditableText=void 0;var i=r(n(81109)),o=r(n(618446)),a=n(664149),l=n(637624),s=n(490836),d=n(920202),u=n(150610),c=n(208172),f=n(392632),h=r(n(37875)),p=n(676345),g=n(548360),m=n(667294),C=r(n(156720)),v=n(667100),x=r(n(49710)),y=r(n(83233)),b=n(785893);const j={positioner:{position:"lhggkp7q",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"jbm6vef4",height:"bbl9m3t3"},container:{boxSizing:"cm280p3y",borderTop:"fexf46gg",borderEnd:"a6hdn73q",borderBottom:"rswuywtv",borderStart:"fn83zwbf",borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",borderBottomEndRadius:"hwxn6iyz",borderBottomStartRadius:"dtx25v1e",borderTopWidth:"o6maxiec",borderEndWidth:"gmqjtjz9",borderBottomWidth:"po2rmeaw",borderStartWidth:"ri1nbnxe"},inputContainer:{position:"g0rxnol2"},inputWrapper:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ctjs45qd",width:"ln8gz9je",height:"ppled2lx",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},inputText:{fontSize:"fe5nidar"},emojiButton:{transform:"t9w6h8zt",top:"chytebbc",position:"lhggkp7q",start:"m7kgcvyw",color:"c613fk18"},emojiButtonWrapper:{cursor:"ajgl1lbb",backgroundColor:"ur864smd",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",":hover":{backgroundColor:"tcskrox1"}}},E=(0,m.forwardRef)(((e,t)=>{let{text:n,layer:r,layerCenter:d,scale:E,onSave:S,onUnselect:w,onOutsideClick:k}=e;const[M,I]=(0,m.useState)(n),[P,D]=(0,m.useState)(),L=(0,m.useRef)(),R=(0,m.useCallback)((()=>{S(M.replace(/^\n+/,"").replace(/\n+$/,""))}),[S,M]);(0,m.useImperativeHandle)(t,(()=>({save:()=>{R(),w()}})),[R,w]);const O=(0,v.useOnOutsideClickRef)((e=>{P||!1===(null==k?void 0:k(e))||(R(),w())})),A=e=>{const t=L.current;t&&t.replaceSelection(e)},N=()=>{D(null)},[B,F]=(0,y.default)((e=>{D({menu:(0,b.jsx)(l.EmojiPanel,{onEmoji:A,onFocusNext:N,onFocusPrev:N}),anchor:e.target})}));(0,m.useEffect)((()=>{var e;null===(e=L.current)||void 0===e||e.focus()}),[]);const H={left:d.x*E,top:d.y*E},U={color:r.textColor.toHex(),fontFamily:(0,s.getFontStyle)(r.font).fontFamily,textAlign:_(r.alignment),paddingLeft:r.styles.lineHorizontalPadding+1,paddingRight:r.styles.lineHorizontalPadding+1,paddingTop:1,paddingBottom:1,borderWidth:0,borderRadius:6,margin:0,boxSizing:"border-box",backgroundColor:r.textBackground?r.textBackgroundColor.toHex():void 0},G=r.styles.backgroundShadow,z=(0,i.default)((0,i.default)({},U),{},{boxShadow:r.textBackground?`${G.offsetX}px ${G.offsetY}px ${G.radius}px ${G.spread}px ${G.color.toRgbaString()}`:void 0}),q=function(e){const t=(0,x.default)(e),n=(0,m.useRef)(0);t&&!(0,o.default)(t,e)&&(n.current+=1);return n.current}(U),V=g.fbt._("Type something",null,{hk:"15NglL"});return(0,b.jsxs)("div",{className:(0,C.default)(j.positioner),style:H,children:[(0,b.jsx)("div",{className:(0,C.default)(j.container,p.uiPadding.all4),children:(0,b.jsxs)("div",{className:(0,C.default)(j.inputContainer),ref:O,children:[(0,b.jsx)("div",(0,i.default)((0,i.default)({className:(0,C.default)(j.emojiButton)},F),{},{ref:B,children:(0,b.jsx)("div",{className:(0,C.default)(j.emojiButtonWrapper,p.uiPadding.all2),children:(0,b.jsx)(c.SmileyIcon,{})})})),(0,b.jsx)("div",{className:(0,C.default)(j.inputWrapper),style:z,children:(0,b.jsx)(u.RichTextInput,{ref:L,textXstyle:j.inputText,initialText:M,onChange:e=>{I(e.text)},onEnter:R,multiline:!0,placeholder:V},q)}),(0,b.jsx)(T,{layer:r,draftText:M,placeholderText:V,textStyle:U})]})}),P&&(0,b.jsx)(f.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:N,children:(0,b.jsx)(h.default,{contextMenu:(0,i.default)({dirY:a.DirY.TOP,type:a.MenuType.EmojiPicker},P)})})]})}));function _(e){switch(e){case s.TextAlignment.LEFT:return"left";case s.TextAlignment.CENTER:return"center";case s.TextAlignment.RIGHT:return"right"}}t.EditableText=E,E.displayName="EditableText";const S={boxSizing:"cm280p3y",whiteSpace:"bbv8nyr4",visibility:"kojwoqec"},w={whiteSpace:"ag95hn57"},k={display:"l7jjieqr",width:"cxkis295",height:"qgpfrw6h"};function T(e){let{draftText:t,placeholderText:n,textStyle:r,layer:o}=e,a=(0,i.default)((0,i.default)({},r),{},{fontSize:"17px",lineHeight:"25px",padding:"0 10px"});t||(a=(0,i.default)((0,i.default)({},a),{},{fontFamily:void 0,padding:"0 14px"}));const l=t||n.toString();return(0,b.jsx)("div",{className:(0,C.default)(S),style:a,children:(0,d.getLines)(l,o.font,o.fontSize,0).map(((e,t)=>(0,b.jsx)("div",{className:(0,C.default)(w),children:0===e.words.length?" ":e.words.map(((e,t)=>null!=e.emojiPath?(0,b.jsx)("span",{className:(0,C.default)(k)},t):e.text))},t)))})}},164781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{layer:t,borderRadius:n}=e;return(0,o.jsx)(i.Rect,{width:t.width,height:t.height,stroke:a.toRgbaString(),strokeWidth:2,cornerRadius:n,strokeScaleEnabled:!1})};var r=n(102826),i=n(139519),o=n(785893);const a=new r.Color(82,248,24,1)},367838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{layer:t}=e;return(0,i.jsx)(r.Image,{width:t.width,height:t.height,image:t.image})};var r=n(139519),i=n(785893)},769662:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasLayer=function(e){var t,n,r,_;let{layer:S,scale:w,canvasRotation:k,editing:T,selected:M,editable:I,hidden:P,textBackgroundShadow:D,dimension:L,selectedGroupRef:R,selectedNodeRef:O,transformerRef:A,stageWidth:N,stageHeight:B,onSelect:F,onDoubleClick:H,onDragStart:U,onDragEnd:G,onDragMove:z,onTransformStart:q,onTransformEnd:V}=e;const[W,Y]=(0,y.useState)(!1),[Z,K]=(0,y.useState)(null),X=(0,y.useContext)(o.CanvasContext),Q=(0,b.default)(R,O),J=S instanceof h.BlurLayer,$=S instanceof g.ImageLayer&&(S.isSticker()||S.isBackground()),ee=S.frame.getCenter(),te=null!==(t=null==Z?void 0:Z.x)&&void 0!==t?t:S.x,ne=null!==(n=null==Z?void 0:Z.y)&&void 0!==n?n:S.y,re=null!==(r=null==Z?void 0:Z.width)&&void 0!==r?r:S.width,ie=null!==(_=null==Z?void 0:Z.height)&&void 0!==_?_:S.height;let oe=5;$&&(oe=40);J&&(oe=0);const ae=e=>{if(!M)return;const t=(0,C.getRotationFromGroup)(e),n=(0,C.getScaleFromGroup)(e);V(S,t,n,Z),J&&K(null)},le=e=>{if(!M||!J)return;const t=e.target;t.width(t.width()*t.scaleX()),t.height(t.height()*t.scaleY()),t.scaleX(1),t.scaleY(1);const n=f.default.create({x:te+t.x(),y:ne+t.y(),width:t.width(),height:t.height(),rotation:t.rotation(),scale:S.scale});t.x(0),t.y(0),K(n)};let se,de,ue,ce;I&&M&&!T&&(de=(0,j.jsx)(u.default,{layer:S,borderRadius:oe,frame:Z}),ce=(0,j.jsx)(v.Transformer,{ref:A,anchorStroke:"blue",anchorFill:"white",anchorSize:8,anchorCornerRadius:4,borderEnabled:!1,centeredScaling:!J,enabledAnchors:J?["top-left","top-center","top-right","middle-left","middle-right","bottom-left","bottom-center","bottom-right"]:["bottom-right"],resizeEnabled:!0,rotateAnchorOffset:12,rotateEnabled:!J,rotationSnaps:E,ignoreStroke:!0,rotationSnapTolerance:10,boundBoxFunc:(e,t)=>{const n=t.width/w,r=t.height/w;if(S instanceof m.TextLayer&&(n<=18||r<=18)||n<=36||r<=36)return e;if(J){(0,x.default)(t,k),(0,x.default)(e,k);const n={x:{min:0,max:N-t.width},y:{min:0,max:B-t.height}};t.x<n.x.min?(t.width-=n.x.min-t.x,t.x=n.x.min):t.x>n.x.max&&(t.width-=t.x-n.x.max),t.y<n.y.min?(t.height-=n.y.min-t.y,t.y=n.y.min):t.y>n.y.max&&(t.height-=t.y-n.y.max),(0,x.default)(t,k,!0),(0,x.default)(e,k,!0)}return t},keepRatio:!J},"transformer"));I&&W&&!M&&(ue=(0,j.jsx)(a.default,{layer:S,borderRadius:oe}));S instanceof g.ImageLayer?se=(0,j.jsx)(l.default,{layer:S}):S instanceof h.BlurLayer?se=(0,j.jsx)(i.default,{layer:S,scale:w,frame:Z,selectedNodeRef:M?O:null,showPadding:X.canEditBackground,onTransformStart:()=>q(S),onTransformEnd:ae,onTransform:le}):S instanceof p.DrawLayer?S.type===p.DrawLayerType.Paint?se=(0,j.jsx)(d.default,{layer:S}):S.type===p.DrawLayerType.Outline&&(se=(0,j.jsx)(s.Outline,{layer:S,dimension:L})):S instanceof m.TextLayer&&!T&&(se=(0,j.jsx)(c.default,{layer:S,shadow:D}));P&&(se=(0,j.jsx)(v.Rect,{width:S.width,height:S.height}));(0,y.useEffect)((()=>{T&&Y(!1)}),[T,Y]);let fe=null;M&&(fe=J?R:Q);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(v.Group,{ref:fe,x:J?te:ee.x,y:J?ne:ee.y,offsetX:J?0:re/2,offsetY:J?0:ie/2,width:re,height:ie,rotation:S.rotation,scaleX:S.scale,scaleY:S.scale,draggable:I,dragBoundFunc:e=>{const t={x:{min:0,max:N},y:{min:0,max:B}};return J&&(0===k?(t.x.max-=re*w,t.y.max-=ie*w):90===k?(t.x.min+=ie*w,t.y.max-=re*w):180===k?(t.x.min+=re*w,t.y.min+=ie*w):(t.x.max-=ie*w,t.y.min+=re*w)),e.x<t.x.min?e.x=t.x.min:e.x>t.x.max&&(e.x=t.x.max),e.y<t.y.min?e.y=t.y.min:e.y>t.y.max&&(e.y=t.y.max),e},onMouseEnter:e=>{!S.editable||X.dragging||X.transforming||(e.cancelBubble=!0,Y(!0))},onMouseLeave:e=>{S.editable&&(e.cancelBubble=!0,Y(!1))},onMouseDown:e=>{S.editable&&(e.cancelBubble=!0,F(S))},onDblClick:()=>H(S),onDragStart:()=>U(S),onDragEnd:e=>{const t=(0,C.getPointFromGroup)(e);G(S,t),J&&K(null)},onDragMove:e=>{if(J){const t=e.target;K(f.default.create({x:t.x(),y:t.y(),width:S.width,height:S.height,rotation:S.rotation,scale:S.scale}))}else z(S,e)},onTransformStart:()=>q(S),onTransformEnd:ae,onTransform:le,children:[se,de,ue]}),ce]})};var i=r(n(778326)),o=n(153724),a=r(n(164781)),l=r(n(367838)),s=n(964643),d=r(n(119073)),u=r(n(699562)),c=r(n(861508)),f=r(n(780246)),h=n(477540),p=n(427698),g=n(950079),m=n(272802),C=n(398573),v=n(139519),x=r(n(261931)),y=n(667294),b=r(n(38085)),j=n(785893);const E=[0,45,90,135,180,225,270,315]},964643:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Outline=void 0;var i=r(n(594654)),o=r(n(846870)),a=r(n(780246)),l=n(139519),s=n(667294),d=n(785893);function u(e,t){let{layer:n,dimension:r}=e;const u=(0,s.useRef)(),c=(0,s.useRef)();(0,s.useImperativeHandle)(t,(()=>({show(){var e;null===(e=u.current)||void 0===e||e.show()},hide(){var e;null===(e=u.current)||void 0===e||e.hide()},getBoundingRect(){const e=c.current;if(!e)return;const{x:t,y:r,width:i,height:o}=e.getClientRect();return a.default.create({x:t,y:r,width:i,height:o,rotation:n.rotation,scale:n.scale})}})));const f=(0,i.default)(n.getAllPoints(),(e=>[e.x,e.y]));return(0,d.jsx)(l.Group,{ref:u,width:n.width,height:n.height,visible:!1,children:(0,d.jsx)(l.Line,{ref:c,points:f,closed:!0,fill:"white",lineCap:"round",lineJoin:"round",tension:o.default.MEDIA_EDITOR_OUTLINE_TENSION,globalCompositeOperation:"destination-in"})})}const c=(0,s.forwardRef)(u);t.Outline=c,c.displayName="Outline"},554e3:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(594654)),a=r(n(846870)),l=r(n(503202)),s=n(102826),d=n(139519),u=n(667294),c=n(785893);const f="dot-first",h="dot-last";function p(e,t){var n;let{width:r,height:p,scale:g,data:C,smoothing:v,onDrawEnd:x,onDone:y,onCursorChange:b}=e;const j=(0,u.useRef)(),E=(0,u.useRef)(!1),_=(0,u.useRef)("crosshair");(0,u.useEffect)((()=>{b("crosshair")}),[]),(0,u.useImperativeHandle)(t,(()=>({show(){var e;null===(e=j.current)||void 0===e||e.show()},hide(){var e;null===(e=j.current)||void 0===e||e.hide()}})));const{cursorPosition:S,points:w,handlers:k}=(0,l.default)({onDrawStart:()=>{E.current=!0},onDrawEnd:e=>{E.current=!1,x(e)},onDone:y,onMouseMove:e=>{const t=e.target.name()===f,n=E.current,r=t&&!n?"pointer":"crosshair";r!==_.current&&(_.current=r,b(r))},data:C,stage:null===(n=j.current)||void 0===n?void 0:n.getStage(),minPointDistance:12/g,clickThreshold:200,boundToStage:!0,doneTargets:{mousedown:[f,h],mouseup:[f]},pathStyle:{color:s.Color.White,thickness:0,smoothing:v}}),T=C.outlineLayer.getAllPoints().map((e=>C.toScreenPoint(e)));!v&&T.length&&T.push(T[T.length-1]);Boolean(w.length)&&T.push(w[0]),T.push(...w);const M=[...T];!v&&M.length&&M.push(M[M.length-1]),S&&M.push(S);const I=(0,o.default)(M,(e=>[e.x,e.y]));return(0,c.jsxs)(d.Layer,(0,i.default)((0,i.default)({ref:j},k),{},{width:r,height:p,children:[(0,c.jsx)(d.Rect,{x:0,y:0,width:r,height:p,fill:"rgba(0,0,0,0)"}),(0,c.jsx)(d.Line,{points:I,lineCap:"round",lineJoin:"round",stroke:"#FA6533",strokeWidth:3/g,dash:[12/g,6/g],tension:a.default.MEDIA_EDITOR_OUTLINE_TENSION}),(0,c.jsx)(m,{points:T,scale:g})]}),"paintCursor")}var g=(0,u.forwardRef)(p);function m(e){let{points:t,scale:n}=e;if(!t.length)return null;const r=t[0],i=t[t.length-1],o=3/n;return(0,c.jsxs)(c.Fragment,{children:[undefined,(0,c.jsx)(d.Circle,{name:h,x:i.x,y:i.y,radius:o}),(0,c.jsx)(d.Circle,{x:r.x,y:r.y,radius:o,stroke:"white"}),(0,c.jsx)(d.Circle,{name:f,x:r.x,y:r.y,radius:4*o})]})}t.default=g},119073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{layer:t}=e;const n=(0,i.useMemo)((()=>{const e=document.createElement("canvas");return e.width=Math.max(t.width,1),e.height=Math.max(t.height,1),e}),[t.width,t.height]),a=(0,i.useRef)();return(0,i.useEffect)((()=>{var e,r;n.getContext("2d").clearRect(0,0,n.width,n.height),t.paths.forEach((e=>function(e,t){const{points:n}=t;if(!n.length)return;const r=e.getContext("2d"),i={color:t.color,thickness:t.thickness,smoothing:!1};(function(e,t){e.lineCap="round",e.lineJoin="round",e.lineWidth=t.thickness,e.strokeStyle=t.color.toHex()})(r,i),r.beginPath(),r.moveTo(n[0].x,n[0].y),n.forEach((e=>r.lineTo(e.x,e.y))),r.stroke()}(n,e))),null===(e=a.current)||void 0===e||null===(r=e.getLayer())||void 0===r||r.batchDraw()}),[t.paths,n]),(0,o.jsx)(r.Image,{ref:a,width:t.width,height:t.height,image:n,listening:!1})};var r=n(139519),i=n(667294),o=n(785893)},551004:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(594654)),a=r(n(503202)),l=n(139519),s=n(667294),d=n(785893);const u=(e,t)=>{var n;let{width:r,height:u,scale:c,pathStyle:f,data:h,onDrawEnd:p}=e;const g=(0,s.useRef)(),m=(0,s.useRef)();(0,s.useImperativeHandle)(t,(()=>({toggleCursor(e){const t=m.current;t&&(e?t.show():t.hide())}})));const{cursorPosition:C,points:v,handlers:x}=(0,a.default)({onDrawEnd:p,data:h,pathStyle:f,stage:null===(n=g.current)||void 0===n?void 0:n.getStage()}),y=(0,o.default)(v,(e=>[e.x,e.y]));return(0,d.jsxs)(l.Layer,(0,i.default)((0,i.default)({ref:g},x),{},{width:r,height:u,children:[(0,d.jsx)(l.Rect,{width:r,height:u,fill:"rgba(0, 0, 0, 0)"}),C&&(0,d.jsx)(l.Circle,{ref:m,x:C.x,y:C.y,radius:f.thickness/2,fill:f.color.toRgbaString()}),(0,d.jsx)(l.Line,{points:y,lineCap:"round",lineJoin:"round",stroke:f.color.toRgbaString(),strokeWidth:f.thickness})]}),"paintCursor")};var c=(0,s.forwardRef)(u);t.default=c},699562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let{layer:i,borderRadius:u,frame:c}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.Rect,{width:null!==(t=null==c?void 0:c.width)&&void 0!==t?t:i.width,height:null!==(n=null==c?void 0:c.height)&&void 0!==n?n:i.height,fill:(i instanceof r.BlurLayer?d:s).toRgbaString(),stroke:l.toRgbaString(),strokeWidth:2,cornerRadius:u,strokeScaleEnabled:!1})})};var r=n(477540),i=n(102826),o=n(139519),a=n(785893);const l=new i.Color(82,248,24,1),s=new i.Color(82,248,24,.1),d=new i.Color(0,0,0,0)},861508:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{layer:t,shadow:n}=e;const r=function(e){const t=[];for(const n of e)for(const{emojiPath:e}of n.words)e&&t.push(e);return function(e){const t=Array.from(new Set(e)),n=t.join(""),r=(0,a.useRef)({}),[,i]=(0,a.useState)(0);return(0,a.useEffect)((()=>{r.current={},i(0),t.forEach((e=>{const t=new Image;t.onload=()=>{r.current[e]=t,i(Object.keys(r.current).length)},t.src=e}))}),[i,n]),r.current}(t)}(t.lines),o=t.lines.map(((e,n)=>{const o=e.width+2*t.styles.lineHorizontalPadding,a=t.lineHeight+2*t.styles.lineVerticalPadding;return(0,l.jsx)(i.Group,{width:o,height:a,y:n*a,children:(0,l.jsx)(s,{line:e,layer:t,emojiImages:r})},n)})),{backgroundShadow:d}=t.styles;return(0,l.jsx)(i.Group,{visible:0!==t.width,width:t.width,height:t.height,children:(0,l.jsxs)(i.Group,{x:t.styles.layerPadding,y:t.styles.layerPadding,children:[t.textBackground&&(n?(0,l.jsx)(i.Path,{data:t.backgroundPath,stroke:t.textBackgroundColor.toHex(),fill:t.textBackgroundColor.toHex(),shadowColor:d.color.toHex(),shadowBlur:d.radius,shadowOffset:{x:d.offsetX,y:d.offsetY},shadowOpacity:d.color.alpha},"1"):(0,l.jsx)(i.Path,{data:t.backgroundPath,stroke:t.textBackgroundColor.toHex(),fill:t.textBackgroundColor.toHex()},"2")),o]})})};var r=n(490836),i=n(139519),o=n(920202),a=n(667294),l=n(785893);function s(e){let{line:t,layer:n,emojiImages:a}=e;const s=Math.max(...n.lineWidths);let d=0;switch(n.alignment){case r.TextAlignment.LEFT:d=0;break;case r.TextAlignment.CENTER:d=(s-t.width)/2;break;case r.TextAlignment.RIGHT:d=s-t.width}let u=0;return t.words.map(((e,t)=>{let{text:s,emojiPath:c,width:f}=e;const h=d+n.styles.lineHorizontalPadding+u,p=n.styles.lineVerticalPadding;let g;if(c){const e=a[c];g=e?(0,l.jsx)(i.Image,{x:h,y:p,width:n.lineHeight,height:n.lineHeight,image:e},t):(0,l.jsx)(i.Rect,{x:h,y:p,width:n.lineHeight,height:n.lineHeight,fill:"rgba(0,0,0,0)"},t)}else{const e=(0,o.getTextBounds)(n.font,n.fontSize);g=(0,l.jsx)(i.Text,{x:h,y:p-e.top+(e.top+e.bottom)/2,width:f,height:n.lineHeight,text:s,fill:n.textColor.toHex(),fontFamily:(0,r.getFontStyle)(n.font).fontFamily,fontSize:n.fontSize},t)}return u+=f,g}))}},95713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(102826),i=n(139519),o=n(667294),a=n(785893);const l=new r.Color(230,230,230).toRgbString(),s=new r.Color(255,255,255).toRgbString();function d(e,t){let{width:n,height:r}=e;const d=(0,o.useRef)();(0,o.useImperativeHandle)(t,(()=>({hide(){var e;null===(e=d.current)||void 0===e||e.hide()},show(){var e;null===(e=d.current)||void 0===e||e.show()}})));const u=(0,o.useMemo)((()=>{const e=document.createElement("canvas");return e.width=Math.max(n,1),e.height=Math.max(r,1),e}),[n,r]);return(0,o.useEffect)((()=>{var e,t;const i=u.getContext("2d");i.clearRect(0,0,u.width,u.height);const o=20,a=Math.ceil(n/o),c=Math.ceil(r/o);for(let e=0;e<c;e++)for(let t=0;t<a;t++){const n=(e+t)%2==0?s:l;i.beginPath(),i.rect(t*o,e*o,o,o),i.fillStyle=n,i.fill()}null===(e=d.current)||void 0===e||null===(t=e.getLayer())||void 0===t||t.batchDraw()}),[u,n,r]),(0,a.jsx)(i.Image,{ref:d,width:n,height:r,image:u})}var u=(0,o.forwardRef)(d);t.default=u},503202:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onDrawStart:t,onDrawEnd:n,onDone:r,onMouseMove:u,data:c,endOnMouseLeave:f=!0,minPointDistance:h=0,clickThreshold:p=0,boundToStage:g=!1,pathStyle:m={},stage:C,doneTargets:v={}}=e;const[x,y]=(0,a.useState)(),b=(0,a.useRef)([]),j=(0,a.useRef)(!1),E=(0,l.default)(),_=(0,s.default)(p),S=(0,a.useRef)(!1);return(0,d.useListener)(window,"mouseup",(()=>{if(j.current=!1,0!==b.current.length){const e=b.current.map((e=>c.toCanvasPoint(e)));n((0,i.default)({points:e},m)),b.current=[],E()}})),(0,d.useListener)(window,"mousemove",(e=>{const t=(0,o.getPointFromStage)(e,C,g),n=g&&j.current;if(y(n?(0,o.getPointFromStage)(e,C,!0):t),j.current){const e=b.current,n=e[e.length-1];(!n||n.distance(t)>=h&&_()||(0,o.isStageCorner)(t,C))&&e.push(t)}})),(0,a.useEffect)((()=>{S.current&&(null==r||r(),S.current=!1)})),{cursorPosition:x,points:b.current,handlers:{onMouseDown:e=>{var n;if(null==t||t(),null===(n=v.mousedown)||void 0===n?void 0:n.includes(e.target.name()))return void(null==r||r());const i=(0,o.getPointFromStage)(e.evt,C,g);b.current.push(i),j.current=!0,E()},onMouseUp:e=>{var t;const n=null===(t=v.mouseup)||void 0===t?void 0:t.includes(e.target.name()),r=1===b.current.length;n&&!r&&(S.current=!0)},onMouseMove:e=>{null==u||u(e)}}}};var i=r(n(81109)),o=n(398573),a=n(667294),l=r(n(969651)),s=r(n(173845)),d=n(808446)},695710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThicknessType=void 0,t.getAllThicknesses=function(){return Array.from(r.members())},t.getThicknessValue=function(e){switch(e){case r.SMALL:return 8;case r.MEDIUM:return 12;case r.LARGE:return 18;case r.XLARGE:return 24}};const r=n(76672).Mirrored(["SMALL","MEDIUM","LARGE","XLARGE"]);t.ThicknessType=r},792339:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(752253),o=r(n(932325)),a=n(937484),l=n(373070),s=n(163139),d=n(992934),u=r(n(929087)),c=n(548360),f=r(n(261294)),h=n(667294),p=n(655241),g=n(785893);const{IMAGE:m,VIDEO:C}=l.MSG_TYPE;function v(e){var t,n;const r=(0,p.useModelValues)(e.attachMedia,["mimetype","preview","type","fullPreview","fullPreviewSize","documentPageCount"]);let i;if(r.type===m)i=r.preview;else if(r.type===C)i=`data:image/jpeg;base64,${r.preview}`;else if("pdf"===(0,a.previewType)(r.mimetype)){r.fullPreview&&r.fullPreviewSize&&null!=r.documentPageCount&&r.documentPageCount>0&&(i=r.fullPreview)}if(i)return(0,g.jsx)("div",{className:u.default.body,children:(0,g.jsx)("img",{src:i,alt:o.default.t(767)})});const l=(0,f.default)(u.default.body,u.default.bodyIcon,null!==(t=null===(n=a.DOCUMENT_MIMETYPES[r.mimetype])||void 0===n?void 0:n.icon)&&void 0!==t?t:"icon-doc-generic");return(0,g.jsx)("div",{className:l})}function x(e,t){const{attachMedia:n,onClick:r,onClose:o}=e;return(0,g.jsxs)("button",{className:(0,i.cx)({[u.default.active]:e.active,[u.default.thumb]:!0}),onClick:e=>{r((0,s.unproxy)(n),e)},"aria-label":c.fbt._("Image Thumbnail",null,{hk:"1KyQD6"}),ref:t,children:[(0,g.jsx)("div",{className:u.default.btnDelete,onClick:e=>{o((0,s.unproxy)(n),e)},role:"button",children:(0,g.jsx)(d.XAltIcon,{})}),(0,g.jsx)("div",{className:u.default.bodyWrapper,children:(0,g.jsx)(v,{attachMedia:n})})]})}var y=(0,h.forwardRef)(x);t.default=y},301667:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{mediaCollection:t,className:n,onElementRef:r,onClick:a,onClose:c}=e,f=t.getPreviewableMedias(),h=(0,l.default)();return(0,s.jsx)(u,{onSortEnd:e=>{const{oldIndex:n,newIndex:r}=e;t.reorder(n,r),h()},axis:"x",helperClass:"SortableHelper",distance:10,children:(0,s.jsx)("div",{className:n,children:f.map(((e,n)=>{var l;return(0,s.jsx)(d,{index:n,children:(0,s.jsx)(i.default,{attachMedia:e,active:e===t.getActive(),previewMode:(null===(l=t.getActive())||void 0===l?void 0:l.type)!==o.MSG_TYPE.IMAGE,onClick:a,onClose:c,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((t=>r(e.id,t)))})},e.id)}))})})};var i=r(n(792339)),o=n(373070),a=n(299420),l=r(n(969651)),s=n(785893);const d=(0,a.SortableElement)((e=>{let{children:t}=e;return t})),u=(0,a.SortableContainer)((e=>{let{children:t}=e;return t}))},763560:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClose:t,item:n}=e;const{mimetype:r,fullPreview:s}=n;return(0,l.jsxs)("div",{className:a.default.container,children:[(0,l.jsx)(o.default,{onClose:t}),(0,l.jsx)(i.default,{mimeType:r,url:s})]})};var i=r(n(569389)),o=r(n(356281)),a=r(n(539858)),l=n(785893)},91801:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{data:t,rotation:n,cropOrigin:r,cropSize:C,containerSize:v,keepRatio:x,onCropChange:y,sendAsSticker:b}=e;const j=t.resetCropRotate().setRotation(n),E=(0,c.useRef)(),_=(0,c.useRef)(),{width:S,height:w}=C,{x:k,y:T}=r,M=(0,c.useRef)(C),I=S/M.current.width,P=w/M.current.height,D=t.width,L=t.height,{width:R,height:O}=g(D,L,n),A=new a.default({width:v.width-20,height:v.height-20}),N=(0,s.calculateContainScale)(n%180?L:D,n%180?D:L,A,h),B=p/N,F=new a.default({width:D+2*B,height:L+2*B}),{width:H,height:U}=g(F.width,F.height,n),G=F.width/2,z=F.height/2;(0,c.useEffect)((()=>{const e=E.current,t=_.current;var n;e&&t&&0===e.nodes().length&&(e.nodes([t]),null===(n=t.getLayer())||void 0===n||n.batchDraw())}));const q=e=>{const{target:t}=e,n=Math.round(t.x()),r=Math.round(t.y()),i=Math.min(Math.round(t.width()*t.scaleX()),D-n),l=Math.min(Math.round(t.height()*t.scaleY()),L-r);y(new o.default({x:n,y:r}),new a.default({width:i,height:l}))},V=["top-left","top-right","bottom-left","bottom-right"];x||V.push("top-center","middle-right","middle-left","bottom-center");return(0,f.jsxs)("div",{className:d.default.container,children:[(0,f.jsx)(i.default,{data:j,scale:N,canEditLayer:!1,style:{padding:p},outlineEnabled:b}),(0,f.jsx)(l.Stage,{className:d.default.cropperContainer,width:Math.round(H*N),height:Math.round(U*N),scaleX:N,scaleY:N,children:(0,f.jsx)(l.Layer,{rotation:n,offsetX:G,offsetY:z,x:H/2,y:U/2,children:(0,f.jsxs)(l.Group,{x:B,y:B,children:[(0,f.jsx)(l.Rect,{x:0,y:0,width:D,height:L,fill:"black",opacity:.6}),(0,f.jsx)(l.Rect,{ref:_,fill:"red",x:k,y:T,width:M.current.width,height:M.current.height,scaleX:I,scaleY:P,draggable:!0,dragBoundFunc:e=>{const{width:t,height:r}=g(S,w,n);let{x:i,y:o}=function(e,t,n,r,i){switch((i%360+360)%360){case 0:return{x:e,y:t};case 90:return{x:e-n,y:t};case 180:return{y:t-r,x:e-n};case 270:return{x:e,y:t-r};default:throw(0,u.default)("Unsupported angle")}}(e.x,e.y,t*N,r*N,n);i<p?i=p:(i-p)/N+t>R&&(i=Math.round(R-t+B)*N),o<p?o=p:(o-p)/N+r>O&&(o=Math.round(O-r+B)*N);return function(e,t,n,r,i){switch((i%360+360)%360){case 0:return{x:e,y:t};case 90:return{x:e+n,y:t};case 180:return{y:t+r,x:e+n};case 270:return{x:e,y:t+r};default:throw(0,u.default)("Unsupported angle")}}(i,o,t*N,r*N,n)},onTransformEnd:q,onDragEnd:q,globalCompositeOperation:"destination-out"}),(0,f.jsx)(l.Transformer,{ref:E,anchorStroke:"blue",anchorFill:"white",anchorSize:10,anchorCornerRadius:5,borderEnabled:!1,centeredScaling:!1,resizeEnabled:!0,rotateEnabled:!1,ignoreStroke:!0,boundBoxFunc:(e,t)=>{const r=D*N+20,i=L*N+20,o=m(e,r,i,n,-n),a=m(t,r,i,n,-n);return Math.round(a.x)<p?(a.x=p,a.width=o.width+(o.x-p)):Math.round(a.width)<20?(a.x=o.x,a.width=o.width):Math.round(a.x+a.width)>Math.round(r)-p&&(a.width=r-a.x-p),Math.round(a.y)<p?(a.y=p,a.height=o.height+(o.y-p)):Math.round(a.height)<20?(a.y=o.y,a.height=o.height):Math.round(a.y+a.height)>Math.round(i)-p&&(a.height=i-a.y-p),m(a,r,i,0,n)},keepRatio:x,enabledAnchors:V},"transformer")]})},"cropper")})]})};var i=r(n(849664)),o=r(n(31579)),a=r(n(527539)),l=n(139519),s=n(372682),d=r(n(862981)),u=r(n(556869)),c=n(667294),f=n(785893);const h=new a.default({width:200,height:200}),p=10;function g(e,t,n){return{width:n%180==0?e:t,height:n%180==0?t:e}}function m(e,t,n,r,i){const a=Math.max(t,n),l=g(t,n,r),s=(a-l.width)/2,d=(a-l.height)/2,u=new o.default({x:e.x+s,y:e.y+d}),c=new o.default({x:a/2,y:a/2}),f=u.rotate(c,i),h=g(t,n,r+i),p=(a-h.width)/2,m=(a-h.height)/2;return{x:f.x-p,y:f.y-m,width:e.width,height:e.height,rotation:e.rotation}}},915373:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClose:t,attachMedia:n,filename:r,filesize:E,fileExt:_,mimeType:S,chat:w,onCaptionChange:k,onEnter:T,setCaptionInputRef:M,onToggleViewOnce:I,onFiles:P}=e;const{caption:D}=(0,y.useModelValues)(n,["caption"]);let L;const R=null!=E?o.default.filesize(E):"",O=function(e){switch(e){case"text/plain":return(0,b.jsx)(m.PreviewTxtIcon,{});case"text/rtf":case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return(0,b.jsx)(f.PreviewDocIcon,{});case"text/csv":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return(0,b.jsx)(p.PreviewSheetIcon,{});case"application/vnd.ms-powerpoint":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return(0,b.jsx)(g.PreviewSlidesIcon,{});case"audio/aac":case"audio/mp4":case"audio/amr":case"audio/mpeg":case"audio/ogg; codecs=opus":case"audio/wav":return(0,b.jsx)(u.PreviewAudioIcon,{});case"application/zip":return(0,b.jsx)(c.PreviewCompressedIcon,{});default:return(0,b.jsx)(h.PreviewGenericIcon,{})}}(S);(0,s.documentWithCaptionsSendEnabled)()&&(L=(0,b.jsx)("div",{className:(0,x.default)(j.footer),children:(0,b.jsx)(a.default,{chat:w,caption:D,viewOnce:!1,viewOnceDisabled:!0,msgType:d.MSG_TYPE.DOCUMENT,theme:"document",onToggleViewOnce:I,onChange:k,onEnter:T,onFiles:P,setCaptionInputRef:e=>{M(n.id,e)}},n.id)}));return(0,b.jsxs)("div",{className:C.default.container,children:[(0,b.jsx)(l.default,{onClose:t,filename:r}),(0,b.jsx)(i.FlexColumn,{xstyle:j.body,align:"center",justify:"center",children:(0,b.jsxs)(i.FlexColumn,{className:(0,x.default)(j.previewContainer),align:"center",justify:"center",children:[(0,b.jsx)("div",{className:(0,x.default)(j.previewIcon),children:O}),(0,b.jsx)("div",{className:(0,x.default)(j.header),children:v.fbt._("No preview available",null,{hk:"3NAVbb"})}),(0,b.jsxs)("div",{className:(0,x.default)(j.metadata),children:[R,null!=_&&""!==_?` - ${_.toUpperCase()}`:null]})]})}),L]})};var i=n(690495),o=r(n(932325)),a=r(n(278791)),l=r(n(356281)),s=n(97858),d=n(373070),u=n(168458),c=n(11106),f=n(519594),h=n(654880),p=n(260056),g=n(647658),m=n(522373),C=r(n(539858)),v=n(548360),x=r(n(156720)),y=n(655241),b=n(785893);const j={body:{flexGrow:"ggj6brxn",width:"ln8gz9je"},previewContainer:{boxSizing:"cm280p3y",paddingTop:"gq7nj7y3",paddingEnd:"ij4mqf17",paddingBottom:"eynyaxvo",paddingStart:"emy6cf64",color:"jmly3brn",backgroundColor:"qqs366u4",borderTopStartRadius:"ikqdvm1y",borderTopEndRadius:"m3qqxsiz",borderBottomEndRadius:"r1ncx0sg",borderBottomStartRadius:"mmj7r7ye"},previewIcon:{marginBottom:"du8bjn1j"},header:{marginTop:"opp68qpq",marginEnd:"jnwc1y2a",marginBottom:"brac1wpa",marginStart:"svoq16ka",fontSize:"q9lllk4z"},metadata:{fontSize:"f8jlpxt4"},footer:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"pazt69qo",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u"}}},356281:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{filename:t,pageCount:n}=e;let r=null;null!=n&&n>0&&(r=i.default.t(138,{count:n,_plural:n}));return(0,d.jsxs)("div",{className:(0,s.default)(u),children:[(0,d.jsx)("button",{"aria-label":l.fbt._("Close",null,{hk:"17RE2w"}),onClick:e.onClose,className:(0,s.default)(p),children:(0,d.jsx)(a.XIcon,{"aria-hidden":!0,color:o.SvgColorProp.SECONDARY})}),(0,d.jsxs)("div",{className:(0,s.default)(c),children:[t&&(0,d.jsx)("span",{className:(0,s.default)(f),children:t}),null!=r&&(0,d.jsx)("span",{className:(0,s.default)(h),children:r})]})]})};var i=r(n(932325)),o=n(220584),a=n(341386),l=n(548360),s=r(n(156720)),d=n(785893);const u={display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",minHeight:"cl7oiv0o",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u",backgroundColor:"ej3x2ktq"},c={display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n"},f={fontSize:"f8jlpxt4",color:"tl2vja3b"},h={marginTop:"hymafltn",fontSize:"dsh4tgtl",color:"pm5hny62"},p={cursor:"ajgl1lbb"}},402420:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClose:t,item:n,attachMedia:r,chat:g,onCaptionChange:m,onEnter:C,setCaptionInputRef:v,onToggleViewOnce:x,onFiles:y}=e;const{mimetype:b,fullPreview:j,fullPreviewSize:E,documentPageCount:_,filename:S}=n,{caption:w}=(0,f.useModelValues)(r,["caption"]);if(!(j&&E&&null!=_&&_>0))return(0,h.jsx)(s.default,{mimeType:n.mimetype,filesize:n.filesize,filename:n.filename,fileExt:n.fileExt,onClose:t,attachMedia:n,chat:g,onCaptionChange:m,onEnter:C,setCaptionInputRef:v,onToggleViewOnce:x,onFiles:y});const k=(0,u.documentWithCaptionsSendEnabled)()&&!g.contact.isEnterprise?(0,h.jsx)(l.default,{chat:g,caption:w,viewOnce:!1,viewOnceDisabled:!0,msgType:c.MSG_TYPE.DOCUMENT,theme:"document",onToggleViewOnce:x,onChange:m,onEnter:C,onFiles:y,setCaptionInputRef:e=>{v(r.id,e)}},r.id):null;return(0,h.jsxs)(o.FlexColumn,{xstyle:p.container,justify:"all",align:"center",children:[(0,h.jsx)(a.default,{xstyle:p.containerElements,children:(0,h.jsx)(d.default,{onClose:t,filename:S,pageCount:_})}),(0,h.jsx)(i.default,{fullPreview:j,fullPreviewSize:E,pageCount:_,showPageCount:!1,showBorder:!0,mimeType:b,filename:S}),(0,h.jsx)(o.FlexRow,{xstyle:[p.footer,p.containerElements],justify:"center",align:"center",children:k})]})};var i=r(n(535355)),o=n(690495),a=r(n(469733)),l=r(n(278791)),s=r(n(915373)),d=r(n(356281)),u=n(97858),c=n(373070),f=(r(n(156720)),n(655241)),h=n(785893);const p={container:{position:"g0rxnol2",overflowX:"gfz4du6o",overflowY:"r7fjleex",height:"ppled2lx"},containerElements:{width:"ln8gz9je"},footer:{position:"g0rxnol2",minHeight:"pazt69qo",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u"}}},913466:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{attachMedia:t,onClose:n,chat:r,viewOnce:o,viewOnceDisabled:h,onCaptionChange:p,onEnter:g,setCaptionInputRef:m,onToggleViewOnce:C,onFiles:v}=e;const{caption:x}=(0,u.useModelValues)(t,["caption"]);return(0,c.jsxs)("div",{className:d.default.container,children:[(0,c.jsx)(l.default,{onClose:n}),(0,c.jsx)(i.default,{mimeType:t.mimetype,url:t.fullPreview,isGif:t.isGif,size:t.fullPreviewSize,processing:t.state===f,preview:t.preview}),(0,c.jsx)("div",{className:d.default.footer,children:(0,c.jsx)(a.default,{chat:r,caption:x,viewOnce:o,viewOnceDisabled:h,msgType:s.MSG_TYPE.VIDEO,theme:"video",onToggleViewOnce:C,onChange:p,onEnter:g,onFiles:v,setCaptionInputRef:e=>{m(t.id,e)}},t.id)})]})};var i=r(n(110535)),o=n(952543),a=r(n(278791)),l=r(n(356281)),s=n(373070),d=r(n(581530)),u=n(655241),c=n(785893);const{PROCESSING:f}=o.ATTACH_MEDIA_STATE},580716:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.BlurToolbar=t.BLUR_MIN_RADIUS=t.BLUR_MAX_RADIUS=t.BLUR_DEFAULT_RADIUS=t.BLUR_DEFAULT_MODE=void 0;var i=r(n(670983)),o=n(175015),a=n(664149),l=n(675085),s=n(690495),d=n(767065),u=n(160334),c=n(477540),f=r(n(500713)),h=r(n(563389)),p=n(392632),g=r(n(37875)),m=n(548360),C=n(667294),v=r(n(156720)),x=n(785893);t.BLUR_MIN_RADIUS=10;t.BLUR_MAX_RADIUS=100;t.BLUR_DEFAULT_RADIUS=50;const y=c.BlurMode.Pixelate;t.BLUR_DEFAULT_MODE=y;const b={blurModeBtn:{paddingTop:"gaujl5hk",paddingBottom:"p9a4hubg",paddingStart:"kjjye8e3",paddingEnd:"tcyu26xv",":hover":{backgroundColor:"cjq3wztw"}},blurModeBtnDivider:{width:"c97dh06e",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},blurModeIconContainer:{marginEnd:"rvlagp7p"},blurModeIcon:{width:"i94gqilv",height:"bmot90v7"},checkmarkIcon:{width:"i0x3nve6",height:"ilf8vifs"},slider:{paddingStart:"sta02ykp",paddingEnd:"a5i9q28d"}};function j(e,t){let{blurMode:n,blurRadius:r,onBlurModeChange:y,onBlurRadiusChange:j}=e;const[E,_]=(0,C.useState)(null),S=(0,C.useRef)(null),w=()=>Boolean(E);(0,C.useImperativeHandle)(t,(()=>({isPanelVisible:w})));const k=n===c.BlurMode.Smooth?u.MediaEditorBlurSmoothIcon:d.MediaEditorBlurPixelateIcon;return(0,x.jsxs)(s.FlexRow,{align:"center",children:[(0,x.jsx)(f.default,{ref:S,onClick:e=>{e.preventDefault();const t={menu:Array.from(c.BlurMode.members()).map((e=>{const t=e===c.BlurMode.Smooth?u.MediaEditorBlurSmoothIcon:d.MediaEditorBlurPixelateIcon;return(0,x.jsx)(l.DropdownItem,{testid:`${String(e).toLowerCase()}-mode-button`,action:t=>((e,t)=>{e.preventDefault(),y(t)})(t,e),children:(0,x.jsxs)(s.FlexRow,{align:"center",className:(0,v.default)(b.blurModeBtn),children:[(0,x.jsx)(t,{className:(0,v.default)(b.blurModeIconContainer),iconXstyle:b.blurModeIcon}),e===n&&(0,x.jsx)(o.CheckmarkMediumIcon,{iconXstyle:b.checkmarkIcon})]})},e)})),dirX:a.DirX.CENTER,dirY:a.DirY.TOP,offsetY:-5,anchor:(0,i.default)(S.current,"blurModePickerButtonRef.current")};_(t)},caret:E?"down":"up",icon:(0,x.jsx)(k,{iconXstyle:b.blurModeIcon,displayInline:!0}),title:m.fbt._("Blur Mode",null,{hk:"a35qL"}),children:(0,x.jsx)("div",{className:(0,v.default)(b.blurModeBtnDivider)})}),(0,x.jsx)("div",{className:(0,v.default)(b.slider),children:(0,x.jsx)(h.default,{min:10,max:100,value:r,onChange:(e,t)=>{j(e,t)},displayValue:!0})}),E&&(0,x.jsx)(p.UIE,{displayName:"BlurModePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{_(null)},children:(0,x.jsx)(g.default,{contextMenu:E})})]})}const E=(0,C.forwardRef)(j);t.BlurToolbar=E,E.displayName="BlurToolbar"},500713:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(592362),o=n(752253),a=n(690495),l=r(n(583385)),s=r(n(261294)),d=n(667294),u=n(785893);const c=(0,d.forwardRef)(((e,t)=>{const{children:n,onClick:r,icon:d,caret:c,disabled:f,title:h,selected:p}=e;let g;if(c)switch(c){case"up":g=(0,u.jsx)(i.ChevronDownAltIcon,{displayInline:!0,className:l.default.rotate});break;case"down":g=(0,u.jsx)(i.ChevronDownAltIcon,{displayInline:!0})}return(0,u.jsxs)("div",{ref:t,role:"button",tabIndex:"-1",onClick:r,className:(0,s.default)(l.default.container,e.className,(0,o.cx)({[l.default.disabled]:f,[l.default.selected]:p})),title:h,children:[d&&(0,u.jsx)(a.FlexRow,{align:"center",justify:"center",className:l.default.icon,children:d}),n&&(0,u.jsx)("span",{className:l.default.body,children:n}),g&&(0,u.jsx)("span",{className:l.default.caret,children:g})]})}));c.displayName="ToolbarButton";var f=c;t.default=f},429600:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(664149),o=n(690495),a=r(n(932325)),l=r(n(500713)),s=r(n(34936)),d=r(n(643118)),u=n(392632),c=r(n(37875)),f=r(n(943208)),h=n(667294),p=n(785893);function g(e,t){const{colors:n,onColorSelect:r,selectedColor:g}=e,[m,C]=(0,h.useState)(null),v=()=>{C(null)},x=()=>Boolean(m);(0,h.useImperativeHandle)(t,(()=>({isPanelVisible:x})));const y=n.map((e=>{let{primaryColor:t,secondaryColor:n}=e;return(0,p.jsx)(s.default,{primaryColor:t,onSelect:()=>r(t),selected:Boolean(g&&g.equals(t))},t.toString())}));let b=null;return m&&(b=(0,p.jsx)(u.UIE,{displayName:"ColorPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:v,children:(0,p.jsx)(c.default,{contextMenu:m})})),(0,p.jsxs)("div",{className:f.default.container,children:[(0,p.jsx)(o.FlexRow,{className:f.default.colorChipsContainer,children:y}),(0,p.jsx)(l.default,{onClick:e=>{e.preventDefault(),e.stopPropagation();const t={menu:(0,p.jsx)(d.default,{onColorSelect:r,selectedColor:g,onColorPickerClose:v}),dirX:a.default.isRTL()?i.DirX.RIGHT:i.DirX.LEFT,dirY:i.DirY.BOTTOM,type:i.MenuType.ColorPicker,anchor:e.target};C(t)},caret:m?"down":"up"}),b]})}var m=(0,h.forwardRef)(g);t.default=m},34936:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{primaryColor:t,secondaryColor:n,onSelect:r,selected:s,withBorder:d}=e,[u,c]=(0,a.useState)(!1),[f,h]=(0,a.useState)(!1);return(0,l.jsx)("div",{onClick:r,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},onMouseDown:()=>{h(!0)},onMouseUp:()=>{h(!1)},className:(0,i.cx)({[o.default.selected]:s,[o.default.hover]:u,[o.default.active]:f,[o.default.colorButton]:!0}),style:{backgroundColor:f&&!s?t.withAlpha(.2).toRgbaString():"transparent"},children:(0,l.jsx)("div",{className:(0,i.cx)({[o.default.colorChipWithBorder]:d&&t.isWhite(),[o.default.primaryColorChipMedium]:"medium"===e.theme,[o.default.primaryColorChip]:!0}),style:{backgroundColor:t.toRgbaString()},children:n&&s&&(0,l.jsx)("div",{className:o.default.secondaryColorChip,style:{backgroundColor:n.toRgbaString()}})})})};var i=n(752253),o=r(n(388282)),a=n(667294),l=n(785893)},160058:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.CropRotateToolbar=function(e){let{canReset:t,onRotateCanvas:n,onReset:r}=e;return(0,u.jsxs)(i.FlexRow,{className:s.default.container,children:[(0,u.jsx)(l.default,{className:s.default.rotateLeftButton,icon:(0,u.jsx)(o.MediaEditorRotateLeftIcon,{displayInline:!0}),title:d.fbt._("Rotate left",null,{hk:"2t86bC"}),onClick:()=>n(-90)}),(0,u.jsx)(l.default,{icon:(0,u.jsx)(a.MediaEditorRotateRightIcon,{displayInline:!0}),title:d.fbt._("Rotate right",null,{hk:"XqQCf"}),onClick:()=>n(90)}),(0,u.jsx)(l.default,{onClick:r,disabled:!t,children:d.fbt._("Reset",null,{hk:"1aUuOP"})})]})};var i=n(690495),o=n(664376),a=n(611381),l=r(n(500713)),s=r(n(81447)),d=n(548360),u=n(785893)},691984:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.Font=void 0;var i=r(n(81109)),o=n(690495),a=n(490836),l=r(n(500713)),s=r(n(695422)),d=n(392632),u=r(n(37875)),c=r(n(844453)),f=r(n(398464)),h=n(667294),p=n(785893);function g(e,t){const{selectedFont:n,fonts:r,onFontSelect:i,onAlignmentSelect:o,selectedAlignment:g}=e,m=(0,h.useRef)(null),[v,x]=(0,h.useState)(null),y=()=>{x(null)},b=()=>Boolean(v);(0,h.useImperativeHandle)(t,(()=>({isMenuVisible:b})));const j=Boolean(v);let E;return v&&(E=(0,p.jsx)(d.UIE,{displayName:"MediaEditorFontDropdown",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:y,children:(0,p.jsx)(u.default,{contextMenu:v})})),(0,p.jsxs)("div",{ref:m,className:f.default.container,children:[(0,p.jsx)(l.default,{onClick:()=>{if(v)return;if(!m.current)return;const e=(0,p.jsx)(s.default,{fonts:r,selectedFont:n,selectedAlignment:g,onFontSelect:i,onAlignmentSelect:o});x({menu:e,anchor:m.current})},icon:(0,p.jsx)(C,{font:n}),selected:j,caret:j?"down":"up",children:(0,p.jsx)("span",{className:f.default.fontLabel,children:(0,a.getFontTranslation)(n)})}),(0,p.jsx)(c.default,{transitionName:"dropdown",children:E})]})}const m=(0,h.forwardRef)(g);function C(e){let{font:t}=e;return(0,p.jsx)(o.FlexRow,{className:f.default.icon,style:(0,i.default)({},(0,a.getFontStyle)(t)),justify:"center",align:"center",children:(0,p.jsx)("div",{"aria-hidden":"true",children:"A"})})}t.Font=m,m.displayName="Font"},695422:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onFontSelect:t,onAlignmentSelect:n,selectedFont:r,selectedAlignment:i}=e;(0,g.useEffect)((()=>{f.FontLoader.loadAllFonts()}),[]);const o=(e,n)=>{e.stopPropagation(),t(n)};return(0,m.jsxs)("div",{children:[e.fonts.map((e=>(0,m.jsx)(v,{font:e,isSelectedFont:r===e,onAction:o},e))),(0,m.jsx)(x,{selectedAlignment:i,onAction:(e,t)=>{e.stopPropagation(),n(t)}},"alignment")]})};var i=n(481999),o=n(164338),a=n(868049),l=n(969579),s=n(752253),d=n(675085),u=n(690495),c=r(n(469733)),f=n(393542),h=n(490836),p=r(n(610255)),g=n(667294),m=n(785893);const C=[{alignment:h.TextAlignment.LEFT,icon:o.AlignLeftIcon},{alignment:h.TextAlignment.CENTER,icon:i.AlignCenterIcon},{alignment:h.TextAlignment.RIGHT,icon:a.AlignRightIcon}];function v(e){let t,{isSelectedFont:n,font:r,onAction:i}=e;n&&(t=(0,m.jsx)("span",{className:p.default.selected,children:(0,m.jsx)(l.CheckmarkIcon,{displayInline:!0})}));const o=(0,h.getFontTranslation)(r);let a;switch(r){case h.FontType.SANS_SERIF:a=p.default.sansSerif;break;case h.FontType.SERIF:a=p.default.serif;break;case h.FontType.NORICAN_REGULAR:a=p.default.noricanRegular;break;case h.FontType.BRYNDAN_WRITE:a=p.default.bryndanWrite;break;case h.FontType.OSWALD_HEAVY:a=p.default.oswaldHeavy}return(0,m.jsx)(d.DropdownItem,{action:e=>i(e,r),children:(0,m.jsxs)("div",{role:"button",className:p.default.item,style:(0,h.getFontStyle)(r),children:[(0,m.jsx)("span",{className:a,children:o}),t]})})}function x(e){let{selectedAlignment:t,onAction:n}=e;return(0,m.jsx)(u.FlexRow,{className:p.default.alignmentContainer,justify:"around",align:"center",children:C.map((e=>{let{alignment:r,icon:i}=e;return(0,m.jsx)(c.default,{children:(0,m.jsx)(d.DropdownItem,{action:e=>n(e,r),children:(0,m.jsx)(i,{className:(0,s.cx)({[p.default.alignmentIconSelected]:t,[p.default.alignmentIcon]:!0})})})},r)}))})}},442864:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{selectedLayer:t,hdEligible:n,inPaintMode:r,inCropRotateMode:P,inTextEditingMode:D,inOutlineMode:L,canUndo:R,canRedo:O,onPaintSelect:A,onCropRotateSelect:N,onTextSelect:B,onEmojiSelect:F,onToggleEmojiPanel:H,onStickerSelect:U,onToggleStickerPanel:G,onOutlineSelect:z,onBlurSelect:q,onUndo:V,onRedo:W,showOutline:Y,onChangeQuality:Z,selectedQuality:K,metadataByQuality:X}=e;const[Q,J]=(0,M.useState)(),[$,ee]=(0,M.useState)(),te=(0,M.useRef)({});te.current={inPaintMode:r,onEmojiSelect:F,onStickerSelect:U,onPaintSelect:A};const ne=()=>{P?N():r?A():L&&z()},re=()=>{J(null),H(!1)},ie=()=>{ee(null),G(!1)};return(0,I.jsxs)(j.MenuBar,{theme:"media-editor",children:[Y&&(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(_.ScissorsIcon,{}),testid:"outline-button",title:T.fbt._("Outline",null,{hk:"47JwiV"}),onClick:e=>{e.preventDefault(),L||ne(),z()},selected:L},"outline"),(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(h.MediaEditorEmojiIcon,{}),testid:"emoji-button",title:T.fbt._("Emoji",null,{hk:"3f1gtD"}),onClick:e=>{e.preventDefault(),e.stopPropagation(),ne();const t=(0,I.jsx)(a.EmojiPanel,{onEmoji:e=>{te.current.inPaintMode&&te.current.onPaintSelect(),te.current.onEmojiSelect(e),re()},onFocusNext:re,onFocusPrev:re});J({menu:t,dirY:o.DirY.TOP,type:o.MenuType.EmojiPicker,anchor:e.target}),H(!0)},selected:Boolean(Q)||t instanceof g.ImageLayer&&t.isEmoji()},"emoji"),(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(v.MediaEditorStickerIcon,{}),testid:"sticker-button",title:T.fbt._("Sticker",null,{hk:"4342bb"}),onClick:e=>{e.preventDefault(),e.stopPropagation(),ne();const t=(0,I.jsx)(S.default,{onSticker:e=>{te.current.inPaintMode&&te.current.onPaintSelect(),te.current.onStickerSelect(e),ie()},onFocusNext:ie,onFocusPrev:ie});t&&(ee({menu:t,dirY:o.DirY.TOP,type:o.MenuType.StickerPicker,anchor:e.target}),G(!0))},selected:Boolean($)||t instanceof g.ImageLayer&&t.isSticker()},"sticker"),(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(x.MediaEditorTextIcon,{}),testid:"text-button",title:T.fbt._("Text",null,{hk:"12XnGO"}),onClick:e=>{e.preventDefault(),ne(),B()},selected:D||t instanceof m.TextLayer},"text"),(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(f.MediaEditorDrawingIcon,{}),testid:"paint-button",title:T.fbt._("Paint",null,{hk:"U5v5P"}),onClick:e=>{e.preventDefault(),r||ne(),A()},selected:r},"paint"),(0,E.mediaEditorBlurToolEnabled)()&&(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(u.MediaEditorBlurPixelateIcon,{}),testid:"blur-button",title:T.fbt._("Blur",null,{hk:"2MLIAo"}),onClick:e=>{e.preventDefault(),ne(),q()},selected:t instanceof p.BlurLayer},"blur"),(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(c.MediaEditorCropRotateIcon,{}),testid:"crop-rotate-button",title:T.fbt._("Crop & Rotate",null,{hk:"3WqVhk"}),onClick:e=>{e.preventDefault(),P||ne(),N()},selected:P},"crop-rotate"),(0,b.isSendHQPhotoEnabled)()&&n&&(0,I.jsx)(j.MenuBarItem,{icon:K===i.MediaQuality.HD?(0,I.jsx)(s.IcHdActiveIcon,{}):(0,I.jsx)(d.IcHdSettingsIcon,{}),testid:"hd-settings-button",title:T.fbt._("Photo quality",null,{hk:"2q8jwU"}),children:(0,I.jsx)(l.default,{onChangeQuality:Z,selectedQuality:K,metadataByQuality:X})},"hd-settings"),(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(y.MediaEditorUndoIcon,{}),testid:"undo-button",title:T.fbt._("Undo",null,{hk:"12qsD9"}),disabled:!R,onClick:V},"undo"),(0,I.jsx)(j.MenuBarItem,{icon:(0,I.jsx)(C.MediaEditorRedoIcon,{}),testid:"redo-button",title:T.fbt._("Redo",null,{hk:"39SiUc"}),disabled:!O,onClick:W},"redo"),$&&(0,I.jsx)(w.UIE,{displayName:"StickerPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:ie,children:(0,I.jsx)(k.default,{contextMenu:$})}),Q&&(0,I.jsx)(w.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:re,children:(0,I.jsx)(k.default,{contextMenu:Q})})]})};var i=n(952543),o=n(664149),a=n(637624),l=r(n(716910)),s=n(848408),d=n(766326),u=n(767065),c=n(740647),f=n(494276),h=n(70843),p=n(477540),g=n(950079),m=n(272802),C=n(77678),v=n(638864),x=n(894850),y=n(309564),b=n(75421),j=n(526795),E=n(97858),_=n(460059),S=r(n(987610)),w=n(392632),k=r(n(37875)),T=n(548360),M=n(667294),I=n(785893)},905540:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineToolbar=function(e){let{smoothing:t,onSmoothingToggle:n,canReset:r,onReset:f}=e;return(0,u.jsxs)(i.FlexRow,{children:[(0,u.jsx)(o.default,{className:(0,d.default)(c),icon:(0,u.jsx)(a.OutlineSmoothIcon,{displayInline:!0}),title:s.fbt._("Smooth",null,{hk:"4vwxxi"}),selected:t,onClick:()=>n(!0)}),(0,u.jsx)(o.default,{className:(0,d.default)(c),icon:(0,u.jsx)(l.OutlineStraightIcon,{displayInline:!0}),title:s.fbt._("Straight",null,{hk:"3KyC8d"}),selected:!t,onClick:()=>n(!1)}),(0,u.jsx)(o.default,{className:(0,d.default)(c),onClick:f,disabled:!r,children:s.fbt._("Reset",null,{hk:"1aUuOP"})})]})};var i=n(690495),o=r(n(500713)),a=n(662558),l=n(422749),s=n(548360),d=r(n(156720)),u=n(785893);const c={marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"mpdn4nr2",marginStart:"fooq7fky"}},205370:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{checked:t,onBackgroundToggle:n}=e;const r=(0,d.jsx)("div",{className:(0,o.cx)({[l.default.circleFilled]:t,[l.default.cirle]:!0}),children:t?(0,d.jsx)("div",{className:l.default.checked,children:(0,d.jsx)(i.CheckmarkIcon,{})}):(0,d.jsx)("div",{className:l.default.unchecked})});return(0,d.jsx)(a.default,{icon:r,onClick:n,children:s.fbt._("Background",null,{hk:"3Y8odq"})})};var i=n(969579),o=n(752253),a=r(n(500713)),l=r(n(715723)),s=n(548360),d=n(785893)},634452:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.thicknesses.map(((t,n)=>(0,l.jsx)(s,{thickness:t,onThicknessSelect:e.onThicknessSelect,selectedThickness:e.selectedThickness},n)));return(0,l.jsx)("div",{className:a.default.container,children:t})};var i=n(752253),o=n(695710),a=r(n(505847)),l=n(785893);function s(e){return(0,l.jsx)("div",{onClick:()=>e.onThicknessSelect(e.thickness),className:(0,i.cx)({[a.default.selected]:e.selectedThickness&&e.selectedThickness===e.thickness,[a.default.thicknessButton]:!0}),children:(0,l.jsx)("div",{className:a.default.thicknessChip,style:{height:(0,o.getThicknessValue)(e.thickness),width:(0,o.getThicknessValue)(e.thickness)}})},o.ThicknessType.getName(e.thickness))}},643118:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{selectedColor:t,onColorSelect:n}=e,[r,c]=(0,l.useState)(null!=t?t:i.DEFAULT_COLOR),f=e=>{c(e)},h=e=>{n(e)};return(0,d.jsxs)("div",{className:(0,s.default)(u),style:{width:i.CONTAINER_WIDTH,height:i.CONTAINER_HEIGHT},children:[(0,d.jsx)(a.default,{color:r,onChangeCanvasColor:f,onChangeSelectedColor:h}),(0,d.jsx)(o.default,{color:r,onChangeColor:e=>{f(e),h(e)},onColorPickerClose:e.onColorPickerClose})]})};var i=n(50477),o=r(n(267901)),a=r(n(435661)),l=n(667294),s=r(n(156720)),d=n(785893);const u={position:"g0rxnol2"}},50477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THROTTLE_WAIT_TIME=t.INPUT_HEIGHT=t.DEFAULT_COLOR=t.CURSOR_SIZE=t.CONTAINER_WIDTH=t.CONTAINER_HEIGHT=t.CANVAS_HEIGHT=void 0;var r=n(102826);t.CONTAINER_WIDTH=334;t.CONTAINER_HEIGHT=203;const i=150.22;t.CANVAS_HEIGHT=i;t.INPUT_HEIGHT=52.78;t.CURSOR_SIZE=20;const o=new r.Color(210,252,86);t.DEFAULT_COLOR=o;t.THROTTLE_WAIT_TIME=900},267901:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{color:t,onColorPickerClose:n,onChangeColor:r}=e,p=(0,d.useRef)(null),[g,m]=(0,d.useState)(t.toHex());return(0,c.jsxs)("div",{className:(0,u.default)(f),style:{width:l.CONTAINER_WIDTH,height:l.INPUT_HEIGHT},children:[(0,c.jsx)(a.default,{withBorder:!0,primaryColor:t,selected:!1,theme:"medium"}),(0,c.jsx)(o.HotKeys,{handlers:{enter:n},children:(0,c.jsx)(i.SelectableDiv,{selectable:!0,children:(0,c.jsx)("input",{type:"text",ref:p,className:(0,u.default)(h),value:g,onChange:e=>{const t=e.target.value;if(m(t),!t||!(0,s.isValidHex)(t))return;const n=s.Color.fromHex(t);r(n)}})})})]})};var i=n(306703),o=n(81644),a=r(n(34936)),l=n(50477),s=n(102826),d=n(667294),u=r(n(156720)),c=n(785893);const f={alignItems:"gndfcl4n",boxSizing:"cm280p3y",display:"p357zi0d",justifyContent:"fhf7t426",minHeight:"t2ljgofx",paddingTop:"i5tg98hk",paddingEnd:"ft2m32mm",paddingBottom:"przvwfww",paddingStart:"nu34rnf1"},h={backgroundColor:"thr4l2wc",borderTop:"q4zabkcz",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a",color:"tviruh8d",fontSize:"bze30y65",lineHeight:"r5qsrrlp",outline:"gk6igrwd",paddingTop:"emrlamx0",paddingEnd:"ft2m32mm",paddingBottom:"aiput80m",paddingStart:"nu34rnf1"}},435661:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{color:t,onChangeSelectedColor:n,onChangeCanvasColor:r}=e,h=(0,l.useRef)(null),[p,g]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e=h.current;if(!e)return;const t=e.getContext("2d");let n=t.createLinearGradient(0,0,e.width,0);n.addColorStop(0,"#ff0000"),n.addColorStop(1/6,"#ffff00"),n.addColorStop(1/6*2,"#00ff00"),n.addColorStop(.5,"#00ffff"),n.addColorStop(1/6*4,"#0000ff"),n.addColorStop(1/6*5,"#ff00ff"),n.addColorStop(1,"#ff0000"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),n=t.createLinearGradient(0,0,0,e.height),n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),n=t.createLinearGradient(0,0,0,e.height),n.addColorStop(0,"rgba(0, 0, 0, 0)"),n.addColorStop(.5,"rgba(0, 0, 0, 0)"),n.addColorStop(1,"rgba(0, 0, 0, 1)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height)}),[]);const m=(0,a.getPositionFromColor)(t),C=(0,d.default)(n,i.THROTTLE_WAIT_TIME),v=(e,t)=>{null!=t&&g(t);const{x:n,y:a}=(e=>{const t=h.current;if(!t)return{x:0,y:0};const n=t.getBoundingClientRect();let r=e.clientX-n.left,o=e.clientY-n.top;return r>n.width&&(r=n.width-.1),r<0&&(r=0),o>n.height&&(o=n.height),o<0&&(o=.1),r-=i.CURSOR_SIZE/2,o-=i.CURSOR_SIZE/2,{x:r,y:o}})(e),l=(e=>{const t=h.current;if(!t)return new o.Color(0,0,0);const n=e.x+i.CURSOR_SIZE/2,r=e.y+i.CURSOR_SIZE/2,a=t.getContext("2d").getImageData(n,r,1,1).data;return new o.Color(a[0],a[1],a[2])})({x:n,y:a});C(l),r(l)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("canvas",{width:i.CONTAINER_WIDTH,height:i.CANVAS_HEIGHT,className:(0,s.default)(c),ref:h,onMouseDown:e=>{v(e,!0)},onMouseMove:e=>{p&&(e.stopPropagation(),e.preventDefault(),v(e))},onMouseUp:e=>{v(e,!1)}}),(0,u.jsx)("div",{className:(0,s.default)(f),style:{width:i.CURSOR_SIZE,height:i.CURSOR_SIZE,left:m.x,top:m.y,backgroundColor:t.toRgbaString()}})]})};var i=n(50477),o=n(102826),a=n(817128),l=n(667294),s=r(n(156720)),d=r(n(286481)),u=n(785893);const c={borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",boxSizing:"cm280p3y",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",position:"g0rxnol2"},f={borderTop:"omlynucm",borderEnd:"a0tvyxpe",borderBottom:"se50n2qd",borderStart:"o8ek0a1j",borderTopStartRadius:"pap8jtso",borderTopEndRadius:"fptqv7l3",borderBottomEndRadius:"gygahxu2",borderBottomStartRadius:"hm7f711o",boxShadow:"aejjokna",boxSizing:"cm280p3y",cursor:"bx7g2weo",pointerEvents:"m62443ks",position:"lhggkp7q"}},675249:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.createCanvasFromSticker=c,t.createImageFromEmoji=function(){return p.apply(this,arguments)},t.createImageFromSticker=function(){return g.apply(this,arguments)};var i=r(n(348926)),o=n(70354),a=n(868607),l=n(698210),s=n(196127),d=r(n(566518)),u=r(n(556869));function c(){return f.apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e){let t=e.rgbaBuffer;if(!t){const n=s.MediaBlobCache.get(e.filehash);if(!n)throw(0,u.default)("Failed to get media blob");const r=yield(0,l.blobToArrayBuffer)(n),i=(yield(0,d.default)(r)).frames[0];if(!i)throw(0,u.default)("Failed to get sticker first frame.");t=i.rgbaBuffer}const n=e.fullWidth,r=e.fullHeight,i=document.createElement("canvas");i.width=n,i.height=r;const o=i.getContext("2d"),a=o.createImageData(n,r);return a.data.set(new Uint8Array(t)),o.putImageData(a,0,0),i}))).apply(this,arguments)}function h(e){return new Promise(((t,n)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>{t(r)},r.onerror=n,r.src=e}))}function p(){return(p=(0,i.default)((function*(e){const t=o.EmojiUtil.getGlyphPath(e,160);if(null==t)return;return yield h(t)}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){let t;if(yield(0,a.detectWebpSupport)()){const n=e.mediaData.filehash,r=s.MediaBlobCache.getOrCreateURL(n);t=yield h(r)}else t=yield c(e.mediaData);return t}))).apply(this,arguments)}},817128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPositionFromColor=function(e){const t=e.toHsl(),n=r.CONTAINER_WIDTH*t.hue-r.CURSOR_SIZE/2,i=r.CANVAS_HEIGHT*(1-t.lightness)-r.CURSOR_SIZE/2;return{x:n,y:i}};var r=n(50477)},398573:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPointFromGroup=function(e){return new i.default({x:e.target.x()-e.target.offsetX(),y:e.target.y()-e.target.offsetY()})},t.getPointFromStage=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return new i.default({x:0,y:0});const{x:r,y:o}=t.getAbsoluteScale(),a=t.content.getBoundingClientRect();let l=e.clientX-a.left,s=e.clientY-a.top;n&&(l=Math.min(Math.max(0,l),a.width),s=Math.min(Math.max(0,s),a.height));return new i.default({x:l/r,y:s/o})},t.getRotationFromGroup=function(e){return e.target.rotation()},t.getScaleFromGroup=function(e){return e.target.scaleX()},t.isEventOnAnchor=function(e){var t,n;return null!==(t=null===(n=e.target.attrs.name)||void 0===n?void 0:n.includes("anchor"))&&void 0!==t&&t},t.isStageCorner=function(e,t){if(!t)return!1;const{x:n,y:r}=t.getAbsoluteScale(),{width:i,height:o}=t.content.getBoundingClientRect();return 0===e.x&&0===e.y||0===e.x&&e.y===o/r||e.x===i/n&&0===e.y||e.x===i/n&&e.y===o/r};var i=r(n(31579))},261931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(t+360)%360;if(!n&&(90===r||270===r)){const t=e.height;e.height=e.width,e.width=t}90!==r&&180!==r||(n?e.x+=e.width:e.x-=e.width);180!==r&&270!==r||(n?e.y+=e.height:e.y-=e.height);if(n&&(90===r||270===r)){const t=e.height;e.height=e.width,e.width=t}}},372682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateContainScale=function(e,t,n,r){if(0===e||0===t)return 1;if(!n.isEmpty()&&(e>n.width||t>n.height))return Math.min(n.width/e,n.height/t);if(!r.isEmpty()&&e<r.width&&t<r.height)return Math.min(r.width/e,r.height/t);return 1}},353884:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{disabled:t,isOn:n,mediaType:r,onChange:v,noMargin:x}=e;const[y,b]=(0,g.default)(l.NUX.EPHEMERAL_VIEW_ONCE);(0,p.useEffect)((()=>{if(!n)return;if(y){const e=(0,m.jsx)(i.default,{onOkClick:()=>{b(),o.ModalManager.close()}});return void o.ModalManager.open(e)}const e=r===a.MSG_TYPE.VIDEO?h.fbt._("Video set to view once",null,{hk:"2L7ZJW"}):h.fbt._("Photo set to view once",null,{hk:"1jN7IR"}),t=(0,s.genId)("view-once-toast"),l=(0,m.jsx)(s.Toast,{msg:e,id:t});return d.ToastManager.open(l),()=>{d.ToastManager.close(t)}}),[y,b,r,n]);const j=n?h.fbt._("Turn off view once",null,{hk:"3cl8Dn"}):h.fbt._("Turn on view once",null,{hk:"3pd2lD"}),E=n?(0,m.jsx)(f.ViewOnceMediaSelectOnIcon,{"aria-label":j,width:26,height:26}):(0,m.jsx)(c.ViewOnceMediaSelectIcon,{"aria-label":j,width:26,height:26});return(0,m.jsx)(u.default,{testid:"view-once-toggle",xstyle:[C.btnViewOnce,x&&C.btnNoMargin,t&&C.btnDisabled],disabled:t,onClick:()=>v(!n),"aria-pressed":n,children:E})};var i=r(n(492027)),o=n(114850),a=n(373070),l=n(95589),s=n(625786),d=n(390737),u=r(n(625903)),c=n(964137),f=n(498216),h=n(548360),p=n(667294),g=(r(n(156720)),r(n(157558))),m=n(785893);const C={btnViewOnce:{display:"f804f6gw",marginTop:"c46o30wg",marginEnd:"bugiwsl0",marginStart:"eab7llgz",color:"svlsagor"},btnNoMargin:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},btnDisabled:{cursor:"h2qzpyga",opacity:"notw83rv"}}},492027:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onOkClick:t}=e;return(0,h.jsx)(i.ConfirmPopup,{onOK:t,cancelText:d.default.t(393),onCancel:()=>{(0,o.openExternalLink)((0,a.getViewOnceFaqUrl)())},children:(0,h.jsxs)(l.FlexColumn,{children:[(0,h.jsx)(s.default,{xstyle:p.graphic,align:"center",children:(0,h.jsx)(c.ViewOnceSenderNuxIcon,{width:195,height:177})}),(0,h.jsx)(u.WDSTextLarge,{children:f.fbt._("Send photos and videos that can be viewed only once",null,{hk:"t5MUO"})}),(0,h.jsx)(u.WDSTextMuted,{children:f.fbt._("For more privacy, your photo or video will disappear from the chat after the recipient opens it once. Remember, people can always take screenshots.",null,{hk:"Y4e8s"})})]})})};var i=n(103440),o=n(753233),a=n(258105),l=n(690495),s=r(n(469733)),d=r(n(932325)),u=n(180519),c=n(875602),f=n(548360),h=(r(n(156720)),n(785893));const p={graphic:{marginBottom:"t4zgqcuo"}}},311975:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,f.default)(u.getAutoDownloadPhotos,u.setAutoDownloadPhotos),[n,r]=(0,f.default)(u.getAutoDownloadAudio,u.setAutoDownloadAudio),[g,m]=(0,f.default)(u.getAutoDownloadVideos,u.setAutoDownloadVideos),[C,v]=(0,f.default)(u.getAutoDownloadDocuments,u.setAutoDownloadDocuments),x=!(e&&n&&!g&&!C);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(o.default,{animation:!1,xstyle:[d.uiPadding.horiz30,d.uiPadding.vert20],children:[(0,h.jsx)(l.SettingsCheckListItem,{testid:"option-photos",id:"photos",checked:e,onChange:t,children:c.fbt._("Photos",null,{hk:"4wPArA"})}),(0,h.jsx)(l.SettingsCheckListItem,{testid:"option-audio",id:"audio",checked:n,onChange:r,children:c.fbt._("Audio",null,{hk:"eXaYA"})}),(0,h.jsx)(l.SettingsCheckListItem,{testid:"option-videos",id:"videos",checked:g,onChange:m,children:c.fbt._("Videos",null,{hk:"4yB3QY"})}),(0,h.jsx)(l.SettingsCheckListItem,{testid:"option-documents",id:"documents",checked:C,onChange:v,children:c.fbt._("Documents",null,{hk:"1UBrPi"})}),(0,h.jsx)(s.TextDiv,{theme:"muted",xstyle:[d.uiPadding.top20,p.disclaimer],children:c.fbt._("Voice messages are always automatically downloaded for the best communication experience.",null,{hk:"N0M8"})})]}),(0,h.jsx)(o.default,{animation:!1,xstyle:d.uiPadding.start5,children:(0,h.jsx)(i.DrawerButton,{onClick:()=>{x&&(!e&&t(),!n&&r(),g&&m(),C&&v())},icon:(0,h.jsx)(a.RefreshIcon,{}),disabled:!x,children:c.fbt._("Reset auto-download settings",null,{hk:"2I1kKi"})})})]})};var i=n(36045),o=r(n(969358)),a=n(735510),l=n(177385),s=n(180519),d=n(676345),u=n(757453),c=n(548360),f=(r(n(156720)),r(n(305988))),h=n(785893);const p={disclaimer:{borderTop:"dl47i6rc"}}},633631:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(414268),o=n(547979),a=n(923092),l=n(400436),s=n(474596),d=n(351053),u=n(822652),c=n(177938),f=r(n(402085)),h=r(n(908081)),p=r(n(324093)),g=n(36045),m=n(626194),C=n(811720),v=n(512938),x=r(n(964223)),y=r(n(570834)),b=r(n(932325)),j=n(114850),E=n(369084),_=n(667294),S=r(n(156720)),w=r(n(969651)),k=r(n(637660)),T=n(808446),M=n(785893);const I={overflowX:"gfz4du6o",overflowY:"ag5g9lrv"},P={flex:"kk3akd72",paddingTop:"a71rq12o",paddingEnd:"iffbo4e8",paddingBottom:"s9fl9ege",paddingStart:"iy3dfvyp",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"hp667wtd"},D={borderBottom:"daad4uqs"};function L(e){let{data:t,onClick:n,onDelete:r}=e;const{blocklist:i}=t,o=i.contact();return(0,M.jsx)(u.Contact,{contact:o,onClick:n,onDelete:r,waitIdle:!0},o.id.toString())}function R(e,t){const n=(0,w.default)();(0,T.useListener)(s.BlocklistCollection,["add","remove"],n);const r=(0,k.default)((()=>new y.default)),u=(e,t)=>{(0,a.handleUnblock)(t,l.BlockEntryPoint.BlockList)},_=e=>{const t=d.ChatCollection.get(e.id);if(null==t?void 0:t.isPSA){const e=t.msgs.last();(0,E.logChatPSARemove)(e,1,1)}(0,o.blockContact)({contact:e,blockEntryPoint:l.BlockEntryPoint.BlockList}),j.ModalManager.close()},R=s.BlocklistCollection.length>0?(0,M.jsx)(x.default,{flatListControllers:[r.current],className:(0,S.default)(I),children:(0,M.jsx)(v.FlatList,{flatListController:r.current,direction:"vertical",data:s.BlocklistCollection.dedupedList().map((e=>({itemKey:e.id.toString(),blocklist:e}))),renderItem:e=>(0,M.jsx)(L,{data:e,onClick:u,onDelete:u})})}):(0,M.jsx)(C.Blocked,{}),O=s.BlocklistCollection.length>0?(0,M.jsx)("div",{"data-testid":"blocked-description",className:(0,S.default)(P),children:b.default.t(128)}):null;return(0,M.jsxs)(h.default,{ref:t,testid:"blocked-contacts-drawer",children:[(0,M.jsx)(m.DrawerHeader,{title:b.default.t(150),onBack:e.onClose,type:m.DRAWER_HEADER_TYPE.LARGE}),(0,M.jsx)("div",{className:(0,S.default)(D),children:(0,M.jsx)(g.DrawerButton,{testid:"li-add-blocked",onClick:()=>{j.ModalManager.open((0,M.jsx)(f.default,{title:b.default.t(129),filter:function(e){return!!c.ContactCollection.isFilteredContact(e)&&(!s.BlocklistCollection.get(e.id)||b.default.t(514))},onCancel:()=>j.ModalManager.close(),onSelect:_}))},icon:(0,M.jsx)(i.AddUserIcon,{directional:!0}),children:b.default.t(129)})}),(0,M.jsxs)(p.default,{children:[R,O]})]})}var O=(0,_.forwardRef)(R);t.default=O},664920:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(348926)),o=n(468926),a=r(n(908081)),l=r(n(324093)),s=n(626194),d=r(n(674905)),u=r(n(969358)),c=n(997772),f=n(388444),h=n(603397),p=n(625786),g=n(390737),m=n(676345),C=n(757453),v=n(548360),x=n(667294),y=r(n(156720)),b=n(785893);const j={description:{display:"f804f6gw",maxWidth:"j216idpa"},checkBoxWrapper:{width:"jswlwoyz",display:"p357zi0d",justifyContent:"ac2vgrno"}};function E(e,t){let{onClose:n}=e;const[r,E]=(0,x.useState)((()=>(0,C.getUserPrivacySettings)().callAdd===c.CALL_ADD.known)),_=function(){var e=(0,i.default)((function*(){const e=!r;E(e);try{e?yield(0,f.setPrivacyForOneCategory)({name:"calladd",value:"known"}):yield(0,f.setPrivacyForOneCategory)({name:"calladd",value:"all"})}catch(e){__LOG__(3,void 0,void 0,!0)`call_settings_drawer: set calladd failed ${e.stack}`,SEND_LOGS("call_settings_drawer: set calladd failed"),g.ToastManager.open((0,b.jsx)(p.Toast,{msg:v.fbt._("Failed to update call silencing, please try again.",null,{hk:"vmmX6"})}))}}));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)(a.default,{ref:t,children:[(0,b.jsx)(s.DrawerHeader,{testid:"drawer-title-call",title:(0,h.callsTitle)(),onBack:n,type:s.DRAWER_HEADER_TYPE.LARGE}),(0,b.jsx)(l.default,{children:(0,b.jsx)(u.default,{theme:"padding-no-vertical",children:(0,b.jsx)(d.default,{title:(0,h.silenceUnknownCallsTitle)(),icon:(0,b.jsx)("div",{className:(0,y.default)([j.checkBoxWrapper,m.uiMargin.start16]),children:(0,b.jsx)(o.CheckBox,{checked:r,onChange:()=>{}})}),theme:"privacy",isLastItem:!0,onClick:_,testid:"silence-unknown-privacy-settings-item",children:(0,b.jsx)("span",{className:(0,y.default)(j.description),children:(0,h.silenceUnknownCallsDescription)()})})})})]})}var _=(0,x.forwardRef)(E);t.default=_},905832:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(122583),o=r(n(670983)),a=n(685639),l=r(n(788998)),s=n(679589),d=n(588750),u=n(437362),c=r(n(908081)),f=r(n(324093)),h=n(626194),p=n(698210),g=n(858770),m=r(n(932325)),C=N(n(213462)),v=n(25878),x=r(n(756680)),y=N(n(288057)),b=n(114850),j=r(n(821384)),E=n(47186),_=n(435595),S=n(956113),w=r(n(844453)),k=r(n(439114)),T=n(130756),M=n(456277),I=n(548360),P=n(667294),D=r(n(156720)),L=r(n(637660)),R=r(n(17533)),O=n(785893);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const B={video:{width:"ln8gz9je",height:"ppled2lx",opacity:"bs7a17vp",transitionProperty:"cr6d9hz6",transitionDuration:"p4t1lx4y",transitionTimingFunction:"k46w8fxw",transform:"n4o0o7gj",transformOrigin:"sx61ek5s"},videoInactive:{opacity:"axi1ht8l"},btn:{position:"lhggkp7q",top:"rl8piizt",start:"m7kgcvyw",marginStart:"avk8rzj1",opacity:"axi1ht8l"},image:{position:"lhggkp7q",width:"ln8gz9je",height:"ppled2lx",animationName:"n0uige08",animationDuration:"hcuw515p"},retakeBtn:{display:"p357zi0d",alignItems:"gndfcl4n",cursor:"ajgl1lbb"},retakeIcon:{flexShrink:"oq44ahr5",marginEnd:"claouzo6",color:"k17s6i4e"},footer:{position:"g0rxnol2",zIndex:"b9fczbqn",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"tvjloe4n",paddingTop:"i5tg98hk",paddingEnd:"iffbo4e8",paddingBottom:"eb4rp10x",paddingStart:"khscay3k",backgroundColor:"emqjox7q"},container:{position:"g0rxnol2",display:"p357zi0d",flexGrow:"ggj6brxn",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je"},body:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",width:"ln8gz9je",height:"ppled2lx"},videoContainer:{zIndex:"b9fczbqn",width:"ln8gz9je",height:"ppled2lx"},webcamContainer:{width:"ln8gz9je",height:"ppled2lx"}},F="ANIMATING",H="LOADING",U="RECORDING",G="SENDING";function z(e,t){const{chat:n,disposeStream:r,onCaptured:A,onBack:N,onSend:z}=e,q=(0,P.useRef)(null),V=(0,P.useRef)(null),W=(0,P.useRef)(null),Y=(0,P.useRef)(null),[Z,K]=(0,P.useState)(void 0),[X,Q]=(0,P.useState)(void 0),[J,$]=(0,P.useState)(F),[ee,te]=(0,P.useState)(void 0),ne=(0,R.default)(((e,t)=>{var n;e?(null===(n=V.current)||void 0===n||n.call(V),V.current=t,$(H),te(e),(0,C.isSrcObjectInVideoElement)()||(e?(window.URL.revokeObjectURL(W.current),W.current=window.URL.createObjectURL(e)):(window.URL.revokeObjectURL(W.current),W.current=void 0))):J===F&&$(H)})),re=(0,L.default)((()=>new a.ShiftTimer((e=>{let{stream:t,disposeStream:n}=e;ne(t,n)})))),ie=(0,L.default)((()=>new a.ShiftTimer((e=>{let{stream:t,disposeStream:n}=e;var r;t&&n&&(null===(r=V.current)||void 0===r||r.call(V));(0,C.isSrcObjectInVideoElement)()||(W.current=window.URL.revokeObjectURL(W.current))})))),oe=()=>{n&&n.setAttachMediaContents(null)};(0,P.useEffect)((()=>(re.current.onOrBefore(300,{stream:e.stream,disposeStream:e.disposeStream}),()=>{re.current.cancel(),W.current&&window.URL.revokeObjectURL(W.current),null==r||r(),q.current&&q.current.logCancel(),oe()})),[]);const ae=(e,t)=>{re.current.forceRunNow({stream:e,disposeStream:t})};(0,P.useImperativeHandle)(t,(()=>({loadNewStreamTimerUpdate:ae,loadNewStream:ne})));const le=()=>{var e;const t=null===(e=Y.current)||void 0===e?void 0:e.underlyingVideo();if(!t)return;const i=document.createElement("canvas");i.height=t.videoHeight,i.width=t.videoWidth;const a=i.getContext("2d");if(a)if(a.translate(i.width,0),a.scale(-1,1),a.drawImage(t,0,0,t.videoWidth,t.videoHeight),A)(0,d.canvasToBlob)(i).then((e=>{A(e)}));else{ie.current.onOrBefore(500,{stream:ee,disposeStream:r});const e=new M.MediaPickerStatsLogger;e.logAdd("CAPTURE_MEDIA","image",T.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),e.chatRecipients=(null==n?void 0:n.groupMetadata)?n.groupMetadata.participants.length:1,q.current=e;const t=i.toDataURL("image/jpeg"),a=(0,u.dataURLtoBlob)(t);if(n){n.attachMediaContents||n.setAttachMediaContents(new l.default({chatParticipantCount:n.getParticipantCount()}));(0,o.default)(n.attachMediaContents,"chat.attachMediaContents").processAttachments([{file:(0,p.createFile)([a],"",{type:"image/jpeg"})}])}K(t),$(G),te(void 0)}else __LOG__(3)`CaptureDrawer:onCapture can not get 2d context`},se=e=>{$(U),Q({width:e.videoWidth,height:e.videoHeight})},de=()=>{$(H),oe();const{asyncStream:e,disposeStream:t}=C.start("camera");V.current=t,e.then((e=>{e&&((0,C.isSrcObjectInVideoElement)()||(W.current=window.URL.createObjectURL(e)),te(e))})).catch((0,i.filteredCatch)(y.GetUserMedia.NotAllowedError,(()=>{N(),b.ModalManager.open((0,O.jsx)(g.GuidePopup,{messaging:g.Messaging.CAMERA_FAIL,type:g.TYPE.GUIDE_UNBLOCK}))}))).catch((0,i.filteredCatch)(y.GetUserMedia.GetUserMediaError,(()=>{N(),b.ModalManager.open((0,O.jsx)(g.GuidePopup,{messaging:g.Messaging.CAMERA_MISSING,type:g.TYPE.GUIDE_NONE}))})))},ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isViewOnce:n}=t;if(z)if(0===e.length)__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("capture-drawer-no-img");else{const{media:t,mentionedJidList:a,groupMentions:l}=(0,o.default)(e[0],"medias[0]"),s=t.file;var r,i;if(s instanceof Blob)z({getImg:x.default.createFromData(s,s.type),caption:null!==(r=t.caption)&&void 0!==r?r:void 0,isViewOnce:!!n,mentionedJidList:a,groupMentions:l}),null===(i=q.current)||void 0===i||i.logSend({isViewOnce:!!n});oe()}else __LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("capture-drawer-no-onSend")};let ce,fe,he,pe;const ge="capture-cover"===e.theme?"cover":"contain";switch(J){case F:case H:if(pe=(0,O.jsx)(S.Spinner,{stroke:4,size:50}),J===F)break;case U:{const e=(0,D.default)(B.video,ee&&J===H&&B.videoInactive),t=ee?(0,O.jsx)(k.default,{autoPlay:!0,ref:Y,onPlay:se,src:W.current?W.current:void 0,srcObject:W.current?void 0:ee}):null;he=ee?(0,O.jsx)("div",{className:(0,D.default)(B.webcamContainer),children:(0,O.jsx)(j.default,{type:ge,size:X,children:(0,O.jsx)("div",{className:e,"data-animage-capture-webcam":!0,children:t})})},"webcam"):null,ce=J===U?(0,O.jsx)("div",{className:(0,D.default)(B.btn),children:(0,O.jsx)(_.Round,{large:!0,onClick:le,children:(0,O.jsx)(s.CameraIcon,{})})},"btn-capture"):null;break}case G:if(he=(0,O.jsx)(j.default,{type:ge,size:X,children:(0,O.jsx)("img",{alt:"",className:(0,D.default)(B.image),"data-animate-capture-snapshot":!0,src:Z})}),n){const e=(0,o.default)(n.attachMediaContents,"chat.attachMediaContents");he=(0,O.jsx)(v.MediaEditor,{theme:v.MediaTheme.CAPTURE,chat:n,initCaption:null,mediaCollection:e,onDropText:()=>{},onSendMedia:ue})}fe=(0,O.jsxs)("div",{className:(0,D.default)(B.retakeBtn),onClick:de,children:[(0,O.jsx)("div",{className:(0,D.default)(B.retakeIcon),children:(0,O.jsx)(E.ReturnIcon,{})}),I.fbt._("Retake",null,{hk:"tGeQz"})]});break;default:__LOG__(2)`captureDrawer:render Unhandled video capture state ${J}`}const me=(0,O.jsx)("div",{className:(0,D.default)(B.footer),children:(0,O.jsx)(w.default,{transitionName:"pop_delay",children:ce})});return(0,O.jsxs)(c.default,{theme:e.theme,children:[(0,O.jsx)(h.DrawerHeader,{title:m.default.t(592),type:h.DRAWER_HEADER_TYPE.OFFSET,onCancel:e.onBack,children:fe}),(0,O.jsxs)(f.default,{overflow:"hidden",children:[(0,O.jsxs)("div",{className:(0,D.default)(B.container),children:[pe,(0,O.jsx)("div",{className:(0,D.default)(B.body),children:(0,O.jsx)(w.default,{transitionName:"capture",className:(0,D.default)(B.videoContainer),children:he})})]}),me]})]},"attach-capture-modal")}var q=(0,P.forwardRef)(z);t.default=q},289391:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.jsx)(i.default,{onBack:()=>{e.onClose(),e.onCancel()},chat:e.chat,caption:!0,theme:"capture-contain",onSend:t=>{let{getImg:n,caption:r,isViewOnce:i,mentionedJidList:a}=t;const l=e.chat,s=l.composeQuotedMsg;l.composeQuotedMsg=null;const d=l.getComposeContents().ctwaContext||void 0;(0,o.prepRawMedia)(n,{}).sendToChat(l,{caption:r,mentionedJidList:a,quotedMsg:s,ctwaContext:d,isViewOnce:i}),e.onCaptureSent(),e.onClose()},stream:e.stream,disposeStream:e.disposeStream})};var i=r(n(905832)),o=n(644234),a=n(785893)},54286:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=a.default.isRTL();return(0,u.jsx)("div",{className:(0,d.default)(c.container),children:(0,u.jsx)(o.FlexRow,{align:"start",justify:"start",wrap:"wrap",children:e.categories.map((n=>(0,u.jsx)(i.default,{"aria-label":s.fbt._("Unselect category",null,{hk:"2Swokr"}),onClick:()=>e.onRemoveItem(n.id),label:n.localized_display_name,PostfixIcon:t?void 0:l.RoundXInvIcon,PrefixIcon:t?l.RoundXInvIcon:void 0,xstyle:c.chip},n.id.toString())))})})};var i=r(n(407284)),o=n(690495),a=r(n(932325)),l=n(506595),s=n(548360),d=r(n(156720)),u=n(785893);const c={container:{paddingTop:"b7n2qyd4",paddingEnd:"iffbo4e8",paddingBottom:"s8gyl5p1",paddingStart:"khscay3k",backgroundColor:"sjyhwr5o",borderTop:"dl47i6rc"},chip:{marginTop:"dj1c3cmq",marginEnd:"bugiwsl0",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"}}},696716:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(15842),o=n(919833),a=n(366202),l=n(72696),s=r(n(163567)),d=r(n(659177)),u=n(356097),c=r(n(908081)),f=r(n(324093)),h=n(626194),p=r(n(969358)),g=n(896971),m=n(56884),C=n(163755),v=n(95576),x=r(n(932325)),y=r(n(344460)),b=n(48794),j=n(61113),E=n(787742),_=n(241164),S=r(n(273873)),w=n(373070),k=n(534526),T=n(316348),M=n(555622),I=n(956113),P=n(692057),D=n(907052),L=n(659505),R=n(625786),O=n(390737),A=n(382117),N=r(n(806077)),B=n(113852),F=n(130756),H=n(531737),U=n(818674),G=n(512873),z=n(548360),q=n(667294),V=r(n(156720)),W=r(n(969651)),Y=r(n(637660)),Z=n(808446),K=n(871210),X=r(n(321201)),Q=r(n(895851)),J=n(785893);const $={icon:{display:"l7jjieqr",width:"dh5rsm73",marginEnd:"bugiwsl0",color:"s4k44ver",textAlign:"qfejxiq4",verticalAlign:"j0vv7iav"},svg:{width:"dh5rsm73",height:"hpdpob1j"},statusBlue:{color:"sunvlxxz"},ack:{color:"ajgik1ph"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},body:{flexShrink:"oq44ahr5",paddingTop:"emrlamx0",paddingBottom:"s9fl9ege"}};function ee(e,t){const{msg:n}=e,[r,ee,te,ne,re,ie,oe,ae,le,se,de,ue,ce,fe,he,pe]=(0,K.useMsgValues)(e.msg.id,[E.getId,E.getStar,E.getType,E.getIsGif,E.getIsViewOnce,E.getLabels,E.getNumTimesForwarded,E.getIsFrequentlyForwarded,E.getAgendId,E.getT,E.getIsMdHistoryMsg,E.getKicSender,E.getKicTimestampMs,E.getIsKept,C.getAsRevoked,E.getLatestEditMsgKey]),ge=(0,C.getChat)(n),me=(0,X.default)(),Ce=(0,Q.default)(),ve=(0,q.useRef)(null),xe=(0,q.useRef)(null),ye=null==ge?void 0:ge.id,be=(0,Y.default)((()=>new A.UiActionWamEvent({uiActionType:F.UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0,isLid:ye.isLid()}))),[je,Ee]=(0,q.useState)(void 0),[_e,Se]=(0,q.useState)(!1),we=(0,W.default)();(0,Z.useListener)(null==je?void 0:je.played,["add","remove"],we),(0,Z.useListener)(null==je?void 0:je.read,["add","remove"],we),(0,Z.useListener)(null==je?void 0:je.delivery,["add","remove"],we),he&&(null==me||me.requestDismiss()),(0,Z.useListener)(j.MsgCollection,"remove",(e=>{e.id.equals(r)&&(null==me||me.requestDismiss())})),(0,Z.useListener)(n,"change:latestEditMsgKey",(()=>null==me?void 0:me.requestDismiss()));const ke=(0,N.default)("MD_EXTENSION");let Te,Me,Ie;if((0,q.useEffect)((()=>{var e;M.QPL.markerStart(T.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,{annotations:{bool:{is_premium_subscriber:ke}}}),M.QPL.markerPoint(T.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_start"),_.MsgInfoCollection.find(r).then((e=>{M.QPL.markerPoint(T.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_end"),Ce.aborted?M.QPL.markerEnd(T.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,i.QuickLogActionType.CANCEL):(Ee(e),M.QPL.markerEnd(T.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,i.QuickLogActionType.SUCCESS))})).catch((()=>{M.QPL.markerEnd(T.QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,i.QuickLogActionType.FAIL),Se(!0),O.ToastManager.open((0,J.jsx)(R.Toast,{msg:z.fbt._("Couldn't display message info. Try again later.",null,{hk:"mRFf6"}),id:(0,R.genId)("msg_info_failed")}))}));const t=null===(e=ve.current)||void 0===e?void 0:e.getContainer();te===w.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight)}),[pe]),(0,q.useEffect)((()=>{const e=be.current;e&&(Object.assign(e,(0,H.getGroupCountMetricsFromChatWid)(null==ge?void 0:ge.id)),e.markUiActionT(),e.commit(),be.current=void 0),(0,U.logUiActionShadowPrivateStatsTestEvents)(),(0,a.logMessageInfo)(le)}),[]),je){const e=[];if((0,m.isKeepInChatReadEnabled)()&&fe&&null!=ue&&null!=ce){const t=(0,g.getKeptByString)(ue),n=(0,J.jsx)("span",{className:(0,V.default)($.icon),children:(0,J.jsx)(v.KeepInChatIcon,{iconXstyle:$.svg})});e.push((0,J.jsx)(s.default,{title:t,t:ce/1e3,icon:n},"keep-in-chat"))}if(!de){var Pe;const t=(0,E.getIsAckPlayable)(n);if(t||re){Me=t?z.fbt._("Seen",null,{hk:"2XnbT5"}):z.fbt._("Seen",null,{hk:"n9K7N"});const r=je.played.head(),i=null==r?void 0:r.t;let o=(0,J.jsx)(B.ViewOnceViewedIcon,{xstyle:$.statusBlue,iconXstyle:$.svg});t&&(n.type===w.MSG_TYPE.PTT?o=(0,J.jsx)(D.StatusPttIcon,{xstyle:$.statusBlue,iconXstyle:$.svg}):n.type===w.MSG_TYPE.PTV&&(o=(0,J.jsx)(L.StatusVideoIcon,{xstyle:$.statusBlue,iconXstyle:$.svg})));const a=(0,J.jsx)("span",{className:(0,V.default)($.icon),children:o});e.push((0,J.jsx)(s.default,{title:t?x.default.t(438):z.fbt._("Opened",null,{hk:"4lUnhv"}),t:i,icon:a},"played"))}const r=je.read.head(),i=null==r?void 0:r.t,o=(0,J.jsx)("span",{className:(0,V.default)($.icon),children:(0,J.jsx)(P.StatusDblcheckIcon,{xstyle:$.ack,iconXstyle:$.svg})});Me=null!==(Pe=Me)&&void 0!==Pe?Pe:x.default.t(440),e.push((0,J.jsx)(s.default,{title:Me,t:i,icon:o},"read"));const a=je.delivery.head(),l=null==a?void 0:a.t,d=(0,J.jsx)("span",{className:(0,V.default)($.icon),children:(0,J.jsx)(P.StatusDblcheckIcon,{iconXstyle:$.svg})});e.push((0,J.jsx)(s.default,{title:x.default.t(436),t:l,icon:d},"delivery"))}if(ke&&(0,l.isMultiDeviceMessageAttributionEnabled)()&&null!=le){var De,Le;const t=null!==(De=null===(Le=o.AgentCollection.get(le))||void 0===Le?void 0:Le.name)&&void 0!==De?De:"";e.push((0,J.jsx)(s.default,{title:t,t:se,icon:(0,J.jsx)("span",{className:(0,V.default)($.icon),children:(0,J.jsx)(k.MultiDeviceIcon,{iconXstyle:$.svg})})},"agent"))}Te=(0,J.jsx)(p.default,{theme:"padding",children:e})}je||_e||(Ie=(0,J.jsx)("div",{className:(0,V.default)($.spinner),children:(0,J.jsx)(I.Spinner,{size:50,stroke:4})},"spinner"));let Re=null;return ie&&ie.length>0&&(0,l.canDisplayLabel)()&&(Re=(0,J.jsx)(p.default,{theme:"padding",children:(0,J.jsx)(y.default,{labels:ie})})),(0,J.jsxs)(c.default,{ref:t,theme:"striped",children:[(0,J.jsx)(h.DrawerHeader,{title:x.default.t(435),type:h.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{null==me||me.requestDismiss()}}),(0,J.jsx)(S.default,{ref:ve,chatPreference:d.default.assertGet("defaultPreference"),children:(0,J.jsx)(G.Wrapper,{msg:n,ref:xe,displayType:u.DISPLAY_TYPE.MSG_INFO,isMsgVisible:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===r&&(!!n||(null===(t=xe.current)||void 0===t?void 0:t.getMsgComponentRef()))},position:b.MsgPosition.END,onProductClick:e.onProductClick})}),(0,J.jsxs)(f.default,{children:[Re,(0,J.jsxs)("div",{className:(0,V.default)($.body),children:[Ie,Te]})]})]},"message-info-modal")}var te=(0,q.forwardRef)(ee);t.default=te},481518:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{supportTag:t,onSend:n,onFailure:r,onCancel:M,onEmail:I,entityId:P}=e,D=(0,w.default)(),[L,R]=(0,S.useState)(""),[O,A]=(0,S.useState)(null),[N,B]=(0,S.useState)(!0),[F,H]=(0,S.useState)(!1),U=(0,S.useRef)(null);(0,S.useEffect)((()=>{var e;null===(e=U.current)||void 0===e||e.restoreFocus()}),[]);const G=e=>e.length>=10,z=function(){var e=(0,i.default)((function*(){if(G(L)){const e=(yield(0,E.getWhatsAppWebExternalBetaJoinedIdb)())?"[External Web Beta] "+L:L,i=(0,m.getDebugInfo)({supportTag:t,convertFields:!0,addUserAgentDetails:!0,entityId:P}),l=N?JSON.stringify(i):void 0;H(!0),null==n||n({description:e}),__LOG__(2)`InAppSupport: Sending support request with deviceInfo=${N}:${null!=l?l:"n/a"}`,(0,a.default)((0,x.sendSupportRequest)(e,l),D).then((t=>{null!=t.message?(C.ModalManager.close(),j.ToastManager.open((0,k.jsx)(b.Toast,{msg:_.fbt._("Your question has been sent to WhatsApp Support. We'll respond in a WhatsApp chat shortly.",null,{hk:"2wt947"})}))):r&&r({description:e})})).catch((0,o.catchAbort)((()=>{}))).finally((()=>{H(!1)}))}else A(g.default.t(576))}));return function(){return e.apply(this,arguments)}}(),q=e=>{e.stopPropagation()},V={enter:q};F&&(V.esc=q);const W="contact-us-include-device";return(0,k.jsx)(d.ConfirmPopup,{title:_.fbt._("Contact us",null,{hk:"1FJ2cU"}),okDisabled:!G(L)||F,okSpinner:F,okText:_.fbt._("Send",null,{hk:"2M7k89"}),onOK:z,onCancel:F?void 0:()=>{null==M||M(),C.ModalManager.close()},children:(0,k.jsx)(p.HotKeys,{handlers:V,children:(0,k.jsxs)(f.FlexColumn,{align:"stretch",children:[(0,k.jsx)(v.RichTextField,{error:O,maxLength:5e3,onChange:e=>{let{text:t}=e;R(t)},placeholder:_.fbt._("Tell us how we can help",null,{hk:"1R8W3F"}),ref:U,value:L,theme:"contact-us"}),(0,k.jsx)(h.default,{xstyle:T.deviceInfo,grow:1,children:(0,k.jsx)(y.WDSTextSmall,{as:"p",children:_.fbt._("Include device information? (optional)",null,{hk:"1nGqHl"})})}),(0,k.jsxs)(f.FlexRow,{children:[(0,k.jsx)(h.default,{xstyle:T.deviceInfoLabel,grow:1,children:(0,k.jsx)("label",{htmlFor:W,children:(0,k.jsxs)(y.TextParagraph,{theme:"plain",children:[_.fbt._("Technical details like your model and settings can help us answer your question.",null,{hk:"1Edwn1"})," ",(0,k.jsx)(u.ExternalLink,{href:(0,c.getSupportChatFaqUrl)(),children:g.default.t(393)})]})})}),(0,k.jsx)(h.default,{xstyle:T.deviceInfoCheckbox,grow:0,children:(0,k.jsx)(l.CheckBox,{checked:N,id:W,onChange:()=>{B(!N)}})})]}),(0,k.jsx)(f.FlexRow,{children:(0,k.jsx)(h.default,{xstyle:T.emailLink,grow:1,children:(0,k.jsx)(s.default,{onClick:()=>{I&&(C.ModalManager.close(),I({description:L}))},children:_.fbt._("Get support via email",null,{hk:"3vajRd"})})})})]})})})};var i=r(n(348926)),o=n(898817),a=r(n(229922)),l=n(468926),s=r(n(196554)),d=n(103440),u=n(753233),c=n(258105),f=n(690495),h=r(n(469733)),p=n(81644),g=r(n(932325)),m=n(408827),C=n(114850),v=n(202391),x=n(320291),y=n(180519),b=n(625786),j=n(390737),E=n(757453),_=n(548360),S=n(667294),w=(r(n(156720)),r(n(895851))),k=n(785893);const T={deviceInfo:{marginBottom:"t4zgqcuo",marginTop:"opp68qpq"},deviceInfoCheckbox:{minWidth:"r7yn1a4o"},deviceInfoLabel:{paddingEnd:"l9g3jx6n"},emailLink:{marginTop:"opp68qpq"}}},413252:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,a.jsx)("div",{className:(0,o.default)(l),children:(0,a.jsx)("div",{className:(0,o.default)(s),children:i.fbt._("Drag file here",null,{hk:"y9aHs"})})},"container")};var i=n(548360),o=r(n(156720)),a=n(785893);const l={position:"lhggkp7q",zIndex:"q297boen",width:"ln8gz9je",height:"ppled2lx",backgroundColor:"ipp30ku8"},s={boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"nioqejvd",marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",fontSize:"kuk548i2",color:"hn08p73j",borderTop:"joyebr9p",borderEnd:"jradjnc8",borderBottom:"opq9nt8f",borderStart:"ikkoynhc"}},171915:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{rootRef:t,disabled:n,onClick:r,children:c}=e;const[f,h,p]=function(e){const[t,n]=(0,a.useState)(),[r,i]=(0,a.useState)(),[o,{isIntersecting:l}]=(0,s.default)({root:e,rootMargin:null!=t?`-${t.offsetHeight}px`:void 0});return(0,a.useEffect)((()=>{if(null!=e&&null!=t&&null!=r){if(l)t.style.removeProperty("right");else{const n=e.offsetWidth-(e.clientWidth+2*e.clientLeft);t.style.setProperty("right",`${n}px`)}r.style.setProperty("min-height",`${t.offsetHeight}px`)}}),[l,e,t,r]),[l,e=>{o(e),i(e)},n]}(t);return(0,d.jsx)("div",{ref:h,className:(0,l.default)(u.ctaPlaceholder),children:(0,d.jsx)(o.default,{ref:p,xstyle:[f?null:u.ctaContainerSticky],theme:"sticky-button-section",children:(0,d.jsx)(i.default,{type:"primary",onClick:r,disabled:n,className:(0,l.default)(u.ctaButton),children:c})})})};var i=r(n(692629)),o=r(n(969358)),a=n(667294),l=r(n(156720)),s=r(n(105170)),d=n(785893);const u={ctaContainerSticky:{position:"ly2gu7o9",bottom:"jxacihee",left:"tukmaf4q",boxShadow:"th8ck7tu"},ctaButton:{display:"f804f6gw",marginBottom:"pel5o5rz"},ctaPlaceholder:{marginBottom:"brac1wpa"}}},225882:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.E2eChangeModal=function(e){const t=(0,s.useModelValues)(e.contact,["formattedShortName"]),n=l.fbt._("OK",null,{hk:"4oTrfy"}),r=t.formattedShortName,u=o.default.t(726,{contactName:r}),c=o.default.t(725,{contactName:r});return(0,d.jsx)(i.ConfirmPopup,{title:u,onOK:()=>a.ModalManager.close(),okText:n,children:c})};var i=n(103440),o=r(n(932325)),a=n(114850),l=n(548360),s=n(655241),d=n(785893)},428611:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(a.Modal,{type:e.theme,ariaLabel:o.default.t(133),children:(0,s.jsx)(i.EditImageDrawer,{onCancel:()=>{l.ModalManager.close()},onFinished:(t,n)=>{e.onFinished(t,n),l.ModalManager.close()},onRetake:e.onRetake,retryText:i.RETRY_OPTIONS.RESTART,img:e.img,cropShape:e.cropShape||void 0})})};var i=n(323795),o=r(n(932325)),a=n(118612),l=n(114850),s=n(785893)},699285:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msgs:t,onForward:n,onClose:r}=e;const P=S.fbt._({"*":"Forward messages to",_1:"Forward message to"},[S.fbt._plural(t.length)],{hk:"F6yRL"}),D=t[0],L=(0,g.getChat)(D);let R;R="video"!==D.type&&"image"!==D.type?"message":D.type;const O=t.some((e=>(0,v.getIsFrequentlyForwarded)(e))),A=t.some((e=>e.isForwarded)),N=t.filter((e=>!(0,v.getIsFrequentlyForwarded)(e)&&e.getForwardingScoreWhenForwarded()===d.default.FREQUENTLY_FORWARDED_SENTINEL));let B;N.length&&(B=(0,M.jsx)(p.default,{frequentlyForwardedCount:N.length,totalCount:t.length}));const F=O?1:E.MULTICAST_LIMIT_GLOBAL,H=e=>{const t=e.map((e=>{let{chat:t,reason:n}=e;return(0,M.jsxs)("p",{children:[t.formattedTitle," : ",n]},t.id.toString())}));C.ModalManager.open((0,M.jsx)(s.ConfirmPopup,{onOK:()=>C.ModalManager.close(),okText:S.fbt._("OK",null,{hk:"4oTrfy"}),children:t}),void 0)},U=(0,x.getMediaMsgWithCaptionForForwarding)(t),[G,z]=(0,w.useState)(!!U),[q,V]=(0,T.default)(y.NUX.FORWARD_MEDIA_WITH_CAPTION),[W,Y]=(0,w.useState)(!1),Z=()=>{z(!1)},[K,X]=(0,w.useState)(null),Q=e=>{X(e)},J=1===t.length&&(0,v.getIsMedia)(t[0])&&!t[0].caption;let $=null;U?$=(0,M.jsx)("div",{className:(0,k.default)([I.forwardMediaWithCaptionPreview]),children:(0,M.jsx)(f.default,{msg:U,displayCaptionText:G,onRemoveCaptionSelect:Z,onAppendMessage:Q})}):J&&(0,h.isAppendMessageWhenForwardingMediaWithoutCaptionEnabled)()&&($=(0,M.jsx)("div",{className:(0,k.default)([I.forwardMediaWithCaptionPreview]),children:(0,M.jsx)(f.default,{msg:t[0],displayCaptionText:G,onRemoveCaptionSelect:Z,onAppendMessage:Q})}));const ee={onConfirm:function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(G&&q)return void Y(!0);let s=0;for(;s<t.length;s++){const e=t[s];(0,v.getIsPSA)(e)&&(0,_.logChatPSAForward)(e)}a.ChatCollection.forwardMessagesToChats(t,e,G).catch((0,o.filteredCatch)(u.default,(e=>{H(e.reasons)}))).finally((()=>{if(null==K||""===K)return;const t=e.map((e=>(0,j.sendTextMsgToChat)(e,K)));return Promise.all(t).catch((()=>{}))})),r(),n&&n(t),l.Cmd.openChatFromUnread(e[0]).then((t=>{t&&e[0].contact.isMe&&m.UiMessageYourselfSearchAction.logMessageYourselfOpenedEvent(e[0],i)}))},maxItems:F,excludeChat:L,excludeBroadcast:!0,msgType:R,title:P,listType:b.ListType.CHAT_SELECT_MODAL,customHeader:B,hasFrequentlyForwarded:O,hasForwarded:A,ephemeralIcon:"chat-list",previewComponent:$,hasDirtyAppendMsgComposeBox:null!=K&&""!==K};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(b.SelectModal,(0,i.default)({},ee)),W&&(0,M.jsx)(c.default,{onOk:()=>{V(),Y(!1)}})]})};var i=r(n(81109)),o=n(122583),a=n(351053),l=n(780549),s=n(103440),d=r(n(846870)),u=r(n(4780)),c=r(n(231422)),f=r(n(574755)),h=n(402066),p=r(n(711664)),g=n(163755),m=n(165433),C=n(114850),v=n(787742),x=n(430231),y=n(95589),b=n(61740),j=n(498703),E=n(962260),_=n(369084),S=n(548360),w=n(667294),k=r(n(156720)),T=r(n(157558)),M=n(785893);const I={forwardMediaWithCaptionPreview:{zIndex:"mb8var44",height:"ev3135j0",width:"ln8gz9je",backgroundColor:"ik2lb43m",boxSizing:"cm280p3y",boxShadow:"st4e8vvm"}}},711664:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{frequentlyForwardedCount:t,totalCount:n}=e;const r=(0,c.jsxs)("span",{className:(0,u.default)(f),children:[1===t&&1===n?d.fbt._("This message will be marked as forwarded many times.",null,{hk:"37i1m9"}):d.fbt._("One or more messages will be marked as forwarded many times.",null,{hk:"1Z8wFQ"})," ",(0,c.jsx)(o.ExternalLink,{href:(0,a.getFrequentlyForwardedFaqUrl)(),children:s.default.t(393)})]});return(0,c.jsxs)("div",{className:(0,u.default)(h),children:[(0,c.jsx)("div",{className:(0,u.default)(p),children:(0,c.jsx)(l.HighlyForwardedIcon,{width:24,height:24})}),(0,c.jsx)(i.default,{theme:"plain",primary:r,idle:!0})]})};var i=r(n(170206)),o=n(753233),a=n(258105),l=n(49552),s=r(n(932325)),d=n(548360),u=r(n(156720)),c=n(785893);const f={lineHeight:"d53pemmv"},h={display:"p357zi0d",backgroundColor:"ihvf49ua",borderBottom:"daad4uqs"},p={display:"p357zi0d",alignItems:"gndfcl4n",marginEnd:"t9wpllip",marginStart:"hqw9ulo5",color:"tl2vja3b"}},664287:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(311975)),o=r(n(908081)),a=r(n(324093)),l=n(626194),s=n(548360),d=n(667294),u=n(785893);const c=(0,d.forwardRef)(((e,t)=>(0,u.jsxs)(o.default,{ref:t,children:[(0,u.jsx)(l.DrawerHeader,{testid:"drawer-title-auto-download",title:s.fbt._("Media auto-download",null,{hk:"3eYujh"}),onBack:e.onClose,type:l.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,u.jsx)(a.default,{children:(0,u.jsx)(i.default,{},"auto-download")})]})));c.displayName="MediaAutoDownloadDrawer";var f=c;t.default=f},386315:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(579484)),o=r(n(546197)),a=n(409623),l=n(174834),s=n(777444),d=n(177938),u=n(998266),c=r(n(908081)),f=r(n(324093)),h=n(36045),p=n(626194),g=n(811720),m=r(n(570834)),C=r(n(988410)),v=r(n(932325)),x=n(447164),y=n(608456),b=r(n(802211)),j=n(459857),E=r(n(893320)),_=n(548360),S=n(667294),w=(r(n(156720)),r(n(710629))),k=n(785893);const T={newChatButton:{paddingBottom:"a15vwmim",height:"ga71456d"}};function M(e){let{image:t,primary:n,onClick:r}=e;const o=_.fbt._("{item-title}",[_.fbt._param("item-title",n.toString())],{hk:"4dm96j"});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.DrawerButtonSimple,{icon:t,onClick:r,ariaLabel:o,xstyle:T.newChatButton,children:n}),(0,k.jsx)(i.default,{})]})}function I(e,t){const{title:n,onBack:r,onClick:i,onNewGroup:h,onNewCommunity:T}=e,[I,P]=(0,S.useState)(""),D=(0,S.useRef)(),L=(0,S.useRef)(),R=(0,S.useRef)(),O=(0,S.useMemo)((()=>d.ContactCollection.frequentContacts("message")),[d.ContactCollection.length]),A=Boolean(I),N=(0,S.useMemo)((()=>A?[]:O),[A,O]),[B]=(0,S.useState)((()=>new m.default)),F=(0,x.isLidContactOneOnOneChatEnabled)(),H=(0,S.useCallback)((e=>{d.ContactCollection.ensureSorted();const t="string"==typeof e?e:I;if(!t)return d.ContactCollection.getFilteredContacts({showMe:!!t,includeLidContacts:F});const n=d.ContactCollection.getFilteredContacts({showMe:!!t,includeLidContacts:F}).concat(d.ContactCollection.filter((e=>e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact))),r=v.default.accentFold(t),i=(0,y.numberSearch)(r);return n.filter((function(e){return e.searchMatch(r,i)}))}),[I,F]),U=(0,w.default)((e=>P(e)),100),G=(0,S.useCallback)((e=>{R.current=e,U(e)}),[U]),z=(0,S.useCallback)(((e,t)=>{C.default.shouldIndicateFocus(),i(e,t)}),[i]),q=(0,S.useCallback)((e=>{e.preventDefault(),e.stopPropagation();const t=N[0];if(t)return void z(e,t);if(!A){const t=d.ContactCollection.assertGet((0,j.getMeUser)());return void z(e,t)}const n=H(R.current)[0];n&&z(e,n)}),[A,z,H,N]),V=[];if(!I){const e=(0,k.jsx)(b.default,{children:(0,k.jsx)(u.DefaultGroupIcon,{height:36,width:36,directional:!0,className:E.default.defaultGroupIcon})}),t=(0,k.jsx)(b.default,{children:(0,k.jsx)(s.CommunityGroupIcon,{directional:!0})});V.push({image:e,id:_.fbt._("New group",null,{hk:"43A4qP"}),onClick:h}),(0,l.communitiesEnabled)()&&V.push({image:t,id:_.fbt._("New community",null,{hk:"2fzGYI"}),onClick:T})}let W;const Y=H();return W=0===Y.length?I?(0,g.SearchWithKeyword)(I):(0,g.SearchWithoutKeyword)():(0,k.jsx)(o.default,{ref:L,contacts:Y,flatListController:B,frequentContacts:N,onClick:i,showPersonGroupDivisionHeader:!!I,showMe:!A}),(0,k.jsxs)(c.default,{ref:t,testid:"new-chat-drawer",children:[(0,k.jsx)(p.DrawerHeader,{title:n,type:p.DRAWER_HEADER_TYPE.LARGE,onBack:r}),(0,k.jsx)(a.ListSearch,{ref:D,onSearch:G,onEnter:q,placeholder:_.fbt._("Search contacts",null,{hk:"22cmrf"}),type:a.ListSearchType.NEW_CHAT_CONTACT_SEARCH,focusOnMount:!0}),(0,k.jsxs)(f.default,{flatListControllers:[B],children:[V.map(((e,t)=>{let{image:n,id:r,onClick:i}=e;return(0,k.jsx)(M,{image:n,primary:r,onClick:i},t)})),W]})]},"contact-modal")}var P=(0,S.forwardRef)(I);t.default=P},519996:(e,t,n)=>{"use strict";var r=n(170315).default,i=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(81109)),a=i(n(348926)),l=i(n(670983)),s=n(696155),d=n(626525),u=n(474596),c=n(468926),f=n(50209),h=n(181712),p=n(780549),g=n(177938),m=i(n(908081)),C=i(n(324093)),v=n(626194),x=i(n(674905)),y=i(n(969358)),b=n(741917),j=i(n(932325)),E=i(n(544142)),_=n(97858),S=n(814843),w=n(997772),k=n(78896),T=(n(290363),n(388444)),M=n(603397),I=n(625786),P=n(390737),D=n(757453),L=(n(499264),n(130756)),R=i(n(556869)),O=n(548360),A=n(667294),N=i(n(156720)),B=n(808446),F=n(655241),H=n(785893);const U={drawerTitle:{paddingTop:"hc2u0oym",paddingEnd:"f9ovudaz",paddingBottom:"myel2vfb",paddingStart:"gx1rr48f"},chevronIcon:{color:"g4ti3y4y",height:"qgpfrw6h"},readReceiptsCheckBoxWrapper:{width:"jswlwoyz",display:"p357zi0d",justifyContent:"ac2vgrno"}};function G(e,t){new k.PrivacySettingsClickWamEvent({privacyControlItem:e,privacyControlEntryPoint:t}).commit()}function z(e,t){var n,i,o,f;const[h,k]=(0,A.useState)((()=>V((0,D.getUserPrivacySettings)()))),[T,z]=(0,A.useState)({status:null,groupadd:null,last:null,profile:null}),Z=(0,l.default)(g.ContactCollection.getMeContact(),"ContactCollection.getMeContact()"),K=(0,F.useModelValues)(Z,["disappearingModeDuration"]).disappearingModeDuration;function X(e){const t=V(e.privacySettings);if(null==t)throw(0,R.default)(`Incomplete privacy settings: ${Object.keys((0,D.getUserPrivacySettings)()).join(", ")}`);k(t),z((0,d.disallowedRowsToLists)(e.privacyDisallowedRows))}(0,A.useEffect)((()=>{const t=new r;return null==h&&(0,a.default)((function*(){try{const e=yield(0,s.updatePrivacySettings)();if(t.signal.aborted)return;X(e)}catch(t){__LOG__(4,void 0,new Error,!0)`privacy_settings_drawer: get privacy settings failed ${t.stack}`,SEND_LOGS("privacy_settings_drawer: get privacy settings failed"),e.onClose(),P.ToastManager.open((0,H.jsx)(I.Toast,{msg:O.fbt._("Failed to get privacy settings, please try again.",null,{hk:"2UOq9J"})}))}}))(),()=>t.abort()}),[]),(0,A.useEffect)((()=>{const e=new r;return(0,a.default)((function*(){const t=yield(0,d.queryDisallowedLists)();e.signal.aborted||z(t)}))(),()=>e.abort()}),[]),(0,B.useListener)(p.Cmd,"account_sync_for_privacy",(e=>{X(e)}));const Q=O.fbt._("Privacy",null,{hk:"WHXuP"});if(!h)return(0,H.jsx)(E.default,{title:Q,error:!1});const J=(0,_.isDefaultDisappearingMessagesEnabled)(),{lastSeen:$,online:ee,profilePicture:te,about:ne,groupAdd:re,readReceipts:ie}=h,oe=[W($,null===(n=T.last)||void 0===n?void 0:n.disallowedList.length)];$!==w.VISIBILITY.all&&ee===w.ONLINE_VISIBILITY.all&&(oe.push(j.default.t(253)),oe.push(W(ee)));const ae=(0,H.jsx)(q,{title:(0,M.privacyLastSeenOnlineEnabledTitle)(),onClick:()=>{e.onOpenVisibilityEditDrawer("lastSeen"),G(L.PRIVACY_CONTROL_ITEM_TYPE.LAST_SEEN_AND_ONLINE,L.PRIVACY_CONTROL_ENTRY_POINT_TYPE.PRIVACY_SETTINGS)},testid:"last-seen-and-online-privacy-settings-item",children:(0,H.jsxs)("span",{children:[" ",oe.join("")]})}),le=u.BlocklistCollection.dedupedList().length,se=O.fbt._("If turned off, you won't send or receive Read receipts. Read receipts are always sent for group chats.",null,{hk:"1N51oN"});return(0,H.jsxs)(m.default,{ref:t,theme:"striped",testid:"privacy-settings-drawer",children:[(0,H.jsx)(v.DrawerHeader,{testid:"drawer-title-privacy",title:Q,onBack:e.onClose,type:v.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,H.jsxs)(C.default,{children:[(0,H.jsxs)(y.default,{title:(0,M.privacyPersonalInfoHeaderTitle)(),titleXStyle:U.drawerTitle,theme:"padding-no-vertical",animation:!1,ellipsify:!1,children:[ae,(0,H.jsx)(q,{title:(0,M.privacyProfilePhotoTitle)(),onClick:()=>{e.onOpenVisibilityEditDrawer("profilePicture"),G(L.PRIVACY_CONTROL_ITEM_TYPE.PROFILE_PHOTO,L.PRIVACY_CONTROL_ENTRY_POINT_TYPE.PRIVACY_SETTINGS)},testid:"profile-photo-privacy-settings-item",children:(0,H.jsx)("span",{children:W(te,null===(i=T.profile)||void 0===i?void 0:i.disallowedList.length)})}),(0,H.jsx)(q,{title:(0,M.privacyAboutTitle)(),onClick:()=>{e.onOpenVisibilityEditDrawer("about"),G(L.PRIVACY_CONTROL_ITEM_TYPE.ABOUT,L.PRIVACY_CONTROL_ENTRY_POINT_TYPE.PRIVACY_SETTINGS)},testid:"about-privacy-settings-item",children:(0,H.jsx)("span",{children:W(ne,null===(o=T.status)||void 0===o?void 0:o.disallowedList.length)})}),(0,H.jsx)(x.default,{title:(0,M.privacyReadReceiptsTitle)(),tabIndex:-1,icon:(0,H.jsx)("div",{className:(0,N.default)(U.readReceiptsCheckBoxWrapper),children:(0,H.jsx)(c.CheckBox,{checked:ie===w.ALL_NONE.all,onChange:()=>{},ariaLabel:se})}),theme:"privacy",isLastItem:!0,onClick:()=>{G(L.PRIVACY_CONTROL_ITEM_TYPE.READ_RECEIPT,L.PRIVACY_CONTROL_ENTRY_POINT_TYPE.PRIVACY_SETTINGS),function(){Y.apply(this,arguments)}(h,k,ie)},testid:"read-receipts-privacy-settings-item",children:(0,H.jsx)("span",{children:se})})]}),J&&(0,H.jsx)(y.default,{theme:"padding-no-vertical",title:O.fbt._("Disappearing messages",null,{hk:"1u7uAT"}),titleXStyle:U.drawerTitle,animation:!1,children:(0,H.jsx)(q,{title:(0,M.privacyDDMTitle)(),onClick:()=>{G(L.PRIVACY_CONTROL_ITEM_TYPE.DDM_TIMER,L.PRIVACY_CONTROL_ENTRY_POINT_TYPE.PRIVACY_SETTINGS),e.onOpenEphemeralityDrawer()},isLastItem:!0,testid:"ddm-settings-item",children:(0,H.jsx)("span",{"data-testid":"ddm-settings-item-value",children:(0,b.durationToLabel)(K)})})}),(0,H.jsxs)(y.default,{theme:J?"padding":"padding-no-vertical",animation:!1,children:[(0,H.jsx)(q,{title:(0,M.privacyGroupsTitle)(),onClick:()=>{G(L.PRIVACY_CONTROL_ITEM_TYPE.GROUPS,L.PRIVACY_CONTROL_ENTRY_POINT_TYPE.PRIVACY_SETTINGS),e.onOpenVisibilityEditDrawer("groupAdd")},testid:"groups-privacy-settings-item",children:(0,H.jsx)("span",{children:W(re,null===(f=T.groupadd)||void 0===f?void 0:f.disallowedList.length)})}),(0,S.callSilencingEnabledInElectron)()&&(0,H.jsx)(q,{title:(0,M.callsTitle)(),onClick:()=>{e.onOpenCallsDrawer()},testid:"calls-privacy-settings-item",children:(0,H.jsx)("span",{children:(0,M.silenceUnknownCallsTitle)()})}),(0,H.jsx)(q,{title:(0,M.privacyBlockedTitle)(),isLastItem:!(0,_.screenLockFeatureSupported)(),onClick:()=>{G(L.PRIVACY_CONTROL_ITEM_TYPE.BLOCKED,L.PRIVACY_CONTROL_ENTRY_POINT_TYPE.PRIVACY_SETTINGS),e.onOpenBlockedContacts()},testid:"blocked-contacts-settings-item",children:(0,H.jsx)("span",{children:0===le?O.fbt._("None",null,{hk:"3cviAo"}):le})}),null]})]})]})}function q(e){let{title:t,onClick:n,isLastItem:r,children:i,testid:o,icon:a,tabIndex:l=0}=e;const s=null!=a?a:j.default.isRTL()?(0,H.jsx)(f.ChevronLeftIcon,{iconXstyle:U.chevronIcon}):(0,H.jsx)(h.ChevronRightIcon,{iconXstyle:U.chevronIcon});return(0,H.jsx)(x.default,{title:t,theme:"privacy",icon:s,onClick:n,isLastItem:r,tabIndex:l,testid:o,children:i})}function V(e){const{about:t,groupAdd:n,lastSeen:r,online:i="all",profilePicture:o,readReceipts:a}=e;if(null!=t&&null!=n&&null!=r&&null!=o&&null!=a)return{about:t,groupAdd:n,lastSeen:r,online:i,profilePicture:o,readReceipts:a}}function W(e,t){switch(e){case w.VISIBILITY.all:return O.fbt._("Everyone",null,{hk:"3oWv8q"});case w.VISIBILITY.contacts:return O.fbt._("My contacts",null,{hk:"3jgOvC"});case w.VISIBILITY.contact_blacklist:return null==t?"":j.default.t(521,{count:t,_plural:t});case w.VISIBILITY.none:return O.fbt._("Nobody",null,{hk:"ghOKj"});case w.ONLINE_VISIBILITY.match_last_seen:return O.fbt._("Same as last seen",null,{hk:"myQFo"});default:return""}}function Y(){return(Y=(0,a.default)((function*(e,t,n){const r=n===w.ALL_NONE.all?w.ALL_NONE.none:w.ALL_NONE.all;t((0,o.default)((0,o.default)({},e),{},{readReceipts:r}));try{r===w.ALL_NONE.none?yield(0,T.setPrivacyForOneCategory)({name:"readreceipts",value:"none"}):yield(0,T.setPrivacyForOneCategory)({name:"readreceipts",value:"all"})}catch(e){__LOG__(3,void 0,void 0,!0)`privacy_settings_drawer: set readreceipts failed ${e.stack}`,SEND_LOGS("privacy_settings_drawer: set readreceipts failed"),P.ToastManager.open((0,H.jsx)(I.Toast,{msg:O.fbt._("Failed to update Read receipts, please try again.",null,{hk:"3xUfMr"})}))}}))).apply(this,arguments)}var Z=(0,A.forwardRef)(z);t.default=Z},43496:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(348926)),o=n(984330),a=r(n(908081)),l=r(n(324093)),s=n(626194),d=r(n(969358)),u=n(114850),c=n(997772),f=r(n(749857)),h=r(n(506784)),p=n(388444),g=n(625786),m=n(390737),C=n(757453),v=r(n(556869)),x=n(548360),y=n(667294),b=r(n(156720)),j=n(785893);const E={height:"jdwybkuq",borderBottom:"k8viy54k"},_={marginTop:"c46o30wg",marginEnd:"jnwc1y2a",marginBottom:"du8bjn1j",marginStart:"svoq16ka",fontSize:"enbbiyaj",color:"jq3rn4u7",lineHeight:"r5qsrrlp"},S={marginTop:"qlylaf53",marginEnd:"jnwc1y2a",marginBottom:"fhelu9n7",marginStart:"svoq16ka",fontSize:"lak21jic",color:"pm5hny62"};function w(){m.ToastManager.open((0,j.jsx)(g.Toast,{msg:x.fbt._("Failed to update privacy settings. Please try again.",null,{hk:"h89q3"})}))}function k(e,t){var n,r;let{onClose:g}=e;const m=(0,C.getUserPrivacySettings)(),[k,T]=(0,y.useState)(null!==(n=m.lastSeen)&&void 0!==n?n:c.VISIBILITY.all),[M,I]=(0,y.useState)(null!==(r=m.online)&&void 0!==r?r:c.ONLINE_VISIBILITY.all);function P(){return D.apply(this,arguments)}function D(){return(D=(0,i.default)((function*(e){if(e===M)return;I(e);const t=(0,p.privacyWebNameToServerName)("online");if("online"!==t)throw(0,v.default)("privacy_settings_last_seen_online_drawer: category can only be online");try{switch(e){case c.ONLINE_VISIBILITY.match_last_seen:return void(yield(0,p.setPrivacyForOneCategory)({name:t,value:"match_last_seen"}));case c.VISIBILITY.all:yield(0,p.setPrivacyForOneCategory)({name:t,value:"all"})}}catch(e){I(k);e instanceof o.ServerStatusCodeError&&409===e.statusCode||(__LOG__(3,void 0,void 0,!0)`visibility_edit_drawer: set visiblity option failed ${e.stack}`,SEND_LOGS("visibility_edit_drawer: set visiblity option failed")),w()}}))).apply(this,arguments)}function L(){return R.apply(this,arguments)}function R(){return(R=(0,i.default)((function*(e){if(e===k)return;T(e);const t=(0,p.privacyWebNameToServerName)("lastSeen");if("last"!==t)throw(0,v.default)("privacy_settings_last_seen_online_drawer: category can be only last");try{switch(e){case c.VISIBILITY.none:if("groupadd"===t)throw(0,v.default)("privacy_settings_last_seen_online_drawer: groupadd can not be none");return void(yield(0,p.setPrivacyForOneCategory)({name:t,value:"none"}));case c.VISIBILITY.contacts:return void(yield(0,p.setPrivacyForOneCategory)({name:t,value:"contacts"}));case c.VISIBILITY.all:yield(0,p.setPrivacyForOneCategory)({name:t,value:"all"})}}catch(e){T(k);e instanceof o.ServerStatusCodeError&&409===e.statusCode||(__LOG__(3,void 0,void 0,!0)`visibility_edit_drawer: set visiblity option failed ${e.stack}`,SEND_LOGS("visibility_edit_drawer: set visiblity option failed")),w()}}))).apply(this,arguments)}const O=x.fbt._("Who can see my last seen",null,{hk:"3BoIqk"}),A=x.fbt._("Who can see when I'm online",null,{hk:"gA4QG"});return(0,j.jsxs)(a.default,{ref:t,children:[(0,j.jsx)(s.DrawerHeader,{testid:"drawer-title",title:x.fbt._("Last seen and online",null,{hk:"3yVQIJ"}),onBack:g,type:s.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,j.jsx)(l.default,{children:(0,j.jsxs)(d.default,{theme:"padding-no-vertical",animation:!1,children:[(0,j.jsx)("div",{className:(0,b.default)(_),children:O}),(0,j.jsxs)("div",{role:"radiogroup","aria-label":O,children:[(0,j.jsx)(f.default,{text:x.fbt._("Everyone",null,{hk:"3oWv8q"}),selected:k===c.VISIBILITY.all,testid:"last-seen-everyone",onClick:()=>{L(c.VISIBILITY.all)}}),(0,j.jsx)(f.default,{text:x.fbt._("My contacts",null,{hk:"3jgOvC"}),testid:"last-seen-contacts",selected:k===c.VISIBILITY.contacts,onClick:()=>{L(c.VISIBILITY.contacts)}}),(0,j.jsx)(f.default,{text:x.fbt._("My contacts except...",null,{hk:"2tCWPL"}),testid:"last-seen-contacts-except",selected:k===c.VISIBILITY.contact_blacklist,onClick:()=>{u.ModalManager.open((0,j.jsx)(h.default,{category:"lastSeen",onConfirm:()=>{L(c.VISIBILITY.contact_blacklist)}}))}}),(0,j.jsx)(f.default,{text:x.fbt._("Nobody",null,{hk:"ghOKj"}),testid:"last-seen-nobody",selected:k===c.VISIBILITY.none,onClick:()=>{L(c.VISIBILITY.none)}})]}),(0,j.jsx)("div",{className:(0,b.default)(E)}),(0,j.jsx)("div",{className:(0,b.default)(_),children:A}),(0,j.jsxs)("div",{role:"radiogroup","aria-label":A,children:[(0,j.jsx)(f.default,{text:x.fbt._("Everyone",null,{hk:"3oWv8q"}),testid:"online-everyone",selected:M===c.ONLINE_VISIBILITY.all,onClick:()=>{P(c.ONLINE_VISIBILITY.all)}}),(0,j.jsx)(f.default,{text:x.fbt._("Same as last seen",null,{hk:"myQFo"}),testid:"online-same-last-seen",selected:M===c.ONLINE_VISIBILITY.match_last_seen,onClick:()=>{P(c.ONLINE_VISIBILITY.match_last_seen)}})]}),(0,j.jsx)("div",{className:(0,b.default)(S),children:x.fbt._("If you don't share your {=m1} and {=m4}, you won't be able to see other people's last seen and online.",[x.fbt._implicitParam("=m1",(0,j.jsx)("strong",{children:x.fbt._("last seen",null,{hk:"3Wj3z9"})})),x.fbt._implicitParam("=m4",(0,j.jsx)("strong",{children:x.fbt._("online",null,{hk:"1OygwI"})}))],{hk:"4wjT6"})})]})})]})}var T=(0,y.forwardRef)(k);t.default=T},664526:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(72696),o=n(404744),a=r(n(411019)),l=n(107755),s=n(542358),d=r(n(692629)),u=n(444967),c=n(713464),f=n(581442),h=n(647276),p=n(103440),g=n(445729),m=r(n(846870)),C=r(n(366773)),v=n(306703),x=r(n(908081)),y=r(n(324093)),b=n(568550),j=n(626194),E=n(900316),_=r(n(969358)),S=r(n(762066)),w=n(690495),k=r(n(469733)),T=n(731085),M=r(n(932325)),I=n(959673),P=n(114850),D=n(932523),L=r(n(830114)),R=n(242677),O=r(n(567439)),A=n(316348),N=n(555622),B=n(202391),F=n(811066),H=n(870791),U=n(180519),G=n(459857),z=n(130756),q=n(931019),V=n(548360),W=n(667294),Y=r(n(156720)),Z=n(839062),K=n(655241),X=r(n(321201)),Q=r(n(895851)),J=n(785893);const $=n(76672).Mirrored(["Profile","MerchantDetails","CatalogManagement"]),ee={businessComplianceIconWrapper:{paddingEnd:"htg54gjl",color:"s4k44ver"},businessComplianceText:{flexGrow:"ggj6brxn",color:"tviruh8d"},businessComplianceRightAltIcon:{color:"cs9t9or5"},content:{textAlign:"qfejxiq4"},bannedShopInfoText:{marginTop:"dkeqio29",marginEnd:"jnwc1y2a",marginBottom:"ofb4x1dx",marginStart:"svoq16ka",fontSize:"dsh4tgtl",lineHeight:"jgi8eev7",color:"t35qvd06"},nameWrapper:{marginTop:"qt60bha0",marginEnd:"rvlagp7p",marginBottom:"bibl1e27",marginStart:"r6x3u63k",animationName:"gsqs0kct",animationDuration:"oauresqk",animationTimingFunction:"kl1dhzdn"},phoneField:{lineHeight:"erpdyial"},infoText:{marginTop:"dkeqio29",fontSize:"dsh4tgtl",lineHeight:"jgi8eev7",color:"t35qvd06"},photoPickerWrapper:{display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",justifyContent:"ac2vgrno",marginTop:"ignnouf6",marginBottom:"bibl1e27",transformOrigin:"rgztdhlt",animationName:"d30yvege",animationDuration:"eb9g83lr",animationTimingFunction:"kl1dhzdn"},phoneIconSvg:{transform:"qybahty3"}};function te(e,t){const[n,r]=(0,W.useState)(),[i,o]=(0,W.useState)(),[a,l]=(0,W.useState)(),[s,d]=(0,Z.useFlow)($.Profile,{transitions:Z.FlowTransitions.DrawerLeft,onEnd:e.onClose});if(null==d.step)return null;let u;switch(d.step){case $.Profile:u=(0,J.jsx)(ce,{openMerchantDetailsForm:()=>{d.push($.MerchantDetails)},openCatalogDetailsForm:e=>{N.QPL.markerStart(A.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Profile"}}}),(0,f.createCatalogManagementFlowObject)(((t,n)=>{r(t),o(n),l(e),d.push($.CatalogManagement)}))},conn:e.conn,contact:e.contact,profilePicThumb:e.profilePicThumb,status:e.status,onClose:()=>d.pop()});break;case $.MerchantDetails:{const e=(0,G.getMeUser)();u=(0,J.jsx)(I.MerchantDetailsFormFlowLoadable,{contactId:e,onBack:()=>d.pop()});break}case $.CatalogManagement:if(!n)return null;u=(0,J.jsx)(f.CatalogManagementFlowLoadable,{catalog:i,catalogId:n,product:a,onBack:()=>d.pop()})}return(0,J.jsx)(s,{ref:t,flow:d,children:u})}var ne=(0,W.forwardRef)(te);t.default=ne;const re=e=>{const{businessProfile:t,catalog:n,openCatalogDetailsForm:r}=e;return(0,i.bannedShopsEnabled)()&&(0,s.hasShop)(t)&&(0,s.isShopBanned)(t)?(0,J.jsx)(_.default,{theme:"padding-large",children:(0,J.jsxs)("div",{className:(0,Y.default)(ee.content),children:[(0,J.jsx)("div",{className:(0,Y.default)(ee.bannedShopInfoText),children:V.fbt._("This shop has been disabled for not complying with our Business or Commerce policies.",null,{hk:"39dpXJ"})}),(0,J.jsx)(d.default,{type:"primary",onClick:function(){(0,i.bannedShopsEnabled)()&&(0,s.goToCommerceManager)(t)},children:V.fbt._("Commerce Manager",null,{hk:"2ZKedl"})})]})}):(0,J.jsx)(L.default,{businessProfile:t,catalog:n,openCatalog:r})},ie={ellipsify:!0,multiline:!0,direction:"auto",inferLinesDirection:!0},oe=e=>{const{unmountSignal:t,aboutInput:n}=e,r=(0,W.useRef)(!1),i=(0,K.useModelValues)(e.conn,["pushname"]),[o,a]=(0,W.useState)(i.pushname),[l,s]=(0,W.useState)(!1),d=r.current||l?o:i.pushname,u=g.Conn.isSMB?V.fbt._("This is your business name. It will be visible to your WhatsApp customers.",null,{hk:"AABda"}):M.default.t(526),c=(0,J.jsx)(_.default,{titleTestId:"col-main-profile",title:V.fbt._("About",null,{hk:"7nIJP"}),theme:"padding",children:n});return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(_.default,{titleTestId:"col-main-profile",title:V.fbt._("Your name",null,{hk:"VtujB"}),theme:"padding",children:(0,J.jsx)(B.RichTextField,{testid:"col-main-profile-input",value:d,editable:g.Conn.canSetMyPushname(),pending:l,showRemaining:!0,validate:()=>{let e,t=o;return t=(t||"").trim(),t?/[\u2714\u2705\u2611]/g.test(t)&&(e=V.fbt._("That emoji isn't allowed in your name",null,{hk:"1JrVVd"})):e=M.default.t(111),!e||(n=e,P.ModalManager.open((0,J.jsx)(p.ConfirmPopup,{onOK:()=>P.ModalManager.close(),okText:V.fbt._("OK",null,{hk:"4oTrfy"}),children:n})),!1);var n},maxLength:m.default.MAX_PUSHNAME_LENGTH,onBeginEdit:()=>{r.current=!0},onChange:e=>{let{text:t}=e;a(t)},onSave:()=>{if(r.current=!1,!g.Conn.canSetMyPushname())return;let e=o;e=(e||"").trim();e!==i.pushname&&(s(!0),(0,F.setPushname)(e).then((()=>{t.aborted||s(!1)})))},onCancel:()=>{r.current=!1,a(i.pushname)},supportsEmoji:!0,lockable:!0,lowProfile:!0,constrainedWidth:!0,emojiTextSettingsInLockMode:ie})}),(0,J.jsx)("div",{"data-testid":"pushname-description",className:(0,Y.default)(ee.nameWrapper),children:(0,J.jsx)(U.TextSpan,{theme:"muted",children:u})}),c]})},ae=e=>{const{contact:t,openMerchantDetailsForm:n,businessProfile:r,openCatalogDetailsForm:o,catalog:a,aboutInput:s}=e,d=(0,J.jsx)(l.IconSection,{Icon:T.InfoIcon,content:s}),c=(0,J.jsx)(l.IconSection,{Icon:u.CallPhoneIcon,xstyle:ee.phoneIconSvg,type:"container",content:(0,J.jsxs)("div",{children:[(0,J.jsx)(v.SelectableDiv,{className:(0,Y.default)(ee.phoneField),selectable:!0,children:(0,q.widToFormattedUser)((0,G.assertGetMe)())}),(0,J.jsx)("div",{className:(0,Y.default)(ee.infoText),children:V.fbt._("Your phone number can be edited from the app on your mobile device.",null,{hk:"2FXNXR"})})]})}),f=(0,J.jsxs)(_.default,{title:V.fbt._("About and Phone Number",null,{hk:"3lw6jL"}),theme:"refresh",children:[d,c]});return(0,J.jsxs)("div",{children:[(0,J.jsx)(S.default,{}),(0,i.canSeeECommerceComplianceIndiaSoftEnforcement)(t.id)&&(0,J.jsx)(de,{onTitleClick:n}),(0,i.blockCatalogCreationECommerceComplianceIndia)(t.businessProfile)?null:(0,J.jsx)(re,{businessProfile:r,openCatalogDetailsForm:o,catalog:a}),(0,J.jsx)(ue,{contact:t}),f]})};function le(e){let{contact:t,profilePicThumb:n}=e;const r=t.businessProfile?(0,J.jsx)(a.default,{contact:t,businessProfile:t.businessProfile,editable:!0,profilePicThumb:n,hideStatusV3:!0}):null;return(0,J.jsx)(_.default,{theme:"padding-no-margin",children:r})}function se(e){let{profilePicThumb:t}=e;return(0,J.jsx)("div",{className:(0,Y.default)(ee.photoPickerWrapper),children:(0,J.jsx)(O.default,{profilePicThumb:t})})}function de(e){let{onTitleClick:t}=e;return(0,J.jsx)(_.default,{title:(0,J.jsxs)(w.FlexRow,{align:"center",children:[(0,J.jsx)(k.default,{xstyle:ee.businessComplianceIconWrapper,children:(0,J.jsx)(o.BusinessIcon,{})}),(0,J.jsx)(k.default,{xstyle:ee.businessComplianceText,children:V.fbt._("Business details",null,{hk:"m9xzp"})}),(0,J.jsx)(k.default,{children:(0,J.jsx)(h.ChevronRightAltIcon,{xstyle:ee.businessComplianceRightAltIcon,directional:!0})})]}),theme:"refresh-padding-title",titleOnClick:t})}function ue(e){let{contact:t}=e;return(0,i.bizLinkedAccountsEnabled)()&&t.businessProfile?(0,J.jsx)(C.default,{businessProfile:t.businessProfile,sectionTheme:"refresh-padding-title",showEditHint:!0}):null}const ce=(0,W.forwardRef)(((e,t)=>{const{onClose:n,openCatalogDetailsForm:r,openMerchantDetailsForm:o}=e,a=(0,X.default)(),l=(0,K.useModelValues)(e.status,["status"]),[s,d]=(0,W.useState)(l.status),[u,f]=(0,W.useState)(!1),h=(0,W.useRef)(!1),m=(0,W.useContext)(b.DrawerContext),C=(0,Q.default)(),v=(0,K.useModelValues)(e.contact,["businessProfile","id","statusMute"]),_=(0,K.useModelValues)(e.profilePicThumb,["imgFull","id"]),[S,w]=(0,W.useState)(null),{businessProfile:k}=v,{session:T}=g.Conn.isSMB?(0,D.getProductCatalogContext)(m):{};if((0,W.useEffect)((()=>{g.Conn.isSMB&&(c.CatalogCollection.findCarouselCatalog((0,G.getMeUser)()).then((e=>{const t=Array.isArray(e)?e[0]:e;w(t)})).catch((()=>{})),(null==T?void 0:T.isAccidental())&&E.DrawerManager.setDrawerContext("left",(0,D.buildProductCatalogContext)(new R.ProductCatalogSession,z.BIZ_PLATFORM.SMB,z.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS)))}),[]),g.Conn.isSMB&&(null==T?void 0:T.isAccidental()))return null;const I=()=>{h.current=!1,d(l.status)},L=h.current||u?s:l.status,O=(0,J.jsx)(B.RichTextField,{testid:"col-main-profile-input",value:L,editable:!0,pending:u,showRemaining:!0,validate:e=>!!(e||"").trim(),maxLength:139,onBeginEdit:()=>{h.current=!0},onChange:e=>{let{text:t}=e;d(t)},onSave:()=>{if(null==s)return void I();h.current=!1;const e=l.status;s!==e&&(f(!0),(0,H.setMyStatus)(s).then((()=>{C.aborted||f(!1)})))},onError:()=>{P.ModalManager.open((0,J.jsx)(p.ConfirmPopup,{onOK:()=>P.ModalManager.close(),okText:V.fbt._("OK",null,{hk:"4oTrfy"}),children:M.default.t(118)}))},onCancel:I,theme:"text-input",fieldName:V.fbt._("About",null,{hk:"2FinUX"}),supportsEmoji:!0,lockable:!0,lowProfile:!0,constrainedWidth:!0,emojiTextSettingsInLockMode:ie}),A=(0,i.canSeeBizProfileV3)()&&g.Conn.isSMB?(0,J.jsx)(le,{contact:v,profilePicThumb:_}):(0,J.jsx)(se,{profilePicThumb:_}),N=g.Conn.isSMB?(0,J.jsx)(ae,{contact:v,openMerchantDetailsForm:o,businessProfile:k,openCatalogDetailsForm:r,catalog:S,aboutInput:O}):(0,J.jsx)(oe,{conn:e.conn,aboutInput:O,unmountSignal:C}),F=M.default.t(426);return(0,J.jsxs)(x.default,{ref:t,testid:"profile-drawer",children:[(0,J.jsx)(j.DrawerHeader,{testid:"drawer-title-profile",title:F,onBack:()=>{n?n():null==a||a.requestDismiss()},type:j.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,J.jsxs)(y.default,{children:[A,N]})]})}));ce.displayName="ProfileDrawer"},284435:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.jsx)(i.default,{primary:e.choiceText,onClick:e.onChoose,theme:"radio-button-row",image:(0,a.jsx)(o.default,{checked:e.isChosen,hover:!1,radio:!0,onChange:e.onChoose,systemUncheckedColor:!0})})};var i=r(n(170206)),o=r(n(46650)),a=n(785893)},426336:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(287461),o=n(468926),a=r(n(908081)),l=r(n(324093)),s=n(626194),d=r(n(969358)),u=n(753233),c=n(258105),f=n(690495),h=r(n(469733)),p=r(n(932325)),g=n(97858),m=n(111367),C=n(401929),v=n(410858),x=n(321566),y=n(180519),b=n(676345),j=n(117429),E=n(548360),_=n(667294),S=r(n(156720)),w=r(n(305988)),k=n(785893);const T={icon:{position:"g0rxnol2",boxSizing:"cm280p3y",width:"cnprk2g9",height:"j74n1y92",paddingTop:"n1yiu2zv",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",color:"t63vcusb",backgroundColor:"je90h8md",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},iconLock:{position:"lhggkp7q",start:"tkdu00h0",end:"ebjesfe0",top:"qq0sjtgm",bottom:"lrw9n60e",color:"ml33x45x"},controls:{paddingBottom:"sq87qsu4",marginTop:"ignnouf6"},e2eSummaryContainer:{borderBottom:"daad4uqs"},text:{marginTop:"csxx893n",fontSize:"enbbiyaj",lineHeight:"pvbam5uh"},checkbox:{flex:"kk3akd72",paddingEnd:"k3h23tga"}};function M(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(f.FlexColumn,{xstyle:T.icon,align:"center",justify:"center",children:[(0,k.jsx)(h.default,{children:(0,k.jsx)(x.SecurityShieldIcon,{})}),(0,k.jsx)(f.FlexColumn,{xstyle:T.iconLock,align:"center",justify:"center",children:(0,k.jsx)(h.default,{children:(0,k.jsx)(v.SecurityLockIcon,{})})})]}),(0,k.jsxs)("div",{className:(0,S.default)(T.text),children:[E.fbt._("Messages and calls in end-to-end encrypted chats stay between you and the people you choose. Not even WhatsApp can read or listen to them.",null,{hk:"1MCVPM"})," ",(0,k.jsx)(u.ExternalLink,{href:(0,m.securityUrl)(),children:p.default.t(393)})]})]})}function I(e,t){const[n,r]=(0,w.default)(j.getGlobalSecurityNotifications,j.setGlobalSecurityNotifications);let m=E.fbt._("Get notified when your security code changes for a contact in an end-to-end encrypted chat. If you have multiple devices, this setting must be enabled on each device where you want to get notifications.",null,{hk:"1ByD6u"});return(0,i.getABPropConfigValue)("adv_v2_m6")&&(m=E.fbt._("Get notified when your security code changes for a contact's phone. If you have multiple devices, this setting must be enabled on each device where you want to get notifications.",null,{hk:"czLTa"})),(0,k.jsxs)(a.default,{ref:t,testid:"security-settings-drawer",children:[(0,k.jsx)(s.DrawerHeader,{testid:"drawer-title-security",title:E.fbt._("Security",null,{hk:"2nir1E"}),onBack:e.onClose,type:s.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,k.jsx)(l.default,{children:(0,k.jsxs)(d.default,{theme:"padding-large",animation:!1,children:[(0,g.isPrivacyNarrativeV1Enabled)()?(0,k.jsx)("div",{className:(0,S.default)(T.e2eSummaryContainer,b.uiPadding.bottom20),children:(0,k.jsx)(C.E2eSummarySecurityDrawer,{})}):(0,k.jsx)(M,{}),(0,k.jsxs)(f.FlexRow,{xstyle:T.controls,children:[(0,k.jsx)("div",{className:(0,S.default)(T.checkbox,b.uiMargin.top2),children:(0,k.jsx)(o.CheckBox,{onChange:r,checked:n})}),(0,k.jsxs)(h.default,{children:[(0,k.jsx)("div",{className:(0,S.default)(b.uiMargin.bottom10),children:(0,k.jsx)(y.TextSpan,{theme:"title",children:E.fbt._("Show security notifications on this computer",null,{hk:"3QRZVR"})})}),(0,k.jsxs)(y.TextDiv,{theme:"muted",children:[m," ",(0,k.jsx)(u.ExternalLink,{href:(0,c.getCodeChangeFaqUrl)(),children:p.default.t(393)})]})]})]})]})})]})}var P=(0,_.forwardRef)(I);t.default=P},489999:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,h.jsx)(d.SelectModal,{onConfirm:t=>{const n=e.msgText;if(1===t.length){let r;const s=t[0];r=s.isUser&&s.contact.isContactBlocked?(0,o.unblockContact)(s.contact):Promise.resolve(!0),r.then(function(){var t=(0,i.default)((function*(){if(n){if(s.urlText=e.urlText,s.active)return void l.ComposeBoxActions.paste(s,n);s.setComposeContents({text:n})}(yield a.Cmd.openChatFromUnread(s))&&l.ComposeBoxActions.focus(s)}));return function(){return t.apply(this,arguments)}}())}else Promise.all(t.map((t=>{let r;r=t.isUser&&t.contact.isContactBlocked?(0,o.unblockContact)(t.contact):Promise.resolve(!0),r.then((()=>{t.urlText=e.urlText,(0,u.sendTextMsgToChat)(t,n)}))}))),a.Cmd.openChatFromUnread(t[0]);s.ModalManager.close()},maxItems:c.MULTICAST_LIMIT_GLOBAL,title:f.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:d.ListType.CHAT_SELECT_MODAL})};var i=r(n(348926)),o=n(547979),a=n(780549),l=n(877171),s=n(114850),d=n(61740),u=n(498703),c=n(962260),f=n(548360),h=n(785893)},633698:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onOK:t}=e,n=e.name||s.fbt._("Contact",null,{hk:"xBh6i"}),r=a.default.t(577,{name:n});return(0,d.jsx)(i.ConfirmPopup,{onOK:()=>{l.ModalManager.close(),t()},okText:s.fbt._("OK",null,{hk:"4oTrfy"}),children:(0,d.jsx)("div",{children:(0,d.jsx)(o.EmojiText,{text:r})})})};var i=n(103440),o=n(305521),a=r(n(932325)),l=n(114850),s=n(548360),d=n(785893)},737303:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(967154)),o=r(n(170206)),a=r(n(203528)),l=n(445729),s=n(23641),d=n(807078),u=r(n(908081)),c=r(n(324093)),f=n(36045),h=n(626194),p=n(305521),g=n(811720),m=n(896524),C=r(n(932325)),v=n(528646),x=n(745170),y=n(240780),b=n(800577),j=n(455307),E=n(361719),_=n(845257),S=n(459857),w=n(130756),k=n(548360),T=n(667294),M=n(739783),I=n(695908),P=n(785893);function D(){(new j.SettingsSearchInitiateWamEvent).commit()}function L(e){const t=(0,P.jsx)(a.default,{id:e.profileId}),n=(0,P.jsx)(s.DetailImage,{id:(0,S.getMeUser)(),size:82,quality:s.DetailImageQuality.High}),r=(0,P.jsx)(p.EmojiText,{text:l.Conn.pushname,ellipsify:!0,titlify:!0}),i=t=>{const n=e.listSelection.getVal();return null!=n&&n.id===t.id};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.default,{onClick:e.onProfile,image:n,primary:r,theme:"identity",secondary:t}),(0,P.jsx)(m.HistorySyncSettingItem,{}),e.listSelection.list.filter((e=>null==e.parentId)).map((t=>{var n;return(0,P.jsx)(f.DrawerButtonSimple,{theme:"settings-drawer",active:i(t),onClick:()=>e.onClick(t),icon:(0,P.jsx)(_.SettingsStepIcon,{setting:t.step}),testid:null!==(n=t.testid)&&void 0!==n?n:`settings-search-${t.id}`,detail:!0===t.isDevOnly&&(0,P.jsx)(d.DevOnlyBadge,{}),children:t.title()},t.id)}))]})}function R(e,t){let n=(0,i.default)({},e);const[r,o]=(0,T.useState)(""),{results:a,query:l,searchInstance:s}=(0,I.useSearchModel)(b.SettingSearch),d=(0,T.useRef)(),f=(0,T.useMemo)((()=>""===r?s.data.filter((e=>null==e.parentId)):null!=a?a.results.map((e=>e.data)):[]),[r,a,s.data]),{activeItem:p,listSelection:g}=(0,M.useNavigatableList)(f),[m,j]=(0,T.useMemo)((()=>(0,v.memoizeWithClear)(D)),[]),_=e=>{if(null!=e){const s=r.length>0;if(null!=e.wamName&&null==e.parentId&&(a=e.wamName,l=s?w.SETTINGS_CLICK_ENTRY_POINT.SETTINGS_SEARCH:w.SETTINGS_CLICK_ENTRY_POINT.SETTINGS_SCREEN,new y.SettingsClickWamEvent({settingsItem:a,settingsClickEntryPoint:l}).commit()),s){const n=e.id;let r;var t;if(null!=e.parent)r=null!==(t=e.parent.wamName)&&void 0!==t?t:w.SETTINGS_ITEM_TYPE.UNKNOWN;i=n,o=r,new E.SettingsSearchTapWamEvent({tapItemName:i,topLevelParentSetting:o}).commit()}null!=n.onSettingClick&&n.onSettingClick(e.step)}var i,o,a,l},S=k.fbt._("Search settings",null,{hk:"3xmu2e"});return(0,P.jsxs)(u.default,{ref:t,theme:"settings",testid:"settings-drawer",children:[(0,P.jsx)(h.DrawerHeader,{title:C.default.t(579),onBack:n.onClose,type:h.DRAWER_HEADER_TYPE.LARGE}),(0,P.jsxs)(c.default,{ref:d,children:[(0,P.jsx)(x.SearchInput,{searchInputA11yLabel:S,placeholder:S,onSearch:e=>{m(),l(e),o(e)},onEnter:()=>{_(p)},onBlur:j,onFocus:()=>{var e;null!=(null===(e=d.current)||void 0===e?void 0:e.scrollTop)&&(d.current.scrollTop=0)},focusOnMount:!0}),""===r?(0,P.jsx)(L,{profileId:n.profileId,onProfile:n.onProfile,listSelection:g,onClick:_}):(0,P.jsx)(A,{results:f,onSelect:_,activeId:null==p?void 0:p.id})]})]})}var O=(0,T.forwardRef)(R);function A(e){let{results:t,activeId:n,onSelect:r}=e;const i=new Set;return t.length?t.map((e=>{var t,o;let a=" ";if(null==e.parent||!i.has(e.parent.step)){var l,s;const t=null!==(l=null===(s=e.parent)||void 0===s?void 0:s.step)&&void 0!==l?l:e.step;i.add(t),a=(0,P.jsx)(_.SettingsStepIcon,{setting:t})}return(0,P.jsx)(f.DrawerButtonSimple,{theme:"settings-drawer",secondaryChildren:null===(t=e.parent)||void 0===t?void 0:t.title(),icon:a,active:e.id===n,onClick:()=>r(e),detail:!0===e.isDevOnly&&(0,P.jsx)(d.DevOnlyBadge,{}),testid:null!==(o=e.testid)&&void 0!==o?o:`settings-search-${e.id}`,children:e.title()},e.id)})):(0,P.jsx)(g.SearchWithoutKeyword,{})}t.default=O},229933:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(811720),o=n(217714),a=n(526795),l=n(784424),s=r(n(75531)),d=r(n(923582)),u=n(548360),c=n(667294),f=n(785893);function h(e,t){const{starredMsgs:n,onClose:r,chat:c,headerType:h}=e,p=u.fbt._("Starred messages",null,{hk:"kjDwF"}),g=(0,f.jsx)(i.StarredMsgs,{}),m=null!=c?(0,f.jsx)(o.HistorySyncChatStarredMsgsPlaceholderText,{}):(0,f.jsx)(o.HistorySyncStarredMsgsPlaceholderText,{}),C=(0,f.jsx)(a.MenuBarItem,{testid:"starred-menu",icon:(0,f.jsx)(l.MenuIcon,{}),title:u.fbt._("Menu",null,{hk:"1Kc9Wl"}),children:(0,f.jsx)(d.default,{chat:c,msgs:n.toArray()})});return(0,f.jsx)(s.default,{ref:t,msgCollection:n,onClose:r,chat:c,title:p,emptyListText:g,footerText:m,headerMenu:C,headerType:h})}var p=(0,c.forwardRef)(h);t.default=p},923582:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(664149),o=n(675085),a=n(114850),l=r(n(290710)),s=n(548360),d=n(667294),u=n(785893);function c(e,t){const{msgs:n,chat:r}=e;return(0,u.jsx)(i.Dropdown,{ref:t,type:i.MenuType.DropdownMenu,flipOnRTL:!0,dirX:i.DirX.LEFT,children:(0,u.jsx)(o.DropdownItem,{testid:"mi-unstar-all menu-item",action:()=>{a.ModalManager.open((0,u.jsx)(l.default,{msgs:n,chat:r}))},disabled:0===n.length,children:s.fbt._("Unstar all",null,{hk:"34KaRh"})})},"StarredDrawerHeader")}var f=(0,d.forwardRef)(c);t.default=f},85463:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,u.useContext)(d.ThemeContext),[t,n]=(0,u.useState)(e.systemThemeMode?"system":e.theme);return(0,c.jsx)(i.ConfirmPopup,{title:(0,l.themeTitle)(),onOK:()=>{"system"===t?(e.setSystemThemeMode(!0),e.setTheme(s.default.getCurrentTheme())):(e.setSystemThemeMode(!1),e.setTheme(t)),o.ModalManager.close()},onCancel:()=>{o.ModalManager.close()},children:(0,c.jsx)("form",{children:(0,c.jsx)("ol",{children:f.map((e=>(0,c.jsx)("li",{children:(0,c.jsx)(a.RadioWithLabel,{name:"theme",value:e.value,label:e.label(),checked:t===e.value,onChange:()=>{return t=e.value,void n(t);var t}})},e.value)))})})})};var i=n(103440),o=n(114850),a=n(695431),l=n(603397),s=r(n(614495)),d=n(667738),u=n(667294),c=n(785893);const f=[{value:"light",label:l.themeLightLabel},{value:"dark",label:l.themeDarkLabel},{value:"system",label:l.themeSystemLabel}]},290710:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,msgs:n}=e;return(0,d.jsx)(o.ConfirmPopup,{onOK:()=>{t&&t.pendingAction++,i.ChatCollection.unstarAllMessages(n,t).finally((()=>{t&&t.pendingAction--})),s.ModalManager.close()},okText:l.default.t(605),onCancel:u,children:(0,d.jsx)("div",{children:(0,d.jsx)(a.EmojiText,{text:l.default.t(606)})})})};var i=n(351053),o=n(103440),a=n(305521),l=r(n(932325)),s=n(114850),d=n(785893);const u=()=>{s.ModalManager.close()}},306225:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(953213),o=r(n(908081)),a=r(n(324093)),l=n(626194),s=n(305521),d=n(81644),u=r(n(932325)),c=n(118612),f=n(435595),h=n(430484),p=r(n(401438)),g=n(517660),m=n(105284),C=n(667294),v=r(n(156720)),x=n(785893);const y={position:"g0rxnol2",marginBottom:"brac1wpa",backgroundColor:"ihvf49ua",boxShadow:"tio0brup"},b={paddingTop:"emrlamx0"},j={position:"g0rxnol2",zIndex:"nbczt5ty",height:"noboit18",backgroundColor:"gulicvea"},E={position:"lhggkp7q",end:"druapeav",bottom:"k2umuq2k"};function _(e){let{contact:t}=e;const n=(0,g.parseVcard)(t.vcard);return n?(0,x.jsx)("div",{className:(0,v.default)(y),children:(0,x.jsx)(p.default,{parsedVcard:n,thumbnail:(0,g.vcardThumbnail)(n)})}):null}function S(e,t){const{contactList:n,onSend:r,onBack:p,chat:g}=e;let C;if(null!=g.kind)switch(g.kind){case i.ChatKindType.Chat:C=u.default.t(201,{chat:g.title(),count:u.default.n(n.length),_plural:n.length});break;case i.ChatKindType.Group:C=u.default.t(202,{chat:g.title(),count:u.default.n(n.length),_plural:n.length});break;case i.ChatKindType.Broadcast:C=u.default.t(200,{chat:g.title(),count:u.default.n(n.length),_plural:n.length});break;case i.ChatKindType.Community:case i.ChatKindType.Newsletter:}const y=C?(0,x.jsx)(s.EmojiText,{text:C,direction:"auto",titlify:!0,ellipsify:!0}):null;return(0,x.jsx)(c.Modal,{ref:t,type:c.ModalTheme.Box,children:(0,x.jsxs)(o.default,{children:[(0,x.jsx)(l.DrawerHeader,{type:l.DRAWER_HEADER_TYPE.POPUP,onBack:p,children:y}),(0,x.jsx)(a.default,{children:(0,x.jsx)(d.HotKeys,{children:(0,x.jsx)("div",{className:(0,v.default)(b),children:n.map(((e,t)=>(0,x.jsx)(_,{contact:(0,m.vcardFromContactModel)(e)},t.toString())))})})}),(0,x.jsx)("div",{className:(0,v.default)(j),children:(0,x.jsx)("div",{className:(0,v.default)(E),children:(0,x.jsx)(f.Round,{large:!0,onClick:r,children:(0,x.jsx)(h.SendIcon,{directional:!0})})})})]})})}var w=(0,C.forwardRef)(S);t.default=w},81499:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(881841),o=n(122583),a=r(n(676327)),l=r(n(478e3)),s=n(287461),d=n(62375),u=r(n(692629)),c=r(n(196554)),f=n(177938),h=n(306703),p=n(510337),g=r(n(245956)),m=r(n(908081)),C=r(n(324093)),v=n(626194),x=n(225882),y=n(305521),b=n(753233),j=n(258105),E=n(653887),_=n(914368),S=n(858770),w=n(162164),k=r(n(932325)),T=re(n(213462)),M=re(n(288057)),I=n(97858),P=n(114850),D=n(21645),L=r(n(65162)),R=n(24578),O=n(252451),A=r(n(633698)),N=n(956113),B=n(180519),F=n(459857),H=n(900571),U=r(n(439114)),G=n(130756),z=n(992934),q=n(309512),V=r(n(556869)),W=n(548360),Y=n(667294),Z=r(n(156720)),K=r(n(10617)),X=n(808446),Q=n(655241),J=n(441673),$=r(n(321201)),ee=r(n(895851)),te=n(785893);function ne(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ne=function(e){return e?n:t})(e)}function re(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ne(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const ie={container:{position:"g0rxnol2",width:"e9dx81qg",height:"a2zl6d5m",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",transformOrigin:"rgztdhlt",animationName:"d30yvege",animationDuration:"eb9g83lr",animationTimingFunction:"kl1dhzdn"},circleContainer:{backgroundColor:"ur864smd"},checkmarkContainer:{backgroundColor:"bn27j4ou"},errorContainer:{backgroundColor:"rxgtltrb"},circle:{width:"ar4jf3c7",height:"aik2f73q",paddingTop:"af9wj70c",paddingEnd:"sjajxv0r",paddingBottom:"jzp2c175",paddingStart:"tdx57lpj"},spinner:{paddingTop:"af9wj70c",paddingEnd:"sjajxv0r",paddingStart:"tdx57lpj",paddingBottom:"t17ktnxr"},digit:{display:"l7jjieqr",width:"jte5jbqx"},block:{display:"l7jjieqr",width:"ilqz664c",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm"},row:{width:"yn8wkgi7",marginTop:"kiiy14zj",marginEnd:"k1jo73ug",marginBottom:"j4enbv94",marginStart:"isfiuinm",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"prv4wu9t"},checkmark:{position:"g0rxnol2",top:"myeiuhv9",fontSize:"ipry0idr",color:"k17s6i4e",textAlign:"qfejxiq4",transform:"m7vo9q63"},error:{position:"g0rxnol2",top:"myeiuhv9",fontSize:"ipry0idr",color:"k17s6i4e",textAlign:"qfejxiq4",transform:"m7vo9q63"},errorBanner:{position:"lhggkp7q",top:"dbs0ofhi",zIndex:"l355kaf8",boxSizing:"cm280p3y",width:"ln8gz9je",paddingTop:"emrlamx0",paddingEnd:"itegkywt",paddingBottom:"aiput80m",paddingStart:"rppts313",fontSize:"maaasku1",lineHeight:"q5jc98e4",color:"k17s6i4e",textAlign:"qfejxiq4",backgroundColor:"dte9zi8s"},webcam:{position:"g0rxnol2",width:"ln8gz9je",marginBottom:"r5imph41"},webcamVideo:{transform:"n4o0o7gj",transformOrigin:"sx61ek5s"},overlay:{position:"lhggkp7q",top:"qq0sjtgm",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",boxShadow:"t207h1ry"},btnClose:{position:"lhggkp7q",top:"qlcjp10l",end:"citmgm7b",color:"s4k44ver"},section:{marginTop:"ignnouf6",textAlign:"qfejxiq4",animationName:"gsqs0kct",animationDuration:"oauresqk",animationTimingFunction:"kl1dhzdn"},dragAndDropExplanation:{display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",fontSize:"enbbiyaj",textAlign:"qfejxiq4",position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0",background:"kwyvshhd"},form:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingEnd:"b7dpvuw3",paddingBottom:"s9fl9ege",paddingStart:"pxobjmf4"},photo:{display:"p357zi0d",justifyContent:"ac2vgrno",marginTop:"ignnouf6",marginBottom:"bibl1e27",transformOrigin:"rgztdhlt",animationName:"i9q6l8xd",animationDuration:"eb9g83lr",animationTimingFunction:"kl1dhzdn"},code:{marginTop:"iy2cu22y",textAlign:"qfejxiq4"},explanation:{fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"pm5hny62",textAlign:"qfejxiq4"},noWrap:{display:"p357zi0d",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"}},oe=(e,t)=>!!e&&!!t&&(0,i.compareArrayBuffer)(e.publicKey,t.publicKey)&&(0,i.compareArrayBuffer)(e.pnIdentifier,t.pnIdentifier),ae=(e,t)=>{if(!e&&!t)return!0;const n=(0,q.decodeProtobuf)(O.CombinedFingerprintSpec,e),r=(0,q.decodeProtobuf)(O.CombinedFingerprintSpec,t);if(!n&&!r)return!0;if(!(null!=n.version||null!=r.version||n.localFingerprint||r.localFingerprint||n.remoteFingerprint||r.remoteFingerprint))return!0;if(n.version!==r.version)return!1;const i=oe(n.localFingerprint,r.localFingerprint),o=oe(n.remoteFingerprint,r.remoteFingerprint);return i&&o};function le(e){const{binary:t=null,visible:n}=e,r=(0,Y.useRef)(null),i=(0,Y.useRef)(null),[o,a]=(0,Y.useState)(!1),[s,u]=(0,Y.useState)(null),[c,h]=(0,Y.useState)(null),p=()=>{o||a(!0)},m=()=>{o||a(!0)},C=()=>{o&&a(!1)};(0,Y.useEffect)((()=>{if(t){const e=r.current;if(!e||!t)return u(null),void h(null);if(ae(s,t))return;for(i.current&&(i.current=null);e.firstChild;)e.removeChild(e.firstChild);i.current=new l.default(e,{text:t,width:_.QR_EDGE/2,height:_.QR_EDGE/2,correctLevel:l.default.CorrectLevel.L}),u(t);const n=e.getElementsByTagName("canvas")[0];if(!n)return void h(null);(e=>{const t=document.createElement("canvas");t.width=e.width+10,t.height=e.height+10;const n=t.getContext("2d");n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.drawImage(e,5,5),t.toBlob((e=>h(e)),"image/png")})(n)}}),[t,s]);let v=null;if(n){let t=null;if(o&&c){const n=e.contact.formattedUser||"",r=f.ContactCollection.assertGet((0,F.getMaybeMeUser)()).formattedUser;t=(0,te.jsx)(g.default,{file:c,download:"Verification Code between "+r+" and "+n,extension:E.AllowedFileExtensions.PNG,children:(0,te.jsx)(d.AvatarOverlay,{text:W.fbt._("Download code",null,{hk:"uiMxK"})})})}v=(0,te.jsxs)("div",{onMouseOver:p,onMouseEnter:m,onMouseLeave:C,children:[t,(0,te.jsx)("div",{className:(0,Z.default)(ie.circle),ref:r})]})}return v}const se=(0,Y.memo)(le,((e,t)=>ae(t.binary,e.binary)&&t.visible===e.visible));function de(e){let{visible:t}=e,n=null;return t&&(n=(0,te.jsx)("div",{className:(0,Z.default)(ie.circle),children:(0,te.jsx)("div",{className:(0,Z.default)(ie.spinner),children:(0,te.jsx)(N.Spinner,{size:52,stroke:4})})})),n}function ue(e){let{binary:t,contact:n,visible:r}=e,i=null;return r&&(i=(0,te.jsxs)("div",{className:(0,Z.default)(ie.container,ie.circleContainer),children:[(0,te.jsx)(se,{visible:!!t,binary:t,contact:n}),(0,te.jsx)(de,{visible:!t})]})),i}se.displayName="VerificationQRCode";function ce(e){if(!e.string)return(0,te.jsx)("div",{children:k.default.t(398)});const t=e.string;if(60!==t.length)return __LOG__(3)`verificationString:render props.string should be ${60} characters long instead of ${t.length}.`,(0,te.jsx)("div",{children:W.fbt._("Couldn't display security code. You can verify using the QR code instead.",null,{hk:"3yMFFL"})});const n=[];for(let e=0;e<3;e++){const r=[];for(let n=0;n<4;n++){const i=[];for(let r=0;r<5;r++){const o=t.charAt(5*e*4+5*n+r);i.push((0,te.jsx)("span",{className:(0,Z.default)(ie.digit),children:o},r))}r.push((0,te.jsx)("span",{className:(0,Z.default)(ie.block),children:i},n))}n.push((0,te.jsx)(h.SelectableDiv,{className:(0,Z.default)(ie.row),selectable:!0,children:r},e))}return(0,te.jsx)(h.SelectableDiv,{selectable:!0,children:n})}const fe=(0,Y.memo)(ce,((e,t)=>t.string===e.string));function he(e){let{visible:t}=e,n=null;return t&&(n=(0,te.jsx)("div",{className:(0,Z.default)(ie.container,ie.checkmarkContainer),children:(0,te.jsx)("div",{className:(0,Z.default)(ie.checkmark),children:"â "})})),n}function pe(e){let{visible:t}=e,n=null;return t&&(n=(0,te.jsx)("div",{className:(0,Z.default)(ie.container,ie.errorContainer),children:(0,te.jsx)("div",{className:(0,Z.default)(ie.error),children:"!"})})),n}function ge(e){let{children:t}=e;return(0,te.jsx)("div",{className:(0,Z.default)(ie.errorBanner),children:t})}fe.displayName="VerificationString";function me(e){const{stream:t,onCapture:n,disposeStream:r}=e,i=(0,Y.useRef)(null),o=(0,Y.useRef)(!1),a=(0,Y.useRef)(null),l=(0,Y.useRef)(null),[s]=(0,K.default)((()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.underlyingVideo();if(!t)return;const r=document.createElement("canvas");r.width=t.videoWidth/2,r.height=t.videoHeight/2;r.getContext("2d").drawImage(t,r.width/2,r.height/2,r.width,r.height,0,0,r.width,r.height),r.toBlob((e=>{const t=window.URL.createObjectURL(e);__LOG__(2)`objectURL: ${t}`,n(t)}),"image/jpeg",1)}),200);(0,Y.useEffect)((()=>((0,T.isSrcObjectInVideoElement)()||(i.current=window.URL.createObjectURL(t)),()=>{t&&(null==r||r(),i.current&&window.URL.revokeObjectURL(i.current))})),[]);const d=()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.underlyingVideo(),n=l.current;if(!t||!n)return;const r=t.offsetHeight,i=t.offsetWidth,o=i/3,s=o;n.style.width=o+"px",n.style.height=s+"px",n.style.margin=(r-s)/2+"px "+(i-o)/2+"px"},u=()=>{!0!==o.current&&(d(),s())};(0,X.useListener)(window,"resize",d);let c=null;var f;e.stream&&(c=(0,te.jsxs)("div",{className:(0,Z.default)(ie.webcam),children:[(0,te.jsx)("div",{className:(0,Z.default)(ie.webcamVideo),children:(0,te.jsx)(U.default,{autoPlay:!0,ref:a,onPlay:u,src:null!==(f=i.current)&&void 0!==f?f:void 0,srcObject:i.current?void 0:e.stream,width:"100%"})}),(0,te.jsx)("div",{className:(0,Z.default)(ie.overlay),ref:l}),(0,te.jsx)("button",{onClick:e.onClose,className:(0,Z.default)(ie.btnClose),children:(0,te.jsx)(z.XAltIcon,{})})]}));return c}function Ce(e,t){const{onClose:n,isFirstLevel:r=!1}=e,l=(0,$.default)(),d=(0,ee.default)(),f=(0,Q.useModelValues)(e.contact,["verificationBinary","verificationString","formattedUser","formattedShortName","isMe","id","showBusinessCheckmarkAsPrimary","phoneNumber","displayNameLID","displayName","shareOwnPn"]),h=(0,Y.useRef)(null),g=(0,Y.useRef)(null),E=(0,Y.useRef)(null),[_,N]=(0,Y.useState)(!0),[F,U]=(0,Y.useState)(!1),[z,K]=(0,Y.useState)(!1),[X,ne]=(0,Y.useState)(!1),[re,oe]=(0,Y.useState)(!1),[ae,le]=(0,Y.useState)(null),[se,de]=(0,Y.useState)(null),[ce,Ce]=(0,Y.useState)(!1),[ve,xe]=(0,Y.useState)(null),[ye,be]=(0,Y.useState)(null),[je,Ee]=(0,Y.useState)(null),_e=()=>{(0,w.getIdentityVerificationDataJob)(f.id,{shareOwnPn:f.shareOwnPn||!f.id.isLid()}).then((e=>{d.aborted||(e?((0,i.compareArrayBuffer)(ve,e.binary)&&!e.string!==ye||(null!=ve&&P.ModalManager.open((0,te.jsx)(x.E2eChangeModal,{contact:f})),xe(e.binary),be(e.string)),ke()):(Te(),P.ModalManager.open((0,te.jsx)(A.default,{name:f.formattedUser,onOK:()=>{n?n():null==l||l.requestDismiss()}}))))}))},[Se]=(0,J.useTimeout)((()=>{oe(!1)}),5e3),we=e=>{N(!0),U(!1),K(!1),oe(!0),le(e),Se()},[ke,Te]=(0,J.useTimeout)(_e,1e3),[Me]=(0,J.useTimeout)((()=>{U(!1),N(!0)}),3e3),[Ie]=(0,J.useTimeout)((()=>{K(!1)}),3e3),[Pe]=(0,J.useTimeout)((()=>{X&&!re&&we(W.fbt._("Please try increasing the brightness or reducing light reflection.",null,{hk:"2uEW7v"}))}),7e3);const De=()=>{ne(!1),oe(!1),de(null),h.current=null},Le=e=>{const t=(e=>{let t;const n=f.formattedShortName;switch(e){case H.ERROR_TYPE.UNEXPECTED_VERSION_OLD:t=W.fbt._("The scanned QR code was generated by an out of date app version, please update the other device to the latest version and try again.",null,{hk:"3fV95G"});break;case H.ERROR_TYPE.UNEXPECTED_VERSION_NEW:t=W.fbt._("Your client version is out of date, please update this device to the latest version and try again.",null,{hk:"1MGkqb"});break;case H.ERROR_TYPE.REMOTE_WRONG_CHAT_PEER:t=W.fbt._('You opened "Verify Security Code" for the wrong account on your other device. Open it for {contact_name} to verify.',[W.fbt._param("contact_name",n)],{hk:"4wlUz5"});break;case H.ERROR_TYPE.REMOTE_WRONG_CHAT:t=W.fbt._('You opened "Verify Security Code" for the wrong phone number. Open it for the correct number to verify {contact_name}.',[W.fbt._param("contact_name",n)],{hk:"3Pn5o6"});break;case H.ERROR_TYPE.LOCAL_WRONG_CHAT:t=W.fbt._('{contact_name} opened "Verify Security Code" for the wrong chat. Ask {contact_name} to open it for your account.',[W.fbt._param("contact_name",n)],{hk:"2T7QR"});break;case H.ERROR_TYPE.LOCAL_PN_MISMATCH:t=W.fbt._("Unable to verify your phone number. Share your phone number with {contact_name} and try again.",[W.fbt._param("contact_name",n)],{hk:"4iLxUB"});break;case H.ERROR_TYPE.REMOTE_PN_MISMATCH:case H.ERROR_TYPE.REMOTE_PN_MISMATCH_PEER:case H.ERROR_TYPE.REMOTE_PN_MISSING_PEER:case H.ERROR_TYPE.REMOTE_PN_MISSING:t=W.fbt._("Unable to verify the phone number of {contact_name} . Ask {contact_name} to share their phone number and try again.",[W.fbt._param("contact_name",n)],{hk:"4tgzgH"});break;case H.ERROR_TYPE.INVALID_QR_CODE:default:t=W.fbt._("The image does not contain a valid identity verification QR code.",null,{hk:"4q3XzO"})}return t})(e);we(t)},Re=(e,t)=>{(e=>new Promise(((t,n)=>{a.default.callback=(e,r)=>{if(r)n(r);else if(e.length<1)n((0,V.default)("QR decoder did not return decoded binary"));else{const n=new Uint8Array(e[0]);t(n)}},a.default.decode(e)})))(e).then((e=>(0,q.decodeProtobuf)(O.CombinedFingerprintSpec,e))).then((e=>{const n=(e=>{let t=new ArrayBuffer(0);t=ve;const n=(0,q.decodeProtobuf)(O.CombinedFingerprintSpec,t);return(0,H.validateFingerprintError)(e,n,f.id)})(e);__LOG__(2)`[IDQR] validation results`,n?t&&je===H.ERROR_TYPE.INVALID_QR_CODE||(Ee(n),je===H.ERROR_TYPE.LOCAL_KEYS_MISMATCH||je===H.ERROR_TYPE.REMOTE_KEYS_MISMATCH||je===H.ERROR_TYPE.LOCAL_PN_MISMATCH_PEER?(De(),N(!1),U(!1),K(!0),oe(!1),Ie()):Le(n)):(De(),N(!1),U(!0),K(!1),oe(!1),Me())})).catch((()=>{t||(Ee(H.ERROR_TYPE.INVALID_QR_CODE),Le(H.ERROR_TYPE.INVALID_QR_CODE))})).finally((()=>{window.URL.revokeObjectURL(e)}))},Oe=e=>{e.stopPropagation();const t=e.target.files||e.dataTransfer.files;if(!t||!t[0])return;const n=t[0],r=URL.createObjectURL(n);Re(r,!1);const i=g.current;i&&i.reset()},Ae=()=>{const{asyncStream:e,disposeStream:t}=T.start("camera");h.current=t,e.then((e=>(e=>{N(!0),U(!1),K(!1),ne(!0),de(e),Pe()})(e))).catch((0,o.filteredCatch)(M.GetUserMedia.NotAllowedError,(()=>{P.ModalManager.open((0,te.jsx)(S.GuidePopup,{messaging:S.Messaging.CAMERA_FAIL,type:S.TYPE.GUIDE_UNBLOCK}))}))).catch((0,o.filteredCatch)(M.GetUserMedia.GetUserMediaError,(()=>{P.ModalManager.open((0,te.jsx)(S.GuidePopup,{messaging:S.Messaging.CAMERA_MISSING,type:S.TYPE.GUIDE_NONE}))})))},Ne=e=>{Re(e,!0)},Be=()=>{const e=E.current;null==e||e.click()},Fe=()=>{n?n():null==l||l.requestDismiss()};(0,Y.useEffect)((()=>{}),[f]),(0,Y.useEffect)((()=>(_e(),(0,I.isPrivacyNarrativeV1Enabled)()&&(0,R.incrementPrinaDailyCount)(G.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,p.PrinaDailyActionType.DIALOG_APPEAR),()=>{var e;null===(e=h.current)||void 0===e||e.call(h)})),[]);const He=W.fbt._("To verify that messages and calls with {formatted_name} are end-to-end encrypted, open this screen on your phone, and follow the instructions.",[W.fbt._param("formatted_name",f.displayNameLID)],{hk:"7Kbro"}),Ue=W.fbt._("To verify that messages and calls with {formatted_name} are end-to-end encrypted, scan or upload this code on their device.",[W.fbt._param("formatted_name",f.displayNameLID)],{hk:"3hFN3T"});let Ge,ze=null,qe=null,Ve=null,We=null,Ye=null,Ze=new ArrayBuffer(0),Ke="";const Xe=f.id.isLid()&&(null==f.phoneNumber||!0!==f.shareOwnPn);let Qe,Je;Ge=(0,s.getABPropConfigValue)("adv_v2_m6")?Xe?Ue:k.default.t(728,{contactName:f.formattedShortName}):Xe?He:k.default.t(728,{contactName:f.formattedShortName}),Ze=ve,Ke=ye,f.isMe&&(Ge=W.fbt._("To verify that messages with yourself are end-to-end encrypted, scan or upload this code on your device. You can also compare the number above instead.",null,{hk:"2ZIyy6"})),Ze&&(L.default&&(ze=(0,te.jsx)("div",{className:(0,Z.default)(ie.section),children:(0,te.jsx)(u.default,{type:"primary",onClick:X?De:Ae,children:X?W.fbt._("Turn Off Camera",null,{hk:"3OyAHl"}):W.fbt._("Scan Code",null,{hk:"170pLA"})})})),qe=(0,te.jsxs)("div",{className:(0,Z.default)(ie.section),children:[(0,te.jsx)(u.default,{type:"primary",onClick:Be,children:W.fbt._("Upload Code",null,{hk:"2aJIAo"})}),ce&&(0,te.jsx)("div",{className:(0,Z.default)(ie.dragAndDropExplanation),children:W.fbt._("Release to verifyâ¦",null,{hk:"2K08kb"})})]}),Ve=(0,te.jsx)("form",{ref:g,children:(0,te.jsx)("input",{ref:E,accept:"image/*",type:"file",style:{display:"none"},onChange:Oe,onClick:e=>e.stopPropagation()})})),X&&se&&(We=(0,te.jsx)(me,{stream:se,disposeStream:h.current,onCapture:Ne,onClose:De})),re&&(Ye=(0,te.jsx)(ge,{children:ae})),r?Qe=Fe:Je=Fe;const $e=(0,te.jsx)(D.Name,{contact:f,showBusinessCheckmark:f.showBusinessCheckmarkAsPrimary,titlify:!0,ellipsify:!0,showMessageYourselfName:!0});return(0,te.jsxs)(m.default,{ref:t,onDrop:e=>{ve&&Oe(e)},onDragChange:e=>{Ce(e)},children:[(0,te.jsxs)(v.DrawerHeader,{type:v.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onBack:Je,onCancel:Qe,children:[(0,te.jsx)(B.TextDiv,{theme:"title",children:(0,te.jsx)(y.EmojiText,{text:W.fbt._("Verify Security Code",null,{hk:"1vTVgt"})})}),(0,te.jsx)(B.TextDiv,{theme:"small",xstyle:ie.noWrap,children:f.isMe?$e:(0,te.jsx)(y.EmojiText,{text:W.fbt._("You, {contact-name}",[W.fbt._param("contact-name",f.formattedUser)],{hk:"3zkeq7"}),ellipsify:!0})})]}),We,Ye,(0,te.jsx)(C.default,{children:(0,te.jsxs)("div",{className:(0,Z.default)(ie.form),children:[(0,te.jsxs)("div",{className:(0,Z.default)(ie.photo),children:[(0,te.jsx)(ue,{binary:Ze,contact:f,visible:_}),(0,te.jsx)(he,{visible:F}),(0,te.jsx)(pe,{visible:z})]}),(0,te.jsx)("div",{className:(0,Z.default)(ie.section),children:(0,te.jsx)("div",{className:(0,Z.default)(ie.code),dir:"ltr",children:null!=Ke&&(0,te.jsx)(fe,{string:Ke})})}),(0,te.jsx)("div",{className:(0,Z.default)(ie.section),children:(0,te.jsxs)("p",{className:(0,Z.default)(ie.explanation),children:[(0,te.jsxs)("span",{children:[Ge,"Â "]}),(0,te.jsx)(c.default,{onClick:()=>{(0,I.isPrivacyNarrativeV1Enabled)()&&(0,R.incrementPrinaDailyCount)(G.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,p.PrinaDailyActionType.DIALOG_SELECT),(0,b.openExternalLink)((0,j.getE2EFaqUrl)())},children:k.default.t(393)})]})}),ze,qe,Ve]})})]})}var ve=(0,Y.forwardRef)(Ce);t.default=ve},648215:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(659177)),o=n(468926),a=r(n(908081)),l=r(n(324093)),s=n(626194),d=r(n(969358)),u=r(n(932325)),c=n(937001),f=n(180519),h=n(667738),p=n(625786),g=n(390737),m=n(905225),C=n(548360),v=n(667294),x=r(n(156720)),y=n(655241),b=n(785893);const j={wallpaperColorCanvas:{boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",float:"e4n4g5wb",width:"idnewlvo",height:"ffyh53uw",marginBottom:"pz0xruzv",marginStart:"htq1q0kf",textAlign:"qfejxiq4",borderTop:"mcq5gaun",borderEnd:"fg094308",borderBottom:"jzfpk5uu",borderStart:"h826kv5n"},canvasHover:{cursor:"ajgl1lbb"},canvasActive:{boxShadow:"f9dkde2y"},canvasHoverBorder:{borderTop:"dkf3g4f3",borderEnd:"s6gr8jre",borderBottom:"s2jbbbom",borderStart:"o872nhkh"},canvasActiveBorder:{borderTop:"dukfh0op",borderEnd:"tfeq9cll",borderBottom:"bjj8y24l",borderStart:"giz8vor8"},canvasDefault:{backgroundColor:"cn2ptbqf"},wallpaperDefaultTitle:{maxHeight:"em2tzsnp",marginTop:"tt8xd2xn",marginEnd:"kjemk6od",marginBottom:"mpdn4nr2",marginStart:"k6y3xtnu",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"lak21jic",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},wallpaperColorEmpty:{width:"idnewlvo",height:"bbl9m3t3",marginStart:"htq1q0kf"},wallpaperApplyDoodle:{display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"lkhkxwyq",justifyContent:"ac2vgrno",paddingTop:"msavwer2",paddingEnd:"bcymb0na",paddingStart:"f78eapp6"},checkboxLabel:{display:"ew8mgplc",marginStart:"oz0g9ue8",verticalAlign:"neme6l2y"},wallpaperColorGrid:{display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"lkhkxwyq",justifyContent:"ac2vgrno",paddingTop:"msavwer2",paddingEnd:"bcymb0na",paddingStart:"f78eapp6"}};function E(e){const{colorHex:t,isDefault:n}=e,[r,o]=(0,v.useState)(!1),a=()=>n?m.DEFAULT_CHAT_WALLPAPER:t,l=e.isDefault?(0,b.jsx)("span",{className:(0,x.default)(j.wallpaperDefaultTitle),"data-testid":"wallpaper-default-title",children:u.default.t(220)}):null,s=e.isSelected?j.canvasActiveBorder:r&&j.canvasHoverBorder,d=(0,x.default)(j.wallpaperColorCanvas,e.isSelected&&j.canvasActive,r&&j.canvasHover,s,e.isDefault&&j.canvasDefault);return(0,b.jsx)("span",{className:d,style:{backgroundColor:e.colorHex},onMouseOver:()=>{r||(o(!0),i.default.trigger("wallpaper_color_preview",a()))},onMouseEnter:()=>{r||(o(!0),i.default.trigger("wallpaper_color_preview",a()))},onMouseLeave:()=>{r&&(o(!1),i.default.trigger("wallpaper_color_preview"))},onClick:()=>{const e=a(),t=i.default.get("defaultPreference");t&&e!==t.wallpaperColor&&(t.set("wallpaperColor",e),g.ToastManager.open((0,b.jsx)(p.Toast,{msg:u.default.t(661)})))},title:e.isDefault?u.default.t(220):null,children:l})}function _(e){let t;const{colors:n}=e,r=(0,y.useOptionalModelValues)(e.chatPreference,["wallpaperColor","showDoodle"]),i=null==r?void 0:r.wallpaperColor,a=()=>{if(r){const e=!r.showDoodle;r.set("showDoodle",e),g.ToastManager.open((0,b.jsx)(p.Toast,{msg:e?C.fbt._("Chat wallpaper doodles added",null,{hk:"4wtFSD"}):C.fbt._("Chat wallpaper doodles removed",null,{hk:"3cppZY"})}))}},l=null==r?void 0:r.showDoodle,s=n.map((e=>(0,b.jsx)(E,{colorHex:e,isSelected:i===e,isDefault:!1},e))),d=(0,b.jsx)(E,{isSelected:i===m.DEFAULT_CHAT_WALLPAPER,isDefault:!0},m.DEFAULT_CHAT_WALLPAPER);s.unshift(d);for(let e=0;e<2;e++)s.push((0,b.jsx)("div",{className:(0,x.default)(j.wallpaperColorEmpty)},"emptyEl"+e));return c.ServerProps.wallpapersV2&&(t=(0,b.jsxs)("div",{className:(0,x.default)(j.wallpaperApplyDoodle),children:[(0,b.jsx)(o.CheckBox,{onChange:a,checked:!!l}),(0,b.jsx)(f.TextSpan,{className:(0,x.default)(j.checkboxLabel),theme:"small",children:C.fbt._("Add WhatsApp Doodles",null,{hk:"4rcSeh"})})]})),(0,b.jsxs)(b.Fragment,{children:[t,(0,b.jsx)("div",{className:(0,x.default)(j.wallpaperColorGrid),children:s})]})}function S(e,t){const n=(0,v.useContext)(h.ThemeContext);return(0,v.useEffect)((()=>(c.ServerProps.wallpapersV2&&i.default.trigger("wallpaper_drawer_open"),()=>{i.default.trigger("wallpaper_color_preview"),c.ServerProps.wallpapersV2&&i.default.trigger("wallpaper_drawer_close")})),[]),(0,b.jsxs)(a.default,{ref:t,children:[(0,b.jsx)(s.DrawerHeader,{title:C.fbt._("Set chat wallpaper",null,{hk:"gsBxh"}),onBack:e.onClose,type:s.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,b.jsx)(l.default,{children:(0,b.jsx)(d.default,{animation:!1,theme:"full-height",children:(0,b.jsx)(_,{colors:(0,m.getWallpaperColors)(n.theme),chatPreference:i.default.get("defaultPreference")})})})]})}var w=(0,v.forwardRef)(S);t.default=w},569389:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{mimeType:t,url:n}=e;return(0,o.jsx)("div",{className:i.default.container,"data-animate-attach-media":!0,children:(0,o.jsx)("div",{className:i.default.media,children:(0,o.jsx)("audio",{controls:!0,type:t,src:n})})})};var i=r(n(111457)),o=n(785893)},470608:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let{mimeType:r,filename:s}=e;const d=(0,a.default)(o.default.icon,null!==(t=null===(n=i.DOCUMENT_MIMETYPES[r])||void 0===n?void 0:n.icon)&&void 0!==t?t:"icon-doc-generic");return(0,l.jsx)("div",{className:o.default.container,"data-animate-attach-media":!0,children:(0,l.jsx)("div",{className:o.default.media,children:(0,l.jsxs)("div",{className:o.default.document,children:[(0,l.jsx)("div",{className:d}),(0,l.jsx)("div",{className:o.default.text,children:s})]})})})};var i=n(937484),o=r(n(662519)),a=r(n(261294)),l=n(785893)},110535:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,{mimeType:n,url:r,isGif:o,size:l,processing:g,preview:m}=e;switch(p[n].msgType){case"image":t=(0,h.jsx)("img",{alt:a.default.t(767),src:r,className:c.default.img});break;case"video":{const e=o?{loop:!g,autoPlay:!g,muted:!1,controls:!1}:{},n=g?(0,h.jsx)("div",{className:c.default.spinner,children:(0,h.jsx)(d.Spinner,{color:"white",size:50,stroke:3})}):null,l=m?(0,h.jsx)("img",{alt:a.default.t(767),className:c.default.staticPreview,src:`data:image/jpeg;base64,${m}`}):null,s=g?null:(0,h.jsx)(u.default,(0,i.default)((0,i.default)({controls:!0,controlsList:"nodownload nofullscreen",className:c.default.video},e),{},{src:r}));t=(0,h.jsxs)("div",{className:(0,f.default)(c.default.img,c.default.videoContainer),children:[n,s,l]});break}case"audio":t=(0,h.jsx)("audio",{controls:!0,className:c.default.audio,type:n,src:r})}return(0,h.jsx)("div",{className:c.default.container,"data-animate-attach-media":!0,children:(0,h.jsx)("div",{className:c.default.media,children:(0,h.jsx)(s.default,{type:"scaleDown",size:l,children:t})})})};var i=r(n(81109)),o=r(n(535937)),a=r(n(932325)),l=n(937484),s=r(n(821384)),d=n(956113),u=r(n(439114)),c=r(n(356933)),f=r(n(261294)),h=n(785893);const p=(0,o.default)(l.MIMETYPES,(e=>"image"===(null==e?void 0:e.msgType)||"video"===(null==e?void 0:e.msgType)))},535355:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{fullPreview:t,fullPreviewSize:n,pageCount:r,mimeType:u,filename:c,showPageCount:f=!0,showBorder:h=!1}=e;if(t&&n&&null!=r&&r>0){const e=a.default.t(138,{count:r,_plural:r});return(0,d.jsxs)("div",{className:s.default.container,"data-js-attach-preview":!0,children:[(0,d.jsx)("div",{className:s.default.preview,children:(0,d.jsx)(l.default,{type:"scaleDown",size:n,children:(0,d.jsx)("img",{alt:a.default.t(767),src:t,className:(0,o.cx)({[s.default.imgBorder]:h,[s.default.img]:!0})})})}),f&&(0,d.jsx)("div",{className:s.default.caption,children:e})]})}return(0,d.jsx)(i.default,{mimeType:u,filename:c})};var i=r(n(470608)),o=n(752253),a=r(n(932325)),l=r(n(821384)),s=r(n(820989)),d=n(785893)},915132:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=null==e.maxItems?l.ServerProps.maxParticipants:e.maxItems;return(0,d.jsx)(o.SelectModal,{onConfirm:t=>{0===t.length&&i.ModalManager.close(),(t=>{for(const n of t)(0,a.default)(e.contacts,n),n.composeQuotedMsg=null;e.onContactsSent(t[0]),i.ModalManager.close()})(t)},maxItems:t,title:s.fbt._("Send contacts",null,{hk:"9ZMyz"}),listType:o.ListType.CHAT_SELECT_MODAL,onCancel:()=>{i.ModalManager.close()}})};var i=n(114850),o=n(61740),a=r(n(27752)),l=n(937001),s=n(548360),d=n(785893)},568898:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=t.COLOR_OPTIONS=void 0,t.EditGroupProfileDrawer=function(e){var t,n;const[r,F]=(0,k.useState)(null),[H,U]=(0,k.useState)(null),[G,z]=(0,k.useState)(null),[q,V]=(0,k.useState)(0),W=(0,k.useRef)(null),Y=(0,k.useRef)(null),Z=(0,k.useRef)(!1),K={EMOJI:0,STICKER:1},X=(0,k.useRef)({[K.EMOJI]:()=>{},[K.STICKER]:()=>{}}),Q=(0,k.useRef)([]);(0,k.useEffect)((()=>{var e;null===(e=Y.current)||void 0===e||e.cache()}),[r]);const J=(0,M.jsx)(v.Stage,{width:O,height:O,className:(0,T.default)(P.photoContainer),ref:W,onClick:()=>{null==r&&null==G&&z(0)},children:(0,M.jsxs)(v.Layer,{children:[(0,M.jsx)(v.Rect,{width:O,height:O,fill:(0,E.default)(R[q],200)}),null==r?(0,M.jsx)(v.Text,{x:80,y:80,width:N,height:B,offset:{x:N/2,y:B/2},lineHeight:1.14,align:"center",verticalAlign:"middle",ellipsis:!0,text:w.fbt._("CHOOSE AN EMOJI OR STICKER",null,{hk:"2wW3mU"}).toString(),fontSize:14,fontFamily:'"SF Pro Text", "SF Pro Icons", system, -apple-system, system-ui, "system-ui", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", "Kohinoor Devanagari", sans-serif',fill:(0,E.default)("cool-gray-alpha",50)}):(0,M.jsx)(v.Image,{ref:Y,width:A,height:A,offset:{x:52,y:52},x:80,y:80,image:r,filters:H===I.EMOJI&&Z.current?[_.default]:[]})]})});Object.values(K).forEach((e=>{"number"==typeof e&&(X.current[e]=()=>{G===e&&z(null)})}));const $=function(){var e=(0,i.default)((function*(e,t){try{if(null!=e){const t=yield(0,C.createImageFromEmoji)(e);t&&(F(t),Z.current=t.naturalWidth<=64&&t.naturalHeight<=64,U(I.EMOJI))}else{if(null==t)throw(0,S.default)("Neither emoji nor sticker is provided in handleEmojiStickerSelect()");{const e=yield(0,C.createImageFromSticker)(t);F(e),U(I.STICKER)}}}catch(e){j.ToastManager.open((0,M.jsx)(b.Toast,{msg:w.fbt._("Failed to add image",null,{hk:"4BUTOp"})}))}}));return function(){return e.apply(this,arguments)}}(),ee=(0,M.jsx)("div",{className:(0,T.default)(P.btn),children:(0,M.jsx)(y.Round,{large:!0,onClick:()=>{if(null==r)j.ToastManager.open((0,M.jsx)(b.Toast,{msg:w.fbt._("Choose an emoji or sticker to continue",null,{hk:"4i6xej"}),id:"ChooseAnEmojiOrStickerToContinueToast"}),j.ToastPosition.CENTER);else{var t,n,i,a;const r=null!==(t=null===(n=W.current)||void 0===n?void 0:n.toDataURL({mimeType:"image/jpeg",pixelRatio:x.PROF_PIC_THUMB_SIDE/O,quality:0,width:O,height:O}))&&void 0!==t?t:"",l=null!==(i=null===(a=W.current)||void 0===a?void 0:a.toDataURL({mimeType:"image/jpeg",pixelRatio:2*x.PROF_PIC_MIN_SIDE/O,quality:1,width:O,height:O}))&&void 0!==i?i:"";e.onFinished(r,l,(0,o.default)(H,"selectedImageType"))}},theme:null==r?y.RoundTheme.Disabled:void 0,label:w.fbt._("Submit picture",null,{hk:"Kgb4U"}),children:(0,M.jsx)(a.CheckmarkLargeIcon,{})})},"btn-submit");return(0,M.jsxs)(l.default,{theme:"products",children:[(0,M.jsx)(d.DrawerHeader,{title:e.title,type:"multiMediaGallery",onCancel:e.onCancel}),(0,M.jsxs)(s.default,{overflow:"hidden",children:[(0,M.jsxs)(f.FlexColumn,{className:(0,T.default)(P.container),align:"center",justify:"center",children:[(0,M.jsx)(h.default,{grow:1,xstyle:P.body,children:(0,M.jsxs)(f.FlexColumn,{align:"center",children:[(0,M.jsx)(h.default,{children:J}),(0,M.jsx)(h.default,{children:(0,M.jsx)(p.default,{refs:Q.current,selectedIndex:G,onSelect:t=>{var n;t!==G&&(z(t),n=t===K.EMOJI?I.EMOJI:I.STICKER,null!=e.sendEmojiStickerPanelOpenLoggingEvent&&e.sendEmojiStickerPanelOpenLoggingEvent(n))},tabConfigs:[{Icon:g.MediaEditorEmojiIcon,iconStyle:D.emojiIcon,ariaLabel:w.fbt._("Emojis selector",null,{hk:"3TL9SY"})},{Icon:m.MediaEditorStickerIcon,iconStyle:D.stickerIcon,ariaLabel:w.fbt._("Stickers selector",null,{hk:"2cPpsT"})}],popupAtLuanch:!0})}),(0,M.jsx)(h.default,{children:(0,M.jsx)(u.default,{className:(0,T.default)(P.colorPanel),colors:L,selectedIndex:q,onSelect:e=>{V(e)}})})]})}),(0,M.jsx)(h.default,{grow:0,xstyle:P.footer,children:ee})]}),G===K.EMOJI&&(0,M.jsx)(c.EmojiPanelPopup,{anchor:(0,o.default)(null===(t=Q.current[K.EMOJI])||void 0===t?void 0:t.current,"iconTabRefs.current[tabsIndex.EMOJI]?.current"),onSelect:$,onClose:()=>X.current[K.EMOJI]()}),G===K.STICKER&&(0,M.jsx)(c.StickerPanelPopup,{anchor:(0,o.default)(null===(n=Q.current[K.STICKER])||void 0===n?void 0:n.current,"iconTabRefs.current[tabsIndex.STICKER]?.current"),onSelect:e=>$(null,e),onClose:()=>X.current[K.STICKER]()})]})]},"attach-edit-group-profile-modal")},t.PHOTO_SIZE=t.ImageType=t.IMAGE_SIZE=void 0;var i=r(n(348926)),o=r(n(670983)),a=n(53004),l=r(n(908081)),s=r(n(324093)),d=n(626194),u=r(n(842990)),c=n(84409),f=n(690495),h=r(n(469733)),p=r(n(29394)),g=n(70843),m=n(638864),C=n(675249),v=n(139519),x=n(915272),y=n(435595),b=n(625786),j=n(390737),E=r(n(774426)),_=r(n(747384)),S=r(n(556869)),w=n(548360),k=n(667294),T=r(n(156720)),M=n(785893);t.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=64;const I=n(76672).Mirrored(["EMOJI","STICKER"]);t.ImageType=I;const P={container:{backgroundColor:"p1zdgkh6",position:"g0rxnol2",width:"ln8gz9je",height:"ppled2lx"},body:{flexGrow:"ggj6brxn"},footer:{display:"p357zi0d",position:"g0rxnol2",width:"ln8gz9je",height:"db4qzak4",zIndex:"b9fczbqn",alignItems:"gpmkiw74",justifyContent:"ac2vgrno",backgroundColor:"rrq4r3yd"},btn:{transform:"m7vo9q63"},photoContainer:{marginTop:"lxsc1wef",marginEnd:"poiibwu2",marginBottom:"iyjcf3gk",marginStart:"hqw9ulo5",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",overflowX:"gfz4du6o",overflowY:"r7fjleex",isolation:"mge1ni6g"},colorPanel:{marginTop:"etgvethi"}},D={emojiIcon:{width:"hgg0ttet",height:"qgpfrw6h"},stickerIcon:{width:"oimozejp",height:"f2o2jtpu"}},L=[["purple","sky-blue","green","yellow","orange","pink"],["cool-gray","cobalt","teal","red","sand"]],R=[].concat(...L);t.COLOR_OPTIONS=R;const O=160;t.PHOTO_SIZE=O;const A=104;t.IMAGE_SIZE=A;const N=90,B=48},842990:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{theme:t}=(0,d.useContext)(a.ThemeContext),n=(0,d.useRef)(e.selectedIndex),r=(0,d.useRef)([]),h={rows:e.colors,getNum:()=>h.rows.reduce(((e,t)=>e+t.length),0)};let p=0;return(0,c.jsx)(o.HotKeys,{role:"tablist",handlers:{right:()=>{var e;const t=n.current===h.getNum()-1?0:n.current+1;null===(e=r.current[t])||void 0===e||e.focus()},left:()=>{var e;const t=0===n.current?h.getNum()-1:n.current-1;null===(e=r.current[t])||void 0===e||e.focus()}},className:(0,s.default)(e.className),children:h.rows.map(((o,a)=>(0,c.jsx)(i.FlexRow,{className:(0,u.default)(f.row),justify:"center",children:o.map((o=>{const a=p++,s=e.selectedIndex===a;return(0,c.jsx)(i.FlexRow,{justify:"center",align:"center",children:(0,c.jsx)(i.FlexRow,{justify:"center",align:"center",className:(0,u.default)(f.btnOutline),style:{border:s?`1.5px solid ${(0,l.default)(o,"light"===t?600:300)}`:""},children:(0,c.jsx)("button",{role:"tab",ref:e=>r.current[a]=e,tabIndex:s?0:-1,"aria-selected":s,className:(0,u.default)(f.btn,s&&f.btnSelected),style:{backgroundColor:(0,l.default)(o,200)},onClick:()=>e.onSelect(a),onFocus:()=>n.current=a})})},a)}))},a)))})};var i=n(690495),o=n(81644),a=n(667738),l=r(n(774426)),s=r(n(261294)),d=n(667294),u=r(n(156720)),c=n(785893);const f={row:{marginTop:"s11ka3oa"},btnOutline:{boxSizing:"cm280p3y",width:"mgp6u6um",height:"j8e73hjv",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",marginStart:"o1cmhq28",marginEnd:"itgzszx5"},btn:{width:"tknnhhou",height:"sai7fuui",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",":focus":{borderTopStartRadius:"mn9o3mn1",borderTopEndRadius:"xthzmdyy",borderBottomEndRadius:"jzps8tg2",borderBottomStartRadius:"jbikg389"}},btnSelected:{width:"jabl2ek9",height:"t1nufmh4"}}},84409:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPanelPopup=function(e){const t=(0,d.jsx)(o.EmojiPanel,{onEmoji:t=>{e.onSelect(t)},onFocusNext:e.onClose,onFocusPrev:e.onClose});return(0,d.jsx)(l.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:e.onClose,children:(0,d.jsx)(s.default,{contextMenu:{menu:t,dirY:i.DirY.BOTTOM,type:i.MenuType.EmojiPicker,anchor:e.anchor,dirX:i.DirX.CENTER,offsetY:10}})})},t.StickerPanelPopup=function(e){const t=(0,d.jsx)(a.default,{onSticker:t=>{e.onSelect(t)},onFocusNext:e.onClose,onFocusPrev:e.onClose});return t?(0,d.jsx)(l.UIE,{displayName:"StickerPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:e.onClose,children:(0,d.jsx)(s.default,{contextMenu:{menu:t,dirY:i.DirY.BOTTOM,type:i.MenuType.StickerPicker,anchor:e.anchor,dirX:i.DirX.CENTER,offsetY:10}})}):void 0};var i=n(664149),o=n(637624),a=r(n(987610)),l=n(392632),s=r(n(37875)),d=n(785893)},774426:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n="sand"===e?(0,i.default)(a.get(`${e}-${t}`),"sandColorsMap.get(`${color}-${depth}`)"):(e=>getComputedStyle((0,i.default)(document.body,"document.body")).getPropertyValue(e))(`--wds-${e}-${t}`);if(""===n)throw(0,o.default)(`Get color failed (color=${e} depth=${t}). Please check whether wds color changed or there is a typo in color name.`);return n};var i=r(n(670983)),o=r(n(556869));const a=new Map([["sand-200","rgb(234, 224, 214)"],["sand-300","rgb(170, 148, 125)"],["sand-600","rgb(94, 83, 72)"]])},747384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[0,-1,0,-1,5,-1,0,-1,0],n=Math.round(Math.sqrt(t.length)),r=.5*n|0,i=e.data,o=e.width,a=e.height,l=new Uint8ClampedArray(i);for(let e=0;e<a;e++)for(let s=0;s<o;s++){const d=s,u=e,c=4*(e*o+s),f=[0,0,0];for(let e=0;e<n;e++)for(let i=0;i<n;i++){const s=u+e-r,c=d+i-r;if(s>=0&&s<a&&c>=0&&c<o){const r=4*(s*o+c),a=t[e*n+i];f[0]+=l[r]*a,f[1]+=l[r+1]*a,f[2]+=l[r+2]*a}}i[c]=f[0],i[c+1]=f[1],i[c+2]=f[2]}}},323795:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RETRY_OPTIONS=t.EditImageDrawer=void 0;var i=n(53004),o=r(n(908081)),a=r(n(324093)),l=n(626194),s=r(n(573538)),d=n(753233),u=r(n(932325)),c=r(n(319419)),f=r(n(368762)),h=r(n(821384)),p=n(785093),g=n(47186),m=n(435595),C=n(569056),v=r(n(79291)),x=r(n(844453)),y=r(n(727011)),b=n(548360),j=n(667294),E=r(n(969651)),_=r(n(637660)),S=n(808446),w=n(785893);const k={NONE:"none",RETAKE:"retake",RESTART:"restart"};t.RETRY_OPTIONS=k;const T=(0,j.forwardRef)(((e,t)=>{var n;const{attributionUrl:r,onRetake:T,retryText:M,onFinished:I,cropShape:P}=e,D=(0,E.default)(),L=(0,j.useRef)(),R=(0,j.useRef)(null),O=(0,_.default)((()=>new f.default)),[A,N]=(0,j.useState)(!1),[B,F]=(0,j.useState)({width:500,height:361}),[H]=(0,j.useState)((()=>new s.default(e.img)));(0,S.useListener)(O.current,"change:isInitialized",(()=>{D()}));const U=(e,t)=>{var n;null===(n=L.current)||void 0===n||n.drawCanvas(e,t)},G=A?(0,w.jsx)("div",{className:y.default.btnSend,children:(0,w.jsx)(m.Round,{large:!0,onClick:()=>{var e,t;null===(t=L.current)||void 0===t||t.saveCanvas(),null===(e=R.current)||void 0===e||e.crop().then((e=>{let{thumb:t,full:n}=e;I(t,n),H.cleanUp()}))},label:b.fbt._("Submit image",null,{hk:"2x0Z1K"}),children:(0,w.jsx)(i.CheckmarkLargeIcon,{})})},"btn-send"):null;let z;O.current.isInitialized&&(z=(0,w.jsx)(p.WrappedProfileCropTool,{editedMedia:H,stage:O.current.stage,cropOverlay:O.current.cropOverlay,mediaContainer:O.current.mediaContainer,drawCanvas:U,ref:R,cropShape:P||p.CropShapeType.CIRCLE}));const q=(0,w.jsx)(c.default,{className:y.default.mediaElement,editedMedia:H,mediaEditController:O.current,fitType:"cover",ref:L});let V;if(T){let e;switch(M){case k.NONE:e=null;break;case k.RETAKE:e=b.fbt._("Retake",null,{hk:"tGeQz"});break;case k.RESTART:default:e=b.fbt._("Upload",null,{hk:"3FMQvb"})}V=(0,w.jsxs)("button",{className:y.default.retake,onClick:T,children:[(0,w.jsx)("div",{className:y.default.retakeIcon,children:(0,w.jsx)(g.ReturnIcon,{})}),e]})}const W=r?(0,w.jsxs)("div",{className:y.default.attribution,children:[(0,w.jsx)(d.ExternalLink,{className:y.default.attributionLink,href:r,children:v.default.hostname(r)}),(0,w.jsxs)("span",{children:[b.fbt._("Image may be subject to copyright.",null,{hk:"XoHv1"}),(0,w.jsx)(d.ExternalLink,{href:(0,C.getTosUrl)(),children:b.fbt._("Terms of Service",null,{hk:"1Lpm6J"})})]})]}):null,Y=P===p.CropShapeType.RECT?(0,w.jsx)("div",{className:y.default.hintText,children:b.fbt._("Hint: Use 16:9 ratio images (eg. 1920 x 1020 or its multiples)",null,{hk:"Lt5na"})}):void 0,Z=(0,w.jsxs)("div",{className:y.default.footer,children:[(0,w.jsx)(x.default,{transitionName:"btn",children:G}),W,Y]}),K=null!==(n=e.imageSize)&&void 0!==n?n:{width:500,height:361};return(0,w.jsxs)(o.default,{ref:t,theme:"edit",children:[(0,w.jsx)(l.DrawerHeader,{title:u.default.t(133),type:"offset",onCancel:e.onCancel,focusBackOrCancel:!0,children:V}),(0,w.jsxs)(a.default,{overflow:"hidden",children:[(0,w.jsxs)("div",{className:y.default.mediaBody,children:[z,(0,w.jsx)("div",{className:y.default.containerBackground,children:(0,w.jsx)(x.default,{transitionName:"capture",children:(0,w.jsx)(h.default,{type:"cover",size:K,onObjectLoad:e=>{null!=e&&e instanceof HTMLElement&&(!B||B.width===e.clientWidth&&B.height===e.clientHeight||F({width:e.clientWidth,height:e.clientHeight}),A||N(!0))},children:q})})})]}),Z]})]},"attach-edit-modal")}));t.EditImageDrawer=T,T.displayName="EditImageDrawer"},573538:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(682492)),o=n(698210),a=r(n(79291));class l{constructor(e,t,n,r){this.updateEditData=e=>{this.saveEdits(),this.editData=(0,i.default)({},this.editData,e)},this.updateEditItems=(e,t)=>{this.saveEdits();const n=[];this.editData.items&&this.editData.items.forEach((e=>{e!==t&&n.push(e)})),n.push(e),this.editData.items=n},this.saveEdits=()=>{const e=new l(this.media,this.originalImage,this.editData,this.previous);this.previous=e},this.revertEdit=()=>{this.previous&&(this.editData=this.previous.editData,this.previous=this.previous.previous)},this.saveEditsFromCanvas=e=>{const t=e.toDataURL();this.editedImage||(this.editedImage=new Image),this.editedImage.src=t},this.exportEditedMedia=()=>{if(this.hasEdits()&&this.editedImage){const e=this.editedImage.src;return a.default.dataURLtoFile(e)}return this.media instanceof File?this.media:(0,o.createFile)([this.media],"",{type:this.media.type})},this.hasEdits=()=>!!this.previous&&this.editedImage,this.cleanUp=()=>{window.URL.revokeObjectURL(this.originalImage.src)},this.media=e,t?this.originalImage=t:(this.originalImage=new Image,this.originalImage.src=window.URL.createObjectURL(e)),this.previous=r,this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null},(0,i.default)(this.editData,n)}}t.default=l},319419:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(28238),o=r(n(821384)),a=r(n(404350)),l=n(113189),s=n(667294),d=r(n(156720)),u=r(n(969651)),c=r(n(558532)),f=n(785893);const h={position:"lhggkp7q",zIndex:"rys9xrs2",display:"qibyn6m3",width:"kr1k453a",height:"lds9pm4u"},p={zIndex:"b9fczbqn",width:"ln8gz9je",height:"ppled2lx"};function g(e,t){const{mediaEditController:n,editedMedia:r,mediaPickerStatsLogger:g,activeMediaId:m}=e,C=(0,s.useRef)(null),v=(0,s.useRef)(null),x=(0,s.useRef)(null),y=(0,s.useRef)(null),[b,j]=(0,s.useState)({height:1,width:1}),[E,_]=(0,s.useState)(null),S=((0,u.default)(),(e,t)=>{if(!C.current)return;const o=C.current;t&&g&&g.logChange(m||-1,t);const a=r.editData,s=(e=>{let t;return E?t=E:(t=new i.Easel.Stage(e),t.enableMouseOver()),n.stage=t,t})(o);e&&(o.width=a.width,o.height=a.height),s.removeAllChildren(),null!=a.baseItem&&s.addChild(a.baseItem),a.items&&s.addChild(...a.items);const d=r.originalImage.naturalWidth,u=r.originalImage.naturalHeight;s.regX=d/2,s.regY=u/2,s.rotation=a.rotation,(0,l.isNonZeroNumber)(a.width)&&(0,l.isNonZeroNumber)(a.height)&&(s.x=a.width/2+a.scale*a.offsetX,s.y=a.height/2+a.scale*a.offsetY),s.scaleX=a.scale,s.scaleY=a.scale,s.update(),j({width:o.width,height:o.height}),_(s)}),w=()=>{const e=r.editData;r.editedImage=null;const t=r.originalImage;if(e.width||e.height||(e.width=t.naturalWidth,e.height=t.naturalHeight),!e.baseItem){const n=new i.Easel.Bitmap(t);e.baseItem=n}S(!0)},k=()=>{S(!0);const e=C.current;e&&r.saveEditsFromCanvas(e)},T=e=>{e&&(e.children.forEach((e=>{e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.enableMouseOver(0),e.clear())};(0,s.useEffect)((()=>{(()=>{const e=r.originalImage;e.complete?w():e.onload=w})(),y.current=new i.Easel.Stage(x.current),y.current.autoClear=!1,y.current.enableMouseOver(),v.current&&(n.mediaContainer=v.current),n.cropOverlay=y.current}),[]),(0,c.default)((()=>{const e=r.originalImage;e.complete||(e.onload=void 0),k(),T(E),T(y.current)}));const M=(e,t)=>{j({width:e,height:t})};(0,s.useImperativeHandle)(t,(()=>({saveCanvas:k,drawCanvas:S,updateCanvasSize:M})));const I=(0,f.jsx)("canvas",{ref:x,className:(0,d.default)(h)});return(0,f.jsx)("div",{className:e.className,ref:v,children:(0,f.jsxs)(o.default,{type:e.fitType||"scaleDown",size:b,children:[I,(0,f.jsx)(a.default,{ref:C,className:(0,d.default)(p)})]})})}var m=(0,s.forwardRef)(g);t.default=m},368762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(481173);class i extends r.BaseModel{constructor(){super(...arguments),this.stage=(0,r.prop)(),this.cropOverlay=(0,r.prop)(),this.mediaContainer=(0,r.prop)(),this.isInitialized=(0,r.derived)((function(){return!!this.stage&&!!this.cropOverlay&&!!this.mediaContainer}),["stage","cropOverlay","mediaContainer"])}clearStage(e){e&&(e.children.forEach((e=>{e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.clear())}}var o=(0,r.defineModel)(i);t.default=o},915272:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROF_PIC_THUMB_SIDE=t.PROF_PIC_MIN_SIDE=t.PROF_PIC_MAX_SIDE=void 0;t.PROF_PIC_MIN_SIDE=192;t.PROF_PIC_MAX_SIDE=640;t.PROF_PIC_THUMB_SIDE=96},785093:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedProfileCropTool=t.CropShapeType=void 0;var i=r(n(348926)),o=n(28238),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(428363)),l=n(81644),s=n(379863),d=n(424305),u=n(915272),c=r(n(625903)),f=r(n(556869)),h=n(548360),p=n(667294),g=r(n(156720)),m=n(808446),C=n(785893);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const x={position:"lhggkp7q",end:"fz4q5utg",zIndex:"qjp6ryme",width:"a2hqsskl",lineHeight:"fyxtz58m",backgroundColor:"ihvf49ua",borderTopStartRadius:"f4zm7zaq",borderTopEndRadius:"aurtnaek",borderBottomEndRadius:"nsd82api",borderBottomStartRadius:"mhohgsbe",boxShadow:"d1gmyy70"},y={color:"cs9t9or5",cursor:"ajgl1lbb"},b=1.1,j=9/16,E=2.5625,_=n(76672).Mirrored(["CIRCLE","RECT","SQUIRCLE"]);function S(e,t){const{editedMedia:n,cropOverlay:r,drawCanvas:v}=e,S=(0,p.useRef)(0),w=(e,t)=>{const r=n.editData,i=S.current*E,o=(e-r.width/2)*r.scale,a=(e+r.width/2)*r.scale,l=(t+r.height/2)*r.scale,s=(t-r.height/2)*r.scale,d=i/2,u=i/2*j;return{overlapLeft:Math.min(0,-d-o)/r.scale,overlapRight:Math.min(0,a-d)/r.scale,overlapTop:Math.min(0,-u-s)/r.scale,overlapBottom:Math.min(0,l-u)/r.scale,x:o<-d&&a>d,y:s<-u&&l>u}},k=(t,r)=>{const i=n.editData,o=i.offsetX+t/i.scale,a=i.offsetY+r/i.scale,l=e.cropShape===_.RECT?w(o,a):((e,t)=>{const r=n.editData,i=S.current,o=(e-r.width/2)*r.scale,a=(e+r.width/2)*r.scale,l=(t+r.height/2)*r.scale;return{x:o<-i&&a>i,y:(t-r.height/2)*r.scale<-i&&l>i}})(o,a);l.x&&(i.offsetX=o),l.y&&(i.offsetY=a),v()},T=(e,t)=>{const n=e.stageX-t.x,r=e.stageY-t.y;k(n,r),t.x=e.stageX,t.y=e.stageY},M=t=>e.cropShape===_.RECT?(e=>{const t=S.current,r=n.editData,i=Math.max(e,t*E/r.width),o=Math.max(e,i);r.scale=o;const a=w(r.offsetX,r.offsetY);return{scale:r.scale,offsetX:r.offsetX+a.overlapLeft-a.overlapRight,offsetY:r.offsetY+a.overlapTop-a.overlapBottom}})(t):(e=>{const t=S.current,r=n.editData,i=Math.max(2*t/r.width,2*t/r.height),o=Math.max(e,i);if(r.width*e<t||r.height*e<t)return!1;const a=-t/o+r.width/2,l=t/o-r.width/2,s=-t/o+r.height/2,d=t/o-r.height/2;return{scale:o,offsetX:Math.min(Math.max(r.offsetX,l),a),offsetY:Math.min(Math.max(r.offsetY,d),s)}})(t),I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const t=n.editData,r=0!==e?e:b,i=M(t.scale*r);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,v())},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const t=n.editData,r=0!==e?e:b,i=M(t.scale/r);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,v())};(0,m.useListener)(r.canvas,"mousewheel",(e=>{e.deltaY>0?I(1.02):P(1.02)})),(0,p.useEffect)((()=>{n.saveEdits();const t=n.editData,i=r.canvas;let a;a=t.baseItem?t.baseItem.getBounds():{width:0,height:0},i.style.display="block",i.width=a.width,i.height=a.height;const l=new o.Easel.Shape;l.graphics.beginFill("rgba(0, 0, 0, 0.1)"),l.graphics.drawRect(0,0,a.width,a.height),l.regX=a.width/2,l.regY=a.height/2,l.x=a.width/2,l.y=a.height/2,l.on("mousedown",(e=>{const t={x:e.stageX,y:e.stageY},n=l.on("pressmove",T,null,!1,t);l.on("pressup",(()=>{l.off("pressmove",n)}),null,!0)})),l.cursor="move";const s=i.getContext("2d"),d=i.width,u=i.height,c=d/u>500/361?u/361:d/500;S.current=Math.min(361,500)/2*.9*c;const f=S.current;let h;if(s.fillStyle="rgba(0, 0, 0, 0.5)",s.fillRect(0,0,d,u),s.globalCompositeOperation="destination-out",s.beginPath(),e.cropShape===_.CIRCLE)s.arc(d/2,u/2,f,0,2*Math.PI,!0);else if(e.cropShape===_.RECT){const e=f*E,t=f*E*j;s.fillRect(d/2-e/2,u/2-t/2,e,t)}else if(e.cropShape===_.SQUIRCLE){h=new Path2D("M90 0C0 0 0 0 0 90s0 90 90 90 90 0 90-90 0-90-90-90Z"),s.translate(d/2-f,u/2-f);const e=2*c*.9;s.scale(e,e)}s.fillStyle="#ffffff",h?s.fill(h):s.fill(),r.addChild(l),r.update()}),[]);const D=function(){var e=(0,i.default)((function*(){var e;const t=n.editData,r=null===(e=n.editedImage)||void 0===e?void 0:e.src,i=S.current;if(!r)throw(0,f.default)("empty image");const o=2*i;let l=o;o>u.PROF_PIC_MAX_SIDE?l=u.PROF_PIC_MAX_SIDE:o<u.PROF_PIC_MIN_SIDE&&(l=u.PROF_PIC_MIN_SIDE);const s=i*E,d=i*E*j,c=yield a.crop(r,t.width/2-s/2,t.height/2-d/2,s,d,l,l*j,a.DATA_URL|a.CANVAS),h=c.images.dataUrl;return{thumb:c.images.dataUrl,full:h}}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,i.default)((function*(){var e;const t=n.editData,r=null===(e=n.editedImage)||void 0===e?void 0:e.src,i=S.current;if(!r)throw(0,f.default)("empty image");const o=2*i;let l=o;o>u.PROF_PIC_MAX_SIDE?l=u.PROF_PIC_MAX_SIDE:o<u.PROF_PIC_MIN_SIDE&&(l=u.PROF_PIC_MIN_SIDE);const s=yield a.crop(r,(t.width-o)/2,(t.height-o)/2,o,o,l,l,a.DATA_URL|a.CANVAS),d=yield a.crop(s.images.canvas,0,0,u.PROF_PIC_THUMB_SIDE,u.PROF_PIC_THUMB_SIDE),c=s.images.dataUrl;return{thumb:d.images.dataUrl,full:c}}));return function(){return e.apply(this,arguments)}}(),R=()=>e.cropShape===_.RECT?D():L();(0,p.useImperativeHandle)(t,(()=>({crop:R})));const O=(0,p.useRef)(null);return(0,C.jsxs)("div",{className:(0,g.default)(x),children:[(0,C.jsx)(l.HotKeys,{handlers:{pageup:()=>I(),pagedown:()=>P(),down:()=>k(0,-10),up:()=>k(0,10),left:()=>k(10,0),right:()=>k(-10,0)},onFocus:e=>{if(!O.current)return;e?e.target:document.activeElement;O.current},ref:O,"aria-label":h.fbt._("Photo editor canvas widget: arrow keys move crop window, Page Up and Page Down enlarge or shrink the crop area",null,{hk:"1iV0bf"}),tabIndex:0}),(0,C.jsx)(c.default,{className:(0,g.default)(y),onClick:()=>I(),"aria-label":h.fbt._("Zoom in or shrink area of photo to be cropped",null,{hk:"20MetM"}),testid:"crop-tool-zoom-in",children:(0,C.jsx)(d.PlusIcon,{})}),(0,C.jsx)(c.default,{className:(0,g.default)(y),onClick:()=>P(),"aria-label":h.fbt._("Zoom out or enlarge area of photo to be cropped",null,{hk:"445oiP"}),testid:"crop-tool-zoom-out",children:(0,C.jsx)(s.MinusIcon,{})})]})}t.CropShapeType=_;const w=(0,p.forwardRef)(S);t.WrappedProfileCropTool=w,w.displayName="WrappedProfileCropTool"},404350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(667294),i=n(785893);function o(e,t){return(0,i.jsx)("canvas",{className:e.className,ref:t})}function a(e,t){return e.className===t.className}var l=(0,r.memo)((0,r.forwardRef)(o),a);t.default=l},231422:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onOk:t}=e,n=d.fbt._("Media and captions are now forwarded together. You can always remove the caption before you forward.",null,{hk:"2bum1H"});return(0,u.jsx)(i.ConfirmPopup,{okText:d.fbt._("Ok",null,{hk:"2Uluny"}),onOK:()=>{t()},type:a.ModalTheme.ForwardMediaWithCaption,children:(0,u.jsx)(o.FlexRow,{align:"center",justify:"center",children:(0,u.jsx)(l.TextParagraph,{xstyle:[c.featureDescriptionParagraph,s.uiMargin.top16,s.uiMargin.bottom32],children:n})})})};var i=n(103440),o=n(690495),a=n(118612),l=n(180519),s=n(676345),d=n(548360),u=(r(n(156720)),n(785893));const c={featureDescriptionParagraph:{textAlign:"qfejxiq4"}}},574755:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayCaptionText:n,onRemoveCaptionSelect:r,onAppendMessage:P}=e;const L=(0,I.jsx)(i.default,{msg:t.unsafe()},"msg-symbol"),[R,O]=(()=>{let e=null,n=null;switch(t.type){case x.MSG_TYPE.IMAGE:e=k.fbt._("Photo",null,{hk:"4hsSZC"});break;case x.MSG_TYPE.VIDEO:t.isGif?e=k.fbt._("GIF",null,{hk:"3fkAwN"}):(e=k.fbt._("Video",null,{hk:"2SSSa2"}),n=a.Clock.durationStr(Number(t.duration))+" ")}return[n,(0,I.jsxs)("span",{className:(0,M.default)(D.mediaTypeText),children:[" ",e," "]})]})(),A=(0,f.default)(t.unsafe(),{stripFormatting:!1}),N=c.QuotedMention({mentions:t.mentionMap(),groupMentions:t.groupMentionMap()}),B=(0,I.jsxs)(d.FlexColumn,{className:(0,M.default)([D.quotedCaption,j.uiPadding.all8]),align:"start",justify:"center",children:[(0,I.jsxs)(u.default,{children:[L,R,O]}),(0,I.jsx)(u.default,{xstyle:[j.uiMargin.vert5,D.captionTextContainer],children:(0,I.jsx)(s.EmojiText,{xstyle:D.captionTextSpacing,className:(0,M.default)(D.captionText),direction:(0,p.getDir)(t),text:A,formatters:N,ellipsify:!0,testid:"forwarded-caption"},"status")})]}),F=k.fbt._("Remove caption",null,{hk:"3DLllP"}),H=n?(0,I.jsxs)(u.default,{grow:1,xstyle:[D.container,D.captionPreviewContainer,!n&&D.captionPreviewContainerAnimate],children:[(0,I.jsx)("span",{className:(0,M.default)(D.colorBar)}),B,(0,I.jsx)(E.default,{xstyle:[D.xButton,D.xDimensions],onClick:e=>{e.stopPropagation(),e.preventDefault(),r()},title:F,"aria-label":F,testid:"remove-caption",children:(0,I.jsx)(w.XIcon,{xstyle:D.xDimensions,iconXstyle:D.xIconColor,height:20,width:20})})]}):null,[U,G]=(0,T.useState)(),z=null==U?void 0:U.editor,q=z&&(0,I.jsx)("div",{className:(0,M.default)(D.inputSuggestionsContainer),children:(0,I.jsx)(l.EmojiSuggestions,{kind:b.SuggestionsPanelKind.ComposeBox,editor:z})}),V=k.fbt._("Add a message...",null,{hk:"3x2OzE"}),W=(0,h.isAppendMessageWhenForwardingMediaWithCaptionEnabled)()&&!n?(0,I.jsx)(o.Clickable,{onClick:()=>{null==U||U.focus()},children:(0,I.jsx)(u.default,{grow:1,xstyle:[D.container,D.composerContainer,D.composerContainerAnimate],children:(0,I.jsx)("div",{className:(0,M.default)(j.uiPadding.all12,D.composerWrapper),children:(0,I.jsx)(y.RichTextInput,{ref:G,xstyle:[D.composerInput],textXstyle:D.composerFont,multiline:!0,textFormatEnabled:!0,readOnly:!1,placeholder:V,title:V,maxVisibleLines:3,onChange:e=>{P(e.text)},testid:"append-message-compose-box"})})})}):null,Y=t.type===x.MSG_TYPE.IMAGE?g.ImgPlaceholderIcon:_.VideoPlaceholderIcon,Z=(0,I.jsx)("div",{className:(0,M.default)(D.placeholderContainer),children:(0,I.jsx)(Y,{iconXstyle:D.placeholderIcon})},"default"),K=t.type===x.MSG_TYPE.IMAGE?(0,I.jsx)(v.default,{mediaData:t.mediaData,placeholderRenderer:()=>Z,downloadMedia:()=>t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:S.WEBC_RMR_REASON_CODE.OTHER,isUserInitiated:!1}),renderProgressively:!1,children:e=>(0,I.jsx)("div",{className:(0,M.default)([D.thumbContainer,D.thumb,j.uiMargin.end8]),style:{backgroundImage:`url(${e})`}})}):(0,I.jsx)(C.default,{msg:t,thumbnailPlaceholder:Z,childClassName:(0,M.default)(D.thumbContainer,D.thumb,j.uiMargin.end8)});let X=null;(0,h.isAppendMessageWhenForwardingMediaWithCaptionEnabled)()||n||(X=m.default.isRTL()?D.mediaThumbContainerAnimateRTL:D.mediaThumbContainerAnimate);const Q=(0,I.jsx)(u.default,{grow:0,xstyle:[D.mediaThumbContainer,X],children:K});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(d.FlexRow,{children:q}),(0,I.jsx)("div",{className:(0,M.default)([D.wrapper,j.uiPadding.all8]),children:(0,I.jsxs)(d.FlexRow,{xstyle:D.textContainer,align:"center",justify:"start",children:[Q,H,W]})})]})};var i=r(n(859297)),o=n(950987),a=n(63014),l=n(934740),s=n(305521),d=n(690495),u=r(n(469733)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(675886)),f=r(n(353033)),h=n(402066),p=n(163755),g=n(116429),m=r(n(932325)),C=r(n(641206)),v=r(n(674465)),x=n(373070),y=n(150610),b=n(204875),j=n(676345),E=r(n(625903)),_=n(220162),S=n(130756),w=n(341386),k=n(548360),T=n(667294),M=r(n(156720)),I=n(785893);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}const D={wrapper:{position:"g0rxnol2",height:"e0pgnxzj",width:"nwg1e4mw",backgroundColor:"ik2lb43m"},textContainer:{position:"g0rxnol2",height:"ppled2lx",width:"ln8gz9je"},container:{position:"g0rxnol2",height:"ppled2lx",width:"e3boqewh",backgroundColor:"pu5bh2m8"},captionPreviewContainer:{display:"p357zi0d",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9"},composerContainer:{cursor:"n3nyt3io",opacity:"axi1ht8l",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},composerWrapper:{display:"p357zi0d"},composerInput:{height:"jzj7o2ns",alignItems:"gndfcl4n"},composerFont:{fontSize:"qaj2wqh6"},inputSuggestionsContainer:{position:"g0rxnol2",width:"ln8gz9je"},mediaThumbContainer:{minWidth:"k09609ll",height:"ppled2lx"},placeholderContainer:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},placeholderIcon:{width:"ln8gz9je",height:"ppled2lx"},thumbContainer:{width:"o0hk2os7",height:"r83416qn",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",borderTop:"ggsn7slg",borderEnd:"bwdjnla8",borderBottom:"cxbokjas",borderStart:"o9wp17a0"},thumb:{overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundRepeat:"sxl192xd",backgroundPosition:"t3g6t33p",backgroundSize:"qnwaluaf"},colorBar:{flexShrink:"oq44ahr5",width:"bbp2hc0k",backgroundColor:"tbdapmoc"},quotedCaption:{flexGrow:"ggj6brxn",width:"ln8gz9je",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"f8jlpxt4",fontWeight:"m1e7cby3",position:"g0rxnol2",color:"q70jrbp7"},xButton:{position:"g0rxnol2",top:"r8dd7jr1",end:"j2mzdvlq"},xDimensions:{height:"jdwybkuq",width:"m0s4cjtr"},xIconColor:{color:"nz9pocw8"},captionTextContainer:{width:"ln8gz9je"},captionText:{lineHeight:"a4ywakfo",display:"c32ccnay",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae","-webkit-line-clamp":"suguakab","-webkit-box-orient":"aoi073rw"},captionTextSpacing:{whiteSpace:"c2jc77nu"},mediaTypeText:{fontWeight:"hnx8ox4h"},captionPreviewContainerAnimate:{animationName:"g7kbfqzr",animationDuration:"j16a598t",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0"},mediaThumbContainerAnimate:{animationName:"a3i62pwv",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0",willChange:"ttixo1rk"},composerContainerAnimate:{animationName:"osz0hll6",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0"},mediaThumbContainerAnimateRTL:{animationName:"g39owkbt",animationDuration:"nq7eualt",animationDelay:"q5zg7svt",animationTimingFunction:"efgp0a3n",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0",willChange:"ttixo1rk"}}},506211:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(74168),o=r(n(908081)),a=r(n(324093)),l=n(626194),s=r(n(969358)),d=n(753233),u=n(690495),c=r(n(469733)),f=n(970381),h=n(111367),p=n(956113),g=n(180519),m=n(548360),C=n(667294),v=(r(n(156720)),n(785893));const x={drawerSection:{paddingTop:"msavwer2",paddingBottom:"slgfab0f"},description:{paddingTop:"msavwer2",paddingEnd:"bcymb0na",paddingBottom:"slgfab0f",paddingStart:"e8k79tju",lineHeight:"a4ywakfo"}};function y(e,t){let{settings:n,onClose:r}=e;return(0,v.jsxs)(o.default,{ref:t,children:[(0,v.jsx)(l.DrawerHeader,{title:m.fbt._("Request account info",null,{hk:"1ApVXH"}),onBack:r,type:l.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,v.jsx)(a.default,{children:(0,v.jsxs)(s.default,{animation:!1,xstyle:x.drawerSection,children:[(0,v.jsx)(u.FlexRow,{align:"center",justify:"center",children:(0,v.jsx)(u.FlexRow,{align:"center",justify:"center",children:(0,v.jsx)(c.default,{children:(0,v.jsx)(i.DocumentIcon,{})})})}),(0,v.jsxs)(g.TextDiv,{color:"secondary",size:"14",xstyle:x.description,children:[m.fbt._("Create a report of your WhatsApp account information and settings, which you can access or port to another app. This report does not include your messages.",null,{hk:"13xpse"})," ",(0,v.jsx)(d.ExternalLink,{href:(0,h.requestAccountInfoUrl)(),children:m.fbt._("Learn More",null,{hk:"bPizH"})})]}),(0,v.jsx)(C.Suspense,{fallback:(0,v.jsx)(u.FlexRow,{align:"center",justify:"center",children:(0,v.jsx)(u.FlexRow,{align:"center",justify:"center",children:(0,v.jsx)(c.default,{children:(0,v.jsx)(p.Spinner,{size:50,stroke:4})})})}),children:(0,v.jsx)(f.RequestAccountInfoSettingsDrawerBodyContent,{})})]})})]})}var b=(0,C.forwardRef)(y);t.default=b},870213:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RequestAccountInfoSettingsDrawerAvailable=function(e){let{gdprStatus:{creation:t,documentMessage:n,expiration:r},onDeleteSuccess:x}=e;const y=(0,i.maybeNumberOrThrowIfTooLarge)(n.fileLength),[b,j]=(0,h.useGdprDownload)(),[E,_]=(0,f.useGdprDelete)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:(0,m.default)(v.settingsShare),children:(0,C.jsxs)(l.DrawerButton,{color:"dark",disabled:b,icon:(0,C.jsx)(a.DownloadIcon,{}),onClick:()=>j(n),children:[(0,C.jsx)(c.TextDiv,{children:p.fbt._("Download report",null,{hk:"24wJjF"})}),(0,C.jsx)(c.TextDiv,{theme:"muted",children:null!=y?p.fbt._("{availability_date} Â· {file_size}",[p.fbt._param("availability_date",g.default.unix(t).format("MMMM D, YYYY")),p.fbt._param("file_size",d.default.filesize(y))],{hk:"24AFfI"}):p.fbt._("{availability_date}",[p.fbt._param("availability_date",g.default.unix(t).format("MMMM D, YYYY"))],{hk:"1flGQw"})})]})}),(0,C.jsx)("div",{className:(0,m.default)(v.delete),children:(0,C.jsx)(l.DrawerButton,{color:"dark",disabled:E,icon:(0,C.jsx)(o.DeleteIcon,{}),onClick:()=>{u.ModalManager.open((0,C.jsx)(s.RequestAccountInfoSettingsDrawerDeleteConfirmPopup,{okDisabled:E,okSpinner:E,onCancel:()=>u.ModalManager.close(),onOK:()=>_().then((e=>{e.success&&(u.ModalManager.close(),x())}))}))},children:(0,C.jsx)(c.TextDiv,{children:p.fbt._("Delete and request new report",null,{hk:"4g8Hdm"})})})}),(0,C.jsx)(c.TextDiv,{theme:"muted",xstyle:v.availability,children:p.fbt._("Your report is available to download until {availability_date}",[p.fbt._param("availability_date",g.default.unix(r).format("MMMM D, YYYY"))],{hk:"4prRdU"})})]})};var i=n(478337),o=n(419e3),a=n(126333),l=n(36045),s=n(452409),d=r(n(932325)),u=n(114850),c=n(180519),f=n(488106),h=n(545268),p=n(548360),g=r(n(730381)),m=r(n(156720)),C=n(785893);const v={availability:{marginTop:"nylzjxre",marginStart:"r6x3u63k",marginEnd:"lfum0007"},delete:{borderBottom:"n8n2xqzm"},settingsShare:{borderTop:"dl47i6rc",borderBottom:"n8n2xqzm"}}},970381:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestAccountInfoSettingsDrawerBodyContent=function(){const[e,t]=(0,a.useGdprStatus)();switch(null==e?void 0:e.type){case"GdprAvailableStatusResponse":return(0,l.jsx)(r.RequestAccountInfoSettingsDrawerAvailable,{gdprStatus:e,onDeleteSuccess:t});case"GdprPendingStatusResponse":return(0,l.jsx)(o.RequestAccountInfoSettingsDrawerPending,{gdprStatus:e});default:return(0,l.jsx)(i.RequestAccountInfoSettingsDrawerInitial,{onRequestSuccess:t})}};var r=n(870213),i=n(807303),o=n(293469),a=n(5900),l=n(785893)},452409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestAccountInfoSettingsDrawerDeleteConfirmPopup=function(e){let{okDisabled:t,okSpinner:n,onCancel:a,onOK:l}=e;return(0,o.jsx)(r.ConfirmPopup,{okDisabled:t,okSpinner:n,okText:i.fbt._("Delete",null,{hk:"S1p2c"}),onCancel:a,onOK:l,children:i.fbt._("Delete report? Deleting the report will not delete any data from your account.",null,{hk:"1w4a4h"})})};var r=n(103440),i=n(548360),o=n(785893)},807303:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RequestAccountInfoSettingsDrawerInitial=function(e){let{onRequestSuccess:t}=e;const[n,r]=(0,l.useGdprRequest)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.DrawerButton,{className:(0,d.default)(c),color:"dark",disabled:n,icon:(0,u.jsx)(a.SettingsDocumentIcon,{}),onClick:()=>{r().then((e=>{e.success&&t()}))},children:s.fbt._("Request Report",null,{hk:"2HyjPn"})}),(0,u.jsx)(o.RequestAccountInfoSettingsFooterNotice,{})]})};var i=n(36045),o=n(785395),a=n(454567),l=n(372729),s=n(548360),d=r(n(156720)),u=n(785893);const c={borderTop:"dl47i6rc",borderBottom:"n8n2xqzm"}},293469:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RequestAccountInfoSettingsDrawerPending=function(e){let{gdprStatus:{timestamp:t}}=e;const n=a.Clock.daysDelta((0,i.unixTime)(),t);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(l.DrawerButton,{color:"dark",className:(0,f.default)(p),icon:(0,h.jsx)(o.BusinessHoursIcon,{}),onClick:()=>{},children:[(0,h.jsx)(d.TextDiv,{children:u.fbt._("Request sent",null,{hk:"3HaEMW"})}),(0,h.jsx)(d.TextDiv,{theme:"muted",children:u.fbt._("Ready by {availability_date}",[u.fbt._param("availability_date",c.default.unix(t).format("MMMM D, YYYY"))],{hk:"3zr2Aw"})})]}),(0,h.jsx)(s.RequestAccountInfoSettingsFooterNotice,{daysDelta:n})]})};var i=n(632157),o=n(675305),a=n(63014),l=n(36045),s=n(785395),d=n(180519),u=n(548360),c=r(n(730381)),f=r(n(156720)),h=n(785893);const p={cursor:"bx7g2weo",borderTop:"dl47i6rc",borderBottom:"n8n2xqzm"}},785395:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.RequestAccountInfoSettingsFooterNotice=function(e){let{daysDelta:t=3}=e;const n=t<1?1:t;return(0,l.jsxs)("div",{className:(0,a.default)(s.footer),children:[(0,l.jsx)(i.TextDiv,{theme:"muted",xstyle:s.availability,children:o.fbt._({"*":"Your report will be ready in about {number} days. You'll have a few weeks to download your report after it's available.",_1:"Your report will be ready in about 1 day. You'll have a few weeks to download your report after it's available."},[o.fbt._plural(n,"number",n)],{hk:"124kzp"})}),(0,l.jsx)(i.TextDiv,{theme:"muted",children:o.fbt._("Your request will be canceled if you make changes to your account such as changing your number or deleting your account.",null,{hk:"2OLjoV"})})]})};var i=n(180519),o=n(548360),a=r(n(156720)),l=n(785893);const s={availability:{marginBottom:"or9x5nie"},footer:{paddingTop:"msavwer2",paddingStart:"e8k79tju",paddingEnd:"bcymb0na"}}},58465:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(670983)),o=n(919833),a=n(366202),l=n(72696),s=r(n(430772)),d=r(n(682735)),u=r(n(937945)),c=r(n(659177)),f=n(177938),h=n(356097),p=r(n(908081)),g=r(n(324093)),m=n(626194),C=r(n(969358)),v=n(235630),x=n(56884),y=n(512938),b=r(n(570834)),j=n(163755),E=r(n(667845)),_=r(n(17633)),S=n(522849),w=n(95576),k=r(n(932325)),T=r(n(344460)),M=n(48794),I=n(61113),P=n(787742),D=n(241164),L=r(n(273873)),R=n(373070),O=n(534526),A=r(n(258054)),N=n(956113),B=n(692057),F=n(907052),H=n(659505),U=n(180519),G=n(625786),z=n(390737),q=n(382117),V=r(n(806077)),W=n(113852),Y=n(130756),Z=n(531737),K=n(818674),X=n(512873),Q=n(548360),J=n(667294),$=r(n(156720)),ee=r(n(969651)),te=r(n(637660)),ne=n(808446),re=n(871210),ie=r(n(321201)),oe=r(n(895851)),ae=n(785893);const le={svg:{width:"dh5rsm73",height:"hpdpob1j"},statusBlue:{color:"sunvlxxz"},ack:{color:"ajgik1ph"},titleIcon:{display:"l7jjieqr",width:"dh5rsm73",height:"jdwybkuq",color:"s4k44ver",textAlign:"qfejxiq4",verticalAlign:"fewfhwl7"},title:{paddingTop:"gaujl5hk",paddingEnd:"bcymb0na",paddingBottom:"jd93c9cp",paddingStart:"e8k79tju",backgroundColor:"ihvf49ua"},spinner:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",minHeight:"h2zl7k75"},list:{paddingTop:"emrlamx0",paddingBottom:"gjfcmax9"}},se=y.DEFAULT_ITEM_HEIGHT+10;function de(e){let{participant:t,elevatedPushNamesEnabled:n}=e;return(0,ae.jsx)(d.default,{msgInfoParticipant:t,contact:t.contact,elevatedPushNamesEnabled:n,theme:"drawer-list"})}function ue(e){let{msg:t,agentName:n}=e;return(0,ae.jsx)(s.default,{msg:t,agentName:n,theme:"drawer-list"})}function ce(e){let{msg:t}=e;const n=(0,P.getKicSender)(t);if(null!=n){const e=(r=n,f.ContactCollection.assertGet(r));return(0,ae.jsx)(u.default,{kicTimestampMs:t.kicTimestampMs,contact:e,theme:"drawer-list"})}var r}function fe(e){let t,n,{section:r,msg:i}=e;switch(r){case S.SECTIONS.PLAYED_HEADER:n=i.type===R.MSG_TYPE.PTV?(0,ae.jsx)(H.StatusVideoIcon,{xstyle:le.statusBlue,iconXstyle:le.svg}):(0,ae.jsx)(F.StatusPttIcon,{xstyle:le.statusBlue,iconXstyle:le.svg}),t=k.default.t(439);break;case S.SECTIONS.READ_HEADER:n=(0,ae.jsx)(B.StatusDblcheckIcon,{xstyle:le.ack,iconXstyle:le.svg}),t=k.default.t(441);break;case S.SECTIONS.SEEN_HEADER:n=(0,ae.jsx)(B.StatusDblcheckIcon,{xstyle:le.ack,iconXstyle:le.svg}),t=i.isViewOnce?Q.fbt._("Seen by",null,{hk:"3MxARC"}):Q.fbt._("Seen by",null,{hk:"3vzp0U"});break;case S.SECTIONS.DELIVERED_HEADER:n=(0,ae.jsx)(B.StatusDblcheckIcon,{iconXstyle:le.svg}),t=k.default.t(437);break;case S.SECTIONS.VIEWED_HEADER:n=(0,ae.jsx)(W.ViewOnceViewedIcon,{xstyle:le.statusBlue,iconXstyle:le.svg}),t=Q.fbt._("Opened by",null,{hk:"1BkoM7"});break;case S.SECTIONS.AGENT_HEADER:n=(0,ae.jsx)(O.MultiDeviceIcon,{iconXstyle:le.svg}),t=Q.fbt._("Sent from",null,{hk:"2AvZI7"});break;case S.SECTIONS.KEEP_IN_CHAT_HEADER:n=(0,ae.jsx)(w.KeepInChatIcon,{iconXstyle:le.svg}),t=Q.fbt._("Kept by",null,{hk:"3vUw1c"});break;default:return __LOG__(4,void 0,new Error)`Invalid SECTION for group message info section header`,null}return n=(0,ae.jsx)("div",{className:(0,$.default)(le.titleIcon),children:n}),(0,ae.jsx)("div",{"data-testid":"msg-info-title",className:(0,$.default)(le.title),children:(0,ae.jsx)(A.default,{side:n,ellipsify:!0,children:(0,ae.jsx)(U.TextSpan,{theme:"sectionTitle",children:t})})})}function he(e){let{data:t,msg:n,msgInfo:r}=e;if("contact-row"===t.kind)return(0,ae.jsx)(de,{participant:t.participant,elevatedPushNamesEnabled:(0,v.elevatedPushNamesM2Enabled)((0,j.getChat)(n))});if("agent-row"===t.kind)return(0,ae.jsx)(ue,{msg:n,agentName:t.agentName});if("kept-by-row"===t.kind)return(0,ae.jsx)(ce,{msg:n});switch(t.type){case S.SECTIONS.PLAYED_HEADER:case S.SECTIONS.READ_HEADER:case S.SECTIONS.SEEN_HEADER:case S.SECTIONS.DELIVERED_HEADER:case S.SECTIONS.VIEWED_HEADER:case S.SECTIONS.AGENT_HEADER:case S.SECTIONS.KEEP_IN_CHAT_HEADER:return(0,ae.jsx)(fe,{msg:n,section:t.type});default:return(0,ae.jsx)(_.default,{section:t.type,msgInfo:(0,i.default)(r,"msgInfo")})}}function pe(e,t){const{msg:n}=e,[r,i,s,d,u,f,v,_,w,O,A,B,F,H]=(0,re.useMsgValues)(e.msg.id,[P.getId,P.getStar,P.getType,P.getIsGif,P.getIsViewOnce,P.getLabels,P.getNumTimesForwarded,P.getIsFrequentlyForwarded,P.getAgendId,P.getKicSender,P.getKicTimestampMs,P.getIsKept,j.getAsRevoked,P.getLatestEditMsgKey]),U=(0,j.getChat)(n),W=(0,oe.default)(),de=(0,ie.default)(),ue=(0,te.default)((()=>new q.UiActionWamEvent({uiActionType:Y.UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0}))),ce=(0,te.default)((()=>new b.default)),fe=(0,J.useRef)(null),pe=(0,J.useRef)(null),[ge,me]=(0,J.useState)(void 0),[Ce,ve]=(0,J.useState)(!1);(0,J.useEffect)((()=>{var e;D.MsgInfoCollection.find(r).then((e=>{W.aborted||me(e)})).catch((()=>{ve(!0),z.ToastManager.open((0,ae.jsx)(G.Toast,{msg:Q.fbt._("Couldn't display message info. Try again later.",null,{hk:"mRFf6"}),id:(0,G.genId)("msg_info_failed")}))}));const t=null===(e=fe.current)||void 0===e?void 0:e.getContainer();s===R.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight)}),[]),(0,J.useEffect)((()=>{const e=ue.current;if(e){const t=E.default.get(U.id),n=null==t?void 0:t.cachedDeviceSizeBucket;null!=n&&(e.sizeBucket=n),Object.assign(e,(0,Z.getGroupCountMetricsFromChatWid)(U.id)),e.markUiActionT(),e.commit(),ue.current=void 0}(0,K.logUiActionShadowPrivateStatsTestEvents)(),(0,a.logMessageInfo)(w)}),[]);const xe=(0,V.default)("MD_EXTENSION"),ye=(0,ee.default)();let be;(0,ne.useListener)(null==ge?void 0:ge.played,["add","remove"],ye),(0,ne.useListener)(null==ge?void 0:ge.read,["add","remove"],ye),(0,ne.useListener)(null==ge?void 0:ge.delivery,["add","remove"],ye),F&&(null==de||de.requestDismiss()),(0,ne.useListener)(I.MsgCollection,"remove",(e=>{e.id.equals(r)&&(null==de||de.requestDismiss())})),(0,ne.useListener)(n,"change:latestEditMsgKey",(()=>null==de?void 0:de.requestDismiss())),ge||Ce||(be=(0,ae.jsx)("div",{className:(0,$.default)(le.spinner),children:(0,ae.jsx)(N.Spinner,{size:50,stroke:4})}));const je=(()=>{const e=[];if(ge&&(0,x.isKeepInChatReadEnabled)()&&B&&null!=O&&(e.push({kind:"section",type:S.SECTIONS.KEEP_IN_CHAT_HEADER,itemKey:S.SECTIONS.KEEP_IN_CHAT_HEADER,height:50}),e.push({kind:"kept-by-row",itemKey:"kept-by-"+O.user,height:se})),xe&&(0,l.isMultiDeviceMessageAttributionEnabled)()&&null!=w){var t,r;const n=null!==(t=null===(r=o.AgentCollection.get(w))||void 0===r?void 0:r.name)&&void 0!==t?t:"";e.push({kind:"section",type:S.SECTIONS.AGENT_HEADER,itemKey:S.SECTIONS.AGENT_HEADER,height:50}),e.push({kind:"agent-row",agentName:n,itemKey:"agent-"+n.toString(),height:se})}const i=(0,P.getIsAckPlayable)(n),a=i||u;if(ge&&a){let t=i?S.SECTIONS.PLAYED_HEADER:S.SECTIONS.VIEWED_HEADER;e.push({kind:"section",type:t,itemKey:t,height:50}),e.push(...ge.played.map((e=>({participant:e,kind:"contact-row",itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT})))),ge.playedRemaining>0&&(t=i?S.SECTIONS.PLAYED_FOOTER:S.SECTIONS.VIEWED_FOOTER,e.push({kind:"section",type:t,itemKey:t,height:50}))}return ge&&(ge.read.length>0||ge.playedRemaining>0)&&(e.push({kind:"section",type:a?S.SECTIONS.SEEN_HEADER:S.SECTIONS.READ_HEADER,itemKey:S.SECTIONS.READ_HEADER,height:50}),e.push(...ge.read.map((e=>({participant:e,kind:"contact-row",itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT})))),ge.readRemaining>0&&e.push({kind:"section",type:S.SECTIONS.READ_FOOTER,itemKey:a?S.SECTIONS.SEEN_FOOTER:S.SECTIONS.READ_FOOTER,height:50})),ge&&(ge.delivery.length>0||ge.deliveryRemaining>0)&&(e.push({kind:"section",type:S.SECTIONS.DELIVERED_HEADER,itemKey:S.SECTIONS.DELIVERED_HEADER,height:50}),e.push(...ge.delivery.map((e=>({participant:e,kind:"contact-row",itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT})))),ge.deliveryRemaining>0&&e.push({kind:"section",type:S.SECTIONS.DELIVERED_FOOTER,itemKey:S.SECTIONS.DELIVERED_FOOTER,height:50})),e})(),Ee=je.length?(0,ae.jsx)(y.FlatList,{flatListController:ce.current,direction:"vertical",forceConsistentRenderCount:!1,data:je,renderItem:e=>(0,ae.jsx)(he,{data:e,msg:n,msgInfo:ge})}):null;let _e=null;return f&&f.length>0&&(0,l.canDisplayLabel)()&&(_e=(0,ae.jsx)(C.default,{theme:"padding",children:(0,ae.jsx)(T.default,{labels:f})})),(0,ae.jsxs)(p.default,{ref:t,theme:"striped",children:[(0,ae.jsx)(m.DrawerHeader,{title:k.default.t(435),type:m.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{null==de||de.requestDismiss()}}),(0,ae.jsx)(L.default,{ref:fe,chatPreference:c.default.assertGet("defaultPreference"),children:(0,ae.jsx)(X.Wrapper,{msg:n,ref:pe,displayType:h.DISPLAY_TYPE.MSG_INFO,isMsgVisible:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===r&&(!!n||(null===(t=pe.current)||void 0===t?void 0:t.getMsgComponentRef()))},position:M.MsgPosition.END,onProductClick:e.onProductClick})}),(0,ae.jsxs)(g.default,{flatListControllers:[ce.current],children:[_e,be,(0,ae.jsx)("div",{className:(0,$.default)(le.list),children:Ee})]})]})}var ge=(0,J.forwardRef)(pe);t.default=ge},17633:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.msgInfo,["playedRemaining","readRemaining","deliveryRemaining"]);let n,r,c;switch(e.section){case i.SECTIONS.PLAYED_FOOTER:case i.SECTIONS.VIEWED_FOOTER:n=t.playedRemaining,r=t.playedRemaining;break;case i.SECTIONS.READ_FOOTER:case i.SECTIONS.SEEN_FOOTER:n=t.readRemaining,r=t.readRemaining;break;case i.SECTIONS.DELIVERED_FOOTER:n=t.deliveryRemaining,r=t.deliveryRemaining;break;default:return __LOG__(4,void 0,new Error)`Invalid SECTION for group message info section footer`,null}if(null==n||0===n)return null;c={count:n,_plural:r};const f=o.default.t(442,c);return(0,d.jsx)("div",{"data-testid":"msg-info-remaining",className:(0,l.default)(u),children:(0,d.jsx)(a.TextSpan,{theme:"muted",children:f})})};var i=n(522849),o=r(n(932325)),a=n(180519),l=r(n(156720)),s=n(655241),d=n(785893);const u={paddingTop:"n1yiu2zv",paddingEnd:"bcymb0na",paddingBottom:"p9a4hubg",paddingStart:"e8k79tju",backgroundColor:"ihvf49ua",boxShadow:"tio0brup"}},522849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=void 0;const r=n(76672).Mirrored(["DELIVERED_FOOTER","DELIVERED_HEADER","FORWARD_COUNT","PLAYED_FOOTER","PLAYED_HEADER","READ_FOOTER","READ_HEADER","SEEN_FOOTER","SEEN_HEADER","VIEWED_FOOTER","VIEWED_HEADER","AGENT_HEADER","KEEP_IN_CHAT_HEADER"]);t.SECTIONS=r},147158:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(170206)),o=r(n(227389)),a=r(n(846870)),l=n(23641),s=r(n(908081)),d=r(n(324093)),u=n(626194),c=n(305521),f=n(118612),h=r(n(219368)),p=n(446474),g=n(202391),m=n(435595),C=n(430484),v=r(n(844453)),x=n(548360),y=n(667294),b=r(n(156720)),j=n(785893);const E={maxHeight:"gxpaki6b",paddingTop:"tvsr5v2h",paddingEnd:"hiez0fsc",paddingBottom:"mcwxqdig",paddingStart:"ku7dt4i2",overflowY:"ag5g9lrv",backgroundColor:"ihvf49ua",borderBottom:"daad4uqs"},_={paddingTop:"mw9hwy0h",paddingEnd:"lk91ofgv",paddingBottom:"przvwfww",paddingStart:"s9xya5d7"},S={position:"lhggkp7q",end:"druapeav",bottom:"l64xl67m",zIndex:"b9fczbqn",textAlign:"qfejxiq4"},w={position:"lhggkp7q",bottom:"jxacihee",width:"hblzrxh7",backgroundColor:"qqs366u4"};function k(e,t){const{onClose:n,gid:r,onSend:k}=e,T=(0,y.useRef)(null),M=(0,y.useRef)(null),[I,P]=(0,y.useState)(x.fbt._("Invitation to join my WhatsApp group",null,{hk:"2WNS77"}).toString()),D=(0,j.jsx)(m.Round,{testid:"group-participants-btn",large:!0,onClick:()=>{(()=>{const e=p.ProfilePicThumbCollection.get(r);return new Promise((t=>{e&&e.img?(0,h.default)(e.img).then((e=>{if(e.ok)return e.blob();t(void 0)})).then((e=>{if(!e)return;const n=new FileReader;n.onloadend=function(){const e=n.result;if(null==e)return void t(void 0);const r=e.toString().split(",")[1];t(r)},n.readAsDataURL(e)})).catch((()=>t(void 0))):t(void 0)}))})().then((e=>{k(I,e)}))},children:(0,j.jsx)(C.SendIcon,{directional:!0})}),L=(0,j.jsx)(l.DetailImage,{id:e.gid}),R=(0,j.jsx)(c.EmojiText,{text:e.subject});return(0,j.jsx)(f.Modal,{ref:t,type:f.ModalTheme.Invite,children:(0,j.jsxs)(s.default,{theme:"invite",children:[(0,j.jsx)(u.DrawerHeader,{type:u.DRAWER_HEADER_TYPE.POPUP,title:x.fbt._("Send invite to...",null,{hk:"2Yaa3P"}),onCancel:()=>{n()}}),(0,j.jsxs)(d.default,{children:[(0,j.jsx)("div",{className:(0,b.default)(E),children:(0,j.jsx)("div",{"data-list-scroll-container":!0,children:(0,j.jsx)(o.default,{ref:T,theme:"list-names",contacts:e.participants.map((e=>e.contact))})})}),(0,j.jsx)("div",{className:(0,b.default)(_),children:(0,j.jsx)(g.RichTextField,{testid:"groups-v4-invite-add-comment-input",ref:M,value:I,showRemaining:!0,maxLength:a.default.MAX_CAPTION_LENGTH,onChange:e=>{const t=e.text;P(t)},theme:"v4-invite-caption",supportsEmoji:!0,textFormatEnabled:!0})}),(0,j.jsx)(v.default,{transitionName:"btn",className:(0,b.default)(S),children:D}),(0,j.jsx)("div",{className:(0,b.default)(w),children:(0,j.jsx)(i.default,{idle:!0,image:L,primary:R,secondary:x.fbt._("WhatsApp group invite",null,{hk:"Yox1t"}),theme:"groups_v4_invite"})})]})]})})}var T=(0,y.forwardRef)(k);t.default=T},946095:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalBetaDrawerButton=function(){const[e,t]=(0,u.useExternalBetaOptIn)(),n=(0,d.useABPropConfigValue)("external_beta_can_join");if(!n||!(0,l.primaryFeatureEnabled)("external_web_beta_opt_in"))return null;return(0,c.jsx)(o.DrawerButton,{testid:"li-join-beta",onClick:t,icon:(0,c.jsx)(a.ExperimentIcon,{height:24}),secondaryChildren:s.fbt._("Get new features before they are released. Report bugs using the Contact us form above.",null,{hk:"1vioLF"}),detail:(0,c.jsx)(i.CheckBox,{checked:e,onChange:t}),xstyle:f.drawerButtonContainer,xstyleSecondary:f.drawerButtonSecondary,children:s.fbt._("Join the beta",null,{hk:"4CiT2N"})})};var i=n(468926),o=n(36045),a=n(897410),l=n(233137),s=n(548360),d=(r(n(156720)),n(325390)),u=n(597518),c=n(785893);const f={drawerButtonContainer:{height:"jovuylw5"},drawerButtonSecondary:{whiteSpace:"c2jc77nu",overflowX:"ora14ekb",overflowY:"nv3qcefw",textOverlay:"ggc9gwuu"}}},647654:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(135630),o=n(789379),a=(n(351053),n(780549),n(445729)),l=r(n(695681)),s=r(n(908081)),d=r(n(324093)),u=n(36045),c=n(626194),f=n(946095),h=n(753233),p=n(258105),g=n(745256),m=(n(731085),r(n(932325))),C=n(969169),v=(n(188904),n(114850)),x=n(454567),y=n(603397),b=n(994206),j=n(569056),E=n(368170),_=r(n(344262)),S=n(130756),w=(n(548360),n(667294)),k=r(n(156720)),T=n(785893);const M=n(511959),I={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",alignSelf:"o2es7gts",width:"f4vvi1mq",height:"oxt0snpo",marginTop:"e3miq1pi",marginBottom:"bibl1e27",overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundRepeat:"sxl192xd",backgroundSize:"hxudpzjg",animationName:"dobzgj6y",animationDuration:"oauresqk",animationTimingFunction:"j6fiq9dm",animationIterationCount:"tkmeqcnu"},P={marginBottom:"r2u2pyhj"},D={id:"animated-doodle",selectors:["[data-animation]"],low:{default:M},high:{default:M}};function L(e,t){const n=(0,w.useRef)(-1),r=(0,w.useRef)(!1),M=(e,t)=>{(0,C.logSessionEvent)(e,n.current,t),r.current=!0};(0,w.useEffect)((()=>(n.current=self.performance.now(),o.AssetLoader.loadAsset(D,i.LOAD_PRIORITY.HELP_ANIMATED_DOODLE),()=>{r.current||M(S.CONTACT_US_EXIT_STATE.CANCELLED)})),[]);const L=()=>{M(S.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},R=e=>{M(S.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},O=()=>{};let A;return E.UA.isElectron&&(A=(0,T.jsx)(u.DrawerButton,{testid:"li-licenses",onClick:O,icon:(0,T.jsx)(x.SettingsDocumentIcon,{height:24}),children:(0,y.licensesTitle)()})),(0,T.jsxs)(s.default,{ref:t,children:[(0,T.jsx)(c.DrawerHeader,{testid:"drawer-title-help",title:m.default.t(366),onBack:e.onClose,type:c.DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),(0,T.jsxs)(d.default,{children:[(0,T.jsx)("div",{className:(0,k.default)(I),"data-animation":!0}),(0,T.jsx)("div",{className:(0,k.default)(P),children:(0,T.jsx)(_.default,{})}),(0,T.jsx)(u.DrawerButton,{testid:"li-faq",icon:(0,T.jsx)(b.SettingsHelpIcon,{}),onClick:()=>{(0,h.openExternalLink)((0,p.getFaqUrl)()),M(S.CONTACT_US_EXIT_STATE.FAQ)},children:(0,y.helpCenterTitle)()}),(0,T.jsx)(u.DrawerButton,{testid:"li-contact-us",icon:(0,T.jsx)(g.GroupIcon,{}),onClick:()=>{v.ModalManager.open((0,T.jsx)(l.default,{onCancel:L,onSend:R}))},children:(0,y.contactUsTitle)()}),A,(0,T.jsx)(u.DrawerButton,{testid:"li-tos",icon:(0,T.jsx)(x.SettingsDocumentIcon,{height:24}),onClick:()=>{r.current=!0;const e=a.Conn.isSMB?(0,j.getBizTosUrl)():(0,j.getTosUrl)();(0,h.openExternalLink)(e)},children:(0,y.termsTitle)()}),undefined,undefined,(0,T.jsx)(f.ExternalBetaDrawerButton,{})]})]})}var R=(0,w.forwardRef)(L);t.default=R},120381:(e,t,n)=>{"use strict";var r=n(170315).default,i=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(435161)),a=i(n(224350)),l=n(898817),s=n(370257),d=n(409623),u=i(n(908081)),c=i(n(324093)),f=n(626194),h=n(811720),p=i(n(988410)),g=i(n(335540)),m=i(n(482500)),C=D(n(978226)),v=i(n(856516)),x=n(81644),y=D(n(288057)),b=i(n(219368)),j=n(625786),E=n(390737),_=n(368170),S=i(n(556869)),w=n(548360),k=n(667294),T=i(n(710629)),M=i(n(895851)),I=n(785893);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function L(e,t){const{onImageSelected:n}=e,i=(0,M.default)(),P=(0,k.useRef)(null),D=(0,k.useRef)(null),L=(0,k.useRef)(null),R=(0,k.useRef)(!1),O=(0,k.useRef)(null),[A,N]=(0,k.useState)({}),[B,F]=(0,k.useState)(!1),[H,U]=(0,k.useState)(0),[G,z]=(0,k.useState)(""),[q,V]=(0,k.useState)([]),[W,Y]=(0,k.useState)(0),Z=(0,T.default)(((e,t)=>{R.current=!1;const n=new r,i=C.search(e,t).then((t=>{var r;if(n.signal.aborted)throw new l.AbortError;i===(null===(r=O.current)||void 0===r?void 0:r.promise)&&(((e,t)=>{const n=(0,a.default)(t.value,(e=>e.thumbnailUrl)),r=(0,o.default)(t.value,(e=>({id:e.imageId,name:e.name,thumbUrl:e.thumbnailUrl}))),i=t.value.length;var l,s;G===e?(U(t.nextOffset?t.nextOffset:H+i),V(q.concat(r)),Y(null!==(l=t.totalEstimatedMatches)&&void 0!==l?l:0),N(Object.assign(n,A))):(N(n),U(t.nextOffset?t.nextOffset:H+i),z(G),V(r),Y(null!==(s=t.totalEstimatedMatches)&&void 0!==s?s:0))})(e,t),F(!1))})).catch((0,l.catchAbort)((()=>{}))).catch((()=>{var e;__LOG__(3,!0)`Image search failed`,E.ToastManager.open((0,I.jsx)(j.Toast,{msg:w.fbt._("Image search failed",null,{hk:"9pHyN"})})),i===(null===(e=O.current)||void 0===e?void 0:e.promise)&&F(!1)})).finally((()=>{var e;i===(null===(e=O.current)||void 0===e?void 0:e.promise)&&(O.current=null)}));O.current={promise:i,controller:n},F(!0)}),750),K=()=>{Z.cancel(),R.current&&(R.current=!1),O.current&&O.current.controller.abort()},X=()=>{N({}),F(!1),U(0),z(""),V([]),Y(0)},Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;R.current=!0,Z(e,t)},J=()=>{R.current||O.current||!W||H>=W||Q(G,H)},$=e=>{const t=A[e];if(!t)return;const r=t.contentUrl;let o;if(!_.UA.isElectron)throw(0,S.default)("This call is only supported in non-MD mode");o=(0,v.default)((()=>(0,b.default)(r))).then((e=>{if(200!==e.status)throw new y.ServerStatusError(null,r,e.status);return e.blob()})),o.then((e=>{if(!i.aborted){if(!(e instanceof Blob))throw new y.ImageError("Server did not respond with image bytes",r);n(e,t.hostPageUrl)}})).catch((()=>{__LOG__(3,!0)`Image search failed`,E.ToastManager.open((0,I.jsx)(j.Toast,{msg:w.fbt._("Failed to load image",null,{hk:"1k5xX"})}))}))},ee=()=>{p.default.shouldIndicateFocus(),g.default.focus(P.current)},te=f.DRAWER_HEADER_TYPE.POPUP;let ne;return ne=0===q.length?B?(0,I.jsx)(h.SearchingImages,{}):G?(0,I.jsx)(h.ImageSearchEmpty,{}):(0,I.jsx)(h.BeforeImageSearch,{}):(0,I.jsx)(m.default,{ref:L,canLoadMore:H<W,isLoadingMore:B,thumbnails:q,onFocusPrev:ee,onImageClick:$,onRequestMoreImages:J}),(0,I.jsxs)(u.default,{ref:t,children:[(0,I.jsx)(f.DrawerHeader,{title:w.fbt._("Image Search",null,{hk:"p4JUz"}),type:te,onBack:e.onBack,onCancel:e.onCancel}),(0,I.jsxs)(c.default,{children:[(0,I.jsx)(x.HotKeys,{ref:D,handlers:{down:e=>{e.repeat||L.current&&P.current&&P.current.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),p.default.shouldIndicateFocus(),null!=L.current&&g.default.focus(L.current))}},onFocus:()=>{p.default.maybeIndicateFocus(D.current)},children:(0,I.jsx)(d.ListSearch,{ref:P,placeholder:w.fbt._("Enter search term here",null,{hk:"sgCKx"}),onSearch:e=>{const t=(e||"").trim();if(!t)return K(),void X();(0,s.numCodepoints)(t)<2||t!==G&&(K(),X(),Q(t))},loading:B})}),ne]})]})}var R=(0,k.forwardRef)(L);t.default=R},978226:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(){return g.apply(this,arguments)};var i=r(n(348926)),o=r(n(932325)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(288057)),l=r(n(79291)),s=r(n(794938));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const u="https://www.bingapis.com/api/v6/images/search",c="D41D8CD98F00B204E9800998ECF8427E4F4A7492",f="Square",h="Medium",p={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW","zh-HK":"zh-HK"};function g(){return(g=(0,i.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const r={q:e,SafeSearch:"Strict",appid:c,mkt:p[o.default.getLocale()]||p.en,size:h,aspect:f,count:n,offset:t},i=l.default.build(u,r),d=yield s.default.get(i,s.default.RESP_TYPE.JSON);if(!d.response.hasOwnProperty("_type"))throw new a.InvalidServerResponseError(i,d.status.toString(),`Not a valid Bing response: ${JSON.stringify(d.response)}`);if("ErrorResponse"===d.response._type){const t=d.response;throw new a.BingServerError(e,d.status,t)}if("Images"!==d.response._type)throw new a.InvalidServerResponseError(i,d.status.toString(),`Did not receive an image search response, potentially malformed query ${JSON.stringify(d.response)}`);return d.response}))).apply(this,arguments)}},856516:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.promiseLoop)(function(){var t=(0,i.default)((function*(t,n,r){const i=(0,l.delayMs)((0,a.expBackoff)(r,6e4,void 0,.1));try{yield function(){if(c.Socket.state===u.SOCKET_STATE.CONNECTED)return Promise.resolve();return(0,d.default)(c.Socket,"change:state",(0,o.default)({state:u.SOCKET_STATE.CONNECTED}))}();const n=yield e();if(n.status>=500&&n.status<600)return i;t(n)}catch(e){return i}}));return function(){return t.apply(this,arguments)}}())};var i=r(n(348926)),o=r(n(706410)),a=n(250655),l=n(8304),s=n(904086),d=r(n(799132)),u=n(226562),c=n(38878)},835539:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onOpenStatus:t}=e,n=(0,j.default)((()=>new c.default)),r=()=>{const e=g.StatusV3Collection.getUnexpired(!0),t=g.StatusV3Collection.getUnexpired(!1);return{unread:e,read:t,muted:[...e,...t].filter((e=>e.contact.statusMute))}},{unread:i,read:o,muted:l}=(0,y.useMemo)(r,[]),[h,p]=(0,y.useState)((()=>i.filter((e=>!e.contact.statusMute)))),[m,C]=(0,y.useState)((()=>o.filter((e=>!e.contact.statusMute)))),[v,x]=(0,y.useState)(l),[S,w]=(0,y.useState)((()=>g.StatusV3Collection.getMyStatus())),[k,T]=(0,y.useState)(!1);(0,E.useListener)(g.StatusV3Collection,"add remove bulk_add sort change:msgsChanged change:hasUnread",(()=>{const{unread:e,read:t,muted:n}=r();p(e.filter((e=>!e.contact.statusMute))),C(t.filter((e=>!e.contact.statusMute))),x(n),w(g.StatusV3Collection.getMyStatus())})),(0,E.useListener)(a.ContactCollection,"change:statusMute",(()=>{const{unread:e,read:t,muted:n}=r();p(e.filter((e=>!e.contact.statusMute))),C(t.filter((e=>!e.contact.statusMute))),x(n),w(g.StatusV3Collection.getMyStatus())}));const P=()=>{T(!k)},D=(0,y.useMemo)((()=>{const e=[];return h.length>0&&(e.push({type:A,itemKey:"section-unread",height:48}),e.push(...h.map(((e,t)=>({type:H,itemKey:e.id.toString(),height:64,status:e,index:t}))))),m.length>0&&(e.push({type:N,itemKey:"section-read",height:48}),e.push(...m.map(((e,t)=>({type:H,itemKey:e.id.toString(),height:64,status:e,index:t}))))),v.length>0&&(e.push({type:B,itemKey:"section-muted",height:48,expanded:k}),k&&e.push(...v.map(((e,t)=>({type:H,itemKey:e.id.toString(),height:64,status:e,index:t}))))),(0,f.isPrivacyNarrativeV1Enabled)()&&e.push({type:F,itemKey:"section-e2e-message"}),e}),[h,m,v,k]);let L;L=g.StatusV3Collection.hasSynced()&&D.length>0?(0,_.jsx)(d.FlatList,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:n.current,direction:"vertical",data:D,renderItem:e=>(0,_.jsx)(U,{data:e,onOpenStatus:t,onToggleMute:P})}):(0,_.jsx)(s.ListStatus,{});return(0,_.jsxs)("div",{className:(0,b.default)(M),children:[(0,_.jsx)(G,{statusV3:S,onOpenStatus:e.onOpenStatus}),(0,_.jsx)(u.default,{className:(0,b.default)(I),flatListControllers:[n.current],children:L})]})};var i=r(n(670983)),o=n(63014),a=n(177938),l=n(23641),s=n(811720),d=n(512938),u=r(n(964223)),c=r(n(570834)),f=n(97858),h=n(177586),p=r(n(567268)),g=n(657694),m=r(n(376394)),C=n(459857),v=n(130756),x=n(548360),y=n(667294),b=r(n(156720)),j=r(n(637660)),E=n(808446),_=n(785893);const S={display:"p357zi0d",flexDirection:"f8m0rgwh",paddingEnd:"kyc7k6mt",paddingStart:"f78eapp6"},w={width:"ln8gz9je",height:"bbl9m3t3",marginTop:"fgtikrv0",borderTop:"he2qn9qk",borderEnd:"jkanexlp",borderBottom:"thn59n0e",borderStart:"nsmrnv0a"},k={display:"p357zi0d",flexDirection:"sap93d0t",justifyContent:"o4u7okr9",fontSize:"ovllcyds",color:"q1js4oc8"},T={fontSize:"ovllcyds",color:"q1js4oc8",":hover":{color:"la55qv5n"}},M={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",flexDirection:"f8m0rgwh",height:"ppled2lx",backgroundColor:"bfsx6evv","@media screen and (max-width: 900px)":{width:"hj24v2v0"},"@media screen and (min-width: 901px) and (max-width: 1023px)":{width:"i9ba79ay"},"@media screen and (max-width: 1024px)":{width:"jykept17"},"@media screen and (min-width: 1025px) and (max-width: 1300px)":{width:"p7ivxbd6"},"@media screen and (min-width: 1301px)":{width:"o7f2woc0"}},I={flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",paddingBottom:"lzi2pvmc",overflowY:"ag5g9lrv","::-webkit-scrollbar-track":{backgroundColor:"jhwejjuw"},"::-webkit-scrollbar-thumb":{backgroundColor:"ny7g4cd4"}},P={fontSize:"ovllcyds",color:"kcq1et6t"},D={fontSize:"enbbiyaj"},L={display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"o4u7okr9",width:"ln8gz9je",height:"t5t8swlc",paddingStart:"mjn2akup",marginTop:"kiblkopf"},R={display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"fujhy7ri",height:"q8xcl7qa",color:"lxozqee9"},O={display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"o4u7okr9",minWidth:"ecrppv57",height:"epwkujcx",marginEnd:"k1jo73ug"},A="SEC_UNREAD",N="SEC_READ",B="SEC_MUTED",F="SEC_E2E_MESSAGE",H="ROW_STATUS";function U(e){let{data:t,onOpenStatus:n,onToggleMute:r}=e;switch(t.type){case A:return(0,_.jsxs)("div",{className:(0,b.default)(S),children:[(0,_.jsx)("hr",{className:(0,b.default)(w)}),(0,_.jsx)("div",{className:(0,b.default)(k),children:(0,_.jsx)("span",{children:x.fbt._("RECENT",null,{hk:"vPbQs"})})})]});case N:return(0,_.jsxs)("div",{className:(0,b.default)(S),children:[(0,_.jsx)("hr",{className:(0,b.default)(w)}),(0,_.jsx)("div",{className:(0,b.default)(k),children:(0,_.jsx)("span",{children:x.fbt._("VIEWED",null,{hk:"17DrUs"})})})]});case B:return(0,_.jsxs)("div",{className:(0,b.default)(S),children:[(0,_.jsx)("hr",{className:(0,b.default)(w)}),(0,_.jsxs)("div",{className:(0,b.default)(k),children:[(0,_.jsx)("span",{children:x.fbt._("MUTED",null,{hk:"31XgZG"})}),(0,_.jsx)("button",{className:(0,b.default)(T),onClick:r,children:t.expanded?x.fbt._("HIDE",null,{hk:"3n6J18"}):x.fbt._("SHOW",null,{hk:"1KKhJ5"})})]})]});case H:{const e=(i=t.status).contact.isMe?v.STATUS_ROW_SECTION.MY_STATUS:i.contact.statusMute?v.STATUS_ROW_SECTION.MUTED_STORIES:i.hasUnread?v.STATUS_ROW_SECTION.RECENT_STORIES:v.STATUS_ROW_SECTION.PREVIOUS_STORIES;return(0,_.jsx)(p.default,{statusV3:t.status,onClick:()=>n(t.status,void 0,t.index,e),contact:t.status.contact})}case F:return(0,_.jsx)(h.E2eMessageStatusV3List,{});default:throw new d.UnknownDataError(t)}var i}function G(e){var t;let n;const r=e.statusV3;let a,s;r&&(s=r.msgs);const d=()=>{const t=null==r?void 0:r.msgs;r&&(null==t?void 0:t.length)&&e.onOpenStatus(r,t.head(),0,v.STATUS_ROW_SECTION.MY_STATUS)};let u,c;if(r&&(null===(t=s)||void 0===t?void 0:t.length)){n=(0,_.jsx)(m.default,{statusV3:r,contact:r.contact,onClick:d});const e=(0,i.default)(s.last(),"myMsgs.last()").t;a=(0,_.jsx)("span",{className:(0,b.default)(P),children:o.Clock.relativeDateAndTimeStr(e)}),c={cursor:"pointer"},u=d}else n=(0,_.jsx)(l.DetailImage,{id:(0,C.getMaybeMeUser)(),theme:"status_v3",size:40}),a=(0,_.jsx)("span",{"data-testid":"status-no-updates",className:(0,b.default)(P),children:x.fbt._("No updates",null,{hk:"2Fcs7d"})});const f=(0,_.jsx)("span",{"data-testid":"my-status",className:(0,b.default)(D),children:x.fbt._("My Status",null,{hk:"225G1q"})});return(0,_.jsxs)("div",{className:(0,b.default)(L),style:c,onClick:u,children:[(0,_.jsx)("div",{className:(0,b.default)(R),children:n}),(0,_.jsxs)("div",{className:(0,b.default)(O),children:[f,a]})]})}},546922:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(780549),o=(r(n(932325)),n(657694)),a=r(n(835539)),l=r(n(314122)),s=n(757453),d=n(356722),u=n(667294),c=r(n(156720)),f=n(808446),h=n(785893);const p={position:"lhggkp7q",zIndex:"iijvqejl",boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",height:"ppled2lx",backgroundColor:"ss9a15xu"},g={position:"g0rxnol2",zIndex:"jnl3jror",display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",height:"ppled2lx",color:"lxozqee9","@media screen and (min-width: 1441px)":{top:"resm64uo",width:"aazg2tqz",height:"sqo8i9vu",marginEnd:"gcgr3cud",marginStart:"c44ed13a"}},m={position:"lhggkp7q",top:"q177n8ra",end:"n642r0m2",zIndex:"b9fczbqn",color:"lxozqee9"};function C(e,t){const{onOpenStatus:n,sessionId:r,closeStatusViewer:C}=e,[v,x]=(0,u.useState)((()=>o.StatusV3Collection.getMyStatus()));return(0,u.useEffect)((()=>{(0,s.setLastStatusUsage)(),null!=r&&o.StatusV3Collection.logMetrics({type:"session",sessionId:r}),i.Cmd.onStatusViewerOpen()}),[]),(0,f.useListener)(o.StatusV3Collection,["add","remove"],(()=>{x(o.StatusV3Collection.getMyStatus())})),(0,f.useListener)(i.Cmd,["dismiss_status_v3_viewer"],(()=>{C(!0)})),(0,h.jsx)("div",{ref:t,className:(0,c.default)(p),"data-animate-status-v3-modal-background":!0,"data-testid":"status-v3-main-panel",children:(0,h.jsxs)("div",{className:(0,c.default)(g),children:[(0,h.jsx)(a.default,{onOpenStatus:n}),(0,h.jsx)(l.default,{status:v,onOpenStatus:n}),(0,h.jsx)("button",{className:(0,c.default)(m,!1),onClick:()=>e.closeStatusViewer(!0),children:(0,h.jsx)(d.XViewerIcon,{})})]})})}var v=(0,u.forwardRef)(C);t.default=v},314122:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,b.jsx)(E,{statusV3:e.status,onOpenStatus:e.onOpenStatus});return(0,b.jsx)("div",{className:(0,C.default)(j.outStatusPanel),children:t})};var i=n(122583),o=n(984330),a=n(63014),l=n(23641),s=n(787742),d=n(241164),u=n(578700),c=r(n(502622)),f=r(n(376394)),h=n(572946),p=n(130756),g=n(548360),m=n(667294),C=r(n(156720)),v=r(n(969651)),x=n(808446),y=r(n(895851)),b=n(785893);const j={outStatusPanel:{position:"lhggkp7q",top:"qq0sjtgm",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx","@media screen and (max-width: 900px)":{start:"r77w0ibt",width:"l6bevpbc"},"@media screen and (min-width: 901px) and (max-width: 1024px)":{start:"f82bpul8",width:"orypyu02"},"@media screen and (min-width: 1025px) and (max-width: 1300px)":{start:"sv1r5vap",width:"n0xp5siy"},"@media screen and (min-width: 1301px)":{start:"a21xwfzl",width:"m2tbfq6e"}},viewWrapper:{display:"p357zi0d",flexDirection:"f8m0rgwh",maxHeight:"ibyb1pgl"},viewTitle:{marginTop:"kpwy2cir",marginBottom:"fhelu9n7",fontSize:"q9lllk4z",fontWeight:"hnx8ox4h",textAlign:"qfejxiq4"},viewTitleEdgeFix:{fontWeight:"sy6s5v3r"},viewUpdates:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"sap93d0t",flexWrap:"lkhkxwyq",justifyContent:"ac2vgrno",maxWidth:"c3m6791i",paddingTop:"i5tg98hk",paddingEnd:"td5bf8pq",paddingBottom:"eynyaxvo",paddingStart:"l3k7h4x6",overflowY:"ag5g9lrv"},placeholderIcon:{display:"p357zi0d",flexDirection:"sap93d0t",justifyContent:"ac2vgrno",marginBottom:"fhelu9n7",color:"pgamn86x",pointerEvents:"m62443ks"},placeholderText:{lineHeight:"d53pemmv",color:"kcq1et6t",textAlign:"qfejxiq4"},outDetail:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",marginEnd:"spjzgwxb",marginBottom:"iyjcf3gk",marginStart:"a3oefunm"},seen:{marginTop:"eg3lofc5",marginBottom:"g105fvfm"},timestamp:{fontSize:"ovllcyds",color:"kcq1et6t"}};function E(e){const{statusV3:t}=e,n=(0,v.default)();(0,m.useEffect)((()=>{null==t||t.loadMore(t.totalCount).catch((e=>{__LOG__(3)`error while loading all out status: ${String(e)}`}))}),[]),(0,x.useListener)(t,"change:msgsChanged",n);const r=e.statusV3;if(r&&r.msgs.length>0){const t=r.msgs.map((t=>(0,b.jsx)(_,{msg:t,status:r,onOpenStatus:e.onOpenStatus},t.id.toString())));return(0,b.jsxs)("div",{className:(0,C.default)(j.viewWrapper),"data-testid":"status-v3-out-panel-view-updates",children:[(0,b.jsx)("div",{className:(0,C.default)(j.viewTitle,h.hasEdgeFix&&j.viewTitleEdgeFix),children:g.fbt._("View your updates",null,{hk:"1DTRQt"})}),(0,b.jsx)("div",{className:(0,C.default)(j.viewUpdates),children:t})]})}return(0,b.jsxs)("div",{className:(0,C.default)(j.viewWrapper),children:[(0,b.jsx)("div",{className:(0,C.default)(j.placeholderIcon),children:(0,b.jsx)(u.StatusV3PlaceholderIcon,{})}),(0,b.jsx)("div",{"data-testid":"status-v3-out-panel-placeholder",className:(0,C.default)(j.placeholderText),children:g.fbt._("Click on a contact to view their status updates",null,{hk:"d6xUd"})})]})}function _(e){const{msg:t,status:n}=e,r=(0,y.default)(),[u,h]=(0,m.useState)(null),[g,v]=(0,m.useState)(null);(0,m.useEffect)((()=>{d.MsgInfoCollection.find(t.id).then((e=>{r.aborted||(v(e),h(e.read.length))})).catch((0,i.filteredCatch)(o.EphemeralDrop,(()=>{})))}),[]),(0,x.useListener)(null==g?void 0:g.read,["add","remove"],(()=>{h(null==g?void 0:g.read.length)}));const E=(0,b.jsx)(l.DetailImage,{id:(0,s.getSender)(t),theme:"status_v3",size:80});return(0,b.jsxs)("div",{className:(0,C.default)(j.outDetail),"data-testid":"status-v3-out-panel-own-status",children:[(0,b.jsx)(f.default,{statusV3:n,msg:t,onClick:()=>e.onOpenStatus(n,t,0,p.STATUS_ROW_SECTION.MY_STATUS),contact:n.contact,role:"button",theme:"status-panel",thumbnailPlaceholder:E}),(0,b.jsx)("div",{className:(0,C.default)(j.seen),children:(0,b.jsx)(c.default,{seenCount:u})}),(0,b.jsx)("div",{className:(0,C.default)(j.timestamp),children:a.Clock.relativeDateAndTimeStr(t.t)})]})}},569056:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.TOS_BASE_URL=t.BIZ_TOS_BASE_URL=void 0,t.getBizTosUrl=function(){return`${a}?lg=${i.default.getLocale()}`},t.getTosUrl=function(){return`${o}?lg=${i.default.getLocale()}`};var i=r(n(932325));const o="https://www.whatsapp.com/legal/";t.TOS_BASE_URL=o;const a="https://www.whatsapp.com/legal/business-terms";t.BIZ_TOS_BASE_URL=a},859157:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.getCachedOrdersInfoFromChat=function(e){return{fetcher:Promise.resolve(h(e)),unsubscribe:()=>{}}},t.getMergedContactAndOrderInfoMap=function(e,t){return(0,i.default)((0,i.default)({},e),t.reduce(((e,t)=>(e[t.orderInfo.referenceId]=t,e)),{}))},t.getMergedOrderStatusInfoMap=f,t.getNotCachedOrdersInfoFromChat=function(e){let t,n;const r=()=>{n(),self.clearInterval(t)};return{fetcher:new Promise((i=>{t=self.setInterval((()=>{(0,o.loadEarlierMsgs)(e,e.msgs)}),200),n=e.msgs.onMsgLoadStateChange((()=>{e.msgs.msgLoadState.noEarlierMsgs&&(i(h(e)),r())}))})),unsubscribe:r}},t.getOrderDisplayDate=void 0,t.getOrdersInfoFromMsgs=p,t.removeContactAndOrdersInfoFromMap=function(e,t){const n=(0,i.default)({},e);return t.forEach((e=>{delete n[e.orderInfo.referenceId]})),n},t.removeOrderStatusInfoFromMap=function(e,t,n){const{ordersStatusInfo:r}=e,{ordersStatusInfo:[{refId:i}]}=t,{orderStatusInfoMap:o}=n;return delete o[i],f(o,r)};var i=r(n(81109)),o=n(743643),a=n(63014),l=r(n(753110)),s=n(373070),d=n(706197),u=n(620982),c=n(459857);function f(e,t){return(0,i.default)((0,i.default)({},e),t.reduce(((e,t)=>(e[t.refId]=t,e)),{}))}function h(e){const{contact:t,msgs:n}=e;return p(n.toArray(),t)}function p(e,t){return e.reduce(((e,n)=>{var r;const[{name:i,buttonParamsJson:o}]=(null===(r=n.interactivePayload)||void 0===r?void 0:r.buttons)||[{}];return n.from.equals((0,c.getMeUser)())&&(n.nativeFlowName===l.default.ORDER_DETAILS?function(e,t,n,r,i){const o=t.t,a=(0,d.paramsJsonToOrderInfo)(r,i);a&&e.contactsAndOrdersInfo.push({contact:n,orderInfo:a,timestamp:o,interactiveMsg:g(t)})}(e,n,t,i,o):n.nativeFlowName===l.default.ORDER_STATUS&&function(e,t,n){const r=(0,u.paramsJsonToOrderStatusInfo)(t,n);r&&e.ordersStatusInfo.push(r)}(e,i,o)),e}),{contactsAndOrdersInfo:[],ordersStatusInfo:[]})}function g(e){const t=e.safe();return t.type===s.MSG_TYPE.INTERACTIVE?t:null}t.getOrderDisplayDate=(e,t,n)=>{const r=a.Clock.relativeDateStr(e[t[n]].timestamp).toString();return r===(n>0?a.Clock.relativeDateStr(e[t[n-1]].timestamp).toString():"")?"":r}},918131:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchImpl=t.Search=void 0;var i=r(n(348926)),o=n(481173),a=r(n(556869));class l extends o.BaseModel{constructor(){super(...arguments),this.supportsPagination=(0,o.prop)(!1),this.maxPageLength=(0,o.prop)()}initialize(){super.initialize(),this.preloadData()}preloadData(){}queryFn(){throw(0,a.default)("Cannot create `Search` Model without `query` method")}query(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)((function*(){const r=n;null!=t.maxPageLength&&(null==r.pagination?r.pagination={pageLength:t.maxPageLength,page:0}:r.pagination.pageLength=t.maxPageLength);const i=yield t.queryFn(e,n);if(!t.supportsPagination&&null!=r.pagination){const e=r.pagination.page*r.pagination.pageLength,t=e+r.pagination.pageLength;i.results=i.results.slice(e,t)}return i}))()}}t.SearchImpl=l,l.Proxy="search";const s=(0,o.defineModel)(l);t.Search=s},800577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingSearch=void 0;var r=n(918131),i=n(522519),o=n(876668),a=n(929776);class l extends r.Search{constructor(){super(...arguments),this.id="SettingSearch"}preloadData(){this.data=(0,o.buildSearchableHierarchy)((0,o.getSettingsSearchHierarchy)()).filter((e=>!(null!=e.parent&&!(0,a.getResult)(e.parent.isAvailable))&&(0,a.getResult)(e.isAvailable)))}queryFn(e){const t=(0,i.normalizeString)(e);return{type:"setting",results:this.data.filter((e=>null!=e.searchCriteria&&e.searchCriteria.includes(t))).map((e=>({id:e.id,type:"setting",data:e})))}}}t.SettingSearch=l},567268:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.useModelValues)(e.statusV3,["id","t","hasUnread","unreadCount","totalCount","contact"]),n=(0,d.useModelValues)(e.contact,["formattedName","statusMute","isPSA"]),r=n.isPSA?null:o.Clock.relativeDateAndTimeStr(t.t),f=n.isPSA?(0,u.jsxs)("span",{className:(0,s.default)(c.verified),children:[n.formattedName,(0,u.jsx)("div",{className:(0,s.default)(c.icon),children:(0,u.jsx)(a.PsaVerifiedIcon,{})})]}):n.formattedName;return(0,u.jsx)(i.default,{className:(0,s.default)(n.statusMute&&c.dimmed),customImage:!0,theme:"status-list",image:(0,u.jsx)(l.default,{statusV3:t,contact:n,onClick:e.onClick}),primary:f,secondary:r,onClick:e.onClick,contextEnabled:()=>!1},t.id.toString())};var i=r(n(991370)),o=n(63014),a=n(376355),l=r(n(376394)),s=r(n(156720)),d=n(655241),u=n(785893);const c={dimmed:{opacity:"brh521k9"},verified:{display:"au4fhpva",overflowX:"swamzvm4",overflowY:"nel0soo2",textOverflow:"go4p2dcp",whiteSpace:"cnuwac07"},icon:{display:"l7jjieqr",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginTop:"b9l0eqez",marginStart:"k6y3xtnu",verticalAlign:"fewfhwl7"}}},376394:(e,t,n)=>{"use strict";var r=n(595318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{theme:t,thumbnailPlaceholder:n,msg:r}=e,i=(0,p.useModelValues)(e.statusV3,["lastStatus"]),a=(0,p.useModelValues)(e.contact,["statusMute"]),s=null!=r?r:i.lastStatus,d=C(t);let c;c=null!=n?n:s?(0,g.jsx)(o.DetailImage,{id:(0,l.getSender)(s),theme:"status_v3",size:40}):null;return(0,g.jsxs)("div",{className:(0,h.default)(m.container,d),role:e.role||"",onContextMenu:null,onClickCapture:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e),t.stopPropagation(),t.preventDefault()},"data-testid":"status-v3-thumbnail",children:[a.statusMute||"status-panel"===t?null:(0,g.jsx)(u.StatusV3ImageRing,{statusV3:i,breakRing:!0}),(0,g.jsx)(y,{msg:s,theme:t,thumbnailPlaceholder:c})]})};var i=n(520485),o=n(23641),a=r(n(641206)),l=n(787742),s=n(373070),d=(n(163139),n(918715)),u=n(473016),c=n(688468),f=r(n(124928)),h=r(n(156720)),p=n(655241),g=n(785893);const m={container:{paddingTop:"b7n2qyd4",paddingEnd:"kyc7k6mt",paddingBottom:"ekpn4oxx",paddingStart:"rn41jex5",position:"g0rxnol2"},statusImage:{backgroundPosition:"t3g6t33p",backgroundRepeat:"sxl192xd",backgroundSize:"qnwaluaf",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb",overflowX:"gfz4du6o",overflowY:"r7fjleex"},statusImageFallbackBackground:{backgroundColor:"rx2toazg"},textThumb:{position:"g0rxnol2"},thumbContainer:{borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},thumbSizeLarge:{height:"fsgosuut",width:"h4dw90qs"},thumbSizeSmall:{height:"lniyxyh2",width:"qssinsw9"}};function C(e){return"status-panel"===e?m.thumbSizeLarge:m.thumbSizeSmall}function v(e){const{msg:t,theme:n}=e,r=C(n);return(0,g.jsx)("div",{className:(0,h.default)(m.statusImage,r),style:{backgroundColor:(0,l.getStatusV3CanvasColor)(t)},children:(0,g.jsx)("div",{className:(0,h.default)(m.textThumb,r),children:(0,g.jsx)(c.StatusV3Text,{msg:t,theme:null!=n?n:"status-thumbnail"})})})}function x(e){const{msg:t,theme:n}=e,r=C(n);return(0,g.jsx)("div",{className:(0,h.default)(m.statusImage,r),style:{backgroundColor:(0,l.getStatusV3CanvasColor)(t)},children:(0,g.jsx)(i.AudioWaveThumbnailIcon,{iconXstyle:r})})}function y(e){const{msg:t,theme:n,thumbnailPlaceholder:r}=e,i=C(n),o=m.statusImage,u=(0,d.isStatusV3VoiceStatusReceiptEnabled)();if(t){if(f.default.isPSA((0,l.getSender)(t)))return(0,g.jsx)("div",{className:(0,h.default)(m.thumbContainer,i,m.statusImageFallbackBackground),children:r});const e=(0,g.jsx)(a.default,{containerClassName:(0,h.default)(m.thumbContainer,i,m.statusImageFallbackBackground),childClassName:(0,h.default)(o,i),msg:t,thumbnailPlaceholder:r});switch(t.type){case s.MSG_TYPE.CHAT:return(0,g.jsx)(v,{msg:t,theme:n});case s.MSG_TYPE.PTT:case s.MSG_TYPE.AUDIO:return u?(0,g.jsx)(x,{msg:t,theme:n}):e;default:return e}}return(0,g.jsx)("div",{className:(0,h.default)(o,i,m.statusImageFallbackBackground)})}},900571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_TYPE=void 0,t.isLidIdentifierEqualToLid=s,t.isPnIdentifierEqualToPn=l,t.validateFingerprintError=function(e,t,n){var i,d,u,c,f,h,p,g,m,C,v,x,y,b;if(__LOG__(2)`[IDQR] validating QR code`,!e||null==e.version||!e.localFingerprint||!e.remoteFingerprint)return a.INVALID_QR_CODE;const j=null===(i=e.remoteFingerprint)||void 0===i?void 0:i.pnIdentifier,E=null===(d=e.localFingerprint)||void 0===d?void 0:d.pnIdentifier,_=null===(u=e.remoteFingerprint)||void 0===u?void 0:u.lidIdentifier,S=null===(c=e.localFingerprint)||void 0===c?void 0:c.lidIdentifier,w=null==t||null===(f=t.localFingerprint)||void 0===f?void 0:f.pnIdentifier,k=null==t||null===(h=t.remoteFingerprint)||void 0===h?void 0:h.pnIdentifier,T=l(E,(0,o.getMeUser)()),M=s(S,(0,o.getMaybeMeLid)()),I=!n.isLid()&&l(j,n),P=n.isLid()&&s(_,n),D=!n.isLid()&&l(j,(0,o.getMeUser)()),L=n.isLid()&&s(_,(0,o.getMaybeMeLid)()),R=!n.isLid()&&l(E,n),O=n.isLid()&&s(S,n);if(null!=e.version){if(e.version<0)return a.UNEXPECTED_VERSION_OLD;if(e.version>0)return a.UNEXPECTED_VERSION_NEW}let A=!1,N=null,B=null;if(T||M){if(A=!0,N=e.localFingerprint,!I&&!P)return a.REMOTE_WRONG_CHAT_PEER;B=e.remoteFingerprint}else{if(!D&&!L)return a.LOCAL_WRONG_CHAT;if(N=e.remoteFingerprint,!R&&!O)return a.REMOTE_WRONG_CHAT;B=e.localFingerprint}if(!(0,r.compareArrayBuffer)(null===(p=N)||void 0===p?void 0:p.publicKey,null==t||null===(g=t.localFingerprint)||void 0===g?void 0:g.publicKey))return a.LOCAL_KEYS_MISMATCH;if(!(0,r.compareArrayBuffer)(null===(m=B)||void 0===m?void 0:m.publicKey,null==t||null===(C=t.remoteFingerprint)||void 0===C?void 0:C.publicKey))return a.REMOTE_KEYS_MISMATCH;const F=(0,r.compareArrayBuffer)(null===(v=N)||void 0===v?void 0:v.pnIdentifier,w);if(null!=(null===(x=N)||void 0===x?void 0:x.pnIdentifier)&&!F)return A?a.LOCAL_PN_MISMATCH_PEER:a.LOCAL_PN_MISMATCH;const H=(0,r.compareArrayBuffer)(null===(y=B)||void 0===y?void 0:y.pnIdentifier,k);var U;if(null!=k){if(null==(null===(U=B)||void 0===U?void 0:U.pnIdentifier))return A?a.REMOTE_PN_MISSING_PEER:a.REMOTE_PN_MISSING;if(!H)return A?a.REMOTE_PN_MISMATCH_PEER:a.REMOTE_PN_MISMATCH}else if(null==(null===(b=B)||void 0===b?void 0:b.pnIdentifier))return a.REMOTE_PN_MISSING;return a.CORRECT};var r=n(881841),i=n(726192),o=n(459857);const a={CORRECT:0,INVALID_QR_CODE:1,UNEXPECTED_VERSION_OLD:2,UNEXPECTED_VERSION_NEW:3,REMOTE_WRONG_CHAT_PEER:4,REMOTE_WRONG_CHAT:5,LOCAL_WRONG_CHAT:6,LOCAL_KEYS_MISMATCH:7,REMOTE_KEYS_MISMATCH:8,LOCAL_PN_MISMATCH_PEER:9,LOCAL_PN_MISMATCH:10,REMOTE_PN_MISMATCH_PEER:11,REMOTE_PN_MISMATCH:12,REMOTE_PN_MISSING_PEER:13,REMOTE_PN_MISSING:14};function l(e,t){if(!e||!t)return!1;const n=(0,i.deriveStableJid)(t),o=(0,r.uint8ArrayToBuffer)(n);return(0,r.compareArrayBuffer)(e,o)}function s(e,t){if(!e||!t)return!1;const n=(0,i.deriveLidIdentifier)(t),o=(0,r.uint8ArrayToBuffer)(n);return(0,r.compareArrayBuffer)(e,o)}t.ERROR_TYPE=a},653887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedFileExtensions=void 0;const r=n(76672)({PNG:".png",TXT:".txt",ZIP:".zip"});t.AllowedFileExtensions=r},28238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(576304);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},676327:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(731339);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},820487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(245418);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},230509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(555480);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},139519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return r.Circle}}),Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return r.Group}}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return r.Image}}),Object.defineProperty(t,"Layer",{enumerable:!0,get:function(){return r.Layer}}),Object.defineProperty(t,"Line",{enumerable:!0,get:function(){return r.Line}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return r.Path}}),Object.defineProperty(t,"Rect",{enumerable:!0,get:function(){return r.Rect}}),Object.defineProperty(t,"Stage",{enumerable:!0,get:function(){return r.Stage}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return r.Text}}),Object.defineProperty(t,"Transformer",{enumerable:!0,get:function(){return r.Transformer}});var r=n(577201);n(907643),n(671298),n(227149),n(87339),n(275244),n(723787),n(229516)},511959:(e,t,n)=>{e.exports=n.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},95492:(e,t,n)=>{e.exports=n.p+"img/sticker-pack-empty_9f0c66fc3aec33b2f78f0ae1721e053b.png"},329764:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={verifiedNameIcon:"_1GAkO",noPaddingTop:"_3ZYtE"}},51699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={editMain:"_1Kf2A",list:"_30DTd",rowMain:"_30g32",rowCheckbox:"_2Udp2",rowLabel:"_1y-Zl",disabled:"_1NEsd",loadingSpinner:"_2n6v4",searchBackground:"_3vw40"}},452256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={panel:"_3uAVK",tileContainer:"EaOPm",imageTile:"E1jgn",imageThumb:"_1U5WJ",deleteIcon:"_1NMTZ",btnAddContainer:"_3wnSe",btnAddText:"_2ipxB",errorMessage:"_3X07T"}},515148:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={list:"_1qEkD",noSections:"_3mxUU"}},635263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={title:"_1kkFH"}},585951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={imageGallery:"_19u-3",imageGalleryList:"_2PoM9",imageGalleryItem:"_2SRCV",imageGalleryItemSpacer:"_3pabu",imageGalleryItemImage:"_1UlsT",imageGalleryItemOverlay:"_3q8nB",selected:"Gqorz",imageGalleryFooter:"_1jDvB",focusAnimation:"_3REkg",focusAnimationKeyframes:"upbys"}},867109:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"HP5-u",previewOnly:"_14E9W",documentPreview:"_1N4Z2",dropOverlay:"_1unEs",dropOverlayOutline:"_2MD70",spinner:"byFMa",footer:"O2_ew",addMediaButton:"_3NnCl",addMediaButtonDisabled:"_3Ka-4",filmstripContainer:"YB9dD",thumbs:"_3Cxfu",sendButton:"_3wFFT",captureFooter:"_2YwjO"}},530728:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_2l8Ym",header:"McTiQ",headerRight:"_2tgTl",canvasContainer:"_2RqWa",cropRotateContainer:"_2gvlN",closeButton:"_2QnjM",closeButtonPlaceholder:"_3-5gk",canvas:"-YT7w",footer:"_2Cdbt",bottomToolbar:"_3-sOG",captionInputContainer:"_3yjTi",captionInputHidden:"_28YM9"}},929087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={thumb:"_2xeDc",active:"_3yUIy",bodyWrapper:"_1cFYC",body:"_1Pr6q",bodyIcon:"_1FeQF",btnDelete:"_3eK6Q"}},539858:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_1JOe-"}},862981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_3ut4y",cropperContainer:"_2ki6c"}},581530:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_2UoIS",footer:"_34oq2"}},583385:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_99Ap5",selected:"_33NVm",disabled:"_1DuPH",icon:"_2bvSw",rotate:"_1r_s0",body:"_2I_tR",caret:"_2ZRPr"}},943208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_2c7WD",colorChipsContainer:"_1acBm"}},388282:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={colorButton:"_3F0S-",primaryColorChip:"_3ibOQ",primaryColorChipMedium:"_2gR5s",secondaryColorChip:"_1NW2k",active:"V-8sQ",hover:"_1QPYF",selected:"kK6zQ",colorChipWithBorder:"_1kVAh"}},81447:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_34shT",rotateLeftButton:"_2jAhY"}},398464:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_2Q8Lg",fontLabel:"_2BrYA",icon:"_3nfm9"}},610255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={item:"_2ImRZ",selected:"_25R64",sansSerif:"_20YSW",serif:"_1EoCE",noricanRegular:"_2996J",bryndanWrite:"_35IJ6",oswaldHeavy:"_1A4o4",alignmentContainer:"_2XDBQ",alignmentIcon:"_1gr8n",alignmentIconSelected:"_3vEP7"}},715723:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={cirle:"_34PK2",circleFilled:"_3GMgQ",unchecked:"_1CXf5",checked:"_3QTQd"}},505847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"W3geq",thicknessButton:"_3Bwvs",thicknessChip:"_2A3hZ",selected:"_2_MQq"}},893320:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={defaultGroupIcon:"ubD1k"}},111457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_16tdz",media:"_3DjVv"}},662519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_25eij",media:"_2-nkR",document:"_1pyNm",text:"_3vz6x",icon:"_3mFGD"}},356933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_1HUcQ",media:"_1nMFv",img:"o9U1N",audio:"_1MgeQ",videoContainer:"_3qLdC",spinner:"_3KKUk",video:"K13VR",staticPreview:"_2tE0D"}},820989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={container:"_33XcX",preview:"MtkFD",caption:"_1B96F",img:"yE4aq",imgBorder:"_3WSt9"}},727011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={btnSend:"_3oDXB",attributionLink:"_1O8z3",mediaBody:"_2qwqL",attribution:"_2vDhI",footer:"_2hQ6O",containerBackground:"_2dHbO",retake:"_2_lBZ",retakeIcon:"_1BsqD",mediaElementBase:"_2nUrj",mediaElement:"_7G1ak _2nUrj",hintText:"_3vRPF"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_low_priority_components.00500304a9f58b8f0549.js.map
