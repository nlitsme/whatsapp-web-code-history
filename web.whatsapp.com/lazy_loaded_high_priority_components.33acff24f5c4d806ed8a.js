/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[7205],{960559:(u,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const e=u.normalize("NFKD");if((0,a.numCodepoints)(e)>=2)return!0;if(n.CONTAINS_EMOJI_REGEX.test(e))return!0;if(n.CONTAINS_HAN_OR_KANA_SCRIPT_REGEX.test(e))return!0;return!1};var n=t(449314),a=t(164331)},449314:(u,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTAINS_HAN_OR_KANA_SCRIPT_REGEX=e.CONTAINS_EMOJI_REGEX=void 0;e.CONTAINS_EMOJI_REGEX=/(?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))(?:[#\\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\uFE0E\uFE0F]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])/;e.CONTAINS_HAN_OR_KANA_SCRIPT_REGEX=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\u3400-\u4DBF\u4E00-\u9FFC\uF900-\uFA6D\uFA70-\uFAD9\uFF66-\uFF6F\uFF71-\uFF9D]|\uD81B[\uDFF0\uDFF1]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67]|\uD83C\uDE00|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/},314967:(u,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{tokenize(u){const e=u.toLowerCase().normalize("NFKD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").split(/\b/gi).map((u=>u.trim())).filter(Boolean).filter((u=>u.match(/[a-z0-9]+/i)));return new Set(e)}}},918708:(u,e,t)=>{"use strict";var n=t(307914);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MultiLangTokenizer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"SimpleLatinicSentenceTokenizer",{enumerable:!0,get:function(){return a.default}});var a=n(t(314967)),i=n(t(444336))},444336:(u,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(659355);const a=/(?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3030\u3038-\u303B\u303D\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u3297\u3299\u32D0-\u32FE\u3300-\u3357\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFF66-\uFF6F\uFF71-\uFF9D]|\uD81B[\uDFF0\uDFF1]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/g,i=/((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1100-\u11FF\u302E\u302F\u3131-\u318E\u3200-\u321E\u3260-\u327E\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0E01-\u0E3A\u0E40-\u0E5B])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FD4\u0FD9\u0FDA])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1000-\u109F\uA9E0-\uA9FE\uAA60-\uAA7F])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u19E0-\u19FF])+|((?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))[\u02EA\u02EB\u3105-\u312F\u31A0-\u31BF])+/g,o=/(?![\u0902\u094D])(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])+/g,s=/(?:[!-#%-\/:-@\[-`\{-~\xA1\xA7\xA8\xAB\xAC\xAF\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200D\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2118\u2140-\u2144\u214B\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u309B\u309C\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBC1\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE2\uFFE3\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1]|\uD83C[\uDFFB-\uDFFF])/g,l=/(^|(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))((?:[0-9A-Z\^`-z\xA8\xAA\xAF\xB2-\xB5\xB7-\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u034E\u0350-\u0357\u035D-\u0362\u0370-\u0377\u037A-\u037D\u037F\u0384-\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u05D0-\u05EA\u05EF-\u05F2\u0620-\u0652\u0657\u0658\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u06EE-\u06FC\u06FF\u0710\u0712-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u0815\u0818-\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08E3-\u08FE\u0904-\u0939\u093C\u093D\u094D\u0950-\u0954\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC\u09BD\u09CD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A4D\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC\u0ABD\u0ACD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0AFD-\u0AFF\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C\u0B3D\u0B4D\u0B55\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BCD\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C4D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC\u0CBD\u0CCD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3D\u0D4D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E4C\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBA\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECC\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F82-\u0F84\u0F86-\u0F8C\u0FC6\u1000-\u102A\u1037\u1039\u103A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1063-\u1066\u1069-\u1070\u1075-\u1081\u1087-\u109B\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17C9-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1939-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A75-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B05-\u1B34\u1B44-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B83-\u1BA0\u1BAA\u1BAB\u1BAE-\u1BE5\u1C00-\u1C23\u1C36\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CFA\u1D00-\u1DBF\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA67C\uA67D\uA67F-\uA69D\uA6A0-\uA6F1\uA700-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA92B-\uA92E\uA930-\uA946\uA953\uA960-\uA97C\uA984-\uA9B3\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAABF-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABE2\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3E\uFF40-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE3]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCB9\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD33\uDD34\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD73\uDD76\uDD83-\uDDB2\uDDC0-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE35\uDE36\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEE9\uDEEA\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C\uDF3D\uDF4D\uDF50\uDF5D-\uDF61\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC34\uDC42\uDC46-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC2-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDBF\uDDC0\uDDD8-\uDDDB\uDE00-\uDE2F\uDE3F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB6-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDC39\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3D-\uDD3F\uDD41\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE34\uDE3A\uDE47\uDE50\uDE5C-\uDE89\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC3F\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD42\uDD44-\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD97\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD46\uDD48-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+)["'\xAB\xBB\u2018-\u201F\u2039\u203A\u2E42\u300C-\u300F\u301D-\u301F\uFE41-\uFE44\uFF02\uFF07\uFF62\uFF63]((?:[0-9A-Z\^`-z\xA8\xAA\xAF\xB2-\xB5\xB7-\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u034E\u0350-\u0357\u035D-\u0362\u0370-\u0377\u037A-\u037D\u037F\u0384-\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u05D0-\u05EA\u05EF-\u05F2\u0620-\u0652\u0657\u0658\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u06EE-\u06FC\u06FF\u0710\u0712-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u0815\u0818-\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08E3-\u08FE\u0904-\u0939\u093C\u093D\u094D\u0950-\u0954\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC\u09BD\u09CD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A4D\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC\u0ABD\u0ACD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0AFD-\u0AFF\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C\u0B3D\u0B4D\u0B55\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BCD\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C4D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC\u0CBD\u0CCD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3D\u0D4D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E4C\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBA\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECC\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F82-\u0F84\u0F86-\u0F8C\u0FC6\u1000-\u102A\u1037\u1039\u103A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1063-\u1066\u1069-\u1070\u1075-\u1081\u1087-\u109B\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17C9-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1939-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A75-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B05-\u1B34\u1B44-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B83-\u1BA0\u1BAA\u1BAB\u1BAE-\u1BE5\u1C00-\u1C23\u1C36\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CFA\u1D00-\u1DBF\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA67C\uA67D\uA67F-\uA69D\uA6A0-\uA6F1\uA700-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA92B-\uA92E\uA930-\uA946\uA953\uA960-\uA97C\uA984-\uA9B3\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAABF-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABE2\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3E\uFF40-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE3]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCB9\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD33\uDD34\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD73\uDD76\uDD83-\uDDB2\uDDC0-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE35\uDE36\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEE9\uDEEA\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C\uDF3D\uDF4D\uDF50\uDF5D-\uDF61\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC34\uDC42\uDC46-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC2-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDBF\uDDC0\uDDD8-\uDDDB\uDE00-\uDE2F\uDE3F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB6-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDC39\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3D-\uDD3F\uDD41\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE34\uDE3A\uDE47\uDE50\uDE5C-\uDE89\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC3F\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD42\uDD44-\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD97\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD46\uDD48-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+)($|(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))/g,r=/(?:[\t\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])+/g,D=/(?:[\$\xA2-\xA5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]|\uD807[\uDFDD-\uDFE0]|\uD838\uDEFF|\uD83B\uDCB0)+/g;e.default=class{tokenize(){const u=function(u){return u.split(r)}(function(u){return u.replace(D,(u=>` ${u} `))}(function(u){return u.normalize("NFC").replace(a,(u=>` ${u} `))}(function(u){return u.normalize("NFC").replace(i,(u=>` ${u} `))}((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(l,((u,e,t,n)=>` ${t}${n} ${t} ${n} `)))))).map((u=>{let e=u;return e=function(u){return u.replace(s,"")}(e),e.length?(e.match(a)||e.match(i)?e=e.normalize("NFC"):(e=function(u){return u.replace(o,"")}(n.preNFKDNormalizer.normalize(e).normalize("NFKD")),e=e.toLocaleLowerCase("en-US"),e=n.postLowerCaseNormalizer.normalize(e)),e):e}));return new Set(u.filter((u=>!!u&&!!u.trim()&&!u.match(r))))}}},501739:(u,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(u){const e=[];this._toNormalizedFormMap=new Map,u.forEach((u=>{let[t,n]=u;this._toNormalizedFormMap.set(t,n),e.push(t)})),this._regex=new RegExp(e.join("|"),"g")}normalize(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(this._regex,(u=>{const e=this._toNormalizedFormMap.get(u);return null!=e?e:u}))}}},659355:(u,e,t)=>{"use strict";var n=t(307914);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"postLowerCaseNormalizer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"preNFKDNormalizer",{enumerable:!0,get:function(){return a.default}});var a=n(t(214371)),i=n(t(308067))},308067:(u,e,t)=>{"use strict";var n=t(307914);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=new(n(t(501739)).default)([["","i"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["",""],["",""],["",""],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","l"]]);e.default=a},214371:(u,e,t)=>{"use strict";var n=t(307914);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=new(n(t(501739)).default)([["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]]);e.default=a},31789:(u,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,e){let t;if(u.size!==e.size)return!1;for(const[n,a]of u)if(t=e.get(n),t!==a||void 0===t&&!e.has(n))return!1;return!0}},625780:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.sendRequestPhoneNumber=function(){return c.apply(this,arguments)};var a=n(t(348926)),i=t(535470),o=t(40234),s=n(t(670119)),l=n(t(465212)),r=t(115461),D=t(623631),d=t(978820);function c(){return(c=(0,a.default)((function*(u){const e=u.id.toString();if(!u.id.isLid())throw __LOG__(4,void 0,new Error)`requestPhoneNumber should not be called for non lid chat ${e}`,new Error("requestPhoneNumber should not be called for non lid chat");const t=u.contact;if(t.isUser&&t.isContactBlocked)throw new s.default("request phone number for a blocked contact",t);const n=(0,d.getMaybeMeLid)();if(null==n)return;const a=new l.default({id:l.default.newId(),remote:u.id,fromMe:!0}),c={type:r.MSG_TYPE.REQUEST_PHONE_NUMBER,ack:i.ACK.CLOCK,from:n,to:u.id,id:a,local:!0,isNewMsg:!0,self:"out",t:o.Clock.globalUnixTime()};yield(0,D.addAndSendMsgToChat)(u,c)[1]}))).apply(this,arguments)}},616419:(u,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{contact:e,onClick:t,contextMenu:o,isPendingParticipant:s,contextEnabled:l,onContext:r,theme:D,showStatusRingAroundProfilePhoto:d}=u,c=(0,a.useModelValues)(u.participant,["isAdmin"]);return(0,i.jsx)(n.Contact,{contact:e,admin:c.isAdmin,onClick:t,theme:D||"drawer-list",contextEnabled:()=>null!=l&&l(e),contextMenu:o,onContext:u=>null==r?void 0:r(u,e),isPendingParticipant:s,showNotifyName:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:d})};var n=t(402732),a=t(735461),i=t(785893)},145863:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{autoPlay:e,url:t,onError:n,setRefAudio:A,playbackRate:p}=u,m=(0,C.useRef)(0),g=(0,C.useRef)(null),B=(0,C.useRef)(null),x=u=>{j(),null==n||n(u.target.src)},v=()=>{j()},[b,_]=(0,f.default)((()=>{if(F.Socket.state!==D.SOCKET_STATE.CONNECTED)return;if(m.current++,m.current>40)return void x({target:{src:t,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});const u=(0,a.default)(g.current,"audioElementRef.current").buffered;u.length&&u.end(0)>0&&v()}),250);function j(){_(),m.current=0}const M=()=>{m.current=0,b()};return(0,C.useEffect)((()=>{const u=g.current;!u||u.defaultPlaybackRate===p&&u.playbackRate===p||(u.defaultPlaybackRate=u.playbackRate=null!=p?p:1)})),(0,E.useListener)(g.current,"error",x,{capture:!0}),(0,E.useListener)(g.current,"playing",v),(0,C.useEffect)((()=>((s.UA.isGecko||s.UA.isSafari)&&(e||e)&&M(),()=>{var u;null===(u=B.current)||void 0===u||u.call(B),s.UA.isBlink&&g.current&&(0,r.default)(g.current)})),[]),(0,E.useListener)(!s.UA.isGecko&&!s.UA.isSafari||e?null:g.current,"play",M),(0,h.jsxs)("div",{className:u.className,children:[(0,h.jsx)("audio",{ref:u=>{var e;g.current=u,null===(e=B.current)||void 0===e||e.call(B),B.current=null==u?null:i.MainAudioChannel.registerMedia(u),null!=A&&A(u)},className:l.default.audioTag,src:u.url,onClick:u.onClick,controls:u.controls,preload:u.preload,autoPlay:u.autoPlay,children:u.children}),(0,o.receiveReactionsEnabled)()&&(0,h.jsx)(d.default,{msgIds:[u.msg.id.toString()],reactionBubbleType:c.ReactionBubbleType.MEDIA_ITEM})]})};var a=n(t(145095)),i=t(422712),o=t(408139),s=t(26741),l=n(t(59828)),r=n(t(858528)),D=t(662583),d=n(t(752500)),c=t(694270),F=t(765044),C=t(667294),f=n(t(970393)),E=t(587550),h=t(785893)},5577:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{docMsgs:e,chat:t,isFilterEnabled:n=!1,filterText:h}=u,A=(0,i.default)(u,E),p=(0,C.default)(),m=(0,c.default)((()=>new D.default((u=>{const e=[],t=u.text;null!=t&&e.push(t);const n=u.mediaData.filename;return e.push(n),e.join(" ")}))));(0,F.useListener)(e,"add",(u=>{n&&m.current.cacheMessageTokens(u)})),(0,F.useListener)(e,"remove",(u=>{n&&m.current.removeMessageTokensFromCache(u)})),(0,F.useListener)(e,"reset",(()=>{n&&m.current.clearTokensCache()})),(0,d.useEffect)((()=>{n&&e.forEach((u=>{m.current.cacheMessageTokens(u)}))}),[e,m,n]);const g=n?(u,e)=>m.current.filter(u,h,e):void 0;let B;(0,o.isMDBackend)()&&(B=(0,f.jsx)(s.HistorySyncGalleryPlaceholder,{chat:t}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.default,(0,a.default)({msgsCollection:e,msgsCollectionUpdateEvents:["add","remove","reset","query_doc_before"],queryCollection:u=>{e.hasDocBefore&&p((()=>{e.queryDocs(t,u)}))},getHasBefore:()=>e.hasDocBefore,getQueryBefore:()=>e.queryDocBefore,emptyText:l.default.t(518),chat:t,filterMessages:g},A)),B]})};var a=n(t(81109)),i=n(t(506479)),o=t(88555),s=t(652294),l=n(t(568064)),r=n(t(219593)),D=n(t(442307)),d=t(667294),c=n(t(616223)),F=t(587550),C=n(t(174570)),f=t(785893);const E=["docMsgs","chat","isFilterEnabled","filterText"]},561086:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.BaseEphemeralSettingRow=A,e.EphemeralSettingRow=function(u){const{chat:e,groupMetadata:t,onClick:n,testid:a}=u;if(t)return(0,f.jsx)(h,{groupMetadata:t,onClick:n,testid:a});return(0,f.jsx)(E,{chat:e,onClick:n,testid:a})};var a=t(48826),i=n(t(568064)),o=t(914597),s=t(113923),l=t(782109),r=t(161509),D=t(779259),d=n(t(575116)),c=n(t(452665)),F=t(548360),C=t(735461),f=t(785893);const E=function(u){const{onClick:e,testid:t}=u,n=(0,C.useModelValues)(u.chat,["contact","ephemeralDuration"]),i=()=>{var u;return null!==(u=n.ephemeralDuration)&&void 0!==u?u:0},s=()=>{n.contact.addPendingAction((0,a.unblockContact)(n.contact)).then((()=>{e(),o.ModalManager.close()})).catch((()=>{}))},l=()=>{o.ModalManager.close()};return(0,f.jsx)(A,{ephemeralDuration:i(),canChange:!0,onClick:()=>{n.contact.isContactBlocked?o.ModalManager.open((0,f.jsx)(c.default,{onOK:s,okText:F.fbt._("Unblock",null,{hk:"hnS4w"}),onCancel:l,children:i()?F.fbt._("You can't turn off disappearing messages for this chat unless you unblock this contact.",null,{hk:"o3zdA"}):F.fbt._("You can't turn on disappearing messages for this chat unless you unblock this contact.",null,{hk:"1uAyoI"})})):e()},testid:t})};const h=function(u){var e;const{onClick:t,testid:n}=u,a=(0,C.useModelValues)(u.groupMetadata,["ephemeralDuration","participants"]),i=()=>{o.ModalManager.close()};return(0,f.jsx)(A,{ephemeralDuration:null!==(e=a.ephemeralDuration)&&void 0!==e?e:0,canChange:a.canSetEphemeralSetting(),onClick:()=>{a.canSetEphemeralSetting()?t():o.ModalManager.open((0,f.jsx)(c.default,{onOK:i,okText:F.fbt._("OK",null,{hk:"2KEeHb"}),children:F.fbt._("Only admins can change this setting.",null,{hk:"1NF1gS"})}))},testid:n})};function A(u){const{ephemeralDuration:e,canChange:t,onClick:n,testid:a}=u;let o;o=e>0?t?(0,D.getDisappearingMessageDurationString)(e):(0,r.isKeepInChatVisibleUIEnabled)()?(0,l.getDisappearingMessageExplanationStringKic)(e):(0,D.getDisappearingMessageExplanationString)(e):i.default.t(293);const c=(0,f.jsx)(s.TextSpan,{theme:"title",children:F.fbt._("Disappearing messages",null,{hk:"384ocn"})}),C=(0,f.jsx)(s.TextDiv,{theme:"muted",testid:"chat-dm-settings-item-value",children:o});return(0,f.jsx)(d.default,{side:"chevron",icon:"disappearing",onClick:n,title:c,secondaryTitle:C,testid:a})}},893528:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{linkMsgs:e,chat:t,selectedMessages:n,selectable:m,onMessageSelect:g,isFilterEnabled:B=!1,filterText:x}=u,v=(0,h.default)(),b=(0,f.default)((()=>new c.default((u=>u.text))));(0,E.useListener)(e,"add",(u=>{B&&b.current.cacheMessageTokens(u)})),(0,E.useListener)(e,"remove",(u=>{b.current.removeMessageTokensFromCache(u)})),(0,E.useListener)(e,"reset",(()=>{B&&b.current.clearTokensCache()})),(0,C.useEffect)((()=>{B&&e.forEach((u=>{b.current.cacheMessageTokens(u)}))}),[e,b,B]),(0,E.useListener)(t.msgs,"add bulk_add",(u=>{if(!u)return;const t=[],n=Array.isArray(u)?u:[u];Promise.all(n.map((u=>(u.getLinks().length&&t.push(u),Promise.resolve())))).then((()=>{t.length&&e.add(t)}))}));const _=B?(u,e)=>b.current.filter(u,x,e):void 0;let j;(0,o.isMDBackend)()&&(j=(0,A.jsx)(l.HistorySyncGalleryPlaceholder,{chat:u.chat}));const{linkMsgs:M,chat:k,filterText:S,isFilterEnabled:y}=u,T=(0,i.default)(u,p);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.default,(0,a.default)({msgsCollection:e,msgsCollectionUpdateEvents:["add","remove","reset","query_doc_before"],queryCollection:u=>{e.hasLinkBefore&&v((()=>{e.queryLinks(t,u)}))},getHasBefore:()=>e.hasLinkBefore,getQueryBefore:()=>e.queryLinkBefore,messageElements:(u,e)=>{const t=[];return u.forEach((u=>{const a=!u.isSentByMe&&u.isGroupMsg;let i=null;u.linkPreview&&(i=(0,A.jsx)(F.default,{msg:u,selectable:m,selectedMessages:n,onMessageSelect:g,displayType:s.DISPLAY_TYPE.GALLERY_LINKS,onClickMsg:e},u.id.toString())),u.getGalleryLinks().forEach(((o,s)=>{o.href===u.matchedText&&null!=i||t.push((0,A.jsx)(D.default,{msg:u.safe(),link:o,displayAuthor:a,selectable:m,selectedMessages:n,onMessageSelect:g,onClickMsg:e},`${u.id.toString()}-${s}`))})),null!=i&&t.push(i)})),t.reverse(),t},emptyText:r.default.t(520),chat:t,filterMessages:_},T)),j]})};var a=n(t(81109)),i=n(t(506479)),o=t(88555),s=t(705177),l=t(652294),r=n(t(568064)),D=n(t(936576)),d=n(t(219593)),c=n(t(442307)),F=n(t(335563)),C=t(667294),f=n(t(616223)),E=t(587550),h=n(t(174570)),A=t(785893);const p=["linkMsgs","chat","filterText","isFilterEnabled"]},936576:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{link:e,displayAuthor:t,selectedMessages:n,onMessageSelect:g,onClickMsg:B}=u,x=(0,p.useModelValues)(u.msg,["body","caption","dir","id","isSentByMe","mediaData","type","rtl","senderObj","star","mediaData","asRevoked","isKept"]),[v,b]=(0,h.useState)(!1),[_,j]=(0,h.useState)((()=>n.isSelected(x.unsafe())));(0,A.useListener)(n,x.id.toString(),(u=>{_!==u&&j(u)}));const M=u.selectable||v?(0,m.jsx)(F.default,{checked:_,onClick:u=>{u&&u.stopPropagation(),g(x.unsafe(),!_)},msgTheme:"gallery"}):null,k=(0,f.Conversation)({mentions:x.mentionMap(),links:x.getLinks(),phoneNumbers:x.getPhoneNumbers(),selectable:true,trusted:x.isTrusted(),fromMe:x.id.fromMe}),S=x.body&&x.body.includes(e.url)?x.body:x.caption,y=t?(0,m.jsx)("div",{className:l.default.author,children:(0,m.jsx)(r.default,{msg:x,contact:x.senderObj})}):null,T=x.getSuspiciousLinks().length>0;return(0,m.jsx)(d.default,{hover:v,onClick:()=>{B(x.unsafe(),!_)},onMouseEnter:v?null:()=>{v||b(!0)},onMouseOver:v?null:()=>{v||b(!0)},onMouseLeave:v?()=>{v&&b(!1)}:null,children:(0,m.jsxs)("div",{className:l.default.msg,children:[(0,m.jsx)(o.default,{transitionName:"delay-leave",children:M}),(0,m.jsx)(C.MessageContainer,{isSentByMe:x.isSentByMe,children:(0,m.jsxs)("div",{className:(0,E.default)(l.default.bubble,{[l.default.hasAuthor]:t,[l.default.hasSuspiciousLinks]:T}),children:[y,(0,m.jsx)(D.SuspiciousLabel,{link:e,displayType:a.DISPLAY_TYPE.GALLERY}),(0,m.jsx)(c.default,{title:e.url,isSentByMe:x.isSentByMe,canonicalUrl:e.domain,displayType:a.DISPLAY_TYPE.GALLERY,star:x.star,kept:x.isKept}),(0,m.jsx)(s.EmojiText,{text:S,selectable:true,className:l.default.text,dirMismatch:x.rtl!==i.default.isRTL(),direction:x.dir,formatters:k})]})})]})})};var a=t(705177),i=n(t(568064)),o=n(t(540436)),s=t(965417),l=n(t(808767)),r=n(t(572655)),D=t(307538),d=n(t(23296)),c=n(t(151845)),F=n(t(820485)),C=t(617395),f=t(374331),E=n(t(294184)),h=t(667294),A=t(587550),p=t(735461),m=t(785893)},188224:(u,e,t)=>{"use strict";var n=t(280366).default,a=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{fullCollection:e,selectedMessages:t,mediaMsgs:a,selectable:D,onMessageSelect:C,theme:p,isFilterEnabled:P=!1,filterText:w}=u,I=(0,j.useModelValues)(u.chat,["linkCount","docCount","productCount","endOfHistoryTransferType"]),[N,R]=(0,g.useState)((()=>a.toArray())),O=(0,x.default)((()=>new m.default((u=>u.text)))),L=(0,g.useRef)(null),G=(0,S.default)(),V=(0,g.useRef)(),U=(0,B.default)(),z=(0,g.useCallback)(function(){var u=(0,i.default)((function*(u){var e;if(null===(e=V.current)||void 0===e||e.abort(),!P)return R(a.toArray()),void U();V.current=new n;const t=V.current.signal;try{const e=yield O.current.filter(a,u,t);t.aborted||G.aborted||(R(e),U())}catch(u){if(u.name!==r.ABORT_ERROR)throw u}}));return function(){return u.apply(this,arguments)}}(),[a,O,P,U,G]);(0,v.useListener)(a,["add","remove","reset","query_media_before"],(()=>z(w))),(0,g.useEffect)((()=>(z(w),()=>{var u;return null===(u=V.current)||void 0===u?void 0:u.abort()})),[z,w]),(0,v.useListener)(a,"add",(u=>{P&&O.current.cacheMessageTokens(u)})),(0,v.useListener)(a,"remove",(u=>{t&&t.isSelected(u)&&t.setVal(u,!1),P&&O.current.removeMessageTokensFromCache(u)})),(0,v.useListener)(a,"reset",(()=>{t&&t.unsetAll(),P&&O.current.clearTokensCache()})),(0,g.useEffect)((()=>{P&&a.forEach((u=>{O.current.cacheMessageTokens(u)}))}),[a,O,P]);const H=function(u,e,t,n,a,i){let r=null;const D=(0,l.default)(u,(u=>-u.t)).filter(T).slice(0,!0===e?u.length:6);return(0,s.default)(D,((u,s)=>{const l=!0!==e?"chatInfo":void 0,D=(0,y.jsx)(E.default,{aspectRatio:i?1.1:1,msg:u,hoverEvent:e,selectable:t,selectedMessages:n,onMessageSelect:a,theme:l,hideableSecondRow:!0!==e&&s>=3&&s<=5},u.id.toString());if(!0!==e)return[D];const c=d.Clock.monthStr(u.t);if(c!==r){r=c;const e=(0,y.jsx)(h.default,{children:c},`header-${u.t}`);return[...(0,o.default)(6,(e=>(0,y.jsx)(A.EmptyCanvas,{},`padding-${u.t}-${e}`))),e,D]}return[D]}))}(N,e,D,t,C,"chat-info"===p),q=(0,k.default)(),W=(0,M.default)((u=>{a.hasMediaBefore&&q((()=>{a.queryMedia({chat:(0,f.unproxy)(I),msg:u})}))}),100),Y=(0,M.default)((u=>{a.hasMediaBefore&&u.scrollTop+c.SCROLL_FUDGE>u.scrollHeight-u.clientHeight&&W(a.head())}),100),[K,{height:X}]=(0,b.default)(),Z=(0,_.default)(K,L);return(0,g.useEffect)((()=>{P&&a.hasMediaBefore&&!a.queryMediaBefore&&null!=L.current&&L.current.scrollHeight<X+c.SCROLL_FUDGE&&W(a.head())})),(0,g.useEffect)((()=>{a.hasMediaBefore&&W()}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(A.MediaGalleryView,{ref:Z,medias:H,mediaCollection:a,fullCollection:e,chat:(0,f.unproxy)(I),onScroll:u=>{Y(u.currentTarget)},theme:p}),"chat-info"!==p&&(0,y.jsx)(F.HistorySyncGalleryPlaceholder,{chat:I})]})};var i=a(t(348926)),o=a(t(498913)),s=a(t(594654)),l=a(t(189734)),r=t(389385),D=t(88555),d=t(40234),c=t(941906),F=t(652294),C=t(408139),f=t(204818),E=a(t(811858)),h=a(t(973307)),A=t(860263),p=t(341908),m=a(t(442307)),g=t(667294),B=a(t(859312)),x=a(t(616223)),v=t(587550),b=a(t(248711)),_=a(t(778506)),j=t(735461),M=a(t(290886)),k=a(t(174570)),S=a(t(803409)),y=t(785893);function T(u){return!!(0,C.isMediaGalleryFixEnabled)()||(!(0,D.isMDBackend)()||(0,p.hasThumbnail)(u.mediaData))}},811858:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{msg:e,hoverEvent:t,selectable:n,onMessageSelect:C,theme:f,selectedMessages:E}=u,[h,A]=(0,d.useState)((()=>!(!E||!E.isSelected(e)))),p=(0,d.useRef)(null);(0,c.useListener)(E,e.id.toString(),(u=>{E&&h!==u&&A(u)}));const m=e.mediaData,g=m.type===s.default.TYPE.IMAGE&&m.renderableUrl?u=>{u.nativeEvent.dataTransfer.setData("text/uri-list",e.mediaData.renderableUrl)}:null;return(0,F.jsx)(r.MediaThumb,{onClick:u=>{if(n&&C)return void C(e,!h);if(m.mediaStage===l.MEDIA_DATA_STAGE.ERROR_MISSING)return void i.ModalManager.open((0,F.jsx)(D.default,{msg:e}));let t;u&&u.stopPropagation();const r=e.id;if(m.isGif||m.type===s.default.TYPE.IMAGE){const u=p.current;t=e=>r.equals(e)&&u?u:null}a.Cmd.mediaViewerModal({msg:(0,o.unproxy)(e),getZoomNode:t})},hoverEvent:t,selectable:n,selected:h,onMessageSelect:C,onDragStart:g,msg:e,theme:f,imgRef:u=>{p.current=u},aspectRatio:u.aspectRatio,hideableSecondRow:u.hideableSecondRow})};var a=t(781572),i=t(914597),o=t(204818),s=n(t(502320)),l=t(58668),r=t(341908),D=n(t(320668)),d=t(667294),c=t(587550),F=t(785893)},973307:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){return(0,o.jsx)("div",{className:(0,i.default)(s.container,a.isOSMac&&s.fontWeight500),children:u.children})};var a=t(377144),i=n(t(156720)),o=t(785893);const s={container:{width:"ee0xuasv",marginTop:"opp68qpq",marginEnd:"jnwc1y2a",marginBottom:"brac1wpa",marginStart:"svoq16ka",fontSize:"ovllcyds",color:"mfzfak1c",textTransform:"ofejerhi","@media (max-width: 1024px)":{width:"ndsmr6pb"},"@media (max-width: 800px)":{width:"btsmn2h9"}},fontWeight500:{fontWeight:"hnx8ox4h"}}},341908:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.MediaThumb=function(u){var e;const{msg:t,selectable:n,theme:d,active:S,imgRef:y,containerRef:T,onMessageSelect:P,selected:w=!1,onClick:I,onDragStart:N,preferPreview:R,hideableSecondRow:O}=u,L=(0,B.default)(),G=(0,m.useRef)(null),V=(0,m.useRef)(null),U=(0,m.useRef)(null),[z,H]=(0,m.useState)(!1),[q,W]=(0,m.useState)(null);(0,v.useModelValues)(t,["isKept","star"]),(0,x.useListener)(t.mediaData,["change:preview","change:mediaStage"],L);(0,m.useEffect)((()=>(null==y||y(G.current),null==T||T(V.current),null==t.mediaData.preview&&null==t.mediaData.fullPreviewData&&(t.mediaData.type!==c.default.TYPE.IMAGE&&t.mediaData.type!==c.default.TYPE.VIDEO||t.downloadMedia({downloadEvenIfExpensive:!1,isUserInitiated:!1,rmrReason:i.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER})),()=>{null==y||y(null),null==T||T(null)})),[]),(0,m.useEffect)((()=>{null==y||y(G.current),null==T||T(V.current)}),[y,T,G,V]);const Y=()=>{P&&P(t,!w)},K=()=>{z||H(!0)},X=e=>{if(!0!==u.showTooltip||"viewerFlowTransparent"===d||!(e instanceof HTMLElement))return null;const n=e.offsetWidth;return{menu:(0,_.jsx)(E.default,{msg:t}),anchor:e,dirY:f.DirY.TOP,dirX:f.DirX.CENTER,offsetX:!0===S?.5*-n*.13:0,type:f.MenuType.Tooltip}},[Z,$]=(0,b.useTimeout)((()=>{var u;U.current&&(u=U.current,W(X(u)))}),500),J=u=>{var e;z||(u.persist(),H(!0),e=u.target,U.current=e,Z())},Q=()=>{z&&($(),H(!1),W(null))},uu=function(u){const{mediaStage:e,preview:t,fullPreviewData:n}=u;switch(e){case F.MEDIA_DATA_STAGE.RESOLVED:case F.MEDIA_DATA_STAGE.PROGRESSIVE_READY:case F.MEDIA_DATA_STAGE.EXISTS:return M.Ready;case F.MEDIA_DATA_STAGE.INIT:return null!=t||null!=n?M.Ready:M.Loading;case F.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:case F.MEDIA_DATA_STAGE.NEED_UPLOAD:return M.NeedsUpload;case F.MEDIA_DATA_STAGE.FETCHING:case F.MEDIA_DATA_STAGE.DECRYPTING:case F.MEDIA_DATA_STAGE.PREPARING:case F.MEDIA_DATA_STAGE.UPLOADING:case F.MEDIA_DATA_STAGE.SENDING:case F.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case F.MEDIA_DATA_STAGE.FINALIZING:case F.MEDIA_DATA_STAGE.REUPLOADING:return M.Loading;case F.MEDIA_DATA_STAGE.NEED_POKE:return M.NeedsPoke;case F.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:case F.MEDIA_DATA_STAGE.ERROR_MISSING:case F.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case F.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:return M.Error}}(t.mediaData);let eu;(!0===n||z&&u.hoverEvent)&&(eu=(0,_.jsxs)("div",{className:(0,g.default)(j.mediaSelect),children:[(0,_.jsx)("div",{className:(0,g.default)(j.shadeTop,w&&j.shadeTopSelected,uu!==M.Ready&&j.noPointerEvents),onClick:u.onClick}),(0,_.jsx)(C.default,{onChange:Y,hover:z,checked:w})]}));const tu=(0,g.default)(j.canvasComponent,"chatInfo"!==d&&j.mediaGalleryThumbnail,"chatInfo"===d&&j.chatInfoDrawerThumbnail,Boolean(O)&&j.hideableSecondRow,("viewerFlow"===d||"viewerFlowTransparent"===d)&&j.viewerFlow,"viewerFlowTransparent"===d&&j.viewerFlowTransparent,Boolean(S)&&j.active),nu=Boolean((0,D.isKeepInChatReadEnabled)()&&t.isKept),au=t.star?(0,_.jsx)("div",{className:(0,g.default)(j.icon),children:(0,_.jsx)(h.default,{name:"star",width:16,height:15})}):null,iu=nu?(0,_.jsx)("div",{className:(0,g.default)(j.icon),children:(0,_.jsx)(h.default,{name:"keep-in-chat",width:15.64,height:14.67})}):null,ou=k(t.mediaData),su=q?(0,_.jsx)(A.UIE,{displayName:"MediaThumbTitle",popable:!0,escapable:!0,requestDismiss:()=>{W(null)},requestRecentFocusOnUnmount:!1,children:(0,_.jsx)(p.default,{tooltip:q})}):null,lu={paddingTop:1/(null!==(e=u.aspectRatio)&&void 0!==e?e:1)*100+"%"},ru=function(){let u=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.downloadMedia({downloadEvenIfExpensive:u,isUserInitiated:!1,rmrReason:i.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER})};if((0,a.isMediaGalleryFixEnabled)()){let e;switch(uu){case M.Loading:e=(0,_.jsx)(r.MediaThumbLoading,{mediaType:t.mediaData.type});break;case M.NeedsPoke:e=(0,_.jsx)(r.MediaThumbNeedsPoke,{onClick:()=>ru(!0)});break;case M.Error:e=(0,_.jsx)(r.MediaThumbError,{onClick:u.onClick,mediaType:t.mediaData.type});break;case M.NeedsUpload:case M.Ready:e=null}return(0,_.jsxs)("div",{ref:V,className:tu,"data-testid":"media-canvas",onMouseOver:K,onMouseEnter:J,onMouseLeave:Q,children:[eu,(0,_.jsxs)("div",{className:(0,g.default)(j.canvasBody,w&&j.canvasBodySelected),children:[(0,_.jsx)(l.default,{mediaData:t.mediaData}),(0,_.jsx)(s.default,{mediaData:t.mediaData,selected:w}),(0,_.jsxs)("div",{className:(0,g.default)(j.iconsContainer),children:[au,iu]})]}),(0,_.jsx)(o.default,{downloadMedia:ru,onClick:I,onDragStart:N,preferPreview:R,ref:G,msg:t}),su,e,(0,_.jsx)("div",{style:lu})]})}return ou?(0,_.jsxs)("div",{ref:V,className:tu,"data-testid":"media-canvas",onMouseOver:K,onMouseEnter:J,onMouseLeave:Q,children:[eu,(0,_.jsxs)("div",{className:(0,g.default)(j.canvasBody),children:[(0,_.jsx)(l.default,{mediaData:t.mediaData}),(0,_.jsx)(s.default,{mediaData:t.mediaData,selected:w}),(0,_.jsxs)("div",{className:(0,g.default)(j.iconsContainer),children:[iu,au]})]}),(0,_.jsx)(o.default,{downloadMedia:ru,onClick:I,onDragStart:N,preferPreview:R,ref:G,msg:t}),su,(0,_.jsx)("div",{style:lu})]}):null},e.hasThumbnail=k;var a=t(408139),i=n(t(471410)),o=n(t(797665)),s=n(t(305471)),l=n(t(319395)),r=t(990423),D=t(161509),d=t(284866),c=n(t(502320)),F=t(58668),C=n(t(309275)),f=t(160811),E=n(t(708488)),h=n(t(23217)),A=t(718644),p=n(t(146780)),m=t(667294),g=n(t(156720)),B=n(t(859312)),x=t(587550),v=t(735461),b=t(346428),_=t(785893);const j={noPointerEvents:{pointerEvents:"m62443ks"},iconsContainer:{display:"p357zi0d",position:"lhggkp7q",end:"mf2g8abl",bottom:"lrw9n60e"},icon:{color:"k17s6i4e",pointerEvents:"m62443ks"},shadeTop:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"lniyxyh2",cursor:"ajgl1lbb",backgroundImage:"fwz54z48"},shadeTopSelected:{display:"qibyn6m3"},canvasBody:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"b9fczbqn",boxSizing:"cm280p3y",width:"ln8gz9je",height:"ppled2lx",overflowX:"gfz4du6o",overflowY:"r7fjleex",pointerEvents:"m62443ks",borderTopColor:"rqga0wu5",borderEndColor:"ayqm650w",borderBottomColor:"sb46ev41",borderStartColor:"q8kvkxy1",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopWidth:"fl2x09zf",borderEndWidth:"r2wk4q3o",borderBottomWidth:"nnij903c",borderStartWidth:"lr2nq6lc",transition:"pcik6s50",backgroundImage:"oxe6ytxh"},canvasBodySelected:{borderTopWidth:"c30xqvpq",borderEndWidth:"afj3pimr",borderBottomWidth:"hdjlbwd0",borderStartWidth:"e6y86myk"},mediaGalleryThumbnail:{overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundColor:"fvb4mgxr",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9"},chatInfoDrawerThumbnail:{backgroundColor:"kqvcv5rh",marginEnd:"bugiwsl0",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},mediaSelect:{position:"lhggkp7q",top:"qq0sjtgm",zIndex:"g2bpp9au",boxSizing:"cm280p3y",width:"ln8gz9je",paddingTop:"qomlamqu",paddingStart:"mc6o24uu"},canvasComponent:{position:"g0rxnol2",width:"d0st09ow",marginEnd:"ikc09dv3",marginBottom:"hha4v2jc",overflowX:"gfz4du6o",overflowY:"r7fjleex","@media (max-width: 1024px)":{width:"bazijzwv"},"@media (max-width: 800px)":{width:"n0hkwe29"}},hideableSecondRow:{display:"qibyn6m3","@media (max-width: 1024px)":{display:"s9437i69"},"@media (max-width: 800px)":{display:"g3bgiwf5"}},viewerFlow:{position:"g0rxnol2",boxSizing:"cm280p3y",display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"oxqu41e7",minWidth:"bar07sny",maxWidth:"ttwqun4y",height:"jbydbyre",marginEnd:"ikc09dv3",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",overflowX:"gfz4du6o",overflowY:"r7fjleex",cursor:"ajgl1lbb",opacity:"bs7a17vp",transition:"kvhexry3",":hover":{outline:"pzeoqukz"}},viewerFlowTransparent:{opacity:"eu4m05gk"},active:{borderTop:"jmaq5bi8",borderEnd:"popit0kw",borderBottom:"iur5tn1g",borderStart:"qrr5pbl4",transform:"of0uvz1c",":hover":{outline:"iqk5z7se"}}},M=t(76672).Mirrored(["Loading","Ready","Error","NeedsPoke","NeedsUpload"]);function k(u){if((0,a.isMediaGalleryFixEnabled)())return!0;switch(u.type){case c.default.TYPE.VIDEO:case c.default.TYPE.IMAGE:if(null!=u.preview||null!=u.fullPreviewData||u.mediaStage===F.MEDIA_DATA_STAGE.RESOLVED)return!0;if(d.MediaBlobCache.has(u.filehash)){try{d.MediaBlobCache.getOrCreateURL(u.filehash)}catch(u){return!1}return!0}return!1;default:return!0}}},797665:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(81109)),i=n(t(534949)),o=n(t(220553)),s=n(t(502320)),l=t(58668),r=t(667294),D=n(t(156720)),d=t(785893);const c={blur:{filter:"hddtmpml"},mediaCanvas:{backgroundPosition:"t3g6t33p",backgroundSize:"qnwaluaf",boxSizing:"cm280p3y",cursor:"ajgl1lbb",height:"ppled2lx",left:"tukmaf4q",position:"lhggkp7q",top:"qq0sjtgm",transform:"p5jrpzbl",transition:"g6mp970w",width:"ln8gz9je",zIndex:"jnl3jror"},shade:{background:"d9ddx5tg",bottom:"jxacihee",height:"jdwybkuq",left:"tukmaf4q",pointerEvents:"m62443ks",position:"lhggkp7q",width:"ln8gz9je"}},F=(0,r.forwardRef)(((u,e)=>{let{children:t,className:n,shade:a,url:i,onClick:o,onDragStart:s}=u;const l=!0===a?(0,d.jsx)("div",{className:(0,D.default)(c.shade)}):null,r=null!=i&&""!==i?{backgroundImage:`url(${i})`}:null;return(0,d.jsxs)("div",{className:n,"data-testid":"media-canvas-img",style:r,onClick:o,ref:e,onDragStart:s,draggable:null!=s||null,children:[t,l]})})),C=(0,r.forwardRef)(((u,e)=>{let{mediaData:t,onClick:n,onDragStart:a,shade:o,shouldApplyBlur:s,url:l}=u;return(0,d.jsx)(F,{ref:e,onClick:n,onDragStart:a,className:(0,D.default)(c.mediaCanvas,!!s&&c.blur),shade:o,url:t.preview instanceof i.default?t.preview.url():null,children:null!=l?(0,d.jsx)("div",{className:(0,D.default)(c.mediaCanvas),style:{backgroundImage:`url(${l})`}}):null})}));C.displayName="ImageThumb";const f=(0,r.forwardRef)(((u,e)=>{let{mediaData:t,onClick:n,onDragStart:a,shade:i,shouldApplyBlur:o,url:s}=u;return null!=t.preview?(0,d.jsx)(C,{ref:e,onClick:n,onDragStart:a,mediaData:t}):(0,d.jsx)(F,{ref:e,onClick:n,onDragStart:a,className:(0,D.default)(c.mediaCanvas),shade:i})}));f.displayName="Placeholder";var E=(0,r.forwardRef)(((u,e)=>{let{downloadMedia:t,msg:n,onClick:r,onDragStart:E,preferPreview:h}=u;const{mediaData:A}=n,p={onClick:r,onDragStart:E,ref:e};switch(A.type){case s.default.TYPE.AUDIO:return(0,d.jsx)(F,(0,a.default)((0,a.default)({},p),{},{className:`${(0,D.default)(c.mediaCanvas)} attach-media-audio-thumb`}));case s.default.TYPE.VIDEO:{var m;const u=null==A.fullPreviewData,e=null!==(m=A.fullPreviewData)&&void 0!==m?m:A.preview,t=A.isGif&&!A.preview;return(0,d.jsx)(F,(0,a.default)((0,a.default)({},p),{},{className:`${(0,D.default)(c.mediaCanvas,u&&c.blur)} ${t?"media-video-thumb":""}`,shade:!0,url:e instanceof i.default?e.url():null}))}case s.default.TYPE.IMAGE:const u=null!=A.preview&&A.mediaStage===l.MEDIA_DATA_STAGE.NEED_POKE;return!0===h?(0,d.jsx)(f,(0,a.default)((0,a.default)({},p),{},{mediaData:A,shade:n.star,shouldApplyBlur:u})):(0,d.jsx)("div",{className:(0,D.default)(c.mediaCanvas),children:(0,d.jsx)(o.default,{mediaData:A,placeholderRenderer:()=>(0,d.jsx)(f,(0,a.default)((0,a.default)({},p),{},{mediaData:A,shade:n.star,shouldApplyBlur:u})),renderProgressively:!0,downloadMedia:t,children:e=>(0,d.jsx)(C,(0,a.default)((0,a.default)({},p),{},{mediaData:A,shade:n.star,shouldApplyBlur:u,url:e}))})});default:return(0,d.jsx)(F,(0,a.default)((0,a.default)({},p),{},{shade:n.star}))}}));e.default=E},305471:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{selected:e,mediaData:t}=u;switch(t.type){case i.default.TYPE.AUDIO:return(0,l.jsx)(d,{duration:t.duration,selected:e});case i.default.TYPE.VIDEO:return t.isGif?null:(0,l.jsx)(d,{duration:t.duration,selected:e});default:return null}};var a=t(40234),i=n(t(502320)),o=n(t(294184)),s=n(t(156720)),l=t(785893);const r={position:"lhggkp7q",bottom:"blj1rie1",left:"qwwpii8a",display:"p357zi0d",fontSize:"lak21jic",lineHeight:"bvyb7wbk",color:"pp8r7oc8",pointerEvents:"m62443ks"},D={"@media (min-width: 800px) and (max-width: 999px), (min-width: 1025px) and (max-width: 1180px)":{display:"jyd2w1n8"}};function d(u){let{duration:e,selected:t}=u;const n=a.Clock.durationStr(e);return n?(0,l.jsx)("span",{className:(0,o.default)((0,s.default)(r),{[(0,s.default)(D)]:t}),children:n}):null}},319395:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{mediaData:e}=u;if(!e)return null;const t=function(u){switch(u.type){case a.default.TYPE.AUDIO:return"msg-audio";case a.default.TYPE.VIDEO:return u.isGif?"msg-gif":"msg-video";default:return null}}(e);return null==t?null:(0,s.jsx)("div",{className:(0,o.default)(l),children:(0,s.jsx)(i.default,{name:t})})};var a=n(t(502320)),i=n(t(23217)),o=n(t(156720)),s=t(785893);const l={position:"lhggkp7q",bottom:"lrw9n60e",start:"qzp46edm",color:"k17s6i4e",pointerEvents:"m62443ks"}},990423:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.MediaThumbError=function(u){return(0,s.jsx)("button",{className:(0,o.default)(l),onClick:u.onClick,children:(0,s.jsx)(D,{mediaType:u.mediaType})})},e.MediaThumbLoading=function(u){return(0,s.jsx)("div",{className:(0,o.default)(l),children:(0,s.jsx)(D,{mediaType:u.mediaType})})},e.MediaThumbNeedsPoke=function(u){return(0,s.jsx)("div",{className:(0,o.default)(l),children:(0,s.jsx)(a.Download,{onClick:u.onClick})})};var a=t(341124),i=n(t(23217)),o=n(t(156720)),s=t(785893);const l={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"jnl3jror",boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},r={color:"cyi0n1nm"};function D(u){const e="video"===u.mediaType?"video-placeholder":"img-placeholder";return(0,s.jsx)(i.default,{name:e,className:(0,o.default)(r)})}},708488:(u,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{msg:{senderObj:{formattedShortName:e}}}=u;return(0,a.jsx)(n.TextSpan,{children:e})};var n=t(113923),a=t(785893)},219593:(u,e,t)=>{"use strict";var n=t(280366).default,a=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{getHasBefore:e,getQueryBefore:t,msgsCollection:a,msgsCollectionUpdateEvents:v,emptyText:b,scrollOffset:_=0,selectable:j,onMessageSelect:M,queryCollection:k,selectedMessages:S,messageElements:y,onProductDetail:T,setScrollOffset:P,filterMessages:w}=u,I=e(),N=t(),R=(0,C.useRef)(null),O=(0,g.default)(),L=(0,m.default)((u=>{I&&k(u)}),100),[G,V]=(0,C.useState)((()=>a.toArray())),U=(0,m.default)((u=>{const e=u.scrollHeight-u.clientHeight-u.scrollTop;I&&e<r.SCROLL_FUDGE&&L(a.head()),P&&P(u.scrollTop)}),100);(0,C.useEffect)((()=>{I&&L();const u=R.current;return u&&(u.scrollTop=_),()=>{U.cancel()}}),[]);const z=(u,e)=>{const t=(0,D.unproxy)(u);j&&void 0!==e?M(t,e):s.Cmd.openChatAt(t.chat,t.chat.getSearchContext(t))},H=(0,C.useRef)(),q=(0,E.default)(),W=(0,C.useCallback)(function(){var u=(0,i.default)((function*(u){var e;if(null===(e=H.current)||void 0===e||e.abort(),null==u)return V(a.toArray()),void q();H.current=new n;const t=H.current.signal;try{const e=yield u(a,t);t.aborted||O.aborted||(V(e),q())}catch(u){if(u.name!==o.ABORT_ERROR)throw u}}));return function(){return u.apply(this,arguments)}}(),[a,q,O]);(0,h.useListener)(a,v,(()=>W(w))),(0,C.useEffect)((()=>(W(w),()=>{var u;return null===(u=H.current)||void 0===u?void 0:u.abort()})),[W,w]);const[Y,{height:K}]=(0,A.default)(),X=(0,p.default)(Y,R);(0,C.useEffect)((()=>{null!=w&&e()&&!t()&&null!=R.current&&R.current.scrollHeight<K+r.SCROLL_FUDGE&&L(a.head())}));let Z=null;Z=y?y(G,z):G.map(((u,e)=>(0,B.jsx)(F.default,{msg:u,selectable:j,selectedMessages:S,onMessageSelect:M,displayType:l.DISPLAY_TYPE.GALLERY,onClickMsg:z,onProductClick:T},`${u.id.toString()}_${e}`))).reverse();if(N){if(0===Z.length)return(0,B.jsx)(d.Loading,{});Z.push((0,B.jsx)(c.default,{},-1))}if(0===Z.length&&!N&&!I)return(0,B.jsx)(d.Empty,{text:b,testid:"no-elements"});return(0,B.jsx)("div",{ref:X,onScroll:u=>{U(u.target)},className:(0,f.default)(x),children:Z})};var i=a(t(348926)),o=t(389385),s=t(781572),l=t(705177),r=t(941906),D=t(204818),d=t(685600),c=a(t(329796)),F=a(t(335563)),C=t(667294),f=a(t(156720)),E=a(t(859312)),h=t(587550),A=a(t(248711)),p=a(t(778506)),m=a(t(290886)),g=a(t(803409)),B=t(785893);const x={display:"p357zi0d",flexDirection:"f8m0rgwh",overflowX:"gfz4du6o",overflowY:"rpvcun8f",flexGrow:"ggj6brxn"}},442307:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(348926)),i=t(389385),o=t(352613),s=n(t(960559)),l=t(918708);e.default=class{constructor(u){this.getMsgText=u,this.tokenizer=new l.MultiLangTokenizer,this.msgKeyToTokens=new Map,this.newMsgsToTokenize=[]}filter(u,e,t){var n=this;return(0,a.default)((function*(){if(""===e||null==e)return u.toArray();const a=Array.from(n.tokenizer.tokenize(e)).filter((u=>u.length>1||(0,s.default)(u))).sort(((u,e)=>e.length-u.length));if(0===a.length)return u.toArray();let l=0,r=u.toArray();for(const u of a){const e=[];for(const a of r){if(!0===(null==t?void 0:t.aborted))throw new i.AbortError;const s=a.id;let r=n.msgKeyToTokens.get(s);null==r&&(r=n._getMsgTokens(a),n.msgKeyToTokens.set(a.id,r)),n._doMsgTokensIncludeTokenPrefix(r,u)&&e.push(a),l+=1,yield(0,o.asyncSleepAfterGivenLoopIteration)(l,100,0)}if(r=e,0===r.length)break}if(n.newMsgsToTokenize=[],!0===(null==t?void 0:t.aborted))throw new i.AbortError;return r}))()}cacheMessageTokens(u){this.newMsgsToTokenize.push(u),100===this.newMsgsToTokenize.length&&setTimeout((()=>this._processMsgsToTokenize()),0)}removeMessageTokensFromCache(u){this.msgKeyToTokens.delete(u.id)}clearTokensCache(){this.msgKeyToTokens.clear()}_processMsgsToTokenize(){var u=this;return(0,a.default)((function*(){const e=u.newMsgsToTokenize;u.newMsgsToTokenize=[];for(const[t,n]of e.entries()){const e=n.id;if(u.msgKeyToTokens.has(e))continue;const a=u._getMsgTokens(n);u.msgKeyToTokens.set(e,a),yield(0,o.asyncSleepAfterGivenLoopIteration)(t,100,40)}}))()}_doMsgTokensIncludeTokenPrefix(u,e){for(const t of u)if(t.startsWith(e))return!0;return!1}_getMsgTokens(u){const e=this.getMsgText(u);if(null==e)return[];return Array.from(this.tokenizer.tokenize(e)).filter((u=>u.length>1||(0,s.default)(u)))}}},103721:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const e=(0,E.useModelValues)(u.chat,["isGroup","muteExpiration","archive"]),t=(0,E.useModelValues)(u.mute,["isMuted"]),n=(0,E.useModelValues)(u.settings,["showArchiveV2"]),A=t=>{u.chat.isPSA?i.Cmd.muteChatFromEntryPoint((0,r.unproxy)(e),t,2):i.Cmd.muteChat((0,r.unproxy)(e),t)},p=()=>{A(!1),l.ModalManager.close()},m=t.isMuted,g=e.muteExpiration;if(e.archive&&(0,s.archiveV2Supported)()&&n.showArchiveV2)return(0,h.jsx)(D.default,{children:(0,h.jsx)(c.TextSpan,{theme:"muted",size:"16",children:f.fbt._("Archived chats are muted",null,{hk:"31ZVD"})})});const B=m?()=>{const u=e.isGroup?o.default.t(206):o.default.t(205);l.ModalManager.open((0,h.jsx)(C.default,{onOK:p,okText:o.default.t(39),onCancel:()=>l.ModalManager.close(),cancelText:f.fbt._("Cancel",null,{hk:"H0gNq"}),children:u}))}:()=>{A(!0)},x=m?o.default.t(695):f.fbt._("Mute notifications",null,{hk:"2Fm15X"});let v;if(m&&g){const u=a.Clock.untilStr(g);v=(0,h.jsx)(c.TextDiv,{theme:"muted",children:u})}const b=(0,h.jsx)(d.default,{checked:m,onChange:B}),_=(0,h.jsx)(c.TextSpan,{theme:"title",children:x});return(0,h.jsx)(F.default,{icon:"settings-notifications",testid:"block-mute",side:b,onClick:B,title:_,secondaryTitle:v})};var a=t(40234),i=t(781572),o=n(t(568064)),s=t(408139),l=t(914597),r=t(204818),D=n(t(435721)),d=n(t(303271)),c=t(113923),F=n(t(575116)),C=n(t(452665)),f=t(548360),E=t(735461),h=t(785893)},799108:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{productMsgs:e,chat:t}=u,n=(0,i.default)(u,c),F=(0,D.default)();let C;(0,o.isMDBackend)()&&(C=(0,d.jsx)(s.HistorySyncGalleryPlaceholder,{chat:t}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.default,(0,a.default)({msgsCollection:e,msgsCollectionUpdateEvents:["add","remove","reset","products_loaded"],queryCollection:u=>F((()=>{e.queryProducts(t,u)})),getHasBefore:()=>e.hasProductBefore,getQueryBefore:()=>e.hasProductBefore?Promise.resolve():null,emptyText:r.fbt._("No products",null,{hk:"8o7dB"}),chat:t},n)),C]})};var a=n(t(81109)),i=n(t(506479)),o=t(88555),s=t(652294),l=n(t(219593)),r=t(548360),D=n(t(174570)),d=t(785893);const c=["productMsgs","chat"]},638261:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{stickerPackId:e,onStickerPackView:t,stickerPackViewDelay:n}=u,F=function(u){(0,D.useEffect)((()=>{u&&o.StickerPackCollectionMd.fetchStickerPack(u)}),[u]);return(0,d.default)(o.StickerPackCollectionMd,"add remove reset",(()=>null!=u?o.StickerPackCollectionMd.get(u):null))}(e);let C;(0,a.isMDBackend)()&&e&&(C=(0,c.jsx)(l.default,{onClick:u=>{u.stopPropagation(),t&&t(),null!=n?setTimeout((()=>i.Cmd.openStickerPack(e)),n+150):i.Cmd.openStickerPack(e)},type:"secondary",children:r.fbt._("View Pack",null,{hk:"tAlU3"})}));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.StickerDetailsStickerPackInfo,{name:null==F?void 0:F.name,publisher:null==F?void 0:F.publisher,theme:s.Theme.MediaViewer}),C]})};var a=t(88555),i=t(781572),o=t(493112),s=t(610595),l=n(t(39770)),r=t(548360),D=t(667294),d=n(t(196570)),c=t(785893)},16947:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t(903282),i=n(t(568064)),o=t(914597),s=t(815562),l=t(965417),r=n(t(832973)),D=n(t(452665)),d=t(756728),c=t(218963),F=t(548360),C=t(785893);class f extends r.default{constructor(){super(...arguments),this._isGroupParticipant=u=>{var e;const{chat:t}=this.props;return!!(null===(e=t.groupMetadata)||void 0===e?void 0:e.participants.get(u.id))},this.customSecondaryText=u=>{var e;const{chat:t}=this.props;return(null===(e=t.groupMetadata)||void 0===e?void 0:e.participants.get(u))?F.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString():null},this.contactFilter=u=>{const e=this.props.chat.groupMetadata;return!!a.ContactCollection.isFilteredContact(u)&&(!(null==e?void 0:e.participants.get(u.id))||F.fbt._("Already added to group",null,{hk:"4hdDHF"}).toString())},this.confirmAddParticipant=u=>{const{chat:e}=this.props;this.push((0,C.jsx)(D.default,{onOK:this._handleAddParticipant.bind(this,u),okText:F.fbt._({"*":"Add participants",_1:"Add participant"},[F.fbt._plural(u.length)],{hk:"4pSXvk"}),onCancel:this._pop,cancelText:F.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,C.jsx)(l.EmojiText,{text:this._makeNameEnumeration(u,e.contact.name)})}))},this._makeNameEnumeration=(u,e)=>{const t=u.map((u=>u.formattedShortName||u.shortName)).reduce(((e,t,n)=>[...e,t,n!==u.length-1&&i.default.t(254)||""]),[]);return i.default.t(192,{participants:t.join(""),subject:e})},this._handleAddParticipant=u=>{(0,s.addParticipants)(this.props.chat,u).catch((()=>{})),o.ModalManager.close()},this._pop=()=>{this.pop()}}componentDidMount(){this.push((0,C.jsx)(d.SelectModal,{onConfirm:this.confirmAddParticipant,filter:this.contactFilter,title:F.fbt._("Add participant",null,{hk:"48ECfz"}),isDisabled:this._isGroupParticipant,isSelected:this._isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:d.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:c.FooterType.CONFIRM,multipleSelectionFooterType:c.FooterType.CONFIRM,shouldShowSelectionSummary:!1}))}}e.default=f},442237:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){let{onEnd:e}=u;const[t,n]=(0,s.useFlow)(r.Chats,{onEnd:e});if(null==n.step)return null;let D;switch(n.step){case r.Chats:D=(0,l.jsx)(i.default,{settings:o.default,showSettings:()=>{n.push(r.Settings)},onClose:()=>{n.pop()}});break;case r.Settings:D=(0,l.jsx)(a.default,{settings:o.default,onClose:()=>{n.pop()}})}return(0,l.jsx)(t,{flow:n,children:D})};var a=n(t(462921)),i=n(t(923297)),o=n(t(268132)),s=t(159083),l=t(785893);const r=t(76672).Mirrored(["Chats","Settings"])},890727:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(348926)),i=t(374316),o=t(227105),s=n(t(832973)),l=n(t(60453)),r=n(t(69637)),D=t(994790),d=t(493581),c=t(548360),F=t(667294),C=t(785893);class f extends s.default{componentDidMount(){this.push((0,C.jsx)(E,{contactId:this.props.contactId,onClose:this.pop}))}}function E(u){const{contactId:e}=u,[t,n]=(0,F.useState)(void 0),[s,f]=(0,F.useState)(!0);(0,F.useEffect)((()=>{(function(){var u=(0,a.default)((function*(){const u=yield d.BusinessProfileCollection.update(e,{getMerchantCompliance:!0}),t=(Array.isArray(u)?u[0]:u).serialize();t?(n(t.legalEntityDetails||void 0),f(!1)):__LOG__(3)`compliance: cannot fetch business details (${e.toString()})`}));return function(){return u.apply(this,arguments)}})()()}),[]);const{entityName:E,customerCareDetails:h,grievanceOfficerDetails:A}=null!=t?t:{},p=(0,i.getEntityTypeText)(t);return(0,C.jsxs)(l.default,{theme:"striped",children:[(0,C.jsx)(D.DrawerHeader,{title:c.fbt._("Business details",null,{hk:"m9xzp"}),type:D.DRAWER_HEADER_TYPE.SMALL,onCancel:u.onClose}),(0,C.jsx)(r.default,{theme:s?"center-content":void 0,children:s?(0,C.jsx)(o.ComplianceInfoLoading,{}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(o.ComplianceInfoGroup,{children:[(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:E,label:c.fbt._("Legal Name of Business",null,{hk:"2s9jD"})}),(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:p,label:c.fbt._("Business Type",null,{hk:"48J73B"})})]}),(0,C.jsxs)(o.ComplianceInfoGroup,{title:c.fbt._("Customer Care Information",null,{hk:"qlYos"}),children:[(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:null==h?void 0:h.mobileNumber,label:c.fbt._("Mobile Phone Number",null,{hk:"PMTTg"}),forceLTR:!0}),(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:null==h?void 0:h.landlineNumber,label:c.fbt._("Landline Phone Number",null,{hk:"tXYaf"}),forceLTR:!0}),(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:null==h?void 0:h.email,label:c.fbt._("Email Address",null,{hk:"2jYxR1"})})]}),(0,C.jsxs)(o.ComplianceInfoGroup,{title:c.fbt._("Grievance Officer Information",null,{hk:"3emd7I"}),children:[(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:null==A?void 0:A.name,label:c.fbt._("Name",null,{hk:"2vEs6r"})}),(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:null==A?void 0:A.mobileNumber,label:c.fbt._("Mobile Phone Number",null,{hk:"3kk5I"}),forceLTR:!0}),(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:null==A?void 0:A.landlineNumber,label:c.fbt._("Landline Phone Number",null,{hk:"4GBzF0"})}),(0,C.jsx)(o.ComplianceInfoPrimitiveField,{value:null==A?void 0:A.email,label:c.fbt._("Email Address",null,{hk:"3SvbLl"})})]})]})})]},"merchant-details-modal")}e.default=f},704782:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(81109)),i=t(88555),o=n(t(706996)),s=t(173679),l=t(781572),r=t(165581),D=t(141455),d=t(408139),c=t(914597),F=t(871579),C=t(665397),f=t(669393),E=t(56080),h=t(474315),A=n(t(471410)),p=t(161509),m=n(t(7532)),g=t(277975),B=t(397567),x=t(409153),v=n(t(54414)),b=t(919829),_=n(t(170107)),j=t(679188),M=n(t(754050)),k=t(11395),S=n(t(277776)),y=t(755800),T=n(t(832973)),P=t(388280),w=t(274429),I=t(682364),N=t(349376),R=n(t(574328)),O=n(t(537380)),L=n(t(748204)),G=n(t(638853)),V=n(t(896464)),U=n(t(443250)),z=t(427394),H=n(t(130305)),q=n(t(739911)),W=n(t(669824)),Y=n(t(181871)),K=t(308059),X=t(785893);class Z extends T.default{constructor(){super(...arguments),this._scrollOffset=0,this._setScrollOffset=u=>{this._scrollOffset=u},this._handleProductDetail=(u,e)=>{const{chat:t}=this.props,n=(0,X.jsx)(_.default,{chat:t,collectionId:e,product:u,onEnd:this._end,onBack:this._popAndUpdate,refreshCarousel:!1,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(n)},this._handleProductDetailFromInfo=u=>{const e=(0,X.jsx)(j.ProductDetailsWithDeepLink,{chat:this.props.chat,productInfo:u,onEnd:this._end,onBack:this._pop,onProductDetail:this._handleProductDetail,onProductCatalog:this._handleProductCatalogHeaderClick,onProductLinkClick:this._handleProductLinkClick,onProductMoreInformation:this._handleProductMoreInformation,onCartClick:this._handleCartClick});this.push(e)},this._handleCollectionSeeAll=u=>{const e=this.props.chat.id;this.push((0,X.jsx)(b.CollectionContentDrawer,{contact:this.props.chat.contact,onProductDetail:this._handleProductDetail,catalogId:e,onBack:this._pop,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,collection:u}))},this._handleProductLinkClick=u=>{this.push((0,X.jsx)(M.default,{product:u,onBack:this._pop}))},this._handleProductMoreInformation=u=>{const e=(0,X.jsx)(S.default,{product:u,onBack:this._popAndUpdate});this.push(e)},this._handleCatalogLinkClick=(u,e)=>{this.push((0,X.jsx)(m.default,{catalog:u,contact:e,onBack:this._pop}))},this._handleCartClick=u=>{const e=(0,B.getProductCatalogContext)(this.props.context),t=(0,o.default)(u,this.props.chat,e);t&&this.push(t)},this.pushProductCatalog=()=>{const{chat:u}=this.props,e=(0,d.canViewCollections)()?(0,X.jsx)(v.default,{contact:u.contact,onProductDetail:this._handleProductDetail,catalogId:u.id,onBack:this._pop,businessProfile:u.contact.businessProfile,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick,onCollectionSeeAll:this._handleCollectionSeeAll}):(0,X.jsx)(k.ProductListDrawer,{contact:u.contact,onProductDetail:this._handleProductDetail,catalogId:u.id,onBack:this._pop,businessProfile:u.contact.businessProfile,onCatalogLinkClick:this._handleCatalogLinkClick,onCartClick:this._handleCartClick});this.push(e)},this._handleProductCatalog=(u,e)=>{const t=this.props.chat.id;(0,d.canViewCollections)()&&f.QPL.markerStart(C.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:e}}}),(0,g.logCarouselViewMoreClick)({catalogOwnerWid:t,catalogContext:u}),this.pushProductCatalog(t)},this._handleProductCatalogHeaderClick=(u,e)=>{(0,g.logCarouselViewMoreClick)({catalogOwnerWid:u,catalogContext:e}),this._handleProductCatalog(e,"ProductCatalogHeader")},this._handleStarred=()=>{const u=(0,X.jsx)(I.StarredDrawerLoadable,{chat:this.props.chat,starredMsgs:this.props.chat.getStarredMsgs(),onClose:this._pop});this.push(u)},this._handleKept=()=>{this.push((0,X.jsx)(Y.default,{chat:this.props.chat,keptMsgs:this.props.chat.getKeptMsgs(),onClose:this._pop}))},this._handleAdminSetting=()=>{const{chat:u}=this.props,e=(0,X.jsx)(W.default,{chat:u,groupMetadata:u.groupMetadata,onClose:this._pop});this.push(e)},this._handleContactCard=()=>{this.push((0,X.jsx)(V.default,{chat:this.props.chat,onClose:this._pop}))},this._handleMediaGallery=()=>{const u=(0,X.jsx)(K.MediaGalleryDrawer,{chat:this.props.chat,onBack:this._pop,onProductDetail:this._handleProductDetail,setProductsScrollOffset:this._setScrollOffset});this.push(u)},this._handleGroupInviteLink=()=>{const{chat:u}=this.props;if((0,s.isInviteGrowthLockedGroup)(u)){var e;const t=!!(null===(e=u.groupMetadata)||void 0===e?void 0:e.participants.iAmAdmin());return void(0,y.openGrowthLockedModal)(t,!0)}const t=(0,X.jsx)(P.GroupInviteLinkDrawerLoadable,{chat:this.props.chat,groupMetadata:u.groupMetadata,onBack:this._pop});this.push(t)},this._handlePendingParticipants=()=>{this.push((0,X.jsx)(G.default,{chat:this.props.chat,onBack:this._pop}))},this._pop=()=>{this.pop()},this._popAndUpdate=()=>{this.popAndUpdate({initialTab:K.TABS.PRODUCTS,productsScrollOffset:this._scrollOffset})},this._end=()=>{this.end(!0)},this._handleVerification=u=>{const e=u||this.props.chat.contact,t=(0,X.jsx)(N.VerificationDrawerLoadable,{contact:e,onClose:this._pop,isFirstLevel:!1});this.push(t)},this._handleLiveLocation=()=>{const u=(0,X.jsx)(w.LiveLocationDrawerLoadable,{chat:this.props.chat,onClose:this._pop});this.push(u)},this._handleDDMSettingsClick=u=>{this.push((0,X.jsx)(U.default,{onClose:this._pop,entryPoint:u}))},this._handleEphemeral=()=>{const{chat:u}=this.props,e=u.isGroup?A.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:A.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING,t=(0,X.jsx)(H.default,{chat:u,showNux:(0,h.shouldShowNUX)(F.NUX.EPHEMERAL),entryPoint:A.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_INFO,onClose:this._pop,onCloseNux:()=>this.push(t),onDDMSettingsClick:()=>this._handleDDMSettingsClick(e)});(0,h.shouldShowNUX)(F.NUX.EPHEMERAL)&&(0,p.isKeepInChatVisibleUIEnabled)()?c.ModalManager.open((0,X.jsx)(q.default,{chat:u,fromMe:!0,onOk:()=>this.push(t)})):this.push(t)},this._handleCommunityClick=()=>{var u;const e=null===(u=this.props.chat.groupMetadata)||void 0===u?void 0:u.parentGroup;e&&l.Cmd.openCommunityHome(e,!0)}}componentDidMount(){const u=this._handleStarred,e=this._handleMediaGallery,t=this.props.chat;t.isGroup?((0,i.isMDBackend)()&&(0,E.queryAndUpdateGroupMetadataById)(t.id,"interactive"),this.push((0,X.jsx)(L.default,{chat:t,showFullGroupDescription:this.props.showFullGroupDescription,scrollToParticipantList:this.props.scrollToParticipantList,groupMetadata:t.groupMetadata,contact:t.contact,profilePicThumb:t.contact.getProfilePicThumb(),onVerification:this._handleVerification,onStarred:u,onKept:this._handleKept,onMediaGallery:e,onAdminSetting:this._handleAdminSetting,onGroupInviteLink:this._handleGroupInviteLink,onPendingParticipants:this._handlePendingParticipants,onLiveLocation:this._handleLiveLocation,onEphemeral:this._handleEphemeral,onCommunityClick:this._handleCommunityClick,onClose:this._pop}))):t.isBroadcast?this.push((0,X.jsx)(R.default,{chat:t,contact:t.contact,onStarred:u,onMediaGallery:e,onClose:this._pop})):t.isUser&&(t.contact.isBusiness&&(0,d.canSeeBizProfileV3)()&&D.DrawerManager.setDrawerContext("right",(0,B.buildProductCatalogContext)(new x.ProductCatalogSession,(0,r.getMaybeBizPlatformForLogging)(t.contact.id.toString()),A.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE)),this.push((0,X.jsx)(O.default,{contact:t.contact,onVerification:this._handleVerification,onStarred:u,onKept:this._handleKept,onContactCard:this._handleContactCard,onMediaGallery:e,onProductCatalog:this._handleProductCatalog,onProductDetail:this._handleProductDetail,onLiveLocation:this._handleLiveLocation,onEphemeral:this._handleEphemeral,onClose:this._pop,profileEntryPoint:this.props.profileEntryPoint})))}}e.default=u=>(0,X.jsx)(z.DrawerContext.Consumer,{children:e=>(0,X.jsx)(Z,(0,a.default)({context:e},u))})},312642:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e;const{msg:t,highlightedMsgIds:n}=u,y=(0,k.default)(),T=(0,M.default)(),P=(0,B.default)(),w=(0,x.default)((()=>t.type===c.MSG_TYPE.IMAGE?new f.default.UiAction({uiActionType:f.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:t.mediaData.mediaStage===h.MEDIA_DATA_STAGE.RESOLVED}):null)),I=(0,x.default)((()=>(0,s.constructMediaMsgs)(t.chat,t))),N=I.current.length,R=(0,b.default)(N),O=(0,g.useRef)(null),L=(0,g.useRef)(),G=(0,g.useRef)(),V=(0,g.useRef)(null),U=(0,g.useRef)(null),z=(0,g.useRef)(null),[H,q]=(0,g.useState)(t),[W,Y]=(0,g.useState)(!1),[K,X]=(0,g.useState)(!0),Z=(0,b.default)(H),$=function(){let u=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=U.current,t=z.current,n=V.current;if(!e||!t||!n)return;let a=0;n instanceof HTMLElement&&(a=n.clientWidth/2-e.clientWidth/2),(0,F.default)(t,"stop");let i=0;u&&(i=300),(0,F.default)(n,"scroll",{duration:i,container:t,offset:a,axis:"x",easing:[.1,.82,.25,1]})},J=u=>{if(!u)return!0;const{isViewOnce:e,isStickerMsg:t}=u;return!e&&!t};(0,g.useEffect)((()=>{var u;$(),J(t)&&(u=U.current)&&(0,F.default)(u,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}).then((()=>{y.aborted||X(!1)}))}),[]),(0,g.useEffect)((()=>{(0,D.isMediaGalleryFixEnabled)()&&N>(null!=R?R:0)&&$()}));const Q=u=>{T((()=>{I.current.loadMoreAroundIfNeeded(u)})),q(u)},uu=u=>{if(u&&u.stopPropagation(),W)return;const e=H;if(!e)return;let n=null;for(n=I.current.getAfter(e);(null===(a=n)||void 0===a?void 0:a.mediaData)&&!(0,A.hasThumbnail)(n.mediaData);){var a;n=I.current.getAfter(n)}n?Q(n):I.current.hasMediaAfter&&(L.current||(L.current=I.current.queryMedia({chat:t.chat,msg:t,direction:"after"}).then((u=>{y.aborted||"number"==typeof u.length&&u.length>0&&H===t&&uu()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{L.current=null}))))},eu=u=>{if(u&&u.stopPropagation(),W)return;const e=H;if(!e)return;let n=null;for(n=I.current.getBefore(e);(null===(a=n)||void 0===a?void 0:a.mediaData)&&!(0,A.hasThumbnail)(n.mediaData);){var a;n=I.current.getBefore(n)}n?Q(n):I.current.hasMediaBefore&&(G.current||(G.current=I.current.queryMedia({chat:t.chat,msg:t,direction:"before"}).then((u=>{y.aborted||"number"==typeof u.length&&u.length>0&&H===t&&eu()})).catch((()=>{__LOG__(3)`query media msgs error: `})).finally((()=>{G.current=null}))))};let tu=null;t.type===c.MSG_TYPE.IMAGE&&(tu=()=>{const u=w.current;var e;u&&(Object.assign(u,(0,C.getGroupCountMetricsFromChatWid)(null===(e=t.chat)||void 0===e?void 0:e.id)),u.markUiActionT(),u.commit(),w.current=null);(0,E.logUiActionShadowPrivateStatsTestEvents)()});const nu=()=>{d.ModalManager.closeMedia()},au=(0,_.default)((()=>{q(null),nu()})),iu=(null==H?void 0:H.isViewOnce)||(null==H?void 0:H.isStickerMsg);(0,v.useListener)(iu?H:null,"revoked",au);const ou=iu?null:I.current;(0,v.useListener)(ou,"remove",((u,e,n)=>{const a=I.current,o=H;if(a.includes(t)||null!=o&&null!=o.id&&o.id.toString()!==u.id.toString())return void P();const s=n.index;0===a.length?nu():a.length===s?Q((0,i.default)(a.at(s-1),"mediaMsgs.at(index - 1)")):Q((0,i.default)(a.at(s),"mediaMsgs.at(index)"))})),(0,v.useListener)(ou,"reset",(()=>{nu()})),(0,v.useListener)(ou,"query_media_after",(()=>{P()})),(0,v.useListener)(ou,"query_media_before",(()=>{const u=z.current;u&&(O.current=u.scrollWidth,u instanceof HTMLElement&&P())})),(0,v.useListener)(window,"keydown",(u=>{if(u.defaultPrevented)return;const e=r.default.isRTL();u.keyCode===a.default.LEFT?e?uu():eu():u.keyCode===a.default.RIGHT&&(e?eu():uu())})),(0,g.useEffect)((()=>{T((()=>{H&&I.current.loadMoreAroundIfNeeded(H)}))}),[H,I,T]),(0,g.useEffect)((()=>{if(Z!==H)$(!0);else{const u=z.current;if(!u||null==O.current||0===O.current)return;u instanceof HTMLElement&&(u.scrollLeft+=u.scrollWidth-O.current),O.current=null}}),[H,Z]);const su=(0,j.default)(((u,e,t)=>{if(0!==e.length&&null!=t){if(e.hasMediaBefore&&t<u.clientWidth){const u=(0,i.default)(e.head(),"mediaMsgs.head()");T((()=>{e.queryMedia({chat:u.chat,msg:u}),P()}))}if(e.hasMediaAfter&&t+l.SCROLL_FUDGE>u.scrollWidth-2*u.clientWidth){const u=(0,i.default)(e.last(),"mediaMsgs.last()");T((()=>{e.queryMedia({chat:u.chat,msg:u,direction:"after"}),P()}))}}}),100);if(!H)return null;const lu=I.current,ru=lu.last(),Du=lu.hasMediaAfter||H!==ru?uu:null,du=lu.head();let cu=null;cu=lu.hasMediaBefore||H!==du?eu:null,(0,o.isMDBackend)()&&(cu=lu.hasMediaBefore||H!==du?eu:null);return(0,S.jsxs)("div",{className:W?"img-zoomed-in":null,children:[J(H)&&(0,S.jsx)(m.default,{activeMsg:H,mediaMsgs:I.current,highlightedMsgIds:u.highlightedMsgIds,onSelectThumb:Q,onSetActiveThumb:u=>{V.current=u},onScroll:u=>{su(u.currentTarget,I.current,u.currentTarget.scrollLeft)},setRefThumbsContainer:u=>{U.current=u},setRefThumbs:u=>{z.current=u}}),(0,S.jsx)(p.default,{msg:H,mediaData:H.mediaData,onBack:nu,onExitAnimation:()=>{var u;J(t)&&(u=U.current)&&(0,F.default)(u,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},onNext:Du,onPrev:cu,onImgZoomIn:u=>{Y(u)},getZoomNode:u.getZoomNode,startTime:u.startTime,isAnimatingIn:K,onImageLoad:tu,msgIndexInAlbum:(()=>{let u=-1;if(!n||!H)return u;const e=H.id.toString();if(!n.has(e))return u;let t=0;return n.forEach((n=>{n===e&&(u=t),t++})),u})(),albumSize:(null===(e=u.highlightedMsgIds)||void 0===e?void 0:e.size)||0})]})};var a=n(t(757538)),i=n(t(145095)),o=t(88555),s=t(716055),l=t(941906),r=n(t(568064)),D=t(408139),d=t(914597),c=t(115461),F=n(t(462831)),C=t(500634),f=n(t(471410)),E=t(793249),h=t(58668),A=t(341908),p=n(t(747186)),m=n(t(838781)),g=t(667294),B=n(t(859312)),x=n(t(616223)),v=t(587550),b=n(t(837453)),_=n(t(389113)),j=n(t(290886)),M=n(t(174570)),k=n(t(803409)),S=t(785893)},871428:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.requireBundle=e.SendContactsModalLoadable=void 0;var a=n(t(348926)),i=n(t(650860)),o=n(t(815334)),s=t(548360),l=n(t(268356)),r=t(785893);const D=(0,o.default)((0,a.default)((function*(){return(yield Promise.all([t.e(8295),t.e(1702),t.e(9488),t.e(2790),t.e(275)]).then(t.bind(t,405969))).default})),"SendContactsModal");e.requireBundle=D;const d=(0,l.default)({loader:D,loading:u=>(0,r.jsx)(i.default,{title:s.fbt._("Send contacts",null,{hk:"9ZMyz"}),error:Boolean(u.error)})});e.SendContactsModalLoadable=d},923297:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t(227101),i=t(88555),o=t(781572),s=n(t(352013)),l=n(t(568064)),r=t(408139),D=t(871579),d=n(t(540436)),c=n(t(60453)),F=n(t(69637)),C=t(994790),f=t(865511),E=t(160811),h=t(471174),A=t(685600),p=t(429623),m=t(729424),g=t(747915),B=n(t(630855)),x=t(646346),v=n(t(188406)),b=n(t(23217)),_=t(113923),j=t(188172),M=t(669951),k=t(448285),S=t(548360),y=t(667294),T=n(t(156720)),P=n(t(616223)),w=t(587550),I=t(735461),N=n(t(259732)),R=n(t(955010)),O=t(785893);const L={borderBottom:"qmxv8cnq"},G={marginTop:"csxx893n",color:"fsk8o631"},V={paddingEnd:"lk91ofgv",paddingBottom:"przvwfww",paddingStart:"s9xya5d7",paddingTop:"t6dtdvhe",fontWeight:"hnx8ox4h",textAlign:"qfejxiq4"},U={marginTop:"iin4x6c7",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"},z={paddingTop:"i5tg98hk",paddingEnd:"j2yjyrsv",paddingBottom:"q1tx93la",paddingStart:"quywxd7h",color:"pm5hny62",textAlign:"qfejxiq4"},H={position:"lhggkp7q",top:"rf8kfq28",end:"i7sa5vq0",color:"cs9t9or5"},q={overflowX:"gfz4du6o",overflowY:"r7fjleex"};function W(u,e){const{onClose:t}=u,n=()=>M.ChatCollection.filter((u=>u.archive&&u.shouldAppearInList)),W=(0,I.useModelValues)(u.settings,["showArchiveV2","archive"]),Y=(0,P.default)((()=>new B.default)),K=(0,P.default)((()=>new v.default([],(u=>u.id.toString())))),X=(0,y.useRef)(null),[Z,$]=(0,y.useState)(!1),[J,Q]=(0,y.useState)(n),uu=()=>(0,r.archiveV2Supported)()&&W.showArchiveV2;(0,w.useListener)(M.ChatCollection,[uu()?"sort":null,"change:archive","add","remove"].filter(Boolean),(()=>{Q(n())}));const eu=u=>{K.current.setVal(u,!1)};(0,w.useListener)(o.Cmd,"close_chat",(u=>{u===K.current.getVal()&&K.current.unset()})),(0,w.useListener)(o.Cmd,"update_chatlist_selection",eu);const[tu,nu,au]=(0,N.default)(D.NUX.ARCHIVE),iu=()=>{const u=M.ChatCollection.some((u=>u.archive));return uu()&&u&&tu&&!Z};(0,y.useEffect)((()=>{if(uu()&&(0,a.isElevatedImportantMessageEnabled)()){const u=n(),e=new Map;u.forEach((u=>{u.archiveAtMentionViewedInDrawer=!0,e.set(u.id.toString(),!0)})),(0,k.updateChatArchiveDrawer)(e)}X.current&&s.default.focus(X.current);const u=M.ChatCollection.toArray().find((u=>u.active&&u.archive));u&&eu(u)}),[]),(0,R.default)((()=>{iu()&&nu()}));const ou=()=>{t()},su=(u,e)=>{o.Cmd.openChatFromUnread(e).then((u=>{u&&j.ComposeBoxActions.focus(e)})),(0,r.archiveV2Supported)()&&W.archive.enabled||ou()},lu=u=>{u.preventDefault(),u.stopPropagation(),K.current.setNext(!0)},ru=u=>{u.preventDefault(),u.stopPropagation(),K.current.setPrev(!0)},Du=()=>{au(),$(!0)};let du,cu;K.current.init(J,!0),iu()&&(du=(0,O.jsxs)("div",{className:(0,T.default)(L),children:[(0,O.jsxs)(p.FlexColumn,{align:"center",children:[(0,O.jsx)("span",{className:(0,T.default)(G),children:(0,O.jsx)(b.default,{name:"archive-nux"})}),(0,O.jsx)("div",{className:(0,T.default)(V),children:(0,O.jsx)(_.Text,{theme:"large",as:"h1",children:S.fbt._("Archived chats will stay archived",null,{hk:"3dEGG"})})}),(0,O.jsx)("div",{className:(0,T.default)(U),children:(0,O.jsx)("div",{className:(0,T.default)(z),children:(0,O.jsx)(_.Text,{theme:"plain",as:"p",children:(0,i.isMDBackend)()?S.fbt._("To reduce interruptions, archived chats will stay here with notifications turned off. To change this experience, go to Settings > Chats on your phone.",null,{hk:"1VSdJQ"}):S.fbt._("To reduce interruptions, archived chats will stay here with notifications turned off. To change this experience, go to Settings > Archived Chats.",null,{hk:"1gz2m1"})})})})]}),(0,O.jsx)("button",{onClick:Du,className:(0,T.default)(H),children:(0,O.jsx)(b.default,{name:"x-alt"})})]})),cu=J.length>0?(0,O.jsxs)(m.HotKeys,{ref:X,handlers:{down:lu,up:ru},children:[(0,O.jsx)(d.default,{transitionName:"slide",children:du}),(0,O.jsx)(g.FlatList,{className:(0,T.default)(q),data:J.map((u=>({itemKey:u.id.toString(),chat:u}))),flatListController:Y.current,direction:"vertical",renderItem:u=>(0,O.jsx)(f.Chat,{chat:u.chat,mode:f.Mode.LAST,active:K.current,onClick:su,hideArchivedIcon:(0,r.archiveV2Supported)()&&W.archive.enabled,hideMuteIcon:uu(),hideMuteOption:uu(),ephemeralIcon:"chat-list"})})]}):(0,O.jsx)(A.Archived,{});const Fu=(0,i.isLegacyWebdBackend)()&&(0,r.archiveV2Supported)()&&W.archive.enabled?(0,O.jsx)(x.MenuBarItem,{testid:"archived-menu",icon:(0,O.jsx)(b.default,{name:"menu"}),title:l.default.t(451),children:(0,O.jsx)(E.Dropdown,{type:E.MenuType.DropdownMenu,flipOnRTL:!0,dirX:E.DirX.LEFT,children:(0,O.jsx)(h.DropdownItem,{testid:"open-archive-settings menu-item",action:u.showSettings,children:S.fbt._("Archive settings",null,{hk:"1YI0jC"})})},"ArchivedDrawerHeader")}):null,Cu=(0,r.archiveV2Supported)()&&W.archive.enabled?S.fbt._("Archived",null,{hk:"3HjzQg"}):l.default.t(136);return(0,O.jsxs)(c.default,{ref:e,theme:"archived",children:[(0,O.jsx)(C.DrawerHeader,{title:Cu,onBack:ou,type:C.DRAWER_HEADER_TYPE.LARGE,menu:Fu}),(0,O.jsx)(F.default,{flatListControllers:[Y.current],children:cu})]})}var Y=(0,y.forwardRef)(W);e.default=Y},962138:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const e=function(u){switch(u.verifiedLevel){case s.VERIFIED_LEVEL.HIGH:return u.name===u.verifiedName?i.default.t(687,{businessName:u.verifiedName}):i.default.t(688,{businessName:u.verifiedName});case s.VERIFIED_LEVEL.LOW:case s.VERIFIED_LEVEL.UNKNOWN:return c.fbt._("This may be a business. WhatsApp hasn't verified their name yet.",null,{hk:"404mUL"})}}((0,F.useModelValues)(u.contact,["name","verifiedLevel","verifiedName","formattedName"])),t=(0,C.jsx)(l.default,{href:(0,a.getBusinessFaqUrl)(),onClick:E,children:i.default.t(394)});return(0,C.jsxs)(d.default,{onOK:f,okText:i.default.t(528),children:[(0,C.jsx)(r.EmojiText,{text:e}),"",t]})};var a=t(221310),i=n(t(568064)),o=t(914597),s=t(53668),l=n(t(499360)),r=t(965417),D=t(912591),d=n(t(452665)),c=t(548360),F=t(735461),C=t(785893);const f=()=>{o.ModalManager.close()},E=u=>{u.preventDefault(),o.ModalManager.close("none"),setTimeout((()=>(0,D.openExternalLink)((0,a.getBusinessFaqUrl)())),10)}},100955:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){let{contact:e}=u;const{verifiedLevel:t,verifiedName:n}=(0,p.useModelValues)(e,["verifiedLevel","verifiedName"]),g=(0,a.getBusinessFaqUrl)(),B=!E.Conn.isSMB;(0,A.useEffect)((()=>{B&&new s.default.BannerEvent({bannerType:s.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:s.default.BANNER_OPERATIONS.SHOWN}).commit()}),[B]);const x=t===D.VERIFIED_LEVEL.HIGH?i.default.t(829,{businessName:n}):h.fbt._("This business uses WhatsApp Business, which allows them to add their opening hours, address, website and catalog of products or services.",null,{hk:"82W5f"});return(0,m.jsxs)(f.default,{title:h.fbt._("About WhatsApp Business",null,{hk:"3XF5gx"}),onOK:()=>{o.ModalManager.close(),B&&new s.default.BannerEvent({bannerType:s.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:s.default.BANNER_OPERATIONS.DISMISS}).commit()},okText:h.fbt._("OK",null,{hk:"2KEeHb"}),children:[(0,m.jsx)(c.EmojiText,{text:x}),"",(0,m.jsx)(d.default,{href:g,onClick:u=>{u.preventDefault(),o.ModalManager.close(),setTimeout((()=>(0,F.openExternalLink)(g)),10)},children:i.default.t(394)}),B&&(0,m.jsx)("div",{className:l.default.footerNote,children:(0,m.jsxs)(C.TextSpan,{theme:"muted",size:"13",children:[h.fbt._("If youre a business, the free WhatsApp Business app can help.",null,{hk:"3gfQun"}),(0,m.jsx)("br",{}),(0,m.jsx)(d.default,{onClick:u=>{u.preventDefault(),o.ModalManager.close(),new s.default.BannerEvent({bannerType:s.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:s.default.BANNER_OPERATIONS.CLICK}).commit(),setTimeout((()=>o.ModalManager.open((0,m.jsx)(r.SmbAppUpsellModal,{}))),200)},className:l.default.getTheAppLink,children:h.fbt._("Learn about getting the app",null,{hk:"3ncguo"})})]})})]})};var a=t(221310),i=n(t(568064)),o=t(914597),s=n(t(471410)),l=n(t(585845)),r=t(870593),D=t(53668),d=n(t(499360)),c=t(965417),F=t(912591),C=t(113923),f=n(t(452665)),E=t(317239),h=t(548360),A=t(667294),p=t(735461),m=t(785893)},870593:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.SmbAppUpsellModal=function(){return(0,F.jsxs)(d.default,{title:c.fbt._("WhatsApp Business app",null,{hk:"4BfvOl"}),onOK:()=>{new o.default.BannerEvent({bannerType:o.default.BANNER_TYPES.CROSS_SELL_PROFILE_INTERSTITIAL,bannerOperation:o.default.BANNER_OPERATIONS.DISMISS}).commit(),i.ModalManager.close()},okText:c.fbt._("Close",null,{hk:"19Jpec"}),children:[(0,F.jsx)(s.default,{}),(0,F.jsx)("p",{children:(0,F.jsx)(r.EmojiText,{text:c.fbt._("If youre a business, you can benefit from switching to the free WhatsApp Business app. It has tools to connect with customers and manage messages.",null,{hk:"40fyU7"})})}),(0,F.jsx)("br",{}),(0,F.jsxs)("p",{children:[(0,F.jsx)(r.EmojiText,{text:c.fbt._("Scan this code to get the WhatsApp Business App. Or, you can install it from the App Store or Google Play Store.",null,{hk:"2840mD"})}),"",(0,F.jsx)(l.default,{href:C,onClick:u=>{u.preventDefault(),i.ModalManager.close(),setTimeout((()=>(0,D.openExternalLink)(C)),10)},children:a.default.t(394)})]})]})},e.WHATSAPP_BUSINESS_URL=void 0;var a=n(t(568064)),i=t(914597),o=n(t(471410)),s=n(t(905242)),l=n(t(499360)),r=t(965417),D=t(912591),d=n(t(452665)),c=t(548360),F=t(785893);const C="https://www.whatsapp.com/business";e.WHATSAPP_BUSINESS_URL=C},905242:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const u=(0,r.useRef)(null),e=(0,r.useRef)(null),{theme:t}=(0,r.useContext)(s.ThemeContext),n="dark"===t;return(0,r.useEffect)((()=>(null!=u.current&&(e.current=new i.default(u.current,{text:"https://www.whatsapp.com/business/download",colorDark:"#122e31",colorLight:"#ffffff",width:a.QR_EDGE/2,height:a.QR_EDGE/2,typeNumber:4,correctLevel:i.default.CorrectLevel.H})),()=>{null!=e.current&&(e.current.clear(),e.current=null,u.current=null)})),[n]),(0,D.jsx)("div",{className:o.default.wrapper,children:(0,D.jsx)("div",{ref:u,className:(0,l.default)(o.default.code,{[o.default.codeDarkMode]:n}),children:(0,D.jsx)(d,{theme:t})})})};var a=t(941906),i=n(t(637360)),o=n(t(202256)),s=t(597628),l=n(t(294184)),r=t(667294),D=t(785893);function d(){return(0,D.jsx)("div",{className:o.default.codeLogo,children:(0,D.jsx)("svg",{width:"100%",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:(0,D.jsx)("path",{d:"M42.6776 42.6779C37.9558 47.3997 31.6777 50.0001 24.9999 50.0001C21.0047 50.0001 17.0541 49.0389 13.5244 47.2141L0.601068 49.3339L2.72832 36.3645C0.941278 32.8647 0 28.9525 0 25.0001C0 18.3223 2.60042 12.0443 7.32229 7.32237C12.0442 2.6005 18.3221 0 24.9999 0C31.6777 0 37.9558 2.6005 42.6776 7.32237C47.3995 12.0443 50 18.3223 50 25.0001C50 31.678 47.3995 37.9558 42.6776 42.6779ZM24.9999 4.33778C13.6067 4.33778 4.33772 13.607 4.33772 25.0001C4.33772 28.4792 5.21935 31.9192 6.8868 34.9487L7.24853 35.6054L5.85915 44.0756L14.2959 42.6918L14.9565 43.0601C18.0107 44.7624 21.4837 45.6622 24.9999 45.6622C36.3932 45.6622 45.6622 36.3933 45.6622 25.0001C45.6622 13.607 36.3932 4.33778 24.9999 4.33778ZM31.1133 24.3614C32.4522 24.9804 34.1536 26.3725 34.1208 29.3117C34.0749 33.4266 31.2191 35.6542 27.2744 35.6542H19.4594H18.3042C17.5079 35.6542 16.8645 35.0053 16.8713 34.2092L17.0344 15.0573C17.041 14.2714 17.6794 13.6377 18.4652 13.6366L27.1493 13.6256C31.4651 13.6256 33.9598 16.039 33.9177 19.8134C33.8903 22.2579 32.2484 23.8355 31.1133 24.3614ZM26.766 17.4622H21.3643L21.3076 22.5361H26.7093C28.5347 22.5361 29.5672 21.5152 29.584 19.9992C29.6009 18.4831 28.5915 17.4622 26.766 17.4622ZM26.9444 26.4035H21.2643L21.2038 31.8178H26.884C28.8333 31.8178 29.7752 30.5802 29.792 29.0952C29.8085 27.6101 28.8939 26.4035 26.9444 26.4035Z",fill:"currentColor"})})})}},574328:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t(227101),i=t(88555),o=t(40234),s=t(781572),l=t(221310),r=n(t(568064)),D=t(914597),d=t(204818),c=n(t(471410)),F=n(t(550747)),C=n(t(54231)),f=n(t(630855)),E=t(33210),h=n(t(23217)),A=t(113923),p=(n(t(575116)),t(898792)),m=n(t(105406)),g=n(t(60453)),B=n(t(69637)),x=n(t(464738)),v=t(994790),b=n(t(104061)),_=t(910081),j=n(t(404584)),M=t(548360),k=t(667294),S=n(t(156720)),y=n(t(859312)),T=n(t(616223)),P=t(587550),w=t(735461),I=n(t(895402)),N=t(785893);const R={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"};function O(u,e){var t,n;const{onClose:k,onMediaGallery:O}=u,L=(0,y.default)(),G=(0,I.default)(),V=(0,T.default)((()=>new f.default)),U=(0,w.useModelValues)(u.chat,["id","groupMetadata"]),z=()=>{if((0,a.isPrivacyNarrativeV1Enabled)()&&(0,E.shouldShowNewE2eInfoModal)((0,d.unproxy)(U))){const u=(0,l.getE2EFaqUrl)();D.ModalManager.open((0,N.jsx)(_.E2eInfoModalV2,{highlightSurface:c.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,url:u}))}else D.ModalManager.open((0,N.jsx)(b.default,{highlightSurface:c.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,chatId:U.id,e2eSubtype:"info_encrypted"}))};(0,P.useListener)(null===(t=U.groupMetadata)||void 0===t?void 0:t.participants,["add","remove","sort","reset"],L);let H=null;O&&(H=(0,N.jsx)(m.default,{onMediaGallery:O,chat:(0,d.unproxy)(U)}));const q=(0,N.jsx)(p.ChatInfoDrawerButtonsSection,{children:(0,N.jsx)(x.default,{testid:"li-delete-broadcast",icon:(0,N.jsx)(h.default,{name:"delete"}),color:"danger",theme:"chat-info",onClick:()=>{s.Cmd.deleteOrExitChat((0,d.unproxy)(U))},children:r.default.t(713)})});let W;(null===(n=U.groupMetadata)||void 0===n?void 0:n.creation)?(W=o.Clock.createdStr(U.groupMetadata.creation),W=(0,N.jsx)(A.TextDiv,{theme:"small",children:W})):W=null;let Y=null;(0,i.isMDBackend)()&&(Y=(0,N.jsx)(j.default,{highlightSurface:c.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_BROADCAST,onClick:z,text:M.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"1iarlI"})}));let K=null;return Y&&(K=(0,N.jsxs)(p.ChatInfoDrawerSection,{children:[null,Y]})),(0,N.jsxs)(g.default,{ref:e,theme:"striped",children:[(0,N.jsxs)(v.DrawerHeader,{type:v.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{k?k():null==G||G.requestDismiss()},children:[(0,N.jsx)(A.TextDiv,{theme:"title",children:M.fbt._("Broadcast list info",null,{hk:"3S4EgV"})}),W]}),(0,N.jsx)(B.default,{flatListControllers:[V.current],children:(0,N.jsxs)("div",{className:(0,S.default)(R),children:[(0,N.jsx)(C.default,{chat:(0,d.unproxy)(U)}),H,undefined,K,(0,N.jsx)(F.default,{chat:(0,d.unproxy)(U),flatListController:V.current}),q]})})]},"contact-info-modal")}var L=(0,k.forwardRef)(O);e.default=L},550747:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e,t;const n=(0,C.default)(),h=null===(e=u.chat.groupMetadata)||void 0===e?void 0:e.participants;(0,f.useListener)(h,"add remove reset",n);const A=(0,F.useMemo)((()=>h?h.map((u=>({itemKey:u.id.toString(),participant:u,height:68}))):[]),[h]),p=(u,e)=>{(0,l.isMePrimary)(e.id)||(0,o.findChat)(e.id).then((function(u){a.Cmd.openChatFromUnread(u).then((e=>{e&&d.ComposeBoxActions.focus(u)}))}))},m=null!==(t=null==h?void 0:h.length)&&void 0!==t?t:0,g=s.default.t(822,{count:m,_plural:m});return(0,E.jsx)(c.ChatInfoDrawerListSection,{title:g,children:(0,E.jsx)(D.FlatList,{flatListController:u.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:A,renderItem:u=>{const{participant:e}=u,t=i.ContactCollection.gadd(e.id);return(0,E.jsx)(r.Contact,{contact:t,theme:"chat-info",admin:!!e.isAdmin,onClick:p,waitIdle:!0},e.id.toString())}})})};var a=t(781572),i=t(903282),o=t(211739),s=n(t(568064)),l=t(978820),r=t(402732),D=t(747915),d=t(188172),c=t(898792),F=t(667294),C=n(t(859312)),f=t(587550),E=t(785893)},54231:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e,t;const n=null===(e=u.chat.groupMetadata)||void 0===e?void 0:e.participants,p=(0,f.useModelValues)(u.chat.contact,["name"]),m=(0,F.default)();(0,C.useListener)(n,"add remove reset",m);const g=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0,B=d.fbt._("Broadcast List",null,{hk:"46AT9o"}).toString()+" "+a.default.t(822,{count:g,_plural:g}),x=p.name?(0,E.jsx)(l.Name,{contact:u.chat.contact,selectable:!0}):d.fbt._("Untitled List",null,{hk:"fYALp"});return(0,E.jsxs)(D.default,{theme:"padding-large",children:[(0,E.jsx)("div",{className:(0,c.default)(h),children:(0,E.jsx)(o.DetailImage,{id:u.chat.id,size:o.DetailImageSize.Large})}),(0,E.jsxs)(s.FlexColumn,{align:"center",children:[(0,E.jsx)(r.TextHeader,{level:"2",size:"24",children:x}),(0,E.jsx)("div",{className:(0,c.default)(A),children:(0,E.jsx)(i.SelectableSpan,{dir:"auto",selectable:!0,children:(0,E.jsx)(r.TextSpan,{size:"16",color:"secondary",children:B})})})]})]})};var a=n(t(568064)),i=t(552596),o=t(288984),s=t(429623),l=t(812176),r=t(113923),D=n(t(833308)),d=t(548360),c=n(t(156720)),F=n(t(859312)),C=t(587550),f=t(735461),E=t(785893);const h={display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"du8bjn1j"},A={lineHeight:"a4ywakfo",marginTop:"g1eqewly"}},105406:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){let{chat:e,onMediaGallery:t}=u;const n=F.fbt._("Media, links and docs",null,{hk:"3D4fAZ"}),a=(0,m.jsx)(c.default,{color:"secondary",name:"chevron-right-alt",directional:!0}),i=(0,m.jsxs)(r.FlexRow,{align:"center",children:[(0,s.isMediaGalleryFixEnabled)()?(0,m.jsx)(B,{chat:e}):(0,m.jsx)(x,{chat:e}),(0,m.jsx)("div",{children:a})]});return(0,m.jsx)(l.ChatInfoDrawerSection,{testid:"section-media",title:n,titleOnClick:t,subtitle:i,xstyle:g.drawerSection,children:(0,m.jsx)(D.default,{chat:e,mediaMsgs:e.getMediaMsgs(),theme:"chat-info"})})};var a=n(t(348926)),i=t(88555),o=t(716055),s=t(408139),l=t(898792),r=t(429623),D=n(t(188224)),d=t(341908),c=n(t(23217)),F=t(548360),C=t(667294),f=n(t(156720)),E=n(t(859312)),h=t(587550),A=n(t(174570)),p=n(t(803409)),m=t(785893);const g={mediaCount:{marginEnd:"bugiwsl0",fontSize:"bze30y65",color:"g01nkquw"},drawerSection:{paddingBottom:"aiput80m"}};function B(u){let{chat:e}=u;const t=function(u){const[e,t]=(0,C.useState)(null),n=(0,p.default)(),a=(0,C.useCallback)((()=>{(0,o.countAllMedia)(u).then((u=>{n.aborted||t(u)}))}),[u,n]);return(0,C.useEffect)(a,[a]),(0,h.useListener)(u.getMediaMsgs(),["add","remove"],a),(0,h.useListener)(u.getDocMsgs(),["add","remove"],a),(0,h.useListener)(u.getLinkMsgs(),["add","remove"],a),e}(e);return(0,m.jsx)("div",{className:(0,f.default)(g.mediaCount),children:t})}function x(u){let{chat:e}=u;const t=function(u){const e=u.getMediaMsgs(),t=u.getDocMsgs(),n=u.getLinkMsgs(),o=(0,E.default)();(0,h.useListener)(e,"add remove reset query_media_before",o),(0,h.useListener)(t,"add remove reset query_doc_before",o),(0,h.useListener)(n,"add remove reset query_link_before",o);const s=(0,A.default)();(0,C.useEffect)((()=>{s((0,a.default)((function*(){const a=[];e.hasMediaBefore&&a.push(e.queryMedia({chat:u})),t.hasDocBefore&&a.push(t.queryDocs(u)),n.hasLinkBefore&&a.push(n.queryLinks(u)),yield Promise.all(a),o()})))}),[u,t,o,n,e,s]);let l=null;if(!e.hasMediaBefore&&!t.hasDocBefore&&!n.hasLinkBefore){let u=e.length;(0,i.isMDBackend)()&&(u=e.filter((u=>(0,d.hasThumbnail)(u.mediaData))).length),l=u+t.length+n.length}return l}(e);return(0,m.jsx)("div",{className:(0,f.default)(g.mediaCount),children:t})}},456873:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{contact:e}=u,{status:t}=(0,d.useModelValues)(e.getStatus(),["status"]),n=""===t?null:(0,c.jsx)(r.default,{multiline:!0,children:(0,c.jsx)(l.TextSpan,{theme:"title",children:(0,c.jsx)(o.default,{id:e.id})})});let C;e.id.isLid()?null!=e.phoneJid&&(C=e.phoneJid):C=e.id;const f=C?(0,c.jsx)(r.default,{separator:!0,children:(0,c.jsx)(s.SelectableSpan,{dir:"auto",selectable:!0,children:(0,c.jsx)(l.TextSpan,{theme:"title",children:(0,i.widToFormattedUser)(C)})})}):null;return(0,c.jsxs)(D.ChatInfoDrawerSection,{xstyle:F.container,testid:"section-about-and-phone-number",title:a.default.t(211),children:[n,f]})};var a=n(t(568064)),i=t(562054),o=n(t(273561)),s=t(552596),l=t(113923),r=n(t(244296)),D=t(898792),d=(n(t(156720)),t(735461)),c=t(785893);const F={container:{paddingBottom:"przvwfww"}}},76864:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{contact:e}=u;let t;t=(0,a.canSeeSMBUpsell)()?(0,C.jsx)(A,{onClick:function(){i.ModalManager.open((0,C.jsx)(r.default,{contact:e}))}}):(0,C.jsx)(h,{onClick:function(){i.ModalManager.open((0,C.jsx)(l.default,{contact:e}))}});return(0,C.jsx)(d.default,{xstyle:f.businessAccount,children:t})};var a=t(408139),i=t(914597),o=n(t(435721)),s=n(t(23217)),l=n(t(962138)),r=n(t(100955)),D=n(t(464738)),d=n(t(833308)),c=t(548360),F=n(t(156720)),C=t(785893);const f={businessAccount:{borderTop:"mug5vpb7",fontSize:"f8jlpxt4"},businessTitleText:{cursor:"ajgl1lbb",fontSize:"f8jlpxt4",lineHeight:"hzeshm6i",overflowX:"gfz4du6o",overflowY:"r7fjleex",paddingTop:"ppypbuwx",backgroundColor:"sbdla0oe"},btnLabel:{fontSize:"f8jlpxt4"},businessTitleWithSMBUpsell:{lineHeight:"hzeshm6i"},bannerSvgContainer:{marginTop:"b9l0eqez",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},bannerSvg:{color:"jq3rn4u7",width:"dh5rsm73"}},E=c.fbt._("This is a business account.",null,{hk:"2x8QUJ"});function h(u){let{onClick:e}=u;return(0,C.jsx)(D.default,{testid:"business-title",xstyle:f.businessTitleText,onClick:e,children:(0,C.jsx)("div",{className:(0,F.default)(f.btnLabel),children:E})})}function A(u){let{onClick:e}=u;return(0,C.jsx)(o.default,{testid:"business-title",xstyle:f.businessTitleWithSMBUpsell,onClick:e,side:(0,C.jsx)(s.default,{xstyle:f.bannerSvgContainer,iconXstyle:f.bannerSvg,display:"inline",name:"info"}),children:E})}},781896:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e,t;const{contact:n,onProductCatalog:M}=u,k=(0,b.useContext)(g.DrawerContext),S=(0,f.getProductCatalogSessionId)(k),y=(0,m.default)((0,c.unproxy)(u.contact));function T(){return(T=(0,a.default)((function*(){const u=yield(0,r.findChat)(n.id);(yield s.Cmd.openChatFromUnread(u))&&(l.DrawerManager.closeDrawerRight(),(0,D.btmThreadsLoggingEnabled)()&&h.ComposeBoxActions.addMsgSendingLogAttributes(u,{handleMultiple(){(0,o.handleActivitiesForChatThreadLogging)([{activityType:"profileReplies",ts:(0,i.unixTime)(),chatId:u.id}])}}))}))).apply(this,arguments)}let P;const w=x.ChatCollection.getActive();if(!(null==w?void 0:w.id.equals(n.id))){var I,N;(0,F.logMessageClick)(S,null===(I=n.businessProfile)||void 0===I?void 0:I.isProfileLinked,!!(null===(N=n.businessProfile)||void 0===N?void 0:N.coverPhoto)),P=(0,_.jsx)(p.default,{icon:"chat-msg",label:v.fbt._("Message",null,{hk:"mZ5DE"}),onClick:()=>{!function(){T.apply(this,arguments)}()},testid:"business-action chat"})}let R,O,L;y.isVoiceCallEnabled&&(R=(0,_.jsx)(p.default,{icon:"voice-call-filled",label:v.fbt._("Voice call",null,{hk:"393mz4"}),disabled:!y.canStartVoiceCall,onClick:()=>{var u,e;(0,F.logVoiceCallClick)(S,null===(u=n.businessProfile)||void 0===u?void 0:u.isProfileLinked,!!(null===(e=n.businessProfile)||void 0===e?void 0:e.coverPhoto)),y.startVoiceCall()},testid:"business-action voice-call"}));(null===(e=n.businessProfile)||void 0===e||null===(t=e.profileOptions)||void 0===t?void 0:t.commerceExperience)===C.COMMERCE_EXPERIENCE_TYPES.CATALOG&&(O=(0,_.jsx)(p.default,{icon:"catalog-filled",label:v.fbt._("Catalog",null,{hk:"3QDkTE"}),onClick:()=>{var u,e;(0,F.logCatalogClick)(S,null===(u=n.businessProfile)||void 0===u?void 0:u.isProfileLinked,!!(null===(e=n.businessProfile)||void 0===e?void 0:e.coverPhoto)),M((0,f.getProductCatalogContext)(k),"ContactInfo")},testid:"business-action catalog"}));if((0,B.hasShop)(n.businessProfile)){(0,D.bannedShopsEnabled)()&&(0,B.isShopBanned)(n.businessProfile)||(L=(0,_.jsx)(p.default,{icon:"shop-filled",label:v.fbt._("Shop",null,{hk:"3KsdlE"}),onClick:function(){var u,e;(0,F.logShopsClick)(S,null===(u=n.businessProfile)||void 0===u?void 0:u.isProfileLinked,!!(null===(e=n.businessProfile)||void 0===e?void 0:e.coverPhoto)),(0,B.goToShop)(n.businessProfile)},testid:"business-action shop"}))}const G=(0,_.jsx)(p.default,{icon:"forward-filled",label:v.fbt._("Share",null,{hk:"4F3c6E"}).toString(),onClick:function(){var u,e;(0,F.logForwardClick)(S,null===(u=n.businessProfile)||void 0===u?void 0:u.isProfileLinked,!!(null===(e=n.businessProfile)||void 0===e?void 0:e.coverPhoto)),d.ModalManager.open((0,_.jsx)(A.SendContactsModalLoadable,{contacts:[(0,c.unproxy)(n)],onContactsSent:u=>{s.Cmd.openChatFromUnread(u).then((()=>{}))}}))},testid:"business-action forward"});return(0,_.jsxs)(E.FlexRow,{xstyle:j.actionsRow,justify:"evenly",children:[P,R,O,L,G]})};var a=n(t(348926)),i=t(892844),o=t(217869),s=t(781572),l=t(141455),r=t(211739),D=t(408139),d=t(914597),c=t(204818),F=t(957501),C=t(53668),f=t(397567),E=t(429623),h=t(188172),A=t(871428),p=n(t(839902)),m=n(t(109582)),g=t(427394),B=t(794010),x=t(669951),v=t(548360),b=t(667294),_=(n(t(156720)),t(785893));const j={actionsRow:{marginTop:"c46o30wg",marginEnd:"bsg2wrd4",marginBottom:"brac1wpa",marginStart:"f459d30t","@media (min-width: 1300px)":{marginStart:"hfp8519b",marginEnd:"acdu7ris"}}}},170531:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{businessHours:e,isProfileLinked:t,hasCoverPhoto:n}=u,i=(0,s.getProductCatalogSessionId)((0,f.useContext)(d.DrawerContext)),l=(0,c.getBusinessOpenState)(e),[r,F]=(0,f.useState)(!0);if(null==e)return null;const p=(0,a.getBusinessHours)(e).map((u=>{const{day:e,hours:t,first:n}=u;let a=e,i=t,o=!1;if(n)switch(l.status){case c.BUSINESS_OPEN_STATUS.OPEN_24H:a=C.fbt._("Open now",null,{hk:"28hpHy"}),i=C.fbt._("Open 24 hours",null,{hk:"1AlfF5"}),o=!0;break;case c.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:a=C.fbt._("Open now",null,{hk:"28hpHy"}),i=C.fbt._("Open by appointment only",null,{hk:"1nxH9v"}),o=!0;break;case c.BUSINESS_OPEN_STATUS.OPEN:a=C.fbt._("Open now",null,{hk:"28hpHy"}),o=!0;break;case c.BUSINESS_OPEN_STATUS.CLOSED_TODAY:i=C.fbt._("Closed",null,{hk:"3IRgct"})}return!n&&r?null:(0,E.jsx)(A,{day:a,dayIsOpen:o,hours:i,first:n,collapsed:r},e)}));return(0,E.jsx)(D.default,{xstyle:h.businessHours,onClick:()=>{(0,o.logHoursClick)(i,t,!!n),F(!r)},testid:"business-hours-expand",children:p})};var a=t(319496),i=n(t(449103)),o=t(957501),s=t(397567),l=t(965417),r=n(t(23217)),D=n(t(701784)),d=t(427394),c=t(794010),F=n(t(294184)),C=t(548360),f=t(667294),E=(n(t(156720)),t(785893));const h={businessHours:{display:"f804f6gw",width:"ln8gz9je",textAlign:"ml4r5409"}};function A(u){if(u.first){const e=(0,E.jsx)("div",{className:i.default.businessHoursChevron,role:"button",children:(0,E.jsx)(r.default,{className:u.collapsed?"":i.default.flipSvg,display:"inline",name:"chevron-down-alt"})});return(0,E.jsxs)("div",{className:(0,F.default)(i.default.businessHoursRow,{[i.default.firstRow]:u.first}),children:[(0,E.jsx)("div",{className:(0,F.default)(i.default.businessHoursDay,{[i.default.dayIsOpen]:u.dayIsOpen}),children:(0,E.jsx)(l.EmojiText,{direction:"auto",text:u.day})}),(0,E.jsx)("div",{className:i.default.businessHoursHours,children:(0,E.jsx)(l.EmojiText,{direction:"auto",text:u.hours})}),e]})}return(0,E.jsxs)("div",{className:i.default.businessHoursRow,children:[(0,E.jsx)("div",{className:i.default.businessHoursDay,children:(0,E.jsx)(l.EmojiText,{direction:"auto",text:u.day})}),(0,E.jsx)("div",{className:i.default.businessHoursHours,children:(0,E.jsx)(l.EmojiText,{direction:"auto",text:u.hours})})]})}},130619:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{businessProfile:e}=u,{description:t,address:n,latitude:g,longitude:B,website:x,email:v,businessHours:b,isProfileLinked:_,coverPhoto:j}=(0,A.useModelValues)(e,["description","address","latitude","longitude","website","email","businessHours","isProfileLinked","coverPhoto"]),M=(0,h.useContext)(f.DrawerContext),k=(0,r.getProductCatalogSessionId)(M);let S,y,T,P,w,I;null!=t&&(S=(0,p.jsx)("div",{className:s.default.section,children:(0,p.jsx)(d.default,{text:t,textLimit:a.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,children:u=>{let{textLimit:e}=u;return(0,p.jsx)(D.EmojiText,{className:s.default.description,selectable:!0,direction:"auto",text:t,textLimit:e,breakWord:!0})}})}));null!=b&&(y=(0,p.jsx)("div",{className:s.default.section,children:(0,p.jsx)(o.default,{businessHours:b,isProfileLinked:_,hasCoverPhoto:!!j})}));null!=n&&(T=(0,p.jsx)("div",{className:s.default.section,children:(0,p.jsx)(D.EmojiText,{selectable:!0,direction:"auto",text:n})}));null!=g&&null!=B&&(P=(0,p.jsx)("div",{style:{height:132},className:(0,E.default)(s.default.section,s.default.map),children:(0,p.jsx)(F.default,{lat:g,lng:B,name:n||"",width:590,height:132,onClick:()=>(0,l.logLocationClick)(k,_,!!j),testid:"business-info-map"})}));null!=v&&(w=(0,p.jsx)("div",{className:s.default.section,children:(0,p.jsx)(c.ExternalLink,{href:`mailto:${v}`,onClick:()=>(0,l.logEmailClick)(k,_,!!j),testid:"business-info-email",children:v})}));null!=x&&x.length>0&&(I=(0,p.jsx)("div",{className:s.default.section,children:x.map((u=>(0,p.jsx)("div",{children:(0,p.jsx)(c.ExternalLink,{href:i.default.toMaliciousSiteRedirect(u),onClick:()=>(0,l.logWebsiteClick)(k,_,!!j),testid:"business-info-website",children:u})},u)))}));return null==S&&null==y&&null==T&&null==P&&null==w&&null==I?null:(0,p.jsxs)(C.ChatInfoDrawerSection,{xstyle:m.container,children:[S,y,T,P,w,I]})};var a=n(t(364369)),i=n(t(376139)),o=n(t(170531)),s=n(t(646311)),l=t(957501),r=t(397567),D=t(965417),d=n(t(217080)),c=t(912591),F=n(t(183452)),C=t(898792),f=t(427394),E=n(t(294184)),h=t(667294),A=(n(t(156720)),t(735461)),p=t(785893);const m={container:{paddingTop:"i4pc7asj",paddingBottom:"q1nnjopg"}}},433253:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e;const{contact:t,isNoteToSelfChat:n}=u;let E,h,A;var p;null!=(null===(e=t.businessProfile)||void 0===e?void 0:e.customUrl)&&(0,a.isSmbMelonDisplayEnabled)()&&(A=(0,r.jsx)("div",{className:(0,l.default)(c),children:(0,r.jsx)(i.EmojiText,{text:null===(p=t.businessProfile)||void 0===p?void 0:p.customUrl,direction:"auto",titlify:!0,breakWord:!0,inlineblock:!0})}));if(t.isMe)if(t.name!==t.verifiedName){let u;t.showBusinessCheckmarkAsSecondary&&(u=(0,r.jsx)("div",{className:(0,l.default)(d),children:(0,r.jsx)(s.default,{name:"psa-verified"})})),E=(0,r.jsx)(o.Name,{contact:t,showNoteToSelfName:n,breakWord:!0}),h=(0,r.jsx)("div",{className:(0,l.default)(c),children:(0,r.jsxs)("div",{className:(0,l.default)(f),children:[(0,r.jsx)(i.EmojiText,{text:`~${t.verifiedName}`,className:(0,l.default)(C),direction:"auto",ellipsify:!0,titlify:!0}),u]})})}else E=(0,r.jsx)(o.Name,{contact:t,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary,showNoteToSelfName:n,breakWord:!0});else E=(0,r.jsx)(i.EmojiText,{text:t.verifiedName,direction:"auto",ellipsify:!0,titlify:!0,breakWord:!0}),h=(0,r.jsx)("div",{className:(0,l.default)(c),children:(0,r.jsx)(o.Name,{contact:t,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary})});return(0,r.jsxs)("div",{className:(0,l.default)(D),children:[(0,r.jsx)("div",{className:(0,l.default)(F),children:E}),h,A]})};var a=t(408139),i=t(965417),o=t(812176),s=n(t(23217)),l=n(t(156720)),r=t(785893);const D={marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"},d={display:"ew8mgplc",marginTop:"o9i7y497",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"k6y3xtnu"},c={color:"p6nhtbpp",fontSize:"enbbiyaj",lineHeight:"tkq7s68q",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"inww9tbj",marginStart:"svoq16ka"},F={fontSize:"iqrewfee",fontWeight:"sy6s5v3r",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"or9x5nie",marginStart:"svoq16ka"},C={flexGrow:"tvf2evcx"},f={display:"p357zi0d",justifyContent:"ac2vgrno"}},587185:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessOpenHours=function(u){const{hours:e}=u,t=C((0,i.getBusinessOpenState)(e));if(null==t)return null;const n=o.default.sanitize(t.toString());return(0,r.jsx)("div",{className:(0,l.default)(c),dangerouslySetInnerHTML:{__html:n}})},e.getBusinessOpenStr=C;var a=n(t(568064)),i=t(794010),o=n(t(827856)),s=t(548360),l=n(t(156720)),r=t(785893);const D={color:"mvxzr2tb"},d={color:"j5au4wul"},c={color:"sbs3osm6",fontSize:"f8jlpxt4",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"g105fvfm",marginStart:"svoq16ka"};function F(u){return null==u?"":u.toLocaleTimeString(a.default.getLocale(),{hour:"numeric",minute:"2-digit"})}function C(u){switch(u.status){case i.BUSINESS_OPEN_STATUS.OPEN_24H:return s.fbt._("{open} 24 hours",[s.fbt._param("open",`<span class="${(0,l.default)(d)}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"1aA6f9"});case i.BUSINESS_OPEN_STATUS.OPEN_APPOINTMENT:return s.fbt._("{open} by appointment only",[s.fbt._param("open",`<span class="${(0,l.default)(d)}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`)],{hk:"z8CGT"});case i.BUSINESS_OPEN_STATUS.OPEN:if(u.openUntil&&u.additionalOpen&&u.additionalClose)return s.fbt._("{open} until {time}, {additionalOpenTime} - {additionalCloseTime}",[s.fbt._param("open",`<span class="${(0,l.default)(d)}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),s.fbt._param("time",F(u.openUntil)),s.fbt._param("additionalOpenTime",F(u.additionalOpen)),s.fbt._param("additionalCloseTime",F(u.additionalClose))],{hk:"2dJgLQ"});if(u.openUntil)return s.fbt._("{open} until {time}",[s.fbt._param("open",`<span class="${(0,l.default)(d)}">${s.fbt._("Open",null,{hk:"187rvw"}).toString()}</span>`),s.fbt._param("time",F(u.openUntil))],{hk:"3Dd8an"});break;case i.BUSINESS_OPEN_STATUS.CLOSED:return u.opensAt?s.fbt._("{closed}, opens at {time}",[s.fbt._param("closed",`<span class="${(0,l.default)(D)}">${s.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`),s.fbt._param("time",F(u.opensAt))],{hk:"LvVmY"}):`<span class="${(0,l.default)(D)}">${s.fbt._("Closed now",null,{hk:"2oDK4r"}).toString()}</span>`;case i.BUSINESS_OPEN_STATUS.CLOSED_TODAY:return`<span class="${(0,l.default)(D)}">${s.fbt._("Closed today",null,{hk:"3uCCvH"}).toString()}</span>`}return null}},990347:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessProfile=function(u){let e;const t=(0,j.useModelValues)(u.contact,["id","verifiedLevel","name","verifiedName"]),n=(0,j.useModelValues)(u.businessProfile,["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]);(0,_.useEffect)((()=>{new r.default.ViewBusinessProfile({viewBusinessProfileAction:r.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION}).commit()}),[]);const s=(u,e,t,n)=>{const a=n?(u=>{const{streetAddress:e,localizedCityName:t,zipCode:n}=u;return e&&t&&n?b.fbt._("{streetAddress}, {city} {zipCode}",[b.fbt._param("streetAddress",e),b.fbt._param("city",t),b.fbt._param("zipCode",n)],{hk:"1McVXv"}).toString():e&&t?b.fbt._("{streetAddress}, {city}",[b.fbt._param("streetAddress",e),b.fbt._param("city",t)],{hk:"1zyKhk"}).toString():e})(n):null;let i,o;if(null!=e&&null!=t&&(i=(0,M.jsx)("div",{style:{height:150},className:D.default.businessMap,children:(0,M.jsx)(E.default,{lat:e,lng:t,name:a||u,width:565,height:150})})),a){let u;u=null!=e&&null!=t?(0,h.getMapUrl)(e,t,a):(0,h.getSearchUrl)(a),o=(0,M.jsx)("div",{className:D.default.address,children:(0,M.jsx)(f.ExternalLink,{href:u,children:(0,M.jsx)(F.EmojiText,{selectable:!0,direction:"auto",text:a})})})}return o||i?(0,M.jsxs)(P,{icon:"business-address",children:[o,i]}):null};e=(0,o.canSeeSMBUpsell)()?(0,M.jsx)(k,{contact:t}):(0,M.jsx)(y,{contact:t});let d,c,p,m,g,B,v;const T=n;if(T.stale)d=(0,M.jsx)("div",{className:D.default.contactBusinessInfoSpinner,children:(0,M.jsx)(A.Spinner,{size:20,stroke:5})});else{var w;if(c=(null===(w=T.categories)||void 0===w?void 0:w.length)?(0,M.jsx)(P,{icon:"business-category",children:(0,M.jsx)(F.EmojiText,{selectable:!0,direction:"auto",text:T.categories.map((u=>u.localized_display_name)).join(i.default.t(254))})}):null,p=T.description?(0,M.jsx)(P,{icon:"business-description",children:(0,M.jsx)(C.default,{text:T.description,textLimit:a.default.BUSINESS_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,children:u=>{let{textLimit:e}=u;return(0,M.jsx)(F.EmojiText,{selectable:!0,direction:"auto",breakWord:!0,text:T.description,textLimit:e})}})}):null,m=s(t.name,T.latitude,T.longitude,T.structuredAddress),T.website&&Array.isArray(T.website)&&T.website.length&&(g=T.website.map(((u,e)=>{const t=(0,l.getWebsiteLink)(u),n=(0,M.jsx)(F.EmojiText,{selectable:!0,direction:"auto",text:u}),a=(0,M.jsx)(f.ExternalLink,{className:D.default.link,href:t,children:n});return(0,M.jsx)(P,{icon:"business-website",children:a},e)}))),T.businessHours&&(B=(0,M.jsx)(S,{businessHours:T.businessHours})),T.email){const u=(0,M.jsx)(F.EmojiText,{selectable:!0,direction:"auto",text:T.email}),e=(0,M.jsx)(f.ExternalLink,{className:D.default.link,href:`mailto:${T.email}`,children:u});v=(0,M.jsx)(P,{icon:"business-email",dir:"auto",children:e})}}let I;(d||null!=m||c||p||null!=B||v||g)&&(I=(0,M.jsx)(x.default,{theme:"padding",children:(0,M.jsxs)("div",{className:D.default.contactBusinessInfo,children:[d,m,c,p,B,v,g]})}));return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(x.default,{children:e}),I]})};var a=n(t(364369)),i=n(t(568064)),o=t(408139),s=t(914597),l=t(319496),r=n(t(471410)),D=n(t(652898)),d=t(53668),c=n(t(435721)),F=t(965417),C=n(t(217080)),f=t(912591),E=n(t(183452)),h=t(808384),A=t(111054),p=n(t(23217)),m=n(t(962138)),g=n(t(100955)),B=n(t(464738)),x=n(t(833308)),v=n(t(294184)),b=t(548360),_=t(667294),j=t(735461),M=t(785893);function k(u){let{contact:e}=u;const t=e.verifiedLevel===d.VERIFIED_LEVEL.HIGH?b.fbt._("Official business account",null,{hk:"1KruJ"}):b.fbt._("Business account",null,{hk:"2lzdAg"});return(0,M.jsx)(c.default,{testid:"business-title",onClick:s.ModalManager.open((0,M.jsx)(g.default,{contact:e})),side:(0,M.jsx)(p.default,{className:D.default.infoIcon,display:"inline",name:"info"}),children:t})}function S(u){let{businessHours:e}=u;const[t,n]=(0,_.useState)(!0),a=(0,l.getBusinessHours)(e).map((u=>{const{day:e,hours:n,first:a}=u;return!a&&t?null:(0,M.jsx)(T,{day:e,hours:n,first:a,collapsed:t},e)}));return(0,M.jsx)(P,{icon:"business-hours",onClick:()=>n(!t),children:a})}function y(u){let e,{contact:t}=u;switch(t.verifiedLevel){case d.VERIFIED_LEVEL.HIGH:e=b.fbt._("Official business account",null,{hk:"1KruJ"});break;case d.VERIFIED_LEVEL.LOW:case d.VERIFIED_LEVEL.UNKNOWN:e=b.fbt._("Business account",null,{hk:"2lzdAg"})}return(0,M.jsx)(B.default,{testid:"business-title",className:D.default.businessTitleText,onClick:()=>{s.ModalManager.open((0,M.jsx)(m.default,{contact:t}))},children:e})}const T=u=>{const e=u.first?(0,M.jsx)("div",{className:D.default.businessHoursChevron,role:"button",children:(0,M.jsx)(p.default,{className:u.collapsed?"":D.default.flipSvg,display:"inline",name:"chevron-down-alt"})}):null;return(0,M.jsxs)("div",{className:D.default.businessHoursRow,children:[(0,M.jsx)("div",{className:D.default.businessHoursDay,children:(0,M.jsx)(F.EmojiText,{direction:"auto",text:u.day})}),(0,M.jsx)("div",{className:D.default.businessHoursHours,children:(0,M.jsx)(F.EmojiText,{direction:"auto",text:u.hours})}),e]})},P=u=>(0,M.jsxs)("div",{className:(0,v.default)(D.default.dataRow,u.className),onClick:u.onClick,children:[(0,M.jsx)("div",{className:D.default.dataRowIcon,children:(0,M.jsx)(p.default,{name:u.icon})}),(0,M.jsx)("div",{className:D.default.dataRowText,children:u.children})]})},918408:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){let{contact:e,businessProfile:t,onOpenStatus:n,onProductCatalog:f,onProfilePicLoad:E,onProfilePicClick:h,isNoteToSelfChat:A}=u;const{businessHours:p,categories:m}=(0,d.useModelValues)(t,["businessHours","categories"]),g=(0,c.jsx)(o.default,{contact:e,isNoteToSelfChat:A});let B;null!=m&&m.length>0&&(B=(0,c.jsx)("div",{className:(0,D.default)(C),children:m.map((u=>u.localized_display_name)).join(a.default.t(253))}));const x=p?(0,c.jsx)(s.BusinessOpenHours,{hours:p}):null,v=e.businessProfile?(0,c.jsx)(l.default,{contact:e,businessProfile:e.businessProfile,onClick:h,onOpenStatus:n,onLoad:E}):null;return(0,c.jsxs)(r.default,{theme:"padding-no-margin",children:[v,(0,c.jsxs)("div",{className:(0,D.default)(F),children:[g,B,x,(0,c.jsx)(i.default,{contact:e,onProductCatalog:f})]})]})};var a=n(t(568064)),i=n(t(781896)),o=n(t(433253)),s=t(587185),l=n(t(724697)),r=n(t(833308)),D=n(t(156720)),d=t(735461),c=t(785893);const F={textAlign:"qfejxiq4"},C={marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"brac1wpa",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6",lineHeight:"jgi8eev7"}},523073:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){let{contact:e}=u;const{status:t}=(0,D.useModelValues)(e.getStatus(),["status"]);if(""===t)return null;if(a.default.isPSA(e.id))return(0,d.jsxs)(l.ChatInfoDrawerSection,{testid:"section-about",title:"",children:[(0,d.jsxs)(s.TextSpan,{theme:"title",size:"16",children:[r.fbt._("Hi! Welcome to this official WhatsApp chat.",null,{hk:"1fpFwJ"}).toString(),(0,d.jsx)("br",{}),r.fbt._("This is where you can get tips, see announcements, and hear about the newest features. Straight from us.",null,{hk:"4gcJHK"}).toString(),(0,d.jsx)("br",{}),r.fbt._('Official chats from WhatsApp will always have a green "verified" checkmark. And we\'ll never ask for your personal information.',null,{hk:"8bwzI"}).toString()]}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)(o.ExternalLink,{href:"https://whatsapp.com/",xstyle:c.whatsapp_url,children:"https://whatsapp.com/"})]});return(0,d.jsx)(l.ChatInfoDrawerSection,{testid:"section-about",title:r.fbt._("About",null,{hk:"4qoAfH"}),children:(0,d.jsx)(s.TextSpan,{theme:"title",size:"16",children:(0,d.jsx)(i.default,{id:e.id})})})};var a=n(t(389867)),i=n(t(273561)),o=t(912591),s=t(113923),l=t(898792),r=t(548360),D=(n(t(156720)),t(735461)),d=t(785893);const c={whatsapp_url:{color:"hafg4y3t"}}},93861:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const e=(0,C.useModelValues)(u.contact,["commonGroups"]).commonGroups,[t,n]=(0,c.useState)(!0);(0,c.useEffect)((()=>{(0,i.findCommonGroups)(u.contact).catch((u=>{throw __LOG__(4,!0,new Error,!0)`get from participants table failed`,SEND_LOGS("get from participants table failed when finding common groups: "+u),new Error("get from participants table failed")}))}),[]);const E=(0,F.default)(e,["add","remove"],(()=>{if(!e)return[];let u=e;return u.length>r.INFO_DRAWER_MAX_ROWS&&t&&(u=u.slice(0,r.INFO_DRAWER_MAX_ROWS)),u.map((u=>({itemKey:u.id.toString(),chat:u,height:68})))}),[t]),h=()=>{n(!1)},A=(e,t)=>{a.Cmd.openChatFromUnread(t).then((u=>{u&&l.ComposeBoxActions.focus(t)})),u.onClose()};if(!e||0===e.length)return null;let p;if(e.length>r.INFO_DRAWER_MAX_ROWS&&t){const u=e.length-r.INFO_DRAWER_MAX_ROWS;p=(0,f.jsx)(D.default,{numMore:u,onClick:h})}const m=d.fbt._({"*":"{number} groups in common",_1:"1 group in common"},[d.fbt._plural(e.length,"number")],{hk:"2bl4a5"});return(0,f.jsxs)(r.ChatInfoDrawerListSection,{testid:"section-common-groups",title:m,children:[(0,f.jsx)(s.FlatList,{flatListController:u.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:E,renderItem:u=>{const{chat:e}=u;return(0,f.jsx)(o.Chat,{chat:e,theme:"chat-info",mode:o.Mode.INFO,onClick:A},e.id.toString())}}),p]})};var a=t(781572),i=t(415124),o=t(865511),s=t(747915),l=t(188172),r=t(898792),D=n(t(31808)),d=t(548360),c=t(667294),F=n(t(196570)),C=t(735461),f=t(785893)},537380:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(81109)),i=t(450796),o=t(451897),s=t(892844),l=t(257243),r=t(492574),D=t(88555),d=t(217869),c=t(781572),F=t(165581),C=t(141455),f=n(t(568064)),E=t(466863),h=t(408139),A=t(914597),p=t(767336),m=t(204818),g=t(694816),B=t(978820),x=n(t(471410)),v=n(t(389867)),b=n(t(456873)),_=n(t(76864)),j=n(t(130619)),M=t(957501),k=t(990347),S=n(t(918408)),y=n(t(523073)),T=n(t(93861)),P=n(t(487624)),w=n(t(897140)),I=n(t(45301)),N=n(t(47091)),R=n(t(433964)),O=n(t(235580)),L=n(t(329516)),G=t(2259),V=n(t(777577)),U=n(t(542953)),z=t(397567),H=t(409153),q=n(t(696222)),W=t(561086),Y=n(t(630855)),K=n(t(103721)),X=n(t(23217)),Z=t(113923),$=t(950452),J=t(656057),Q=t(582145),uu=n(t(575116)),eu=t(898792),tu=n(t(105406)),nu=n(t(60453)),au=n(t(69637)),iu=n(t(464738)),ou=t(427394),su=t(994790),lu=n(t(833308)),ru=n(t(243895)),Du=n(t(871528)),du=t(794010),cu=t(599989),Fu=t(669951),Cu=n(t(268132)),fu=t(548360),Eu=t(161509),hu=t(667294),Au=n(t(156720)),pu=n(t(616223)),mu=t(735461),gu=n(t(955010)),Bu=n(t(895402)),xu=t(785893);const vu={body:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},lastSectionRow:{marginBottom:"brac1wpa"}};function bu(u){let{contact:e,catalogContext:t,onProductDetail:n,onProductCatalog:a}=u;const i=cu.CatalogCollection.get(e.id);if(!i)return null;let o="",s=!1;(0,h.canSeeBizProfileV3)()&&(o=fu.fbt._("See all",null,{hk:"3dTwyT"}),s=!0);const{session:l}=t;return l.isAccidental()?null:(0,du.hasShop)(e.businessProfile)?(0,h.bannedShopsEnabled)()&&(0,du.isShopBanned)(e.businessProfile)?null:(0,xu.jsx)(q.default,{businessProfile:e.businessProfile,catalog:i,subtitle:o,hideIncompleteRows:s}):(0,xu.jsx)(U.default,{onProductDetail:n,onProductCatalog:a,catalog:i,subtitle:o,hideIncompleteRows:s,shouldLog:!0})}function _u(u,e){const{onVerification:t,onClose:n,onProductDetail:U,onProductCatalog:q,canLogQpl:du=!0}=u,_u=(0,Bu.default)(),ju=(0,hu.useContext)(ou.DrawerContext),Mu=(0,mu.useModelValues)(u.contact,["id","formattedName","formattedUser","formattedShortName","isBusiness","isEnterprise","isMyContact","commonGroups","businessProfile","showBusinessCheckmarkAsPrimary","showBusinessCheckmarkAsSecondary","verifiedName","verifiedLevel","name","notifyName","labels","phoneJid","businessCatalog","isMe","statusMute","displayName","shareOwnPn"]),ku=(0,pu.default)((()=>new Y.default)),Su=(0,hu.useRef)(!1),[yu,Tu]=(0,hu.useState)(100),Pu=(0,hu.useMemo)((()=>Fu.ChatCollection.get(Mu.id)),[Mu.id]),wu=Mu.isMe&&(0,l.getABPropConfigValue)("note_to_self");(0,hu.useEffect)((()=>{Mu.businessProfile&&!Mu.businessProfile.stale&&Mu.businessCatalog&&cu.CatalogCollection.findCarouselCatalog(Mu.id).catch((0,i.filteredCatch)(r.ServerStatusCodeError,(()=>{__LOG__(3)`Failed to fetch product catalog in contact drawer from server`}))),(0,D.isMDBackend)()&&(0,p.getFanOutListJob)([Mu.id,(0,B.assertGetMe)()]).then((u=>{(0,E.ensureE2ESessions)(u)}));const{session:e}=(0,z.getProductCatalogContext)(ju);if(e.isAccidental())C.DrawerManager.setDrawerContext("right",(0,z.buildProductCatalogContext)(new H.ProductCatalogSession,(0,F.getMaybeBizPlatformForLogging)(Mu.id.toString()),x.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE));else if(Mu.isBusiness&&(0,h.canSeeBizProfileV3)()){const e=Mu.id===(0,B.getMaybeMeUser)(),{profileEntryPoint:a}=u;var t,n;if(!e&&a)(0,M.logProfileImpression)((0,z.getProductCatalogSessionId)(ju),a,!!(null===(t=Mu.businessProfile)||void 0===t?void 0:t.isProfileLinked),!!(null===(n=Mu.businessProfile)||void 0===n?void 0:n.coverPhoto))}du&&Mu.businessProfile&&(0,J.qplEndProfileView)(o.QuickLogActionType.SUCCESS)}),[]),(0,hu.useEffect)((()=>{if((0,h.btmThreadsLoggingEnabled)()){var u;const e=null===(u=(0,B.getMaybeMeUser)())||void 0===u?void 0:u.equals(Mu.id),{session:t}=(0,z.getProductCatalogContext)(ju);t.isAccidental()||e||!(null==Pu?void 0:Pu.id)||(0,d.handleActivitiesForChatThreadLogging)([{activityType:"profileViews",ts:(0,s.unixTime)(),chatId:Pu.id}])}}),[]),(0,gu.default)((()=>{const{session:u}=(0,z.getProductCatalogContext)(ju);var e,t;u.isAccidental()||Mu.isBusiness&&(0,h.canSeeBizProfileV3)()&&(0,M.logProfileExit)((0,z.getProductCatalogSessionId)(ju),yu,null===(e=Mu.businessProfile)||void 0===e?void 0:e.isProfileLinked,!!(null===(t=Mu.businessProfile)||void 0===t?void 0:t.coverPhoto))}));const Iu=()=>{n?n():null==_u||_u.requestDismiss()},Nu=u=>{if(!Su.current&&!v.default.isPSA(Mu.id))return void g.ToastManager.open((0,xu.jsx)($.Toast,{id:(0,$.genId)(),msg:fu.fbt._("No profile photo",null,{hk:"2bdeTO"})}));const e=u.target;A.ModalManager.openMedia((0,xu.jsx)(Du.default,{contact:Mu,profilePicThumb:Mu.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:u=>{u(e)}}),{transition:"profile-viewer",uim:_u})},Ru=()=>{Su.current=!0},Ou=u=>{(0,Q.qplStartProductView)("ContactInfo"),U(u)},Lu=u=>{const e=Math.floor(100*(1+u.currentTarget.scrollTop/u.currentTarget.offsetHeight));e>yu&&Tu(e)},Gu=Mu.isEnterprise?null:(0,xu.jsx)(T.default,{contact:Mu,onClose:Iu,flatListController:ku.current});let Vu=null;u.onMediaGallery&&Pu&&(Vu=(0,xu.jsx)(tu.default,{chat:Pu,onMediaGallery:u.onMediaGallery}));let Uu=null;Pu&&(Uu=(0,xu.jsx)(ru.default,{chat:Pu,onClick:u.onLiveLocation}));let zu=null,Hu=null;if(Mu&&Mu.isBusiness&&Mu.businessProfile&&Mu.businessCatalog){const u=(0,xu.jsx)(bu,{contact:Mu,catalogContext:(0,z.getProductCatalogContext)(ju),onProductDetail:Ou,onProductCatalog:q});(0,h.canSeeBizProfileV3)()?Hu=u:zu=u}const qu=Pu&&Pu.mute.canMute()?(0,xu.jsx)(K.default,{chat:Pu,mute:Pu.mute,settings:Cu.default}):null;let Wu,Yu;if(u.onStarred&&(Wu=(0,xu.jsx)(I.default,{chat:Pu,onStarred:u.onStarred,onContactCard:u.onContactCard})),(0,Eu.isKeepInChatReadAndUIEnabled)()&&Pu&&(Pu.hasKeptMsgs()||Pu.isEphemeralSettingOn())){const e=(0,xu.jsx)(Z.TextSpan,{theme:"title",size:"16",children:fu.fbt._("Kept Messages",null,{hk:"w8m3u"})});Yu=(0,xu.jsx)(eu.ChatInfoDrawerSection,{testid:"section-kept-messages",xstyle:vu.lastSectionRow,children:(0,xu.jsx)(uu.default,{testid:"block-kept-messages",side:"chevron",icon:"keep-in-chat",onClick:u.onKept,title:e})})}const Ku=Pu&&Pu.shouldShowEphemeralSetting()?(0,xu.jsx)(W.EphemeralSettingRow,{onClick:u.onEphemeral,chat:Pu,testid:"contact-info-dm-setting-row"}):null,Xu=(0,D.isMDBackend)()?v.default.isPSA(Mu.id)?(0,xu.jsx)(R.default,{}):(0,xu.jsx)(P.default,{contact:(0,m.unproxy)(Mu),onVerificationClick:()=>{t()}}):null,Zu=Pu&&(0,G.pnhCtwaEnabled)()&&!v.default.isPSA(Mu.id)?(0,xu.jsx)(L.default,{chat:Pu}):null;let $u=null;(qu||Ku||Xu)&&($u=(0,xu.jsxs)(eu.ChatInfoDrawerSection,{children:[qu,Ku,Xu,Zu]}));const Ju=!Mu.isBusiness,Qu=Ju?null:(0,xu.jsx)(b.default,{contact:(0,m.unproxy)(Mu)}),ue=Ju?(0,xu.jsx)(y.default,{contact:(0,m.unproxy)(Mu)}):null,ee=(0,h.canSeeBizProfileV3)()&&Mu.isBusiness&&Mu.businessProfile?(0,xu.jsx)(S.default,{contact:Mu,onProfilePicLoad:Ru,onProfilePicClick:Nu,onOpenStatus:()=>{var u,e;(0,M.logStatusClick)((0,z.getProductCatalogSessionId)(ju),null===(u=Mu.businessProfile)||void 0===u?void 0:u.isProfileLinked,!!(null===(e=Mu.businessProfile)||void 0===e?void 0:e.coverPhoto))},businessProfile:Mu.businessProfile,onProductCatalog:q,isNoteToSelfChat:wu}):(0,xu.jsx)(N.default,{contact:Mu,chat:Pu,onDetailImageLoad:Ru,onDetailImageClick:Nu,isNoteToSelfChat:wu});let te,ne,ae,ie=null;var oe,se;Mu.isBusiness&&Mu.businessProfile&&((0,h.canSeeBizProfileV3)()&&Mu.businessProfile?(ie=(0,xu.jsx)(j.default,{businessProfile:Mu.businessProfile}),te=(0,xu.jsx)(_.default,{contact:Mu}),(null!==(oe=null===(se=Mu.labels)||void 0===se?void 0:se.length)&&void 0!==oe?oe:0)>0&&(ne=(0,xu.jsx)(lu.default,{theme:"padding",children:(0,xu.jsx)(V.default,{labels:Mu.labels,theme:"standalone"})})),ae=Lu):Mu.businessProfile&&(ie=(0,xu.jsx)(k.BusinessProfile,{contact:Mu,businessProfile:Mu.businessProfile})));const le={title:fu.fbt._("Contact info",null,{hk:"LUJtH"}),type:su.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:Iu};let re;return Mu.businessProfile&&!0===Mu.businessProfile.isProfileLinked&&(0,h.bizLinkedAccountsEnabled)()&&(0,h.canViewBizLinkedAccounts)()&&(re=(0,xu.jsx)(O.default,{businessProfile:Mu.businessProfile,rowTheme:"linked-account-consumer"})),(0,xu.jsxs)(nu.default,{ref:e,theme:"striped",testid:"contact-info-drawer",children:[(0,xu.jsx)(su.DrawerHeader,(0,a.default)({},le)),(0,xu.jsx)(au.default,{flatListControllers:[ku.current],onScroll:ae,children:(0,xu.jsxs)("section",{className:(0,Au.default)(vu.body),children:[ee,te,ne,Hu,ie,re,Uu,zu,ue,Vu,Wu,Yu,$u,Qu,undefined,!wu&&Gu,!wu&&(0,xu.jsx)(w.default,{contact:Mu}),(0,xu.jsx)(eu.ChatInfoDrawerButtonsSection,{children:Pu?(0,xu.jsx)(iu.default,{testid:"li-delete-chat",icon:(0,xu.jsx)(X.default,{name:"delete"}),color:"danger",onClick:()=>{const u=Fu.ChatCollection.assertGet(Mu.id);c.Cmd.deleteOrExitChatFromEntryPoint(u,12)},theme:"chat-info",children:f.default.t(222)}):null})]})})]},"contact-info-modal")}var ju=(0,hu.forwardRef)(_u);e.default=ju},487624:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{onVerificationClick:e}=u,t=(0,F.useModelValues)(u.contact,["id","privacyMode"]),n=function(u,e){if((0,a.default)(e.user))return{text:c.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"}),title:c.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,r.default)(c.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),(0,i.getSupportChatSafetyFaqUrl)(),c.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}))}};switch(u){case o.ReducedPrivacyMode.E2EE:return null;case o.ReducedPrivacyMode.BSP:return{text:c.fbt._("This business works with other companies to manage this chat. Click to learn more.",null,{hk:"VbOOZ"}),title:c.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,r.default)((0,D.formatBspModalText)(),(0,i.getE2EEnterpriseFaqUrl)())}};case o.ReducedPrivacyMode.FB:return{text:c.fbt._("This business uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"3wvGOC"}),title:c.fbt._("Security",null,{hk:"3j3j0a"}),onClick:()=>{(0,r.default)((0,D.formatFbModalText)(),(0,i.getE2EEnterpriseFaqUrl)())}}}}((0,o.getReducedPrivacyMode)(t.privacyMode),t.id);if(n)return(0,C.jsx)(d.default,{highlightSurface:l.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,title:n.title,text:n.text,onClick:n.onClick});const f=(0,s.isVoiceCallEnabled)()||(0,s.isVideoCallEnabled)()?c.fbt._("Messages and calls are end-to-end encrypted. Click to verify.",null,{hk:"GtGQH"}):c.fbt._("Messages are end-to-end encrypted. Click to verify.",null,{hk:"1AqhWR"});return(0,C.jsx)(d.default,{highlightSurface:l.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,onClick:e,text:f})};var a=n(t(726682)),i=t(221310),o=t(108197),s=t(176565),l=n(t(471410)),r=n(t(632162)),D=t(726722),d=n(t(404584)),c=t(548360),F=t(735461),C=t(785893)},897140:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const e=(0,A.useModelValues)(u.contact,["id","displayName","isBusiness","isContactBlocked"]),t=(0,p.jsx)(D.Name,{contact:u.contact,skipCheckMark:!0});let n=null;n=e.isContactBlocked?(0,p.jsx)(C.default,{testid:"li-unblock",color:"success",icon:(0,p.jsx)(d.default,{name:"settings-blocked",directional:!0}),onClick:()=>{i.ModalManager.open((0,p.jsx)(F.default,{okText:h.fbt._("Unblock",null,{hk:"hnS4w"}),onOK:()=>{const t=E.ChatCollection.get(e.id);if(null==t?void 0:t.isPSA){const u=t.msgs.last();(0,l.logChatPSARemove)(u,2,3)}(0,a.unblockContact)(u.contact),i.ModalManager.close()},onCancel:()=>i.ModalManager.close(),title:h.fbt._("Unblock {contact_name}?",[h.fbt._param("contact_name",t)],{hk:"13BuiO"})}))},theme:"chat-info",children:h.fbt._("Unblock {contact_name}",[h.fbt._param("contact_name",t)],{hk:"1fZZEx"})}):(0,p.jsx)(C.default,{testid:"li-block",color:"danger",icon:(0,p.jsx)(d.default,{name:"settings-blocked",directional:!0}),onClick:()=>{i.ModalManager.open((0,p.jsx)(F.default,{onOK:()=>{const t=E.ChatCollection.get(e.id);if(null==t?void 0:t.isPSA){const u=t.msgs.last();(0,l.logChatPSARemove)(u,1,1)}(0,a.blockContact)(u.contact),i.ModalManager.close()},okText:h.fbt._("Block",null,{hk:"9s17C"}),onCancel:()=>i.ModalManager.close(),title:h.fbt._("Block {contact_name}?",[h.fbt._param("contact_name",t)],{hk:"26yDKy"}),children:h.fbt._("Blocked contacts will no longer be able to call you or send you messages.",null,{hk:"3ioCkx"})}))},theme:"chat-info",children:h.fbt._("Block {contact_name}",[h.fbt._param("contact_name",t)],{hk:"laDqJ"})});let m=h.fbt._("Report business",null,{hk:"2Tvnn8"});e.isBusiness||(m=h.fbt._("Report {contact_name}",[h.fbt._param("contact_name",t)],{hk:"3Dqyjo"}));const g=r.default.isPSA(e.id)?null:(0,p.jsx)(C.default,{testid:"li-report-spam",color:"danger",icon:(0,p.jsx)(d.default,{name:"thumbs-down",directional:!0}),onClick:()=>{i.ModalManager.open((0,p.jsx)(f.default,{isMessage:!1,isBusiness:u.contact.isBusiness,isGroupChat:!1,onReport:()=>{const e=E.ChatCollection.get(u.contact.id);e&&(0,o.sendSpamReport)(e,s.SpamFlow.AccountInfoReport),i.ModalManager.close()},onReportBlockClear:()=>{const e=E.ChatCollection.get(u.contact.id);e&&(0,o.sendSpamBlockClear)(e,s.SpamFlow.AccountInfoReport),i.ModalManager.close()},onCancel:()=>i.ModalManager.close()}))},theme:"chat-info",children:m});return(0,p.jsxs)(c.ChatInfoDrawerButtonsSection,{children:[n,g]})};var a=t(48826),i=t(914597),o=t(45775),s=t(387674),l=t(587988),r=n(t(389867)),D=t(812176),d=n(t(23217)),c=t(898792),F=n(t(452665)),C=n(t(464738)),f=n(t(530934)),E=t(669951),h=t(548360),A=t(735461),p=t(785893)},45301:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){let{chat:e,onStarred:t,onContactCard:n}=u,d=null;const c=e&&e.getReceivedVcardMsgs();if(a.LegacyPhoneFeatures.supportsFeature(a.LegacyPhoneFeatures.F.INDEX_RECEIVED_VCARD)&&(null==c?void 0:c.length)){const u=(0,D.jsx)(i.TextSpan,{theme:"title",children:(0,D.jsx)(l.default,{count:c.length})});d=(0,D.jsx)(o.default,{testid:"block-starred-messages",side:"chevron",icon:"account-box",onClick:n,title:u})}const F=(0,D.jsx)(i.TextSpan,{theme:"title",size:"16",children:r.fbt._("Starred messages",null,{hk:"4wVbNG"})});return(0,D.jsxs)(s.ChatInfoDrawerSection,{testid:"section-starred-messages",children:[(0,D.jsx)(o.default,{testid:"block-starred-messages",side:"chevron",icon:"star",onClick:t,title:F}),d]})};var a=t(438184),i=t(113923),o=n(t(575116)),s=t(898792),l=n(t(955944)),r=t(548360),D=t(785893)},599215:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,r.jsxs)(a.FlexRow,{justify:"center",className:(0,l.default)(d),children:[D,(0,r.jsx)(o.TextSpan,{className:(0,l.default)(c),children:s.fbt._("This person's phone number is not shared in this chat. Learn more",null,{hk:"3BlQv1"})})]})};var a=t(429623),i=n(t(23217)),o=t(113923),s=t(548360),l=n(t(156720)),r=t(785893);const D=(0,r.jsx)(i.default,{name:"dialpad-crossed-out",directional:!0}),d={alignItems:"gndfcl4n",backgroundColor:"oxu48h6d",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",display:"p357zi0d",paddingTop:"fbgy3m38",paddingEnd:"btzf6ewn",paddingBottom:"oq31bsqd",paddingStart:"nqtxkp62",marginTop:"a4rz4n5c",marginBottom:"inww9tbj"},c={textAlign:"qfejxiq4",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",wordBreak:"cw3vfol9"}},47091:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){let e,{contact:t,chat:n,onDetailImageLoad:a,onDetailImageClick:i,isNoteToSelfChat:f}=u;const E=A.fbt._("Official WhatsApp Account",null,{hk:"2cEUzF"});if(o.default.isPSA(t.id))e=E;else if(t.isMyContact)e=(0,s.widToFormattedUser)(t.id);else{const u=t.notifyName;null!=u&&(e=`~${u}`)}const B=null!=(null==t?void 0:t.id)&&t.id.isLid()&&null==(null==t?void 0:t.phoneJid);return(0,m.jsxs)(h.default,{theme:"padding-large",children:[(0,m.jsx)("div",{className:(0,p.default)(g.avatar),children:(0,m.jsx)(d.DetailImage,{id:t.id,size:d.DetailImageSize.Large,loader:!0,onLoad:a,onClick:i,quality:d.DetailImageQuality.High})}),(0,m.jsxs)(c.FlexColumn,{align:"center",children:[(0,m.jsx)(C.TextHeader,{level:"2",size:"24",xstyle:g.contactName,children:(0,m.jsx)(F.Name,{contact:t,showNoteToSelfName:f,selectable:!0,breakWord:!0})}),null!=e&&(0,m.jsx)("div",{className:(0,p.default)(g.secondaryWrapper),children:(0,m.jsx)(D.SelectableSpan,{dir:"auto",selectable:!0,children:(0,m.jsx)(C.TextSpan,{size:"16",color:"secondary",children:e})})})]}),B&&(0,m.jsx)(c.FlexRow,{align:"center",children:(0,m.jsx)(l.default,{})}),!f&&(0,m.jsx)(x,{contact:t,chat:n}),(0,m.jsx)(r.default,{labels:t.labels})]})};var a=t(625780),i=t(204818),o=n(t(389867)),s=t(562054),l=n(t(599215)),r=n(t(777577)),D=t(552596),d=t(288984),c=t(429623),F=t(812176),C=t(113923),f=n(t(839902)),E=n(t(109582)),h=n(t(833308)),A=t(548360),p=n(t(156720)),m=t(785893);const g={avatar:{display:"p357zi0d",justifyContent:"ac2vgrno",marginBottom:"pz0xruzv"},secondaryWrapper:{lineHeight:"a4ywakfo",marginTop:"qt60bha0"},contactName:{textAlign:"qfejxiq4"}};const B={container:{marginTop:"a4rz4n5c",marginBottom:"inww9tbj"},button:{marginStart:"nzcjdldu",marginEnd:"gqi0zhd6"}};function x(u){let{contact:e,chat:t}=u;const n=(0,E.default)((0,i.unproxy)(e));if(!n.isVideoCallEnabled&&!n.isVoiceCallEnabled||o.default.isPSA(e.id))return null;const s=e.id.isLid()&&null==e.phoneJid;return(0,m.jsxs)(c.FlexRow,{justify:"center",xstyle:B.container,children:[null!=t&&s&&(0,m.jsx)(f.default,{icon:"dialpad-crossed-out",iconWidth:19,label:A.fbt._("Request",null,{hk:"4p4vPJ"}),xstyle:B.button,onClick:()=>{(0,a.sendRequestPhoneNumber)((0,i.unproxy)(t))}}),(0,m.jsx)(f.default,{icon:"voice-call-filled",iconWidth:19,label:A.fbt._("Audio",null,{hk:"1b375N"}),testid:"contact-action voice-call-button",xstyle:B.button,disabled:!n.canStartVoiceCall,onClick:n.startVoiceCall}),(0,m.jsx)(f.default,{icon:"chat-info-video",label:A.fbt._("Video",null,{hk:"3zMUsJ"}),testid:"contact-action video-call-button",xstyle:B.button,disabled:!n.canStartVideoCall,onClick:n.startVideoCall})]})}},433964:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const u={text:r.fbt._("This is an official account of WhatsApp",null,{hk:"2Av1mT"}),title:r.fbt._("Security",null,{hk:"2jDPpv"}),onClick:()=>{(0,o.default)((0,s.formatWaChatSecurityModalText)(),(0,a.getWAChatFaqUrl)())}};return(0,D.jsx)(l.default,{highlightSurface:i.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_CONTACT,title:u.title,text:u.text,onClick:u.onClick})};var a=t(221310),i=n(t(471410)),o=n(t(632162)),s=t(726722),l=n(t(404584)),r=t(548360),D=t(785893)},329516:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const e=(0,D.jsx)(o.TextSpan,{theme:"title",children:r.fbt._("Phone number sharing",null,{hk:"2WwOAP"})});if(!u.chat.id.isLid()||!0===u.chat.contact.shareOwnPn)return(0,D.jsx)(s.default,{icon:"dialpad",title:e,secondaryTitle:(0,D.jsx)(o.TextDiv,{theme:"muted",children:r.fbt._("On",null,{hk:"fP9oB"})}),onClick:()=>{a.ModalManager.open((0,D.jsx)(l.PostSharePhoneNumberModal,{}))}});return(0,D.jsx)(s.default,{icon:"dialpad-crossed-out",title:e,secondaryTitle:(0,D.jsx)(o.TextDiv,{theme:"muted",children:r.fbt._("Off",null,{hk:"AfbaC"})}),onClick:()=>{a.ModalManager.open((0,D.jsx)(l.SharePhoneNumberModal,{chat:(0,i.unproxy)(u.chat)}))}})};var a=t(914597),i=t(204818),o=t(113923),s=n(t(575116)),l=t(719878),r=t(548360),D=t(785893)},750890:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){let{onClick:e,parentGroupMetadata:t,parentGroupChat:n}=u;const{subgroupCount:h}=(0,d.default)(t),{name:A}=(0,f.useModelValues)(n.contact,["name"]),p=(0,a.isIntegritySuspendedCommunity)(n);(0,C.useEffect)((()=>{(0,i.queryAndUpdateSubgroupsMetadata)(t.id,t.joinedSubgroups)}),[t.id,t.joinedSubgroups]);const m=F.fbt._("Community",null,{hk:"2P4Qwb"});return(0,E.jsx)(c.default,{theme:"no-padding",children:(0,E.jsx)(o.default,{testid:"group-info-community-section",image:(0,E.jsx)(s.DetailImage,{id:t.id,shape:s.DetailImageShape.Squircle,size:60}),primary:(0,E.jsx)(l.EmojiText,{text:A,ellipsify:!0}),onClick:e,theme:"community-home",secondary:(0,E.jsxs)(D.TextSpan,{size:"16",color:"secondary",children:[m,p?null:(0,E.jsxs)(E.Fragment,{children:[" ",F.fbt._({"*":"{count} Groups",_1:"1 Group"},[F.fbt._plural(h,"count")],{hk:"38FdVG"})]})]}),detail:(0,E.jsx)(r.default,{color:"secondary",name:"chevron-right-alt",directional:!0})})})};var a=t(189036),i=t(223053),o=n(t(744356)),s=t(288984),l=t(965417),r=n(t(23217)),D=t(113923),d=n(t(943626)),c=n(t(833308)),F=t(548360),C=t(667294),f=t(735461),E=t(785893)},360236:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{chat:e}=u,t=(0,r.useOptionalModelValues)(e.groupMetadata,["groupType"]);let n;n=(0,i.communitiesEnabled)()&&(null==t?void 0:t.groupType)===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(0,D.jsx)("div",{className:(0,l.default)(d),children:s.fbt._("",null,{hk:"4kc4Kr"})}):s.fbt._("Add group description",null,{hk:"BVsoQ"});return(0,D.jsx)(o.default,{chat:u.chat,showFullDescription:u.showFullDescription,editRestrictionText:s.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"}),testid:"group-info-drawer-description-title-input",emptyValuePlaceholder:n})};var a=t(795720),i=t(408139),o=n(t(181681)),s=t(548360),l=n(t(156720)),r=t(735461),D=t(785893);const d={color:"tviruh8d",fontSize:"enbbiyaj"}},748204:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t(227101),i=t(88555),o=t(173679),s=t(221310),l=t(795720),r=n(t(568064)),D=t(408139),d=t(914597),c=t(56080),F=t(204818),C=t(694816),f=t(176565),E=t(500634),h=n(t(471410)),A=t(793249),p=n(t(750890)),m=n(t(360236)),g=n(t(712158)),B=t(44783),x=n(t(670354)),v=n(t(460890)),b=t(850743),_=n(t(769171)),j=t(161509),M=t(561086),k=n(t(630855)),S=n(t(103721)),y=t(33210),T=t(113923),P=t(950452),w=t(71723),I=t(843745),N=n(t(16947)),R=n(t(575116)),O=t(898792),L=n(t(105406)),G=n(t(60453)),V=n(t(69637)),U=t(994790),z=n(t(833308)),H=n(t(104061)),q=t(910081),W=n(t(404584)),Y=n(t(243895)),K=t(669951),X=n(t(268132)),Z=t(548360),$=t(667294),J=n(t(156720)),Q=n(t(859312)),uu=n(t(616223)),eu=t(587550),tu=t(735461),nu=n(t(895402)),au=t(785893);const iu={body:{flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},announcementGroupDisclaimer:{textAlign:"ljrqcn24",paddingTop:"n1yiu2zv",paddingBottom:"jd93c9cp",paddingEnd:"bcymb0na",paddingStart:"e8k79tju",lineHeight:"jgi8eev7",wordBreak:"cw3vfol9"},lastSectionRow:{marginBottom:"brac1wpa"}},ou=(0,P.genId)("max_participant_toast");function su(u,e){const{onVerification:t,onClose:n}=u,su=(0,nu.default)(),lu=(0,Q.default)(),ru=(0,tu.useModelValues)(u.chat,["mute","id","pendingAction","liveLocation"]),Du=(0,tu.useModelValues)(u.groupMetadata,["id","cachedDeviceCount","cachedDeviceSizeBucket","participants","pendingParticipants","announce","support","parentGroup","groupType"]);(0,tu.useModelValues)(u.contact,["name","id","pendingAction"]);const du=(0,uu.default)((()=>new h.default.UiAction({uiActionType:Du.groupType===l.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?h.default.UI_ACTION_TYPE.DEFAULT_SUBGROUP_INFO_OPEN:h.default.UI_ACTION_TYPE.GROUP_INFO_OPEN,uiActionPreloaded:!0}))),cu=(0,uu.default)((()=>new k.default)),Fu=(0,uu.default)((()=>new k.default)),Cu=(0,$.useRef)(null);(0,eu.useListener)(Du.participants,["add","remove","reset","sort","change:isAdmin","change:isSuperAdmin"],lu),(0,eu.useListener)(Du.pendingParticipants,["add","remove","reset"],lu);const fu=()=>{const u=(0,D.getGroupSizeLimit)();if(Du.participants.length>=u){const e=r.default.t(48,{max:u});C.ToastManager.open((0,au.jsx)(P.Toast,{msg:e,id:ou}))}else{const u=(0,au.jsx)(N.default,{chat:(0,F.unproxy)(ru),pushTransition:"none",popTransition:"none"});d.ModalManager.open(u,{transition:"modal-flow"})}},Eu=()=>{if((0,a.isPrivacyNarrativeV1Enabled)()&&(0,y.shouldShowNewE2eInfoModal)((0,F.unproxy)(ru))){const u=(0,s.getE2EFaqUrl)();d.ModalManager.open((0,au.jsx)(q.E2eInfoModalV2,{highlightSurface:h.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_GROUP,url:u}))}else d.ModalManager.open((0,au.jsx)(H.default,{highlightSurface:h.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_GROUP,chatId:ru.id,e2eSubtype:"info_encrypted"}))},hu=()=>{d.ModalManager.open((0,au.jsx)(H.default,{chat:ru,chatId:ru.id,e2eSubtype:"info_encrypted"}))};let Au;if((0,$.useEffect)((()=>{(0,o.isIntegritySuspendedDefaultSubgroup)(ru)?(0,w.openTerminatedCommunityModal)():(0,o.isTerminatedGroupOrNotMember)(ru)?(0,I.openTerminatedGroupOrNotMemberModal)():(0,o.isSuspendedGroup)(ru)&&(0,I.openSuspendedGroupModal)(!0===(0,o.shouldIncludeEntityIdInAppealRequest)()?Du.id.user.toString():null)}),[]),(0,$.useEffect)((()=>{Du.participants.ensureSorted();Du.pendingParticipants.ensureSorted()})),(0,$.useEffect)((()=>{const u=du.current;if(u){const e=Du.cachedDeviceSizeBucket;null!=e&&(u.sizeBucket=e),Object.assign(u,(0,E.getGroupCountMetricsFromGroupMetadata)((0,F.unproxy)(Du))),u.markUiActionT(),u.commit(),du.current=void 0}(0,A.logUiActionShadowPrivateStatsTestEvents)()}),[]),(0,$.useEffect)((()=>{Du.groupType===l.GroupType.DEFAULT_ANNOUNCEMENT_GROUP&&(0,c.queryAndUpdateGroupMetadataById)(Du.id)}),[Du.id,Du.groupType]),Du.canSetGroupProperty()){const e=(0,au.jsx)(T.TextSpan,{theme:"title",children:Z.fbt._("Group settings",null,{hk:"3sS0Vl"})});Au=(0,au.jsx)(R.default,{side:"chevron",icon:"settings",onClick:u.onAdminSetting,title:e})}let pu=null;u.onMediaGallery&&(pu=(0,au.jsx)(L.default,{onMediaGallery:u.onMediaGallery,chat:(0,F.unproxy)(ru)}));const mu=(0,au.jsx)(Y.default,{chat:ru,onClick:u.onLiveLocation}),gu=ru&&ru.shouldShowEphemeralSetting()?(0,au.jsx)(M.EphemeralSettingRow,{onClick:u.onEphemeral,chat:ru,groupMetadata:Du,testid:"contact-info-dm-setting-row"}):null;let Bu=null;if((0,D.communitiesEnabled)()&&ru&&Du.parentGroup&&Du.participants.iAmMember()){const e=K.ChatCollection.get(Du.parentGroup.toString());(null==e?void 0:e.groupMetadata)&&(Bu=(0,au.jsx)(p.default,{onClick:()=>{var e;null===(e=u.onCommunityClick)||void 0===e||e.call(u)},parentGroupMetadata:e.groupMetadata,parentGroupChat:e}))}let xu=null;(0,i.isMDBackend)()&&(xu=(0,au.jsx)(W.default,{highlightSurface:h.default.PRIVACY_HIGHLIGHT_SURFACE_ENUM.INFO_SCREEN_GROUP,onClick:Eu,text:(0,f.isGroupCallEnabled)()?Z.fbt._("Messages and calls are end-to-end encrypted. Click to learn more.",null,{hk:"1l9pwW"}):Z.fbt._("Messages are end-to-end encrypted. Click to learn more.",null,{hk:"2MtPh9"})})),(0,o.isSupportGroup)(ru)&&(xu=(0,au.jsx)(_.default,{onClick:hu}));const vu=ru.mute.canMute()?(0,au.jsx)(S.default,{chat:ru,mute:ru.mute,settings:X.default}):null;let bu,_u=null;if(u.onStarred){const e=(0,au.jsx)(T.TextSpan,{theme:"title",size:"16",children:Z.fbt._("Starred messages",null,{hk:"4wVbNG"})});_u=(0,au.jsx)(O.ChatInfoDrawerSection,{testid:"section-starred-messages",children:(0,au.jsx)(R.default,{testid:"block-starred-messages",side:"chevron",icon:"star",onClick:u.onStarred,title:e})})}if((0,j.isKeepInChatReadAndUIEnabled)()&&(ru.hasKeptMsgs()||ru.isEphemeralSettingOn())){var ju;const e=(0,au.jsx)(T.TextSpan,{theme:"title",size:"16",children:Z.fbt._("Kept Messages",null,{hk:"41CBIy"})}),t=(null===(ju=ru.groupMetadata)||void 0===ju?void 0:ju.restrict)?(0,au.jsx)(T.TextDiv,{theme:"muted",children:Z.fbt._("Only admins can keep or unkeep messages in this group.",null,{hk:"2Uhjiy"})}):null;bu=(0,au.jsx)(O.ChatInfoDrawerSection,{testid:"section-kept-messages",xstyle:iu.lastSectionRow,children:(0,au.jsx)(R.default,{testid:"block-kept-messages",side:"chevron",icon:"keep-in-chat",onClick:u.onKept,title:e,secondaryTitle:t})})}let Mu=null;(vu||xu||gu)&&(Mu=(0,au.jsxs)(O.ChatInfoDrawerSection,{children:[vu,gu,xu,Au]}));const ku=(0,i.isMDBackend)()&&u.scrollToParticipantList,Su=(0,au.jsx)(g.default,{chat:(0,F.unproxy)(ru)}),yu=Du.groupType!==l.GroupType.DEFAULT_ANNOUNCEMENT_GROUP||Du.participants.iAmAdmin()?null:(0,au.jsx)(z.default,{theme:"transparent",shadow:!1,children:(0,au.jsx)(T.TextParagraph,{xstyle:iu.announcementGroupDisclaimer,color:"secondary",children:Z.fbt._("Only admins can see all participants in this group",null,{hk:"39jP44"})})});return(0,au.jsxs)(G.default,{ref:e,theme:"striped",testid:"group-info-drawer",children:[(0,au.jsx)(U.DrawerHeader,{title:Z.fbt._("Group info",null,{hk:"2SfTUZ"}),type:U.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{n?n():null==su||su.requestDismiss()}}),(0,au.jsx)(V.default,{flatListControllers:[Fu.current,cu.current],children:(0,au.jsxs)("section",{className:(0,J.default)(iu.body),"data-testid":"group-info-drawer-body",children:[(0,au.jsx)(v.default,{chat:(0,F.unproxy)(ru),onAdminSetting:u.onAdminSetting,onAddParticipant:fu,onClickParticpantsCount:()=>{var u;null===(u=Cu.current)||void 0===u||u.scrollIntoView()}}),Bu,(0,au.jsx)(m.default,{chat:(0,F.unproxy)(ru),showFullDescription:u.showFullGroupDescription}),mu,pu,_u,bu,Mu,undefined,(0,au.jsx)(B.GroupInfoParticipantsSection,{ref:Cu,chat:(0,F.unproxy)(ru),scrollToParticipantList:ku,flatListController:cu.current,onAddParticipant:fu,onOpenParticpantSearch:u=>{d.ModalManager.open((0,au.jsx)(b.GroupParticipantsFlow,{chat:(0,F.unproxy)(ru),onVerification:t,initialStep:u}),{transition:"modal-flow"})},onGroupInviteLink:u.onGroupInviteLink,onPendingParticipants:u.onPendingParticipants,onVerification:u.onVerification}),yu,(0,au.jsx)(x.default,{chat:(0,F.unproxy)(ru),flatListController:Fu.current}),Su]})})]},"contact-info-modal")}var lu=(0,$.forwardRef)(su);e.default=lu},712158:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e;let{chat:t}=u;const{participants:n,parentGroup:i}=null!==(e=(0,m.useOptionalModelValues)(t.groupMetadata,["parentGroup","participants"]))&&void 0!==e?e:{},o=(null==n?void 0:n.iAmAdmin())&&(0,a.isCommunityAnnouncementGroup)(t),s=(0,B.jsx)(v,{chat:t}),r=(0,a.isTerminatedGroup)(t)?null:(0,B.jsx)(x,{chat:t,showAdditionalAction:!o}),D=!(0,l.communitiesEnabled)()||o||null==i?null:(0,B.jsx)(b,{chat:t,parentGroup:i});return(0,B.jsxs)(F.ChatInfoDrawerButtonsSection,{children:[D,s,r]})};var a=t(173679),i=t(781572),o=n(t(700309)),s=n(t(568064)),l=t(408139),r=t(914597),D=t(45775),d=t(387674),c=n(t(23217)),F=t(898792),C=t(662664),f=n(t(943626)),E=n(t(464738)),h=n(t(530934)),A=t(548360),p=t(667294),m=t(735461),g=n(t(803409)),B=t(785893);function x(u){let{chat:e,showAdditionalAction:t}=u;return(0,B.jsx)(E.default,{testid:"li-report-spam",color:"danger",icon:(0,B.jsx)(c.default,{name:"thumbs-down",directional:!0}),theme:"chat-info",onClick:()=>{r.ModalManager.open((0,B.jsx)(h.default,{isMessage:!1,isGroupChat:!0,showAdditionalActionCheckbox:t,onReport:()=>{(0,D.sendSpamReport)(e,d.SpamFlow.GroupInfoReport),r.ModalManager.close()},onReportExitClear:()=>{(0,D.sendSpamExitClear)(e,d.SpamFlow.GroupInfoReport),r.ModalManager.close()},onCancel:()=>r.ModalManager.close()}))},children:A.fbt._("Report group",null,{hk:"23NLqw"})})}function v(u){const e=(0,m.useModelValues)(u.chat,["isReadOnly"]);return(0,B.jsx)(E.default,{testid:"li-delete-group",icon:(0,B.jsx)(c.default,{name:"exit",directional:!0}),color:"danger",theme:"chat-info",onClick:()=>{i.Cmd.deleteOrExitChat(u.chat)},children:e.isReadOnly?s.default.t(712):A.fbt._("Exit group",null,{hk:"4BkPNr"})})}function b(u){var e;let{chat:t,parentGroup:n}=u;const a=(0,g.default)(),{isReadOnly:i,id:s,formattedTitle:l}=(0,m.useModelValues)(t,["groupMetadata","isReadOnly","id","formattedTitle"]),r=o.default.get(n.toString()),{participants:D}=null!==(e=(0,m.useOptionalModelValues)(r,["participants"]))&&void 0!==e?e:{},{joinedSubgroups:d,unjoinedSubgroups:F,subgroupCount:h}=(0,f.default)(r),[x,v]=(0,p.useState)(!1);if(i||null==d||null==F||!0!==(null==D?void 0:D.iAmAdmin()))return null;return(0,B.jsx)(E.default,{testid:"li-remove-group-from-community",icon:(0,B.jsx)(c.default,{name:"exit",directional:!0}),disabled:x,color:"danger",theme:"chat-info",onClick:()=>{x||a.aborted||((0,C.handleRemoveGroup)(n,h,s,l,v),a.aborted)},children:A.fbt._("Remove from community",null,{hk:"3xZmj5"})})}},44783:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.GroupInfoParticipantsSection=void 0;var a=n(t(145095)),i=t(892844),o=t(257243),s=t(88555),l=t(217869),r=t(781572),D=t(211739),d=t(795720),c=n(t(568064)),F=t(408139),C=t(914597),f=t(815562),E=t(978820),h=n(t(389867)),A=t(850743),p=t(690973),m=n(t(616419)),g=n(t(744356)),B=t(278756),x=t(471174),v=t(965417),b=t(747915),_=t(788631),j=n(t(852711)),M=n(t(23217)),k=t(674416),S=t(718644),y=n(t(624717)),T=t(188172),P=t(898792),w=n(t(31808)),I=n(t(452665)),N=t(548360),R=t(667294),O=(n(t(156720)),n(t(196570))),L=n(t(859312)),G=t(587550),V=t(735461),U=t(785893);const z={pendingParticipantsIcon:{backgroundColor:"k6px2m13",color:"cwwc04gk"}},H=(0,R.forwardRef)(((u,e)=>{var t,n,H;const W=(0,V.useModelValues)((0,a.default)(u.chat.groupMetadata,"props.chat.groupMetadata"),["support","size","id","membershipApprovalRequests"]),{membershipApprovalRequests:Y}=W,K=(0,a.default)(null===(t=u.chat.groupMetadata)||void 0===t?void 0:t.participants,"props.chat.groupMetadata?.participants"),X=null!==(n=null==W?void 0:W.size)&&void 0!==n?n:0,Z=(null==K?void 0:K.iAmAdmin())?K.length:X,$=(0,L.default)();(0,G.useListener)(K,"add remove reset sort change:isAdmin change:isSuperAdmin",$);const[J,Q]=(0,R.useState)(q(K)),uu=(0,R.useRef)(),[eu,tu]=(0,R.useState)();(0,R.useEffect)((()=>{(0,s.isMDBackend)()&&u.scrollToParticipantList&&uu.current&&(0,B.scrollIntoViewIfNeeded)(uu.current,!1)}),[u.scrollToParticipantList]),(0,R.useImperativeHandle)(e,(()=>({scrollIntoView(){var u;null===(u=uu.current)||void 0===u||u.scrollIntoView()}})));const nu=(0,O.default)(Y,["add","remove","reset"],(()=>Y.length)),au=(0,p.useShowPastParticipants)(u.chat);if(W.isSuspendedOrTerminated())return null;const iu=(0,U.jsx)(M.default,{name:"search",color:"secondary"});let ou,su,lu,ru;if(K.canAdd()&&!W.support){const e=(0,U.jsx)(j.default,{theme:"compact",children:(0,U.jsx)(M.default,{name:"add-user",directional:!0})});ou=(0,U.jsx)(g.default,{image:e,theme:"chat-info",primary:N.fbt._("Add participant",null,{hk:"48ECfz"}),onClick:u.onAddParticipant})}if(K.iAmAdmin()&&u.onGroupInviteLink&&!W.support){const e=(0,U.jsx)(j.default,{theme:"compact",children:(0,U.jsx)(M.default,{name:"link"})});su=(0,U.jsx)(g.default,{image:e,theme:"chat-info",primary:N.fbt._("Invite to group via link",null,{hk:"3vDtFL"}),onClick:u.onGroupInviteLink})}if(K.iAmAdmin()&&nu>0&&(0,o.getABPropConfigValue)("group_join_request_m2")&&(lu=(0,U.jsx)(g.default,{image:(0,U.jsx)(j.default,{xstyle:z.pendingParticipantsIcon,theme:"compact",children:(0,U.jsx)(M.default,{name:"pending-participants"})}),theme:"chat-info",primary:N.fbt._("Pending participants",null,{hk:"3aWcdI"}),primaryDetail:(0,U.jsx)(k.Tag,{round:!0,children:nu}),onClick:u.onPendingParticipants})),q(K)&&J){const e=K.length<=20,t=K.length-P.INFO_DRAWER_MAX_ROWS;ru=(0,U.jsx)(w.default,{numMore:t,onClick:()=>{e?Q(!1):u.onOpenParticpantSearch(A.ParticipantsFlowStep.Participants)},viewAll:!e})}else au&&(ru=(0,U.jsx)(_.ListButton,{onClick:()=>{u.onOpenParticpantSearch(A.ParticipantsFlowStep.PastParticipants)},children:N.fbt._("View past participants",null,{hk:"fYGd4"})}));const Du=u=>{const e=K.get(u.id);return!!e&&(K.canPromote(e)||K.canDemote(e)||K.canRemove(e)||K.canVerifyIdentity(e))},du=(e,t)=>{const n=K.assertGet(t.id);if(!Du(t))return;const a=[];K.canPromote(n)&&a.push((0,U.jsx)(x.DropdownItem,{testid:"mi-grp-promote-admin",action:()=>{const e=c.default.t(198,{participant:n.contact.formattedName,subject:u.chat.contact.name});C.ModalManager.open((0,U.jsx)(I.default,{onOK:()=>{return e=!0,n.contact.pendingAction++,(0,f.promoteParticipants)(u.chat,[n]).then((()=>{n.contact.pendingAction--})),void(e&&C.ModalManager.close());var e},okText:c.default.t(444),onCancel:()=>C.ModalManager.close(),cancelText:N.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,U.jsx)(v.EmojiText,{text:e})}))},children:c.default.t(444)},"promote")),K.canRemove(n)&&a.push((0,U.jsx)(x.DropdownItem,{testid:"mi-grp-remove-participant",action:()=>{const e=c.default.t(199,{participant:n.contact.formattedName,subject:u.chat.contact.name});C.ModalManager.open((0,U.jsx)(I.default,{onOK:()=>{return e=!0,n.contact.pendingAction++,(0,f.removeParticipants)(u.chat,[n]).then((()=>{n.contact.pendingAction--})),void(e&&C.ModalManager.close());var e},okText:c.default.t(552),onCancel:()=>C.ModalManager.close(),cancelText:N.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,U.jsx)(v.EmojiText,{text:e})}))},children:c.default.t(448)},"remove")),K.canDemote(n)&&a.push((0,U.jsx)(x.DropdownItem,{testid:"mi-grp-verify-identify",action:()=>{n.contact.pendingAction++,(0,f.demoteParticipants)(u.chat,[n]).then((()=>{n.contact.pendingAction--})),C.ModalManager.close()},children:N.fbt._("Dismiss as admin",null,{hk:"243sNl"})},"demote-admin")),(0,s.isMDBackend)()&&K.canVerifyIdentity(n)&&a.push((0,U.jsx)(x.DropdownItem,{testid:"mi-grp-verify-identify",action:()=>{u.onVerification&&u.onVerification(n.contact)},children:N.fbt._("Verify Security Code",null,{hk:"1vTVgt"})},"verify-identity")),tu({contactId:t.id,menu:a,anchor:e.anchor,event:e.event})},cu=(u,e)=>{(0,E.isMePrimary)(e.id)||(0,D.findChat)(e.id).then((u=>{r.Cmd.openChatFromUnread(u).then((e=>{e&&((0,F.btmThreadsLoggingEnabled)()&&T.ComposeBoxActions.addMsgSendingLogAttributes(u,{handleMultiple(){(0,l.handleActivitiesForChatThreadLogging)([{activityType:"groupMembershipReplies",ts:(0,i.unixTime)(),chatId:u.id}])}}),T.ComposeBoxActions.focus(u))}))}))},Fu=K.length?(0,U.jsxs)(P.ChatInfoDrawerListSection,{ref:uu,testid:"section-participants",title:N.fbt._({"*":"{number} participants",_1:"1 participant"},[N.fbt._plural((null===(H=u.chat.groupMetadata)||void 0===H?void 0:H.groupType)===d.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?Z:K.length,"number")],{hk:"bcYCT"}),titleOnClick:()=>{u.onOpenParticpantSearch(A.ParticipantsFlowStep.Participants)},subtitle:iu,children:[ou,su,lu,(0,U.jsx)(b.FlatList,{flatListController:u.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{let u;const e=[],t=[];K.forEach((n=>{n.contact.isMe?u=n:n.isAdmin?e.push(n):t.push(n)}));let n=[];return u&&n.push(u),n=n.concat(e,t),q(K)&&J&&(n=n.slice(0,P.INFO_DRAWER_MAX_ROWS)),n.map((u=>({itemKey:u.id.toString(),id:u.id,height:68})))})(),renderItem:u=>{const{id:e}=u,t=K.get(e);if(!t)throw new b.UnknownDataError(u);const n=t.contact,a=!!eu&&h.default.equals(n.id,eu.contactId);return(0,U.jsx)(m.default,{contact:n,participant:t,onClick:cu,contextEnabled:()=>Du(n),contextMenu:a,onContext:u=>du(u,n),theme:"chat-info",showNotifyName:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0},t.id.toString())}}),ru]}):null,Cu=()=>{tu(null)};let fu;return eu&&(fu=(0,U.jsx)(S.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Cu,children:(0,U.jsx)(y.default,{contextMenu:eu})})),(0,U.jsxs)(U.Fragment,{children:[Fu,fu]})}));function q(u){return u.length>P.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}e.GroupInfoParticipantsSection=H,H.displayName="GroupInfoParticipantsSection"},670354:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e,t;const n=(0,a.default)(u.chat.groupMetadata,"props.chat.groupMetadata"),v=(0,a.default)(null===(e=u.chat.groupMetadata)||void 0===e?void 0:e.participants,"props.chat.groupMetadata?.participants"),b=(0,a.default)(null===(t=u.chat.groupMetadata)||void 0===t?void 0:t.pendingParticipants,"props.chat.groupMetadata?.pendingParticipants"),_=(0,m.default)();(0,g.useListener)(v,"change:isAdmin change:isSuperAdmin",_),(0,g.useListener)(b,"add remove reset",_);const[j,M]=(0,p.useState)(x(b)),[k,S]=(0,p.useState)();if((0,p.useEffect)((()=>{n.queryGroupV4PendingInvite().then((()=>{M(x(n.pendingParticipants))}))}),[n]),n.isSuspendedOrTerminated())return(0,B.jsx)(B.Fragment,{});const y=()=>{let u=b.toArray();return x(b)&&j&&(u=u.slice(0,f.INFO_DRAWER_MAX_ROWS)),u.map((u=>({itemKey:u.id.toString(),id:u.id,height:68})))},T=u=>{const{id:e}=u,t=b.get(e);if(!t)throw new d.UnknownDataError(u);const a=t.contact;return(0,B.jsx)(l.default,{contact:a,participant:t,contextEnabled:()=>!0,contextMenu:!0,onContext:u=>(u=>{const e=[(0,B.jsx)(r.DropdownItem,{testid:"mi-grp-promote-admin",action:()=>{o.ModalManager.open((0,B.jsx)(h.default,{onOK:()=>{o.ModalManager.close(),n.revokeGroupV4AddInvite([t.id.toString()]).then((()=>{s.ToastManager.open((0,B.jsx)(c.Toast,{msg:A.fbt._("Invite reset",null,{hk:"MgErr"}),id:(0,c.genId)()}))}))},okText:A.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>o.ModalManager.close(),cancelText:A.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,B.jsx)(D.EmojiText,{text:i.default.t(360,{participant:t.contact.formattedName})})}))},children:A.fbt._("Revoke invite",null,{hk:"4on28q"})},"promote")];S({contactId:a.id,menu:e,anchor:u.anchor,event:u.event})})(u),theme:"chat-info",showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0},t.id.toString())};let P,w,I;b.length>0&&(P=(0,B.jsx)(d.FlatList,{flatListController:u.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:y(),renderItem:T}));if(x(b)&&j){const u=b.length-f.INFO_DRAWER_MAX_ROWS;w=(0,B.jsx)(E.default,{numMore:u,onClick:()=>{M(!1)}})}v.iAmAdmin()&&b.length>0&&(I=(0,B.jsxs)(f.ChatInfoDrawerListSection,{testid:"section-participants",title:i.default.t(358,{number:b.length}),children:[P,w]}));const N=()=>{S(null)};let R;k&&(R=(0,B.jsx)(F.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:N,children:(0,B.jsx)(C.default,{contextMenu:k})}));return(0,B.jsxs)(B.Fragment,{children:[I,R]})};var a=n(t(145095)),i=n(t(568064)),o=t(914597),s=t(694816),l=n(t(616419)),r=t(471174),D=t(965417),d=t(747915),c=t(950452),F=t(718644),C=n(t(624717)),f=t(898792),E=n(t(31808)),h=n(t(452665)),A=t(548360),p=t(667294),m=n(t(859312)),g=t(587550),B=t(785893);function x(u){return u.length>f.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST}},460890:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e,t,n,a;const i=(0,I.useModelValues)(u.chat,["labels"]),o=(0,I.useOptionalModelValues)(u.chat.groupMetadata,["size","creation"]),s=null===(e=u.chat.groupMetadata)||void 0===e?void 0:e.groupType,l=null===(t=u.chat.groupMetadata)||void 0===t?void 0:t.participants,r=(0,P.default)();(0,w.useListener)(l,"add remove reset sort change:isAdmin change:isSuperAdmin",r);const d=null!==(n=null==l?void 0:l.length)&&void 0!==n?n:0,c=null!==(a=null==o?void 0:o.size)&&void 0!==a?a:0,F=(null==l?void 0:l.iAmAdmin())?d:c,C=s===D.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?S.fbt._("Announcement group",null,{hk:"80s42"}):S.fbt._("Group",null,{hk:"DNiv2"}),f=S.fbt._({"*":"{number} participants",_1:"1 participant"},[S.fbt._plural(s===D.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?F:d,"number")],{hk:"bcYCT"});return(0,R.jsx)(k.default,{theme:"padding-large",children:(0,R.jsxs)(g.FlexColumn,{align:"center",children:[(0,R.jsx)(G,{chat:u.chat,xstyle:L.photo,sendGroupProfilePictureLoggingEvent:(e,t,n)=>{var a,i,o;const s=null===(a=u.chat)||void 0===a||null===(i=a.groupMetadata)||void 0===i?void 0:i.creation,r=new Date(1e3*(null!=s?s:0)),D=new Intl.DateTimeFormat("en",{year:"numeric"}).format(r),d=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(r),c=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(r),C=null!=s?`${D}-${d}-${c}`:"",f=(0,h.numberToPreciseSizeBucket)(F),A=null!==(o=null==l?void 0:l.iAmAdmin())&&void 0!==o&&o;new E.default.GroupProfilePicture({groupCreationDs:C,groupProfileAction:e,preciseGroupSizeBucket:f,isAdmin:A,hasProfilePicture:t,profilePictureType:n}).commit()}}),(0,R.jsx)(U,{chat:u.chat}),(0,R.jsx)("div",{className:(0,T.default)(L.groupSecondary),children:(0,R.jsx)(m.SelectableSpan,{dir:"auto",selectable:!0,children:(0,R.jsxs)(v.TextSpan,{size:"16",color:"secondary",children:[C,(null==o?void 0:o.isSuspendedOrTerminated())?null:(0,R.jsxs)(R.Fragment,{children:[" ",(0,R.jsx)(b.default,{onClick:u.onClickParticpantsCount,children:f})]})]})})}),(0,R.jsx)(p.default,{labels:i.labels})]})})};var a=n(t(348926)),i=t(389385),o=t(450796),s=n(t(145095)),l=n(t(747259)),r=t(173679),D=t(795720),d=function(u,e){if(!e&&u&&u.__esModule)return u;if(null===u||"object"!=typeof u&&"function"!=typeof u)return{default:u};var t=O(e);if(t&&t.has(u))return t.get(u);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in u)if("default"!==i&&Object.prototype.hasOwnProperty.call(u,i)){var o=a?Object.getOwnPropertyDescriptor(u,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=u[i]}n.default=u,t&&t.set(u,n);return n}(t(435232)),c=t(408139),F=t(914597),C=t(300016),f=t(440652),E=n(t(471410)),h=t(410753),A=n(t(915908)),p=n(t(777577)),m=t(552596),g=t(429623),B=t(812176),x=n(t(243556)),v=t(113923),b=n(t(701784)),_=n(t(513699)),j=t(533646),M=n(t(452665)),k=n(t(833308)),S=t(548360),y=t(667294),T=n(t(156720)),P=n(t(859312)),w=t(587550),I=t(735461),N=n(t(803409)),R=t(785893);function O(u){if("function"!=typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(O=function(u){return u?t:e})(u)}const L={photo:{marginBottom:"njub1g37"},groupSecondary:{lineHeight:"a4ywakfo",marginTop:"ma4rpf0l",textAlign:"qfejxiq4"}};function G(u){const e=(0,I.useModelValues)(u.chat,["isReadOnly"]),t=(0,I.useModelValues)(u.chat.contact,["id","profilePicThumb"]),n=(0,I.useModelValues)(u.chat.contact.profilePicThumb,["imgFull"]),a=(0,I.useModelValues)((0,s.default)(u.chat.groupMetadata,"props.chat.groupMetadata"),["groupType"]),[F,f]=(0,y.useState)(!1),[E,h]=(0,y.useState)(!1),A=(0,N.default)(),p=a.groupType===D.GroupType.DEFAULT_ANNOUNCEMENT_GROUP,m=(0,c.communitiesEnabled)()&&p?x.default.DEFAULT_ANNOUNCEMENT_GROUP:x.default.GROUP,g=e.isReadOnly||!n.canDelete()&&!n.canSet()||(0,r.isSupportGroup)(e)||p||a.isSuspendedOrTerminated();return(0,R.jsx)("div",{className:(0,T.default)(u.xstyle),children:(0,R.jsx)(j.PhotoPickerLoadable,{type:m,id:t.id,attachToChat:!0,pending:E,startImage:n.imgFull,readOnly:g,onImageSet:(u,e)=>{let t;h(!0),t=u&&e?(0,C.setProfilePic)(n,u,e):(0,C.deleteProfilePic)(n),(0,l.default)(t,A).catch((0,i.catchAbort)((()=>{}))).catch((0,o.filteredCatch)(d.ActionError,(()=>{__LOG__(3)`GroupInfoDrawer: failed to set/delete group image`,f(!F)}))).finally((()=>{h(!1)}))},sendGroupProfilePictureLoggingEvent:u.sendGroupProfilePictureLoggingEvent},String(F))})}const V={marginTop:"hymafltn",marginEnd:"jnwc1y2a",marginBottom:"ngycyvoj",marginStart:"svoq16ka"};function U(u){const e=(0,I.useModelValues)(u.chat.contact,["name"]),t=(0,I.useModelValues)((0,s.default)(u.chat.groupMetadata,"props.chat.groupMetadata"),["creation","restrict","support"]),n=(0,N.default)(),o=function(){var t=(0,a.default)((function*(t){const a=(0,_.default)(t);a!==e.name&&(yield(0,l.default)((0,f.setGroupSubject)(u.chat,a),n).catch((0,i.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`group_info_drawer:onSetSubject failed`})))}));return function(){return t.apply(this,arguments)}}();return t.support?(0,R.jsx)(v.TextHeader,{className:(0,T.default)(V),level:"2",theme:"large",children:(0,R.jsx)(B.GroupName,{chat:u.chat,groupMetadata:t,breakWord:!0})}):(0,R.jsx)(A.default,{subject:e.name,onSave:o,textInputProps:{editable:t.canSetSubject(),editRestrictionInfo:t.restrict?()=>{F.ModalManager.open((0,R.jsx)(M.default,{onOK:()=>F.ModalManager.close(),okText:S.fbt._("OK",null,{hk:"2KEeHb"}),children:S.fbt._("Only admins can edit this group's info",null,{hk:"1a2ztg"})}))}:void 0}})}},320982:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(145095)),i=t(88555),o=t(781572),s=t(211739),l=n(t(568064)),r=t(914597),D=t(815562),d=t(978820),c=n(t(389867)),F=t(690973),C=t(471174),f=t(718644),E=n(t(624717)),h=n(t(629234)),A=t(548360),p=t(667294),m=n(t(859312)),g=t(587550),B=t(785893);function x(u,e){var t;const{chat:n,onVerification:o,onPastParticipants:s}=u,[x,b]=function(u,e){const[t,n]=(0,p.useState)(null),o=(e,t)=>{e.contact.pendingAction++,(0,D.promoteParticipants)(u,[e]).then((()=>{e.contact.pendingAction--})),t&&r.ModalManager.close()},s=(e,t)=>{e.contact.pendingAction++,(0,D.removeParticipants)(u,[e]).then((()=>{e.contact.pendingAction--})),t&&r.ModalManager.close()},F=e=>{e.contact.pendingAction++,(0,D.demoteParticipants)(u,[e]).then((()=>{e.contact.pendingAction--}))},h=()=>{n(null)};let m;t&&(m=(0,B.jsx)(f.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:h,children:(0,B.jsx)(E.default,{contextMenu:t})}));return[m,(t,D)=>{const f=(0,a.default)(u.groupMetadata,"chat.groupMetadata").participants,E=f.assertGet(D.id.toString()),h=[];f.canPromote(E)&&h.push((0,B.jsx)(C.DropdownItem,{testid:"mi-grp-promote-admin",action:()=>o(E,!1),children:l.default.t(444)},"promote")),f.canRemove(E)&&h.push((0,B.jsx)(C.DropdownItem,{testid:"mi-grp-remove-participant",action:()=>s(E,!1),children:l.default.t(448)},"remove")),f.canDemote(E)&&h.push((0,B.jsx)(C.DropdownItem,{testid:"mi-grp-verify-identify",action:()=>F(E),children:A.fbt._("Dismiss as admin",null,{hk:"243sNl"})},"demote-admin")),(0,i.isMDBackend)()&&f.canVerifyIdentity(E)&&h.push((0,B.jsx)(C.DropdownItem,{testid:"mi-grp-verify-identify",action:()=>{r.ModalManager.close(),null==e||e(E.contact)},children:A.fbt._("Verify Security Code",null,{hk:"1vTVgt"})},"verify-identity")),c.default.equals((0,d.getMaybeMeUser)(),E.id)||h.push((0,B.jsx)(C.DropdownItem,{action:v.bind(null,E.contact.id),children:A.fbt._("Message {author}",[A.fbt._param("author",E.contact.formattedName)],{hk:"1kM7Cg"})},"message author")),n({contactId:D.id,menu:h,anchor:t.anchor,event:t.anchor?void 0:t})}]}(n,o),_=(0,m.default)(),j=null===(t=n.groupMetadata)||void 0===t?void 0:t.participants;(0,g.useListener)(j,["add","remove","reset"],_);let M;return(0,F.useShowPastParticipants)(n)&&(M={text:A.fbt._("View past participants",null,{hk:"fYGd4"}),onClick:s}),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(h.default,{ref:e,title:A.fbt._("Search Participants",null,{hk:"M6lxB"}),filter:u=>Boolean(null==j?void 0:j.get(u.id.toString())),onCancel:()=>{r.ModalManager.close()},openContextOnClick:!0,contextEnabled:()=>!1,contextMenu:u=>!c.default.equals((0,d.getMaybeMeUser)(),u),onContext:b,showNotifyName:!0,listenForAdminChange:!0,participantCollection:(0,a.default)(j,"participants"),button:M,showStatusRingAroundProfilePhoto:!0}),x]})}const v=u=>{(0,s.findChat)(u).then((u=>{r.ModalManager.close(),o.Cmd.openChatFromUnread(u)}))};var b=(0,p.forwardRef)(x);e.default=b},850743:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.GroupParticipantsFlow=function(u){const{chat:e,onVerification:t,initialStep:n}=u,[r,D]=(0,o.useFlow)(n,{pushTransition:"none",popTransition:"none"});if(!D.step)return null;let d;switch(D.step){case l.Participants:d=(0,s.jsx)(a.default,{chat:e,onVerification:t,onPastParticipants:()=>D.push(l.PastParticipants)});break;case l.PastParticipants:const u=D.stackSize()>1,n=()=>D.pop();d=u?(0,s.jsx)(i.default,{chat:e,onBack:n}):(0,s.jsx)(i.default,{chat:e,onClose:n})}return(0,s.jsx)(r,{flow:D,children:d})},e.ParticipantsFlowStep=void 0;var a=n(t(320982)),i=n(t(185345)),o=t(159083),s=t(785893);const l=t(76672).Mirrored(["Participants","PastParticipants"]);e.ParticipantsFlowStep=l},185345:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t(221310),i=n(t(568064)),o=n(t(497039)),s=t(128298),l=n(t(787598)),r=t(912591),D=t(429623),d=t(747915),c=n(t(11497)),F=n(t(867568)),C=t(548360),f=t(667294),E=(n(t(156720)),n(t(118063))),h=n(t(196570)),A=t(785893);const p="HEADER",m="ROW",g="DISCLAIMER";function B(u,e){var t;const{chat:n,onBack:a,onClose:s}=u,l=null===(t=n.groupMetadata)||void 0===t?void 0:t.pastParticipants,[r,D]=(0,E.default)(),d=(0,h.default)(l,["add","remove","reset"],(()=>{var u;const e=i.default.accentFold(r),t=(0,o.default)(e),n=null!==(u=null==l?void 0:l.getValidRecords().filter((u=>!e||u.contact.searchMatch(e,t))))&&void 0!==u?u:[];if(!n.length)return[];const a=[];return a.push({type:p,header:C.fbt._("Past participants",null,{hk:"2k91Dw"}),itemKey:"list_header"}),n.forEach(((u,e)=>a.push({type:m,participant:u,itemKey:`${u.id.toString()}_${e}`}))),a.push({type:g}),a}),[r]);return(0,A.jsx)(F.default,{ref:e,title:C.fbt._("Search past participants",null,{hk:"1d6pYh"}),data:d,renderItem:u=>(0,A.jsx)(x,{data:u}),emptyState:(0,A.jsx)(_,{}),onSearch:D,searchPlaceholder:i.default.t(566),onBack:a,onCancel:s})}function x(u){var e;let{data:t}=u;switch(t.type){case p:return(0,A.jsx)(c.default,{header:null!==(e=t.header)&&void 0!==e?e:"",uppercase:!1});case m:return(0,A.jsx)(l.default,{participant:t.participant});case g:return(0,A.jsx)(b,{});default:throw new d.UnknownDataError(t)}}const v={row:{height:"graaj7av",backgroundColor:"ihvf49ua"},disclaimer:{fontSize:"f8jlpxt4",color:"pm5hny62"},empty:{fontSize:"enbbiyaj",color:"eruf1vka"}};function b(){return(0,A.jsx)(D.FlexRow,{xstyle:[v.row,v.disclaimer,s.uiPadding.horiz15],align:"center",justify:"center",children:(0,A.jsx)("span",{children:C.fbt._("People who left or were removed in the last 60 days. {=m2}",[C.fbt._implicitParam("=m2",(0,A.jsx)(r.ExternalLink,{href:(0,a.getHowToExitAndDeleteGroupsFaq)(),children:C.fbt._("Learn More",null,{hk:"44tT41"})}))],{hk:"gdXOy"})})})}function _(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.default,{header:C.fbt._("Past participants",null,{hk:"2k91Dw"}),uppercase:!1}),(0,A.jsx)(D.FlexRow,{xstyle:[v.row,v.empty],align:"center",justify:"center",children:(0,A.jsx)("span",{children:C.fbt._("No results found",null,{hk:"1Wo2fc"})})}),(0,A.jsx)(b,{})]})}var j=(0,f.forwardRef)(B);e.default=j},787598:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{participant:e}=u,t=(0,d.useModelValues)(e.contact,["id","showBusinessCheckmarkAsPrimary"]),n=(0,c.jsx)(r.Name,{contact:t,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary,showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),F=a.Clock.pastParticipantOnDateAtTime(e.leaveTs,function(u){const e=u.id.equals((0,o.getMeUser)());if(u.leaveReason===i.LeaveReason.Left)return e?D.fbt._("Left",null,{hk:"3R2igg"}):D.fbt._("Left",null,{hk:"3kbdqU"});return e?D.fbt._("Removed",null,{hk:"4vPnHl"}):D.fbt._("Removed",null,{hk:"3LiTU6"})}(e));return(0,c.jsx)(s.default,{image:(0,c.jsx)(l.DetailImage,{id:t.id}),primary:n,secondary:F})};var a=t(40234),i=t(681398),o=t(978820),s=n(t(744356)),l=t(288984),r=t(812176),D=t(548360),d=t(735461),c=t(785893)},769171:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{onClick:e}=u,t=(0,s.jsx)(a.TextSpan,{theme:"title",children:o.fbt._("Security",null,{hk:"2BYJDI"})}),n=(0,s.jsx)(a.TextDiv,{theme:"muted",children:o.fbt._("Click to learn how messages and calls are secured.",null,{hk:"1UxhjE"})});return(0,s.jsx)(i.default,{icon:"lock",onClick:e,title:t,secondaryTitle:n})};var a=t(113923),i=n(t(575116)),o=t(548360),s=t(785893)},690973:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.useShowPastParticipants=function(u){const e=(0,s.useOptionalModelValues)(u.groupMetadata,["participants","pastParticipants","groupType"]),t=null==e?void 0:e.pastParticipants,n=(0,o.default)(t,["add","remove","reset"],(()=>Boolean(null==t?void 0:t.getValidRecords().length)));if(!(0,i.pastParticipantsScreenEnabled)()||!n)return!1;if((null==e?void 0:e.groupType)===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)return Boolean(null==e?void 0:e.participants.iAmAdmin());return!0};var a=t(795720),i=t(879662),o=n(t(196570)),s=t(735461)},109582:(u,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{isVoiceCallEnabled:!1,isVideoCallEnabled:!1,canStartVoiceCall:!1,canStartVideoCall:!1,startVoiceCall:()=>{},startVideoCall:()=>{}}};t(317239),t(667294),t(587550)},404584:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e;if((0,d.useEffect)((()=>{(0,i.isMDBackend)()&&(0,a.isPrivacyNarrativeV1Enabled)()&&(0,s.incrementPrinaDailyCount)(u.highlightSurface,o.PrinaDailyActionType.NARRATIVE_APPEAR)}),[]),!(0,i.isMDBackend)())return null;const{onClick:t,text:n}=u,F=(0,c.jsx)(r.TextSpan,{theme:"title",children:null!==(e=u.title)&&void 0!==e?e:D.fbt._("Encryption",null,{hk:"a7CfR"})}),C=(0,c.jsx)(r.TextDiv,{theme:"muted",children:n});return(0,c.jsx)(l.default,{onClick:t,icon:"lock",title:F,secondaryTitle:C})};var a=t(227101),i=t(88555),o=t(407937),s=t(843020),l=n(t(575116)),r=t(113923),D=t(548360),d=t(667294),c=t(785893)},181871:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(348926)),i=t(705177),o=t(978820),s=n(t(471410)),l=n(t(225653)),r=t(932107),D=t(685600),d=t(548360),c=t(667294),F=n(t(156720)),C=t(785893);const f={paddingTop:"s7fqlky6",paddingEnd:"iffbo4e8",paddingBottom:"q1tx93la",paddingStart:"e8k79tju",fontSize:"ovllcyds",lineHeight:"durt31hz",color:"amgz1mtg"};function E(u,e){const{keptMsgs:t,onClose:n,chat:E}=u;(0,c.useEffect)((()=>{(0,a.default)((function*(){const u=new s.default.DisappearingMessageKeepInChat({kicActionName:s.default.KIC_ACTION_NAME_TYPE.VIEW_KEPT_MESSAGES,kicEntryPoint:s.default.KIC_ENTRY_POINT_TYPE.CHAT_INFO,messagesInFolder:t.length,isAGroup:null==E?void 0:E.isGroup});if(null==E?void 0:E.isGroup){var e,n;const t=(0,o.assertGetMeUser)();u.set({isAdmin:null==E||null===(e=E.groupMetadata)||void 0===e||null===(n=e.participants.get(t))||void 0===n?void 0:n.isAdmin})}if(E){const e=yield(0,r.getChatThreadID)(null==E?void 0:E.id.toJid());null!=e&&u.set({threadId:e})}u.commit()}))()}),[]);const h=d.fbt._("Kept messages",null,{hk:"iGco8"}),A=(0,C.jsx)(D.KeptMsgs,{});let p=null;var m;(null==E?void 0:E.isGroup)?p=(null===(m=E.groupMetadata)||void 0===m?void 0:m.restrict)?(0,C.jsx)("div",{className:(0,F.default)(f),children:d.fbt._("These messages are kept in the chat for everyone. Only admins can keep or unkeep messages in this group.",null,{hk:"2P8fIj"})}):(0,C.jsx)("div",{className:(0,F.default)(f),children:d.fbt._("These messages are kept in the chat for everyone. Everyone can keep or unkeep a message. Group admins can limit this.",null,{hk:"3VYBCh"})}):p=(0,C.jsx)("div",{className:(0,F.default)(f),children:d.fbt._("These messages are kept in the chat for everyone. Everyone can keep or unkeep a message.",null,{hk:"3sFKOP"})});return(0,C.jsx)(l.default,{ref:e,msgCollection:t,onClose:n,chat:E,title:h,emptyListText:A,descriptionSection:p,displayType:i.DISPLAY_TYPE.KEPT_MSGS})}var h=(0,c.forwardRef)(E);e.default=h},243895:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var e;const{onClick:t}=u,n=(0,f.useModelValues)(u.chat,["id","isGroup","liveLocation","liveLocationQueried"]),h=(0,C.default)(null===(e=n.liveLocation)||void 0===e?void 0:e.participants,["add","remove"],(()=>{var u,e;return null!==(u=null===(e=n.liveLocation)||void 0===e?void 0:e.participants.toArray())&&void 0!==u?u:[]}));if((0,F.useEffect)((()=>{n.liveLocationQueried||i.LiveLocationCollection.getActive(n.id.toString()).then((()=>{(0,o.unproxy)(n).liveLocationQueried=!0})).catch((()=>{}))}),[]),!h.length)return null;const A=(0,E.jsx)(D.default,{name:(0,l.liveLocationIcon)(!0)});return(0,E.jsx)(s.default,{testid:"section-live-location",theme:"padding",title:c.fbt._("Live Location",null,{hk:"1LvIwY"}),titleOnClick:t,children:(0,E.jsx)(r.default,{side:A,onClick:t,children:(0,E.jsx)(d.TextSpan,{theme:"title",children:(()=>{let u,e,t=0;if(h.forEach((n=>{n.isMe?u=!0:(e||(e=n.contact),t++)})),n.isGroup)return u?1===h.length?c.fbt._("You are sharing live location",null,{hk:"4DvZgE"}):c.fbt._({"*":"You and {number} others are sharing live location",_1:"You and 1 other person are sharing live location"},[c.fbt._plural(t,"number")],{hk:"2cBRlh"}):c.fbt._({"*":"{number} people are sharing live location",_1:"1 person is sharing live location"},[c.fbt._plural(t,"number")],{hk:"2hMfuk"});if(u){if(1===h.length)return c.fbt._("You are sharing live location",null,{hk:"4DvZgE"});if(e)return a.default.t(411,{name:e.formattedShortNameWithNonBreakingSpaces})}else if(e)return a.default.t(408,{name:e.formattedShortNameWithNonBreakingSpaces});return""})()})})})};var a=n(t(568064)),i=t(280650),o=t(204818),s=n(t(833308)),l=t(508581),r=n(t(853145)),D=n(t(23217)),d=t(113923),c=t(548360),F=t(667294),C=n(t(196570)),f=t(735461),E=t(785893)},308059:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.TABS=e.MediaGalleryDrawer=void 0;var a=n(t(252628)),i=n(t(568064)),o=t(408139),s=n(t(578931)),l=t(377144),r=n(t(540436)),D=n(t(60453)),d=n(t(69637)),c=t(994790),F=n(t(359726)),C=n(t(248837)),f=t(446331),E=n(t(5577)),h=n(t(893528)),A=n(t(188224)),p=t(116351),m=n(t(799108)),g=t(718644),B=t(964551),x=t(548360),v=t(667294),b=n(t(156720)),_=n(t(118063)),j=n(t(616223)),M=t(785893);const k={menuItem:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",height:"qmp0wt83",fontSize:"ovllcyds",color:"fdblgtiy",textAlign:"qfejxiq4",textTransform:"ofejerhi",cursor:"ajgl1lbb"},menuItemOSMac:{fontWeight:"hnx8ox4h"},menuItemActive:{color:"qiqvuef5"},menuItemActiveOSMac:{fontWeight:"sy6s5v3r"},menuTabsLists:{position:"g0rxnol2",zIndex:"itj3kzbg",display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",alignItems:"gndfcl4n",height:"qmp0wt83",backgroundColor:"hpebpoc7","::before":{position:"jiaumjzp",bottom:"rhdd2pe1",start:"fx6vfo4m",height:"i1pbklkw",content:"ckfn5qle",backgroundColor:"eb03v51h",transitionProperty:"oiu8h712",transitionDuration:"pf2k5wc9",transitionTimingFunction:"i206tstk"}},column:{display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",flexDirection:"f8m0rgwh",height:"ppled2lx"},multimediaGallery:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx"},threeTabs:{"::before":{width:"l0wh9vpf"}},fourTabs:{"::before":{width:"b213shb5"}},tabMediaActive:{"::before":{transform:"bblgmxd8"}},tabDocsActive:{"::before":{transform:"nws64mye"}},tabLinksActive:{"::before":{transform:"xcz0gzg4"}},tabProductsActive:{"::before":{transform:"lupmkxp7"}}},S=t(76672)({MEDIA:"media",DOCS:"docs",LINKS:"links",PRODUCTS:"products"});e.TABS=S;const y=u=>{const{selected:e,onSearch:t}=u;switch(e){case S.MEDIA:case S.LINKS:case S.DOCS:return(0,M.jsx)(C.default,{onSearch:t,loading:!1,listFilterEnabled:!1,chatlistFilterEnabled:!1,mode:F.default.Chatlist});default:return null}};const T=(0,v.forwardRef)(((u,e)=>{const{chat:t,onProductDetail:n,setProductsScrollOffset:F,initialTab:C=S.MEDIA,productsScrollOffset:T=0}=u,[P,w]=(0,v.useState)(C),[I,N]=(0,v.useState)(null),[R,O]=(0,v.useState)(!1),[L,G]=(0,_.default)(),V=(0,o.mediaLinksDocsFilteringEnabled)(),U=(0,j.default)((()=>new s.default([],(u=>u.id.toString())))),z=()=>{R&&(U.current.unsetAll(),O(!1))},H=(u,e)=>{R||O(!0),U.current.setVal(u,e),0===U.current.getSelected().length&&z()},q=(0,v.useCallback)((u=>{const e=(0,a.default)(S).indexOf(P),t=(0,a.default)(S).indexOf(u);e!==t&&U.current.unsetAll(),w(u),N(t>e?"right":"left"),O(!1)}),[U,P]),W=(0,v.useMemo)((()=>{const u=[{tab:S.MEDIA,title:i.default.t(437)},{tab:S.DOCS,title:i.default.t(244)},{tab:S.LINKS,title:i.default.t(395)}];B.ServerProps.productMediaAttachments&&u.push({tab:S.PRODUCTS,title:x.fbt._("Products",null,{hk:"3Ky71N"})});const e=u.map((u=>{const e=(0,b.default)(k.menuItem,l.isOSMac&&k.menuItemOSMac,P===u.tab&&k.menuItemActive,P===u.tab&&l.isOSMac&&k.menuItemActiveOSMac);return(0,M.jsx)("button",{className:e,onClick:()=>q(u.tab),title:u.title,children:u.title},u.tab)})),t=(0,b.default)(k.menuTabsLists,B.ServerProps.productMediaAttachments?k.fourTabs:k.threeTabs,P===S.MEDIA&&k.tabMediaActive,P===S.DOCS&&k.tabDocsActive,P===S.LINKS&&k.tabLinksActive,P===S.PRODUCTS&&k.tabProductsActive);return(0,M.jsx)("div",{className:t,"data-active-tab":P,children:e})}),[P,q]),Y=function(u){switch(u){case S.MEDIA:return p.MultiSelectBarEntryPoint.MEDIA;case S.DOCS:return p.MultiSelectBarEntryPoint.DOCS;case S.LINKS:return p.MultiSelectBarEntryPoint.LINKS;case S.PRODUCTS:return p.MultiSelectBarEntryPoint.PRODUCTS}}(P),K=(()=>{let u;switch(P){case S.MEDIA:u=(0,M.jsx)(A.default,{chat:t,mediaMsgs:t.getMediaMsgs(),selectable:R,onMessageSelect:H,selectedMessages:U.current,fullCollection:!0,isFilterEnabled:V,filterText:L});break;case S.LINKS:u=(0,M.jsx)(h.default,{chat:t,linkMsgs:t.getLinkMsgs(),selectable:R,onMessageSelect:H,selectedMessages:U.current,isFilterEnabled:V,filterText:L});break;case S.DOCS:u=(0,M.jsx)(E.default,{chat:t,docMsgs:t.getDocMsgs(),selectable:R,onMessageSelect:H,selectedMessages:U.current,isFilterEnabled:V,filterText:L});break;case S.PRODUCTS:u=(0,M.jsx)(m.default,{chat:t,productMsgs:t.getProductMsgs(),selectable:R,onMessageSelect:H,selectedMessages:U.current,onProductDetail:n,setScrollOffset:F,scrollOffset:T})}return u})(),X=[S.MEDIA,S.DOCS].includes(P),Z=R?(0,M.jsx)(g.UIE,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:z,children:(0,M.jsx)(p.MultiSelectBar,{chat:t,noSortOnForward:!0,theme:"mediaGallery",toastPosition:f.ToastPosition.RIGHT,downloadButton:X,selectedMessages:U.current,onCancel:z,entryPoint:Y})}):null,$="right"===I?"slide-forward":"slide-back";return(0,M.jsxs)(D.default,{ref:e,theme:"gallery",testid:"media-gallery-drawer",children:[(0,M.jsx)(c.DrawerHeader,{title:" ",onBack:u.onBack,rtlFixIfOnDarwin:!0,type:c.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),Z,W,V?(0,M.jsx)(y,{selected:P,onSearch:G}):null,(0,M.jsx)(d.default,{"data-list-scroll-container":!0,children:(0,M.jsx)(r.default,{transitionName:$,className:(0,b.default)(k.column),children:(0,M.jsx)("div",{className:(0,b.default)(k.multimediaGallery),children:(0,M.jsx)("div",{className:(0,b.default)(k.column),children:K})},P)})})]})}));e.MediaGalleryDrawer=T,T.displayName="MediaGalleryDrawer"},614425:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const e=(0,r.useModelValues)(u.mediaData,["mediaStage","renderableUrl"]);return(0,D.jsx)(o.default,{mediaData:e,placeholderRenderer:F,children:e=>(0,D.jsx)(c,{url:e,msg:u.msg})})};var a=n(t(568064)),i=n(t(179741)),o=n(t(220553)),s=n(t(145863)),l=n(t(294184)),r=t(735461),D=t(785893);const d=u=>{u.stopPropagation()};function c(u){let{url:e,msg:t}=u;return(0,D.jsx)(s.default,{url:e,className:i.default.mediaViewerAudio,onClick:d,autoPlay:!0,msg:t,controls:!0,children:a.default.t(141)})}function F(){return(0,D.jsx)("div",{className:(0,l.default)(i.default.imageAudio,i.default.mediaViewerPlaceholder),onClick:d})}},965768:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{onHightlightCloseEnd:e,msgIndexInAlbum:t,onViewOnceInfoClick:n,onClose:a}=u,o=(0,H.useRef)(null),s=(0,W.useModelValues)(u.msg,["id","star","isGroupMsg","chat","type","isGif","isViewOnce","sender","senderObj","t","isSentByMe","isStickerMsg","broadcastId","isUnsentMedia","isKept"]),l=(0,W.useModelValues)(u.mediaData,["filehash","mediaStage","renderableUrl"]),[r,D]=(0,H.useState)(null),[d,c]=(0,H.useState)(null),C=(0,H.useRef)(null),f=()=>{D(null)},h=()=>{c(null)},A=(0,Y.default)((u=>{(0,F.canReactToMessage)(u)&&c({dirY:j.DirY.BOTTOM,dirX:j.DirX.CENTER,type:j.MenuType.ReactionPicker,menu:(0,K.jsx)(I.ReactionsPanel,{msgId:u.id.toString(),onSelection:e=>{(0,E.sendReactionToMsg)(u,e).catch((()=>{})),h()}}),flipOnRTL:!0,anchor:C.current})}));(0,q.useListener)(o.current,"animationend",(()=>{e()}));let p,m=s.displayName(!0,!0);s.isGroupMsg&&(m+=" @ "+s.chat.title());r?p=(0,K.jsx)(T.UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:f,children:(0,K.jsx)(P.default,{contextMenu:r})}):d&&(p=(0,K.jsx)(T.UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:h,children:(0,K.jsx)(P.default,{contextMenu:d})}));return(0,K.jsxs)("div",{className:g.default.mediaPanelHeader,children:[(0,K.jsx)("div",{className:g.default.info,children:(0,K.jsx)(v.default,{idle:!0,image:(0,K.jsx)(_.DetailImage,{id:s.sender,size:40}),primary:(0,K.jsx)(k.EmojiText,{ellipsify:!0,text:m}),secondary:i.Clock.relativeDateAndTimeStr(s.t),theme:"media"})}),(0,K.jsx)("div",{className:g.default.mediaPanelTools,children:(0,K.jsxs)(S.MenuBar,{theme:"strong",children:[(0,K.jsx)(du,{isMediaDownloadable:()=>!s.isViewOnce&&(!!l.renderableUrl||l.mediaStage===x.MEDIA_DATA_STAGE.RESOLVED),msg:s,msgIndexInAlbum:t,onClose:a,onViewOnceInfoClick:n,openReactionTray:()=>{if(!(0,F.canReactToMessage)(s))return;const u={dirY:j.DirY.BOTTOM,dirX:j.DirX.CENTER,type:j.MenuType.ReactionSendTray,menu:(0,K.jsx)(R.SendReactionsTrayContainer,{msg:s,selectedCallback:u=>{u!==N.MORE_REACTIONS?(0,E.sendReactionToMsg)(s,u).catch((()=>{})):setTimeout((()=>{A(s)}),150),f()}}),flipOnRTL:!1,anchor:C.current};D(u)},sendReactionButtonRef:C}),(0,K.jsx)(S.MenuBarItem,{testid:"btn-close",icon:(0,K.jsx)(y.default,{className:u.isHighlightClose?g.default.highlightClose:null,containerRef:o,name:"x-viewer"}),title:z.fbt._("Close",null,{hk:"19Jpec"}),onClick:u.onClose})]},"media-panel-header")}),p]})};var a=t(413959),i=t(40234),o=t(781572),s=t(141455),l=t(21634),r=n(t(568064)),D=t(408139),d=t(914597),c=t(115461),F=t(867811),C=n(t(925584)),f=t(588459),E=t(805687),h=t(45775),A=t(387674),p=t(204818),m=n(t(471410)),g=n(t(477375)),B=t(508969),x=t(58668),v=n(t(744356)),b=t(872439),_=t(288984),j=t(160811),M=t(471174),k=t(965417),S=t(646346),y=n(t(23217)),T=t(718644),P=n(t(624717)),w=t(188172),I=t(525365),N=t(761761),R=t(713228),O=t(496144),L=n(t(452665)),G=n(t(447022)),V=t(739920),U=n(t(841327)),z=t(548360),H=t(667294),q=t(587550),W=t(735461),Y=n(t(389113)),K=t(785893);const X=t(76672).Mirrored(["MenuBar","Dropdown"]);function Z(u){const e=u.chat;e.composeQuotedMsg=u,w.ComposeBoxActions.focus(e)}function $(u){return z.fbt._("Report {contact_name}",[z.fbt._param("contact_name",u.senderObj.displayName)],{hk:"3Dqyjo"})}function J(u){let{isMediaDownloadable:e,msg:t,onClose:n,openReactionTray:a,sendReactionButtonRef:i}=u;return(0,K.jsxs)(K.Fragment,{children:[t.canReply()?(0,K.jsx)(eu,{msg:t,onClose:n}):null,t.canStar()?(0,K.jsx)(ou,{msg:t}):null,t.canShowKeepOrUnkeepOption()?(0,K.jsx)(iu,{msg:t}):null,(0,F.canReactToMessage)(t)?(0,K.jsx)(au,{msg:t,openReactionTray:a,sendReactionButtonRef:i}):null,(0,K.jsx)(tu,{msg:t,onClose:n}),t.canForward()?(0,K.jsx)(su,{msg:t}):null,(0,K.jsx)(cu,{isMediaDownloadable:e,isAlbumMedia:!0,msg:t,onClose:n})]})}function Q(u){let{isMediaDownloadable:e,msg:t,onClose:n,openReactionTray:a,sendReactionButtonRef:i}=u;return(0,K.jsxs)(K.Fragment,{children:[t.isStickerMsg?null:(0,K.jsx)(uu,{msg:t,type:X.MenuBar,onClose:n}),t.isStickerMsg?(0,K.jsx)(eu,{msg:t,onClose:n}):null,t.canStar()?(0,K.jsx)(ou,{msg:t}):null,t.canShowKeepOrUnkeepOption()?(0,K.jsx)(iu,{msg:t}):null,t.isStickerMsg?(0,K.jsx)(tu,{msg:t,onClose:n}):null,(0,F.canReactToMessage)(t)?(0,K.jsx)(au,{msg:t,openReactionTray:a,sendReactionButtonRef:i}):null,t.canForward()?(0,K.jsx)(su,{msg:t}):null,t.isStickerMsg?null:(0,K.jsx)(nu,{isMediaDownloadable:e,msg:t,type:X.MenuBar}),t.canReport()&&(0,D.messageLevelReportingEnabled)()?(0,K.jsx)(cu,{isMediaDownloadable:e,isAlbumMedia:!1,msg:t,onClose:n}):null]})}function uu(u){let{msg:e,type:t,onClose:n}=u;const a=u=>{u.stopPropagation(),n(),s.DrawerManager.existsDrawerRight((u=>{u&&2===b.Column.column&&s.DrawerManager.closeDrawerRight()}));const t=e.chat.getSearchContext((0,p.unproxy)(e));o.Cmd.openChatAt(e.chat,t).then((u=>{u&&w.ComposeBoxActions.focus(e.chat)}))};return t===X.Dropdown?(0,K.jsx)(M.DropdownItem,{action:a,children:z.fbt._("Go to message",null,{hk:"B1anG"})}):(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:"bubble"}),title:z.fbt._("Go to message",null,{hk:"B1anG"}),onClick:a})}function eu(u){let{msg:e,onClose:t}=u;return(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:"reply"}),title:z.fbt._("Reply",null,{hk:"1C7DPa"}),onClick:()=>{t(),(0,a.delayMs)(B.CLOSE_ANIMATION_DURATION).then(Z.bind(null,(0,p.unproxy)(e)))}})}function tu(u){let{msg:e,onClose:t}=u;return(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:"delete"}),title:z.fbt._("Delete",null,{hk:"2KhPUX"}),onClick:()=>{d.ModalManager.open((0,K.jsx)(G.default,{chat:e.chat,msgList:[(0,p.unproxy)(e)],onDelete:t})),f.UiRevokeActionHelper.startSession(),f.UiRevokeActionHelper.messageSelected()}})}function nu(u){let{msg:e,type:t,isMediaDownloadable:n}=u;const a=u=>{u.stopPropagation(),l.FileSaver.initDownload((0,p.unproxy)(e))};return t===X.Dropdown?(0,K.jsx)(M.DropdownItem,{action:a,disabled:!n(),children:z.fbt._("Download",null,{hk:"1g5Jix"})}):(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:"download"}),title:z.fbt._("Download",null,{hk:"1g5Jix"}),disabled:!n(),onClick:a})}function au(u){let{msg:e,openReactionTray:t,sendReactionButtonRef:n}=u;return e.type===c.MSG_TYPE.STICKER?null:(0,K.jsx)(S.MenuBarItem,{testid:"reaction-entry-point",icon:(0,K.jsx)(y.default,{containerRef:n,name:"reactions-media",width:20}),title:z.fbt._("React to message",null,{hk:"1MagBh"}),onClick:()=>{t()}})}const iu=u=>{let e,t,n,{msg:a}=u;const i=u=>{u.stopPropagation(),(0,V.runKeepInChatUX)((0,p.unproxy)(a),m.default.KIC_ENTRY_POINT_TYPE.MEDIA)},o=u=>{u.stopPropagation(),(0,V.runUndoKeepInChatUX)((0,p.unproxy)(a),m.default.KIC_ENTRY_POINT_TYPE.MEDIA)};if(a.isKept&&a.canShowUnkeepOption())e="undo-keep-in-chat",t=o,n=z.fbt._("Unkeep",null,{hk:"1eGZng"});else{if(a.isKept||!a.canShowKeepOption())return null;e="keep-in-chat",t=i,n=z.fbt._("Keep",null,{hk:"1a48ae"})}return(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:e}),title:n,onClick:t},e)};function ou(u){let e,t,n,{msg:a}=u;return a.star?(e=u=>{u.stopPropagation(),o.Cmd.sendUnstarMsgs(a.chat,[(0,p.unproxy)(a)])},t="unstar-btn",n=r.default.t(628)):(e=u=>{u.stopPropagation(),o.Cmd.sendStarMsgs(a.chat,[(0,p.unproxy)(a)])},t="star-btn",n=r.default.t(606)),(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:t}),title:n,onClick:e},t)}function su(u){let{msg:e}=u;return(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:"forward"}),title:r.default.t(312),onClick:u=>{u.stopPropagation(),e.isUnsentMedia?d.ModalManager.open((0,K.jsx)(L.default,{title:r.default.t(302),onOK:()=>d.ModalManager.close(),okText:z.fbt._("OK",null,{hk:"2KEeHb"}),children:r.default.t(299)})):d.ModalManager.open((0,K.jsx)(O.ForwardMessageModalLoadable,{msgs:[(0,p.unproxy)(e)],onClose:()=>d.ModalManager.close()}),{transition:"modal-flow"})}})}function lu(u){let{msg:e}=u;return(0,K.jsx)(M.DropdownItem,{testid:"mi-msg-reply",action:()=>{(0,C.default)(e)},children:z.fbt._("Reply privately",null,{hk:"1XQeK2"})})}function ru(u){let{msg:e}=u;const t=u=>{u?(0,h.sendMessageReportBlock)(e,A.SpamFlow.MediaViewer):(0,h.sendMessageReport)(e,A.SpamFlow.MediaViewer),d.ModalManager.close()};return(0,K.jsx)(M.DropdownItem,{action:()=>{d.ModalManager.open((0,K.jsx)(U.default,{isBusiness:e.senderObj.isBusiness,isGroup:e.chat.isGroup,onReport:t,onCancel:()=>d.ModalManager.close(),title:$(e)}))},children:$(e)})}function Du(u){let{msg:e,onClose:t}=u;return(0,K.jsx)(M.DropdownItem,{action:()=>{t(),(0,a.delayMs)(B.CLOSE_ANIMATION_DURATION+250).then(o.Cmd.msgInfoDrawer.bind(o.Cmd,(0,p.unproxy)(e)))},children:r.default.t(456)})}function du(u){let{isMediaDownloadable:e,msg:t,msgIndexInAlbum:n,onClose:a,onViewOnceInfoClick:i,openReactionTray:o,sendReactionButtonRef:s}=u;return t.isViewOnce?(0,K.jsx)(Fu,{isMediaDownloadable:e,msg:t,onClose:a,onViewOnceInfoClick:i}):n>=0?(0,K.jsx)(J,{isMediaDownloadable:e,msg:t,onClose:a,openReactionTray:o,sendReactionButtonRef:s}):(0,K.jsx)(Q,{isMediaDownloadable:e,msg:t,onClose:a,openReactionTray:o,sendReactionButtonRef:s})}function cu(u){let{isMediaDownloadable:e,isAlbumMedia:t,msg:n,onClose:a}=u;const i=[];return(n.canPrivateReply()||n.canPrivateReplyInRestrictedGrp())&&i.push((0,K.jsx)(lu,{msg:n},"private_reply")),t&&(n.isSentByMe&&i.push((0,K.jsx)(Du,{msg:n,onClose:a},"dropdownMsgInfo")),i.push((0,K.jsx)(uu,{msg:n,type:X.Dropdown,onClose:a},"dropdownGoToMsg"),(0,K.jsx)(nu,{isMediaDownloadable:e,msg:n,type:X.Dropdown},"dropdownDownload"))),(n.isViewOnce||n.canReport()&&(0,D.messageLevelReportingEnabled)())&&i.push((0,K.jsx)(ru,{msg:n},"reportSpam")),(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:"menu"}),title:r.default.t(451),children:(0,K.jsx)(j.Dropdown,{type:j.MenuType.DropdownMenu,flipOnRTL:!0,dirX:j.DirX.LEFT,children:i})})}function Fu(u){let{isMediaDownloadable:e,msg:t,onClose:n,onViewOnceInfoClick:a}=u;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(S.MenuBarItem,{icon:(0,K.jsx)(y.default,{name:"view-once",className:g.default.voIcon}),title:z.fbt._("View once info",null,{hk:"47XkZ4"}),onClick:a}),(0,K.jsx)(cu,{isMediaDownloadable:e,isAlbumMedia:!1,msg:t,onClose:n})]})}},402959:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(471410)),i=n(t(839040)),o=n(t(537015)),s=n(t(220553)),l=t(429623),r=n(t(247065)),D=n(t(638261)),d=t(610595),c=n(t(660325)),F=t(667294),C=n(t(156720)),f=n(t(778506)),E=t(735461),h=t(785893);const A={container:{width:"ln8gz9je",height:"ppled2lx"},stickerContainer:{maxWidth:"mx6rw3sv",maxHeight:"trnfqnf9",marginBottom:"r2u2pyhj",zIndex:"thghmljt"}},p=(u,e)=>{const{msg:t}=u,n=(0,E.useModelValues)(u.mediaData,["mediaStage","fullWidth","fullHeight","isFirstParty","stickerPackId","stickerPackName","stickerPackPublisher"]),p=(0,F.useRef)(null),m=(0,f.default)(e,p),g=u=>{var e;null===(e=p.current)||void 0===e||e.onClick(u)},B=n.isFirstParty?(0,h.jsx)(D.default,{stickerPackId:n.stickerPackId,onStickerPackView:u.onStickerPackView,stickerPackViewDelay:u.stickerPackViewDelay}):(0,h.jsx)(d.StickerDetailsStickerPackInfo,{name:n.stickerPackName,publisher:n.stickerPackPublisher,theme:d.Theme.MediaViewer});return(0,h.jsxs)(l.FlexColumn,{align:"center",justify:"center",xstyle:A.container,children:[(0,h.jsx)("div",{className:(0,C.default)(A.container,A.stickerContainer),children:(0,h.jsx)(o.default,{ref:m,width:n.fullWidth,height:n.fullHeight,onZoomIn:u.onImgZoomIn,msg:t,children:(0,h.jsx)(s.default,{mediaData:n,placeholderRenderer:()=>(0,h.jsx)(c.default,{size:376}),downloadMedia:()=>null==t?void 0:t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:a.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!1}),children:e=>(0,h.jsx)(r.default,{className:(0,C.default)(i.default.content),onClick:g,src:e,onLoad:u.onLoad})})})}),B]})};var m=(0,F.forwardRef)(p);e.default=m},726646:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(t(568064)),i=t(867811),o=n(t(471410)),s=n(t(215407)),l=n(t(839040)),r=t(58668),D=n(t(662190)),d=n(t(311791)),c=n(t(523425)),F=n(t(752500)),C=t(694270),f=n(t(65932)),E=t(640875),h=t(4522),A=t(899875),p=t(729984),m=t(667294),g=n(t(156720)),B=t(785893);class x extends m.PureComponent{constructor(){super(...arguments),this.state={played:!1,size:{width:0,height:0},isFullscreenMode:!1,displayReactionBubble:!0},this._setRefContainer=u=>{this.refContainer=u},this.stopPropagation=u=>{u.stopPropagation()},this._handleFullscreenToggle=u=>{this.setState({isFullscreenMode:u})}}static getDerivedStateFromProps(u){const{mediaData:e}=u;return(e.mediaStage===r.MEDIA_DATA_STAGE.RESOLVED||e.streamable&&e.isStreamable())&&(0,p.isNonZeroNumber)(e.fullWidth)&&(0,p.isNonZeroNumber)(e.fullHeight)?{size:x.getSize(e)}:null}static getSize(u){if(u.isGif){const e=330;return u.fullWidth>=e?{width:u.fullWidth,height:u.fullHeight}:{width:e,height:u.fullHeight*e/u.fullWidth}}return u.fullWidth>=h.MIN_WIDTH?{width:u.fullWidth,height:u.fullHeight}:{width:h.MIN_WIDTH,height:u.fullHeight}}componentDidMount(){this.props.mediaData.isStreamable()||this.props.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:o.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0})}componentWillUnmount(){this.props.msg.mediaObject&&this.props.msg.cancelDownload()}closingMedia(){this.setState({displayReactionBubble:!1})}render(){var u;const{msg:e,mediaData:t,onLoadedData:n}=this.props,o=t.isGif;let f=t.mediaStage===r.MEDIA_DATA_STAGE.RESOLVED||t.streamable&&t.isStreamable();f=f||e.isForcingRMR();let h=null;const p=C.ReactionBubbleType.MEDIA_ITEM;if(e&&(0,i.shouldShowReactionBubble)(e,p)&&(h=(0,B.jsx)(F.default,{msgIds:[e.id.toString()],reactionBubbleType:p,reactionBubbleVisible:this.state.displayReactionBubble})),f){const u=a.default.t(648);let i,s;return!this.state.isFullscreenMode&&(null==e?void 0:e.interactiveAnnotations)&&e.interactiveAnnotations.length>0&&(i=(0,B.jsx)(D.default,{annotations:e.interactiveAnnotations})),s=o?(0,B.jsxs)("div",{className:(0,g.default)(l.default.content),ref:this._setRefContainer,children:[(0,B.jsx)(c.default,{src:t.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0,onLoadedData:n,children:u}),i]}):(0,B.jsx)("div",{ref:this._setRefContainer,className:(0,g.default)(l.default.content),onClick:this.stopPropagation,children:(0,B.jsx)(A.WrappedMsgVideoPlayer,{msg:e,mediaData:t,startTime:this.props.startTime,onClose:this.props.onClose,onError:()=>{},onFullscreenToggle:this._handleFullscreenToggle,autoPlay:this.props.autoPlay,type:E.PLAYER_TYPE.MEDIA_VIEWER,overlays:i,noPip:e.isViewOnce,onLoadedData:n})}),(0,B.jsxs)(d.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad,children:[s,h]})}return(0,B.jsxs)(d.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:{width:this.props.mediaData.fullWidth,height:this.props.mediaData.fullHeight},children:[(0,B.jsx)(s.default,{altText:null!==(u=e.caption)&&void 0!==u?u:"",mediaData:t}),h]})}}x.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","isViewOnce","preview","renderableUrl","streamable"]},x.defaultProps={startTime:0},x.displayName="MediaVideo";const v=(0,f.default)(x,x.CONCERNS);e.default=class extends v{getContainerElement(){return this.getComponent().refContainer}closingMedia(){this.getComponent().closingMedia()}}},747186:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{onImageLoad:e,isAnimatingIn:t,onImgZoomIn:n,onExitAnimation:x,onBack:_}=u,G=(0,w.useModelValues)(u.msg,["id","star","isUnsentMedia","isViewOnce","isStickerMsg","chat","caption","interactiveAnnotations","type"]),U=(0,w.useModelValues)(u.mediaData,["mediaStage","type","isGif"]),z=(0,N.default)(t),H=(0,P.useRef)(null),q=(0,P.useRef)(null),W=(0,P.useRef)(null),Y=(0,P.useRef)(null),K=(0,P.useRef)(),X=(0,P.useRef)(!1),Z=(0,P.useRef)(!1),$=(0,P.useRef)(!1),[J,Q]=(0,I.default)(D.NUX.EPHEMERAL_VIEW_ONCE_RECEIVER),uu=G.isViewOnce&&J,[eu]=(0,P.useState)((()=>U.mediaStage===B.MEDIA_DATA_STAGE.RESOLVED&&u.isAnimatingIn&&u.getZoomNode?u.getZoomNode(G.id):null)),[tu,nu]=(0,P.useState)(!1),[au,iu]=(0,P.useState)(!1),[ou,su]=(0,P.useState)(!u.isAnimatingIn),[lu,ru]=(0,P.useState)(!1),[Du,du]=(0,P.useState)(!1),cu=()=>{const u=(0,O.jsx)(m.default,{isPhoto:U.type===g.default.TYPE.IMAGE,onOkClick:()=>{Q(),r.ModalManager.close()}});r.ModalManager.open(u)},Fu=(0,R.default)(((u,e)=>{if(au)return;const t=H.current;if(!t)return;const n=t.getInsideContainer();if(!(n&&n instanceof HTMLElement))return;const a=t.getOutsideContainer();if(!(a&&a instanceof HTMLElement))return;const{translateX:i,translateY:o}=t.getTranslatePosition(a,u,e);(0,d.default)(n,"stop"),(0,d.default)(n,{translateX:i,translateY:o,scale:A.ZOOM_IN_FACTOR},{duration:0})}));(0,P.useEffect)((()=>(__LOG__(2)`MediaViewerModal: Opened`,uu&&cu(),i.default.focus(Y.current),()=>{__LOG__(2)`MediaViewerModal: Closed`,Fu.cancel()})),[]);const Cu=()=>{G.isViewOnce&&(0,l.canMarkPlayed)(G)&&(0,l.markPlayed)(G)},fu=u=>{Cu(),e&&e();const n=eu,a=u.target;n&&a&&t&&a instanceof HTMLElement&&($.current||($.current=!0,((u,e)=>{var t;const n=e.getBoundingClientRect(),a=u.getBoundingClientRect();let i=a.top-n.top,o=a.left-n.left;const s=u.clientWidth/e.clientWidth;i-=(e.clientHeight-u.clientHeight)/2,o-=(e.clientWidth-u.clientWidth)/2,(0,d.default)(e,{opacity:[1,0],translateX:[0,o],translateY:[0,i],scale:[1,s]},{duration:A.ANIMATION_DURATION,easing:[.1,.82,.25,1]});const l=null===(t=W.current)||void 0===t?void 0:t.getContainerElement();l&&(0,d.default)(l,{opacity:[1,0]},{duration:A.ANIMATION_DURATION})})(n,a)))},Eu=()=>{var e;if(X.current)return;X.current=!0,(0,a.isFunction)(x)&&x();const t=u.getZoomNode&&u.getZoomNode(G.id);if(!t)return _();let n;const i=U.type;var o;if([g.default.TYPE.IMAGE,g.default.TYPE.STICKER].includes(i)&&H.current)n=H.current.getInsideContainer(),null===(o=H.current)||void 0===o||o.closingMediaZoomable();else if(U.isGif&&q.current){var s;n=q.current.getContainerElement(),null===(s=q.current)||void 0===s||s.closingMedia()}if(!n)return _();const l=n,r=n.getBoundingClientRect(),D=t.getBoundingClientRect();let c=D.top-r.top,F=D.left-r.left;const C=t.clientWidth/l.clientWidth;c-=(l.clientHeight-t.clientHeight)/2,F-=(l.clientWidth-t.clientWidth)/2,(0,d.default)(n,{translateX:[F,0],translateY:[c,0],scale:[C,1]},{duration:A.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then((()=>{_()}));const f=null===(e=W.current)||void 0===e?void 0:e.getContainerElement();f&&(0,d.default)(f,{opacity:[0,1]},{duration:A.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]})},hu=u=>{const e=H.current;u&&e&&(Z.current=e.getHeightOverflow()>0||e.getWidthOverflow()>0),nu(u),n(u)},Au=()=>{du(!0)},pu=()=>{iu(!0)},mu=()=>{iu(!1)},gu=u=>{u.stopPropagation(),ru(!lu)};let Bu,xu;switch((0,P.useEffect)((()=>{t||ou||!z||su(!0)}),[t,ou,z]),U.type){case g.default.TYPE.IMAGE:Bu=(0,O.jsx)(F.default,{msg:G,mediaData:U,onLoad:fu,onImgZoomIn:hu,onAnnotationTooltipDisplay:pu,onAnnotationTooltipDismiss:mu,preventDownload:G.isViewOnce,ref:H},G.id.toString());break;case g.default.TYPE.STICKER:Bu=(0,O.jsx)(E.default,{msg:G,mediaData:U,onLoad:fu,onImgZoomIn:hu,onStickerPackView:Eu,stickerPackViewDelay:A.CLOSE_ANIMATION_DURATION,ref:H},G.id.toString());break;case g.default.TYPE.VIDEO:Bu=(0,O.jsx)(h.default,{autoPlay:!uu,msg:G,mediaData:U,onLoadedData:U.isGif?fu:Cu,startTime:u.startTime,onClose:Eu,ref:q},G.id.toString());break;case g.default.TYPE.AUDIO:Bu=(0,O.jsx)(c.default,{mediaData:U,msg:G},G.id.toString());break;default:__LOG__(4,void 0,new Error,!0)`type: ${U.type}`,SEND_LOGS("MediaViewerModal: unexpected media type")}const vu=u.msgIndexInAlbum>=0&&u.albumSize>=0;if(G.caption||vu){let e;vu&&(e=s.default.t(526,{number:u.msgIndexInAlbum+1,totalNumber:u.albumSize}));const t=S.Configuration.Conversation({mentions:G.mentionMap(),phoneNumbers:G.getPhoneNumbers(),links:G.getLinks(),trusted:!0,fromMe:G.id.fromMe}),n=U.type===g.default.TYPE.IMAGE&&!G.isViewOnce,a=!ou&&(U.isGif||n);xu=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("p",{className:(0,y.default)(p.default.captionWrapper,K.current&&p.default.captionWrapperExpandable),onClick:K.current?gu:void 0,title:K.current?T.fbt._("Read more",null,{hk:"2DvSvh"}):void 0,"aria-hidden":lu||void 0,children:[(0,O.jsx)(v.EmojiText,{className:(0,y.default)(p.default.mediaCaption,{[p.default.captionHidden]:a,[p.default.expanded]:lu}),formatters:t,ref:u=>{W.current=u},text:G.caption||e}),K.current&&(0,O.jsx)(k.default,{xstyle:[L.captionReadMoreBtn,lu&&L.captionReadMoreBtnExpanded,tu&&L.captionReadMoreBtnZoomed],onClick:gu,children:(0,O.jsx)(j.TextSpan,{children:T.fbt._("Read more",null,{hk:"2DvSvh"})})})]}),lu&&(0,O.jsx)("p",{className:(0,y.default)(p.default.captionWrapper,p.default.captionWrapperExpandable,p.default.captionExpanded),onClick:gu,children:(0,O.jsx)(v.EmojiText,{className:(0,y.default)(p.default.mediaCaption,p.default.mediaCaptionExpanded),formatters:t,text:G.caption})})]})}const bu=(0,y.default)(p.default.media,{[p.default.mediaWithCaption]:!!xu}),_u=(0,y.default)("overlay",p.default.mediaViewer,{[p.default.noThumbnails]:G.isViewOnce||G.isStickerMsg,[p.default.mediaViewerAnimate]:u.isAnimatingIn,[p.default.cursorZoomOut]:tu}),ju=tu&&Z.current?u=>{Fu(u.pageX,u.pageY)}:null,Mu=tu?u=>{Fu.cancel();const e=H.current;e&&tu&&e.onClick(u)}:null;let ku=tu?null:Eu;null!=ku&&G.isViewOnce&&(ku=Au);const Su=!G.isViewOnce&&!G.isStickerMsg;return(0,O.jsx)(M.UIE,{displayName:"MediaViewer",escapable:!0,requestDismiss:Eu,children:(0,O.jsx)(b.HotKeys,{handlers:{space:u=>{if(t)return;Fu.cancel();const e=H.current;null!=e&&e.onKeyboardZoom(u)}},ref:Y,children:(0,O.jsxs)("div",{className:_u,"data-animate-media-viewer":!0,"data-testid":"media-viewer-modal",onClick:Mu,onMouseMove:ju,children:[(0,O.jsx)(C.default,{isHighlightClose:Du,msg:G,mediaData:U,onClose:Eu,onHightlightCloseEnd:()=>{du(!1)},onViewOnceInfoClick:()=>{cu()},msgIndexInAlbum:u.msgIndexInAlbum}),(0,O.jsx)("div",{className:(0,y.default)(p.default.mediaContent,{[p.default.sticker]:G.isStickerMsg}),onClick:ku,children:(0,O.jsx)(V,{hasNavigationButtons:Su,onNext:u.onNext,onPrev:u.onPrev,imgZoomed:tu,children:(0,O.jsxs)("div",{className:bu,children:[(0,O.jsx)(f.default,{msg:G,mediaData:U}),Bu,(0,O.jsx)(o.default.Provider,{value:G.chat.groupMetadata,children:xu})]})})})]})})})};var a=t(551737),i=n(t(352013)),o=n(t(560060)),s=n(t(568064)),l=t(242050),r=t(914597),D=t(871579),d=n(t(462831)),c=n(t(614425)),F=n(t(976530)),C=n(t(965768)),f=n(t(381136)),E=n(t(402959)),h=n(t(726646)),A=t(508969),p=n(t(380674)),m=n(t(364815)),g=n(t(502320)),B=t(58668),x=t(61991),v=t(965417),b=t(729424),_=t(482857),j=t(113923),M=t(718644),k=n(t(701784)),S=t(130695),y=n(t(294184)),T=t(548360),P=t(667294),w=(n(t(156720)),t(735461)),I=n(t(259732)),N=n(t(837453)),R=n(t(290886)),O=t(785893);const L={captionReadMoreBtn:{position:"lhggkp7q",end:"h223g3sc",bottom:"jxacihee",paddingTop:"ppypbuwx",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"nu34rnf1",backgroundColor:"idmi9oma",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",boxShadow:"a95fzlb5"},captionReadMoreBtnExpanded:{visibility:"kojwoqec"},captionReadMoreBtnZoomed:{visibility:"kqpkm0zi",opacity:"lxctpz5v"}};function G(u){null==u||u.stopPropagation()}function V(u){var e,t,n,a;return(0,O.jsxs)(O.Fragment,{children:[u.hasNavigationButtons&&(0,O.jsx)("div",{className:(0,y.default)(p.default.btnMediaPrev),children:(0,O.jsx)("div",{onClick:u.onPrev?null:G,children:(0,O.jsx)(x.ChevronButton,{type:x.ButtonType.Prev,onClick:null!==(e=u.onPrev)&&void 0!==e?e:void 0,onKeyDown:null!==(t=u.onPrev)&&void 0!==t?t:void 0,disabled:!u.onPrev||u.imgZoomed,theme:_.RoundTheme.Default})})}),u.children,u.hasNavigationButtons&&(0,O.jsx)("div",{className:(0,y.default)(p.default.btnMediaNext),children:(0,O.jsx)("div",{onClick:u.onPrev?null:G,children:(0,O.jsx)(x.ChevronButton,{type:x.ButtonType.Next,onClick:null!==(n=u.onNext)&&void 0!==n?n:void 0,onKeyDown:null!==(a=u.onNext)&&void 0!==a?a:void 0,disabled:!u.onNext||u.imgZoomed,theme:_.RoundTheme.Default})})})]})}},838781:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{mediaMsgs:e,onScroll:t,highlightedMsgIds:n,activeMsg:d,onSetActiveThumb:c,onSelectThumb:F}=u,C=(0,l.useRef)({}),f=()=>{const u=new Map;return e.forEach((e=>{const t=e.id.toString();u.set(t,(u=>{const e=C.current[u];if(!e)return!1;const t=e.getBoundingClientRect(),n=(t.left+t.right)/2;return!(n>-1*window.innerWidth&&n<2*window.innerWidth)})(t))})),u},[E,h]=(0,l.useState)(f),A=(0,r.default)((()=>{const u=f();(0,a.default)(E,u)||h(u)}),100),p=(()=>{const u=n&&n.size>0&&n.has(d.id.toString()),t=[];return e.forEach((e=>{if(null==e.mediaData){const u=d;return void __LOG__(3,!0)`MediaViewerFlow: attempted to render a msg without mediaData: ${JSON.stringify({type:e.type,isMedia:e.isMedia,startMsgType:u.type,startMsgIsMedia:u.isMedia})}`}const a=u&&n&&!n.has(e.id.toString())?"viewerFlowTransparent":"viewerFlow";t.push((0,D.jsx)(o.MediaThumb,{theme:a,active:e===d,msg:e,containerRef:u=>{((u,e)=>{C.current[e]=u})(u,e.id.toString()),e===d&&c(u)},onClick:()=>{F(e)},preferPreview:!!E.get(e.id.toString()),showTooltip:e.isGroupMsg},`media-${e.id.id}`))})),t.push((0,D.jsx)("div",{className:i.default.mediaThumb,children:e.queryMediaAfter?(0,D.jsx)(s.Spinner,{stroke:6,size:24}):null},"spinner-right")),t.unshift((0,D.jsx)("div",{className:i.default.mediaThumb,children:e.queryMediaBefore?(0,D.jsx)(s.Spinner,{stroke:6,size:24}):null},"spinner-left")),t.push((0,D.jsx)("div",{className:i.default.thumbPadding},"padding-right")),t.unshift((0,D.jsx)("div",{className:i.default.thumbPadding},"padding-left")),t})();return(0,D.jsx)("div",{className:i.default.thumbsContainer,ref:u.setRefThumbsContainer,children:(0,D.jsx)("div",{className:i.default.scrollContainer,dir:"ltr",children:(0,D.jsx)("div",{onScroll:u=>{A(),t(u)},className:i.default.viewerThumbs,ref:u.setRefThumbs,children:p})})})};var a=n(t(31789)),i=n(t(276479)),o=t(341908),s=t(111054),l=t(667294),r=n(t(290886)),D=t(785893)},364815:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{onOkClick:e}=u;return(0,C.jsx)(d.default,{onOK:e,cancelText:i.default.t(394),onCancel:()=>{(0,o.openExternalLink)((0,a.getViewOnceFaqUrl)())},children:(0,C.jsxs)(s.FlexColumn,{children:[(0,C.jsx)(l.default,{xstyle:f.graphic,align:"center",children:(0,C.jsx)(r.default,{name:"view-once-sender-nux",width:195,height:177})}),(0,C.jsx)(D.TextHeader,{className:(0,F.default)(f.text),theme:"popup-title",children:u.isPhoto?c.fbt._("This photo is set to view once",null,{hk:"2H7aHc"}):c.fbt._("This video is set to view once",null,{hk:"1w8WFf"})}),(0,C.jsx)(D.TextParagraph,{className:(0,F.default)(f.text),children:u.isPhoto?c.fbt._("For more privacy, this photo will disappear after you close it.",null,{hk:"1XZPqi"}):c.fbt._("For more privacy, this video will disappear after you close it.",null,{hk:"3YgUHE"})})]})})};var a=t(221310),i=n(t(568064)),o=t(912591),s=t(429623),l=n(t(748846)),r=n(t(23217)),D=t(113923),d=n(t(452665)),c=t(548360),F=n(t(156720)),C=t(785893);const f={text:{marginBottom:"or9x5nie"},graphic:{marginBottom:"t4zgqcuo"}}},841327:(u,e,t)=>{"use strict";var n=t(595318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const[e,t]=(0,r.useState)(!1),n=l.fbt._("This message will be forwarded to WhatsApp.",null,{hk:"zDnRs"});let c,F;u.isBusiness?(c=l.fbt._("This business will not be notified.",null,{hk:"1gYBZD"}),F=l.fbt._("Block business",null,{hk:"3hFIF3"})):(c=l.fbt._("This contact will not be notified.",null,{hk:"a52vJ"}),F=l.fbt._("Block contact",null,{hk:"41X9mL"}));return(0,D.jsxs)(a.default,{onOK:function(){u.onReport(e)},okText:l.fbt._("Report",null,{hk:"18ssTb"}),onCancel:u.onCancel,title:u.title,children:[(0,D.jsx)(s.TextParagraph,{xstyle:d.section,color:"muted",children:n}),(0,D.jsx)(s.TextParagraph,{xstyle:d.section,color:"muted",children:c}),(0,D.jsxs)(o.FlexRow,{align:"center",justify:"start",children:[(0,D.jsx)(i.CheckBox,{onChange:()=>t((u=>!u)),checked:e,id:"menu-icon-report-spam"}),(0,D.jsx)(s.TextLabel,{xstyle:d.checkboxLabel,htmlFor:"menu-icon-report-spam",color:"muted",children:F})]})]})};var a=n(t(452665)),i=t(316593),o=t(429623),s=t(113923),l=t(548360),r=t(667294),D=(n(t(156720)),t(785893));const d={section:{marginBottom:"t4zgqcuo"},checkboxLabel:{marginStart:"fooq7fky"}}},59828:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={audioTag:"_1ichq"}},808767:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={msg:"_3YiZC",text:"RmpKn",bubble:"_2z0p1",author:"XntIB",hasSuspiciousLinks:"_3bU-2",hasAuthor:"_2cFHu",suspiciousLabel:"_2tYTz"}},585845:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={footerNote:"_2v7h3",getTheAppLink:"f20SI"}},202256:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={wrapper:"_3KBDs",code:"_2ZlC0",codeDarkMode:"_2LUvK",codeLogo:"_3TIEq"}},449103:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={businessHoursRow:"_1yCy2",firstRow:"_2n4C_",businessHoursDay:"_3E1wD",businessHoursHours:"_1KuI5",dayIsOpen:"_3QSVU",businessHoursChevron:"tdvlj",flipSvg:"_3U46z"}},646311:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={section:"_2piwD",description:"_3wQ4p",map:"wjX1S"}},652898:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={contactBusinessInfo:"_-3uPc",contactBusinessInfoSpinner:"i0l32",dataRow:"_27Am0",businessHoursRow:"pHhe2",businessHoursDay:"_37D6O",businessHoursHours:"_1Fkkg",businessHoursChevron:"PfSJW",flipSvg:"kphWe",dataRowIcon:"_1utXv",dataRowText:"_8jzcs",businessTitleText:"_1_m2f",businessMap:"uTGlN",address:"_3gira",link:"sdA8C",infoIcon:"_2GuY5"}},179741:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={mediaViewerPlaceholder:"nehFG",imageAudio:"_2OreO",mediaViewerAudio:"_1alR8"}},276479:(u,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>n});const n={thumbsContainer:"_1XWMx",scrollContainer:"_1MhXb",viewerThumbs:"_1FS45",mediaThumb:"_52crR",thumbPadding:"_1833d"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components.33acff24f5c4d806ed8a.js.map
