/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[9488],{84548:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCoverPhoto=function e(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.genId)();const d=(0,s.deleteCoverPhoto)(t),u=new i.ActionType(l.fbt._("Removing cover photo",null,{hk:"1KJSi4"})),f=l.fbt._("Cover photo removal failed",null,{hk:"lbogl"}),p=d.catch((()=>{throw __LOG__(3)`actions:deleteCoverPhoto dropped`,new i.ActionType(f)})).catch((0,n.filteredCatch)(a.ServerStatusCodeError,(n=>{if(n.status>=400)return new i.ActionType(f,{actionText:l.fbt._("Try again",null,{hk:"BVffp"}),actionHandler:()=>e(t,o)})}))).then((()=>new i.ActionType(l.fbt._("Cover photo removed",null,{hk:"2jTL3n"}))));return r.ToastManager.open((0,c.jsx)(i.ActionToast,{id:o,initialAction:u,pendingAction:p})),d.then((()=>{}))},t.setCoverPhoto=function e(t,o,d){let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,i.genId)();const f=new i.ActionType(l.fbt._("Setting cover photo",null,{hk:"1W6Cm8"})),p=l.fbt._("Cover photo set failed",null,{hk:"4jlUAI"}),h=(0,s.sendCoverPhoto)(t,o,d).catch((()=>{throw __LOG__(3)`action:setCoverPhoto dropped`,new i.ActionType(p)})).catch((0,n.filteredCatch)(a.ServerStatusCodeError,(n=>{if(__LOG__(3)`action:setCoverPhoto server error`,n.status>=400)return new i.ActionType(p,{actionText:l.fbt._("Try again",null,{hk:"BVffp"}),actionHandler:()=>e(t,o,d,u)})}))).then((()=>{const e=l.fbt._("Cover photo set",null,{hk:"zswp6"});return new i.ActionType(e)}));return r.ToastManager.open((0,c.jsx)(i.ActionToast,{id:u,initialAction:f,pendingAction:h})),h.then((()=>{}))};var n=o(50796),a=o(92574),r=o(94816),l=o(48360),i=o(46331),s=o(8021),c=o(85893)},52778:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPostcode=void 0;var n=o(7799);t.verifyPostcode=(e,t)=>(0,n.verifyPostcode)(e,t)},57987:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return f.apply(this,arguments)};var a=n(o(48926)),r=o(50796),l=o(92574),i=o(94816),s=o(48360),c=o(46331),d=o(62251),u=o(85893);function f(){return(f=(0,a.default)((function*(e,t){const o=(0,d.sendUnlinkSubgroups)({parentGroupId:e,subgroupIds:t}),n=(0,a.default)((function*(){return yield o,new c.ActionType(s.fbt._({"*":"Groups unlinked",_1:"Group unlinked"},[s.fbt._plural(t.length)],{hk:"1t0149"}))}))(),f=new c.ActionType(s.fbt._({"*":"Unlinking groups",_1:"Unlinking group"},[s.fbt._plural(t.length)],{hk:"7pwnQ"}));i.ToastManager.open((0,u.jsx)(c.ActionToast,{id:(0,c.genId)(),initialAction:f,pendingAction:n}));try{yield o}catch(e){(0,r.filteredCatch)(l.ServerStatusCodeError,(()=>{}))(e)}}))).apply(this,arguments)}},91960:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addFailedString=function(e,t){return i.default.t(91,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return r.fbt._("Couldn't add some participants.",null,{hk:"2usrY"})},t.addSuccessString=function(e,t){return i.default.t(92,{participantNames:e,_plural:t})},t.demoteFailedString=function(e,t,o){switch(o){case 406:return r.fbt._("You can't dismiss {participant} as admin because they created this group.",[r.fbt._param("participant",e)],{hk:"iFF5D"});default:return i.default.t(94,{participantNames:e,_plural:t})}},t.demotePartialFailedString=function(){return r.fbt._("Couldn't remove some participants as an admin.",null,{hk:"IRRDJ"})},t.demoteSuccessString=function(e,t){return i.default.t(95,{participantNames:e,_plural:t})},t.formatGroupStatusReasonString=d,t.formatParticipantActionString=c,t.formatParticipantStatusReasonString=u,t.formatRemoveResult=function(e,t){return s(e,f,p,h,t)},t.formatResult=s,t.promoteFailedString=function(e,t){return i.default.t(99,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return r.fbt._("Couldn't make some participants admin.",null,{hk:"4A8lPV"})},t.promoteSuccessString=function(e,t){return i.default.t(100,{participantNames:e,_plural:t})},t.removeFailedString=p,t.removePartialFailedString=h,t.removeSuccessString=f;var a=n(o(89867)),r=o(48360),l=o(19380),i=n(o(14296));function s(e,t,o,n,r){let i;if(207===e.status){const r={};for(const t in e){if(!a.default.isWid(t))continue;const o=e[t];if(403===o)continue;if(207===o)continue;r[o]||(r[o]=[]);const n=l.ContactCollection.get(t);n&&r[o].push(n)}const s=[];for(const e in r){const n=c(t,o,u,parseInt(e,10),r[e]);n&&s.push(n)}i=s.length>0?s.join("\n"):n()}else i=c(t,o,d,e.status,r);return i}function c(e,t,o,n,a){const r=a.map((e=>e.formattedShortName)).join(i.default.t(307)),l=200===n,s=l?e(r,a.length):t(r,a.length,n),c=l?"":o(n,a.length);return s.toString()+c.toString()}function d(e){let t="";switch(e){case 403:t=" "+r.fbt._("You're not a participant.",null,{hk:"4GsI1U"}).toString();break;case 408:t=" "+i.default.t(98);break;case 404:t=" "+r.fbt._("This group has ended.",null,{hk:"C2izu"}).toString();break;case 429:t=" "+r.fbt._("You've added too many contacts to groups too quickly. Try again later.",null,{hk:"aTFA4"}).toString()}return t}function u(e,t){let o="";switch(e){case 401:case 406:case 409:break;case 404:o=" "+i.default.t(97,{_plural:t});break;case 408:o=" "+i.default.t(98,{_plural:t});break;case 500:o=" "+r.fbt._("This group is full.",null,{hk:"27htUz"}).toString();break;default:o=" "+r.fbt._("Please try again.",null,{hk:"3S6IYT"}).toString()}return o}function f(e,t){return i.default.t(103,{participantNames:e,_plural:t})}function p(e,t,o){switch(o){case 406:return r.fbt._("You can't remove {participant} because they created this group.",[r.fbt._param("participant",e)],{hk:"14z8Fr"});default:return i.default.t(102,{participantNames:e,_plural:t})}}function h(){return r.fbt._("Couldn't remove some participants.",null,{hk:"3N0fyq"})}},89389:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(e,t){return g((0,u.unproxy)(e),t)},t.demoteParticipants=function(e,t){return P((0,u.unproxy)(e),t)},t.promoteParticipants=function(e,t){return v((0,u.unproxy)(e),t)},t.removeParticipants=function(e,t){return _((0,u.unproxy)(e),t)};var a=n(o(48926)),r=h(o(35232)),l=o(94816),i=o(46331),s=h(o(91960)),c=n(o(14296)),d=o(37722),u=o(18146),f=o(85893);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(p=function(e){return e?o:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=p(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,o&&o.set(e,n),n}function g(){return m.apply(this,arguments)}function m(){return(m=(0,a.default)((function*(e,t){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants;if(null==a)return Promise.reject(new r.ActionError);if(t.some((e=>a.get(e.id))))return __LOG__(3)`models:groupMetadata:participantCollection:addParticipants already a group member`,Promise.reject(new r.ActionError);if(!a.canAdd())return Promise.reject(new r.ActionError);const u=(0,d.sendAddParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.formattedShortName)).join(c.default.t(307)),h=new i.ActionType(c.default.t(93,{participantNames:p,_plural:t.length})),m=u.then((e=>{a.sendForNeededAddRequest(e);const o=s.formatResult(e,s.addSuccessString,s.addFailedString,s.addPartialFailedString,t);return new i.ActionType(o)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:addParticipants dropped`,new i.ActionType(c.default.t(91,{participantNames:p,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>g(e,t,n)}))));l.ToastManager.open((0,f.jsx)(i.ActionToast,{id:n,initialAction:h,pendingAction:m})),yield u}))).apply(this,arguments)}function _(){return C.apply(this,arguments)}function C(){return(C=(0,a.default)((function*(e,t){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants;if(null==a)return Promise.reject(new r.ActionError);if(t.some((e=>!a.canRemove(e))))return Promise.reject(new r.ActionError);const u=(0,d.sendRemoveParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(c.default.t(307)),h=new i.ActionType(c.default.t(104,{participantNames:p,_plural:t.length})),g=u.then((e=>{const o=s.formatRemoveResult(e,t.map((e=>e.contact)));return new i.ActionType(o)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new i.ActionType(c.default.t(102,{participantNames:p,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>_(e,t,n)}))));l.ToastManager.open((0,f.jsx)(i.ActionToast,{id:n,initialAction:h,pendingAction:g})),yield u}))).apply(this,arguments)}function v(){return S.apply(this,arguments)}function S(){return(S=(0,a.default)((function*(e,t){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants;if(null==a)return Promise.reject(new r.ActionError);if(t.some((e=>!a.canPromote(e))))return Promise.reject(new r.ActionError);const u=(0,d.sendPromoteParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(c.default.t(307)),h=new i.ActionType(c.default.t(101,{participantNames:p,_plural:t.length})),g=u.then((e=>{const o=s.formatResult(e,s.promoteSuccessString,s.promoteFailedString,s.promotePartialFailedString,t.map((e=>e.contact)));return new i.ActionType(o)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new i.ActionType(c.default.t(99,{participantNames:p,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>v(e,t,n)}))));l.ToastManager.open((0,f.jsx)(i.ActionToast,{id:n,initialAction:h,pendingAction:g})),yield u}))).apply(this,arguments)}function P(){return x.apply(this,arguments)}function x(){return(x=(0,a.default)((function*(e,t){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.genId)();const a=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants;if(null==a)return Promise.reject(new r.ActionError);if(t.some((e=>!a.canDemote(e))))return Promise.reject(new r.ActionError);const u=(0,d.sendDemoteParticipants)(e.id,t.map((e=>e.id))),p=t.map((e=>e.contact.formattedShortName)).join(c.default.t(307)),h=new i.ActionType(c.default.t(96,{participantNames:p,_plural:t.length})),g=u.then((e=>{const o=s.formatResult(e,s.demoteSuccessString,s.demoteFailedString,s.demotePartialFailedString,t.map((e=>e.contact)));return new i.ActionType(o)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:demoteParticipants dropped`,new i.ActionType(c.default.t(94,{participantNames:p,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>P(e,t,n)}))));l.ToastManager.open((0,f.jsx)(i.ActionToast,{id:n,initialAction:h,pendingAction:g})),yield u}))).apply(this,arguments)}},62251:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendCreateCommunity=function(){return h.apply(this,arguments)},t.sendLinkSubgroups=function(){return m.apply(this,arguments)},t.sendUnlinkSubgroups=function(){return C.apply(this,arguments)};var a=n(o(48926)),r=o(87614),l=o(31914),i=o(71914),s=o(92574),c=o(81663),d=o(45454),u=o(24747),f=o(39410);const p=new i.WapParser("createCommunityReplyParser",(e=>{const t=e.child("group"),o=(0,d.createWid)(`${t.attrString("id")}@g.us`);if(!o.isGroup())throw Error("createGroupReplyParser: invalid group id");return{wid:o,subject:t.attrString("subject"),creator:(0,c.userJidToUserWid)(t.attrUserJid("creator")),ts:t.attrTime("creation")}}));function h(){return(h=(0,a.default)((function*(e){let{name:t,desc:o}=e;const n=(0,r.randomHex)(8),a=(0,l.wap)("iq",{to:l.G_US,type:"set",xmlns:"w:g2",id:(0,l.generateId)()},(0,l.wap)("create",{subject:(0,l.CUSTOM_STRING)(t),key:(0,l.CUSTOM_STRING)(n)},(0,l.wap)("parent",null),null!=o&&o.length>0?(0,l.wap)("description",{id:(0,l.generateId)()},(0,l.wap)("body",null,o)):null)),i=yield(0,u.sendIqIfConnectedWithin)(a,p,10);return i.success?i.result:(__LOG__(2)`sendCreateCommunity failed: ${i.errorCode}:${i.errorType}`,Promise.reject(new s.ServerStatusCodeError(i.errorCode,i.errorText)))}))).apply(this,arguments)}const g=new i.WapParser("linkSubgroupsReplyParser",(e=>{e.assertTag("iq"),e.assertAttr("type","result");const t=[],o=[];return e.child("links").child("link").mapChildren((e=>{const n=e.attrGroupJid("jid");e.hasAttr("error")?o.push({jid:n,error:e.attrInt("error")}):t.push(n)})),{id:e.attrString("id"),linkedGroupJids:t,failedGroups:o}}));function m(){return(m=(0,a.default)((function*(e){let{parentGroupId:t,subgroupIds:o}=e;const n=o.map((e=>(0,l.wap)("group",{jid:(0,f.JID)(e)}))),a=(0,l.wap)("iq",{to:(0,f.JID)(t),type:"set",xmlns:"w:g2",id:(0,l.generateId)()},(0,l.wap)("links",null,(0,l.wap)("link",{link_type:"sub_group"},n))),r=yield(0,u.sendIq)(a,g);return r.success?r.result:(__LOG__(2)`sendLinkSubgroups failed: ${r.errorCode}:${r.errorType}`,Promise.reject(new s.ServerStatusCodeError(r.errorCode,r.errorText)))}))).apply(this,arguments)}const _=new i.WapParser("unlinkSubgroupsReplyParser",(e=>{e.assertTag("iq"),e.assertAttr("type","result");const t=[],o=[];return e.child("unlink").mapChildren((e=>{const n=e.attrGroupJid("jid");e.hasAttr("error")?o.push({jid:n,error:e.attrInt("error")}):t.push(n)})),{id:e.attrString("id"),unlinkedGroupJids:t,failedGroups:o}}));function C(){return(C=(0,a.default)((function*(e){let{parentGroupId:t,subgroupIds:o}=e;const n=o.map((e=>(0,l.wap)("group",{jid:(0,f.JID)(e)}))),a=(0,l.wap)("iq",{to:(0,f.JID)(t),type:"set",xmlns:"w:g2",id:(0,l.generateId)()},(0,l.wap)("unlink",{unlink_type:"sub_group"},n)),r=yield(0,u.sendIq)(a,_);return r.success?r.result:(__LOG__(2)`sendUnlinkSubgroups failed: ${r.errorCode}:${r.errorType}`,Promise.reject(new s.ServerStatusCodeError(r.errorCode,r.errorText)))}))).apply(this,arguments)}},35255:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addGroupParticipants=function(e,t){return P(e,t,h).catch((0,l.filteredCatch)(c.ServerStatusCodeError,(e=>({status:e.statusCode}))))},t.demoteCommunityParticipants=function(e,t){return P(e,t,C).catch((e=>{__LOG__(3)`error sending demoting community participants iq: ${e}`}))},t.demoteGroupParticipants=function(e,t){return P(e,t,g).catch((e=>{__LOG__(3)`error sending demoting group participants iq: ${e}`}))},t.promoteCommunityParticipants=function(e,t){return P(e,t,_).catch((e=>{__LOG__(3)`error sending promoting community participants iq: ${e}`}))},t.promoteGroupParticipants=function(e,t){return P(e,t,m).catch((e=>{__LOG__(3)`error sending promoting group participants iq: ${e}`}))},t.removeGroupParticipants=function(e,t){return P(e,t,p).catch((e=>{__LOG__(3)`error sending removing group participants iq: ${e}`}))};var a=n(o(81109)),r=n(o(48926)),l=o(50796),i=o(31914),s=o(71914),c=o(92574),d=o(81663),u=o(24747),f=o(39410);const p="remove",h="add",g="demote",m="promote",_="community-promote",C="community-demote";function v(e){return new s.WapParser(`${e}GroupParticipantsReplyParser`,(t=>({id:t.attrString("id"),participants:t.child(e).mapChildren((e=>{const t=e.maybeChild("add_request");return{wid:(0,d.userJidToUserWid)(e.attrUserJid("jid")),error:e.hasAttr("error")?e.attrInt("error"):null,invite_code:t&&t.attrString("code"),invite_code_exp:t&&t.attrString("expiration")}}))})))}function S(e){return new s.WapParser(`${e}CommunityParticipantsReplyParser`,(e=>({id:e.attrString("id"),participants:e.child("admin").mapChildren((e=>({wid:(0,d.userJidToUserWid)(e.attrUserJid("jid")),error:e.hasAttr("error")?e.attrInt("error"):null,type:e.hasAttr("type")?e.attrString("type"):null})))})))}function P(){return x.apply(this,arguments)}function x(){return(x=(0,r.default)((function*(e,t,o){const n=t.map((e=>(0,i.wap)("participant",{jid:(0,f.USER_JID)(e)})));let r;switch(o){case h:r=(0,i.wap)("add",null,n);break;case p:r=(0,i.wap)("remove",null,n);break;case g:r=(0,i.wap)("demote",null,n);break;case m:r=(0,i.wap)("promote",null,n);break;case _:r=(0,i.wap)("admin",null,(0,i.wap)("promote",null,n));break;case C:r=(0,i.wap)("admin",null,(0,i.wap)("demote",null,n));break;default:return Promise.reject(new Error(`invalid group operation ${o}`))}const l=(0,i.wap)("iq",{to:(0,f.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},r);let s;if(s=o===_||o===C?yield(0,u.sendIq)(l,S(o)):yield(0,u.sendIq)(l,v(o)),s.success){const{participants:e}=s.result,t={};return e.forEach((e=>{Object.assign(t,{[e.wid.toString()]:null!=e.error?e.error:200})})),(0,a.default)((0,a.default)({},t),{},{status:207,participants:e.map((e=>({[e.wid.toString()]:{code:null!=e.error&&e.error.toString()||"200",invite_code:e.invite_code,invite_code_exp:e.invite_code_exp}})))})}return Promise.reject(new c.ServerStatusCodeError(s.errorCode,s.errorText))}))).apply(this,arguments)}},7799:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPostcode=function(e,t){if((0,a.isLegacyWebdBackend)())return Promise.reject(new Error("Postcode feature not supported in Non MD mode"));return r.default.verifyAndSavePostcode(e,t)};var a=o(88555),r=n(o(15131))},37722:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){if((0,a.isLegacyWebdBackend)())return l.default.addParticipants(e,t);return(0,r.addGroupParticipants)(e,t)},t.sendDemoteParticipants=function(e,t){if((0,a.isLegacyWebdBackend)())return l.default.demoteParticipants(e,t);return(0,r.demoteGroupParticipants)(e,t)},t.sendPromoteParticipants=function(e,t){if((0,a.isLegacyWebdBackend)())return l.default.promoteParticipants(e,t);return(0,r.promoteGroupParticipants)(e,t)},t.sendRemoveParticipants=function(e,t){if((0,a.isLegacyWebdBackend)())return l.default.removeParticipants(e,t);return(0,r.removeGroupParticipants)(e,t)};var a=o(88555),r=o(35255),l=n(o(56891))},7749:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.uploadBizCoverPhoto=function(){return d.apply(this,arguments)};var a=n(o(48926)),r=o(65885),l=o(23082),i=o(61596),s=n(o(11339)),c=n(o(54824));function d(){return(d=(0,a.default)((function*(e,t,o){const n=yield(0,r.blobToArrayBuffer)(e),a=yield c.default.uploadCoverPhoto({file:n,hash:t,signal:o,type:i.MEDIA_TYPES.BIZ_COVER_PHOTO,uploadOrigin:s.default.UPLOAD_ORIGIN_TYPE.UNKNOWN,isViewOnce:!1}),{fbid:d,ts:u,metaHmac:f}=a;if(null!=d&&null!=u&&null!=f)return{id:d,ts:u,metaHmac:f};throw new l.HttpInvalidResponseError("mmsUpload: missing fields in upload response")}))).apply(this,arguments)}},82482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCatalogLink=function(e){return`https://wa.me/c/${e}`},t.createProductLink=function(e,t){return`https://wa.me/p/${t}/${e}`}},24697:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{businessProfile:o,contact:n,editable:I,profilePicThumb:j,onClick:E,onOpenStatus:O,onLoad:A,hideStatusV3:L}=e;const[w,M]=(0,s.useState)(window.innerWidth),[N,R]=(0,s.useState)(null),D=(0,d.useModelValues)(o,["coverPhoto"]),B=(0,u.default)();(0,s.useEffect)((()=>{function e(){M(window.innerWidth)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]);const F=w>1300?152:122,W=!(0,a.canSeeStatusV3OnContact)()||n.statusMute||L?null:S.StatusV3Collection.get(n.id);function H(){W&&(r.ModalManager.openMedia((0,y.jsx)(C.default,{removeTopDrawer:!1,statusV3:W}),{transition:"status-v3-modal"}),null==O||O())}let U=null;N&&(U=(0,y.jsx)(T.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{R(null)},children:(0,y.jsx)(b.default,{contextMenu:N})}));let G,V=null,z=p.default.noStatusBorder;if(null!=W){const e=!(0,a.isStatusV3ProfilePhotoRingEnabled)();V=(0,y.jsx)(P.StatusV3ImageRing,{statusV3:W,size:F+24,stroke:3,theme:P.RingTheme.BusinessContactInfo,respectAppTheme:!0,breakRing:e}),z=p.default.hasStatusBorder}G=I&&null!=j?(0,y.jsx)(_.default,{profilePicThumb:j,size:F}):(0,y.jsx)(h.DetailImage,{id:n.id,size:F,loader:!0,onLoad:A,onClick:function(e){if(E)if(null!=W&&W.totalCount>0){e.stopPropagation(),e.preventDefault();const t=[(0,y.jsx)(g.DropdownItem,{a8n:"mi-view-photo",action:()=>{E(e)},children:m.default.t(713)},"view-photo"),(0,y.jsx)(g.DropdownItem,{a8n:"mi-view-status",action:H,children:i.fbt._("View status",null,{hk:"1QQMZy"})},"view-status")];R({menu:t,event:e})}else E(e)},quality:h.DetailImageQuality.High});const q=null===(t=D.coverPhoto)||void 0===t?void 0:t.url;let K,Y,Q;if(null!=I&&(0,a.isBizCoverPhotoEditEnabled)()){K=(0,y.jsx)(f.default,{coverPhoto:null!=D.coverPhoto?D.coverPhoto:void 0,signal:B});const e=(0,y.jsx)(x.default,{name:"pencil",directional:!0,color:"teal"});Y=(0,y.jsx)("div",{className:(0,c.default)(k),"aria-hidden":!0,children:(0,y.jsx)(v.Round,{inverted:!0,a8nText:"edit_cover_photo",children:e})})}if(null==I&&null!=q&&(0,a.isBizCoverPhotoViewEnabled)()){const e=i.fbt._("Business cover photo image",null,{hk:"10WGS4"}),t=""!==q?{backgroundImage:`url(${q})`}:null;Q=(0,y.jsx)("div",{className:p.default.coverPhotoImage,style:t,"data-testid":"cover-photo-img",role:"img","aria-label":e})}return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:(0,l.default)(p.default.coverPhoto,{[p.default.isEditable]:I}),children:[Q,K,Y]}),(0,y.jsxs)("div",{className:p.default.avatar,children:[V,(0,y.jsx)("div",{className:z,children:G})]}),U]})};var a=o(8139),r=o(14597),l=n(o(94184)),i=o(48360),s=o(67294),c=n(o(56720)),d=o(35461),u=n(o(3409)),f=n(o(32166)),p=n(o(95941)),h=o(88984),g=o(71174),m=n(o(14296)),_=n(o(79876)),C=n(o(10121)),v=o(82857),S=o(59387),P=o(24391),x=n(o(23217)),T=o(18644),b=n(o(24717)),y=o(85893);const k={position:"lhggkp7q",end:"i7sa5vq0",bottom:"fcd3cnzj",zIndex:"jnl3jror",pointerEvents:"m62443ks"}},30426:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getProfilePopulatedFields=l,t.getProfilePopulatedFieldsFromModel=function(e){return{hasDescription:null!=e.description,hasCategory:!!(e.categories&&e.categories.length>0),hasHours:null!=e.hours,hasEmail:null!=e.email,hasAddress:null!=e.address,hasWebsite:null!=e.primaryWebsite}},t.logEditCoverPhoto=function(){new r.default.EditBusinessProfile({editProfileAction:r.default.EDIT_PROFILE_ACTION.ACTION_EDIT_COVER_PHOTO_CLICK,businessProfileEntryPoint:r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS}).commit()},t.logProfileFieldDiscard=function(e,t,o){new r.default.EditBusinessProfile((0,a.default)({editProfileAction:r.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_DISCARD,businessProfileEntryPoint:r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,editProfileActionField:e,editBusinessProfileSessionId:o},l(t))).commit()},t.logProfileFieldOpen=function(e,t,o){new r.default.EditBusinessProfile((0,a.default)({editProfileAction:r.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_OPEN,businessProfileEntryPoint:r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,editProfileActionField:e,editBusinessProfileSessionId:o},l(t))).commit()},t.logProfileFieldSave=function(e,t,o){new r.default.EditBusinessProfile((0,a.default)({editProfileAction:r.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_SAVE,businessProfileEntryPoint:r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,editProfileActionField:e,editBusinessProfileSessionId:o},l(t))).commit()},t.logProfileOpen=function(e,t){var o;new r.default.EditBusinessProfile({editProfileAction:r.default.EDIT_PROFILE_ACTION.ACTION_OPEN,businessProfileEntryPoint:r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,editBusinessProfileSessionId:t,hasDescription:null!=e.description,hasCategory:!!(e.categories&&e.categories.length>0),hasHours:null!=(null===(o=e.businessHours)||void 0===o?void 0:o.config),hasEmail:null!=e.email,hasAddress:null!=e.address,hasWebsite:null!=e.website}).commit()},t.logRemoveCoverPhoto=function(){new r.default.EditBusinessProfile({editProfileAction:r.default.EDIT_PROFILE_ACTION.ACTION_REMOVE_COVER_PHOTO,businessProfileEntryPoint:r.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS}).commit()};var a=n(o(81109)),r=n(o(11339));function l(e){var t;return{hasDescription:null!=e.description,hasCategory:!!(e.categories&&e.categories.length>0),hasHours:null!=(null===(t=e.businessHours)||void 0===t?void 0:t.config),hasEmail:null!=e.email,hasAddress:null!=e.address,hasWebsite:null!=e.website}}},51070:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.jsx)(a.default,{name:"shopping-cart",xstyle:[l.cartIcon,"inherit-color"===e.theme&&l.inheritColor]})};n(o(56720));var a=n(o(23217)),r=o(85893);const l={cartIcon:{color:"svlsagor"},inheritColor:{color:"gtscxtjd"}}},77577:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{labels:t,theme:o}=e;if(!t||!(0,a.canDisplayLabel)())return null;const n="standalone"===o;return(0,s.jsx)("div",{className:(0,r.default)(l.default.labelContainer,{[l.default.standaloneLabelContainer]:n}),children:t.map(((e,t)=>(0,s.jsx)(c,{labelId:e,isStandalone:n},t)))})};var a=o(8139),r=n(o(94184)),l=n(o(65753)),i=o(84543),s=o(85893);function c(e){let{labelId:t,isStandalone:o}=e;return(0,s.jsx)("div",{className:(0,r.default)(l.default.labelRow,{[l.default.standaloneLabelRow]:o}),children:(0,s.jsx)(i.Labels,{labels:[t],showName:!0})})}},44043:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCartClick:t,cartCount:o,catalogId:n,canManageCatalog:a,onSendCatalog:r,onOpenCollections:l,onOpenMerchantDetailsForm:i,onOpenSettings:c}=e,u=(0,s.useContext)(d.DrawerContext);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(S,{onClick:null!=t&&null!=n?(0,g.getOnCartClickWithLog)(t,n,(0,_.getProductCatalogContext)(u)):void 0,catalogId:n,cartCount:o}),(0,v.jsx)(P,{canManageCatalog:a,onSendCatalog:r,onOpenCollections:l,onOpenMerchantDetailsForm:i,onOpenSettings:c})]})};var a=o(51737),r=o(8139),l=o(78820),i=o(48360),s=o(67294),c=n(o(51070)),d=o(27394),u=o(60811),f=o(71174),p=n(o(14296)),h=n(o(62371)),g=o(41868),m=o(46346),_=o(97567),C=n(o(23217)),v=o(85893);function S(e){let{onClick:t,catalogId:o,cartCount:n}=e;if(t&&o){const e=(0,a.isNumber)(n)&&n>0?n.toString():void 0;return(0,v.jsx)(m.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,v.jsx)(c.default,{theme:"inherit-color"}),text:e,title:i.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:t})}return null}function P(e){let{canManageCatalog:t,onSendCatalog:o,onOpenCollections:n,onOpenMerchantDetailsForm:a,onOpenSettings:s}=e;return t?(0,v.jsx)(m.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,v.jsx)(C.default,{name:"menu"}),title:p.default.t(504),children:(0,v.jsxs)(u.Dropdown,{type:u.MenuType.DropdownMenu,flipOnRTL:!0,dirX:u.DirX.LEFT,children:[(0,v.jsx)(f.DropdownItem,{a8n:"mi-foward menu-item",action:o,children:p.default.t(365)}),n&&(0,v.jsx)(f.DropdownItem,{a8n:"mi-collections menu-item",action:n,children:i.fbt._("Collections",null,{hk:"1VWu7A"})}),(0,r.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)((0,l.getMeUser)().user)&&a&&(0,v.jsx)(f.DropdownItem,{a8n:"merchant-details",action:a,children:i.fbt._("Business details",null,{hk:"m9xzp"})},"merchantDetails"),(0,r.canToggleCartOnOff)()&&s&&(0,v.jsx)(f.DropdownItem,{a8n:"mi-settings menu-item",action:s,children:i.fbt._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,v.jsx)(m.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,v.jsx)(h.default,{}),title:i.fbt._("Catalog link",null,{hk:"M36Dw"}),onClick:o})}},42953:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(8139),r=o(48360),l=o(67294),i=n(o(56720)),s=n(o(39770)),c=o(27394),d=n(o(33308)),u=o(29623),f=n(o(48846)),p=o(77975),h=o(60263),g=o(97567),m=o(5641),_=o(3013),C=o(18146),v=n(o(23217)),S=n(o(1784)),P=o(85893);const x={addIcon:{position:"g0rxnol2",width:"d0st09ow",height:"bbl9m3t3",paddingBottom:"aus7m8kn",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",borderTop:"rom324v9",borderEnd:"na7ur5ty",borderBottom:"gjeyj30g",borderStart:"bmro6pka",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":before":{position:"oxaw94s0",top:"ijeufx4s",start:"meq75apj",display:"oa3lyrek",width:"slvs4faj",height:"jaq0b63r",content:"lij4d1x3",background:"nkmjymgc",transform:"k95pjfv1"},":after":{position:"dkvli2l0",top:"qi2a0yje",start:"bunkm0yn",display:"b0f5vxaq",width:"qbfuvgfc",height:"i0r7mfoh",content:"k15o3o4i",background:"fji5f4ri",transform:"cai600lj"}},largeGallerySpacing:{width:"b8z6cu80",height:"bbl9m3t3",marginEnd:"jnwc1y2a",marginBottom:"qrsyb3yy"},placeholderThumb:{width:"d0st09ow",height:"fujac5jc",paddingBottom:"lxvt2vq0",marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"svoq16ka",backgroundColor:"o27ac25e",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x"},subtitle:{marginTop:"tt8xd2xn",marginEnd:"q471nw87",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"sbs3osm6"},catalogEntryButton:{marginTop:"iin4x6c7",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",textAlign:"qfejxiq4"},shopsLogo:{marginTop:"qt60bha0",textAlign:"qfejxiq4"},chevron:{color:"cs9t9or5"}};function T(e){let{catalogEntryLabel:t,onClick:o}=e;return null==t?null:(0,P.jsx)("div",{className:(0,i.default)(x.catalogEntryButton),children:(0,P.jsx)(s.default,{a8nText:"catalog-entry-button",type:"secondary",onClick:o,children:t})})}function b(){return(0,P.jsx)("div",{className:(0,i.default)(x.shopsLogo),children:(0,P.jsx)(v.default,{name:"fbshops",display:"inline"})})}function y(e){let t,o,{productsToShow:n,catalog:l,hideIncompleteRows:i,filterProductId:s,seeMoreOverlay:c,showProductPlaceholders:d,onProductThumbClick:u,onProductImageClick:f}=e,p=[],g=n;if((0,a.canSeeBizProfileV3)()&&(o="largeGallerySpacing"),null!=l?(t=l.productCollection,p=l.productCollection.getProductModels(),i&&p.length>3&&(g=Math.min(n,p.length-p.length%3)),p=p.slice(0,g+1),p=p.filter((e=>e.id.toString()!==s)).map(((e,t)=>{var n;const a=null===(n=e.getPreviewImage())||void 0===n?void 0:n.mediaData;if(!a)return(0,P.jsx)(P.Fragment,{});let i;c&&t===g-1&&l.productCollection.length>g-1&&(i=r.fbt._("See more",null,{hk:"450jnd"}));return(0,P.jsx)(_.ProductThumb,{onClick:()=>u(null!=i,e),mediaData:a,overlayContent:i,theme:o},e.id.toString())})).slice(0,g)):(t=new m.ProductCollection,t.add({id:"_ph"})),!p.length&&!d)return null;let C,v=x.addIcon;for(;d&&p.length<g;)p.push((0,P.jsx)(S.default,{onClick:f,title:r.fbt._("Add product",null,{hk:"3gdovw"}),xstyle:[v,"largeGallerySpacing"===o&&x.largeGallerySpacing],children:(0,P.jsx)(P.Fragment,{})},`_ph${p.length}`)),v=x.placeholderThumb;return(0,a.canSeeBizProfileV3)()&&(C="space-between"),(0,P.jsx)(h.MediaGalleryView,{productMedias:p,mediaCollection:t,justify:C})}function k(e){const{onProductCatalog:t,title:o,subtitle:n,animation:a,sectionTheme:i,shouldLog:s,catalog:h,onProductDetail:m,filterProductId:_,productsToShow:S,hideIncompleteRows:k,showProductPlaceholders:I,seeMoreOverlay:j,catalogEntryLabel:E,showShopsLogo:O}=e,A=(0,l.useContext)(c.DrawerContext);(0,l.useEffect)((()=>{s&&null!=h&&(0,p.logBusinessProfileCatalogView)({catalogOwnerWid:h.id,catalogContext:(0,g.getProductCatalogContext)(A)})}),[]);const L=(0,P.jsx)(T,{catalogEntryLabel:E,onClick:()=>t((0,g.getProductCatalogContext)(A),"ContactInfo")}),w=(0,P.jsx)(y,{productsToShow:S,catalog:h,hideIncompleteRows:k,filterProductId:_,seeMoreOverlay:j,showProductPlaceholders:I,onProductThumbClick:(e,o)=>e?t((0,g.getProductCatalogContext)(A),"ContactInfo"):(e=>{s&&(0,p.logProfileProductClick)({product:(0,C.unproxy)(e),catalogContext:(0,g.getProductCatalogContext)(A)}),m(e)})(o),onProductImageClick:()=>t((0,g.getProductCatalogContext)(A),"ContactInfo")}),M=n?(0,P.jsx)(f.default,{xstyle:x.subtitle,children:n}):null,N=(0,P.jsxs)(u.FlexRow,{align:"center",children:[M,(0,P.jsx)(f.default,{children:(0,P.jsx)(v.default,{xstyle:x.chevron,name:"chevron-right-alt",directional:!0})})]});return(0,P.jsxs)(d.default,{title:o||r.fbt._("Products",null,{hk:"3Ky71N"}),titleOnClick:()=>t((0,g.getProductCatalogContext)(A),"ContactInfo"),subtitle:N,theme:i,animation:a,children:[w,L,!0===O?(0,P.jsx)(b,{}):null]})}k.defaultProps={productsToShow:6,sectionTheme:"padding",hideIncompleteRows:!1};var I=k;t.default=I},7532:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t,onCancel:o,catalog:n,contact:y,prompt:k,centerDrawer:I,onSend:j}=e,E=(0,l.useContext)(p.DrawerContext),O=()=>{a.ModalManager.open((0,x.jsx)(v.default,{catalog:n,onSend:j}),{transition:"modal-flow"}),(0,m.logShareCatalogViaWALinkClick)({catalogOwnerWid:n.id,catalogContext:(0,C.getProductCatalogContext)(E)})},A=(0,x.jsx)(d.DetailImage,{id:y.id,size:82,quality:d.DetailImageQuality.High});let L,w;I&&(L="labels",w="center-column");return(0,x.jsxs)(u.default,{theme:L,children:[(0,x.jsx)(h.DrawerHeader,{a8n:"catalog-link-title",title:r.fbt._("Catalog link",null,{hk:"M36Dw"}),onBack:t,onCancel:o,type:h.DRAWER_HEADER_TYPE.SMALL}),(0,x.jsxs)(f.default,{theme:w,children:[(0,x.jsx)("div",{className:(0,i.default)(T),children:k}),(0,x.jsx)(s.default,{image:A,primary:(0,x.jsx)(_.Name,{contact:y,useVerifiedName:!0}),theme:"identity",secondary:(0,x.jsx)(g.default,{id:b,href:(0,P.createCatalogLink)(n.id.user),onClick:e=>{e.preventDefault(),O()},noHandle:!0})}),(0,x.jsx)(S.default,{onClick:O}),(0,x.jsx)(c.default,{elementId:b,onClick:()=>{(0,m.logShareCatalogCopyLinkClick)({catalogOwnerWid:n.id,catalogContext:(0,C.getProductCatalogContext)(E)})}})]})]},"catalog-link-drawer")};var a=o(14597),r=o(48360),l=o(67294),i=n(o(56720)),s=n(o(44356)),c=n(o(26609)),d=o(88984),u=n(o(60453)),f=n(o(69637)),p=o(27394),h=o(94790),g=n(o(786)),m=o(77975),_=o(12176),C=o(97567),v=n(o(35400)),S=n(o(51628)),P=o(82482),x=o(85893);const T={paddingTop:"i5tg98hk",paddingEnd:"iffbo4e8",paddingBottom:"aiput80m",paddingStart:"khscay3k",lineHeight:"qg52vu03"},b="catalog-link-anchor"},17986:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return l.apply(this,arguments)};var a=n(o(48926)),r=o(93581);function l(){return(l=(0,a.default)((function*(e){var t;let o=r.BusinessProfileCollection.get(e);if(!o||o.stale){const t=yield r.BusinessProfileCollection.update(e);o=Array.isArray(t)?t[0]:t}return(null===(t=o.profileOptions)||void 0===t?void 0:t.cartEnabled)||!1}))).apply(this,arguments)}},11466:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contactId:t,onSendProduct:o,onReportProduct:n,onProductLinkClick:a,onProductMoreInformation:i,onCartClick:s,cartCount:c,catalogId:h}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v,{cartCount:c,catalogId:h,onClick:s}),(0,C.jsx)(g.MenuBarItem,{a8nText:"menu-bar-product-link",icon:(0,C.jsx)(p.default,{}),title:l.fbt._("Product link",null,{hk:"1RIlvV"}),onClick:a}),(0,C.jsx)(g.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,C.jsx)(_.default,{name:"menu"}),title:f.default.t(504),children:(0,C.jsxs)(d.Dropdown,{type:d.MenuType.DropdownMenu,flipOnRTL:!0,dirX:d.DirX.LEFT,children:[(0,C.jsx)(u.DropdownItem,{a8n:"mi-send menu-item",action:o,children:l.fbt._("Send product",null,{hk:"1wkzue"})}),(0,r.canSeeECommerceComplianceIndiaSoftEnforcement)(t)&&(0,C.jsx)(u.DropdownItem,{a8n:"mi-send menu-item",action:i,children:l.fbt._("More information",null,{hk:"2JHvi1"})}),(0,C.jsx)(u.DropdownItem,{a8n:"mi-report menu-item",action:n,children:l.fbt._("Report product",null,{hk:"1jgCyX"})})]},"ProductDetailHeader")})]})};var a=o(51737),r=o(8139),l=o(48360),i=o(67294),s=n(o(51070)),c=o(27394),d=o(60811),u=o(71174),f=n(o(14296)),p=n(o(62371)),h=o(41868),g=o(46346),m=o(97567),_=n(o(23217)),C=o(85893);function v(e){let{onClick:t,cartCount:o,catalogId:n}=e;const r=(0,i.useContext)(c.DrawerContext);if(t&&n){const e=(0,a.isNumber)(o)&&o>0?o.toString():void 0;return(0,C.jsx)(g.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,C.jsx)(s.default,{}),text:e,title:l.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:(0,h.getOnCartClickWithLog)(t,n,(0,m.getProductCatalogContext)(r))})}return null}},14375:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseErrorState=function(e,t){if(e instanceof a.Unmount);else if(e instanceof n.ServerStatusCodeError)"not_found"===e.status||404===e.status?t("NOT_FOUND"):(t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch from server`);else{if(!(e instanceof n.WebdDrop))throw t("ERROR"),e;t("ERROR"),__LOG__(3)`parseErrorState:Failed to fetch due to WebdDrop`}};var n=o(92574),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,o&&o.set(e,n);return n}(o(35232));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}},61055:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{fetchState:t}=e;switch(t){case"NONE":case"SUCCESS":return null;case"PENDING":return(0,c.jsxs)("div",{className:(0,a.default)(l.default.loadingContainer),children:[(0,c.jsx)(i.Spinner,{size:14,color:i.colorOptions.highlight}),(0,c.jsx)(s.TextSpan,{className:(0,a.default)(l.default.text,l.default.loadingText),theme:"small",children:r.fbt._("Waiting for network",null,{hk:"3I2DtN"})})]});case"NOT_FOUND":case"ERROR":return(0,c.jsx)("div",{className:(0,a.default)(l.default.loadingContainer),children:(0,c.jsx)(s.TextSpan,{className:l.default.text,theme:"small",color:"danger",children:"NOT_FOUND"===t?r.fbt._("This product or service has been removed",null,{hk:"3mE1ld"}):r.fbt._("Something went wrong",null,{hk:"7C9hw"})})});default:throw new Error(`invalid fetchState ${t}`)}};var a=n(o(94184)),r=o(48360),l=n(o(52387)),i=o(11054),s=o(13923),c=o(85893)},62371:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(r.default,{name:"link",className:(0,a.default)(i.linkIcon,"inherit-color"===e.theme&&i.inheritColor)})};var a=n(o(56720)),r=n(o(23217)),l=o(85893);const i={linkIcon:{color:"svlsagor"},inheritColor:{color:"gtscxtjd"}}},786:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{id:t,href:o,onClick:n,noHandle:i}=e;return(0,l.jsx)("span",{className:a.default.linkContainer,children:(0,l.jsx)(r.SelectableLink,{id:t,href:o,className:a.default.activeLink,selectable:!0,onClick:n,"data-nohandle":i,children:o})})};var a=n(o(24100)),r=o(52596),l=o(85893)},47217:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleCollectionAppeal=function(){return b.apply(this,arguments)},t.handleCollectionDelete=function(e,t,o){return new Promise(((n,a)=>{i.ModalManager.open((0,S.jsx)(d.default,{title:c.fbt._("Delete Collection",null,{hk:"2y3JZ4"}),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:c.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{i.ModalManager.close(),function(){return T.apply(this,arguments)}(e,t,o).then((e=>n(e))).catch((e=>a(e)))},onCancel:()=>{i.ModalManager.close(),n(!1)},children:(0,S.jsx)("div",{children:c.fbt._("When you delete this collection, items in the collection will not be deleted.",null,{hk:"192Jcv"})})}))}))},t.handleCollectionSave=function(e,t,o,n,a,r){let l;_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_start"),l=t?(0,m.editCollection)(t.id.toString()||"",o===t.name?void 0:o,!1,n.map((e=>e.id.toString())),a.map((e=>e.id.toString())),r.session.toString()).then((r=>(_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),t.name=o,t.reviewStatus=r.reviewStatus,e.collections.replaceId(t.id,r.id),0===n.length&&0===a.length||(t.productCollection.reset(),t.afterCursor=void 0,e.collections.reset(),e.collections.afterCursor=""),!0))):(0,m.createCollection)(o,n.map((e=>e.id.toString())),r.session.toString()).then((t=>(_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,"datasource_end"),(0,f.logCollectionCreated)({catalogContext:r,collectionId:t.id,productCount:n.length}),e.collections.reset(),e.collections.afterCursor="",!0)));return l.catch((e=>{const t=e=>{s.ToastManager.open((0,S.jsx)(v.Toast,{msg:e,id:(0,v.genId)("catalog_save_collection_failed")}))};let o=c.fbt._("Failed to save collection",null,{hk:"3Chwhp"});if("not-acceptable"===e.text)return"products"===e.fieldName&&"duplicate"===e.fieldReason&&(o=c.fbt._("You already have a collection with this group of items. Add or delete items to make a different group.",null,{hk:"1fZXaY"})),"collection"===e.fieldName&&"empty"===e.fieldReason&&(o=c.fbt._("A collection must have at least one item in it",null,{hk:"39rLHR"})),t(o),!1;throw __LOG__(4,!0,new Error,!0)`Failed to save collection, error: ${e}`,SEND_LOGS("Saving collection failed"),t(o),e}))},t.handleProductDelete=function(e,t,o,n){return(0,u.logDeleteProductClick)(t,1,o),new Promise(((a,r)=>{i.ModalManager.open((0,S.jsx)(d.default,{title:c.fbt._("Delete Item",null,{hk:"20DBg1"}),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:c.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{i.ModalManager.close(),_.QPL.markerStart(C.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,{annotations:{string:{EntryPoint:n}}}),function(){return P.apply(this,arguments)}(e,t,o).then((e=>{_.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,_.QuickLogActionType.SUCCESS),a(e)})).catch((e=>{_.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_PRODUCT_DELETE,_.QuickLogActionType.FAIL),r(e)}))},onCancel:()=>{i.ModalManager.close(),a(!1)},children:(0,S.jsx)("div",{children:c.fbt._("Are you sure you want to delete this item from your catalog?",null,{hk:"2WwNSA"})})}))}))},t.handleProductVisibilityChange=function(e,t,o,n){const a=t.id.toString(),r=!t.isHidden;r?(0,u.logCatalogProductHideClick)(a,o):(0,u.logCatalogProductShowClick)(a,o);return new Promise(((l,s)=>{const f=t.isHidden?c.fbt._("Show item in your catalog?",null,{hk:"VfDKM"}):c.fbt._("Hide item in your catalog?",null,{hk:"1KmslI"});i.ModalManager.open((0,S.jsx)(d.default,{okText:c.fbt._("OK",null,{hk:"2KEeHb"}),cancelText:c.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{_.QPL.markerStart(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{annotations:{string:{EntryPoint:n}}}),i.ModalManager.close(),function(){return x.apply(this,arguments)}(e,t).then((()=>{_.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,_.QuickLogActionType.SUCCESS),r?(0,u.logCatalogProductHideSuccess)(a,o):(0,u.logCatalogProductShowSuccess)(a,o),l(!0)})).catch((e=>{_.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,_.QuickLogActionType.FAIL),r?(0,u.logCatalogProductHideFailed)(a,o):(0,u.logCatalogProductShowFailed)(a,o),s(e)}))},onCancel:()=>{i.ModalManager.close(),r?(0,u.logCatalogProductHideCancelled)(a,o):(0,u.logCatalogProductShowCancelled)(a,o),l(!1)},children:(0,S.jsx)("div",{children:f})}))}))};var a=n(o(48926)),r=o(50796),l=o(92574),i=o(14597),s=o(94816),c=o(48360),d=n(o(52665)),u=o(77975),f=o(35054),p=o(96519),h=o(21374),g=o(5641),m=o(60323),_=o(48870),C=o(27798),v=o(50452),S=o(85893);function P(){return(P=(0,a.default)((function*(e,t,o){try{return yield(0,p.deleteProducts)([t.id.toString()]),(0,u.logDeleteProductSuccess)(t,1,o),e.productCollection.evictImagesFromCache(t.id.toString()),e.productCollection.remove(t.id.toString()),e.collections&&e.collections.forEach((e=>e.productCollection.remove(t.id.toString()))),!0}catch(e){return(0,r.filteredCatch)(l.ServerStatusCodeError,(e=>((0,u.logDeleteProductFailed)(t,1,o,e.statusCode),s.ToastManager.open((0,S.jsx)(v.Toast,{msg:c.fbt._("Failed to delete product",null,{hk:"18E03X"}),id:(0,v.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function x(){return(x=(0,a.default)((function*(e,t){yield(0,h.productVisibilitySet)([{productId:t.id.toString(),isHidden:!t.isHidden}]),t.isHidden=!t.isHidden;[e.productCollection,...(e.collections||[]).map((e=>e.productCollection))].forEach((e=>{const o=e.get(t.id);o&&(o.isHidden=t.isHidden)}))}))).apply(this,arguments)}function T(){return(T=(0,a.default)((function*(e,t,o){try{return yield(0,m.deleteCollection)(t.id.toString(),o.session.sessionId.toString()),e.collections.remove(t.id.toString()),(0,f.logCollectionDeleted)({catalogContext:o,collectionId:t.id}),!0}catch(e){return(0,r.filteredCatch)(l.ServerStatusCodeError,(e=>(__LOG__(4,!0,new Error,!0)`Failed to delete collection, error: ${e}`,SEND_LOGS("Deleteing collection failed"),s.ToastManager.open((0,S.jsx)(v.Toast,{msg:c.fbt._("Failed to delete collection",null,{hk:"S7UrR"}),id:(0,v.genId)("catalog_delete_product_failed")})),!1)))(e)}}))).apply(this,arguments)}function b(){return(b=(0,a.default)((function*(e,t){_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_start"),yield(0,m.appealCollection)(e.id.toString(),t),e.set({canAppeal:!1,reviewStatus:g.PRODUCT_REVIEW_STATUS.PENDING}),_.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,"datasource_end")}))).apply(this,arguments)}},33889:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,a8nText:o="add-item"}=e,n=(0,r.default)(c.addItemButton,"default"===e.theme&&c.themeDefault,"in-list"===e.theme&&c.themeInList,"collections"===e.theme&&c.themeCollections),d=(0,s.jsx)(i.default,{title:a.fbt._("Add new item",null,{hk:"2Tc6p3"}),onClick:()=>{},xstyle:c.addIcon,children:(0,s.jsx)(s.Fragment,{})});return(0,s.jsx)(l.default,{theme:"add-item",image:d,customImage:!0,primary:e.title||a.fbt._("Add new item",null,{hk:"2Tc6p3"}),className:n,onClick:t,idle:e.idle,a8n:o})};var a=o(48360),r=n(o(56720)),l=n(o(44356)),i=n(o(1784)),s=o(85893);const c={addIcon:{position:"g0rxnol2",width:"o22r6p4i",height:"dng4fqht",borderTop:"btoh1681",borderEnd:"sngpozrj",borderBottom:"c2eze1zb",borderStart:"bd2x2sk5",borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"},"::before":{position:"jiaumjzp",top:"iu8zqbur",left:"c4kjmepz",display:"chh99fau",width:"ln1ej6zg",height:"i0a739jv",content:"ckfn5qle",backgroundColor:"t4c1fkc8",transform:"bsbo06yw"},"::after":{position:"tkubpkrc",top:"khfyavfg",left:"nly7wueh",display:"l1wvjj35",width:"dbiwaw4z",height:"l9a7srmz",content:"lw9p9708",backgroundColor:"sadoqatt",transform:"n2obx7p9"}},addItemButton:{borderTop:"q4zabkcz"},themeDefault:{paddingTop:"pxvlsfnc",paddingEnd:"f9ovudaz",paddingBottom:"n3bptxsn",paddingStart:"gx1rr48f",marginTop:"dj1c3cmq",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},themeInList:{paddingTop:"fbgy3m38",paddingEnd:"kyc7k6mt",paddingBottom:"oq31bsqd",paddingStart:"f78eapp6"},themeCollections:{paddingTop:"fbgy3m38",paddingEnd:"kyc7k6mt",paddingBottom:"oq31bsqd",paddingStart:"f78eapp6",marginBottom:"inogquss",borderTop:"q4zabkcz",borderBottom:"qmxv8cnq"}}},79174:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionIntegrityBanner=function(e){const{collection:t,onEditCollection:o}=e,n=()=>{null==o||o(t)},i=()=>{r.ModalManager.open((0,_.jsx)(c.default,{collection:t}))};switch(t.reviewStatus){case h.PRODUCT_REVIEW_STATUS.PENDING:return(0,_.jsxs)("div",{className:(0,s.default)(C.pendingBanner),children:[l.fbt._("This collection is being reviewed. Once it’s approved, your customers will see it in your catalog.",null,{hk:"3DQb07"}),(0,_.jsx)("div",{className:(0,s.default)(C.iconContainerPending),children:(0,_.jsx)(g.default,{name:"info"})})]});case h.PRODUCT_REVIEW_STATUS.REJECTED:return(0,a.canAppealCollections)()?(0,_.jsx)(P,{collection:t,onRename:n,onAppeal:i}):(0,_.jsx)(S,{onRename:n});default:return null}},t.getCollectionIntegrityHeight=function(e){return(0,a.canAppealCollections)()&&e.reviewStatus===h.PRODUCT_REVIEW_STATUS.REJECTED?2*d.PRODUCT_LIST_ITEM_HEIGHT+10:d.PRODUCT_LIST_ITEM_HEIGHT+10};var a=o(8139),r=o(14597),l=o(48360),i=o(67294),s=n(o(56720)),c=n(o(5970)),d=o(64481),u=n(o(99360)),f=o(41399),p=n(o(56074)),h=o(5641),g=n(o(23217)),m=o(97628),_=o(85893);const C={iconContainerRejected:{position:"lhggkp7q",end:"h223g3sc",color:"mvxzr2tb",wordBreak:"cw3vfol9"},iconContainerRejectedWithAppeal:{end:"ku3lw4j3"},rejectedBanner:{display:"p357zi0d",alignItems:"gndfcl4n",height:"m9lpqg3r",minHeight:"gc15jzxb",paddingTop:"i5tg98hk",paddingEnd:"rmnzjp8r",paddingBottom:"przvwfww",paddingStart:"khscay3k",marginTop:"o9i7y497",marginBottom:"brac1wpa",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"dsh4tgtl",lineHeight:"erpdyial",color:"e7al1772",backgroundColor:"io9pg0pp"},rejectedBannerWithAppeal:{display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"ac2vgrno",height:"g4tbm4ed",minHeight:"gc15jzxb",paddingTop:"i5tg98hk",paddingEnd:"sjajxv0r",paddingBottom:"przvwfww",paddingStart:"khscay3k",marginTop:"o9i7y497",marginBottom:"brac1wpa",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"dsh4tgtl",lineHeight:"erpdyial",color:"e7al1772",backgroundColor:"io9pg0pp"},rejectedBannerDarkBackground:{backgroundColor:"og7unhan"},pendingBanner:{display:"p357zi0d",alignItems:"gndfcl4n",height:"m9lpqg3r",minHeight:"gc15jzxb",paddingTop:"i5tg98hk",paddingEnd:"rmnzjp8r",paddingBottom:"przvwfww",paddingStart:"khscay3k",marginTop:"o9i7y497",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"dsh4tgtl",lineHeight:"erpdyial",color:"e7al1772",wordBreak:"cw3vfol9",backgroundColor:"a5fn8qve"},iconContainerPending:{position:"lhggkp7q",end:"h223g3sc"}};function v(e){return(0,_.jsx)("div",{className:(0,s.default)(C.iconContainerRejected,e.withAppeal&&C.iconContainerRejectedWithAppeal),children:(0,_.jsx)(g.default,{name:"info"})})}function S(e){let{onRename:t}=e;const{theme:o}=(0,i.useContext)(m.ThemeContext);return(0,_.jsxs)("div",{className:(0,s.default)(C.rejectedBanner,"dark"===o&&C.rejectedBannerDarkBackground),children:[l.fbt._("This collection wasn’t approved because it doesn’t follow our guidelines.",null,{hk:"4bjvNq"}),(0,_.jsx)(u.default,{onClick:t,children:l.fbt._("Rename",null,{hk:"2U6ctb"})}),(0,_.jsx)(v,{withAppeal:!1})]})}function P(e){let{collection:t,onRename:o,onAppeal:n}=e;const a=(t.rejectReason||"other_violation").toLowerCase(),r=(0,f.getRejectedCollectionCopy)(a,t.commerceUrl),{theme:c}=(0,i.useContext)(m.ThemeContext),d="dark"===c,h=(0,_.jsx)(u.default,{onClick:o,children:l.fbt._("rename the collection",null,{hk:"2j5eIB"})});if(t.canAppeal){const e=(0,_.jsx)(u.default,{onClick:n,children:l.fbt._("request another review",null,{hk:"2BSEoy"})}),t=(0,_.jsx)(p.default,{id:206,params:{rename_collection_link:h,request_another_review_link:e}});return(0,_.jsxs)("div",{className:(0,s.default)(C.rejectedBannerWithAppeal,d&&C.rejectedBannerDarkBackground),children:[r.first,(0,_.jsx)("br",{}),t,(0,_.jsx)(v,{withAppeal:!0})]})}const g=(0,_.jsx)(p.default,{id:230,params:{rename_collection_link:h}});return(0,_.jsxs)("div",{className:(0,s.default)(C.rejectedBannerWithAppeal,d&&C.rejectedBannerDarkBackground),children:[r.second,(0,_.jsx)("br",{}),g,(0,_.jsx)(v,{withAppeal:!0})]})}},74259:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductDetail:t,onProductShare:o,onCartOpen:n,shareLinks:C,canManageCatalog:v}=e,[S,P]=(0,r.useState)(void 0),x=(0,l.useModelValues)(e.catalog,["productCollection","afterCursor","id","index"]),T=e=>{o&&o(e)};if(!x.productCollection||!x.productCollection.getProductModels(e.canManageCatalog).length)return null;return(0,_.jsx)(u.default,{flatListControllers:[e.flatListController],children:(0,_.jsx)(d.FlatList,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=void 0!==n;return x.productCollection.getProductModels(v).map((t=>({itemKey:`${t.id.toString()}_${e.toString()}`,product:t})))})(),renderItem:e=>{let{product:o}=e;return(0,_.jsx)(c.DrawerContext.Consumer,{children:e=>{const r=(0,h.getProductCatalogContext)(e);return(0,_.jsx)(g.default,{product:o,onCartOpen:n,onClick:()=>((e,o)=>((0,p.logCatalogListDetailClick)({product:(0,m.unproxy)(e),catalogContext:o}),P(e.id.toString()),t(e)))(o,r),onProductShare:C?T:null,onProductDelete:e=>((e,t)=>{(0,i.handleProductDelete)(x,e,t,"Catalog").then((()=>{e.id===S&&(a.DrawerManager.closeDrawerMid(),P(void 0))}))})(e,r),onProductHideShow:e=>((e,t)=>{(0,i.handleProductVisibilityChange)(x,e,t,"Catalog")})(e,r),canManageCatalog:v})}})},defaultItemHeight:s.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:f.KeyOrder.INVERSE})})};var a=o(41455),r=o(67294),l=o(35461),i=o(47217),s=o(64481),c=o(27394),d=o(47915),u=n(o(44942)),f=o(43882),p=o(77975),h=o(97567),g=n(o(88990)),m=o(18146),_=o(85893)},47105:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogCategoriesBanner=function(e){let{catalog:t}=e;const{id:o,hasCatalogCategories:n}=(0,i.useModelValues)(t,["id","hasCatalogCategories"]);if((0,l.useEffect)((()=>{null==n&&(0,s.queryCatalogHasCategories)(o).then((e=>{t.set({hasCatalogCategories:e})}))}),[n,o,t]),!1===n||null==n)return null;return(0,d.jsx)(c.TextDiv,{xstyle:[u.banner,a.uiPadding.all16],size:"13",color:"dark",children:r.fbt._("Use WhatsApp on your phone to browse product categories.",null,{hk:"7z4dS"})})};var a=o(28298),r=o(48360),l=o(67294),i=(n(o(56720)),o(35461)),s=o(21374),c=o(13923),d=o(85893);const u={banner:{backgroundColor:"se2m7z6i",display:"p357zi0d",alignItems:"gndfcl4n",borderBottom:"daad4uqs"}}},10805:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o;const n=(0,s.default)(),[_,C]=(0,i.useState)({state:g.NOT_STARTED}),[v,S]=(0,i.useState)(e.existingPostcode),P=e.existingPostcode===v,x=function(){var t=(0,a.default)((function*(){if("string"==typeof v){C({state:g.IN_PROGRESS});try{const t=yield(0,p.verifyPostcode)(e.catalogId,v);n.aborted||C({state:g.COMPLETED,data:t}),"success"===(null==t?void 0:t.resultCode)&&e.onSuccess()}catch(e){if(__LOG__(4,!0,new Error,!0)`[direct-connection] Updating postcode failed ${e}`,SEND_LOGS("[direct-connection] Updating postcode failed"),n.aborted)return;C({state:g.FAILED})}}}));return function(){return t.apply(this,arguments)}}(),T=(0,i.useCallback)((()=>C({state:g.NOT_STARTED})),[]),b="unserviceable_location"===(null===(t=_.data)||void 0===t?void 0:t.resultCode);let y=null;const k=l.fbt._("Enter a valid Pincode.",null,{hk:"21I4U6"});("invalid_postcode"===(null===(o=_.data)||void 0===o?void 0:o.resultCode)||"string"!=typeof v||0===v.length||0!==v.search("^[0-9]{6}$"))&&(y=k);const I=_.state===g.IN_PROGRESS,j=I||null!=y||P,E=()=>{j||(b?T():x())};return(0,h.jsx)(c.default,{onOK:E,title:b?null:l.fbt._("Change Pincode",null,{hk:"3R9hJZ"}),okDisabled:j,okSpinner:I,okText:b?l.fbt._("OK",null,{hk:"ReE7S"}):l.fbt._("SUBMIT",null,{hk:"4Aj76Q"}),onCancel:b?null:e.onCancel,cancelDisabled:I,children:b?(0,h.jsx)(u.Text,{as:"p",testid:"catalog_postcode_change_modal__unservicable-alert",children:l.fbt._("JioMart doesn’t have items available in that area. You can try a different Pincode.",null,{hk:"lB5OT"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Text,{as:"p",xstyle:m.infoText,children:l.fbt._("To see JioMart items available in a different area, enter the area’s Pincode.",null,{hk:"3Zntch"})}),(0,h.jsx)(f.TextInput,{a8n:"catalog_postcode_change_modal__input",onChange:e=>{T(),S(e)},value:v,managed:!0,editable:!I,managedError:!0,selectOnMount:!0,focusOnMount:!0,error:y,onEnter:()=>{E()}}),(0,h.jsxs)(u.Text,{as:"p",theme:"muted",xstyle:m.privacyText,children:[l.fbt._("JioMart will use this Pincode and your phone number to provide you customized services.",null,{hk:"102x3W"})," ",(0,h.jsx)(d.ExternalLink,{href:(0,r.getJioMartPostcodeChangeLearnMoreLink)(),children:l.fbt._("Learn More",null,{hk:"27Rbeo"})})]})]})})};var a=n(o(48926)),r=o(21310),l=o(48360),i=o(67294),s=(n(o(56720)),n(o(3409))),c=n(o(52665)),d=o(12591),u=o(13923),f=o(90011),p=o(52778),h=o(85893);const g=o(76672).Mirrored(["NOT_STARTED","COMPLETED","FAILED","IN_PROGRESS"]),m={infoText:{fontSize:"enbbiyaj",lineHeight:"erpdyial",marginBottom:"t4zgqcuo"},privacyText:{fontSize:"f8jlpxt4",lineHeight:"q5jc98e4",marginTop:"iy2cu22y"}}},70988:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogPostcodeMenu=function(e){const{postcode:t,postcodeLocationName:o,postcodeSetByUser:n}=(0,u.useModelValues)(e.businessDirectConnection,["postcode","postcodeLocationName","postcodeSetByUser"]),k=!0===n,[I,j]=(0,c.useState)(!1),E=()=>{l.ModalManager.close(),j(!1)},O=()=>{l.ModalManager.open((0,b.jsx)(g.default,{existingPostcode:null!=t?t:"",catalogId:e.catalogId,onCancel:E,onSuccess:()=>{E(),e.postcodeChangeSuccess()}})),j(!0)},A=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,r.delayMs)(e?m.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY:0).then(O)},[L,w]=(0,c.useState)(null),M=(0,c.useRef)(null),N=(0,c.useRef)(null),R=(0,c.useCallback)((()=>w(null)),[]),[D]=(0,p.useTimeout)(R,m.CATALOG_POSTCODE_MENU_TOOLTIP_DURATION),B=(0,c.useCallback)((()=>{const e=N.current?3*N.current.offsetWidth/4:null;w({menu:(0,b.jsx)("div",{style:"number"==typeof e?{maxWidth:`${e}px`}:null,children:(0,b.jsx)(P.Text,{as:"p",children:s.fbt._("Click to change pincode to see items available in your area",null,{hk:"2p5qlf"})})}),anchor:M.current,dirY:_.DirY.TOP,dirX:_.DirX.RIGHT,type:_.MenuType.Tooltip,horizontal:!0,tooltipColorScheme:_.TooltipColorScheme.Highlight})}),[]),[F]=(0,p.useTimeout)((()=>{M.current?(B(),D()):__LOG__(3)`[direct-connection] change postcode tooltip is not shown`}),m.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY);(0,c.useEffect)((()=>{k||((0,v.editPostcodeByDefaultEnabled)()?(()=>{if((0,i.getPostcodeAutoOpenChangePostcodeDone)())return!1;const e=(0,i.getPostcodeAutoOpenChangePostcodeCount)();if("number"==typeof e&&e>=2)return!1;return!0})()&&(A(!0),(0,i.setPostcodeAutoOpenChangePostcodeDone)(!0),(()=>{const e=(0,i.getPostcodeAutoOpenChangePostcodeCount)();(0,i.setPostcodeAutoOpenChangePostcodeCount)("number"==typeof e?e+1:1)})()):(()=>{if((0,i.getPostcodeTooltipViewedInSession)())return!1;const e=(0,i.getPostcodeTooltipViewCount)();if("number"==typeof e&&e>=5)return!1;return!0})()&&((()=>{const e=(0,i.getPostcodeTooltipViewCount)();(0,i.setPostcodeTooltipViewCount)("number"==typeof e?e+1:1)})(),(0,i.setPostcodeTooltipViewedInSession)(!0),F()))}),[]),(0,f.default)((()=>{I&&E()}));const W=L?(0,b.jsx)(x.UIE,{displayName:"CatalogPostcodeTooltip",popable:!0,escapable:!0,requestDismiss:R,children:(0,b.jsx)(T.default,{tooltip:L})}):null;return(0,b.jsxs)("div",(0,a.default)((0,a.default)({className:(0,d.default)(y.container)},(0,h.accessibleClickableButtonProps)({onClick:A})),{},{ref:N,children:[(0,b.jsx)("span",{className:(0,d.default)(y.svgWrapper),children:(0,b.jsx)(S.default,{name:"business-address"})}),(0,b.jsxs)(C.FlexColumn,{ref:M,children:[(0,b.jsx)(P.Text,{as:"p",xstyle:y.postcodeDescription,children:s.fbt._("Deliver to {postcode-of-a-geographic-area}",[s.fbt._param("postcode-of-a-geographic-area",t)],{hk:"1dDn6Y"})}),(0,b.jsx)(P.Text,{as:"p",xstyle:y.postcodeLocationName,theme:"muted",children:k?o:s.fbt._("Click to change Pincode",null,{hk:"37HAka"})}),W]})]}))},t.MAX_TIMES_POSTCODE_CHANGE_TOOLTIP_TO_SHOW=t.MAX_TIMES_POSTCODE_CHANGE_MODAL_AUTO_OPEN=void 0;var a=n(o(81109)),r=o(13959),l=o(14597),i=o(55452),s=o(48360),c=o(67294),d=n(o(56720)),u=o(35461),f=n(o(55010)),p=o(46428),h=o(55712),g=n(o(10805)),m=o(8985),_=o(60811),C=o(29623),v=o(90915),S=n(o(23217)),P=o(13923),x=o(18644),T=n(o(46780)),b=o(85893);const y={container:{display:"p357zi0d",alignItems:"gndfcl4n",backgroundColor:"ihvf49ua",position:"cca4rwve",top:"qq0sjtgm",zIndex:"l355kaf8",boxShadow:"i35u2c65",":hover":{backgroundColor:"os03hap6"}},svgWrapper:{paddingTop:"nlnf8xo7",paddingBottom:"r219jyu0",paddingStart:"nntdgyy8",paddingEnd:"igb3k0ri",width:"i94gqilv",color:"kv0r5hzt"},postcodeDescription:{lineHeight:"erpdyial",fontSize:"enbbiyaj"},postcodeLocationName:{lineHeight:"r5qsrrlp",fontSize:"f8jlpxt4"}};t.MAX_TIMES_POSTCODE_CHANGE_MODAL_AUTO_OPEN=2;t.MAX_TIMES_POSTCODE_CHANGE_TOOLTIP_TO_SHOW=5},8985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CATALOG_POSTCODE_MENU_TOOLTIP_DURATION=t.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY=t.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY=void 0;t.CATALOG_POSTCODE_CHANGE_MODAL_OPEN_DELAY=500;t.CATALOG_POSTCODE_MENU_TOOLTIP_DELAY=500;t.CATALOG_POSTCODE_MENU_TOOLTIP_DURATION=3500},54414:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalogId:t,setScrollOffset:o,onCartClick:n,onCatalogLinkClick:q,canManageCatalog:K,canLogQpl:Y=!0,isPushed:Q=!0,scrollOffset:J,autoUpdate:$,businessProfile:X,blockCartInterstitialFn:Z=(()=>!1),onAddProduct:ee,onProductDetail:te,onProductShare:oe,onCollectionSeeAll:ne,onEditCollection:ae,onOpenCollections:re,onRemoveProduct:le,onOpenSettings:ie,onOpenMerchantDetailsForm:se}=e,ce=(0,B.enablePostcodeInCatalog)()&&!!X&&(0,S.businessSupportsPostcode)(X),de=(0,g.default)(),ue=(0,u.default)(),fe=(0,d.default)(ue,100),pe=(0,f.default)((()=>new R.default)),he=(0,p.useModelValues)(e.contact,["id"]),ge=(0,s.useMemo)((()=>P.CartCollection.findCart(he.id.toString())),[he.id]),[me,_e]=(0,s.useState)(!1),[Ce,ve]=(0,s.useState)(null),[Se,Pe]=(0,s.useState)(ge.itemCount),[xe,Te]=(0,s.useState)("NONE"),[be,ye]=(0,s.useState)(null),[ke,Ie]=(0,s.useState)(null),[je,Ee]=(0,s.useState)(!0),Oe=function(){var e=(0,a.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),Ee(!1)}));return function(){return e.apply(this,arguments)}}(),Ae=(0,d.default)((()=>{ue(),null==le||le()}),100),[Le,we]=(0,s.useState)(),[Me,Ne]=(0,s.useState)(!1),Re=()=>{const e=Y&&Q,o=e?G.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0;b.CatalogCollection.find(t,{markerId:o}).then((t=>{if(de.aborted)return;const o=new E.CatalogWithCollectionsDataSource(t,K||!1,y.PRODUCT_LIST_ITEM_HEIGHT,e),n=new E.CatalogListItemScrollHelper(o);ve(t),ye(o),Ie(n),Te("SUCCESS"),Oe(o).then((()=>{e&&U.QPL.markerEnd(G.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,U.QuickLogActionType.SUCCESS)})).catch((()=>{e&&U.QPL.markerEnd(G.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,U.QuickLogActionType.FAIL)})),(e=>{$&&null!=e&&(e.productCollection.on("add",fe),e.productCollection.on("remove",Ae),e.collections.on("add",fe),e.collections.on("remove",fe))})(t),void 0!==J&&pe.current.setScrollFromStart(J)})).catch((t=>{e&&U.QPL.markerEnd(G.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,U.QuickLogActionType.FAIL),(0,M.parseErrorState)(t,(e=>{Te(e),Ee(!1)}))}))},De=()=>{ce?(Ne(!0),v.default.getCypher(t).then((e=>{we(e),Ne(!1),Re()}))):Re()},Be=()=>{const e=ge.itemCount;Se!==e&&Pe(e)};(0,s.useEffect)((()=>{De(),(0,O.default)(t).then((e=>{_e(e),e&&ge.on("all",Be)}))}),[]);const Fe=(0,h.default)(((e,t)=>{null==o||o(t.scrollTop),(null==ke?void 0:ke.willLoadMore(t))&&Ee(!0),null==ke||ke.onScroll(e,t).then((e=>{e&&Ee(!1)})).catch((e=>{throw Ee(!1),e}))}),100),We=()=>{(0,F.qplStartCartView)("Catalog"),null==n||n(he.id.toString())},He=(0,V.jsx)(k.default,{onSendCatalog:()=>{Ce&&q(Ce,he)},onCartClick:me?We:void 0,cartCount:ge.itemCount,catalogId:t.toString(),canManageCatalog:K,onOpenCollections:re,onOpenMerchantDetailsForm:se,onOpenSettings:ie});return(0,V.jsxs)(A.default,{theme:"products",onDrop:e.onBack,children:[(0,V.jsx)(w.DrawerHeader,{title:i.fbt._("Catalog",null,{hk:"3YVOSV"}),type:e.headerType||w.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:He,focusBackOrCancel:!0}),(0,V.jsx)(L.default,{onScroll:e=>{Fe(e,e.currentTarget)},flatListControllers:[pe.current],children:(()=>{var e;const o=me&&n?We:void 0;let a,s,d,u;if(K&&ee&&(a=(0,V.jsx)(C.default,{onClick:()=>ee(),theme:"collections",a8nText:"add-item"})),Ce&&K&&ae){s=Ce.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))?(0,V.jsx)(C.default,{onClick:()=>{ae(null)},theme:"collections",title:i.fbt._("Add new collection",null,{hk:"1DddmB"}),a8nText:"add-collection"}):null}return Ce&&be?(d=(0,V.jsx)(W.default,{onCartOpen:o,onProductDetail:te,flatListController:pe.current,catalog:Ce,canManageCatalog:K,shareLinks:K,onProductShare:oe,onCollectionSeeAll:ne,data:be.getData(),onEditCollection:ae}),(0,l.isMDBackend)()&&K&&((0,_.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&me&&!Z()&&(0,x.default)(),u=(0,V.jsx)(I.default,{onOpenCollections:re}))):d=(0,V.jsx)(N.default,{fetchState:xe}),(0,V.jsxs)(V.Fragment,{children:[X&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{"data-a8n":r.default.key("catalog-header"),className:(0,c.default)(z.header),children:(0,V.jsx)(H.default,{profilePicThumb:he.getProfilePicThumb(),contact:he,businessProfile:X})}),Ce&&(0,m.catalogCategoriesEnabled)()&&(null===(e=X.directConnection)||void 0===e?void 0:e.enabled)?(0,V.jsx)(T.CatalogCategoriesBanner,{catalog:Ce}):null,ce&&!Me&&Le&&(0,V.jsx)(j.CatalogPostcodeMenu,{catalogId:t,businessDirectConnection:Le,postcodeChangeSuccess:()=>{b.CatalogCollection.removeCatalog(t),ve(null),ye(null),Ie(null),Te("NONE"),Ee(!0),De()}})]}),(0,V.jsxs)("div",{"data-a8n":r.default.key("catalog-items"),className:(0,c.default)(z.list,X&&z.listTopMargin),children:[u,a,s,d,je&&(0,V.jsx)(D.default,{})]})]})})()})]})};var a=n(o(48926)),r=n(o(99964)),l=o(88555),i=o(48360),s=o(67294),c=n(o(56720)),d=n(o(51799)),u=n(o(59312)),f=n(o(16223)),p=o(35461),h=n(o(90886)),g=n(o(3409)),m=o(8139),_=o(57849),C=n(o(33889)),v=n(o(15131)),S=o(884),P=o(12392),x=n(o(13712)),T=o(47105),b=o(99989),y=o(64481),k=n(o(44043)),I=n(o(92351)),j=o(70988),E=o(10448),O=n(o(17986)),A=n(o(60453)),L=n(o(69637)),w=o(94790),M=o(14375),N=n(o(61055)),R=n(o(30855)),D=n(o(29796)),B=o(90915),F=o(82145),W=n(o(44315)),H=n(o(62647)),U=o(48870),G=o(27798),V=o(85893);const z={header:{flex:"kk3akd72"},list:{flex:"kk3akd72",paddingBottom:"oq31bsqd",overflowX:"gfz4du6o",overflowY:"r7fjleex"},listTopMargin:{marginTop:"dj1c3cmq"}}},19829:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionContentDrawer=function(e){var t;const{catalogId:o,onCartClick:n,onCatalogLinkClick:F,setScrollOffset:W,canManageCatalog:H,scrollOffset:U,collection:G,onProductDetail:V,onProductShare:z,onEditCollection:q}=e,K=(0,c.default)(),Y=(0,p.default)(),Q=(0,l.useContext)(b.DrawerContext),J=(0,f.useModelValues)(e.contact,["id"]),$=(0,l.useMemo)((()=>g.CartCollection.findCart(J.id.toString())),[J.id]),X=(0,d.default)((()=>new j.default)),[Z,ee]=(0,l.useState)(!1),[te,oe]=(0,l.useState)(null),[ne,ae]=(0,l.useState)($.itemCount),[re,le]=(0,l.useState)("NONE"),[ie,se]=(0,l.useState)(null),[ce,de]=(0,l.useState)(null),[ue,fe]=(0,l.useState)(!0);(0,u.useListener)(null==G?void 0:G.productCollection,["add","remove"],K),(0,u.useListener)(null==te?void 0:te.productCollection,["add","remove"],K),(0,u.useListener)(null==te?void 0:te.collections,["add","remove"],K),(0,u.useListener)(G,["change:reviewStatus","canAppeal"],K);const pe=function(){var e=(0,a.default)((function*(e){yield null==e?void 0:e.loadInitialItems(),fe(!1),(0,O.logCollectionSeeAllView)({catalogOwnerJid:o.toString(),catalogContext:(0,L.getProductCatalogContext)(Q),collectionId:null==e?void 0:e.collectionId})}));return function(){return e.apply(this,arguments)}}(),he=()=>{const e=$.itemCount;ne!==e&&ae(e)};(0,l.useEffect)((()=>{m.CatalogCollection.find(o).then((e=>{if(Y.aborted)return;oe(e),le("SUCCESS");const t=new v.SingleCollectionDataSource(e,null==G?void 0:G.id.toString(),H||!1,_.PRODUCT_LIST_ITEM_HEIGHT),o=new v.CatalogListItemScrollHelper(t);se(t),de(o),pe(t).then((()=>{M.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,M.QuickLogActionType.SUCCESS)})).catch((()=>{M.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,M.QuickLogActionType.FAIL)})),void 0!==U&&X.current.setScrollFromStart(U)})).catch((e=>{M.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,M.QuickLogActionType.FAIL),(0,k.parseErrorState)(e,(e=>{le(e),fe(!1)}))})),(0,S.default)(o).then((e=>{ee(e),e&&$.on("all",he)}))}),[]);const ge=()=>{(0,A.qplStartCartView)("Collection"),null==n||n(J.id.toString())},me=(0,s.default)(((e,t)=>{null==W||W(t.scrollTop),(null==ce?void 0:ce.willLoadMore(t))&&fe(!0),null==ce||ce.onScroll(e,t).then((e=>{e&&fe(!1)})).catch((e=>{throw fe(!1),e}))}),100),_e=(0,R.jsx)(C.default,{onSendCatalog:()=>{te&&F(te,J)},onCartClick:Z?ge:void 0,cartCount:$.itemCount,catalogId:o.toString(),canManageCatalog:H}),Ce=(null===(t=e.collection)||void 0===t?void 0:t.name)||r.fbt._("All Items",null,{hk:"2x8dE2"});return(0,R.jsxs)(x.default,{theme:"products",onDrop:e.onBack,children:[(0,R.jsx)(y.DrawerHeader,{title:Ce,type:e.headerType||y.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:_e}),(0,R.jsx)(T.default,{flatListControllers:[X.current],onScroll:e=>{me(e,e.currentTarget)},children:(()=>{const e=Z&&n?ge:void 0;if(!te||!ie)return(0,R.jsx)(I.default,{fetchState:re});const t=ie.getData();if(0===t.length&&!ue&&H&&G)return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{className:(0,i.default)(D),children:[(0,R.jsx)(h.default,{theme:"collections",onClick:()=>{null==q||q(G)},a8nText:"add-collection"}),(0,R.jsx)("div",{className:(0,i.default)(B),children:r.fbt._("This collection won’t be visible to customers until you add at least 1 item",null,{hk:"34nbHb"})})]})});const o=(0,R.jsx)(w.default,{onCartOpen:e,onProductDetail:V,flatListController:X.current,catalog:te,canManageCatalog:H,shareLinks:H,onProductShare:z,collectionId:null==G?void 0:G.id.toString(),data:t}),a=G?(0,R.jsx)(P.CollectionIntegrityBanner,{collection:G,onEditCollection:q}):void 0;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{className:(0,i.default)(D),children:[a,o,ue&&(0,R.jsx)(E.default,{})]})})})()})]})};var a=n(o(48926)),r=o(48360),l=o(67294),i=n(o(56720)),s=n(o(51799)),c=n(o(59312)),d=n(o(16223)),u=o(87550),f=o(35461),p=n(o(3409)),h=n(o(33889)),g=o(12392),m=o(99989),_=o(64481),C=n(o(44043)),v=o(10448),S=n(o(17986)),P=o(79174),x=n(o(60453)),T=n(o(69637)),b=o(27394),y=o(94790),k=o(14375),I=n(o(61055)),j=n(o(30855)),E=n(o(29796)),O=o(35054),A=o(82145),L=o(97567),w=n(o(44315)),M=o(48870),N=o(27798),R=o(85893);const D={flex:"kk3akd72",paddingBottom:"oq31bsqd",overflowX:"gfz4du6o",overflowY:"r7fjleex"},B={paddingTop:"pxvlsfnc",paddingEnd:"kyc7k6mt",paddingBottom:"n3bptxsn",paddingStart:"f78eapp6",lineHeight:"qg52vu03"}},36153:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t,onSeeAll:o,allItems:n}=e;let p,h;t?({name:p,id:h}=t):n&&(p=a.fbt._("All Items",null,{hk:"2x8dE2"}));const g=(0,f.jsx)(u.TextDiv,{className:i.default.collectionName,theme:"title",children:(0,f.jsx)(s.EmojiText,{text:p,ellipsify:!0,titlify:!0})});function m(e){!function(e){e.preventDefault(),e.stopPropagation()}(e),(0,c.qplStartCollectionViewAll)("Catalog"),o&&t?o(t):o&&o()}let _;if(t)switch(t.reviewStatus){case d.PRODUCT_REVIEW_STATUS.REJECTED:_=(0,f.jsx)("span",{className:i.default.reviewStateRejected,children:a.fbt._("rejected",null,{hk:"3f3H8P"})})}return(0,f.jsx)(r.default,{primary:g,secondary:_,detail:(0,f.jsx)(l.default,{onClick:m,className:i.default.seeAllLink,title:a.fbt._("Collection {collectionName}, see all",[a.fbt._param("collectionName",p)],{hk:"1kqerQ"}),tabIndex:0,children:a.fbt._("See all",null,{hk:"UPjou"})}),theme:"collection-header",idle:!0,className:i.default.collectionListItem},h)};var a=o(48360),r=n(o(44356)),l=n(o(99360)),i=n(o(32067)),s=o(65417),c=o(82145),d=o(5641),u=o(13923),f=o(85893)},41399:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPolicyLink=d,t.getRejectedCollectionCopy=function(e,t){let o;switch(e){case"drugs":return o=r.fbt._("WhatsApp's Commerce Policy for prescription, recreational, or other types of Drugs",null,{hk:"B27ED"}),{first:(0,c.jsx)(s.default,{id:199,params:{collections_rejected_policy_drugs:d(o,t)}}),second:(0,c.jsx)(s.default,{id:223,params:{collections_rejected_policy_drugs:d(o,t)}})};case"weapons":return o=r.fbt._("WhatsApp's Commerce Policy for Weapons, ammunition, or explosives",null,{hk:"1X972I"}),{first:(0,c.jsx)(s.default,{id:215,params:{collections_rejected_policy_weapons:d(o,t)}}),second:(0,c.jsx)(s.default,{id:239,params:{collections_rejected_policy_weapons:d(o,t)}})};case"animals":return o=r.fbt._("WhatsApp's Commerce Policy for Animals",null,{hk:"3hxXr8"}),{first:(0,c.jsx)(s.default,{id:194,params:{collections_rejected_policy_animals:d(o,t)}}),second:(0,c.jsx)(s.default,{id:218,params:{collections_rejected_policy_animals:d(o,t)}})};case"alcohol":return o=r.fbt._("WhatsApp's Commerce Policy for Alcohol",null,{hk:"1G8YGL"}),{first:(0,c.jsx)(s.default,{id:193,params:{collections_rejected_policy_alcohol:d(o,t)}}),second:(0,c.jsx)(s.default,{id:217,params:{collections_rejected_policy_alcohol:d(o,t)}})};case"gambling":return o=r.fbt._("WhatsApp's Commerce Policy for Real money gambling services",null,{hk:"1zQIeM"}),{first:(0,c.jsx)(s.default,{id:200,params:{collections_rejected_policy_gambling:d(o,t)}}),second:(0,c.jsx)(s.default,{id:224,params:{collections_rejected_policy_gambling:d(o,t)}})};case"tobacco":return o=r.fbt._("WhatsApp's Commerce Policy for Tobacco items and related paraphernalia",null,{hk:"EAQLL"}),{first:(0,c.jsx)(s.default,{id:213,params:{collections_rejected_policy_tobacco:d(o,t)}}),second:(0,c.jsx)(s.default,{id:237,params:{collections_rejected_policy_tobacco:d(o,t)}})};case"overtly_sexualized_positioning":return o=r.fbt._("WhatsApp's Commerce Policy for Overtly sexualized positioning",null,{hk:"1oaFbX"}),{first:(0,c.jsx)(s.default,{id:208,params:{collections_rejected_policy_overtly_sexualized_positioning:d(o,t)}}),second:(0,c.jsx)(s.default,{id:232,params:{collections_rejected_policy_overtly_sexualized_positioning:d(o,t)}})};case"adult":return o=r.fbt._("WhatsApp's Commerce Policy for Adult products or service",null,{hk:"Wf7q5"}),{first:(0,c.jsx)(s.default,{id:192,params:{collections_rejected_policy_adult:d(o,t)}}),second:(0,c.jsx)(s.default,{id:216,params:{collections_rejected_policy_adult:d(o,t)}})};case"supplements":return o=r.fbt._("WhatsApp's Commerce Policy for Unsafe ingestible supplements",null,{hk:"9a4Y2"}),{first:(0,c.jsx)(s.default,{id:211,params:{collections_rejected_policy_supplements:d(o,t)}}),second:(0,c.jsx)(s.default,{id:235,params:{collections_rejected_policy_supplements:d(o,t)}})};case"body_parts_fluids":return o=r.fbt._("WhatsApp's Commerce Policy for Body parts and fluids",null,{hk:"2EAd21"}),{first:(0,c.jsx)(s.default,{id:195,params:{collections_rejected_policy_body_parts_fluids:d(o,t)}}),second:(0,c.jsx)(s.default,{id:219,params:{collections_rejected_policy_body_parts_fluids:d(o,t)}})};case"healthcare":return o=r.fbt._("WhatsApp's Commerce Policy for Medical and healthcare products",null,{hk:"3vvgOF"}),{first:(0,c.jsx)(s.default,{id:202,params:{collections_rejected_policy_healthcare:d(o,t)}}),second:(0,c.jsx)(s.default,{id:226,params:{collections_rejected_policy_healthcare:d(o,t)}})};case"misleading":return o=r.fbt._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:(0,c.jsx)(s.default,{id:205,params:{collections_rejected_policy_misleading:d(o,t)}}),second:(0,c.jsx)(s.default,{id:229,params:{collections_rejected_policy_misleading:d(o,t)}})};case"real_fake_currency":return o=r.fbt._("WhatsApp's Commerce Policy for Real, virtual, or fake currency",null,{hk:"2XnVq2"}),{first:(0,c.jsx)(s.default,{id:209,params:{collections_rejected_policy_real_fake_currency:d(o,t)}}),second:(0,c.jsx)(s.default,{id:233,params:{collections_rejected_policy_real_fake_currency:d(o,t)}})};case"digital_services_products":return o=r.fbt._("WhatsApp's Commerce Policy for Digital and subscription services",null,{hk:"2mvwqB"}),{first:(0,c.jsx)(s.default,{id:197,params:{collections_rejected_policy_digital_services_products:d(o,t)}}),second:(0,c.jsx)(s.default,{id:221,params:{collections_rejected_policy_digital_services_products:d(o,t)}})};case"thrid_party_infringements":return o=r.fbt._("WhatsApp's Commerce Policy for Third-Party Infringement",null,{hk:"48SSD"}),{first:(0,c.jsx)(s.default,{id:212,params:{collections_rejected_policy_thrid_party_infringements:d(o,t)}}),second:(0,c.jsx)(s.default,{id:236,params:{collections_rejected_policy_thrid_party_infringements:d(o,t)}})};case"unauthorized_media":return o=r.fbt._("WhatsApp's Commerce Policy for Products or items that facilitate or encourage unauthorized access to digital media",null,{hk:"2ldhoF"}),{first:(0,c.jsx)(s.default,{id:214,params:{collections_rejected_policy_unauthorized_media:d(o,t)}}),second:(0,c.jsx)(s.default,{id:238,params:{collections_rejected_policy_unauthorized_media:d(o,t)}})};case"illegal_products":return o=r.fbt._("WhatsApp's Commerce Policy for Illegal products or services",null,{hk:"c5Zjc"}),{first:(0,c.jsx)(s.default,{id:204,params:{collections_rejected_policy_illegal_products:d(o,t)}}),second:(0,c.jsx)(s.default,{id:228,params:{collections_rejected_policy_illegal_products:d(o,t)}})};case"hazardous_goods_and_materials":return o=r.fbt._("WhatsApp's Commerce Policy for Business models, goods, items, or services that may be or are fraudulent, misleading, offensive, or deceptive, or may be or are exploitative, inappropriate, or exert undue pressure on targeted groups",null,{hk:"3TyOB"}),{first:(0,c.jsx)(s.default,{id:201,params:{collections_rejected_policy_hazardous_goods_and_materials:d(o,t)}}),second:(0,c.jsx)(s.default,{id:225,params:{collections_rejected_policy_hazardous_goods_and_materials:d(o,t)}})};case"stolen_goods":return o=r.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,c.jsx)(s.default,{id:210,params:{collections_rejected_policy_stolen_goods:d(o,t)}}),second:(0,c.jsx)(s.default,{id:234,params:{collections_rejected_policy_stolen_goods:d(o,t)}})};case"human_exploitation_and_sexual_services":return o=r.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,c.jsx)(s.default,{id:203,params:{collections_rejected_policy_human_exploitation_and_sexual_services:d(o,t)}}),second:(0,c.jsx)(s.default,{id:227,params:{collections_rejected_policy_human_exploitation_and_sexual_services:d(o,t)}})};case"community_standards":return o=r.fbt._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:(0,c.jsx)(s.default,{id:196,params:{collections_rejected_policy_community_standards:d(o,t)}}),second:(0,c.jsx)(s.default,{id:220,params:{collections_rejected_policy_community_standards:d(o,t)}})};case"discrimination":return o=r.fbt._("WhatsApp's Business Terms",null,{hk:"1x5ZqO"}),{first:(0,c.jsx)(s.default,{id:198,params:{collections_rejected_policy_discrimination:d(o,t)}}),second:(0,c.jsx)(s.default,{id:222,params:{collections_rejected_policy_discrimination:d(o,t)}})};default:return o=r.fbt._("WhatsApp's Commerce Policy",null,{hk:"1kuvvN"}),{first:(0,c.jsx)(s.default,{id:207,params:{collections_rejected_policy_other_violation:d(o,t)}}),second:(0,c.jsx)(s.default,{id:231,params:{collections_rejected_policy_other_violation:d(o,t)}})}}};var a=n(o(64369)),r=o(48360),l=n(o(99360)),i=o(12591),s=n(o(56074)),c=o(85893);function d(e,t){const o=t||a.default.WA_COMMERCE_POLICY_URL;return(0,c.jsx)(l.default,{href:o,onClick:e=>{e.preventDefault(),(0,i.openExternalLink)(o)},children:e})}},35054:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCollectionCreateClicked=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATE_CLICKED,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionCreated=function(e){let{catalogContext:t,collectionId:o,productCount:n}=e;new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_CREATED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:n}).commit()},t.logCollectionDeleted=function(e){let{catalogContext:t,collectionId:o}=e;new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:o}).commit()},t.logCollectionItemsAssignment=function(e){let{catalogContext:t,collectionId:o,addedCount:n,removedCount:a}=e;n>0&&new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_ASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:n,collectionId:o}).commit();a>0&&new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_UNASSIGN_ITEMS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productCount:a,collectionId:o}).commit()},t.logCollectionMenuClicked=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_MENU_COLLECTIONS_CLICK,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCollectionRenamed=function(e){let{catalogContext:t,collectionId:o}=e;new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_DELETED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),collectionId:o}).commit()},t.logCollectionSeeAllView=function(e){let{catalogOwnerJid:t,catalogContext:o,collectionId:n}=e;const c=(0,r.getProductStatsInFetched)(t,n),d=null==c?void 0:c.productIndex,u=null==c?void 0:c.collectionIndex;(0,s.createCatalogViewEvent)((0,a.default)({isOwner:(0,s.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_COLLECTION_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_COLLECTION_IMPRESSION,productIndex:d,collectionIndex:u},(0,i.toDataForCatalogViewEvents)(o))).commit()};var a=n(o(81109)),r=o(10448),l=n(o(11339)),i=o(97567),s=o(14545)},44315:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(67294),r=o(47217),l=o(64481),i=o(79174),s=n(o(36153)),c=o(27394),d=o(47915),u=n(o(44942)),f=n(o(30855)),p=o(43882),h=o(84387),g=o(77975),m=o(82145),_=o(97567),C=n(o(88990)),v=o(5641),S=n(o(65932)),P=o(18146),x=o(85893);class T extends a.Component{constructor(e){super(e),this.attachedListeners=new Set,this._catalogFlatListController=new f.default,this._handleProductDetail=(e,t)=>{const{onProductDetail:o}=this.props;return(0,m.qplStartProductView)("Collection"),(0,g.logCatalogListDetailClick)({product:(0,P.unproxy)(e),catalogContext:(0,_.getProductCatalogContext)(this.context)}),o(e,t)},this._handleProductShare=e=>{const{onProductShare:t}=this.props;t&&t(e)},this._handleProductDelete=e=>{const{catalog:t}=this.props;(0,r.handleProductDelete)(t,e,(0,_.getProductCatalogContext)(this.context),"Collection")},this._handleProductHideShow=e=>{const{catalog:t}=this.props;(0,r.handleProductVisibilityChange)(t,e,(0,_.getProductCatalogContext)(this.context),"Collections")},this.renderItem=e=>{const{collection:t,product:o,allItems:n,reviewBanner:a,collectionId:r}=e,{onCartOpen:l,shareLinks:c}=this.props;return t?a?(0,x.jsx)(i.CollectionIntegrityBanner,{collection:t,onEditCollection:this.props.onEditCollection}):(0,x.jsx)(s.default,{collection:t,onSeeAll:this.props.onCollectionSeeAll}):n?(0,x.jsx)(s.default,{allItems:n,onSeeAll:this.props.onCollectionSeeAll}):o?(0,x.jsx)(C.default,{collectionId:r,product:o,onCartOpen:l,onClick:()=>this._handleProductDetail(o,r),onProductShare:c?this._handleProductShare:null,onProductDelete:this._handleProductDelete,onProductHideShow:this._handleProductHideShow,theme:"product-of-collection",canManageCatalog:this.props.canManageCatalog}):null},this.state={loadingMore:!1,stopLoading:!1,catalogFetchState:e.catalog?"SUCCESS":"NONE"}}getData(){const{onCartOpen:e}=this.props,t=void 0!==e,o=this.props.data||[],n=[];return o.forEach((e=>{const o=e.collection,a=e.product,r=e.allItems;if(o&&a){const e=o.id;n.push({itemKey:`${e.toString()}_${a.id.toString()}_${t.toString()}`,product:a,collectionId:e})}else if(o)this.attachedListeners.has(o.id)||(this.attachedListeners.add(o.id),this.props.listeners.add(o,"change:reviewStatus canAppeal",(()=>{this.forceUpdate()}))),n.push({itemKey:`${o.id.toString()}_${o.reviewStatus.toString()}`,collection:o}),o.reviewStatus!==v.PRODUCT_REVIEW_STATUS.PENDING&&o.reviewStatus!==v.PRODUCT_REVIEW_STATUS.REJECTED||n.push({itemKey:`${o.id.toString()}_reviewBanner`,collection:o,height:(0,i.getCollectionIntegrityHeight)(o),reviewBanner:!0});else if(r)n.push({itemKey:"view_all",allItems:r});else if(a){const e=this.props.collectionId||void 0;n.push({itemKey:`${a.id.toString()}_${t.toString()}`,product:a,collectionId:e})}})),n}render(){const e=this.getData();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(u.default,{flatListControllers:[this._catalogFlatListController],children:(0,x.jsx)(d.FlatList,{flatListController:this._catalogFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:e,renderItem:this.renderItem,defaultItemHeight:l.PRODUCT_LIST_ITEM_HEIGHT,keyOrder:p.KeyOrder.INVERSE})})})}}T.CONCERNS={catalog:["productCollection","collections","afterCursor","id","index"]},T.contextType=c.DrawerContext,T.displayName="ProductCollectionsList";var b=(0,h.ListenerHOC)((0,S.default)(T,T.CONCERNS));t.default=b},70107:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{collectionId:o,onCartClick:n,onProductLinkClick:p,onProductMoreInformation:w,onBack:z,onProductCatalog:K,onProductDetail:$,refreshCarousel:X,chat:Z,isPushed:ee=!0}=e,te=(0,m.default)(),oe=(0,S.default)(),ne=(0,g.useContext)(L.DrawerContext),ae=(0,v.useModelValues)(e.product,["id","catalogWid","productImageCollection","fetchedFromServer","name","availability","reviewStatus"]),[re,le]=(0,g.useState)(null),[ie,se]=(0,g.useState)(!1),[ce,de]=(0,g.useState)(null),[ue,fe]=(0,g.useState)("NONE"),[pe,he]=(0,g.useState)("NONE"),ge=(0,_.default)((()=>T.CartCollection.findCart(ae.catalogWid.toString())));(0,C.useListener)(ge.current,"change:cartItemCollection",te);const me=()=>{if(z)return z()},_e=()=>{const e=ae.catalogWid,t=ae.id.toString(),o=b.CatalogCollection.findProduct({catalogWid:e,productId:t,productMsgMediaData:(0,q.unproxy)(ae).productMsgMediaData,canLogQpl:ee}),n=P.BusinessProfileCollection.find(e);let l=!0;return Promise.all([n,o]).then((e=>{let[t]=e;if(oe.aborted)throw new a.AbortError;return l=!1,ee&&(0,N.qplEndProductView)(G.QuickLogActionType.SUCCESS),le(t),fe("SUCCESS"),t})).then((e=>{"PENDING"===pe&&((0,x.hasCatalog)(e)?(()=>{const e=ae.catalogWid;b.CatalogCollection.findCarouselCatalog(e).then((e=>{if(oe.aborted)return;const t=Array.isArray(e)?e[0]:e;de(t||null),he(t?"SUCCESS":"NONE")})).catch((0,r.filteredCatch)(s.ServerStatusCodeError,(e=>{"not_found"===e.status||404===e.status?(de(null),he("NOT_FOUND")):(de(null),he("ERROR"),__LOG__(3)`Failed to fetch product catalog from server`)}))).catch((0,r.filteredCatch)(s.WebdDrop,(()=>{de(null),he("ERROR"),__LOG__(3)`Failed to fetch product catalog`})))})():he("NONE"))})).catch((0,a.catchAbort)((()=>{}))).catch((0,r.filteredCatch)(s.E404,(()=>{me(),u.ModalManager.open((0,Y.jsx)(j.default,{onOK:()=>{u.ModalManager.close()},okText:h.fbt._("OK",null,{hk:"2KEeHb"}),children:h.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),fe("NOT_FOUND"),l=!1,(0,N.qplDropProductView)()}))).catch((0,r.filteredCatch)(s.WebdDrop,(()=>{fe("ERROR"),__LOG__(3)`Failed to fetch product`}))).catch((0,r.filteredCatch)(s.ServerStatusCodeError,(()=>{fe("ERROR"),__LOG__(3)`Failed to fetch product from server`}))).finally((()=>{ee&&l&&(0,N.qplEndProductView)(G.QuickLogActionType.FAIL)}))};(0,g.useEffect)((()=>{if((0,d.commerceThreadsLoggingEnabled)()&&Z&&(0,k.addChatThreadLoggingActivities)([{activityType:"pdpViews",ts:(0,l.unixTime)(),chatId:Z.id}]),X){const e=b.CatalogCollection.get(ae.catalogWid);(null==e?void 0:e.productCollection)&&e.fetchedFromServer?he("SUCCESS"):he("PENDING")}const e=(0,f.getMaybeMeUser)();ee&&(0,N.qplAnnotateProductView)(!(null==e?void 0:e.equals(ae.catalogWid)));const t=ae.catalogWid,n=ae.id.toString();if(t&&n)return _e(),(0,I.default)(t).then((e=>{se(e)})),(0,M.logProductDetailView)({product:(0,q.unproxy)(ae),catalogContext:(0,D.getProductCatalogContext)(ne),cartToggle:ie,collectionId:o}),()=>{const e=ae.catalogWid,t=ae.id.toString();if(!e||!t)return;const o=b.CatalogCollection.get(e),n=o&&o.msgProductCollection.get(t);(null==n?void 0:n.fetchedFromServer)&&o&&o.msgProductCollection.remove(n)};(0,N.qplDropProductView)()}),[]);const Ce=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,d.commerceThreadsLoggingEnabled)()&&Z&&(0,k.addChatThreadLoggingActivities)([{activityType:e,ts:(0,l.unixTime)(),chatId:Z.id,boolValue:t}])},ve=()=>"ERROR"!==ue&&"NOT_FOUND"!==ue&&!(()=>{const{reviewStatus:e}=ae;return e===B.PRODUCT_REVIEW_STATUS.REJECTED})(),Se=ve(),Pe=(0,x.hasCatalog)(re);return(0,Y.jsxs)(O.default,{onDrop:me,theme:"striped",children:[(0,Y.jsx)(J,{handleBack:me,menu:ve()?(0,Y.jsx)(E.default,{onSendProduct:()=>{const e=ae,{catalogWid:t}=e,o=b.CatalogCollection.get(t);if(!o)return;const n=o.productCollection.get(e.id);c.Cmd.attachProduct({product:n?(0,q.unproxy)(n):(0,q.unproxy)(e)})},onReportProduct:()=>{u.ModalManager.open((0,Y.jsx)(V.default,{product:ae,sessionId:(0,D.getProductCatalogSessionId)(ne)}))},onProductLinkClick:()=>{p(ae)},onProductMoreInformation:()=>{w(ae)},onCartClick:ie?()=>{(0,N.qplStartCartView)("Product"),null==n||n(ae.catalogWid.toString())}:void 0,cartCount:ge.current.itemCount,catalogId:ae.catalogWid.toString(),contactId:null==Z?void 0:Z.contact.id.user}):null}),(0,Y.jsx)(A.default,{children:(0,Y.jsxs)("div",{"data-a8n":i.default.key("product-details"),className:F.default.body,children:[(0,Y.jsx)(Q,{productFetchState:ue,productCatalogFetchState:pe,isAvailable:Se}),(0,Y.jsx)(H.default,{product:ae,isAvailable:Se,fetching:"PENDING"===ue}),ae.availability===U.ProductAvailability.OUT_OF_STOCK?(0,Y.jsx)("div",{className:F.default.availabilityBanner,children:h.fbt._("This item is out of stock.",null,{hk:"4gOwiz"})}):null,(0,Y.jsx)(W.default,{product:ae,collectionId:o,onSendChat:()=>{const e=b.CatalogCollection.get(ae.catalogWid);(0,R.sendProductToChat)(ae,e,(0,D.getProductCatalogContext)(ne)),Ce("isCtaOnPdpClicked"),(0,M.logProductMessageBusinessClick)(ae,(0,D.getProductCatalogContext)(ne))},onAddToCart:()=>{Ce("isCartAddClicked")},isAvailable:Se,hideRetailerID:null===(t=e.chat)||void 0===t?void 0:t.contact.isEnterprise}),Pe&&ce?(0,Y.jsx)(y.default,{catalog:ce,onProductCatalog:()=>{K&&K(ae.catalogWid,(0,D.getProductCatalogContext)(ne))},onProductDetail:e=>{if((0,N.qplStartProductView)("Product"),$)return $(e)},filterProductId:ae.id.toString(),title:h.fbt._("More",null,{hk:"2A3GqV"}),animation:!1}):null]})})]},"product-details-drawer")};var a=o(89385),r=o(50796),l=o(92844),i=n(o(99964)),s=o(92574),c=o(81572),d=o(8139),u=o(14597),f=o(78820),p=n(o(94184)),h=o(48360),g=o(67294),m=n(o(59312)),_=n(o(16223)),C=o(87550),v=o(35461),S=n(o(3409)),P=o(93581),x=o(94010),T=o(12392),b=o(99989),y=n(o(42953)),k=o(32107),I=n(o(17986)),j=n(o(52665)),E=n(o(11466)),O=n(o(60453)),A=n(o(69637)),L=o(27394),w=o(94790),M=o(77975),N=o(82145),R=o(96519),D=o(97567),B=o(5641),F=n(o(52387)),W=n(o(16481)),H=n(o(33382)),U=o(6822),G=o(48870),V=n(o(79387)),z=o(11054),q=o(18146),K=o(13923),Y=o(85893);function Q(e){let t,{productFetchState:o,productCatalogFetchState:n,isAvailable:a}=e;t="ERROR"===o?(0,Y.jsx)(K.TextSpan,{className:F.default.text,theme:"small",color:"danger",children:h.fbt._("Something went wrong",null,{hk:"7C9hw"})}):a?[(0,Y.jsx)(z.Spinner,{size:14,color:z.colorOptions.highlight},"DetailDrawer-loadingBar-spinner"),(0,Y.jsx)(K.TextSpan,{className:(0,p.default)(F.default.text,F.default.loadingText),theme:"small",children:h.fbt._("Waiting for network",null,{hk:"3I2DtN"})},"DetailDrawer-loadingBar-msg")]:(0,Y.jsx)(K.TextSpan,{className:F.default.text,theme:"small",color:"danger",children:h.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})});const r="PENDING"===o||"PENDING"===n||!a;return(0,Y.jsx)("div",{className:(0,p.default)({[F.default.loadingContainer]:r,[F.default.shiftUp]:!r}),children:t})}function J(e){let{menu:t,handleBack:o}=e;return(0,Y.jsx)(w.DrawerHeader,{title:h.fbt._("Details",null,{hk:"1hLRT1"}),onBack:o,type:w.DRAWER_HEADER_TYPE.SMALL,menu:t})}},16481:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collectionId:t,onSendChat:o,onAddToCart:n,isAvailable:a}=e,l=(0,s.useContext)(g.DrawerContext),i=(0,d.useModelValues)(e.product,["name","url","description","availability","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","fetchedFromServer","retailerId","catalogWid","productImageCollection","imageHash","reviewStatus","imageCdnUrl","id"]),[c,f]=(0,s.useState)(!1),[p,v]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(0,h.default)(i.catalogWid).then((e=>{v(e)}))}),[]),(0,O.jsxs)(m.default,{theme:"padding-product",animation:!1,children:[(0,O.jsx)(E.TextDiv,{theme:"title",className:T.default.name,children:(0,O.jsx)(_.EmojiText,{text:i.name,selectable:!0})}),null!=i.priceAmount1000?(0,O.jsx)(E.TextDiv,{className:T.default.price,color:"dark",theme:"plain",children:(0,O.jsx)(b.default,{product:i,selectable:!0,direction:"inherit"})}):null,(0,O.jsx)(B,{product:i,isAvailable:a,isDescExpanded:c,hideRetailerID:e.hideRetailerID,onReadMore:()=>{f(!0)},onClickUrl:(e,t)=>{e.stopPropagation(),(0,S.logDetailLinkClick)({product:(0,j.unproxy)(i),catalogContext:(0,P.getProductCatalogContext)(l)});const o=t&&r.findLink(t);o&&(0,C.openExternalLink)(o.url)}}),(0,O.jsx)(N,{onSendChat:()=>{null==o||o()},isAvailable:a,product:i}),(0,O.jsx)(R,{cartEnabled:p,isAvailable:a,product:i,onClick:e=>{k.QPL.markerStart(I.QuickLogMarkerId.WHATSAPP_CART_ADD,{annotations:{string:{EntryPoint:"Product"}}}),(0,u.default)(i,(0,P.getProductCatalogContext)(l),t),null==n||n(),e.stopPropagation()}})]})};var a=n(o(64369)),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=A(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,o&&o.set(e,n);return n}(o(95726)),l=n(o(94184)),i=o(48360),s=o(67294),c=(n(o(56720)),n(o(68419))),d=o(35461),u=n(o(31892)),f=n(o(24170)),p=n(o(39770)),h=n(o(17986)),g=o(27394),m=n(o(33308)),_=o(65417),C=o(12591),v=o(30695),S=o(77975),P=o(97567),x=o(5641),T=n(o(21540)),b=n(o(62089)),y=o(6822),k=o(48870),I=o(27798),j=o(18146),E=o(13923),O=o(85893);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(A=function(e){return e?o:t})(e)}const L={color:"baku5n5n",":hover":{color:"k3zau70k"}},w={color:"o2v2jkg7",":hover":{color:"oehg7oif"}},M={color:"jk96mlgm",":hover":{color:"dul83ws3"}};function N(e){let{onSendChat:t,isAvailable:o,product:n}=e;if(!t||!n.fetchedFromServer||!o||n.reviewStatus!==x.PRODUCT_REVIEW_STATUS.APPROVED)return null;const a=i.fbt._("Message Business",null,{hk:"byqjM"});return(0,O.jsx)("div",{className:T.default.buttonContainer,title:a,children:(0,O.jsx)(p.default,{a8nText:"product-message-business-btn",className:T.default.button,onClick:t,type:"secondary",children:a})})}function R(e){let{cartEnabled:t,isAvailable:o,product:n,onClick:a}=e;const{isHovered:r,onMouseEnter:s,onMouseLeave:d}=(0,c.default)();if(!t||!n.fetchedFromServer||!o||n.reviewStatus!==x.PRODUCT_REVIEW_STATUS.APPROVED)return null;const u=i.fbt._("Add to cart",null,{hk:"2qbS08"}),h=n.availability===y.ProductAvailability.OUT_OF_STOCK;let g=null;return g=h?L:r?M:w,(0,O.jsx)("div",{className:T.default.buttonContainer,title:u,onMouseEnter:s,onMouseLeave:d,children:(0,O.jsx)(p.default,{a8nText:"add-to-cart-btn",className:(0,l.default)(T.default.button,T.default.addToCartButton),onClick:a,type:"secondary",disabled:h,children:(0,O.jsxs)("span",{className:T.default.addToCartContainer,children:[(0,O.jsx)(f.default,{colorXStyle:g}),u]})})})}function D(e){let{isAvailable:t,product:o,onClick:n}=e;const{url:a}=o;if(!o.fetchedFromServer||!a||!t)return null;const l=v.Configuration.TrustedGroupDesc({links:r.findLinks(a)});return(0,O.jsx)("div",{children:(0,O.jsx)(_.EmojiText,{selectable:!0,formatters:l,text:a,onClick:e=>n(e,a)})})}function B(e){let{product:t,isAvailable:o,isDescExpanded:n,hideRetailerID:r,onReadMore:l,onClickUrl:s}=e;if(!t.description&&!t.url&&!t.retailerId)return null;const c=!!t.description&&t.description.length>a.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH;let d;return t.description&&(d=(0,O.jsxs)("div",{children:[(0,O.jsx)(_.EmojiText,{selectable:!0,multiline:!0,text:t.description,textLimit:n?1/0:a.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),c&&!n?(0,O.jsxs)("span",{className:T.default.more,role:"button",onClick:l,children:[" ",i.fbt._("Read more",null,{hk:"2DvSvh"})]}):null]})),(0,O.jsxs)(E.TextDiv,{theme:"plain",className:T.default.description,children:[d,(0,O.jsx)(D,{isAvailable:o,product:t,onClick:s}),t.retailerId&&!r?(0,O.jsx)("div",{children:(0,O.jsx)(_.EmojiText,{text:t.retailerId,selectable:!0,direction:"inherit"})}):null]})}},79188:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDetailsWithDeepLink=function(e){const{isPushed:t=!0,productInfo:{productId:o,businessOwnerJid:n},onBack:P}=e,[x,T]=(0,d.useState)((()=>(0,C.default)({productId:o,businessOwnerJid:n}))),[b,y]=(0,d.useState)((()=>x?"NONE":"PENDING"));if((0,d.useEffect)((()=>{x||(()=>{const e=(0,s.createWid)(n);u.CatalogCollection.findProduct({catalogWid:e,productId:o}).then((()=>{const t=u.CatalogCollection.get(e);T((0,r.default)(t,"catalog").productCollection.get(o)),y("SUCCESS")})).catch((0,a.filteredCatch)(l.E404,(()=>{P(),i.ModalManager.open((0,S.jsx)(f.default,{onOK:()=>{i.ModalManager.close()},okText:c.fbt._("OK",null,{hk:"2KEeHb"}),children:c.fbt._("This product or service has been removed",null,{hk:"3mE1ld"})})),y("ERROR")}))).catch((e=>{(0,m.parseErrorState)(e,(e=>{y(e)}))}))})()}),[]),x)return(0,S.jsx)(v.default,{chat:e.chat,isPushed:t,product:x,onEnd:e.onEnd,onBack:e.onBack,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalog,refreshCarousel:!0,onProductLinkClick:e.onProductLinkClick,onProductMoreInformation:e.onProductMoreInformation,onCartClick:e.onCartClick});return(0,S.jsxs)(p.default,{onDrop:e.onBack,children:[(0,S.jsx)(g.DrawerHeader,{a8n:"drawer-title-profile",title:c.fbt._("Details",null,{hk:"1hLRT1"}),onBack:e.onBack,type:g.DRAWER_HEADER_TYPE.SMALL}),(0,S.jsx)(h.default,{children:(0,S.jsx)(_.default,{fetchState:b})})]},"product-details-drawer")};var a=o(50796),r=n(o(45095)),l=o(92574),i=o(14597),s=o(45454),c=o(48360),d=o(67294),u=o(99989),f=n(o(52665)),p=n(o(60453)),h=n(o(69637)),g=o(94790),m=o(14375),_=n(o(61055)),C=n(o(26218)),v=n(o(70107)),S=o(85893)},54050:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t,onCancel:o,product:n,prompt:l,centerDrawer:S,sendProductMsg:E,onSend:O}=e,A=(0,s.useContext)(p.DrawerContext),L=()=>{r.ModalManager.open((0,k.jsx)(T.default,{product:n,onSend:O}),{transition:"modal-flow"}),(0,_.logShareProductViaWALinkClick)({product:n,catalogContext:(0,C.getProductCatalogContext)(A)})},w=()=>{a.Cmd.attachProduct({product:(0,y.unproxy)(n),onSend:O})},M=(0,b.createProductLink)(n.catalogWid.user,n.id.toString());let N,R,D;S&&(N="labels",R="center-column");D=null!=E?(0,k.jsx)(x.default,{onClick:w}):(0,k.jsx)(P.default,{onClick:L});return(0,k.jsxs)(u.default,{theme:N,children:[(0,k.jsx)(h.DrawerHeader,{a8n:"product-link-title",title:i.fbt._("Product link",null,{hk:"1RIlvV"}),onBack:t,onCancel:o,type:h.DRAWER_HEADER_TYPE.SMALL,focusBackOrCancel:!0}),(0,k.jsxs)(f.default,{theme:R,children:[(0,k.jsx)("div",{className:v.default.prompt,children:l}),(0,k.jsx)(c.default,{image:j(n),primary:(0,k.jsx)(g.EmojiText,{text:n.name,direction:"auto"}),theme:"identity",secondary:(0,k.jsx)(m.default,{id:I,href:M,onClick:e=>{e.preventDefault(),L()},noHandle:!0})}),D,(0,k.jsx)(d.default,{elementId:I,onClick:()=>{(0,_.logShareProductCopyLinkClick)({product:n,catalogContext:(0,C.getProductCatalogContext)(A)})}})]})]},"product-link-drawer")};var a=o(81572),r=o(14597),l=n(o(94184)),i=o(48360),s=o(67294),c=n(o(44356)),d=n(o(26609)),u=n(o(60453)),f=n(o(69637)),p=o(27394),h=o(94790),g=o(65417),m=n(o(786)),_=o(77975),C=o(97567),v=n(o(49762)),S=o(3013),P=n(o(51628)),x=n(o(23358)),T=n(o(61266)),b=o(82482),y=o(18146),k=o(85893);const I="product-link-anchor";function j(e){const t=e.getProductImageCollectionHead();return t?(0,k.jsx)(S.ProductThumb,{className:(0,l.default)(v.default.productImage,v.default.productImageContainer),mediaData:t.mediaData}):(0,k.jsx)(S.ProductThumbPlaceholder,{className:(0,l.default)(v.default.productThumb,v.default.productThumbContainer)})}},11395:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductListDrawer=function(e){const{catalogId:t,canManageCatalog:o,setScrollOffset:n,onCartClick:r,onCatalogLinkClick:b,autoUpdate:$=!1,businessProfile:X,onAddProduct:Z,onProductDetail:ee,onProductShare:te,headerType:oe,onOpenSettings:ne,blockCartInterstitialFn:ae=(()=>!1)}=e,re=(0,S.default)(),le=(0,f.useContext)(A.DrawerContext),ie=(0,g.default)(),se=(0,h.default)(ie,100),ce=(0,C.useModelValues)(e.contact,["id"]),de=(0,m.default)((()=>new D.default)),ue=()=>{const e=k.CatalogCollection.get(t);return!e||e.stale?null:e},fe=(0,f.useMemo)((()=>T.CartCollection.findCart(ce.id.toString())),[ce.id]),[pe,he]=(0,f.useState)(!1),[ge,me]=(0,f.useState)(0),[_e,Ce]=(0,f.useState)(!1),[ve,Se]=(0,f.useState)(!1),[Pe,xe]=(0,f.useState)(ue),[Te,be]=(0,f.useState)((()=>fe.itemCount)),[ye,ke]=(0,f.useState)((()=>ue()?"SUCCESS":"NONE"));(0,_.useListener)(fe,"all",(()=>{const e=fe.itemCount;Te!==e&&be(e)}));const Ie=()=>{if(_e)return;const e=k.CatalogCollection.assertGet(t);if(!e.afterCursor)return;const o=e.productCollection.getProductModels().length;he(!0),me(o),k.CatalogCollection.update(t).then((e=>{if(re.aborted)return;he(!1);(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===ge&&Ce(!0),o*I.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&Ie()})).catch((()=>{he(!1),Ce(!0)}))},je=(0,h.default)((()=>{var t;null===(t=e.onRemoveProduct)||void 0===t||t.call(e),ie()}),100),Ee=$?null==Pe?void 0:Pe.productCollection:null;(0,_.useListener)(Ee,"add",se),(0,_.useListener)(Ee,"remove",je);(0,f.useEffect)((()=>{(0,H.logCatalogListView)({catalogOwnerWid:t,catalogContext:(0,V.getProductCatalogContext)(le),cartToggle:ve}),Pe?Ie():k.CatalogCollection.find(t).then((e=>{xe(e),ke("SUCCESS"),Ie()})).catch((0,a.filteredCatch)(i.ServerStatusCodeError,(e=>{403!==e.status&&404!==e.status||(xe(null),ke("NOT_FOUND"))}))).catch((e=>{(0,N.parseErrorState)(e,(e=>ke(e)))})),(0,j.default)(t).then((e=>{Se(e),(0,s.isMDBackend)()&&o&&ve&&!ae()&&(0,P.getABPropConfigValue)("web_abprop_nux_cart_interstitial")&&(0,y.default)()}))}),[]);const Oe=(0,v.default)((e=>{pe||e.scrollTop+c.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&Ie()}),100),Ae=()=>{null==r||r(ce.id.toString())},Le=()=>{Pe&&(b(Pe,ce),(0,H.logCatalogShareLinkClick)({catalogOwnerWid:t,catalogContext:(0,V.getProductCatalogContext)(le)}))};return(0,Y.jsxs)(E.default,{theme:"products",onDrop:e.onBack,children:[(0,Y.jsx)(L.DrawerHeader,{title:u.fbt._("Catalog",null,{hk:"3YVOSV"}),type:e.headerType||L.DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:(()=>{const e=o&&(0,d.canToggleCartOnOff)()?(0,Y.jsx)(G.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,Y.jsx)(K.default,{name:"menu"}),title:F.default.t(504),children:(0,Y.jsxs)(w.Dropdown,{type:w.MenuType.DropdownMenu,flipOnRTL:!0,dirX:w.DirX.LEFT,children:[(0,Y.jsx)(M.DropdownItem,{a8n:"mi-foward menu-item",action:Le,children:F.default.t(365)}),ne&&(0,Y.jsx)(M.DropdownItem,{a8n:"mi-settings menu-item",action:ne,children:u.fbt._("Settings",null,{hk:"2RmHUB"})})]},"CatalogDetailHeader")}):(0,Y.jsx)(G.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:(0,Y.jsx)(W.default,{theme:oe===L.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),title:u.fbt._("Catalog link",null,{hk:"M36Dw"}),onClick:Le});return(0,Y.jsxs)(Y.Fragment,{children:[ve&&r?(0,Y.jsx)(J,{cartCount:Te,headerType:oe,onClick:(0,U.getOnCartClickWithLog)(Ae,t.toString(),(0,V.getProductCatalogContext)(le))}):null,e]})})(),focusBackOrCancel:!0}),(0,Y.jsx)(O.default,{onScroll:e=>{var t,o;e.currentTarget&&Oe(e.currentTarget),null==n||n(null!==(t=null===(o=e.currentTarget)||void 0===o?void 0:o.scrollTop)&&void 0!==t?t:0)},flatListControllers:[de.current],scrollOffset:e.scrollOffset,children:(()=>{const e=ve&&r?Ae:void 0;if(!Pe)return(0,Y.jsx)(R.default,{fetchState:ye});let t;return o&&Z&&(t=(0,Y.jsx)(x.default,{onClick:()=>Z(),theme:"in-list",a8nText:"add-item"})),(0,Y.jsxs)(Y.Fragment,{children:[X&&(0,Y.jsx)("div",{"data-a8n":l.default.key("catalog-header"),className:(0,p.default)(Q.header),children:(0,Y.jsx)(q.default,{profilePicThumb:ce.getProfilePicThumb(),contact:ce,businessProfile:X})}),(0,Y.jsxs)("div",{"data-a8n":l.default.key("catalog-items"),className:(0,p.default)(Q.list,X&&Q.listMarginTop),children:[t,(0,Y.jsx)(z.default,{onCartOpen:e,onProductDetail:ee,flatListController:de.current,catalog:Pe,canManageCatalog:o,shareLinks:o,onProductShare:te}),pe&&(0,Y.jsx)(B.default,{})]})]})})()})]})};var a=o(50796),r=o(51737),l=n(o(99964)),i=o(92574),s=o(88555),c=o(41906),d=o(8139),u=o(48360),f=o(67294),p=n(o(56720)),h=n(o(51799)),g=n(o(59312)),m=n(o(16223)),_=o(87550),C=o(35461),v=n(o(90886)),S=n(o(3409)),P=o(57849),x=n(o(33889)),T=o(12392),b=n(o(51070)),y=n(o(13712)),k=o(99989),I=o(64481),j=n(o(17986)),E=n(o(60453)),O=n(o(69637)),A=o(27394),L=o(94790),w=o(60811),M=o(71174),N=o(14375),R=n(o(61055)),D=n(o(30855)),B=n(o(29796)),F=n(o(14296)),W=n(o(62371)),H=o(77975),U=o(41868),G=o(46346),V=o(97567),z=n(o(74259)),q=n(o(62647)),K=n(o(23217)),Y=o(85893);const Q={header:{flex:"kk3akd72"},list:{flex:"kk3akd72",paddingBottom:"oq31bsqd",overflowX:"gfz4du6o",overflowY:"r7fjleex"},listMarginTop:{marginTop:"dj1c3cmq"}};function J(e){let{headerType:t,onClick:o,cartCount:n}=e;const a=(0,r.isNumber)(n)&&n>0?n.toString():void 0;return(0,Y.jsx)(G.MenuBarItem,{a8nText:"menu-bar-cart-link",icon:(0,Y.jsx)(b.default,{theme:t===L.DRAWER_HEADER_TYPE.LARGE?"inherit-color":null}),text:a,title:u.fbt._("Your cart",null,{hk:"Sn66V"}),onClick:o})}},62647:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{profilePicThumb:t,contact:o,businessProfile:n}=e;return(0,d.jsxs)("div",{className:s.default.header,"data-testid":"product-list-header",children:[(0,d.jsx)(f,{profilePicThumb:t,contact:o}),(0,d.jsxs)("div",{className:s.default.text,children:[(0,d.jsx)(c.TextDiv,{className:s.default.name,theme:"large",children:(0,d.jsx)(i.Name,{contact:o,selectable:!0,useVerifiedName:!0})}),(0,d.jsx)(u,{businessProfile:n})]})]})};var a=o(35461),r=o(88984),l=o(65417),i=o(12176),s=n(o(72940)),c=o(13923),d=o(85893);function u(e){const t=(0,a.useOptionalModelValues)(e.businessProfile,["description"]);return t&&t.description?(0,d.jsx)("div",{className:s.default.description,children:(0,d.jsx)(l.EmojiText,{text:t.description,direction:"auto",selectable:!0,titlify:!0})}):null}function f(e){const t=(0,a.useOptionalModelValues)(e.profilePicThumb,["imgFull"]),o=(0,a.useModelValues)(e.contact,["id","isMe"]);if(!t)return null;const n=(0,r.getDefaultIcon)(o.id);return(0,d.jsx)("div",{className:s.default.photo,children:(0,d.jsx)(r.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:n,profilePicThumbImg:t.imgFull,spinnerClassName:s.default.spinner,imgClassName:s.default.img,theme:"business"})})}},77776:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBack:t}=e,o=(0,d.useModelValues)(e.product,["id","catalogWid"]),[n,P]=(0,s.useState)({}),[x,T]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),[k,I]=(0,s.useState)(!0),j=e=>{var t,o;return(null===(t=e.complianceInfo)||void 0===t?void 0:t.countryCodeOrigin)===String(h.SyntheticCountryCode.NotApplicable)?Promise.resolve((0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:(0,c.default)(S),children:i.fbt._("Not Applicable",null,{hk:"2k1klN"})}),(0,v.jsx)("div",{children:i.fbt._("Item is a service or non-physical good",null,{hk:"3uDBY7"})})]})):(0,h.getCountryName)(null===(o=e.complianceInfo)||void 0===o?void 0:o.countryCodeOrigin)};(0,s.useEffect)((()=>{function e(){return(e=(0,r.default)((function*(){yield u.CatalogCollection.findProduct({catalogWid:o.catalogWid,productId:o.id.toString(),productMsgMediaData:(0,C.unproxy)(o).productMsgMediaData,shouldFetchComplianceFields:!0});const e=u.CatalogCollection.get(o.catalogWid),t=(0,l.default)(e,"catalog").productCollection.get(o.id);if(t){var n,a,r,i,s,c,d,f,p,g,m,_,v,S;const e=yield j(t),o=yield(0,h.getCountryName)(null===(n=t.complianceInfo)||void 0===n||null===(a=n.importerAddress)||void 0===a?void 0:a.countryCode),l={importerName:(null===(r=t.complianceInfo)||void 0===r?void 0:r.importerName)||"",countryCodeOrigin:(null===(i=t.complianceInfo)||void 0===i?void 0:i.countryCodeOrigin)||"",importerAddress:{street1:(null===(s=t.complianceInfo)||void 0===s||null===(c=s.importerAddress)||void 0===c?void 0:c.street1)||"",street2:(null===(d=t.complianceInfo)||void 0===d||null===(f=d.importerAddress)||void 0===f?void 0:f.street2)||"",city:(null===(p=t.complianceInfo)||void 0===p||null===(g=p.importerAddress)||void 0===g?void 0:g.city)||"",region:(null===(m=t.complianceInfo)||void 0===m||null===(_=m.importerAddress)||void 0===_?void 0:_.region)||"",postalCode:(null===(v=t.complianceInfo)||void 0===v||null===(S=v.importerAddress)||void 0===S?void 0:S.postalCode)||""}};P(l),I(!1),T(e),y(o)}else __LOG__(3)`Unable to fetch compliance for product: ${o.id}`}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);const E=()=>{if(t)return t()},{countryCodeOrigin:O,importerName:A,importerAddress:L}=n;return(0,v.jsxs)(g.default,{onDrop:E,theme:"striped",children:[(0,v.jsx)(_.DrawerHeader,{a8n:"drawer-title-profile",title:i.fbt._("More information",null,{hk:"2JHvi1"}),onBack:E,type:_.DRAWER_HEADER_TYPE.SMALL}),(0,v.jsx)(m.default,{theme:k?"center-content":void 0,children:k?(0,v.jsx)(p.ComplianceInfoLoading,{}):(0,v.jsxs)(p.ComplianceInfoGroup,{children:[(0,v.jsx)(p.ComplianceInfoPrimitiveField,{value:x,label:i.fbt._("Country of Origin",null,{hk:"2yl0F7"})}),O&&![f.COMPLIANCE_INFO_CODES.INDIA,h.SyntheticCountryCode.NotApplicable].includes(O)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p.ComplianceInfoPrimitiveField,{value:A,label:i.fbt._("Name of Importer",null,{hk:"3gfW35"})}),(0,v.jsx)(p.ComplianceInfoStructuralField,{valuesMap:(0,a.default)({importerAddressCountryNameOrigin:b},L),keys:["street1","street2","city","region","postalCode","importerAddressCountryNameOrigin"],label:i.fbt._("Address of Importer",null,{hk:"Kxo8I"})})]}):null]})})]},"product-details-drawer")};var a=n(o(81109)),r=n(o(48926)),l=n(o(45095)),i=o(48360),s=o(67294),c=n(o(56720)),d=o(35461),u=o(99989),f=o(33049),p=o(27105),h=o(9978),g=n(o(60453)),m=n(o(69637)),_=o(94790),C=o(18146),v=o(85893);const S={marginBottom:"ngycyvoj"}},33382:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{isAvailable:t,fetching:o}=e,n=(0,r.useContext)(s.DrawerContext),g=(0,i.useModelValues)(e.product,["productImageCollection","productMsgMediaData","catalogWid","imageCdnUrl"]),m=g.lazyloadProductImageCollection().toArray();return(0,p.jsx)("div",{className:(0,l.default)(h),children:(0,p.jsx)(c.default,{images:m,fetching:o,onClick:t?(e,t)=>{(0,d.logDetailImageClick)({product:(0,f.unproxy)(g),catalogContext:(0,u.getProductCatalogContext)(n)});const o={activeProductImage:t,productImageCollection:g.lazyloadProductImageCollection(),getZoomNode:()=>e,product:g};a.Cmd.productImageViewerModal(o,(0,u.getProductCatalogSessionId)(n))}:null,renderFallback:!t,fallbackMediaData:g.productMsgMediaData})})};var a=o(81572),r=o(67294),l=n(o(56720)),i=o(35461),s=o(27394),c=n(o(98046)),d=o(77975),u=o(97567),f=o(18146),p=o(85893);const h={width:"ln8gz9je"}},65788:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onPopupCancel:t,onReport:o,onTellUsMore:n}=e,d=a.fbt._("Report this product?",null,{hk:"3IDG0p"}),u=(0,c.jsx)("div",{children:a.fbt._("We will review the product and if it does not meet our guidelines, it will be removed.",null,{hk:"2CRdfl"})},"ReportProductChoicePopup-desc"),f=(0,c.jsx)(r.default,{a8nText:"popup-controls-more",type:"secondary",onClick:n,children:a.fbt._("Tell Us More",null,{hk:"2CkelY"})},"ReportProductChoicePopup-moreBtn"),p=(0,c.jsx)(r.default,{a8nText:"popup-controls-report",type:"secondary",onClick:()=>o(),children:a.fbt._("Report Product",null,{hk:"3XLjyb"})},"ReportProductChoicePopup-reportBtn"),h=(0,c.jsx)(r.default,{type:"secondary",onClick:t,children:a.fbt._("Cancel",null,{hk:"H0gNq"})},0),g=(0,c.jsxs)("div",{className:s.default.buttons,children:[(0,c.jsx)("div",{className:s.default.button,children:f}),(0,c.jsx)("div",{className:s.default.button,children:p}),(0,c.jsx)("div",{className:s.default.button,children:h})]});return(0,c.jsx)(l.HotKeys,{handlers:{escape:t},children:(0,c.jsx)(i.Modal,{title:d,actions:g,children:u})})};var a=o(48360),r=n(o(39770)),l=o(29424),i=o(57224),s=n(o(11967)),c=o(85893)},79387:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(94816),r=o(48360),l=o(46331),i=n(o(32973)),s=o(77975),c=o(96519),d=o(48870),u=o(27798),f=n(o(65788)),p=n(o(14819)),h=o(18146),g=o(85893);class m extends i.default{constructor(){var e;super(...arguments),e=this,this._submitReason=e=>{const{product:t,sessionId:o}=this.props;return(0,s.logReportProduct)({product:(0,h.unproxy)(t),catalogSessionId:o}),(0,c.reportProduct)(t.catalogWid,t.id.toString(),e)},this._handleDelete=()=>{this.end()},this._handleReport=e=>{d.QPL.markerStart(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT),this._handleShowSubmittedToast(e)},this._handleTellUsMore=()=>{this.push((0,g.jsx)(p.default,{onTellUsMoreSubmit:this._handleReport,onCancel:this._handleCancel}),"none")},this._handlePopupCancel=()=>{this.end()},this._handleCancel=()=>{this.end()},this._handleReportSubmitted=()=>{this.end()},this._handleShowSubmittedToast=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.genId)();const{product:n,sessionId:i}=e.props,c=e._submitReason(t),f=new l.ActionType(r.fbt._("Reporting product",null,{hk:"4qusYv"})),p=c.then((()=>((0,s.logReportProductSuccess)({product:(0,h.unproxy)(n),catalogSessionId:i}),d.QPL.markerEnd(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,d.QuickLogActionType.SUCCESS),new l.ActionType(r.fbt._("Thanks for your feedback",null,{hk:"1vRsPv"}).toString()+". "+r.fbt._("Your report has now been submitted.",null,{hk:"40tL3T"}).toString())))).catch((()=>((0,s.logReportProductFailure)({product:(0,h.unproxy)(n),catalogSessionId:i}),d.QPL.markerEnd(u.QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,d.QuickLogActionType.FAIL),__LOG__(3)`error submitting product report`,new l.ActionType(r.fbt._("Couldn't report product",null,{hk:"11JN2U"}),{actionText:r.fbt._("Retry",null,{hk:"2jS9Tg"}),actionHandler:()=>e._handleShowSubmittedToast(t,o)}))));return a.ToastManager.open((0,g.jsx)(l.ActionToast,{id:o,initialAction:f,pendingAction:p})),e._handleReportSubmitted(),c}}componentDidMount(){this.push((0,g.jsx)(f.default,{onTellUsMore:this._handleTellUsMore,onReport:this._handleReport,onPopupCancel:this._handlePopupCancel,onCancel:this._handleCancel}))}}t.default=m},14819:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCancel:t,onTellUsMoreSubmit:o}=e,[n,h]=(0,l.useState)(null),g=()=>{null==t||t()},S=e=>{e.target.value&&h(e.target.value)},P=r.fbt._("Tell us more",null,{hk:"2fZHoO"}),x=(0,f.jsx)("div",{className:(0,i.default)(p),children:(0,f.jsx)("ul",{className:(0,i.default)(m),children:C.map((e=>(0,f.jsx)(v,{reason:e,isChecked:n===e,onChange:S},`ReportProductReasonPopup-${e}-option`)))})}),T=(0,f.jsx)(s.default,{a8nText:"popup-controls-submit",type:"primary",onClick:()=>{n?o(n):a.ToastManager.open((0,f.jsx)(u.Toast,{msg:r.fbt._("Please select a reason.",null,{hk:"3UgUaa"}),id:(0,u.genId)()}))},disabled:!n,children:r.fbt._("Submit",null,{hk:"3npRPm"})},"ReportProductReasonPopup-submitButton"),b=(0,f.jsx)(s.default,{type:"secondary",a8nText:"popup-controls-cancel",onClick:g,children:r.fbt._("Cancel",null,{hk:"H0gNq"})},"ReportProductReasonPopup-cancelButton"),y=(0,f.jsxs)("div",{className:(0,i.default)(_),children:[b,T]});return(0,f.jsx)(c.HotKeys,{handlers:{escape:g},children:(0,f.jsx)(d.Modal,{title:P,actions:y,children:x})})};var a=o(94816),r=o(48360),l=o(67294),i=n(o(56720)),s=n(o(39770)),c=o(29424),d=o(57224),u=o(50452),f=o(85893);const p={display:"p357zi0d"},h={display:"p357zi0d",paddingTop:"emrlamx0",paddingEnd:"f9ovudaz",paddingBottom:"aiput80m",paddingStart:"gx1rr48f",cursor:"ajgl1lbb"},g={marginTop:"qt60bha0",marginEnd:"spjzgwxb"},m={position:"g0rxnol2",flex:"a1m9qzja"},_={display:"l7jjieqr"},C=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"];function v(e){let{reason:t,isChecked:o,onChange:n}=e;return(0,f.jsx)("li",{children:(0,f.jsxs)("label",{className:(0,i.default)(h),children:[(0,f.jsx)("input",{type:"radio",name:t,value:t,onChange:n,className:(0,i.default)(g),checked:o}),(0,f.jsx)(S,{reason:t})]})})}function S(e){const{reason:t}=e;switch(t){case"NO_MATCH":return r.fbt._("The pictures or descriptions don't match the item",null,{hk:"2ifaot"});case"SPAM":return r.fbt._("This is spam",null,{hk:"hjxQJ"});case"ILLEGAL":return r.fbt._("This is abusive, harmful or illegal",null,{hk:"3xz9jr"});case"SCAM":return r.fbt._("This is fraud or a scam",null,{hk:"2iFRd8"});case"KNOCKOFF":return r.fbt._("This appears to be a knockoff or counterfeit item",null,{hk:"UiFcs"});case"OTHER":return r.fbt._("Other",null,{hk:"1Kn4LY"});default:throw new Error(`Invalid reason: ${t}`)}}},96222:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{isEditMode:t,catalog:o,subtitle:n,hideIncompleteRows:h,productsToShow:g,businessProfile:m}=e;const _=(0,p.jsx)(f.default,{onViewShopClick:()=>{(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_FROM_EDIT_BIZ_PROFILE)},onCommerceManagerClick:()=>{(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_FROM_EDIT_BIZ_PROFILE)},onCancelClick:()=>{(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_FROM_EDIT_BIZ_PROFILE)}});return(0,p.jsx)(s.default,{onProductDetail:function(e){if(t)l.ModalManager.open(_),(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_PRODUCT_PREVIEW_TILE,{shouldLogJid:!1});else{const t=new URL((0,a.default)(e.url,"product.url"),`https://${c.HOSTNAME.FACEBOOK}`);r.default.open(String(t))}},onProductCatalog:function(){t?(l.ModalManager.open(_),(0,d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_MANAGE_SHOPS)):(0,i.goToShop)(m)},catalog:o,subtitle:n,hideIncompleteRows:h,productsToShow:g,showShopsLogo:!0})};var a=n(o(45095)),r=n(o(79264)),l=o(14597),i=o(94010),s=n(o(42953)),c=o(40875),d=o(67883),u=n(o(11339)),f=n(o(95042)),p=o(85893)},27105:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleGrievanceOfficerDetailsError=t.handleCustomerCareDetailsError=t.getLegalEntityDetails=t.ComplianceInfoStructuralField=t.ComplianceInfoPrimitiveField=t.ComplianceInfoLoading=t.ComplianceInfoHelpCenterBanner=t.ComplianceInfoGroup=void 0;var a=n(o(48926)),r=o(28298),l=o(48360),i=n(o(56720)),s=n(o(62738)),c=o(93581),d=o(83657),u=n(o(35721)),f=n(o(33308)),p=o(12591),h=o(29623),g=n(o(48846)),m=n(o(14296)),_=o(11054),C=o(13923),v=o(85893);const S={fieldLabel:{display:"f804f6gw",lineHeight:"gz7w46tb"},fieldValue:{display:"f804f6gw",wordBreak:"cw3vfol9",whiteSpace:"c2jc77nu"},helpCenterBanner:{fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},displayRight:{textAlign:"cb8ormfa"}},P=()=>l.fbt._("Not Provided",null,{hk:"43OpXI"});t.ComplianceInfoGroup=e=>{let{title:t,children:o}=e;return(0,v.jsx)(f.default,{title:t,xstyle:r.uiPadding.vert8,children:o})};t.ComplianceInfoPrimitiveField=e=>{let{value:t,label:o,forceLTR:n}=e;return(0,v.jsxs)(x,{children:[(0,v.jsx)(y,{value:t,forceLTR:n}),(0,v.jsx)(b,{label:o})]})};t.ComplianceInfoStructuralField=e=>{let{valuesMap:t={},keys:o=[],label:n}=e;const a=o.reduce(((e,o)=>t[o]?e.concat(t[o]):e),[]),r=a.length?a.join(", "):P();return(0,v.jsxs)(x,{children:[(0,v.jsx)(y,{value:r}),(0,v.jsx)(b,{label:n})]})};const x=e=>{let{children:t}=e;return(0,v.jsx)(u.default,{multiline:!0,restrictSpacing:!0,children:(0,v.jsx)("div",{className:(0,i.default)(r.uiPadding.vert8),children:t})})};t.ComplianceInfoLoading=()=>(0,v.jsx)(h.FlexRow,{align:"center",justify:"center",a8nText:"compliance-info-loading",children:(0,v.jsx)(g.default,{children:(0,v.jsx)(_.Spinner,{})})});t.ComplianceInfoHelpCenterBanner=e=>{let{xstyle:t}=e;return(0,v.jsxs)("div",{className:(0,i.default)(S.helpCenterBanner,t),"data-testid":"compliance-help-center-banner",children:[l.fbt._("Indian law requires additional information from businesses selling online.",null,{hk:"1zuHU2"})," ",(0,v.jsx)(p.ExternalLink,{href:"https://faq.whatsapp.com/general/account-and-profile/how-to-comply-with-the-laws-for-selling-online-in-India",children:l.fbt._("Learn more",null,{hk:"1JNnQ1"})})]})};const T=function(){var e=(0,a.default)((function*(e){const t=(e=>(Array.isArray(e)?e[0]:e).serialize())(yield c.BusinessProfileCollection.update(e,{getMerchantCompliance:!0}));if(t)return t.legalEntityDetails||void 0;__LOG__(3)`compliance: cannot fetch business details (${e.toString()})`}));return function(){return e.apply(this,arguments)}}();t.getLegalEntityDetails=T;const b=e=>{let{label:t}=e;return(0,v.jsx)("div",{className:(0,i.default)(S.fieldLabel),"data-testid":"compliance-info-field-label",children:(0,v.jsx)(C.TextSpan,{theme:"muted",children:t})})},y=e=>{let{value:t,forceLTR:o=!1}=e;const n=m.default.isRTL();return(0,v.jsx)("div",{className:(0,i.default)(S.fieldValue,r.uiMargin.vert3,n&&o&&S.displayRight),dir:o||!n?"ltr":"rtl","data-testid":"compliance-info-field-value",children:t||P()})};t.handleCustomerCareDetailsError=(e,t,o,n)=>{(0,d.existsCustomerCareDetailsContact)(e,t,o,n)||(0,s.default)(l.fbt._("At least one phone number is required. Please provide another phone number before removing this.",null,{hk:"2LGoJd"}))};t.handleGrievanceOfficerDetailsError=(e,t,o,n)=>{(0,d.existsGrievanceOfficerDetailsContact)(e,t,o,n)||(0,s.default)(l.fbt._("At least one contact method is required. Please provide another contact method first before removing this.",null,{hk:"NXBiy"}))}},98046:(e,t,o)=>{"use strict";var n=o(59182).default,a=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{images:t,renderFallback:o,fallbackMediaData:a,fetching:d,onClick:v}=e,S=(0,c.useRef)(null),P=(0,c.useRef)(null),x=(0,c.useRef)(null),T=(0,c.useRef)(null),b=(0,c.useRef)(null),[y,k]=(0,c.useState)(null),[I,j]=(0,c.useState)(t.filter((e=>e.mediaData.mediaStage===h.MEDIA_DATA_STAGE.RESOLVED)).length),[E,O]=(0,c.useState)(!1),A=I===t.length,L=()=>j((e=>e+1));(0,c.useEffect)((()=>{let e=null;if(!A&&!o){var t,a;const o=P.current;if(!o)return;null===(t=x.current)||void 0===t||t.controller.abort(),e=new n;const s=e.signal,c=((null===(a=x.current)||void 0===a?void 0:a.promise)||Promise.resolve()).then((()=>(0,i.default)(o,{opacity:[1,0]},{delay:75,duration:50}))),d=(0,l.default)(c,s).then((()=>{if(s.aborted)throw new r.AbortError;O(!0)})).catch((0,r.catchAbort)((()=>{(0,i.default)(o,"stop",!0)}))).finally((()=>{x.current=null}));x.current={promise:d,controller:e}}return()=>{var t;null===(t=e)||void 0===t||t.abort()}}),[A,o]);const w=()=>{var e;return(null===(e=S.current)||void 0===e?void 0:e.children)?S.current.scrollWidth===S.current.offsetWidth?null:0===S.current.scrollLeft?"next":S.current.scrollWidth-1<=S.current.scrollLeft+S.current.offsetWidth?"prev":"both":null};if((0,c.useEffect)((()=>{k(w())}),[A]),o&&0===t.length)return(0,C.jsx)("div",{className:f.default.carousel,dir:"ltr",children:(0,C.jsx)("div",{className:(0,s.default)(f.default.contentContainer,f.default.slidesContainer),children:a&&(0,C.jsx)(p.default,{altText:"",mediaData:a,renderFallback:!0,singleSlide:!0})})});let M,N,R;const D=()=>{T.current=null;const e=w();y!==e&&k(e)};if(t.length>1){const e=()=>{const e=S.current;if(null!=e&&("prev"===y||"both"===y)){let t=0;const o=e.scrollLeft+Math.floor(e.offsetWidth/2);let n=e.lastElementChild;for(;n instanceof HTMLElement&&0===t;){const e=n.offsetLeft+Math.floor(n.offsetWidth/2);e<o&&(t=e-o),n=n.previousElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},t=()=>{const e=S.current;if(null!=e&&("next"===y||"both"===y)){let t=0;const o=e.scrollLeft+Math.floor(e.offsetWidth/2);let n=e.firstElementChild;for(;n instanceof HTMLElement&&0===t;){const e=n.offsetLeft+Math.floor(n.offsetWidth/2);o<e&&(t=e-o),n=n.nextElementSibling}0!==t&&e.scrollBy({left:t,behavior:"smooth"})}},o=()=>{b.current=null;const e=w();y!==e&&k(e)};R=()=>{null==b.current&&(b.current=requestAnimationFrame(o))},A&&null!=y&&(M=(0,C.jsx)(u.ChevronButton,{type:u.ButtonType.Prev,onClick:e,onKeyDown:e,disabled:"prev"!==y&&"both"!==y,theme:m.RoundTheme.Small,overMedia:!0}),N=(0,C.jsx)(u.ChevronButton,{type:u.ButtonType.Next,onClick:t,onKeyDown:t,disabled:"next"!==y&&"both"!==y,theme:m.RoundTheme.Small,overMedia:!0}))}const B=1===t.length,F=t.map(((e,t)=>(0,C.jsx)(p.default,{altText:"",image:e,singleSlide:B,mediaData:e.mediaData,onClick:v,onLoad:L},t))),W=A?null:(0,C.jsx)("div",{className:(0,s.default)(f.default.contentContainer,f.default.spinnerContainer),children:(0,C.jsx)("div",{className:f.default.spinner,ref:P,children:(0,C.jsx)(_.Spinner,{color:"default",size:50,stroke:4})})}),H=(0,s.default)(f.default.carousel,{[f.default.loaded]:!d&&A,[f.default.fadeIn]:E});return(0,C.jsxs)("div",{className:H,dir:"ltr",children:[W,(0,C.jsx)("div",{ref:S,className:(0,s.default)(f.default.contentContainer,f.default.slidesContainer),onScroll:R,children:F}),M,N,(0,C.jsx)(g.default,{onResize:()=>{null==T.current&&(T.current=requestAnimationFrame(D))}})]})};var r=o(89385),l=a(o(47259)),i=a(o(62831)),s=a(o(94184)),c=o(67294),d=a(o(30523)),u=o(61991),f=a(o(55140)),p=a(o(98491)),h=o(58668),g=a(o(8694)),m=o(82857),_=o(11054),C=o(85893);d.default.polyfill()},98491:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(67294),r=o(35461),l=n(o(57246)),i=o(58668),s=o(85893);var c=e=>{let{mediaData:t,altText:o,image:n,singleSlide:c,renderFallback:d,onClick:u,onLoad:f,forwardRef:p}=e;const{fullHeight:h,fullWidth:g,mediaStage:m,renderableUrl:_}=(0,r.useModelValues)(t,["fullHeight","fullWidth","mediaStage","renderableUrl"]),C=(0,a.useRef)(null),v=(0,a.useRef)(m===i.MEDIA_DATA_STAGE.RESOLVED);(0,a.useEffect)((()=>{!f||v.current||d||m!==i.MEDIA_DATA_STAGE.RESOLVED||(f(),v.current=!0)}),[f,d,m]);const S=!!c;let P=g&&h?g/h:.8;P<.8&&(P=.8),P>1.91&&(P=1.91),P>1&&!S&&(P=1);const x={width:S&&P<1?100*P+"%":1!==P||c?null:"100%"},T={paddingTop:`${Math.floor(100/P)}%`},b={cursor:""+(u?"pointer":"auto")};return(0,s.jsx)("div",{ref:p?e=>p(e):null,className:l.default.slide,style:x,children:(0,s.jsx)("div",{className:l.default.slideInnerContainer,style:T,children:(0,s.jsx)("img",{ref:C,alt:o,src:_,className:l.default.image,style:b,draggable:"false",onClick:()=>{u&&C.current&&n&&u(C.current,n)}})})})};t.default=c},60263:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyCanvas=p,t.MediaGalleryView=function(e){const{mediaCollection:t,fullCollection:o,chat:n,onScroll:l,justify:s}=e,d=e.medias||e.productMedias,g="chat-info"===e.theme;if(!d)return null;let m=(0,r.default)(c.default.container,{[c.default.drawer]:o,[c.default.galleryEmpty]:0===t.length,[c.default.justifySpaceBetween]:"space-between"===s,[c.default.themeChatInfo]:g}),_=[...d];if(t.queryMediaBefore&&(o||_.length<6)){const e=(0,r.default)(c.default.more,c.default.canvasComponent,{[c.default.canvasSecondRow]:!o&&_.length>=3,[c.default.canvasFirst]:0===t.length});_.push((0,f.jsx)("div",{className:e,children:(0,f.jsx)(u.Spinner,{stroke:6,size:24})},"spinner"))}if(0===t.length){if(o)return t.queryMediaBefore?(0,f.jsx)("div",{className:(0,r.default)(c.default.drawer,c.default.drawerBody),children:(0,f.jsx)(i.Loading,{})}):(0,f.jsx)(i.MediaMsgs,{});if(g)return null;t.queryMediaBefore||t.hasMediaBefore||(m=(0,r.default)(m,c.default.galleryEmpty),_=[h(Math.max(n?n.docCount:0,0),Math.max(n?n.linkCount:0,0),Math.max(n?n.productCount:0,0))])}else for(let e=0;e<6;e++)_.push((0,f.jsx)(p,{},"empty"+e));return(0,f.jsx)("div",{onScroll:l,"data-a8n":a.default.key("media-gallery"),className:m,children:_})};var a=n(o(99964)),r=n(o(94184)),l=o(48360),i=o(85600),s=n(o(14296)),c=n(o(70764)),d=o(64551),u=o(11054),f=o(85893);function p(){return(0,f.jsx)("div",{className:c.default.canvasEmpty})}function h(e,t,o){const n=[];return null!=e&&e>0&&n.push(s.default.t(298,{count:e,_plural:e})),null!=t&&t>0&&n.push(s.default.t(449,{count:t,_plural:t})),d.ServerProps.productMediaAttachments&&null!=o&&o>0&&n.push(s.default.t(600,{count:o,_plural:o})),n.length>0?n.join(s.default.t(307)):d.ServerProps.productMediaAttachments?l.fbt._("No Media, Links, Docs and Products",null,{hk:"3RKA8T"}):l.fbt._("No Media, Links and Docs",null,{hk:"226fK3"})}},10595:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerDetailsStickerPackInfo=function(e){const{name:t,publisher:o,theme:n}=e;return(0,l.jsxs)(r.TextDiv,{theme:"plain",xstyle:[i.container,n===s.StickerStore&&i.stickerStore,n===s.MediaViewer&&i.mediaViewer],children:[t&&(0,l.jsx)(a.EmojiText,{xstyle:i.name,text:t}),t&&o&&(0,l.jsx)(a.EmojiText,{text:" • "}),o&&(0,l.jsx)(a.EmojiText,{text:o})]})},t.Theme=void 0;n(o(56720));var a=o(65417),r=o(13923),l=o(85893);const i={container:{color:"hp667wtd",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",textAlign:"qfejxiq4"},stickerStore:{marginBottom:"e2xccmyv"},mediaViewer:{marginBottom:"r2u2pyhj"},name:{fontSize:"enbbiyaj",lineHeight:"l85iiqla",color:"tl2vja3b"}},s=o(76672).Mirrored(["StickerStore","MediaViewer"]);t.Theme=s},35400:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{catalog:t,onSend:o}=e,n=(0,i.createCatalogLink)(t.id.user),c=t.id.equals((0,a.getMaybeMeUser)())?`${r.fbt._("Follow this link to view our catalog on WhatsApp:",null,{hk:"1bmMoC"}).toString()} ${n}`:n;return(0,s.jsx)(l.default,{text:c,onSend:o})};var a=o(78820),r=o(48360),l=n(o(24158)),i=o(82482),s=o(85893)},61266:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,onSend:o}=e,n=(0,i.createProductLink)(t.catalogWid.user,t.id.toString()),c=t.catalogWid.equals((0,a.getMaybeMeUser)())?`${r.fbt._("Follow this link to view our item on WhatsApp:",null,{hk:"H5KuN"}).toString()} ${n}`:n;return(0,s.jsx)(l.default,{text:c,onSend:o})};var a=o(78820),r=o(48360),l=n(o(24158)),i=o(82482),s=o(85893)},24158:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,o]=(0,d.useFlow)(v.Select,{pushTransition:"none",popTransition:"none"}),n=(0,c.useRef)([]),S=(0,c.useRef)([]),P=function(){var e=(0,a.default)((function*(e){e.isUser&&e.contact.isBlocked()&&(yield(0,u.unblockContact)(e.contact))}));return function(){return e.apply(this,arguments)}}();if(null==o.step)return null;let x;switch(o.step){case v.Select:const t=function(){var e=(0,a.default)((function*(e,t){yield P(e),e.active?f.ComposeBoxActions.paste(e,t):(e.setComposeContents({text:t}),r.Cmd.openChatFromUnread(e).then((t=>{t&&f.ComposeBoxActions.focus(e)})))}));return function(){return e.apply(this,arguments)}}(),c=function(){var n=(0,a.default)((function*(n){if(S.current=n,1===n.length){const a=n[0];yield t(a,e.text),o.end(),window.innerWidth<=i.LAYOUT_2COLUMNS_MAX_WIDTH&&l.DrawerManager.closeDrawerRight()}else o.push(v.TextMessage);e.onSend&&e.onSend()}));return function(){return n.apply(this,arguments)}}();x=(0,C.jsx)(p.SelectModal,{title:e.title||s.fbt._("Send message to",null,{hk:"2kkuQs"}),listType:p.ListType.CHAT_SELECT_MODAL,getInitialItems:()=>n.current,maxItems:m.ServerProps.multicastLimitGlobal,onConfirm:c,onCancel:()=>o.end(),onSelectionChanged:(e,t,o)=>{n.current=o},singleSelectionFooterType:h.FooterType.NEXT,multipleSelectionFooterType:h.FooterType.NEXT});break;case v.TextMessage:const d=(e,t,n)=>{e.forEach(function(){var e=(0,a.default)((function*(e){yield P(e),r.Cmd.once("ui_idle",(()=>{(0,g.sendTextMsgToChat)(e,t,{linkPreview:n})}))}));return function(){return e.apply(this,arguments)}}()),o.end()};x=(0,C.jsx)(_.default,{defaultText:e.text,title:e.title||s.fbt._("Send message to",null,{hk:"2kkuQs"}),onSend:(e,t)=>d(S.current,e,t),onBack:()=>o.pop()})}return(0,C.jsx)(t,{flow:o,children:x})};var a=n(o(48926)),r=o(81572),l=o(41455),i=o(41906),s=o(48360),c=o(67294),d=o(59083),u=o(80140),f=o(88172),p=o(56728),h=o(18963),g=o(5524),m=o(64551),_=n(o(9031)),C=o(85893);const v=o(76672).Mirrored(["Select","TextMessage"])},29929:(e,t,o)=>{"use strict";var n=o(59182).default,a=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findFirstWebLink=void 0,t.useLinkPreview=function(e,t){const[o,a]=(0,u.useState)(null),c=()=>{a(null)};return(0,u.useEffect)((()=>{if(c(),!e)return;const o=new n,d=o.signal;return(0,l.default)((function*(){try{const o=yield(0,s.default)((0,h.default)(e,!0),d),n=null==o?void 0:o.data;if(!n)return;if(a(n),!n.thumbnailHQ)return;const l=yield function(){return S.apply(this,arguments)}(n.thumbnailHQ,d,t);if(!l)return;a((0,r.default)((0,r.default)({},n),l))}catch(e){if(e.name===i.ABORT_ERROR)return;__LOG__(2)`useLinkPreview: error`}}))(),()=>{o.signal.aborted||o.abort()}}),[e,t]),{linkPreview:o,clearLinkPreview:c}};var r=a(o(81109)),l=a(o(48926)),i=o(89385),s=a(o(47259)),c=a(o(64369)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=v(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,o&&o.set(e,n);return n}(o(95726)),u=o(67294),f=o(4841),p=a(o(46220)),h=a(o(19146)),g=o(61596),m=a(o(34949)),_=a(o(15554)),C=a(o(74460));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(v=function(e){return e?o:t})(e)}function S(){return(S=(0,l.default)((function*(e,t,o){try{const n=yield(0,s.default)(m.default.createFromBase64Jpeg(e),t),a=yield(0,C.default)({thumbnail:n,mediaType:g.MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:(0,_.default)(),uploadOrigin:(0,p.default)(o),forwardedFromWeb:!1,signal:t,timeout:c.default.MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}),r=a.mediaEntry;if(!r)return;return{mediaKey:r.mediaKey,mediaKeyTimestamp:r.mediaKeyTimestamp,thumbnailDirectPath:r.directPath,thumbnailSha256:a.filehash,thumbnailEncSha256:r.encFilehash}}catch(e){if(e.name===i.ABORT_ERROR)return;__LOG__(2)`useLinkPreview.uploadHQPreview: error`}}))).apply(this,arguments)}t.findFirstWebLink=e=>{const t=(0,f.removeCodeBlocks)(e),o=d.findLinks(t,!0)[0];if(o)return o}},97067:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,o]=(0,n.useState)(e);return{value:t,set:o,toggle:(0,n.useCallback)((()=>o((e=>!e))),[]),setTrue:(0,n.useCallback)((()=>o(!0)),[]),setFalse:(0,n.useCallback)((()=>o(!1)),[])}};var n=o(67294)},68419:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{value:o,set:n,setTrue:l,setFalse:i}=(0,r.default)(!1),s=(0,a.useCallback)((t=>{l(),null!=e&&e(t)}),[l,e]),c=(0,a.useCallback)((e=>{i(),null!=t&&t(e)}),[i,t]);return{isHovered:o,onMouseEnter:s,onMouseLeave:c,setIsHovered:n}};var a=o(67294),r=n(o(97067))},62921:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(99964)),r=o(48360),l=o(67294),i=n(o(56720)),s=o(35461),c=o(16593),d=n(o(60453)),u=n(o(69637)),f=o(94790),p=o(92052),h=o(13923),g=o(85893);const m={display:"p357zi0d",marginTop:"ignnouf6",marginEnd:"poiibwu2",marginBottom:"du8bjn1j",marginStart:"dl2ettod",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp"},_={marginEnd:"spjzgwxb"};function C(e,t){const{settings:o,onClose:n}=e,{archive:l}=(0,s.useModelValues)(o,["archive"]),C=!l.classic;return(0,g.jsxs)(d.default,{ref:t,children:[(0,g.jsx)(f.DrawerHeader,{title:r.fbt._("Archive settings",null,{hk:"1YI0jC"}),type:f.DRAWER_HEADER_TYPE.LARGE,onBack:n}),(0,g.jsx)(u.default,{children:(0,g.jsxs)("div",{className:(0,i.default)(m),children:[(0,g.jsx)("div",{"data-a8n":a.default.key("auto-unarchive-setting"),className:(0,i.default)(_),children:(0,g.jsx)(c.CheckBox,{onChange:()=>{const e=!l.classic;(0,p.setArchiveClassicSetting)(e)},checked:C})}),(0,g.jsxs)("div",{"data-a8n":a.default.key("auto-unarchive-setting-text"),children:[r.fbt._("Keep chats archived",null,{hk:"IqSCS"}),(0,g.jsx)(h.TextDiv,{theme:"muted",children:r.fbt._("Archived chats will remain archived when you receive a new message",null,{hk:"jrtLe"})})]})]})})]})}var v=(0,l.forwardRef)(C);t.default=v},5970:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{collection:t}=e,[o,n]=(0,d.useState)(!1),[S,P]=(0,d.useState)(!1),[x,T]=(0,d.useState)(""),b=()=>{i.ModalManager.close()};if(S)return(0,v.jsx)(f.default,{title:c.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:b,children:(0,v.jsx)(m.TextDiv,{children:c.fbt._("We will review the collection and if it meets our guidelines, it will be added to your catalog.",null,{hk:"y5vML"})})});const y=x.length<1||o;return(0,v.jsx)(f.default,{title:c.fbt._("Request review",null,{hk:"1Rp2pL"}),onOK:()=>{n(!0);let e=!0;h.QPL.markerStart(g.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL),(0,u.handleCollectionAppeal)(t,x).then((()=>{n(!1),P(!0),e=!1,h.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,h.QuickLogActionType.SUCCESS)})).catch((0,a.filteredCatch)(r.ServerStatusCodeError,(()=>{s.ToastManager.open((0,v.jsx)(C.Toast,{msg:c.fbt._("Something went wrong and your request wasn't submitted. Try again.",null,{hk:"3sAwQH"}),id:(0,C.genId)("catalog_collection_appeal_submission_failed")})),n(!1)}))).finally((()=>{e&&h.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_COLLECTION_APPEAL,h.QuickLogActionType.FAIL)}))},onCancel:b,okDisabled:y,children:(0,v.jsxs)("form",{children:[(0,v.jsx)(_.TextInput,{a8n:"confirm-popup-text-input",placeholder:c.fbt._("Enter reason for this request...",null,{hk:"3U5nE7"}),onChange:e=>{T(e)},value:x,maxLength:1e3}),(0,v.jsx)(p.ExternalLink,{href:l.default.WA_COMMERCE_POLICY_URL,children:c.fbt._("Learn More",null,{hk:"FZuUT"})})]})})};var a=o(50796),r=o(92574),l=n(o(64369)),i=o(14597),s=o(94816),c=o(48360),d=o(67294),u=o(47217),f=n(o(52665)),p=o(12591),h=o(48870),g=o(27798),m=o(13923),_=o(90011),C=o(50452),v=o(85893)},62738:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(14597),r=o(48360),l=n(o(52665)),i=o(85893);var s=e=>{a.ModalManager.open((0,i.jsx)(l.default,{okText:r.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>a.ModalManager.close(),children:e}))};t.default=s},13712:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=new l.CoolOffNux(m,C,{COOL_OFF_START_STORAGE_KEY:r.CoolOffPeriodKeys.CATALOG,MAX_VIEWS_IN_DAYS:1,COOL_OFF_DURATION_IN_DAYS:1});if(e.shouldShow()){const t=(0,g.jsx)(c.default,{onOK:()=>{e.dismiss(),a.ModalManager.close()},children:(0,g.jsxs)(d.FlexColumn,{align:"center",children:[(0,g.jsx)(u.default,{xstyle:_.graphic,children:(0,g.jsx)(p.default,{name:"cart-interstitial-graphic"})}),(0,g.jsx)(h.TextHeader,{theme:"popup-title",children:i.fbt._("New: Add to Cart",null,{hk:"34ysyY"})}),(0,g.jsx)(h.TextParagraph,{color:"secondary",className:s.default.description,children:i.fbt._("Simpler for you to keep track of order inquiries, manage requests, and close sales.",null,{hk:"25ZM2y"})})]})});a.ModalManager.open(t),e.show(),e.startCoolOffToday()}};var a=o(14597),r=o(71579),l=o(95670),i=o(48360),s=(n(o(56720)),n(o(31907))),c=n(o(52665)),d=o(29623),u=n(o(48846)),f=n(o(11339)),p=n(o(23217)),h=o(13923),g=o(85893);const m=r.NuxKeyTypes.COOL_OFF_NUX.CART_INTERSTITIAL,_={graphic:{marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",color:"bc38n4nm"}},C=f.default.BANNER_TYPES.SMB_CATALOG_CART_INTERSTITIAL},92351:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onOpenCollections:t}=e;const[o,n]=(0,r.useState)(!1),u=i.CatalogCollection.get((0,a.getMeUser)());return(0,l.useListener)(null==u?void 0:u.collections,"change",(()=>{n(!0)})),o&&(0,d.jsx)(c.default,{children:(0,d.jsx)(s.default,{onClick:t})})};var a=o(78820),r=o(67294),l=o(87550),i=o(99989),s=n(o(31502)),c=n(o(26293)),d=o(85893)},31502:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(71579),r=o(95670),l=o(78820),i=o(48360),s=o(57849),c=o(99989),d=n(o(22235)),u=o(17239),f=n(o(95993)),p=n(o(11339)),h=n(o(25550)),g=o(85893);const m=a.NuxKeyTypes.COOL_OFF_NUX.COLLECTIONS,_={COOL_OFF_DURATION_IN_DAYS:2,VIEWS_BEFORE_COOL_OFF_IN_DAYS:1,CLICKS_BEFORE_COOL_OFF:1,MAX_VIEWS_IN_DAYS:2,COOL_OFF_START_STORAGE_KEY:a.CoolOffPeriodKeys.CATALOG};class C extends h.default{render(){const{onClick:e}=this.props,t=new r.CoolOffNux(m,p.default.BANNER_TYPES.SMB_COLLECTION_CREATION,_),o=(0,g.jsx)("span",{className:d.default.actionText,children:i.fbt._("Get started",null,{hk:"m7Zf5"})});return(0,g.jsx)(f.default,{title:i.fbt._("Create new collection",null,{hk:"19zBCQ"}),subtitle:i.fbt._("Group items into collections to stay organized.",null,{hk:"1sDPK6"}),actionText:o,onClick:e,nuxManager:t,theme:"nuxBlue"})}static shouldShow(){return(0,s.getABPropConfigValue)("web_abprop_collections_nux_banner")&&u.Conn.isSMB&&function(){const e=c.CatalogCollection.get((0,l.getMeUser)());if(null==e||null==e.collections)return!1;const t=e.collections.getCollectionModels(!0);return e.productCollection.getProductModels(!0).some((e=>!e.isHidden&&"REJECTED"!==e.reviewStatus))&&0===t.length}()&&(0,r.shouldShowNUX)(m,_)}}t.default=C,C.displayName="CollectionsBanner"},23358:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(r.default,{a8nText:"li-share-link",icon:(0,s.jsx)(i.default,{name:"forward",className:l.default.icon}),onClick:e.onClick,children:a.fbt._("Send product",null,{hk:"1wkzue"})})};var a=o(48360),r=n(o(64738)),l=n(o(37295)),i=n(o(23217)),s=o(85893)},32166:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{coverPhoto:t,signal:o}=e,[n,g]=(0,i.useState)(!1);return(0,h.jsx)(f.PhotoPickerLoadable,{type:p.default.COVER_PHOTO,pending:n,readOnly:!1,onImageSet:(e,n)=>{if(g(!0),null==n)return void((null==t?void 0:t.id)&&(0,d.deleteCoverPhoto)(t.id).finally((()=>{g(!1),(0,u.logRemoveCoverPhoto)()})));const i=(0,r.dataURLtoBlob)(n);(0,c.calculateFilehashFromBlob)(i).then((e=>{(0,s.uploadBizCoverPhoto)(i,e,o).then((e=>{o.aborted||((0,d.setCoverPhoto)(e.id,e.ts,e.metaHmac),(0,u.logEditCoverPhoto)())})).catch((0,a.filteredCatch)(l.HttpInvalidResponseError,(()=>{__LOG__(3)`BizCoverPhotoPicker: failed to upload cover photo`}))).catch((()=>{__LOG__(4,void 0,new Error,!0)`BizCoverPhotoPicker: unexpected error uploading cover photo`,SEND_LOGS("biz_cover_photo_upload")})).finally((()=>{g(!1)}))}))},attachToChat:!1,startImage:null==t?void 0:t.url,theme:"coverPhoto"})};var a=o(50796),r=o(41931),l=o(23082),i=o(67294),s=o(7749),c=o(18309),d=o(84548),u=o(30426),f=o(33646),p=n(o(43556)),h=o(85893)},39902:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{a8nText:t,icon:o,iconWidth:n,iconHeight:u,label:f,disabled:p,xstyle:h,onClick:g}=e;const{isHovered:m,onMouseEnter:_,onMouseLeave:C}=function(){const[e,t]=(0,a.useState)(!1),o=(0,a.useCallback)((()=>{t(!0)}),[]),n=(0,a.useCallback)((()=>{t(!1)}),[]);return{isHovered:e,onMouseEnter:o,onMouseLeave:n}}(),v=(0,c.jsx)(i.default,{name:o,directional:!0,color:"teal",width:n,height:u});return(0,c.jsxs)("div",{className:(0,r.default)(d.button,p&&d.disabled,h),onMouseEnter:_,onMouseLeave:C,children:[(0,c.jsx)(l.Round,{inverted:!0,onClick:g,disabled:p,a8nText:t,hideBackground:p||!m,children:v}),(0,c.jsx)(s.default,{xstyle:d.label,disabled:p,a8nText:t,onClick:g,children:f})]})};var a=o(67294),r=n(o(56720)),l=o(82857),i=n(o(23217)),s=n(o(1784)),c=o(85893);const d={button:{textAlign:"qfejxiq4"},label:{marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",fontSize:"ovllcyds",marginTop:"qt60bha0",color:"jq3rn4u7"},disabled:{opacity:"ge6flnsz"}}},57501:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCatalogClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_CATALOG_ICON,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logCoverPhotoView=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_COVER_PHOTO_IMPRESSION,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logEmailClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_EMAIL,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logForwardClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_FORWARD,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logHoursClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_HOURS,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logLinkedAccountImpression=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_APP_IMPRESSION,linkedAccount:t,catalogSessionId:e,isProfileLinked:!0,hasCoverPhoto:o})},t.logLinkedFbClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_APP_LINK,linkedAccount:l.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.FACEBOOK,catalogSessionId:e,bizFbSize:s(t),isProfileLinked:!0,hasCoverPhoto:o})},t.logLinkedIgClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_APP_LINK,linkedAccount:l.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.INSTAGRAM,catalogSessionId:e,bizIgSize:s(t),isProfileLinked:!0,hasCoverPhoto:o})},t.logLocationClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_LOCATION,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logMessageClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_MESSAGE,catalogSessionId:e,hasCoverPhoto:o})},t.logProfileExit=function(e,t,o,n){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_EXIT,catalogSessionId:e,scrollDepth:t,isProfileLinked:o,hasCoverPhoto:n})},t.logProfileImpression=function(e,t,o,n){(0,r.smbBizProfileLoggingEnabled)()?new l.default.ViewBusinessProfile({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,catalogSessionId:e,profileEntryPoint:t,isProfileLinked:o,hasCoverPhoto:n}).commit():new l.default.ViewBusinessProfile({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,catalogSessionId:e,isProfileLinked:o,hasCoverPhoto:n}).commit()},t.logShopsClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_SHOPS_ICON,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logStatusClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_STATUS,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logVoiceCallClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_VOICE_CALL,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})},t.logWebsiteClick=function(e,t,o){i({viewBusinessProfileAction:l.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_CLICK_WEBSITE,catalogSessionId:e,isProfileLinked:t,hasCoverPhoto:o})};var a=n(o(81109)),r=o(8139),l=n(o(11339));function i(e){const t=new l.default.ViewBusinessProfile((0,a.default)((0,a.default)({},e),{},{isProfileLinked:!!e.isProfileLinked}));t&&t.commit()}function s(e){return e>1e6?l.default.TRUST_SIGNAL_BUCKETS.B1M:e>=1e5?l.default.TRUST_SIGNAL_BUCKETS.B100K:e>=1e4?l.default.TRUST_SIGNAL_BUCKETS.B10K:e>=1e3?l.default.TRUST_SIGNAL_BUCKETS.B1K:e>=501?l.default.TRUST_SIGNAL_BUCKETS.B501:e>=101?l.default.TRUST_SIGNAL_BUCKETS.B101:e>=51?l.default.TRUST_SIGNAL_BUCKETS.B51:e>=11?l.default.TRUST_SIGNAL_BUCKETS.B11:e>=2?l.default.TRUST_SIGNAL_BUCKETS.B2:1===e?l.default.TRUST_SIGNAL_BUCKETS.B1:l.default.TRUST_SIGNAL_BUCKETS.B0}},41470:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{text:t,secondary:o,icon:n,href:p,linkedAccountType:h,onClick:g,rowTheme:m,hasCoverPhoto:_}=e,C=(0,f.jsx)(u.default,{name:n}),v=(0,r.useContext)(s.DrawerContext),S=(0,c.getProductCatalogSessionId)(v);return(0,r.useEffect)((()=>{(0,l.logLinkedAccountImpression)(S,h,_)}),[S,h,_]),(0,f.jsx)(i.default,{image:C,primary:t,secondary:o,theme:m,idle:void 0===p,onClick:()=>{if(void 0!==p){const e=(0,d.getWebsiteLink)(p);a.default.open(e),null==g||g()}}})};var a=n(o(79264)),r=o(67294),l=o(57501),i=n(o(44356)),s=o(27394),c=(n(o(11339)),o(97567)),d=o(26316),u=n(o(23217)),f=o(85893)},35580:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var a=o(48360),r=o(67294),l=(n(o(56720)),o(35461)),i=o(57501),s=o(27394),c=n(o(33308)),d=o(65417),u=n(o(41470)),f=n(o(11339)),p=o(97567),h=o(85893);const g={infoText:{fontSize:"dsh4tgtl",lineHeight:"jgi8eev7",color:"t35qvd06",paddingStart:"rtas09xs",paddingEnd:"hmmjlwtp",display:"f804f6gw",paddingBottom:"p9a4hubg"}};function m(e){const{showEditHint:t,businessProfile:o,sectionTheme:n,rowTheme:m}=e,{fbPage:_,igProfessional:C}=(0,l.useModelValues)(o,["fbPage","igProfessional"]),v=(0,p.getProductCatalogSessionId)((0,r.useContext)(s.DrawerContext)),S=[];if(null==_?void 0:_.displayName){const e=_.likes?a.fbt._({"*":"Facebook • {count} Likes",_1:"Facebook • 1 Like"},[a.fbt._plural(_.likes,"count")],{hk:"4fuveG"}):a.fbt._("Facebook",null,{hk:"2PcUTa"});S.push((0,h.jsx)(u.default,{icon:"logo-facebook-round",text:_.displayName,secondary:e,href:`https://www.facebook.com/${_.id}`,rowTheme:m,onClick:()=>{(0,i.logLinkedFbClick)(v,_.likes,!!o.coverPhoto)},linkedAccountType:f.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.FACEBOOK,hasCoverPhoto:!!o.coverPhoto},"fb"))}if(null==C?void 0:C.handle){const e=C.followers?a.fbt._({"*":"Instagram • {count} Followers",_1:"Instagram • 1 Follower"},[a.fbt._plural(C.followers,"count")],{hk:"4gGhJG"}):a.fbt._("Instagram",null,{hk:"4kjnWv"});S.push((0,h.jsx)(u.default,{icon:"logo-instagram-color",text:`@${C.handle}`,secondary:e,href:`https://www.instagram.com/${C.handle}`,rowTheme:m,onClick:()=>{(0,i.logLinkedIgClick)(v,C.followers,!!o.coverPhoto)},linkedAccountType:f.default.BUSINESS_TOOLS_LINKED_ACCOUNT_TYPE.INSTAGRAM,hasCoverPhoto:!!o.coverPhoto},"ig"))}if(0===S.length)return null;let P;if(!0===t){const e=a.fbt._("Facebook and Instagram handles can only be edited from the app on your mobile device.",null,{hk:"3JNYRt"});P=(0,h.jsx)(d.EmojiText,{xstyle:g.infoText,text:e.toString()})}return(0,h.jsxs)(c.default,{theme:n,children:[S.map((e=>e)),P]})}m.defaultProps={sectionTheme:"no-padding",rowTheme:"linked-account"}},62664:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleTooFewGroups=t.handleRemoveGroup=void 0;var a=n(o(48926)),r=o(14597),l=o(48360),i=n(o(52665)),s=n(o(57987)),c=o(85893);const d=e=>{r.ModalManager.open((0,c.jsx)(i.default,{onOK:()=>r.ModalManager.close(),title:l.fbt._("Cannot remove group from community",null,{hk:"3AsH6T"}),children:l.fbt._('A community must have at least 1 group. You can remove "{group_title}" after adding another group to this community.',[l.fbt._param("group_title",e)],{hk:"3v1qFO"})}))};t.handleTooFewGroups=d;const u=function(){var e=(0,a.default)((function*(e,t,o,n){1===t?d(n):yield(0,s.default)(e,[o])}));return function(){return e.apply(this,arguments)}}();t.handleRemoveGroup=u},26609:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{elementId:t,onClick:o}=e;return document.queryCommandSupported("copy")?(0,d.jsx)(i.default,{a8nText:"li-copy-link",icon:(0,d.jsx)(s.default,{name:"copy",xstyle:u.icon}),onClick:()=>function(e,t){(0,a.default)(e)?r.ToastManager.open((0,d.jsx)(c.Toast,{msg:l.fbt._("Link copied to clipboard.",null,{hk:"2d44NZ"}),id:(0,c.genId)()})):r.ToastManager.open((0,d.jsx)(c.Toast,{msg:l.fbt._("Couldn't copy to clipboard. Copy using mouse or keyboard.",null,{hk:"4aKgWx"}),id:(0,c.genId)()}));null!=t&&t()}(t,o),children:l.fbt._("Copy link",null,{hk:"2ZtjA3"})}):null};var a=n(o(39311)),r=o(94816),l=o(48360),i=(n(o(56720)),n(o(64738))),s=n(o(23217)),c=o(50452),d=o(85893);const u={icon:{color:"rahkaw8d"}}},25653:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(88555),r=o(61957),l=o(81572),i=o(13042),s=n(o(52013)),c=o(41906),d=o(15461),u=o(55715),f=n(o(40436)),p=o(67294),h=n(o(56720)),g=n(o(59312)),m=n(o(16223)),_=o(87550),C=n(o(89113)),v=n(o(90886)),S=n(o(95402)),P=n(o(74570)),x=n(o(3409)),T=n(o(58654)),b=n(o(60453)),y=n(o(69637)),k=o(94790),I=o(85600),j=o(29424),E=n(o(14296)),O=o(87931),A=o(75705),L=n(o(88406)),w=o(11054),M=n(o(35563)),N=n(o(23217)),R=o(85893);const D={display:"p357zi0d",flex:"kk3akd72",justifyContent:"ac2vgrno",paddingTop:"a4bywxmn",paddingBottom:"lzi2pvmc",color:"cs9t9or5"},B={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",flexDirection:"f8m0rgwh",width:"ln8gz9je",height:"ppled2lx",overflowX:"gfz4du6o",overflowY:"r7fjleex",pointerEvents:"jv8uhy2r"};function F(e,t){const{msgCollection:o,chat:n=null,onClose:F,title:W,emptyListText:H,footerText:U,headerMenu:G}=e,V=(0,x.default)(),z=(0,S.default)(),q=(0,g.default)(),K=(0,P.default)(),Y=(0,m.default)((()=>new L.default([],(e=>e.id.toString())))),Q=(0,m.default)((()=>new L.default([],(e=>e.id.toString())))),J=(0,m.default)((()=>new Set)),$=(0,p.useRef)(0),X=(0,p.useRef)({}),Z=(0,p.useRef)(null),ee=(0,p.useRef)(null),te=()=>A.RenderCursor.create({msgCollection:o,type:A.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(o,{count:i.MSG_PRELOAD_THRESHOLD}),[oe,ne]=(0,p.useState)(te),ae=()=>{const e=o.toArray();Y.current.init(e,!0),Q.current.init(e)},re=(0,C.default)((()=>{const e=null==n?void 0:n.id,t=o.models;if(oe.getEnd(o)<t.length)ne(oe.loadAfter(o));else{if(o.isSynced)return;o.sync(e).then((()=>{V.aborted||oe.hasAfter(o)&&ne(oe.loadAfter(o))})).catch((e=>{__LOG__(2)`MsgDrawer:loadEarlierMsgs failed\n${e}`}))}})),le=e=>{if(!Z.current)return;(e?e.target:document.activeElement)===Z.current&&(Y.current.index<0?Y.current.setFirst(!0):Y.current.reset(!1))},ie=e=>{Y.current.setVal(e),Q.current.setVal(e),l.Cmd.openChatAt(e.chat,e.chat.getSearchContext(e)),l.Cmd.focusShowMsg(e.id)},se=()=>{let e=o.toArray();const t=o.isSynced?oe.getEnd(o):Math.min(oe.getEnd(o),e.length);return e=e.slice(oe.getStart(o),t),$.current=e.length,e},ce=e=>{if(!e)return O.MSG_VISIBILITY.BELOW;const t=ee.current;if(!t)return;const o=t.previousSibling;if(!(o&&o instanceof HTMLElement))return;const n=o.clientHeight,a=t.scrollTop+n,r=a+t.clientHeight,l=e.getContainerElement();return l?l.offsetTop+l.clientHeight<=a?O.MSG_VISIBILITY.ABOVE:l.offsetTop>=r?O.MSG_VISIBILITY.BELOW:O.MSG_VISIBILITY.VISIBLE:O.MSG_VISIBILITY.BELOW},de=e=>{const t=X.current[e.toString()];if(!t)return;const o=t.getWrapperRef();return o&&"function"==typeof o.getMsgComponentRef?o.getMsgComponentRef():void 0},ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return J.current.has(e.toString())&&(!!t||de(e))},fe=(0,v.default)((()=>{const e=se(),t=new Set;let n=0,a=$.current-1;for(;n<a;){const t=Math.floor((n+a)/2),o=X.current[e[t].id.toString()];ce(o)===O.MSG_VISIBILITY.ABOVE?n=t+1:a=t}for(let o=n;o<e.length;o++){const n=X.current[e[o].id.toString()];if(ce(n)!==O.MSG_VISIBILITY.VISIBLE)break;t.add(e[o].id.toString())}var r,l;r=J.current,l=t,r.forEach((e=>{if(!l.has(e)){const t=o.get(e);if(null==t?void 0:t.isGif){const t=de(e);(null==t?void 0:t.getPlayCount())&&(null==t||t.pause())}}})),J.current=t}),100),pe=(0,v.default)((e=>{var t;fe(),e.currentTarget&&(t=e.currentTarget).scrollTop+c.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&re()}),100);(0,p.useEffect)((()=>{ae(),Z.current&&s.default.focus(Z.current),!o.isSynced&&o.length<i.PAGE_SIZE&&K(re),le()}),[]),(0,p.useEffect)((()=>{fe()})),(0,_.useListener)(window,"resize",fe),(0,_.useListener)(o,["reset","sync"],(()=>{ae(),q()})),(0,_.useListener)(o,["add","remove"],(()=>{ae(),q()})),(0,_.useListener)(o,"reset",(()=>{J.current=new Set,ne(te()),re()}));const{isSynced:he,length:ge}=o;(0,p.useEffect)((()=>{!he&&ge<i.PAGE_SIZE&&K(re)}),[re,K,he,ge]);const me=se();let _e,Ce,ve;if(Ce=o.isSynced&&oe.getEnd(o)>=me.length?null:e.msgCollection.syncPromise?(0,R.jsx)("div",{className:(0,h.default)(D),title:E.default.t(473),children:(0,R.jsx)(w.Spinner,{stroke:6,size:24})}):(0,R.jsx)("div",{className:(0,h.default)(D),children:(0,R.jsx)("div",{title:E.default.t(470),onClick:re,children:(0,R.jsx)(N.default,{name:"refresh"})})}),me.length>0){const e=me.map((e=>{const t=e.type===d.MSG_TYPE.IMAGE||e.type===d.MSG_TYPE.VIDEO||e.type===d.MSG_TYPE.AUDIO;return(0,R.jsx)(M.default,{ref:t=>{((e,t)=>{t?X.current[e.id.toString()]=t:delete X.current[e.id.toString()]})(e,t)},msg:e,isMsgVisible:t?ue:()=>{},currSelection:Y.current,activeSelection:Q.current,onClickMsg:ie},e.id.toString())}));_e=(0,R.jsx)(f.default,{transitionName:"slide",children:e})}else e.msgCollection.isSynced?_e=H:(_e=(0,R.jsx)(I.Loading,{}),Ce=null);return(0,a.isMDBackend)()&&(!n||n&&n.endOfHistoryTransferType===r.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||n.endOfHistoryTransferType===r.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC)&&(ve=(0,R.jsx)(T.default,{theme:"md-chat-search-list",children:U})),(0,R.jsx)(b.default,{theme:"gallery",ref:t,children:(0,R.jsxs)(j.HotKeys,{className:(0,h.default)(B),handlers:{down:e=>{e&&(e.preventDefault(),e.stopPropagation());const t=Y.current.next();Y.current.index!==t&&Y.current.setNext(!0)},up:e=>{e&&(e.stopPropagation(),e.preventDefault());Y.current.prev()>-1&&Y.current.setPrev(!0)}},onFocus:le,"data-tab":u.TAB_ORDER.CHAT_STARRED_DRAWER,ref:Z,children:[(0,R.jsx)(k.DrawerHeader,{title:W,onBack:()=>{F?F():null==z||z.requestDismiss()},type:k.DRAWER_HEADER_TYPE.LARGE,menu:G}),(0,R.jsxs)(y.default,{onScroll:pe,ref:ee,children:[_e,Ce,ve]})]})})}var W=(0,p.forwardRef)(F);t.default=W},71528:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(45095)),r=o(14597),l=n(o(62831)),i=n(o(94184)),s=o(48360),c=o(67294),d=n(o(44356)),u=o(88984),f=o(65417),p=n(o(47065)),h=o(46346),g=n(o(11791)),m=n(o(67978)),_=n(o(65932)),C=n(o(23217)),v=o(18644),S=o(85893);class P extends c.Component{constructor(){super(...arguments),this.state={style:{visibility:"hidden"}},this.setRefImage=e=>{this._refImage=e},this._handleImageLoad=e=>{const t=e.currentTarget;this.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},(()=>{this.props.getZoomNode((e=>{const o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=n.top-o.top,r={visibility:"hidden",transform:`translateX(${n.left-o.left}px) translateY(${a}px) scale(${e.clientWidth/t.clientWidth})`,transition:"transform 0s",borderRadius:void 0};this.props.animateBorderRadius&&(r.borderRadius="50%"),this.setState({style:r},(()=>{let e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform 500ms cubic-bezier(.1,.82,.25,1)"};this.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform 500ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius 500ms cubic-bezier(.1,.82,.25,1)"}),this.setState({style:e})}))}))}))},this._handleClose=()=>{if(this.closing)return;let e;if(this.closing=!0,this.props.getZoomNode((t=>{e=t})),!e)return r.ModalManager.closeMedia();const t=this._refImage;if(t){this.props.animateBorderRadius&&(t.style.transition="border-radius 500ms cubic-bezier(.1,.82,.25,1)",t.style.borderRadius="50%");const o=(0,a.default)(e,"start"),n=t.getBoundingClientRect(),i=o.getBoundingClientRect(),s=i.top-n.top,c=i.left-n.left,d=o.clientWidth/t.clientWidth;(0,l.default)(t,{translateX:[c,0],translateY:[s,0],scale:[d,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{r.ModalManager.closeMedia()}))}},this._handleScroll=e=>{Math.abs(e.deltaY)>3&&this._handleClose()}}shouldComponentUpdate(e){return!!e.profilePicThumb.imgFull||(this._handleClose(),!1)}render(){const{contact:e,profilePicThumb:t}=this.props;let o;return t.imgFull&&(o=(0,S.jsx)(p.default,{src:t.imgFull,hasPrivacyChecks:!0,onLoad:this._handleImageLoad,className:m.default.profileViewerImg})),(0,S.jsx)(v.UIE,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this._handleClose,children:(0,S.jsxs)("div",{className:(0,i.default)("overlay",m.default.container),onWheel:this._handleScroll,onClick:this._handleClose,children:[(0,S.jsxs)("div",{className:m.default.headerContainer,children:[(0,S.jsx)("div",{className:m.default.profileThumb,children:(0,S.jsx)(d.default,{image:(0,S.jsx)(u.DetailImage,{id:e.id,size:40}),theme:"plain",primary:(0,S.jsx)(f.EmojiText,{text:e.formattedUser})})}),(0,S.jsx)("div",{className:m.default.mediaPanelTools,children:(0,S.jsx)(h.MenuBar,{theme:"strong",children:(0,S.jsx)(h.MenuBarItem,{a8nText:"btn-close",icon:(0,S.jsx)(C.default,{name:"x-viewer"}),title:s.fbt._("Close",null,{hk:"19Jpec"}),onClick:this._handleClose})},"media-panel-header")})]}),(0,S.jsx)("div",{className:m.default.profileContainer,dir:"ltr",children:(0,S.jsx)("div",{className:m.default.media,children:(0,S.jsx)(g.default,{type:"scaleDown",size:this.state.size,children:(0,S.jsx)("div",{className:m.default.profileViewer,ref:this.setRefImage,style:this.state.style,children:o})})})})]})})}}P.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},P.displayName="PhotoViewerModal";var x=(0,_.default)(P,P.CONCERNS);t.default=x},79876:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{profilePicThumb:t,size:o}=e,n=!t.canSet()&&!t.canDelete(),[h,g]=(0,s.useState)(!1),m=(0,c.default)();return(0,p.jsx)(d.PhotoPickerLoadable,{type:u.default.PROFILE,id:t.id,attachToChat:!1,pending:h,startImage:t.imgFull,readOnly:n,onImageSet:(t,o)=>{const n=e.profilePicThumb;let s;g(!0),s=t&&o?(0,f.setProfilePic)(n,t,o):(0,f.deleteProfilePic)(n),(0,l.default)(s,m).catch((0,r.filteredCatch)(i.ActionError,(()=>{__LOG__(3)`ProfileDrawer: failed to set/delete profile image`}))).catch((0,a.catchAbort)((()=>{}))).finally((()=>{g(!1)}))},size:o})};var a=o(89385),r=o(50796),l=n(o(47259)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=h(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,o&&o.set(e,n);return n}(o(35232)),s=o(67294),c=n(o(3409)),d=o(33646),u=n(o(43556)),f=o(71517),p=o(85893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(h=function(e){return e?o:t})(e)}},51628:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(r.default,{a8nText:"li-share-link",icon:(0,s.jsx)(i.default,{name:"forward",className:l.default.icon}),onClick:e.onClick,children:a.fbt._("Send link via WhatsApp",null,{hk:"459eKy"})})};var a=o(48360),r=n(o(64738)),l=n(o(60654)),i=n(o(23217)),s=o(85893)},9031:(e,t,o)=>{"use strict";var n=o(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(64369)),r=o(67294),l=o(29929),i=n(o(60453)),s=n(o(69637)),c=o(94790),d=o(65417),u=o(29424),f=n(o(51845)),p=o(57224),h=n(o(81880)),g=o(82857),m=n(o(23217)),_=o(90011),C=n(o(43693)),v=o(18644),S=o(85893);const P=(e,t)=>{const{defaultText:o,title:n,onSend:P,onBack:x}=e,[T,b]=(0,r.useState)(o),y=(0,l.findFirstWebLink)(T),{linkPreview:k,clearLinkPreview:I}=(0,l.useLinkPreview)(y),j=n?(0,S.jsx)(d.EmojiText,{text:n,direction:"auto",titlify:!0,ellipsify:!0}):null,{title:E,canonicalUrl:O,description:A,thumbnail:L}=k||{},w=k?(0,S.jsx)(v.UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:I,children:(0,S.jsx)(h.default,{onOmit:I,children:(0,S.jsx)(f.default,{title:E,compose:!0,canonicalUrl:O,description:A,thumbnailJpeg:L})})}):null;return(0,S.jsx)(p.Modal,{ref:t,type:p.ModalTheme.Box,children:(0,S.jsxs)(i.default,{children:[(0,S.jsx)(c.DrawerHeader,{type:c.DRAWER_HEADER_TYPE.POPUP,onBack:x,children:j}),(0,S.jsx)(s.default,{children:(0,S.jsxs)(u.HotKeys,{className:C.default.container,children:[(0,S.jsx)("div",{className:C.default.inputContainer,children:(0,S.jsx)(_.TextInput,{a8n:"text-message-modal-text-unput",value:T,maxLength:a.default.MAX_TXT_MSG_SIZE,onChange:e=>{b(e)},supportsEmoji:!0,multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small"})}),w]})}),(0,S.jsx)("div",{className:C.default.btnContainer,children:(0,S.jsx)("div",{className:C.default.btnPosition,children:(0,S.jsx)(g.Round,{large:!0,onClick:()=>{T.length&&P(T,k)},children:(0,S.jsx)(m.default,{name:"send",directional:!0})})})})]})})};var x=(0,r.forwardRef)(P);t.default=x},39311:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.getSelection().removeAllRanges();const t=document.getElementById(e),o=document.createRange();t&&o.selectNode(t),window.getSelection().addRange(o);try{const e=document.execCommand("copy");return window.getSelection().removeAllRanges(),e}catch(e){return!1}}},95941:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={coverPhoto:"_3bmNw",isEditable:"_1k-Tj",avatar:"_1KIoW",noStatusBorder:"kNRox",hasStatusBorder:"_8N7c7",coverPhotoImage:"D-p9K"}},65753:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={labelRow:"_49vG",standaloneLabelRow:"_2l3_Y",labelContainer:"_1Nfyf",standaloneLabelContainer:"DENbs"}},24100:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={linkContainer:"_39Tm3",activeLink:"_3YkDH"}},32067:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={collectionListItem:"nIB_q",collectionName:"uK8-H",seeAllLink:"P0xwG",reviewStateRejected:"_3BNoL"}},52387:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={body:"iEmhs",loadingContainer:"_6Jq-L",text:"_1t5Y4",loadingText:"_2ZaWw",shiftUp:"_2DwjK",availabilityBanner:"_39YKr"}},21540:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={buttonContainer:"_1uea4",button:"_3dAt6",addToCartButton:"NeLXF",addToCartContainer:"_3L8a9",name:"_2_mFa",price:"_15XLs",originalPrice:"_1oNAr",description:"_3ROY2",more:"_1dlIm"}},49762:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={productImage:"fkslc",productImageContainer:"_18n4q",productThumb:"IO4T6",productThumbContainer:"ime-i",prompt:"_3OFgQ"}},72940:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={header:"_16mlH",photo:"_21sHs",text:"_2lk6f",name:"pTNRM",description:"_2GV6F",spinner:"O1bTA",img:"_3i1KT"}},11967:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={buttons:"_1_Ctk",button:"_23YI8"}},55140:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={carousel:"alksS",contentContainer:"OkAlG",slidesContainer:"_1w5W1",loaded:"j1J2j",fadeIn:"_2QkLV",spinnerContainer:"_1kDDe",spinner:"_3j4fM"}},57246:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={slide:"_2MjCA",slideInnerContainer:"_2cG76",image:"ubkU5"}},70764:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={canvasComponent:"_1OaQb",canvasEmpty:"_3jEqW",canvasSecondRow:"_13Jdf",canvasFirst:"az8Pk",more:"_2e4dR",container:"_1TLrW",justifySpaceBetween:"_2UyBh",galleryEmpty:"_160BB",drawer:"v7KVf",drawerBody:"_1QjIY",themeChatInfo:"_1Y056"}},31907:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={description:"_1PJIk"}},22235:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={actionText:"-KBcF"}},37295:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={icon:"_3ovSZ"}},67978:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={mediaPanelTools:"f3Dup",profileThumb:"_2xUs5",profileContainer:"Cq6XJ",media:"_1_TZb",profileViewer:"_3OWRM",profileViewerImg:"_2hH_e",container:"_9-YHG","media-viewer-animate":"_7DTuk",mediaViewerAnimate:"_7DTuk",headerContainer:"_1U_13"}},60654:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={icon:"woEzZ"}},43693:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={container:"_1ufTj",inputContainer:"_1rO5S",btnContainer:"_3KRZ3",btnPosition:"D6yuB"}}}]);
//# sourceMappingURL=https://web.whatsapp.com/lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.c81ad8379baabb655638.js.map
