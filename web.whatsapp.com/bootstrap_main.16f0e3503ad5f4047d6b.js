/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[7964],{92744:e=>{"use strict";e.exports=JSON.parse('{"v":"5.7.4","fr":29.9900054931641,"ip":0,"op":333.000060994453,"w":190,"h":120,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Graphic Outlines 3","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[95,60,0]},"a":{"a":0,"k":[93,58,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[-19.412,-1.227],[-3.848,-0.447],[-24.798,4.416],[-6.722,4.072],[0,0],[0,0]],"o":[[0,0],[0,0],[10.548,0.667],[4.615,0.537],[15.816,-2.817],[3.841,-2.326],[0,0],[0,0]],"v":[[17.037,36.952],[13.568,101.171],[51.662,105.227],[76.735,112.498],[130.934,106.817],[177.896,98.49],[171.776,61.758],[166.995,46.289]],"c":true}},"o":{"a":0,"k":100},"x":{"a":0,"k":0},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.077,0.547],[-0.547,-0.076],[0,0],[0.078,-0.547],[0.546,0.077],[0,0]],"o":[[0.078,-0.547],[0,0],[0.547,0.076],[-0.077,0.547],[0,0],[-0.547,-0.077]],"v":[[-6.272,-0.881],[-5.141,-1.733],[5.422,-0.247],[6.271,0.882],[5.141,1.732],[-5.422,0.248]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[36.164,61.282]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 3","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.078,0.547],[-0.547,-0.077],[0,0],[0.077,-0.547],[0.547,0.077],[0,0]],"o":[[0.078,-0.547],[0,0],[0.547,0.077],[-0.077,0.547],[0,0],[-0.547,-0.077]],"v":[[-8.913,-1.253],[-7.782,-2.104],[8.062,0.123],[8.913,1.252],[7.781,2.103],[-8.062,-0.124]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[39.269,58.352]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 4","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-1.777,-0.25],[0,0],[-0.252,1.778],[0,0],[1.777,0.25],[0,0],[-0.271,-0.271],[0,0],[0.236,-1.664],[0,0]],"o":[[0,0],[1.777,0.25],[0,0],[0.252,-1.778],[0,0],[-0.38,-0.054],[0,0],[1.189,1.187],[0,0],[-0.251,1.776]],"v":[[-9.684,5.488],[11.088,8.407],[14.762,5.641],[15.7,-0.959],[12.938,-4.629],[-15.342,-8.603],[-15.68,-7.925],[-13.525,-5.774],[-12.012,-1.245],[-12.447,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.725,60.837]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 5","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-1.777,-0.25],[0,0],[-0.252,1.778],[0,0],[1.777,0.25],[0,0],[-0.271,-0.271],[0,0],[0.236,-1.664],[0,0]],"o":[[0,0],[1.777,0.25],[0,0],[0.252,-1.778],[0,0],[-0.38,-0.054],[0,0],[1.189,1.187],[0,0],[-0.251,1.776]],"v":[[-9.684,5.488],[11.088,8.407],[14.762,5.641],[15.7,-0.959],[12.938,-4.629],[-15.342,-8.603],[-15.68,-7.925],[-13.525,-5.774],[-12.012,-1.245],[-12.447,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.725,60.837]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 6","bm":0,"hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.171},"t":158,"s":[-10.391,53.124],"to":[1.732,-8.854],"ti":[-1.732,8.854]},{"t":177.000032420475,"s":[0,0]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":268,"s":[100]},{"t":287.000052568792,"s":[0]}]},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 31","bm":0,"hd":false},{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.075,0.547],[-0.547,0.077],[0,0],[-0.076,-0.548],[0.546,-0.076],[0,0]],"o":[[-0.077,-0.547],[0,0],[0.547,-0.077],[0.076,0.547],[0,0],[-0.547,0.076]],"v":[[-6.271,0.882],[-5.419,-0.248],[5.144,-1.732],[6.272,-0.881],[5.419,0.248],[-5.143,1.734]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[141.883,62.682]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 15","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.075,0.547],[-0.547,0.077],[0,0],[-0.076,-0.548],[0.547,-0.077],[0,0]],"o":[[-0.076,-0.548],[0,0],[0.547,-0.077],[0.077,0.547],[0,0],[-0.548,0.077]],"v":[[-8.911,1.253],[-8.059,0.123],[7.784,-2.104],[8.912,-1.252],[8.061,-0.123],[-7.783,2.104]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[144.059,59.01]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 16","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[1.776,-0.25],[0,0],[0.252,1.778],[0,0],[-1.777,0.249],[0,0],[0.272,-0.271],[0,0],[-0.235,-1.664],[0,0]],"o":[[0,0],[-1.779,0.249],[0,0],[-0.252,-1.777],[0,0],[0.38,-0.054],[0,0],[-1.19,1.187],[0,0],[0.252,1.777]],"v":[[9.685,5.488],[-11.087,8.408],[-14.763,5.641],[-15.7,-0.959],[-12.938,-4.628],[15.341,-8.603],[15.68,-7.925],[13.525,-5.773],[12.011,-1.245],[12.446,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[147.837,61.04]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 17","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[1.776,-0.25],[0,0],[0.252,1.778],[0,0],[-1.777,0.249],[0,0],[0.272,-0.271],[0,0],[-0.235,-1.664],[0,0]],"o":[[0,0],[-1.779,0.249],[0,0],[-0.252,-1.777],[0,0],[0.38,-0.054],[0,0],[-1.19,1.187],[0,0],[0.252,1.777]],"v":[[9.685,5.488],[-11.087,8.408],[-14.763,5.641],[-15.7,-0.959],[-12.938,-4.628],[15.341,-8.603],[15.68,-7.925],[13.525,-5.773],[12.011,-1.245],[12.446,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.882000014361,1,0.779999976065,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[147.837,61.04]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 18","bm":0,"hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.171},"t":166,"s":[10.082,50.817],"to":[-1.68,-8.47],"ti":[1.68,8.47]},{"t":186.000034068974,"s":[0,0]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":276,"s":[100]},{"t":295.000054034125,"s":[0]}]},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 32","bm":0,"hd":false}],"ip":150.000027474979,"op":331.00006062812,"st":150.000027474979,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Graphic Outlines","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[95,60,0]},"a":{"a":0,"k":[93,58,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[-19.412,-1.227],[-3.848,-0.447],[-24.798,4.416],[-6.722,4.072],[0,0],[0,0]],"o":[[0,0],[0,0],[10.548,0.667],[4.615,0.537],[15.816,-2.817],[3.841,-2.326],[0,0],[0,0]],"v":[[17.037,36.952],[13.568,101.171],[51.662,105.227],[76.735,112.498],[130.934,106.817],[177.896,98.49],[171.776,61.758],[166.995,46.289]],"c":true}},"o":{"a":0,"k":100},"x":{"a":0,"k":0},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.077,0.547],[-0.547,-0.076],[0,0],[0.078,-0.547],[0.546,0.077],[0,0]],"o":[[0.078,-0.547],[0,0],[0.547,0.076],[-0.077,0.547],[0,0],[-0.547,-0.077]],"v":[[-6.272,-0.881],[-5.141,-1.733],[5.422,-0.247],[6.271,0.882],[5.141,1.732],[-5.422,0.248]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[36.164,61.282]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 3","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.078,0.547],[-0.547,-0.077],[0,0],[0.077,-0.547],[0.547,0.077],[0,0]],"o":[[0.078,-0.547],[0,0],[0.547,0.077],[-0.077,0.547],[0,0],[-0.547,-0.077]],"v":[[-8.913,-1.253],[-7.782,-2.104],[8.062,0.123],[8.913,1.252],[7.781,2.103],[-8.062,-0.124]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[39.269,58.352]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 4","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-1.777,-0.25],[0,0],[-0.252,1.778],[0,0],[1.777,0.25],[0,0],[-0.271,-0.271],[0,0],[0.236,-1.664],[0,0]],"o":[[0,0],[1.777,0.25],[0,0],[0.252,-1.778],[0,0],[-0.38,-0.054],[0,0],[1.189,1.187],[0,0],[-0.251,1.776]],"v":[[-9.684,5.488],[11.088,8.407],[14.762,5.641],[15.7,-0.959],[12.938,-4.629],[-15.342,-8.603],[-15.68,-7.925],[-13.525,-5.774],[-12.012,-1.245],[-12.447,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.725,60.837]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 5","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-1.777,-0.25],[0,0],[-0.252,1.778],[0,0],[1.777,0.25],[0,0],[-0.271,-0.271],[0,0],[0.236,-1.664],[0,0]],"o":[[0,0],[1.777,0.25],[0,0],[0.252,-1.778],[0,0],[-0.38,-0.054],[0,0],[1.189,1.187],[0,0],[-0.251,1.776]],"v":[[-9.684,5.488],[11.088,8.407],[14.762,5.641],[15.7,-0.959],[12.938,-4.629],[-15.342,-8.603],[-15.68,-7.925],[-13.525,-5.774],[-12.012,-1.245],[-12.447,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.725,60.837]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 6","bm":0,"hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":8,"s":[-10.391,53.124],"to":[1.732,-8.854],"ti":[-1.732,8.854]},{"t":25.0000045791631,"s":[0,0]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":118,"s":[100]},{"t":137.000025093814,"s":[0]}]},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 31","bm":0,"hd":false},{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.075,0.547],[-0.547,0.077],[0,0],[-0.076,-0.548],[0.546,-0.076],[0,0]],"o":[[-0.077,-0.547],[0,0],[0.547,-0.077],[0.076,0.547],[0,0],[-0.547,0.076]],"v":[[-6.271,0.882],[-5.419,-0.248],[5.144,-1.732],[6.272,-0.881],[5.419,0.248],[-5.143,1.734]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[141.883,62.682]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 15","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.075,0.547],[-0.547,0.077],[0,0],[-0.076,-0.548],[0.547,-0.077],[0,0]],"o":[[-0.076,-0.548],[0,0],[0.547,-0.077],[0.077,0.547],[0,0],[-0.548,0.077]],"v":[[-8.911,1.253],[-8.059,0.123],[7.784,-2.104],[8.912,-1.252],[8.061,-0.123],[-7.783,2.104]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[144.059,59.01]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 16","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[1.776,-0.25],[0,0],[0.252,1.778],[0,0],[-1.777,0.249],[0,0],[0.272,-0.271],[0,0],[-0.235,-1.664],[0,0]],"o":[[0,0],[-1.779,0.249],[0,0],[-0.252,-1.777],[0,0],[0.38,-0.054],[0,0],[-1.19,1.187],[0,0],[0.252,1.777]],"v":[[9.685,5.488],[-11.087,8.408],[-14.763,5.641],[-15.7,-0.959],[-12.938,-4.628],[15.341,-8.603],[15.68,-7.925],[13.525,-5.773],[12.011,-1.245],[12.446,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[147.837,61.04]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 17","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[1.776,-0.25],[0,0],[0.252,1.778],[0,0],[-1.777,0.249],[0,0],[0.272,-0.271],[0,0],[-0.235,-1.664],[0,0]],"o":[[0,0],[-1.779,0.249],[0,0],[-0.252,-1.777],[0,0],[0.38,-0.054],[0,0],[-1.19,1.187],[0,0],[0.252,1.777]],"v":[[9.685,5.488],[-11.087,8.408],[-14.763,5.641],[-15.7,-0.959],[-12.938,-4.628],[15.341,-8.603],[15.68,-7.925],[13.525,-5.773],[12.011,-1.245],[12.446,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.882000014361,1,0.779999976065,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[147.837,61.04]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 18","bm":0,"hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":16,"s":[10.082,50.817],"to":[-1.68,-8.47],"ti":[1.68,8.47]},{"t":34.0000062276618,"s":[0,0]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":126,"s":[100]},{"t":145.000026559146,"s":[0]}]},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 32","bm":0,"hd":false}],"ip":0,"op":150.000027474979,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Graphic Outlines 2","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[95,60,0]},"a":{"a":0,"k":[93,58,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.717,0.104],[0.099,-0.71],[-0.716,-0.104],[-0.099,0.71]],"o":[[-0.72,-0.104],[-0.099,0.706],[0.72,0.104],[0.099,-0.706]],"v":[[0.185,-1.292],[-1.303,-0.183],[-0.185,1.292],[1.303,0.183]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[29.352,19.516]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 1","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.717,0.104],[0.099,-0.71],[-0.716,-0.104],[-0.099,0.71]],"o":[[-0.72,-0.104],[-0.099,0.706],[0.72,0.104],[0.099,-0.706]],"v":[[0.185,-1.292],[-1.303,-0.183],[-0.185,1.292],[1.303,0.183]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[29.352,19.516]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 2","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.394,-2.817],[0,0],[2.817,0.395],[0,0],[-0.394,2.816],[0,0],[-2.816,-0.396],[0,0],[0,0],[0,0]],"o":[[0,0],[-0.394,2.815],[0,0],[-2.816,-0.394],[0,0],[0.395,-2.817],[0,0],[0,0],[0,0],[2.817,0.396]],"v":[[26.064,-36.057],[15.164,41.852],[9.351,46.236],[-21.678,41.874],[-26.064,36.057],[-15.165,-41.85],[-9.351,-46.234],[-4.565,-45.561],[16.891,-42.546],[21.677,-41.873]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.7},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.874,59.969]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 7","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.394,-2.817],[0,0],[2.817,0.395],[0,0],[-0.394,2.816],[0,0],[-2.816,-0.396],[0,0],[0,0],[0,0]],"o":[[0,0],[-0.394,2.815],[0,0],[-2.816,-0.394],[0,0],[0.395,-2.817],[0,0],[0,0],[0,0],[2.817,0.396]],"v":[[26.064,-36.057],[15.164,41.852],[9.351,46.236],[-21.678,41.874],[-26.064,36.057],[-15.165,-41.85],[-9.351,-46.234],[-4.565,-45.561],[16.891,-42.546],[21.677,-41.873]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.933000033509,0.995999983245,0.980000035903,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.874,59.969]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 8","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.91,-0.549],[0,0],[0.547,-3.91],[0,0],[3.91,0.549],[0,0],[-0.547,3.911],[0,0]],"o":[[0,0],[3.91,0.55],[0,0],[-0.547,3.911],[0,0],[-3.91,-0.55],[0,0],[0.547,-3.911]],"v":[[-9.926,-49.345],[23.083,-44.706],[29.173,-36.63],[17.997,43.259],[9.925,49.345],[-23.083,44.706],[-29.173,36.63],[-17.997,-43.259]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.7},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[39.123,60.3]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 9","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.91,-0.549],[0,0],[0.547,-3.91],[0,0],[3.91,0.549],[0,0],[-0.547,3.911],[0,0]],"o":[[0,0],[3.91,0.55],[0,0],[-0.547,3.911],[0,0],[-3.91,-0.55],[0,0],[0.547,-3.911]],"v":[[-9.926,-49.345],[23.083,-44.706],[29.173,-36.63],[17.997,43.259],[9.925,49.345],[-23.083,44.706],[-29.173,36.63],[-17.997,-43.259]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[39.123,60.3]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 10","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.909,-0.549],[0,0],[0.547,-3.908],[0,0],[3.909,0.548],[0,0],[-0.547,3.909],[0,0]],"o":[[0,0],[3.909,0.549],[0,0],[-0.546,3.909],[0,0],[-3.909,-0.55],[0,0],[0.546,-3.909]],"v":[[-9.926,-49.342],[23.083,-44.702],[29.17,-36.63],[17.993,43.259],[9.926,49.342],[-23.083,44.703],[-29.17,36.63],[-17.993,-43.258]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.706},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.79,63.987]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 11","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.909,-0.549],[0,0],[0.547,-3.908],[0,0],[3.909,0.548],[0,0],[-0.547,3.909],[0,0]],"o":[[0,0],[3.909,0.549],[0,0],[-0.546,3.909],[0,0],[-3.909,-0.55],[0,0],[0.546,-3.909]],"v":[[-9.926,-49.342],[23.083,-44.702],[29.17,-36.63],[17.993,43.259],[9.926,49.342],[-23.083,44.703],[-29.17,36.63],[-17.993,-43.258]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.79,63.987]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 12","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.717,-0.098],[-0.101,-0.71],[-0.716,0.099],[0.102,0.71]],"o":[[-0.722,0.099],[0.1,0.706],[0.722,-0.098],[-0.099,-0.706]],"v":[[-0.178,-1.293],[-1.303,0.184],[0.177,1.292],[1.302,-0.184]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[128.168,23.801]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 13","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.717,-0.098],[-0.101,-0.71],[-0.716,0.099],[0.102,0.71]],"o":[[-0.722,0.099],[0.1,0.706],[0.722,-0.098],[-0.099,-0.706]],"v":[[-0.178,-1.293],[-1.303,0.184],[0.177,1.292],[1.302,-0.184]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[128.168,23.801]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 14","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.397,-2.81],[0,0],[2.81,-0.394],[0,0],[0.395,2.808],[0,0],[-2.811,0.395],[0,0],[0,0],[0,0]],"o":[[0,0],[0.397,2.81],[0,0],[-2.81,0.394],[0,0],[-0.398,-2.81],[0,0],[0,0],[0,0],[2.811,-0.395]],"v":[[15.104,-41.842],[26.101,36.052],[21.731,41.854],[-9.297,46.216],[-15.103,41.844],[-26.1,-36.051],[-21.731,-41.854],[-16.944,-42.527],[4.511,-45.542],[9.297,-46.215]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.724},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[148.471,60.063]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 19","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.397,-2.81],[0,0],[2.81,-0.394],[0,0],[0.395,2.808],[0,0],[-2.811,0.395],[0,0],[0,0],[0,0]],"o":[[0,0],[0.397,2.81],[0,0],[-2.81,0.394],[0,0],[-0.398,-2.81],[0,0],[0,0],[0,0],[2.811,-0.395]],"v":[[15.104,-41.842],[26.101,36.052],[21.731,41.854],[-9.297,46.216],[-15.103,41.844],[-26.1,-36.051],[-21.731,-41.854],[-16.944,-42.527],[4.511,-45.542],[9.297,-46.215]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.933000033509,0.995999983245,0.980000035903,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[148.471,60.063]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 20","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.904,0.549],[0,0],[-0.551,-3.904],[0,0],[3.904,-0.549],[0,0],[0.552,3.903],[0,0]],"o":[[0,0],[3.903,-0.548],[0,0],[0.55,3.903],[0,0],[-3.903,0.549],[0,0],[-0.551,-3.904]],"v":[[-23.14,-44.686],[9.869,-49.325],[17.935,-43.25],[29.212,36.624],[23.141,44.686],[-9.869,49.324],[-17.935,43.25],[-29.211,-36.624]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.724},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[148.849,60.347]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 21","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.904,0.549],[0,0],[-0.551,-3.904],[0,0],[3.904,-0.549],[0,0],[0.552,3.903],[0,0]],"o":[[0,0],[3.903,-0.548],[0,0],[0.55,3.903],[0,0],[-3.903,0.549],[0,0],[-0.551,-3.904]],"v":[[-23.14,-44.686],[9.869,-49.325],[17.935,-43.25],[29.212,36.624],[23.141,44.686],[-9.869,49.324],[-17.935,43.25],[-29.211,-36.624]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[148.849,60.347]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 22","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.911,0.549],[0,0],[-0.553,-3.91],[0,0],[3.91,-0.55],[0,0],[0.552,3.91],[0,0]],"o":[[0,0],[3.91,-0.55],[0,0],[0.552,3.91],[0,0],[-3.91,0.549],[0,0],[-0.552,-3.91]],"v":[[-23.142,-44.697],[9.867,-49.336],[17.947,-43.252],[29.223,36.623],[23.142,44.698],[-9.867,49.337],[-17.947,43.253],[-29.223,-36.622]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.7},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[149.223,63.987]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 23","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.911,0.549],[0,0],[-0.553,-3.91],[0,0],[3.91,-0.55],[0,0],[0.552,3.91],[0,0]],"o":[[0,0],[3.91,-0.55],[0,0],[0.552,3.91],[0,0],[-3.91,0.549],[0,0],[-0.552,-3.91]],"v":[[-23.142,-44.697],[9.867,-49.336],[17.947,-43.252],[29.223,36.623],[23.142,44.698],[-9.867,49.337],[-17.947,43.253],[-29.223,-36.622]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[149.223,63.987]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 24","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[-0.304,-0.304],[0.259,-0.344],[0,0],[0.839,0.84],[-0.951,0.712]],"o":[[0.344,-0.258],[0.305,0.305],[0,0],[-0.712,0.95],[-0.84,-0.84],[0,0]],"v":[[2.833,-4.044],[3.963,-3.964],[4.043,-2.833],[-0.103,2.788],[-3.462,3.462],[-3.253,0.521]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[93.5,56.7]},"a":{"a":0,"k":[-2.5,2.4]},"s":{"a":0,"k":[100,100]},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":33,"s":[710]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":60,"s":[710]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":63,"s":[720]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":91,"s":[720]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":94,"s":[730]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":120,"s":[730]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":123,"s":[740]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":150,"s":[740]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":153,"s":[750]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":180,"s":[750]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":183,"s":[760]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":210,"s":[760]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":213,"s":[770]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":240,"s":[770]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":243,"s":[780]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":270,"s":[780]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":273,"s":[790]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":295,"s":[790]},{"t":312.000057147956,"s":[1070]}]},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 25","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,-7.456],[-7.456,0],[0,0],[0,5.799],[-5.799,0]],"o":[[0,0],[-7.456,0],[0,7.456],[0,0],[-5.799,0],[0,-5.799],[0,0]],"v":[[6.75,-13.5],[6.75,-13.5],[-6.75,0],[6.75,13.5],[6.75,10.5],[-3.75,0],[6.75,-10.5]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[86.251,56]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 26","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.33,0.211],[0.445,0.699],[0.698,-0.446],[0.271,-0.142],[-0.383,-0.734],[-0.735,0.383]],"o":[[0.699,-0.446],[-0.446,-0.699],[-0.258,0.164],[-0.735,0.383],[0.384,0.734],[0.349,-0.183]],"v":[[0.505,11.387],[0.963,9.315],[-1.108,8.858],[-1.901,9.317],[-2.538,11.34],[-0.514,11.977]],"c":true}},"nm":"Path 1","hd":false},{"ind":1,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.182,0.348],[0.735,0.384],[0.383,-0.734],[0.164,-0.258],[-0.699,-0.446],[-0.444,0.698]],"o":[[0.383,-0.736],[-0.733,-0.383],[-0.142,0.271],[-0.447,0.698],[0.697,0.445],[0.211,-0.331]],"v":[[5.226,6.237],[4.59,4.212],[2.567,4.849],[2.109,5.642],[2.566,7.713],[4.636,7.256]],"c":true}},"nm":"Path 2","hd":false},{"ind":2,"ty":"sh","ks":{"a":0,"k":{"i":[[0.009,0.195],[0.828,-0.036],[-0.035,-0.828],[0,-0.154],[0.007,-0.153],[-0.827,-0.036],[-0.035,0.827],[0,0.197]],"o":[[-0.035,-0.828],[-0.827,0.035],[0.007,0.152],[0,0.155],[-0.035,0.827],[0.828,0.035],[0.009,-0.196],[0,-0.196]],"v":[[6.737,-0.588],[5.174,-2.022],[3.74,-0.459],[3.75,0],[3.74,0.46],[5.174,2.023],[6.737,0.589],[6.75,0]],"c":true}},"nm":"Path 3","hd":false},{"ind":3,"ty":"sh","ks":{"a":0,"k":{"i":[[0.211,0.33],[0.697,-0.445],[-0.447,-0.698],[-0.142,-0.271],[-0.733,0.383],[0.383,0.735]],"o":[[-0.444,-0.698],[-0.699,0.446],[0.164,0.257],[0.383,0.735],[0.735,-0.383],[-0.182,-0.349]],"v":[[4.636,-7.255],[2.566,-7.713],[2.109,-5.641],[2.567,-4.848],[4.59,-4.212],[5.226,-6.236]],"c":true}},"nm":"Path 4","hd":false},{"ind":4,"ty":"sh","ks":{"a":0,"k":{"i":[[0.349,0.182],[0.384,-0.734],[-0.735,-0.383],[-0.258,-0.163],[-0.446,0.699],[0.699,0.446]],"o":[[-0.735,-0.383],[-0.383,0.735],[0.271,0.141],[0.698,0.446],[0.445,-0.698],[-0.33,-0.211]],"v":[[-0.514,-11.976],[-2.538,-11.34],[-1.901,-9.316],[-1.108,-8.858],[0.963,-9.315],[0.505,-11.386]],"c":true}},"nm":"Path 5","hd":false},{"ind":5,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[-0.153,-0.006],[-0.036,0.828],[0.828,0.036],[0.197,0]],"o":[[0.154,0],[0.827,0.036],[0.035,-0.828],[-0.195,-0.008],[0,0]],"v":[[-6.75,-10.5],[-6.29,-10.49],[-4.727,-11.924],[-6.162,-13.487],[-6.75,-13.5]],"c":true}},"nm":"Path 6","hd":false},{"ind":6,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[-0.195,0.008],[0.035,0.827],[0.827,-0.036],[0.154,0]],"o":[[0.197,0],[0.828,-0.036],[-0.036,-0.828],[-0.153,0.006],[0,0]],"v":[[-6.75,13.5],[-6.162,13.488],[-4.727,11.925],[-6.29,10.491],[-6.75,10.5]],"c":true}},"nm":"Path 7","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[99.75,56]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 27","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,2.872],[-2.882,0],[-0.452,-0.127],[-3.481,0],[0,-4.308],[0,0],[-0.761,0],[0,-2.299],[2.306,0]],"o":[[0,0],[-2.882,0],[0,-2.873],[0.493,0],[1.017,-3.132],[4.323,0],[0,0],[0.614,-0.354],[2.306,0],[0,2.298],[0,0]],"v":[[-8.833,7.801],[-8.872,7.801],[-14.091,2.601],[-8.872,-2.6],[-7.449,-2.405],[0,-7.802],[7.828,0],[7.828,0.036],[9.916,-0.52],[14.091,3.641],[9.916,7.801]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[74.091,87.801]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 28","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[0,2.872],[-2.882,0],[-0.452,-0.127],[-3.481,0],[0,-4.309],[0,0],[-0.761,0],[0,-2.297],[2.305,0]],"o":[[-2.882,0],[0,-2.872],[0.493,0],[1.017,-3.132],[4.323,0],[0,0],[0.614,-0.354],[2.305,0],[0,2.298],[0,0]],"v":[[-8.872,7.801],[-14.091,2.6],[-8.872,-2.601],[-7.449,-2.405],[0,-7.802],[7.828,0],[7.828,0.036],[9.916,-0.52],[14.091,3.64],[9.916,7.801]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[167.091,39.801]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 29","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-21.078,6.951],[2.365,29.357],[27.324,-13.139],[26.548,0],[2.517,-25.241],[-27.153,-8.154]],"o":[[21.814,-7.195],[-3.596,-44.604],[-37.066,17.824],[-19.773,0],[-1.824,18.295],[49.419,14.839]],"v":[[56.81,46.564],[92.775,-10.294],[17.995,-52.824],[-50.314,-32.078],[-92.737,2.499],[-60.07,44.918]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8,0.936999990426,0.922000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[93,58]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 30","bm":0,"hd":false}],"ip":0,"op":340.000062276618,"st":0,"bm":0}],"markers":[]}')},78077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=3988292384,a=4294967295;let r;function i(e,t){let a=t;for(r||(r=function(){const e=new Uint32Array(256);for(let t=0,a=0,r=0;t<256;a=++t){for(r=0;r<8;++r)a=1&a?a>>>1^n:a>>>1;e[t]=a}return e}());e.size();)a=r[255&(a^e.readUint8())]^a>>>8;return~a>>>0}t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return e.peek(i,t)}},33693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.findIndex(t);if(-1===n)return;if(n>=e.length-1)return;return e[n+1]}},63116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n,a=!1;for(n=0;n<e.length;n++)if(e[n]===t){a=!0;break}if(a){const t=e[n];e.splice(n,1),e.unshift(t)}}},13752:(e,t)=>{"use strict";function n(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(((e,n)=>a(e,t[n])))}},52047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(null==e)return;let a=[];a.push(e);for(;a.length;){const e=a.shift();if(!0===n(e))return e;a=a.concat(t(e))}}},9384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return/\s\s+/.test(e)?e.replace(/\s\s+/g,(e=>{let n="";for(let a=0;a<e.length;a++){n+=!0===t&&"\n"===e[a]?"\n":" "}return n})):e}},51498:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AddToCartStatus=void 0,t.addProductToCart=function(e){const{id:t,name:n,imageHash:a,currency:c}=e,f=e.catalogWid.toString(),h=r.CartCollection.findCart(f),p=h.cartItemCollection.get(t),m=(null==p?void 0:p.quantity)||0,g=Math.min(m+1,i.MAX_QUANTITY),_={id:t,priceAmount1000:(0,o.getActivePrice)(e),currency:c,name:n,imageHash:a,quantity:g};h.cartItemCollection.add(_,{merge:!0}),h.trigger("change:cartItemCollection");const v=m+1>i.MAX_QUANTITY?d.QUANTITY_LIMIT_REACHED:d.SUCCESS;return(0,u.default)(h,l.QuickLogMarkerId.WHATSAPP_CART_ADD).then((()=>{v===d.SUCCESS?s.QPL.markerEnd(l.QuickLogMarkerId.WHATSAPP_CART_ADD,s.QuickLogActionType.SUCCESS):v===d.QUANTITY_LIMIT_REACHED&&s.QPL.markerDrop(l.QuickLogMarkerId.WHATSAPP_CART_ADD)})).catch((()=>{s.QPL.markerEnd(l.QuickLogMarkerId.WHATSAPP_CART_ADD,s.QuickLogActionType.FAIL)})),{newCount:g,status:v}};var r=n(12392),i=n(9581),o=n(13151),s=n(48870),l=n(27798),u=a(n(38260));const d=n(76672).Mirrored(["SUCCESS","QUANTITY_LIMIT_REACHED"]);t.AddToCartStatus=d},56829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,l){const{CartFlowLoadable:u}=n(95568);if(t&&t.id.toString()===e)return(0,s.jsx)(u,{sellerJid:e,chat:t});r.ModalManager.open((0,s.jsx)(o.OpenChatFlow,{chatId:(0,i.createWid)(e),onSuccess:t=>{window.setTimeout((()=>{a.DrawerManager.openDrawerRight((0,s.jsx)(u,{sellerJid:e,chat:t}),"slide-left",void 0,l||void 0)}),100)},msgText:null}),{transition:"modal-flow"})};var a=n(41455),r=n(14597),i=n(45454),o=n(61585),s=n(85893)},38260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.updateCart)(e,t)};var a=n(6878)},5956:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getWidfromPath=function(){return l.apply(this,arguments)};var r=a(n(48926)),i=n(92574),o=n(45454),s=n(49673);function l(){return(l=(0,r.default)((function*(e){try{const t=yield(0,s.getUserByCustomURL)(e);return(0,o.createUserWid)(t.user.jid)}catch(e){if(e instanceof i.ServerStatusCodeError)return null;throw e}}))).apply(this,arguments)}},48456:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("function"==typeof BigInt?BigInt:Number)(String(Date.now())+Math.random().toFixed(4).slice(-4)).toString(36).toUpperCase()}},9538:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOrder=function(e,t){return(0,a.createOrder)(e,t)},t.queryOrder=function(e,t,n,r,i){return(0,a.queryOrder)(e,t,n,r,i)};var a=n(68825)},96866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openOrderDetailDrawer=function(e,t){a.DrawerManager.openDrawerRight((0,o.jsx)(i.ProductDetailsFlowLoadable,{chat:e.chat,sellerJid:e.sender.toJid(),orderInfo:(0,r.getOrderInfo)(e),processedOrderMessage:e}),"slide-left",t)};var a=n(41455),r=n(34841),i=n(67455),o=n(85893)},50218:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.openShopStorefront=function(e){r.default.open(`https://facebook.com/${e}/shop/`)};var r=a(n(79264))},20052:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.removeDirectConnectionKeysForChat=_,t.sendDelete=function(e){return b((0,p.unproxy)(e))};var r=a(n(48926)),i=n(88555),o=n(61957),s=n(8139),l=n(94816),u=n(48360),d=n(46331),c=n(77772),f=a(n(14296)),h=n(16770),p=n(18146),m=n(85893);function g(e){let t;switch(e){case o.CHAT_KIND.GROUP:t=f.default.t(53);break;case o.CHAT_KIND.BROADCAST:t=f.default.t(13);break;case o.CHAT_KIND.CHAT:default:t=f.default.t(22)}return new d.ActionType(t)}function _(){return v.apply(this,arguments)}function v(){return(v=(0,r.default)((function*(e){const{removeDirectConnectionKeys:t}=yield n.e(2191).then(n.bind(n,43119));yield t(e)}))).apply(this,arguments)}function b(e){if(e.promises.sendDelete)return e.promises.sendDelete;const t=e.getLastMsgKeyForAction(),n=t?e.msgs.get(t):void 0,a=e.promises.sendDelete=(0,c.sendConversationDelete)(e.id,t,e.getLastMsgKeyForAction.bind(e)),p=e.kind,v=a.then(function(){var t=(0,r.default)((function*(t){if(200===t.status)switch(h.LabelCollection.removeAllLabelsMD(e),p===o.CHAT_KIND.CHAT&&(yield _(e.id)),p){case o.CHAT_KIND.GROUP:return(0,i.isMDBackend)()&&!(0,s.clearOrDeleteChatSyncEnabled)()?new d.ActionType(u.fbt._("Group deleted from this device",null,{hk:"28gtyJ"})):new d.ActionType(f.default.t(52));case o.CHAT_KIND.BROADCAST:return(0,i.isMDBackend)()&&!(0,s.clearOrDeleteChatSyncEnabled)()?new d.ActionType(u.fbt._("Broadcast list deleted from this device",null,{hk:"4uAgbk"})):new d.ActionType(f.default.t(12));case o.CHAT_KIND.CHAT:return(0,i.isMDBackend)()&&!(0,s.clearOrDeleteChatSyncEnabled)()?new d.ActionType(u.fbt._("Chat deleted from this device",null,{hk:"mDV46"})):new d.ActionType(f.default.t(21))}else if(t.status>=400)switch(p){case o.CHAT_KIND.GROUP:return new d.ActionType(f.default.t(51));case o.CHAT_KIND.BROADCAST:return new d.ActionType(f.default.t(11));case o.CHAT_KIND.CHAT:return new d.ActionType(f.default.t(20))}}));return function(){return t.apply(this,arguments)}}()).catch((function(){let t;switch(__LOG__(3)`models:chat:sendDelete dropped`,p){case o.CHAT_KIND.GROUP:t=f.default.t(51);break;case o.CHAT_KIND.BROADCAST:t=f.default.t(11);break;case o.CHAT_KIND.CHAT:default:t=f.default.t(20)}return new d.ActionType(t,{actionText:f.default.t(122),actionHandler:()=>b(e)})}));return l.ToastManager.open((0,m.jsx)(d.ActionToast,{id:(0,d.genId)(),initialAction:g(p),pendingAction:v})),a.then((function(a){if(200===a.status&&!a._duplicate){const a=e.getLastMsgKeyForAction();t&&t.equals(a)||t===a?e.delete():e.deleteMsgsBeforeMsgInclusive(n)}})).finally((()=>{e.promises.sendDelete=null}))}},65100:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.eagerlyEstablishE2EESessionForMedia=function(e){if((0,i.isLegacyWebdBackend)())return;(0,o.mediaUploadPrekeysFetchEnabled)()&&u((0,l.unproxy)(e))},t.eagerlyEstablishE2EESessionWhenTyping=function(e){var t,n;if((0,i.isLegacyWebdBackend)())return;const a=(0,l.unproxy)(e),r=(0,o.proactivePrekeysFetchGroupSizeLimit)();r>0&&a.isGroup&&(null!==(t=null===(n=a.groupMetadata)||void 0===n?void 0:n.participants)&&void 0!==t?t:[]).length<r&&u(a)};var r=a(n(48926)),i=n(88555),o=n(8139),s=n(1133),l=n(18146);function u(){return d.apply(this,arguments)}function d(){return(d=(0,r.default)((function*(e){(0,i.isLegacyWebdBackend)()||e.hasEstablishedE2EESession||(e.hasEstablishedE2EESession=!0,yield(0,s.eagerlyEstablishE2EESession)(e))}))).apply(this,arguments)}},23817:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkChangeEphemeralDuration=function(e,t,n){const a=e.map((e=>E(e,t,n)));return Promise.allSettled(a)},t.changeEphemeralDuration=E;var r=a(n(48926)),i=n(40234),o=n(12380),s=a(n(65212)),l=n(15461),u=n(78820),d=n(32107),c=a(n(96563)),f=n(24606),h=a(n(11339)),p=n(57490),m=n(87759),g=n(75887),_=a(n(50039)),v=n(58871);function b(){return y.apply(this,arguments)}function y(){return(y=(0,r.default)((function*(e,t){if(e.isGroup)throw __LOG__(4,void 0,new Error,!0)`chat.changeChatEphemeralDuration should not be called for group ${e.id.toString()}`,SEND_LOGS("change-ephemeral-duration"),new Error("changeChatEphemeralDuration should not be called for group. Use changeEphemeralDuration which handles both 1-1 and group cases");const n=e.contact;if(n.isUser&&n.isContactBlocked)return Promise.reject(new c.default("changing ephemeral setting for contact is blocked",n));const a={id:new s.default({id:s.default.newId(),remote:e.id,fromMe:!0}),from:(0,u.getMaybeMeUser)(),to:e.id,t:i.Clock.globalUnixTime(),type:l.MSG_TYPE.PROTOCOL,subtype:"ephemeral_setting",ephemeralDuration:t,local:!0,isNewMsg:!0,self:"out"},r=null==e.ephemeralSettingTimestamp?1:e.ephemeralSettingTimestamp+1;(0,_.default)(e,r),yield(0,g.addAndSendMsgToChat)(e,a)[1],yield(0,v.updateLocal)(e.id,{ephemeralDuration:t,disappearingModeInitiator:f.DisappearingModeInitiator.ChangedInChat}),e.ephemeralDuration=t,e.disappearingModeInitiator=f.DisappearingModeInitiator.ChangedInChat,__LOG__(2)`chat.changeEphemeralDuration chatId=${e.id.toString()} ephemeralDuration=${t}`}))).apply(this,arguments)}function C(){return S.apply(this,arguments)}function S(){return(S=(0,r.default)((function*(e,t){if(!e.isGroup)throw new Error("changeGroupEphemeralDuration should not be called for 1-1 chats. Use changeEphemeralDuration which handles both 1-1 and group cases");yield(0,p.sendSetGroupProperty)(e.id,o.GROUP_SETTING_TYPE.EPHEMERAL,t)}))).apply(this,arguments)}function E(){return x.apply(this,arguments)}function x(){return(x=(0,r.default)((function*(e,t,n){if(!e.shouldShowEphemeralSetting())throw new Error(`user cannot change group ephemeral duration for chat ${e.id.toString()}`);const a=e.getEphemeralSetting();e.isGroup?yield C(e,t):yield b(e,t);const r={chatEphemeralityDuration:t,threadId:yield(0,d.getChatThreadID)(e.id.toJid()),ephemeralSettingEntryPoint:n};var i,o;(null!=a&&(r.previousEphemeralityDuration=a),e.isGroup)&&(r.ephemeralSettingGroupSize=(0,m.numberToPreciseSizeBucket)(null!==(i=null===(o=e.groupMetadata)||void 0===o?void 0:o.participants.length)&&void 0!==i?i:0));new h.default.EphemeralSettingChange(r).commit()}))).apply(this,arguments)}},92375:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genMinimalLinkPreview=function(e){if(!e||!e.url)return null;return{url:e.url,data:{title:e.domain,description:e.url,canonicalUrl:e.url,matchedText:e.url,richPreviewType:a.Message$ExtendedTextMessagePreviewType.NONE,thumbnail:void 0,doNotPlayInline:!0}}};var a=n(24808)},19146:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(88306)),o=n(88555),s=n(51650),l=n(24808),u=n(92375),d=n(56233),c=n(81093),f=a(n(56891));function h(){return(h=(0,r.default)((function*(e){if((0,o.isMDBackend)()){const t=(0,c.parseAPICmd)(e.url);return t.resultType===s.APICmd.CATALOG?(0,d.getProductOrCatalogLinkPreview)(e.url,t.data.catalogOwnerJid):t.resultType===s.APICmd.PRODUCT?(0,d.getProductOrCatalogLinkPreview)(e.url,t.data.businessOwnerJid,t.data.productId):(0,u.genMinimalLinkPreview)(e)}const{title:t,description:n,canonicalUrl:a,matchedText:r,preview:i,thumbnail:h,doNotPlayInline:p}=yield f.default.queryLinkPreview(e.url);return r&&(t||n)?{url:e.url,data:{title:t||void 0,description:n||void 0,canonicalUrl:a||void 0,matchedText:r,richPreviewType:"video"===i?l.Message$ExtendedTextMessagePreviewType.VIDEO:l.Message$ExtendedTextMessagePreviewType.NONE,thumbnail:h||void 0,doNotPlayInline:p}}:null}))).apply(this,arguments)}var p=(0,i.default)((function(){return h.apply(this,arguments)}),(e=>e.url));t.default=p},32231:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return c.apply(this,arguments)};var r=a(n(48926)),i=n(92844),o=n(81572),s=n(8139),l=n(16116),u=n(88172),d=n(50101);function c(){return(c=(0,r.default)((function*(e){const t=yield(0,d.findChat)(e.sender);(yield o.Cmd.openChatBottom(t))&&((0,s.btmThreadsLoggingEnabled)()&&u.ComposeBoxActions.addMsgSendingLogAttributes(t,{handleMultiple(){(0,l.handleActivitiesForChatThreadLogging)([{activityType:"groupPrivateReplies",ts:(0,i.unixTime)(),chatId:t.id}])}}),t.composeQuotedMsg=e,e.chat&&(t.composeQuotedMsgRemoteJid=e.chat.id))}))).apply(this,arguments)}},22540:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const a=(0,l.getMaybeMeUser)(),c=e.msgContextInfo(n.id),f=(0,r.default)((0,r.default)({type:"buttons_response",ack:i.ACK.CLOCK,from:a,id:new s.default({from:a,to:n.id,id:s.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:o.Clock.globalUnixTime(),to:n.id},c),{},{buttonsResponse:{selectedButtonId:t.id,selectedDisplayText:t.displayText,type:u.Message$ButtonsResponseMessageType.DISPLAY_TEXT},body:t.displayText||""});return(0,d.addAndSendMsgToChat)(n,f)[1]};var r=a(n(81109)),i=n(35470),o=n(40234),s=a(n(65212)),l=n(78820),u=n(24808),d=n(75887);n(13705)},13164:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.chat,a=e.msgContextInfo(n.id),c=(0,l.getMaybeMeUser)(),f=(0,r.default)((0,r.default)({type:"list_response",ack:i.ACK.CLOCK,from:c,id:new s.default({from:c,to:n.id,id:s.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:o.Clock.globalUnixTime(),to:n.id},a),{},{listResponse:{listType:u.Message$ListResponseMessageListType.SINGLE_SELECT,title:t.title,description:t.description,singleSelectReply:{selectedRowId:t.rowId}},body:(t.title||"")+(t.description?`\n${t.description}`:"")});return(0,d.addAndSendMsgToChat)(n,f)[1]};var r=a(n(81109)),i=n(35470),o=n(40234),s=a(n(65212)),l=n(78820),u=n(24808),d=n(75887);n(13705)},28224:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return c.apply(this,arguments)};var r=a(n(48926)),i=n(35470),o=n(40234),s=a(n(65212)),l=n(78820),u=n(75887),d=n(13705);function c(){return(c=(0,r.default)((function*(e,t,n,a){const r=f(e,t,n,a);try{const t=yield(0,u.addAndSendMsgToChat)(e,r)[1];if(!t||t!==d.SendMsgResult.OK)throw new Error("Location message SendMsgResult failure status")}catch(e){throw __LOG__(3)`Location message send to chat failure: ${e}`,e}}))).apply(this,arguments)}function f(e,t,n,a){const r=(0,l.getMaybeMeUser)();return{type:"location",ack:i.ACK.CLOCK,from:r,id:new s.default({from:r,to:e.id,id:s.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:o.Clock.globalUnixTime(),to:e.id,lat:t,lng:n,loc:a}}},5524:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendTextMsgToChat=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return A((0,M.unproxy)(e),t,n)};var r=a(n(48926)),i=a(n(41609)),o=a(n(91747)),s=a(n(57557)),l=n(24674),u=n(35470),d=n(88555),c=n(40234),f=a(n(26947)),h=a(n(65212)),p=n(15461),m=n(8197),g=n(78820),_=n(45454),v=n(98706),b=n(77975),y=n(84886),C=n(51708),S=n(17304),E=n(29731),x=n(371),T=n(19708),M=(n(13705),n(18146)),k=n(84746),w=a(n(87798));function A(){return P.apply(this,arguments)}function P(){return(P=(0,r.default)((function*(e,t){var a,M;let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const P=(t||"").trim(),{linkPreview:j,quotedMsg:I,mentionedJidList:O,quotedMsgAdminGroupJid:N,quotedMsgAdminGroupSubject:R,quotedMsgAdminParentGroupJid:D,selectedId:L,selectedIndex:B,ctwaContext:F}=A;if(""===P)return Promise.resolve();(0,x.clearPresence)(e);const G=e.id,U=(0,g.getMaybeMeUser)();let V;(0,d.isMDBackend)()&&e.isGroup&&(V=(0,_.toUserWid)(U));const W=new h.default({from:U,to:G,id:h.default.newId(),participant:V,selfDir:"out"});let H;I?H=I.msgContextInfo(e.id):null!=N&&null!=R&&null!=D?H={quotedRemoteJid:N,quotedGroupSubject:R,quotedParentGroupJid:D}:null!=N&&(H={quotedRemoteJid:N});const q=null==j||null==j.mediaKeyTimestamp||(0,w.default)(j.mediaKeyTimestamp)?j:(0,s.default)(j,["mediaKey","mediaKeyTimestamp","thumbnailHQ","thumbnailDirectPath","thumbnailSha256","thumbnailEncSha256","thumbnailHeight","thumbnailWidth"]),Y=(0,o.default)({id:W,body:P,type:"chat",subtype:q&&!(0,i.default)(q)?"url":null,t:c.Clock.globalUnixTime(),from:U,to:G,self:"out",isNewMsg:!0,local:!0,ack:u.ACK.CLOCK,urlText:e.urlText,urlNumber:e.urlNumber},q||{},H||{},{mentionedJidList:O},{ctwaContext:F});if(e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),null!=B&&(Y.type="template_button_reply",Y.selectedId=L,Y.selectedIndex=B),Y.type!==p.MSG_TYPE.PROTOCOL){e.isEphemeralSettingOn()&&(Y.ephemeralDuration=e.getEphemeralSetting());const t=e.getEphemeralSettingTimestamp();null!=t&&(Y.ephemeralSettingTimestamp=t);const n=e.getDisappearingModeInitiator();null!=n&&(Y.disappearingModeInitiator=n)}const z=(0,m.getContactPrivacyMode)(e.id);null!=z&&(Y.privacyModeWhenSent=z),(0,v.attributeAgentToMessage)(Y);const K=new S.Msg(Y),$=(0,f.default)(K,e);(0,d.isMDBackend)()&&(K.wamMessageSendPerfReporter=new C.MessageSendPerfReporter(K.to,K.getWamMediaType(),K.getWamMessageType()));const Q=(0,k.createMessageSendMetric)(K);null===(a=K.wamMessageSendPerfReporter)||void 0===a||a.startRenderedStage(),$&&e.msgs.add($),e.msgs.add(K),null===(M=K.wamMessageSendPerfReporter)||void 0===M||M.postRenderedStage();const X=$?[$,Y]:[Y];if(I&&I.type===p.MSG_TYPE.PRODUCT&&(0,b.logProductMessageBusinessSend)(I,I.sessionId),(0,d.isMDBackend)()&&e.isGroup){const t=n(63928).default;yield t.find(e.id)}return new E.NonPersistJob("sendMessage",(0,r.default)((function*(){var t,n;return null===(t=K.wamMessageSendPerfReporter)||void 0===t||t.startSavedStage(),yield(0,y.storeMessages)(X,e.id),null===(n=K.wamMessageSendPerfReporter)||void 0===n||n.postSavedStage(),(0,T.sendMsgRecord)(K,Q)})),{priority:l.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}))).apply(this,arguments)}},59992:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setArchive=function(e,t,n){return p((0,c.unproxy)(e),t,n)};var i=n(89385),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),s=n(94816),l=n(46331),u=n(77982),d=r(n(14296)),c=n(18146),f=n(85893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,l.genId)();if(e.archive===t)return Promise.reject(new o.ActionError);const{promises:c}=e;if(c.setArchive)return c.setArchive.promise;const h=e.getLastMsgKeyForAction(),m=new a,g=m.signal,_=(0,u.sendConversationArchive)(e.id,t,h),v=t?new l.ActionType(d.default.t(16)):new l.ActionType(d.default.t(38)),b=_.then((a=>{if(g.aborted)throw new i.AbortError;let o;return 200===a.status?(o=t?d.default.t(15):d.default.t(37),new l.ActionType(o,{actionText:d.default.t(126),actionHandler:()=>p(e,!t,n,r)})):a.status>=400?t?new l.ActionType(d.default.t(14)):new l.ActionType(d.default.t(36)):void 0})).catch((0,i.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`models:chat:setArchive dropped`;const a=t?d.default.t(14):d.default.t(36);return new l.ActionType(a,{actionText:d.default.t(122),actionHandler:()=>p(e,t,n,r)})}));n&&s.ToastManager.open((0,f.jsx)(l.ActionToast,{id:r,initialAction:v,pendingAction:b}));const y=_.then((n=>{200!==n.status||n._duplicate||(e.archive=t,t&&(e.pin=void 0))})).finally((()=>{c.setArchive=null}));return c.setArchive={promise:y,abortController:m},c.setArchive.archive=t,y}},10236:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setPin=function(e,t){return h((0,c.unproxy)(e),t)};var i=n(89385),o=n(92844),s=n(94816),l=n(46331),u=r(n(14296)),d=n(29894),c=n(18146),f=n(85893);function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.genId)();const{promises:r}=e;r.setPin&&r.setPin.abortController.abort();let c,p=0;const m=(0,o.unixTimeMs)();t?p=m:c=e.pin;const g=new a,_=g.signal,v=(0,d.setPin)(e.id,p,c,m),b=t?new l.ActionType(u.default.t(35)):new l.ActionType(u.default.t(45)),y=v.then((()=>{if(_.aborted)throw new i.AbortError;const a=t?u.default.t(34):u.default.t(44);return new l.ActionType(a,{actionText:u.default.t(126),actionHandler:()=>h(e,!t,n)})})).catch((0,i.catchAbort)((()=>{}))).catch((a=>{if(405===a.status)return new l.ActionType(u.default.t(33));if(a.status>=400)return t?new l.ActionType(u.default.t(32)):new l.ActionType(u.default.t(43));__LOG__(3)`models:chat:setPin dropped`;const r=t?u.default.t(32):u.default.t(43);return new l.ActionType(r,{actionText:u.default.t(122),actionHandler:()=>h(e,t,n)})}));s.ToastManager.open((0,f.jsx)(l.ActionToast,{id:n,initialAction:b,pendingAction:y}));const C=v.then((t=>{t._duplicate||(e.pin=p)})).finally((()=>{r.setPin=null}));return r.setPin={promise:C,abortController:g},C}},21959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(0,r.cadminSelfDemoteEnabled)()||!e||(0,a.isSuspendedGroup)(e))return;const t=e.groupMetadata;if(!t)return;let n;switch(t.groupType){case l.GroupType.COMMUNITY:n=t;break;case l.GroupType.DEFAULT_ANNOUNCEMENT_GROUP:if(t.parentGroup){var d;const e=s.ChatCollection.get(null===(d=t.parentGroup)||void 0===d?void 0:d.toString());n=null==e?void 0:e.groupMetadata}}n&&n.participants.iAmAdmin()&&!0===n.displayCadminPromotion&&i.ModalManager.open((0,u.jsx)(o.CadminPromotionNotificationFlowLoadable,{communityMetadata:n}))};var a=n(73679),r=n(8139),i=n(14597),o=n(38205),s=n(69951),l=n(55981),u=n(85893)},44663:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findCommonGroups=function(e){const t=(0,u.unproxy)(e),{commonGroups:a,id:d,promises:c}=t;if(c.findCommonGroups)return c.findCommonGroups;if(a&&!a.stale)return a.set(a.filter((e=>!e.isParentGroup))),Promise.resolve();return c.findCommonGroups=(0,l.default)(d).then((e=>{const i=(0,r.default)(e.map((e=>n(69951).ChatCollection.get(e)))).filter((e=>!e.isParentGroup));return a?(a.set(i),a.stale=!1):t.commonGroups=new s.default(i,d),!0})).catch((0,i.filteredCatch)(o.ServerStatusCodeError,(e=>(__LOG__(3)`models:Contact:findCommonGroups error: ${e.status}`,Promise.reject(new Error("models:Contact:findCommonGroups error: "+e.status)))))).finally((()=>{c.findCommonGroups=null}))};var r=a(n(39693)),i=n(50796),o=n(92574),s=a(n(89265)),l=a(n(77486)),u=n(18146)},72768:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleCopyPhoneNumber=function(e,t,n){(0,r.default)(e),s.ToastManager.open((0,p.jsx)(h.Toast,{msg:u.fbt._("Copied to clipboard.",null,{hk:"3JjQpO"}),id:(0,h.genId)()})),(0,i.hyperlinkedPhoneNumbersPsLoggingEnabled)()&&new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.CLICK_COPY_PHONE_NUMBER,isPhoneNumHyperlinkOwner:n,phoneNumberStatusOnWa:Boolean(t)}).commit()},t.handleOpenChat=function(e,t,n){o.ModalManager.open((0,p.jsx)(f.OpenChatFlow,{chatId:t,onSuccess:e=>{m(e,n)},msgText:null}),{transition:"modal-flow"}),(0,i.hyperlinkedPhoneNumbersPsLoggingEnabled)()&&new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.CLICK_MESSAGE_ON_WHATSAPP,isPhoneNumHyperlinkOwner:(0,l.isMeAccount)(t),phoneNumberStatusOnWa:!0}).commit()},t.logClickOnPhoneNumber=function(e,t){if(!(0,i.hyperlinkedPhoneNumbersPsLoggingEnabled)())return;new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.CLICK_PHONE_NUM_HYPERLINK,isPhoneNumHyperlinkOwner:t,phoneNumberStatusOnWa:Boolean(e)}).commit()},t.logCloseDialog=function(e,t){if(!(0,i.hyperlinkedPhoneNumbersPsLoggingEnabled)())return;new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.CLOSE_DIALOG_BOX,isPhoneNumHyperlinkOwner:t,phoneNumberStatusOnWa:Boolean(e)}).commit()},t.logMessageSentByPhoneNumber=m;var r=a(n(88755)),i=n(8139),o=n(14597),s=n(94816),l=n(78820),u=n(48360),d=n(88172),c=a(n(11339)),f=n(61585),h=n(50452),p=n(85893);function m(e,t){(0,i.hyperlinkedPhoneNumbersPsLoggingEnabled)()&&e&&d.ComposeBoxActions.addMsgSendingLogAttributes(e,{handleOnce(){new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.MESSAGE_SENT,isPhoneNumHyperlinkOwner:t,phoneNumberStatusOnWa:!0}).commit()}})}},60356:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){const o=e.map(p.vcardFromContactModel),c=1===o.length?o[0]:(0,p.mergeVcards)(o),f=`${c.displayName.toString()}.vcf`,m=(0,u.createFile)([c.vcard],f,{type:y}),v=m.size/1024;if(0!==_.ServerProps.vcardAsDocumentSizeKb&&v>_.ServerProps.vcardAsDocumentSizeKb)return void function(){C.apply(this,arguments)}(m,e.length,t,n,a);!function(e,t,n,a,o){const u=a&&a.msgContextInfo(t.id),c=(0,h.getMaybeMeUser)(),f=(0,r.default)((0,r.default)({ack:s.ACK.CLOCK,from:c,id:new d.default({from:c,to:t.id,id:d.default.newId(),participant:t.isGroup?c:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:l.Clock.globalUnixTime(),to:t.id},u),{},{ctwaContext:o}),p=1===e.length?(0,r.default)((0,r.default)({type:"vcard",vcardFormattedName:e[0].displayName.toString(),body:e[0].vcard},f),S(t)):(0,r.default)((0,r.default)({type:"multi_vcard",vcardList:e},f),S(t));(0,i.default)((function*(){try{yield(0,g.addAndSendMsgToChat)(t,p)[1]}catch(e){throw __LOG__(2)`Error sending contact: ${e}`,e}}))()}(o,t,0,n,a)};var r=a(n(81109)),i=a(n(48926)),o=a(n(45095)),s=n(35470),l=n(40234),u=n(65885),d=a(n(65212)),c=n(15461),f=n(94816),h=n(78820),p=n(93778),m=a(n(14075)),g=n(75887),_=n(64551),v=n(50452),b=n(85893);const y="text/vcard";function C(){return(C=(0,i.default)((function*(e,t,n,a,r){const s={file:e,type:c.MSG_TYPE.DOCUMENT,filename:e.name,mimetype:y,isVcardOverMmsDocument:!0,documentPageCount:t},l=new m.default({chatParticipantCount:n.getParticipantCount()});yield l.processAttachments([s]);const{errorMsgs:u}=l.uiProcessMsgs();if(u)return void f.ToastManager.open((0,b.jsx)(v.Toast,{msg:u,id:(0,v.genId)()}));const d=(0,o.default)(l.getValidMedias()[0],"collection.getValidMedias()[0]");(0,i.default)((function*(){try{yield d.sendToChat(n,{quotedMsg:a,ctwaContext:r})}catch(e){throw __LOG__(2)`Error sending contact: ${e}`,e}}))()}))).apply(this,arguments)}function S(e){const t={};e.isEphemeralSettingOn()&&(t.ephemeralDuration=e.getEphemeralSetting());const n=e.getEphemeralSettingTimestamp();null!=n&&(t.ephemeralSettingTimestamp=n);const a=e.getDisappearingModeInitiator();return null!=a&&(t.disappearingModeInitiator=a),t}},56635:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(14597),i=n(48360),o=a(n(52665)),s=n(85893);var l=function(){let{title:e=i.fbt._("WhatsApp Web can't show this message.",null,{hk:"1cx2RA"}),body:t=i.fbt._("Use WhatsApp on your mobile device to view it.",null,{hk:"3jYSKM"})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.ModalManager.open((0,s.jsx)(o.default,{title:e,okText:i.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>r.ModalManager.close(),children:t}))};t.default=l},73058:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.joinGroupViaInvite=function(){return d.apply(this,arguments)},t.queryGroupInviteCode=function(e){return function(e){if(e.groupInviteCodePromise)return e.groupInviteCodePromise;return e.groupInviteCodePromise=(0,l.sendQueryGroupInviteCode)(e.id).then((t=>{e.inviteCode=t})).finally((()=>{e.groupInviteCodePromise=null}))}((0,u.unproxy)(e))},t.revokeGroupInvite=function(e){return function(e){if(e.revokeGroupInvitePromise)return e.revokeGroupInvitePromise;return e.revokeGroupInvitePromise=(0,l.sendRevokeGroupInviteCode)(e.id).then((t=>{e.inviteCode=t})).catch((0,i.filteredCatch)(o.ServerStatusCodeError,(e=>{throw e}))).catch((()=>{__LOG__(3)`models:groupMetadata:participantCollection:revokeGroupInvite dropped`})).finally((()=>{e.revokeGroupInvitePromise=null}))}((0,u.unproxy)(e))};var r=a(n(48926)),i=n(50796),o=n(92574),s=n(50101),l=n(69586),u=n(18146);function d(){return(d=(0,r.default)((function*(e){const t=yield(0,l.sendJoinGroupViaInvite)(e);return(0,s.findChat)(t)}))).apply(this,arguments)}},91960:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addFailedString=function(e,t){return s.default.t(91,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return i.fbt._("Couldn't add some participants.",null,{hk:"2usrY"})},t.addSuccessString=function(e,t){return s.default.t(92,{participantNames:e,_plural:t})},t.demoteFailedString=function(e,t,n){switch(n){case 406:return i.fbt._("You can't dismiss {participant} as admin because they created this group.",[i.fbt._param("participant",e)],{hk:"iFF5D"});default:return s.default.t(94,{participantNames:e,_plural:t})}},t.demotePartialFailedString=function(){return i.fbt._("Couldn't remove some participants as an admin.",null,{hk:"IRRDJ"})},t.demoteSuccessString=function(e,t){return s.default.t(95,{participantNames:e,_plural:t})},t.formatGroupStatusReasonString=d,t.formatParticipantActionString=u,t.formatParticipantStatusReasonString=c,t.formatRemoveResult=function(e,t){return l(e,f,h,p,t)},t.formatResult=l,t.promoteFailedString=function(e,t){return s.default.t(99,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return i.fbt._("Couldn't make some participants admin.",null,{hk:"4A8lPV"})},t.promoteSuccessString=function(e,t){return s.default.t(100,{participantNames:e,_plural:t})},t.removeFailedString=h,t.removePartialFailedString=p,t.removeSuccessString=f;var r=a(n(89867)),i=n(48360),o=n(19380),s=a(n(14296));function l(e,t,n,a,i){let s;if(207===e.status){const i={};for(const t in e){if(!r.default.isWid(t))continue;const n=e[t];if(403===n)continue;if(207===n)continue;i[n]||(i[n]=[]);const a=o.ContactCollection.get(t);a&&i[n].push(a)}const l=[];for(const e in i){const a=u(t,n,c,parseInt(e,10),i[e]);a&&l.push(a)}s=l.length>0?l.join("\n"):a()}else s=u(t,n,d,e.status,i);return s}function u(e,t,n,a,r){const i=r.map((e=>e.formattedShortName)).join(s.default.t(257)),o=200===a,l=o?e(i,r.length):t(i,r.length,a),u=o?"":n(a,r.length);return l.toString()+u.toString()}function d(e){let t="";switch(e){case 403:t=" "+i.fbt._("You're not a participant.",null,{hk:"4GsI1U"}).toString();break;case 408:t=" "+s.default.t(98);break;case 404:t=" "+i.fbt._("This group has ended.",null,{hk:"C2izu"}).toString();break;case 429:t=" "+i.fbt._("You've added too many contacts to groups too quickly. Try again later.",null,{hk:"aTFA4"}).toString()}return t}function c(e,t){let n="";switch(e){case 401:case 406:case 409:break;case 404:n=" "+s.default.t(97,{_plural:t});break;case 408:n=" "+s.default.t(98,{_plural:t});break;case 500:n=" "+i.fbt._("This group is full.",null,{hk:"27htUz"}).toString();break;default:n=" "+i.fbt._("Please try again.",null,{hk:"3S6IYT"}).toString()}return n}function f(e,t){return s.default.t(103,{participantNames:e,_plural:t})}function h(e,t,n){switch(n){case 406:return i.fbt._("You can't remove {participant} because they created this group.",[i.fbt._param("participant",e)],{hk:"14z8Fr"});default:return s.default.t(102,{participantNames:e,_plural:t})}}function p(){return i.fbt._("Couldn't remove some participants.",null,{hk:"3N0fyq"})}},89389:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(e,t){return _((0,h.unproxy)(e),t)},t.demoteCommunityParticipants=function(e,t){return k((0,h.unproxy)(e),t)},t.demoteParticipants=function(e,t){return E((0,h.unproxy)(e),t)},t.promoteCommunityParticipants=function(e,t){return T((0,h.unproxy)(e),t)},t.promoteParticipants=function(e,t){return C((0,h.unproxy)(e),t)},t.removeParticipants=function(e,t){return b((0,h.unproxy)(e),t)};var r=a(n(48926)),i=g(n(35232)),o=n(94816),s=n(48360),l=n(35255),u=n(46331),d=g(n(91960)),c=a(n(14296)),f=n(37722),h=n(18146),p=n(85893);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function _(){return v.apply(this,arguments)}function v(){return(v=(0,r.default)((function*(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,u.genId)();const r=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==r)return Promise.reject(new i.ActionError);if(t.some((e=>r.get(e.id))))return __LOG__(3)`models:groupMetadata:participantCollection:addParticipants already a group member`,Promise.reject(new i.ActionError);if(!r.canAdd())return Promise.reject(new i.ActionError);const s=(0,f.sendAddParticipants)(e.id,t.map((e=>e.id))),l=t.map((e=>e.formattedShortName)).join(c.default.t(257)),h=new u.ActionType(c.default.t(93,{participantNames:l,_plural:t.length})),m=s.then((e=>{r.sendForNeededAddRequest(e);const n=d.formatResult(e,d.addSuccessString,d.addFailedString,d.addPartialFailedString,t);return new u.ActionType(n)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:addParticipants dropped`,new u.ActionType(c.default.t(91,{participantNames:l,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>_(e,t,a)}))));o.ToastManager.open((0,p.jsx)(u.ActionToast,{id:a,initialAction:h,pendingAction:m})),yield s}))).apply(this,arguments)}function b(){return y.apply(this,arguments)}function y(){return(y=(0,r.default)((function*(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,u.genId)();const r=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==r)return Promise.reject(new i.ActionError);if(t.some((e=>!r.canRemove(e))))return Promise.reject(new i.ActionError);const s=(0,f.sendRemoveParticipants)(e.id,t.map((e=>e.id))),l=t.map((e=>e.contact.formattedShortName)).join(c.default.t(257)),h=new u.ActionType(c.default.t(104,{participantNames:l,_plural:t.length})),m=s.then((e=>{const n=d.formatRemoveResult(e,t.map((e=>e.contact)));return new u.ActionType(n)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:removeParticipants dropped`,new u.ActionType(c.default.t(102,{participantNames:l,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>b(e,t,a)}))));o.ToastManager.open((0,p.jsx)(u.ActionToast,{id:a,initialAction:h,pendingAction:m})),yield s}))).apply(this,arguments)}function C(){return S.apply(this,arguments)}function S(){return(S=(0,r.default)((function*(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,u.genId)();const r=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==r)return Promise.reject(new i.ActionError);if(t.some((e=>!r.canPromote(e))))return Promise.reject(new i.ActionError);const s=(0,f.sendPromoteParticipants)(e.id,t.map((e=>e.id))),l=t.map((e=>e.contact.formattedShortName)).join(c.default.t(257)),h=new u.ActionType(c.default.t(101,{participantNames:l,_plural:t.length})),m=s.then((e=>{const n=d.formatResult(e,d.promoteSuccessString,d.promoteFailedString,d.promotePartialFailedString,t.map((e=>e.contact)));return new u.ActionType(n)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:promoteParticipants dropped`,new u.ActionType(c.default.t(99,{participantNames:l,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>C(e,t,a)}))));o.ToastManager.open((0,p.jsx)(u.ActionToast,{id:a,initialAction:h,pendingAction:m})),yield s}))).apply(this,arguments)}function E(){return x.apply(this,arguments)}function x(){return(x=(0,r.default)((function*(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,u.genId)();const r=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==r)return Promise.reject(new i.ActionError);if(t.some((e=>!r.canDemote(e))))return Promise.reject(new i.ActionError);const s=(0,f.sendDemoteParticipants)(e.id,t.map((e=>e.id))),l=t.map((e=>e.contact.formattedShortName)).join(c.default.t(257)),h=new u.ActionType(c.default.t(96,{participantNames:l,_plural:t.length})),m=s.then((e=>{const n=d.formatResult(e,d.demoteSuccessString,d.demoteFailedString,d.demotePartialFailedString,t.map((e=>e.contact)));return new u.ActionType(n)})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:demoteParticipants dropped`,new u.ActionType(c.default.t(94,{participantNames:l,_plural:t.length}),{actionText:c.default.t(122),actionHandler:()=>E(e,t,a)}))));o.ToastManager.open((0,p.jsx)(u.ActionToast,{id:a,initialAction:h,pendingAction:m})),yield s}))).apply(this,arguments)}function T(){return M.apply(this,arguments)}function M(){return(M=(0,r.default)((function*(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,u.genId)();const r=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==r)return Promise.reject(new i.ActionError);if(t.some((e=>!r.canPromote(e))))return Promise.reject(new i.ActionError);const d=(0,l.promoteCommunityParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.contact.formattedShortName)).join(c.default.t(257)),h=new u.ActionType(s.fbt._({"*":"Making {userNames} community admins.",_1:"Making {userNames} community admin."},[s.fbt._plural(t.length),s.fbt._param("userNames",f)],{hk:"1l0YTU"})),m=d.then((e=>{if(207===e.status)return new u.ActionType(s.fbt._({"*":"{userNames} are now community admins.",_1:"{userNames} is now a community admin."},[s.fbt._plural(t.length),s.fbt._param("userNames",f)],{hk:"kEJDg"}))})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:promoteCommunityParticipants dropped`,new u.ActionType(s.fbt._("Promotion to community admin of {userNames} failed.",[s.fbt._param("userNames",f)],{hk:"ySNJt"}),{actionText:s.fbt._("Try again",null,{hk:"3fXdfM"}),actionHandler:()=>T(e,t,a)}))));o.ToastManager.open((0,p.jsx)(u.ActionToast,{id:a,initialAction:h,pendingAction:m})),yield d}))).apply(this,arguments)}function k(){return w.apply(this,arguments)}function w(){return(w=(0,r.default)((function*(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,u.genId)();const r=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants;if(null==r)return Promise.reject(new i.ActionError);if(t.some((e=>!r.canDemote(e))))return Promise.reject(new i.ActionError);const d=(0,l.demoteCommunityParticipants)(e.id,t.map((e=>e.id))),f=t.map((e=>e.contact.formattedShortName)).join(c.default.t(257)),h=new u.ActionType(s.fbt._({"*":"Dismissing {userNames} as community admins.",_1:"Dismissing {userNames} as a community admin."},[s.fbt._plural(t.length),s.fbt._param("userNames",f)],{hk:"MEyjx"})),m=d.then((e=>{if(207===e.status)return new u.ActionType(s.fbt._({"*":"{userNames} are no longer community admins.",_1:"{userNames} is no longer a community admin."},[s.fbt._plural(t.length),s.fbt._param("userNames",f)],{hk:"4hmEKz"}))})).catch((()=>(__LOG__(3)`models:groupMetadata:participantCollection:demoteCommunityParticipants dropped`,new u.ActionType(s.fbt._("Dismissing {userNames} as a community admin failed.",[s.fbt._param("userNames",f)],{hk:"4b6D43"}),{actionText:s.fbt._("Try again",null,{hk:"3fXdfM"}),actionHandler:()=>k(e,t,a)}))));o.ToastManager.open((0,p.jsx)(u.ActionToast,{id:a,initialAction:h,pendingAction:m})),yield d}))).apply(this,arguments)}},42906:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processSubgroups=c,t.queryAndUpdateSubgroupsMetadata=function(){return d.apply(this,arguments)},t.querySubgroupInfo=function(){return h.apply(this,arguments)};var r=a(n(48926)),i=n(88555),o=n(47066),s=n(22062),l=a(n(73213)),u=n(55316);function d(){return(d=(0,r.default)((function*(e){if((0,i.isLegacyWebdBackend)())return Promise.resolve();const t=yield(0,o.queryAllSubgroups)(e);yield c(t,e)}))).apply(this,arguments)}function c(){return f.apply(this,arguments)}function f(){return(f=(0,r.default)((function*(e,t){const n=(0,u.getUnjoinedSubgroups)(e),a=n.map((e=>e.id));yield(0,s.updateUnjoinedSubgroupsJob)(n,t),yield(0,s.cleanUnjoinedSubgroupsJob)(a,t),(0,u.updateUnjoinedSubgroupsInCollection)(n,t),(0,u.cleanUnjoinedSubgroupsInCollection)(a,t)}))).apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e,t){if((0,i.isLegacyWebdBackend)())return Promise.resolve();const n=yield(0,o.querySubgroup)(e,t),a=l.default.get(e.toString());return null!=a?(a.set({subject:n.subject,participants:n.participants,desc:n.desc,creation:n.creation,owner:n.owner}),a):void 0}))).apply(this,arguments)}},66155:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDesc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g((0,h.unproxy)(e),t)};var r=n(50796),i=n(87614),o=n(92574),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),l=n(94816),u=n(48360),d=n(46331),c=a(n(14296)),f=n(57490),h=n(18146),p=n(85893);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e){var t,n,a;let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,d.genId)(),_=h&&h.trim();if(_===(null===(t=e.groupMetadata)||void 0===t?void 0:t.desc))return Promise.reject(new s.ActionError);""===_&&(_=null);const v=(0,f.sendSetGroupDescription)(e.id,_,(0,i.randomHex)(8),null===(n=e.groupMetadata)||void 0===n?void 0:n.descId),b=null===(a=e.groupMetadata)||void 0===a?void 0:a.desc,y=new d.ActionType(u.fbt._("Changing group description",null,{hk:"3KCi4Y"})),C=v.then((()=>new d.ActionType(u.fbt._("Group description changed",null,{hk:"44gagH"}),{actionText:c.default.t(126),actionHandler:()=>g(e,b,m)}))).catch((0,r.filteredCatch)(o.ServerStatusCodeError,(e=>{if(e.status>=400)return new d.ActionType(u.fbt._("Group description change failed",null,{hk:"eSNfo"}))}))).catch((()=>(__LOG__(3)`models:chat:setGroupDesc dropped`,new d.ActionType(u.fbt._("Group description change failed",null,{hk:"eSNfo"}),{actionText:c.default.t(122),actionHandler:()=>g(e,_,m)}))));return l.ToastManager.open((0,p.jsx)(d.ActionToast,{id:m,initialAction:y,pendingAction:C})),v.then((t=>{var n;t._duplicate||(null===(n=e.groupMetadata)||void 0===n||n.set({desc:_||""}))})).catch((0,r.filteredCatch)(o.ServerStatusCodeError,(()=>{})))}},50760:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupSubject=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return m((0,c.unproxy)(e),t)};var r=n(50796),i=n(92574),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),s=n(94816),l=n(46331),u=a(n(14296)),d=n(57490),c=n(18146),f=n(27211),h=n(85893);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.genId)();const a=t.trim();if(!a)return Promise.reject(new o.ActionError);if(a===e.contact.name)return Promise.reject(new o.ActionError);const c=(0,d.sendSetGroupSubject)(e.id,a),p=e.contact.name,g=new l.ActionType(u.default.t(68)),_=c.then((()=>new l.ActionType(u.default.t(67,{subject:a}),{actionText:u.default.t(126),actionHandler:()=>m(e,p,n)}))).catch((0,r.filteredCatch)(i.ServerStatusCodeError,(e=>{if(e.status>=400)return new l.ActionType(u.default.t(66))}))).catch((()=>(__LOG__(3)`models:chat:setSubject dropped`,new l.ActionType(u.default.t(66),{actionText:u.default.t(122),actionHandler:()=>m(e,a,n)}))));return s.ToastManager.open((0,h.jsx)(l.ActionToast,{id:n,initialAction:g,pendingAction:_})),c.then((t=>{if(!t._duplicate){const t={name:a};return(0,f.updateLocal)(e.contact.id,t).then((()=>{e.contact.set(t)}))}})).catch((0,r.filteredCatch)(i.ServerStatusCodeError,(()=>{})))}},17879:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeToMD=function(e){let t,n,a;if(e){t="light"===(0,v.getTheme)()?"intro-md-beta-logo-light":"intro-md-beta-logo-dark",n=l.fbt._("New WhatsApp Web available",null,{hk:"2f2RlC"});const e=(0,y.jsx)(d.ExternalLink,{href:(0,r.getMdOptInFaqUrl)(),children:l.fbt._("Learn more",null,{hk:"1L9NkE"})}),o=(0,i.mdMigrationExperience)()?(0,y.jsx)(p.default,{id:648,params:{learn_more:e}},"learnmorelink"):(0,y.jsx)(p.default,{id:647,params:{learn_more:e}},"learnmorelink");a=[o,l.fbt._("This update will log out WhatsApp Web, and you can link immediately with your phone.",null,{hk:"1d1Nr9"})]}else t="light"===(0,v.getTheme)()?"logout-notice-light":"logout-notice-dark",n=l.fbt._("Logout Information",null,{hk:"2tycqT"}),a=[l.fbt._("This update will log out WhatsApp Web, and you can link immediately with your phone.",null,{hk:"3vigK5"})];o.ModalManager.open((0,y.jsx)(u.default,{onOK:C,type:m.ModalTheme.Upgrade,okText:h.default.t(233),onCancel:()=>o.ModalManager.close(),cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,y.jsxs)(c.FlexColumn,{align:"center",justify:"center",children:[(0,y.jsx)(g.default,{name:t}),(0,y.jsx)(_.TextDiv,{theme:"popup-title",className:f.default.upgradeModalTitle,children:n}),a.map(((e,t)=>(0,y.jsx)(_.TextDiv,{theme:"small",className:f.default.upgradeModalText,children:e},`content${t}`)))]})}))};var r=n(21310),i=n(8139),o=n(14597),s=n(55452),l=n(48360),u=a(n(52665)),d=n(12591),c=n(29623),f=a(n(31190)),h=a(n(14296)),p=a(n(56074)),m=n(57224),g=a(n(23217)),_=n(13923),v=n(97628),b=n(36089),y=n(85893);function C(){const e=()=>{(0,s.setMdOptedIn)(!1),(0,s.setShowMdUpgradeCompleteMsg)(!1),o.ModalManager.open((0,y.jsx)(u.default,{onOK:C,type:m.ModalTheme.Upgrade,okText:l.fbt._("Try Again",null,{hk:"1UTnaS"}),onCancel:()=>o.ModalManager.close(),cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,y.jsxs)(c.FlexColumn,{align:"center",justify:"center",children:[(0,y.jsx)(g.default,{name:"light"===(0,v.getTheme)()?"internet-disconnected-light":"internet-disconnected-dark"}),(0,y.jsx)(_.TextDiv,{className:f.default.upgradeModalErrorText,theme:"small",children:l.fbt._("Check your internet connection and try again.",null,{hk:"Os6BU"})})]})}))};o.ModalManager.close(),(0,s.setMdOptedIn)(!0),(0,s.setShowMdUpgradeCompleteMsg)(!0),(0,b.sendUpgradeToMD)().then((t=>{let{status:n}=t;200!==n&&e()})).catch((t=>{__LOG__(2)`Error while sending MdOptIn ${t}`,e()}))}},30734:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.canMarkPlayed=function(e){return c((0,d.unproxy)(e))},t.markPlayed=function(e){return function(e){c(e)?(0,u.default)(e).then((()=>{e.ack=i.ACK.PLAYED,e.isViewOnce&&(0,l.handleActivitiesForChatThreadLogging)([{activityType:"viewOnceOpen",ts:e.t,chatId:e.id.remote}])})).catch((0,r.filteredCatch)(o.WebdDrop,(()=>{}))):__LOG__(2)`Msg:msg should not call sendPlayed`}((0,d.unproxy)(e))};var r=n(50796),i=n(35470),o=n(92574),s=n(15461),l=n(16116),u=a(n(58355)),d=n(18146);function c(e){return!e.isSentByMe&&(!(e.ack>=i.ACK.PLAYED)&&(e.type===s.MSG_TYPE.PTT||e.isViewOnce))}},23094:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPaymentMessageBackgroundImageBuffer=function(){return l.apply(this,arguments)};var r=a(n(48926)),i=n(88555),o=n(50854),s=n(20625);function l(){return(l=(0,r.default)((function*(e){if(null==e.id||(0,i.isLegacyWebdBackend)())return;const{id:t}=e;let n=yield(0,s.getPaymentBackgroundImageBuffer)(t);return n||(n=yield(0,o.downloadPaymentBackgroundImage)({paymentBackground:e}),n?(yield(0,s.addPaymentBackground)({id:t,imageBuffer:n}),n):null)}))).apply(this,arguments)}},30871:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendVote=function(){return b.apply(this,arguments)};var r=a(n(48926)),i=n(24674),o=n(35470),s=n(40234),l=a(n(65212)),u=n(78820),d=n(15461),c=n(17304),f=n(54676),h=n(29731),p=n(91672),m=n(26506),g=n(19708),_=n(13705),v=n(25504);function b(){return(b=(0,r.default)((function*(e,t){const n=e.chat.id,a=(0,u.assertGetMeUser)(),b=e.chat.isGroup?a:void 0,y=s.Clock.globalUnixTimeMilliseconds(),C=Math.floor(y/1e3),S=new l.default({from:a,to:n,id:l.default.newId(),participant:b,selfDir:"out"}),E=yield Promise.all(e.pollOptions.filter((e=>t.has(e.localId))).map(p.getPollOptionHash)),x={selectedOptions:0===E.length?null:E,senderTimestampMs:y},T=self.crypto.getRandomValues(new Uint8Array(12)),M=yield(0,m.encryptPollVote)({vote:x,pollCreationMessageEncKey:e.pollEncKey,iv:T,stanzaId:e.id.id,voterWid:a}),k=new c.Msg({id:S,type:d.MSG_TYPE.POLL_UPDATE,t:C,from:a,to:n,self:"out",isNewMsg:!0,local:!0,ack:o.ACK.CLOCK,pollUpdateParentKey:(0,f.getReferentialKey)(e),encPollVote:{encPayload:M,encIv:T}});null!=x.selectedOptions&&(yield(0,v.upsertVote)(k));return new h.NonPersistJob("sendMessage",(0,r.default)((function*(){const e=yield(0,g.sendMsgRecord)(k);if(e!==_.SendMsgResult.OK)throw new Error("Vote send error");return null==x.selectedOptions&&(yield(0,v.upsertVote)(k)),e})),{priority:i.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}))).apply(this,arguments)}},21357:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendReactionToMsg=function(){return x.apply(this,arguments)};var r=a(n(48926)),i=n(24674),o=n(35470),s=n(40234),l=a(n(65212)),u=n(67811),d=n(78820),c=n(45454),f=n(90981),h=n(84886),p=n(51708),m=a(n(11339)),g=n(17304),_=n(54676),v=n(29731),b=n(76332),y=n(57162),C=n(19708),S=n(13705),E=n(84746);function x(){return(x=(0,r.default)((function*(e,t){const n=e.chat.id,a=(0,d.getMaybeMeUser)(),x=e.chat.isGroup?(0,c.toUserWid)(a):void 0,T=e.id,M=yield y.ReactionsCollection.find(T.toString()),k=s.Clock.globalUnixTime();let w=1e3*k;const A=M.reactionByMe;A&&(w=Math.max(A.timestamp+1,w));const P=new l.default({from:a,to:n,id:l.default.newId(),participant:x,selfDir:"out"}),j={id:P,reactionParentKey:(0,_.getReferentialKey)(e),type:"reaction",t:k,from:a,to:n,self:"out",isNewMsg:!0,local:!0,ack:o.ACK.CLOCK,reactionText:t,reactionTimestamp:w},I=new g.Msg(j),O={msgKey:P.toString(),parentMsgKey:e.id.toString(),senderUserJid:a.toString(),reactionText:t,timestamp:w,orphan:0,read:!0,ack:o.ACK.CLOCK},N=(0,E.createMessageSendMetric)(I);var R;(I.wamMessageSendPerfReporter=new p.MessageSendPerfReporter(I.to,I.getWamMediaType(),I.getWamMessageType()),t!==u.REVOKED_REACTION_TEXT)&&(I.wamMessageSendPerfReporter.startRenderedStage(),yield(0,b.addOrUpdateReactions)(O,!1),null===(R=I.wamMessageSendPerfReporter)||void 0===R||R.postRenderedStage(),(0,u.updateRecentReaction)(t,w));return new v.NonPersistJob("sendMessage",(0,r.default)((function*(){try{var n,a;null===(n=I.wamMessageSendPerfReporter)||void 0===n||n.startSavedStage(),yield(0,h.storeMessages)([j],e.chat.id),null===(a=I.wamMessageSendPerfReporter)||void 0===a||a.postSavedStage()}catch(e){throw __LOG__(4,!0,new Error,!0)`sendReaction: failed to store sent reaction message into Message storage`,SEND_LOGS("storeSentReaction failed"),e}if(A){const n=t!==u.REVOKED_REACTION_TEXT?m.default.REACTION_ACTION_TYPE.UPDATE:m.default.REACTION_ACTION_TYPE.DELETE;new m.default.ReactionActions({mediaType:e.getWamMediaType(),messageType:e.getWamMessageType(),reactionAction:n}).commit(),yield(0,f.getTable)().remove(A.msgKey)}const r=yield(0,C.sendMsgRecord)(I,N);if(r===S.SendMsgResult.OK&&t===u.REVOKED_REACTION_TEXT&&(yield(0,b.addOrUpdateReactions)(O,!1)),r!==S.SendMsgResult.OK)throw new Error("Reactions send Error");return r})),{priority:i.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}))).apply(this,arguments)}},67774:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.dismissNux=function(e){return s(e,!0)},t.viewNux=s;var r=n(71579),i=n(74315),o=a(n(34610));function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.getNUX)(e),a=null!=n?n:{views:0},s=(0,r.getNuxMaxViews)(e),l=t?s:a.views+1;if((0,i.setNUX)(e,{views:l}),l>=s){const t=(0,r.getNuxSyncKey)(e);if(t)return o.default.markNuxAsSeen(t)}return Promise.resolve()}},65376:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setDisappearingMode=function(){return u.apply(this,arguments)};var r=a(n(48926)),i=n(40234),o=n(78820),s=n(91036),l=n(68462);function u(){return(u=(0,r.default)((function*(e){yield(0,l.setDisappearingMode)(e),yield(0,s.updateDisappearingMode)((0,o.getMaybeMeUser)(),e,i.Clock.globalUnixTime())}))).apply(this,arguments)}},39434:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.privacyWebNameToServerName=function(e){switch(e){case"readReceipts":return"readreceipts";case"groupAdd":return"groupadd";case"profilePicture":return"profile";case"about":return"status";case"lastSeen":return"last"}},t.setPrivacyForOneCategory=function(){return p.apply(this,arguments)};var r=a(n(81109)),i=a(n(48926)),o=a(n(45095)),s=n(92574),l=n(55452),u=n(61319),d=n(94646),c=n(14810);function f(e){switch(e){case"readreceipts":return"readReceipts";case"groupadd":return"groupAdd";case"profile":return"profilePicture";case"status":return"about";case"last":return"lastSeen"}}function h(e){switch(e){case"status":return u.PrivacyDisallowedListType.About;case"groupadd":return u.PrivacyDisallowedListType.GroupAdd;case"last":return u.PrivacyDisallowedListType.LastSeen;case"profile":return u.PrivacyDisallowedListType.ProfilePicture;default:throw new Error("castToPrivacyDisallowedListType: invalid name")}}function p(){return(p=(0,i.default)((function*(e,t){const n=yield(0,d.setPrivacy)([e]);if(1!==n.length)throw new Error("setPrivacy should return one response");const a=n[0];if(a instanceof s.ServerStatusCodeError)throw 409===a.statusCode&&"contact_blacklist"===e.value&&(yield(0,c.syncSinglePrivacyDisallowedList)(h(e.name))),a;const{name:i,value:p}=e,m=f(i);if((0,l.setUserPrivacySettings)((0,r.default)((0,r.default)({},(0,l.getUserPrivacySettings)()),{},{[m]:p})),"contact_blacklist"===p){const e={id:h(i),disallowedList:(0,o.default)(t,"contactExceptList").map((e=>e.toString())),dhash:(0,o.default)(a.dhash,"response.dhash")};yield(0,u.getTable)().createOrReplace(e)}}))).apply(this,arguments)}},83610:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addStickerMsgToFavorites=function(e){if((0,r.isLegacyWebdBackend)())return;i.default.addNewSticker(new o.StickerModel({id:e.filehash,mimetype:e.mimetype,width:e.width,height:e.height,filehash:e.filehash,encFilehash:e.encFilehash,directPath:e.directPath,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp}))},t.addStickerToFavorites=function(e){if((0,r.isLegacyWebdBackend)())return;i.default.addNewSticker(new o.StickerModel({id:e.id,mimetype:e.mimetype,width:e.width,height:e.height,filehash:e.filehash,encFilehash:e.encFilehash,directPath:e.directPath,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp}))},t.isStickerFilehashFavorited=function(e){return null!=i.default.get(e)},t.removeStickerFromFavorites=function(e){if((0,r.isLegacyWebdBackend)())return;i.default.removeAndSave(e.filehash)},t.removeStickerMsgFromFavorites=function(e){if((0,r.isLegacyWebdBackend)())return;i.default.removeAndSave(e.filehash)};var r=n(88555),i=a(n(70723)),o=n(99718)},79991:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFirstPartyStickerPack=function(){return b.apply(this,arguments)},t.fetchFirstPartyStickerPacks=function(){return v.apply(this,arguments)};var r=a(n(48926)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),o=a(n(76139)),s=n(78820),l=n(92059),u=a(n(26847)),d=a(n(14296)),c=a(n(11339)),f=a(n(53565));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const p="https://static.whatsapp.net/sticker";function m(){return g.apply(this,arguments)}function g(){return(g=(0,r.default)((function*(e,t){const n=o.default.build(p,e),a=yield(0,u.default)(n,{signal:t.signal}),r=new c.default.StickerCommonQueryToStaticServer;if(r.set({httpResponseCode:a.status,params:new f.default(e).toString(),queryType:c.default.QUERY_TYPE.STICKER_PACK_DATA}),r.commit(),!a.ok)throw new i.InvalidServerResponseError(n,a.status.toString(),"Invalid response from WhatsApp stickers endpoint");const s=yield a.json();if(null==s||0===s.length)throw new i.InvalidServerResponseError(n,a.status.toString(),`Invalid response from WhatsApp stickers endpoint: ${JSON.stringify(s)}`);return s}))).apply(this,arguments)}function _(e,t){const n={id:e["sticker-pack-id"],name:e.name,publisher:e.publisher,description:e.description,fileSize:Number(e["file-size"]),imageDataHash:e["image-data-hash"],animated:1===e.animated,previewImageIds:e["preview-image-ids"],trayImageId:e["tray-image-id"],trayImagePreview:e["tray-image-preview"]};return null!=t&&(n.index=t),n}function v(){return(v=(0,r.default)((function*(e){var t;const n=d.default.getLocale(),a=(0,l.getCountryShortcodeByPhone)(null===(t=(0,s.getMaybeMeUser)())||void 0===t?void 0:t.user)||"default";return(yield m({cat:"sticker_store_data",id:"all",lg:n,country:a},{signal:e.signal})).map(((e,t)=>_(e,t)))}))).apply(this,arguments)}function b(){return(b=(0,r.default)((function*(e){const t=d.default.getLocale(),n={cat:"sticker_pack_data",id:e.id,lg:t};return _((yield m(n,{signal:e.signal}))[0])}))).apply(this,arguments)}},88577:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.searchFirstPartyStickers=function(){return g.apply(this,arguments)};var r=a(n(81109)),i=a(n(48926)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),s=a(n(76139)),l=n(78820),u=n(92059),d=a(n(26847)),c=a(n(11339)),f=n(99718),h=a(n(53565));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m="https://static.whatsapp.net/sticker";function g(){return(g=(0,i.default)((function*(e,t){var n;const a=(0,u.getCountryShortcodeByPhone)(null===(n=(0,l.getMaybeMeUser)())||void 0===n?void 0:n.user)||"default";let i=0,p=0;for(;i<=250;)i+=3+encodeURIComponent(e[p++]).length;const g=e.slice(0,p-1).join(","),_={country:a},v=s.default.build(m,(0,r.default)({cat:"sticker_search",terms:g},_)),b=yield(0,d.default)(v,{signal:null==t?void 0:t.signal}),y=new c.default.StickerCommonQueryToStaticServer;if(y.set({httpResponseCode:b.status,params:new h.default(_).toString(),queryType:c.default.QUERY_TYPE.STICKER_SEARCH}),y.commit(),!b.ok)throw new o.InvalidServerResponseError(v,b.status.toString(),"Invalid response from WhatsApp stickers endpoint");const C=yield b.json();if(null==C)throw new o.InvalidServerResponseError(v,b.status.toString(),`Invalid response from WhatsApp stickers endpoint: ${JSON.stringify(C)}`);return C.map(((e,t)=>new f.StickerModel({mimetype:e.mimetype,width:e.width,height:e.height,filehash:e["file-hash"],directPath:e["direct-path"],mediaKey:e["media-key"],id:e["file-hash"],encFilehash:e["enc-file-hash"],mediaKeyTimestamp:0,index:t})))}))).apply(this,arguments)}},85330:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendStickerToChat=function(e,t,n){return function(){return c.apply(this,arguments)}((0,u.unproxy)(e),t,n)};var r=a(n(6479)),i=a(n(48926)),o=n(78986),s=a(n(11339)),l=a(n(34949)),u=(n(13705),n(18146));const d=["stickerSendOrigin"];function c(){return(c=(0,i.default)((function*(e,t,a){n(91692).RecentStickerCollection.enqueue([t]),t.mediaData&&t.mediaData.mediaBlob instanceof l.default&&t.mediaData.mediaBlob.retain();const{stickerSendOrigin:i}=a,u=(0,r.default)(a,d),c=yield(0,o.prepSticker)(t).sendToChat(e,u);return new s.default.StickerSend({stickerSendOrigin:i,stickerIsAnimated:Boolean(t.mediaData.isAnimated),stickerIsFirstParty:Boolean(t.mediaData.isFirstParty),stickerIsFromStickerMaker:Boolean(t.mediaData.isFromStickerMaker)}).commit(),c}))).apply(this,arguments)}},98248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=a.ChatCollection.getActive();if(null==n)return void __LOG__(4,void 0,new Error)`Cannot call sendStickerToActiveChat without an active chat`;const{ctwaContextLinkData:o,ctwaContext:s}=n.getComposeContents(),l={stickerSendOrigin:t,quotedMsg:n.composeQuotedMsg,ctwaContext:(0,r.prepareCtwaContextSend)(o,s)};n.composeQuotedMsg=null,(0,i.sendStickerToChat)(n,e,l)};var a=n(69951),r=n(77853),i=n(85330)},71055:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.refreshCartMD=function(){return h.apply(this,arguments)},t.refreshCartResponse=void 0;var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(8139),u=a(n(57291)),d=n(24747),c=n(39410);const f=new o.WapParser("refreshCartResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("cart"),n=t.maybeChild("price"),a={},r=null==n?void 0:n.maybeChild("subtotal");r&&(a.subtotal=r.contentString());const i=null==n?void 0:n.maybeChild("total");i&&(a.total=i.contentString());const o=null==n?void 0:n.maybeChild("currency");o&&(a.currency=o.contentString());const s=null==n?void 0:n.maybeChild("price_status");s&&(a.price_status=s.contentString());const l=[];return t.forEachChildWithTag("product",(e=>{const t=e.child("id").contentString(),n=e.maybeChild("name"),a=n?n.contentString():null,r=e.maybeChild("price"),i=r?r.contentString():null,o=e.maybeChild("currency"),s=o?o.contentString():null;let u;const d=e.maybeChild("media"),c=d?d.maybeChild("image"):null;if(null!=c){u={image:{}};const e=c.maybeChild("id");e&&e.hasContent()&&(u.image.id=e.contentString());const t=c.maybeChild("request_image_url");t&&t.hasContent()&&(u.image.request_image_url=t.contentString())}const f={id:t,name:a,price:i,currency:s,media:u},h=e.maybeChild("sale_price");var p,m;h&&(f.sale_price={price:h.child("price").contentString(),start_date:null===(p=h.maybeChild("start_date"))||void 0===p?void 0:p.contentString(),end_date:null===(m=h.maybeChild("end_date"))||void 0===m?void 0:m.contentString()});const g=e.maybeChild("status");g&&(f.status=g.contentString()),l.push(f)})),{price:a,products:l}}));function h(){return(h=(0,r.default)((function*(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if((0,l.commerceFeaturesDisabledBySanctions)())return Promise.reject(new s.E451);const o=(0,i.wap)("iq",{to:i.S_WHATSAPP_NET,smax_id:"11",xmlns:"fb:thrift_iq",id:(0,i.generateId)(),type:"get"},(0,i.wap)("cart",{op:(0,i.CUSTOM_STRING)("refresh"),biz_jid:(0,c.USER_JID)(e)},t.map((e=>(0,i.wap)("product",null,(0,i.wap)("id",null,e)))).concat((0,u.default)([(0,i.wap)("image_dimensions",null,(0,i.wap)("width",null,n.toString()),(0,i.wap)("height",null,a.toString())),r?(0,i.wap)("direct_connection_encrypted_info",null,r):null])))),h=yield(0,d.sendIq)(o,f);if(h.success)return h.result;if(451===h.errorCode)throw new s.E451;throw new s.ServerStatusCodeError(h.errorCode)}))).apply(this,arguments)}t.refreshCartResponse=f},49673:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getUserByCustomURL=function(){return d.apply(this,arguments)};var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(24747);const u=new o.WapParser("customURLResponse",(e=>{e.assertTag("iq"),e.assertFromServer();return{user:{jid:e.child("user").attrUserJid("jid")}}}));function d(){return(d=(0,r.default)((function*(e){const t=(0,i.wap)("iq",{smax_id:"79",xmlns:"fb:thrift_iq",type:"get",to:i.S_WHATSAPP_NET,id:(0,i.generateId)()},(0,i.wap)("custom_url",null,(0,i.wap)("path",null,e))),n=yield(0,l.sendIq)(t,u);if(!n.success)throw new s.ServerStatusCodeError(n.errorCode,n.errorText);return n.result}))).apply(this,arguments)}},35654:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.joinGroupViaInvite=function(){return m.apply(this,arguments)},t.queryGroupInviteCode=function(e){return f((0,i.wap)("iq",{type:"get",xmlns:"w:g2",to:(0,d.GROUP_JID)(e),id:(0,i.generateId)()},(0,i.wap)("invite",null)))},t.resetGroupInviteCode=function(e){return f((0,i.wap)("iq",{type:"set",xmlns:"w:g2",to:(0,d.GROUP_JID)(e),id:(0,i.generateId)()},(0,i.wap)("invite",null)))};var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(81663),u=n(24747),d=n(39410);const c=new o.WapParser("queryGroupInviteCodeParser",(e=>({code:e.child("invite").attrString("code")})));function f(){return h.apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){const t=yield(0,u.sendIq)(e,c);return t.success?t.result:(__LOG__(2)`sendGroupInviteIq failed: ${t.errorCode} : ${t.errorType}`,Promise.reject(new s.ServerStatusCodeError(t.errorCode,t.errorText)))}))).apply(this,arguments)}const p=new o.WapParser("joinGroupViaInviteParser",(e=>{e.assertTag("iq"),e.assertAttr("from","g.us"),e.assertAttr("type","result");const t=e.child("group");return{gid:(0,l.groupJidToWid)(t.attrGroupJid("jid"))}}));function m(){return(m=(0,r.default)((function*(e){const t=(0,i.wap)("iq",{type:"set",xmlns:"w:g2",to:i.G_US,id:(0,i.generateId)()},(0,i.wap)("invite",{code:(0,i.CUSTOM_STRING)(e)})),n=yield(0,u.sendIq)(t,p);return n.success?n.result:(__LOG__(2)`joinGroupInvite failed: ${n.errorCode}:${n.errorType}`,Promise.reject(new s.ServerStatusCodeError(n.errorCode,n.errorText)))}))).apply(this,arguments)}},50551:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.joinSubgroup=function(){return h.apply(this,arguments)};var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(81663),u=n(24747),d=n(55981),c=n(39410);const f=new o.WapParser("joinSubgroupParser",(e=>{e.assertTag("iq"),e.assertAttr("type","result");let t=200;if(e.hasChild("error")){t=e.child("error").attrInt("code")}return{gid:(0,l.groupJidToWid)(e.attrGroupJid("from")),status:t}}));function h(){return(h=(0,r.default)((function*(e,t,n){const a=n===d.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?"default_sub_group":"sub_group",r=(0,i.wap)("iq",{type:"set",xmlns:"w:g2",to:(0,c.JID)(e),id:(0,i.generateId)()},(0,i.wap)("join_linked_group",{type:a,jid:(0,c.JID)(t)})),o=yield(0,u.sendIq)(r,f);return o.success?o.result:(__LOG__(2)`joinSubgroup failed: ${o.errorCode}:${o.errorType}`,Promise.reject(new s.ServerStatusCodeError(o.errorCode)))}))).apply(this,arguments)}},77287:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDescription=function(e,t,n,a){const r=t?(0,i.wap)("description",{id:(0,i.CUSTOM_STRING)(n),prev:(0,i.MAYBE_CUSTOM_STRING)(a)},(0,i.wap)("body",null,t)):(0,i.wap)("description",{delete:"true",prev:(0,i.MAYBE_CUSTOM_STRING)(a)});return f((0,i.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},r))},t.setGroupProperty=function(e,t,n){let a;switch(t){case l.GROUP_SETTING_TYPE.ANNOUNCEMENT:a=1===n?(0,i.wap)("announcement",null):(0,i.wap)("not_announcement",null);break;case l.GROUP_SETTING_TYPE.RESTRICT:a=1===n?(0,i.wap)("locked",null):(0,i.wap)("unlocked",null);break;case l.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:a=1===n?(0,i.wap)("no_frequently_forwarded",null):(0,i.wap)("frequently_forwarded_ok",null);break;case l.GROUP_SETTING_TYPE.EPHEMERAL:a=n>0?(0,i.wap)("ephemeral",{expiration:(0,i.INT)(n)}):(0,i.wap)("not_ephemeral",null);break;default:return Promise.reject(new Error(`invalid group property ${t}`))}return f((0,i.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},a))},t.setGroupSubject=function(e,t){return f((0,i.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},(0,i.wap)("subject",null,t)))};var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(12380),u=n(24747),d=n(39410);const c=new o.WapParser("setGroupInfoParser",(e=>{if(e.hasChild("error")){const t=e.child("error");return{errorCode:t.attrInt("code"),errorText:t.hasAttr("text")?t.attrString("text"):""}}return{success:!0}}));function f(){return h.apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){const t=yield(0,u.sendIq)(e,c);if(!t.success)return Promise.reject(new s.ServerStatusCodeError(t.errorCode,t.errorText))}))).apply(this,arguments)}},35255:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addGroupParticipants=function(e,t){return C(e,t,p).catch((0,o.filteredCatch)(u.ServerStatusCodeError,(e=>({status:e.statusCode}))))},t.demoteCommunityParticipants=function(e,t){return C(e,t,v).catch((e=>{__LOG__(3)`error sending demoting community participants iq: ${e}`}))},t.demoteGroupParticipants=function(e,t){return C(e,t,m).catch((e=>{__LOG__(3)`error sending demoting group participants iq: ${e}`}))},t.promoteCommunityParticipants=function(e,t){return C(e,t,_).catch((e=>{__LOG__(3)`error sending promoting community participants iq: ${e}`}))},t.promoteGroupParticipants=function(e,t){return C(e,t,g).catch((e=>{__LOG__(3)`error sending promoting group participants iq: ${e}`}))},t.removeGroupParticipants=function(e,t){return C(e,t,h).catch((e=>{__LOG__(3)`error sending removing group participants iq: ${e}`}))};var r=a(n(81109)),i=a(n(48926)),o=n(50796),s=n(31914),l=n(71914),u=n(92574),d=n(81663),c=n(24747),f=n(39410);const h="remove",p="add",m="demote",g="promote",_="community-promote",v="community-demote";function b(e){return new l.WapParser(`${e}GroupParticipantsReplyParser`,(t=>({id:t.attrString("id"),participants:t.child(e).mapChildren((e=>{const t=e.maybeChild("add_request");return{wid:(0,d.userJidToUserWid)(e.attrUserJid("jid")),error:e.hasAttr("error")?e.attrInt("error"):null,invite_code:t&&t.attrString("code"),invite_code_exp:t&&t.attrString("expiration")}}))})))}function y(e){return new l.WapParser(`${e}CommunityParticipantsReplyParser`,(e=>({id:e.attrString("id"),participants:e.child("admin").mapChildren((e=>({wid:(0,d.userJidToUserWid)(e.attrUserJid("jid")),error:e.hasAttr("error")?e.attrInt("error"):null,type:e.hasAttr("type")?e.attrString("type"):null})))})))}function C(){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e,t,n){const a=t.map((e=>(0,s.wap)("participant",{jid:(0,f.USER_JID)(e)})));let i;switch(n){case p:i=(0,s.wap)("add",null,a);break;case h:i=(0,s.wap)("remove",null,a);break;case m:i=(0,s.wap)("demote",null,a);break;case g:i=(0,s.wap)("promote",null,a);break;case _:i=(0,s.wap)("admin",null,(0,s.wap)("promote",null,a));break;case v:i=(0,s.wap)("admin",null,(0,s.wap)("demote",null,a));break;default:return Promise.reject(new Error(`invalid group operation ${n}`))}const o=(0,s.wap)("iq",{to:(0,f.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,s.generateId)()},i);let l;if(l=n===_||n===v?yield(0,c.sendIq)(o,y(n)):yield(0,c.sendIq)(o,b(n)),l.success){const{participants:e}=l.result,t={};return e.forEach((e=>{Object.assign(t,{[e.wid.toString()]:null!=e.error?e.error:200})})),(0,r.default)((0,r.default)({},t),{},{status:207,participants:e.map((e=>({[e.wid.toString()]:{code:null!=e.error&&e.error.toString()||"200",invite_code:e.invite_code,invite_code_exp:e.invite_code_exp}})))})}return Promise.reject(new u.ServerStatusCodeError(l.errorCode,l.errorText))}))).apply(this,arguments)}},47066:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryAllSubgroups=function(){return h.apply(this,arguments)},t.querySubgroup=function(){return p.apply(this,arguments)};var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(24747),u=n(59036),d=n(39410);const c=new o.WapParser("queryAllSubgroupsParser",(e=>e.child("sub_groups").mapChildren(u.parseSubgroupNode))),f=new o.WapParser("querySubgroupParser",(e=>e.child("linked_group").mapChildren(u.parseSubgroupInfoNode)));function h(){return(h=(0,r.default)((function*(e){const t=(0,i.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"get",xmlns:"w:g2",id:(0,i.generateId)()},(0,i.wap)("sub_groups",null)),n=yield(0,l.sendIq)(t,c);return n.success?n.result:(__LOG__(2)`queryAllSubgroups failed: ${n.errorCode}:${n.errorType}`,Promise.reject(new s.ServerStatusCodeError(n.errorCode,n.errorText)))}))).apply(this,arguments)}function p(){return(p=(0,r.default)((function*(e,t){const n=(0,i.wap)("iq",{to:(0,d.GROUP_JID)(t),type:"get",xmlns:"w:g2",id:(0,i.generateId)()},(0,i.wap)("query_linked",{type:"sub_group",jid:(0,d.GROUP_JID)(e)})),a=yield(0,l.sendIq)(n,f);return a.success?a.result[0]:(__LOG__(2)`queryAllSubgroups failed: ${a.errorCode}:${a.errorType}`,Promise.reject(new s.ServerStatusCodeError(a.errorCode,a.errorText)))}))).apply(this,arguments)}},93837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupInviteProfilePicJob=function(e,t,n){const o={groupWid:e,code:t,option:n};return(0,r.NonPersistJob)("queryGroupInviteProfilePic",(()=>(0,i.queryGroupInviteProfilePic)(o)),{priority:a.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted(o)};var a=n(24674),r=n(29731),i=n(7239)},26409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFanOutListJob=function(e){return(0,i.NonPersistJob)("getFanOutList",(e=>(0,r.getFanOutList)(e)),{priority:a.JOB_PRIORITY.SKIP}).waitUntilCompleted({wids:e})};var a=n(24674),r=n(16104),i=n(29731)},63262:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.cartItemToNode=c,t.createOrderMD=function(){return f.apply(this,arguments)},t.createOrderResponse=void 0;var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(24747),u=n(39410);const d=new o.WapParser("createOrderResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("order"),n=t.attrString("id"),a=t.attrString("token"),r=t.maybeChild("price"),i={},o=null==r?void 0:r.maybeChild("subtotal");o&&(i.subtotal=o.contentString());const s=null==r?void 0:r.maybeChild("total");s&&(i.total=s.contentString());const l=null==r?void 0:r.maybeChild("currency");l&&(i.currency=l.contentString());const u=null==r?void 0:r.maybeChild("price_status");return u&&(i.price_status=u.contentString()),{id:n,token:a,price:i}}));function c(e){const t=null!=e.priceAmount1000?(0,i.wap)("price",null,e.priceAmount1000.toString()):void 0,n=e.currency?(0,i.wap)("currency",null,e.currency):void 0;return(0,i.wap)("product",null,(0,i.wap)("id",null,e.id),(0,i.wap)("name",null,e.name),t,n,(0,i.wap)("quantity",null,e.quantity.toString()))}function f(){return(f=(0,r.default)((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=(0,i.wap)("iq",{to:i.S_WHATSAPP_NET,smax_id:"10",xmlns:"fb:thrift_iq",id:(0,i.generateId)(),type:"set"},(0,i.wap)("order",{op:(0,i.CUSTOM_STRING)("create"),biz_jid:(0,u.USER_JID)(e)},t.map((e=>c(e))).concat(n?(0,i.wap)("direct_connection_encrypted_info",null,n):[]))),r=yield(0,l.sendIq)(a,d);if(r.success)return r.result;if(451===r.errorCode)throw new s.E451;throw new s.ServerStatusCodeError(r.errorCode)}))).apply(this,arguments)}t.createOrderResponse=d},49693:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryOrder=function(){return c.apply(this,arguments)},t.queryOrderResponse=void 0;var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(8139),u=n(24747);const d=new o.WapParser("queryOrderResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("order"),n=t.hasAttr("creation_ts")?t.attrTime("creation_ts"):null,a=t.maybeChild("price"),r=null==a?void 0:a.maybeChild("subtotal"),i=r?parseInt(r.contentString(),10):null,o=null==a?void 0:a.maybeChild("currency"),s=o?o.contentString():null,l=null==a?void 0:a.maybeChild("tax"),u=l?parseInt(l.contentString(),10):null,d=null==a?void 0:a.maybeChild("total"),c=d?parseInt(d.contentString(),10):null,f=[];return t.forEachChildWithTag("product",(e=>{const t=e.child("id").contentString(),n=e.child("name").contentString(),a=e.maybeChild("price"),r=a?parseInt(a.contentString(),10):null,i=e.maybeChild("quantity"),o=i?parseInt(i.contentString(),10):null,s=e.maybeChild("currency"),l=s?s.contentString():null;let u=null,d=null;const c=e.maybeChild("image");if(null!=c){const e=c.maybeChild("url");d=e&&e.hasContent()?e.contentString():null;const t=c.maybeChild("id");u=t&&t.hasContent()?t.contentString():null}f.push({id:t,price:r,thumbnailId:u,thumbnailUrl:d,currency:l,name:n,quantity:o})})),{currency:s,createdAt:n,products:f,subtotal:i,total:c,tax:u}}));function c(){return(c=(0,r.default)((function*(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if((0,l.commerceFeaturesDisabledBySanctions)())return Promise.reject(new s.E451);const o=(0,i.wap)("iq",{to:i.S_WHATSAPP_NET,smax_id:"5",xmlns:"fb:thrift_iq",id:(0,i.generateId)(),type:"get"},(0,i.wap)("order",{op:(0,i.CUSTOM_STRING)("get"),id:(0,i.CUSTOM_STRING)(e)},(0,i.wap)("image_dimensions",null,(0,i.wap)("width",null,t.toString()),(0,i.wap)("height",null,n.toString())),(0,i.wap)("token",null,a),r?(0,i.wap)("direct_connection_encrypted_info",null,r):null)),c=yield(0,u.sendIq)(o,d);if(c.success)return c.result;if(451===c.errorCode)throw new s.E451;throw new s.ServerStatusCodeError(c.errorCode)}))).apply(this,arguments)}t.queryOrderResponse=d},76815:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return h.apply(this,arguments)};var r=a(n(48926)),i=n(15688),o=n(31914),s=n(71914),l=n(92574),u=n(45454),d=n(24747),c=n(24808);const f=new s.WapParser("ctwaContext",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("context"),n={};return e.hasChild("error")?(function(e){const t=e&&e.maybeAttrString("code"),n=e&&e.maybeAttrString("text");__LOG__(3)`getCtwaContext error: code ${t} text ${n}`}(e.child("error")),Promise.reject(new Error("invalid response"))):(n.sourceUrl=t.child("source").child("url").contentString(),n.sourceId=t.child("source").child("id").contentString(),n.sourceType=t.child("source").child("type").contentString(),t.hasChild("headline")&&(n.title=t.child("headline").contentString()),t.hasChild("body")&&(n.description=t.child("body").contentString()),t.hasChild("thumbnail")&&(t.child("thumbnail").hasChild("url")&&(n.thumbnailUrl=t.child("thumbnail").child("url").contentString()),t.child("thumbnail").hasChild("bytes")&&(n.thumbnail=(0,i.encodeB64)(t.child("thumbnail").child("bytes").contentBytes())),t.hasChild("video")?(n.mediaUrl=t.child("video").child("url").contentString(),n.mediaType=c.ContextInfo$ExternalAdReplyInfoMediaType.VIDEO):n.mediaType=c.ContextInfo$ExternalAdReplyInfoMediaType.IMAGE),n)}));function h(){return(h=(0,r.default)((function*(e,t,n){const a=(0,u.createWid)(e).toString({legacy:!0}),r=(0,o.wap)("iq",{xmlns:"fb:thrift_iq",id:(0,o.generateId)(),type:"get",to:o.S_WHATSAPP_NET,smax_id:"4"},(0,o.wap)("account_number",null,a),(0,o.wap)("code",null,t),(0,o.wap)("expected_source_url",null,n)),i=yield(0,d.sendIq)(r,f);if(i.success)return i.result;throw new l.ServerStatusCodeError(i.errorCode)}))).apply(this,arguments)}},71504:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return m.apply(this,arguments)};var r=a(n(48926)),i=n(31914),o=n(35470),s=n(68387),l=n(55452),u=n(57849),d=n(24747),c=n(90981),f=n(74727),h=n(39410);function p(e){if(e.isGroup())return f.RECEIPT_TYPE.PLAYED;const t=(0,u.getABPropConfigValue)("played_self_enabled");return(0,l.getUserPrivacySettings)().readReceipts===s.ALL_NONE.none&&!0===t?f.RECEIPT_TYPE.PLAYED_SELF:f.RECEIPT_TYPE.PLAYED}function m(){return(m=(0,r.default)((function*(e,t){const n=e.broadcastId||t,a=e.id.id,r=n.isUser()?null:e.author,s=p(t),l=(0,i.wap)("receipt",{to:(0,h.CHAT_JID)(n),type:s,id:(0,i.CUSTOM_STRING)(a),t:(0,i.CUSTOM_STRING)(Date.now().toString()),participant:r?(0,h.DEVICE_JID)(r):i.DROP_ATTR});return yield(0,d.sendStanzaAndWaitForAck)(l,{id:a,class:"receipt",type:s,from:n,participant:r}),(0,c.getTable)().merge(e.id.toString(),{ack:o.ACK.PLAYED})}))).apply(this,arguments)}},68462:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setDisappearingMode=function(){return u.apply(this,arguments)};var r=a(n(48926)),i=n(31914),o=n(71914),s=n(24747);const l=new o.WapParser("setDMResponseParser",(e=>{e.assertTag("iq"),e.assertAttr("type","result")}));function u(){return(u=(0,r.default)((function*(e){const t=(0,i.wap)("iq",{xmlns:"disappearing_mode",to:i.S_WHATSAPP_NET,type:"set",id:(0,i.generateId)()},(0,i.wap)("disappearing_mode",{duration:(0,i.CUSTOM_STRING)(String(e))})),n=yield(0,s.sendIq)(t,l);if(!n.success){const{errorCode:e,errorText:t}=n;throw __LOG__(3)`setDisappearingMode: failed ${e}, ${t}`,new Error({errorCode:e,errorText:t})}}))).apply(this,arguments)}},94646:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacyUserAction=void 0,t.setPrivacy=function(){return f.apply(this,arguments)};var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(24747),u=n(39410);const d=new o.WapParser("setPrivacyParser",(e=>e.child("privacy").mapChildrenWithTag("category",(e=>{if("error"===e.attrString("value")){const t=e.child("error");return new s.ServerStatusCodeError(t.attrInt("code"),t.attrString("text"))}return{name:e.attrString("name"),value:e.attrString("value"),dhash:e.maybeAttrString("dhash")}})))),c=n(76672)({Add:"add",Remove:"remove"});function f(){return(f=(0,r.default)((function*(e){const t=e.map((e=>{const{name:t,value:n,users:a,dhash:r}=e;return(0,i.wap)("category",{name:(0,i.CUSTOM_STRING)(t),value:(0,i.CUSTOM_STRING)(n),dhash:null==a?i.DROP_ATTR:(0,i.CUSTOM_STRING)(null!=r?r:"none")},null==a?null:a.map((e=>{let{action:t,wid:n}=e;return(0,i.wap)("user",{action:(0,i.CUSTOM_STRING)(t),jid:(0,u.JID)(n)})})))})),n=yield(0,l.sendIq)((0,i.wap)("iq",{to:i.S_WHATSAPP_NET,type:"set",xmlns:"privacy",id:(0,i.generateId)()},(0,i.wap)("privacy",null,t)),d);if(!0===n.success)return n.result;throw new s.ServerStatusCodeError(n.errorCode,n.errorText)}))).apply(this,arguments)}t.PrivacyUserAction=c},7239:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupInviteProfilePic=function(){return c.apply(this,arguments)};var r=a(n(48926)),i=n(31914),o=n(71914),s=n(92574),l=n(24747),u=n(39410);const d=new o.WapParser("queryGroupProfilePicParser",(e=>{if(!e.hasChild("picture"))throw Error("queryGroupProfilePicParser: invalid group profile response");const t=e.child("picture");return{id:t.attrString("id"),type:t.attrString("type"),url:t.attrString("url"),direct_path:t.attrString("direct_path")}}));function c(){return(c=(0,r.default)((function*(e){const{groupWid:t,code:n,option:a}=e,r=(0,i.wap)("iq",{to:(0,u.GROUP_JID)(t),type:"get",xmlns:"w:g2",id:(0,i.generateId)()},(0,i.wap)("picture",{id:null!=(null==a?void 0:a.id)?(0,i.CUSTOM_STRING)(a.id):i.DROP_ATTR,type:(null==a?void 0:a.type)||i.DROP_ATTR,query:(null==a?void 0:a.query)||i.DROP_ATTR,invite:(0,i.CUSTOM_STRING)(n)})),o=yield(0,l.sendIq)(r,d);return o.success?o.result:(__LOG__(2)`queryGroupInviteProfilePic failed: ${o.errorCode}:${o.errorType}`,Promise.reject(new s.ServerStatusCodeError(o.errorCode,o.errorText)))}))).apply(this,arguments)}},59036:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseSubgroupInfoNode=function(e){var t;let n;try{n=(0,o.createWid)(`${e.attrString("id")}@g.us`)}catch(e){__LOG__(2)`parseSubgroupNode failed: ${e}`}if(!(null===(t=n)||void 0===t?void 0:t.isGroup))throw Error("parseSubgroupNode: invalid group id");const a=(0,l.extractDescription)(e),u=e.mapChildrenWithTag("participant",(e=>{const t=e.attrEnumOrDefault("type",s.GROUP_PARTICIPANT_TYPES,s.GROUP_PARTICIPANT_TYPES.participant);return{id:(0,i.userJidToUserWid)(e.attrUserJid("jid")),isSuperAdmin:t===s.GROUP_PARTICIPANT_TYPES.superadmin,isAdmin:t===s.GROUP_PARTICIPANT_TYPES.admin||t===s.GROUP_PARTICIPANT_TYPES.superadmin}}));return(0,r.default)({id:n,owner:e.hasAttr("creator")?(0,i.userJidToUserWid)(e.attrUserJid("creator")):void 0,creation:e.attrTime("creation"),subject:e.attrString("subject"),subjectTime:e.hasAttr("s_t")?e.attrTime("s_t"):void 0,participants:u,size:e.hasAttr("size")?e.attrInt("size"):void 0},a)},t.parseSubgroupNode=function(e){var t,n;let a;try{a=(0,o.createWid)(`${e.attrString("id")}@g.us`)}catch(e){__LOG__(2)`parseSubgroupNode failed: ${e}`}if(!(null===(t=a)||void 0===t?void 0:t.isGroup))throw Error("parseSubgroupNode: invalid group id");return{id:a,subject:e.attrString("subject"),subjectTime:e.hasAttr("s_t")?e.attrTime("s_t"):void 0,defaultSubgroup:null!==(n=e.hasChild("default_sub_group"))&&void 0!==n&&n}};var r=a(n(81109)),i=n(81663),o=n(45454),s=n(46920),l=n(2182)},77690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconnect=void 0;var a=n(8080),r=n(65044);const i=(new class{constructor(){this.isReconnecting=!1,this.reconnectIfDisconnected=()=>{this.isReconnecting||a.Stream.displayInfo!==a.StreamInfo.OFFLINE||(this.isReconnecting=!0,r.Socket.poke(),r.Socket.summary(),setTimeout((()=>this.isReconnecting=!1),3e3))}}}).reconnectIfDisconnected;t.reconnect=i},93202:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=n(35470),o=n(88555),s=n(38184),l=n(8139),u=a(n(65212)),d=n(78820),c=a(n(89867)),f=n(27558),h=n(21224);var p={parseWebMessageInfo:function(e,t){var n,a;const s=e.key,h=this.decodeJid(s.remoteJid),p=(0,d.getMaybeMeUser)(),m=s.fromMe?h:p,g=s.fromMe?p:h;let _=this.decodeJid(s.participant),v=this.decodeJid(e.participant);(0,o.isMDBackend)()&&(c.default.isGroup(h)||c.default.isStatusV3(h))&&(null==_&&(null!=e.participant?_=this.decodeJid(e.participant):s.fromMe&&(_=p)),v=v||_);let b,y="in";if(p.equals(h)&&(y=s.fromMe?"out":"in"),"broadcast"===m)return void __LOG__(3)`drop: broadcast`;try{b=new u.default({fromMe:(0,r.default)(s.fromMe,"key.fromMe"),remote:h,id:(0,r.default)(s.id,"key.id"),participant:_})}catch(e){return void __LOG__(3)`drop: cannot create MsgKey: ${e.stack}`}let C=!1;(0,l.parseWMIReaction)()&&(C=e.reactions.some((e=>null!=e.text)));const S={id:b,from:g,to:m,self:y,participant:_,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?i.ACK.SENT:e.status-1,author:v,invis:!!e.ignore,star:!!e.starred,broadcast:s.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:(0,f.decodeBytes)(e.mediaCiphertextSha256),shareDuration:e.duration,labels:e.labels,ephemeralStartTimestamp:e.ephemeralStartTimestamp,ephemeralOutOfSync:e.ephemeralOutOfSync,bizPrivacyStatus:e.bizPrivacyStatus,verifiedBizName:e.verifiedBizName,reactions:e.reactions,hasReaction:C,agentId:e.agentId,keptBy:null===(n=e.keepInChat)||void 0===n?void 0:n.kicUser,keepType:null===(a=e.keepInChat)||void 0===a?void 0:a.keepType};return e.message?this.parseMsgProto(e.message,S,t,e.paymentInfo,e.finalLiveLocation,e.quotedPaymentInfo):this.parseMsgStubProto(e,S)},parseMsgStubProto:function(e,t){if(null==e.messageStubType)return;const n=h.WebMessageInfoStubType;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t.subtype="sender",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.OVERSIZED:return t.type="oversized",t;case n.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgStubTemplate:function(e,t){if(null==e.messageStubType)return;const n=h.WebMessageInfoStubType;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map((t=>e.messageStubType===n.GROUP_CREATE||e.messageStubType===n.GROUP_CHANGE_SUBJECT?t:this.decodeJid(t))):void 0,e.messageStubType){case n.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case n.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case n.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case n.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case n.VERIFIED_HIGH:t.subtype="verified_high";break;case n.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case n.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case n.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case n.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case n.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case n.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case n.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case n.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case n.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case n.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case n.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;case n.GROUP_CREATE:t.type="gp2",t.subtype="create",t.body=t.templateParams[0],t.templateParams=void 0;break;case n.GROUP_DELETE:t.type="gp2",t.subtype="delete",t.templateParams=void 0;break;case n.GROUP_CHANGE_SUBJECT:t.type="gp2",t.subtype="subject",t.body=t.templateParams[0],t.templateParams=void 0;break;case n.GROUP_CHANGE_ICON:t.type="gp2",t.subtype="picture",t.body=t.templateParams[0],t.templateParams=void 0;break;case n.GROUP_CHANGE_INVITE_LINK:t.type="gp2",t.subtype="revoke_invite";break;case n.GROUP_CHANGE_DESCRIPTION:t.type="gp2",t.subtype="description";break;case n.GROUP_CHANGE_RESTRICT:t.type="gp2",t.subtype="restrict",t.body=t.templateParams[0];break;case n.GROUP_CHANGE_ANNOUNCE:t.type="gp2",t.subtype="announce",t.body=t.templateParams[0];break;case n.GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:t.type="gp2",t.subtype="no_frequently_forwarded",t.body=t.templateParams[0];break;case n.GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:t.type="gp2",t.subtype="announce_msg_bounce",t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_ADD:t.type="gp2",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_REMOVE:t.type="gp2",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_PROMOTE:t.type="gp2",t.subtype="promote",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_DEMOTE:t.type="gp2",t.subtype="demote",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_INVITE:t.type="gp2",t.subtype="invite",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_LEAVE:t.type="gp2",t.subtype="leave",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_CHANGE_NUMBER:t.type="gp2",t.subtype="modify",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_V4_ADD_INVITE_SENT:t.type="gp2",t.subtype="v4_add_invite_sent",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:t.type="gp2",t.subtype="v4_add_invite_join",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_INVITE_LINK_GROWTH_LOCKED:t.type="gp2",t.subtype="true"===t.templateParams[0]?"growth_locked":"growth_unlocked",t.body="invite",t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_LINKED_GROUP_JOIN:t.type="gp2",t.subtype="linked_group_join",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.BROADCAST_CREATE:t.type="broadcast_notification",t.subtype="create",t.body=t.templateParams[0]||"0",t.templateParams=void 0;break;case n.BROADCAST_ADD:t.type="broadcast_notification",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.BROADCAST_REMOVE:t.type="broadcast_notification",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GENERIC_NOTIFICATION:t.type="notification",t.body=t.templateParams[0],t.templateParams=void 0;break;case n.E2E_IDENTITY_CHANGED:t.type="e2e_notification",t.subtype="identity",t.body=t.templateParams[0]instanceof c.default?t.templateParams[0].toString():t.templateParams[0],t.templateParams=void 0;break;case n.E2E_IDENTITY_UNAVAILABLE:t.type="e2e_notification",t.subtype="e2e_identity_unavailable";break;case n.E2E_DEVICE_CHANGED:t.type="e2e_notification",t.subtype="device",t.body=t.templateParams[0]instanceof c.default?t.templateParams[0].toString():t.templateParams[0],t.devicesAdded=parseInt(t.templateParams[1],10),t.devicesRemoved=parseInt(t.templateParams[2],10),t.templateParams=void 0;break;case n.E2E_ENCRYPTED:t.type="e2e_notification",t.subtype="encrypt";break;case n.E2E_ENCRYPTED_NOW:t.type="e2e_notification",t.subtype="encrypt_now";break;case n.CALL_MISSED_VOICE:t.type="call_log",t.subtype="miss";break;case n.CALL_MISSED_VIDEO:t.type="call_log",t.subtype="miss_video";break;case n.CALL_MISSED_GROUP_VOICE:t.type="call_log",t.subtype="miss_group";break;case n.CALL_MISSED_GROUP_VIDEO:t.type="call_log",t.subtype="miss_group_video";break;case n.INDIVIDUAL_CHANGE_NUMBER:t.subtype="change_number";break;case n.CHANGE_EPHEMERAL_SETTING:t.type="gp2",t.subtype="ephemeral",t.author=t.templateParams[1];break;case n.PAYMENT_CIPHERTEXT:t.type="payment",t.subtype="ciphertext",this.callFeatureFlagFun(s.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case n.PAYMENT_FUTUREPROOF:t.type="payment",t.subtype="futureproof",this.callFeatureFlagFun(s.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case n.PAYMENT_ACTION_REQUEST_CANCELLED:t.subtype="payment_transaction_request_cancelled";break;case n.PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:t.subtype="payment_transaction_status_update_failed";break;case n.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:t.subtype="payment_transaction_status_update_refunded";break;case n.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:t.subtype="payment_transaction_status_update_refund_failed";break;case n.PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:t.subtype="payment_transaction_status_receiver_pending_setup";break;case n.PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:t.subtype="payment_transaction_status_receiver_success_after_hiccup";break;case n.PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:t.subtype="payment_action_account_setup_reminder";break;case n.PAYMENT_ACTION_SEND_PAYMENT_REMINDER:t.subtype="payment_action_send_payment_reminder";break;case n.PAYMENT_ACTION_SEND_PAYMENT_INVITATION:t.subtype="payment_action_send_payment_invitation";break;case n.PAYMENT_ACTION_REQUEST_DECLINED:t.subtype="payment_action_request_declined";break;case n.PAYMENT_ACTION_REQUEST_EXPIRED:t.subtype="payment_action_request_expired";break;case n.BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:t.subtype="biz_verified_transition_top_to_bottom";break;case n.BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:t.subtype="biz_verified_transition_bottom_to_top";break;case n.BIZ_INTRO_TOP:t.subtype="biz_intro_top";break;case n.BIZ_INTRO_BOTTOM:t.subtype="biz_intro_bottom";break;case n.BIZ_NAME_CHANGE:t.subtype="biz_name_change";break;case n.BIZ_MOVE_TO_CONSUMER_APP:t.subtype="biz_move_to_consumer_app";break;case n.BIZ_TWO_TIER_MIGRATION_TOP:t.subtype="biz_two_tier_migration_top";break;case n.BIZ_TWO_TIER_MIGRATION_BOTTOM:t.subtype="biz_two_tier_migration_bottom";break;case n.BLUE_MSG_BSP_FB_TO_BSP_PREMISE:t.subtype="blue_msg_bsp_fb_to_bsp_premise";break;case n.BLUE_MSG_BSP_FB_TO_SELF_FB:t.subtype="blue_msg_bsp_fb_to_self_fb";break;case n.BLUE_MSG_BSP_FB_TO_SELF_PREMISE:t.subtype="blue_msg_bsp_fb_to_self_premise";break;case n.BLUE_MSG_BSP_FB_UNVERIFIED:t.subtype="blue_msg_bsp_fb_unverified";break;case n.BLUE_MSG_BSP_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_bsp_premise_verified";break;case n.BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_FB_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_self_fb_verified";break;case n.BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_self_premise_verified";break;case n.BLUE_MSG_BSP_FB_VERIFIED:t.subtype="blue_msg_bsp_fb_verified";break;case n.BLUE_MSG_BSP_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_bsp_premise_unverified";break;case n.BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_self_fb_unverified";break;case n.BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_self_premise_unverified";break;case n.BLUE_MSG_BSP_PREMISE_TO_SELF_PREMISE:t.subtype="blue_msg_bsp_premise_to_self_premise";break;case n.BLUE_MSG_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_premise_unverified";break;case n.BLUE_MSG_BSP_PREMISE_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_premise_unverified_to_self_premise_verified";break;case n.BLUE_MSG_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_premise_verified";break;case n.BLUE_MSG_BSP_PREMISE_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_premise_verified_to_self_premise_unverified";break;case n.BLUE_MSG_CONSUMER_TO_BSP_FB_UNVERIFIED:t.subtype="blue_msg_consumer_to_bsp_fb_unverified";break;case n.BLUE_MSG_CONSUMER_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_consumer_to_bsp_premise_unverified";break;case n.BLUE_MSG_CONSUMER_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_consumer_to_self_fb_unverified";break;case n.BLUE_MSG_CONSUMER_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_consumer_to_self_premise_unverified";break;case n.BLUE_MSG_SELF_FB_TO_BSP_PREMISE:t.subtype="blue_msg_self_fb_to_bsp_premise";break;case n.BLUE_MSG_SELF_FB_TO_SELF_PREMISE:t.subtype="blue_msg_self_fb_to_self_premise";break;case n.BLUE_MSG_SELF_FB_UNVERIFIED:t.subtype="blue_msg_self_fb_unverified";break;case n.BLUE_MSG_SELF_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_self_fb_unverified_to_bsp_premise_verified";break;case n.BLUE_MSG_SELF_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_self_fb_unverified_to_self_premise_verified";break;case n.BLUE_MSG_SELF_FB_VERIFIED:t.subtype="blue_msg_self_fb_verified";break;case n.BLUE_MSG_SELF_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_fb_verified_to_bsp_premise_unverified";break;case n.BLUE_MSG_SELF_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_fb_verified_to_self_premise_unverified";break;case n.BLUE_MSG_SELF_PREMISE_TO_BSP_PREMISE:t.subtype="blue_msg_self_premise_to_bsp_premise";break;case n.BLUE_MSG_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_premise_unverified";break;case n.BLUE_MSG_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_self_premise_verified";break;case n.BLUE_MSG_TO_BSP_FB:t.subtype="blue_msg_to_bsp_fb";break;case n.BLUE_MSG_TO_CONSUMER:t.subtype="blue_msg_to_consumer";break;case n.BLUE_MSG_TO_SELF_FB:t.subtype="blue_msg_to_self_fb";break;case n.BLUE_MSG_UNVERIFIED_TO_BSP_FB_VERIFIED:t.subtype="blue_msg_unverified_to_bsp_fb_verified";break;case n.BLUE_MSG_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_unverified_to_bsp_premise_verified";break;case n.BLUE_MSG_UNVERIFIED_TO_SELF_FB_VERIFIED:t.subtype="blue_msg_unverified_to_self_fb_verified";break;case n.BLUE_MSG_UNVERIFIED_TO_VERIFIED:t.subtype="blue_msg_unverified_to_verified";break;case n.BLUE_MSG_VERIFIED_TO_BSP_FB_UNVERIFIED:t.subtype="blue_msg_verified_to_bsp_fb_unverified";break;case n.BLUE_MSG_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_verified_to_bsp_premise_unverified";break;case n.BLUE_MSG_VERIFIED_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_verified_to_self_fb_unverified";break;case n.BLUE_MSG_VERIFIED_TO_UNVERIFIED:t.subtype="blue_msg_verified_to_unverified";break;case n.BIZ_PRIVACY_MODE_INIT_FB:t.subtype="biz_privacy_mode_init_fb";break;case n.BIZ_PRIVACY_MODE_INIT_BSP:t.subtype="biz_privacy_mode_init_bsp";break;case n.BIZ_PRIVACY_MODE_TO_FB:t.subtype="biz_privacy_mode_to_fb";break;case n.BIZ_PRIVACY_MODE_TO_BSP:t.subtype="biz_privacy_mode_to_bsp";break;case n.DISAPPEARING_MODE:t.subtype="disappearing_mode";break;case n.BLOCK_CONTACT:t.subtype="block_contact";break;case n.ADMIN_REVOKE:(0,l.adminRevokeHistorySyncConsumerEnabled)()&&(t.type="revoked",t.subtype="admin",t.revokeSender=t.templateParams[1]instanceof c.default?t.templateParams[1]:void 0,t.revokeSender||__LOG__(2)`ProtocolParser: admin revoke came without admin JID`),t.templateParams=void 0;break;case n.COMMUNITY_LINK_PARENT_GROUP:t.type="gp2",t.subtype="parent_group_link";break;case n.COMMUNITY_LINK_SIBLING_GROUP:t.type="gp2",t.subtype="sibling_group_link";break;case n.COMMUNITY_LINK_SUB_GROUP:t.type="gp2",t.subtype="sub_group_link";break;case n.COMMUNITY_CREATE:t.type="gp2",t.subtype="community_create";break;case n.COMMUNITY_UNLINK_PARENT_GROUP:t.type="gp2",t.subtype="parent_group_unlink";break;case n.COMMUNITY_UNLINK_SIBLING_GROUP:t.type="gp2",t.subtype="sibling_group_unlink";break;case n.COMMUNITY_UNLINK_SUB_GROUP:t.type="gp2",t.subtype="sub_group_unlink";break;default:t.templateParams=void 0}return t}};t.default=p},13016:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(41609)),o=a(n(52628)),s=n(15688),l=n(50796),u=a(n(45095)),d=n(92574),c=n(38184),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),h=n(8139),p=n(78820),m=a(n(89867)),g=a(n(33330)),_=a(n(5433)),v=n(60868),b=a(n(70257)),y=a(n(66405)),C=a(n(78496)),S=a(n(26453)),E=n(72472),x=a(n(51783)),T=n(99662),M=n(91692),k=a(n(12761)),w=a(n(68132)),A=a(n(69686)),P=n(66299),j=n(65044);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}var O,N={epochCount:0,epoch:0,epochSend:function(e){return 0===this.epochCount&&this.epoch++,e||this.epochCount++,__LOG__(2)`wap:epochCount: ${this.epochCount} epoch: ${this.epoch}`,this.epoch.toString()},epochRecv:function(){this.epochCount>0?this.epochCount--:__LOG__(3)`wap:epochRecv: NEGATIVE`,__LOG__(2)`wap:epochCount: ${this.epochCount} epoch: ${this.epoch}`},setSubProtocol:function(e){if(-1===e)this.BinaryProtocol=new _.default,this.N=this.BinaryProtocol.Node;else{if(null==e||0===e)throw __LOG__(3)`Wap:setSubProtocol unknown ${String(e)}`,new f.UpdateImmediately(`${this.version}_unknown_version`);this.BinaryProtocol=new g.default(e),this.N=this.BinaryProtocol.Node}},clearBPQueue:function(){return new Promise((e=>{this.BinaryProtocol.dropAllBecauseLogout(),e()}))},upgradeProtoVersion(e){if(e.BinaryProtocol instanceof _.default){const t=e.BinaryProtocol.getWriteQueue();for(;t.length;){const{n:e,resolve:n,reject:a}=t.shift();this.BinaryProtocol.write(e).then(n).catch(a)}}},delete:function(){this.epochCount=0,this.epoch=0},cannotReachPhone:function(){this.epochRecv()},dropIfConditionMet:function(e,t){return e.reduce((function(e,t){return e||t}),!1)?void 0:t},pruneUndefinedProps:function(e){for(const t in e){void 0===e[t]&&delete e[t]}},callFeatureFlagFun:function(e,t){if(c.LegacyPhoneFeatures.supportsFeature(e)){const e=[];for(let t=2;t<arguments.length;t++)e.push(arguments[t]);return this[t](...e)}},safeParseInt:function(e,t){const n=parseInt(this.N.attr(t,e),10);return Number.isNaN(n)?void 0:n},wrap:function(e){return t=>{if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;this.epochRecv(),e(t)}},wrap02:function(e){return function(t){if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;e(t)}},binWrap:function(e,t){return n=>{if(n&&"object"==typeof n&&"number"==typeof n.status){if(401===n.status)throw this.epochRecv(),new d.E401;if(n.status>=500)return n;this.epochRecv(),t(n)}else this.epochRecv(),e(n)}},binSend:(O=(0,r.default)((function*(e,t,n,a,r){const i=a.epochIneligible?n:e=>{this.epochRecv(),n(e)};delete a.epochIneligible;try{const n=yield this.BinaryProtocol.write(t);r.debugObj||(r.debugObj=t),r.metric=this.M[r.metricName],r.ackRequest=!1,a.data=n,a.binaryOpts=r,j.Socket[e](a)}catch(e){return i(e)}})),function(){return O.apply(this,arguments)}),msgGetTarget:function(e){return m.default.equals(e.from,(0,p.getMaybeMeUser)())?e.to:e.from},thumbFromMediaXml:function(e){return"raw"===this.N.attr("encoding",e)?this.N.children(e)instanceof ArrayBuffer?(0,s.encodeB64)(this.N.children(e)):"":this.N.dataStr(e)},actionNode:function(e,t,n){return["action",{type:e,epoch:this.epochSend(n)},t]},queryNode:function(e,t){let n=e;return n||(n={}),n.epoch=this.epochSend(),["query",n,t]},responseNode:function(e,t){let n=e;return n||(n={}),n.epoch=this.epochSend(),["response",n,t]},errorNode:function(e){return["error",{code:e.toString(),epoch:this.epochSend()},void 0]},actionGetMeta:function(e){const t={};if("action"!==this.N.tag(e))return t;const n=this.N.attr("add",e),a=this.N.attr("missing",e),r=this.N.attr("checksum",e);switch(n){case"unread":t.unreadId=this.N.attr("index",e),t.unreadFromMe="true"===this.N.attr("owner",e),t.unreadParticipant=this.N.attr("participant",e);case"after":case"before":case"last":t.pendingMsgsDone="true"===this.N.attr("last",e),t.resume="true"===this.N.attr("resume",e);case"relay":case"update":t.add=n}switch(a){case"remove":t.missing=a}return r&&(t.checksum=r),t},groupActionsByType:function(e){const t={};if(!Array.isArray(e))return t;let n,a;const r=e.length;for(a=0;a<r;a++)switch(n=e[a],this.N.tag(n)){case"broadcast":switch(this.N.attr("type",n)){case"create":case"add":case"remove":t.msg||(t.msg=[]),t.msg.push(n);break;case"modify":t.bcUpdate||(t.bcUpdate=[]),t.bcUpdate.push(n)}break;case"message":case"groups_v2":case"notification":case"call_log":case"security":t.msg||(t.msg=[]),t.msg.push(n);break;case"read":case"log":case"identity":t.cmd||(t.cmd=[]),t.cmd.push(n);break;case"received":t.ack||(t.ack=[]),t.ack.push(n);break;case"user":t.contact||(t.contact=[]),t.contact.push(n);break;case"contacts":t.contacts||(t.contacts=[]),t.contacts.push(n);break;case"chat":switch(this.N.attr("type",n)){case"mute":t.mute||(t.mute=[]),t.mute.push(n);break;default:t.chat||(t.chat=[]),t.chat.push(n)}break;case"battery":t.battery||(t.battery=[]),t.battery.push(n);break;case"location":t.location||(t.location=[]),t.location.push(n);break;case"label":t.label||(t.label=[]),t.label.push(n);break;case"group":t.group||(t.group=[]),t.group.push(n);break;case"quick_reply":t.quickReply||(t.quickReply=[]),t.quickReply.push(n);break;case"call":t.call||(t.call=[]),t.call.push(n);break;case"stickerPack":case"sticker_pack":t.stickerPack||(t.stickerPack=[]),t.stickerPack.push(n);break;case"recent_stickers":t.recentStickers||(t.recentStickers=[]),t.recentStickers.push(n);break;case"starred_stickers":t.starredStickers||(t.starredStickers=[]),t.starredStickers.push(n);break;case"notice":t.notice||(t.notice=[]),t.notice.push(n);break;case"archive_v2":t.archiveSetting||(t.archiveSetting=[]),t.archiveSetting.push(n);break;case"disappearing_mode":t.disappearingModeSetting||(t.disappearingModeSetting=[]),t.disappearingModeSetting.push(n);break;default:__LOG__(3,!0)`Wap:groupActionsByType unknown action: ${this.N.toString(n)}`}return t},handleResponse:function(e,t,n){if(0===e.indexOf("preempt"))switch(this.N.attr("type",t)){case"chat":{__LOG__(2)`bin-recv: ${e},response,chat`;const a=this.N.children(t)||[];if(Array.isArray(a)){const e=a.length,t=[];for(let n=0;n<e;n++){const e=this.parseChat(a[n]);e&&t.push(e)}(0,b.default)([{cmd:"preempt",response:t,binarySize:n}])}break}case"contacts":{__LOG__(2)`bin-recv: ${e},response,contact`;const a=this.N.children(t);if(Array.isArray(a)){const e=a.length,r=[];for(let t=0;t<e;t++){const e=this.parseContact(a[t]);e&&r.push(e)}(0,C.default)([{cmd:"preempt",checksum:this.N.attr("checksum",t),response:r,binarySize:n}])}break}default:__LOG__(3)`Wap:handle unknown response type: ${this.N.toString(t,!0)}`}else __LOG__(3)`Wap:handle non-preemptive response: ${this.N.toString(t,!0)}`},handleActionMsg:function(e,t,n,a){const r=a.length;switch(n.add){case"relay":case"update":{const t=this.parseMsg(a[0],"relay");if(1!==r&&__LOG__(3)`Wap:handle action msg relay length not 1`,t){__LOG__(2)`bin-recv: ${[e,"action","msg",n.add,t.type,t.from,t.to,t.id,t.author].join(",")}`;const a=this.msgGetTarget(t);(0,S.default)([{meta:n,chat:a,msg:t}])}else __LOG__(3)`Wap:handle action msg relay dropped`;break}case"last":{const i=[];for(let e=0;e<r;e++){const t=this.parseMsg(a[e],"last");t?i.push(t):__LOG__(3)`Wap:handle action msg last dropped`}if(i.length>0){__LOG__(2)`bin-recv: ${[e,"action","msg","last",a.length].join(",")}`;const r={recent:!0,meta:n,binarySize:t};for(let e=0;e<i.length;e++)r[this.msgGetTarget(i[e])]=i[e];(0,S.default)([r])}else __LOG__(3)`Wap:handle action msg last dropped to 0`;break}case"before":case"after":case"unread":if(r>0){const i=[];for(let e=0;e<r;e++){const t=this.parseMsg(a[e],n.add);t?i.push(t):__LOG__(3)`Wap:handle action msg before/after dropped`}if(i.length>0){const a=this.msgGetTarget(i[0]);__LOG__(2)`bin-recv: ${[e,"action","msg",n.add,a,i.length].join(",")}`,(0,S.default)([{meta:n,chat:a,msgs:i,binarySize:t}])}else __LOG__(3)`Wap:handle action msg ${n.add} dropped to 0`}else __LOG__(3)`Wap:handle action msg before/after 0 msgs`;break;default:__LOG__(3)`Wap:handle action msg no meta.add`}},handleAction:function(e,t,a){const r=this.actionGetMeta(t),s=this.groupActionsByType(this.N.children(t)),l=Object.keys(s);if(!Array.isArray(l))return void __LOG__(3)`Wap:handle:action keys not array: ${typeof l}`;const d=l.length;if(0!==d||"last"!==r.add)for(let f=0;f<d;f++){const d=l[f],p=s[d],m=p.length;switch(d){case"msg":this.handleActionMsg(e,a,r,p,t);break;case"cmd":for(let t=0;t<m;t++){const a=this.parseCmd(p[t]);if(a){const t=(0,o.default)(a).join(",");__LOG__(2)`bin-recv: ${[e,"action","cmd",t].join(",")}`,n(98423).handle([a])}else __LOG__(3)`Wap:handle action cmd invalid`}break;case"bcUpdate":{const t=[];for(let e=0;e<m;e++){const n=this.parseBCUpdate(p[e]);n?t.push(n):__LOG__(3)`Wap:handle action bc update invalid`}if(__LOG__(2)`bin-recv: ${[e,"action","bcUpdate",t.length].join(",")}`,t.length>0){n(63928).default.handle(t)}break}case"ack":for(let t=0;t<m;t++){const n=this.parseAck(p[t]);n?(__LOG__(2)`bin-recv: ${[e,"action","ack",n.to,n.id,n.ack].join(",")}`,(0,S.default)([n])):__LOG__(3)`Wap:handle action ack invalid`}break;case"contact":{const t=[];for(let e=0;e<m;e++){const n=this.parseContact(p[e]);n?t.push(n):__LOG__(3)`Wap:handle action contact dropped`}if(__LOG__(2)`bin-recv: ${[e,"action","contact",t.length,r.missing].join(",")}`,t.length>0){const e=[t];(r.missing||r.checksum)&&e.push(r),(0,C.default)(e)}break}case"contacts":{const t=this.parseContacts(p[0]);__LOG__(2)`bin-recv: ${[e,"action","contacts"].join(",")}`,t?(0,C.default)([t]):__LOG__(3)`Wap:handle:action:contacts dropped`;break}case"chat":{const t=[];for(let e=0;e<m;e++){const n=this.parseChat(p[e]);n?t.push(n):__LOG__(3)`Wap:handle action chat dropped`}__LOG__(2)`bin-recv: ${[e,"action","chat",t.length].join(",")}`,t.length>0&&(0,b.default)([t]);break}case"battery":{const t=this.parseBattery(p[0]);t?(__LOG__(2)`bin-recv: ${[e,"action","battery",t.battery,t.plugged].join(",")}`,(0,y.default)([t])):__LOG__(3)`Wap:handle action battery dropped`;break}case"mute":{const t=[];for(let e=0;e<m;e++){const n=this.parseChat(p[e]);n?t.push(n):__LOG__(3)`Wap:handle action mute dropped`}__LOG__(2)`bin-recv: ${[e,"action","mute",t.length].join(",")}`,t.length>0&&E.MuteCollection.handle(t);break}case"location":{const t=[];for(let a=0;a<m;a++){const r=this.parseLocation(p[a]);r?t.push(r):__LOG__(3)`Wap:handle:location dropped`,__LOG__(2)`bin-recv:${[e,"action,location",t.length].join()}`,t.length>0&&n(85865).LiveLocationCollection.handle(t)}break}case"label":{const t=[];for(let a=0;a<m;a++){const i=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.LABELS_DISPLAY,"parseLabel",p[a]);i?t.push(i):__LOG__(3)`Wap:handle:label dropped`,__LOG__(2)`bin-recv:${[e,"action,label",t.length].join()}`,t.length>0&&n(16770).LabelCollection.handle({checksum:r.checksum,labels:t})}break}case"group":for(let t=0;t<m;t++){const a=this.parseInviteUpdate(p[t]);if(__LOG__(2)`bin-recv:${[e,"action,group_v4_pending_invites",null==a?void 0:a.length].join()}`,void 0!==a){n(63928).default.handlePendingInvite({gid:a.gid,participants:a.participants})}}break;case"quickReply":{const t=[];for(let n=0;n<m;n++){const a=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.QUICK_REPLIES_QUERY,"parseQuickReply",p[n]);a?t.push(a):__LOG__(3)`Wap:handle:quickReply dropped`,__LOG__(2)`bin-recv:${[e,"action,quickReply",t.length].join()}`,t.length>0&&T.QuickReplyCollection.handle({checksum:r.checksum,quickReplies:t})}break}case"call":{const t=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.VOIP_INDIVIDUAL_INCOMING,"parseCall",p[0]);__LOG__(2)`bin-recv:${[e,"action","call"].join()}`,t?v.CallCollection.handle([t]):__LOG__(3)`Wap:handle:action:call dropped`;break}case"stickerPack":case"sticker_pack":{const t=[];for(let n=0;n<m;n++){const a=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.STICKER_PACK_QUERY,"parseStickerPackUpdate",p[n]);a?(t.push(a),P.StickerPackCollection.sync(r.checksum)):__LOG__(3)`Wap:handle:stickerPack dropped`,__LOG__(2)`bin-recv:${[e,"action,stickerPack",t.length].join()}`}break}case"recentStickers":if((0,h.isRecentStickersEnabled)())for(let t=0;t<m;t++){const n=(0,k.default)(p[t],this.N);n?(M.RecentStickerCollection.setChecksum(r.checksum),M.RecentStickerCollection.remove(n),__LOG__(2)`bin-recv:${[e,"action,recentStickers",n].join()}`):__LOG__(3)`Wap:handle:recentStickers dropped`}break;case"starredStickers":if((0,h.isStarredStickersEnabled)())for(let t=0;t<m;t++){const a=(0,A.default)(p[t],this.N);if(a){const{type:t,filehash:r,sticker:i}=a,o=n(16774).StarredStickerCollection;switch(t){case"add":o.add((0,u.default)(i,"sticker"),{at:0,sort:!1},!0);break;case"delete":o.remove(r)}__LOG__(2)`bin-recv:${[e,"action,starredStickers",t,r].join()}`}else __LOG__(3)`Wap:handle:starredStickers dropped`}break;case"notice":{const t=[];for(let n=0;n<m;n++){const a=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.USER_NOTICE,"parseNotice",p[n]);a?!(0,i.default)(a)&&t.push(a):__LOG__(3)`Wap:handle:notice dropped`,__LOG__(2)`bin-recv:${[e,"action,notice",t.length].join()}`,x.default.handleResponse(t)}break}case"archiveSetting":for(let t=0;t<m;t++){const n=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.SETTINGS_SYNC,"parseSetting",p[t]);n||__LOG__(3)`Wap:handle:setting dropped`,__LOG__(2)`bin-recv:${[e,"action,setting,archive"].join()}`,w.default.handleResponse([n])}break;case"disappearingModeSetting":for(let t=0;t<m;t++){const n=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.SETTINGS_SYNC,"parseSetting",p[t]);n||__LOG__(3)`Wap:handle:setting dropped`,__LOG__(2)`bin-recv:${[e,"action,setting,disappearing_mode"].join()}`,w.default.handleResponse([n])}break;default:__LOG__(3)`Wap:handle action unknown ${d}`}}else(0,S.default)([{recent:!0,meta:r,binarySize:a}])},handleQuery:function(e,t){const n=this.N.children(t);if(Array.isArray(n))for(let t=0;t<n.length;t++){const a=n[t],r=this.N.tag(a);let i;switch(__LOG__(2)`bin-recv:${[e,"query",r].join()}`,r){case"call":i=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.VOIP_INDIVIDUAL_INCOMING,"handleCallQuery",a);break;default:__LOG__(3)`wap:handle:query unknown ${r}`}i||(i=Promise.resolve(this.errorNode(501))),i.then((t=>{this.BinaryProtocol.write(t).then((n=>{j.Socket.send({tag:e,data:n,onSend:this.wrap((()=>{})),onDrop:this.wrap((()=>{})),retryOn5xx:!0,binaryOpts:{debugString:["response",r].join(),debugObj:t,metricName:"QUERY_RESPONSE",ackRequest:!0}})})).catch((()=>{this.epochRecv()}))}))}},handle:function(e,t,a,r){return this.BinaryProtocol.read(e).then((e=>{switch(this.N.tag(e)){case"response":this.handleResponse(a,e,r,t);break;case"action":this.handleAction(a,e,r,t);break;case"query":this.handleQuery(a,e,r);break;case"read":const i=this.parseCmd(e);if(i){const e=(0,o.default)(i).join();__LOG__(2)`bin-recv:${[a,"action",e].join()}`,n(98423).handle([i])}else __LOG__(3)`Wap:handle read invalid`;break;default:__LOG__(3,!0)`TODO ${this.N.toString(e,!0)}`}return!0})).catch((0,l.filteredCatch)(d.LogoutDrop,(e=>{__LOG__(3)`LogoutDrop error: ${e.toString()}`}))).catch((e=>{throw __LOG__(2)`BinaryProtocol read error with tag ${a}, size: ${r}`,__LOG__(2)`BinaryProtocol read error stack: ${e.stack||""}`,new Error(`BinaryProtocol read error: ${e}`)}))}};t.default=N},5433:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(92574),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),o=a(n(36129));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=class{constructor(){this._writeQueue=[],this.Node=o.default}read(){return __LOG__(3)`Attempted to call \`read\` on BinaryProtocolQueue`,Promise.reject(new i.Disconnected)}write(e){return new Promise(((t,n)=>{this._writeQueue.push({resolve:t,reject:n,n:e})}))}dropAllBecauseLogout(){const e=new r.LogoutDrop("cancelled binary protocol call");for(;this._writeQueue.length;){this._writeQueue.shift().reject(e)}}getWriteQueue(){return this._writeQueue}};t.default=l},33330:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(91747)),o=a(n(30236)),s=n(20461),l=n(88555),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),d=a(n(18629)),c=a(n(42916)),f=a(n(94569)),h=a(n(86968)),p=a(n(11801)),m=a(n(14857)),g=a(n(25327)),_=a(n(60039)),v=a(n(2434)),b=a(n(60569)),y=a(n(10853)),C=a(n(53995)),S=a(n(893)),E=a(n(69171));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const T=(e,t)=>{if(Array.isArray(e)&&t)return e.concat(t)},M=(e,t)=>{if(e.Dictionary){const n={};(0,o.default)(n,t.Dictionary,e.Dictionary,T),e.Dictionary=n}return(0,i.default)(e,t)},k={OutputStream:b.default,Writer:S.default,InputStream:v.default,Reader:y.default,Dictionary:c.default,Crypto:d.default},w=M({Dictionary:f.default},k),A=M({Dictionary:h.default},w),P=M({Dictionary:p.default},A),j=M({Dictionary:m.default},P),I=M({Dictionary:g.default},j),O=M({Writer:E.default,Reader:C.default,Dictionary:_.default},I),N={"01":!0,"03":!0,"04":!0,"05":!0,"06":!0,v1:!0,v2:!0,v3:!0,v4:!0},R={v5:k,v6:w,v7:A,v8:P,v9:j,v10:I,v11:O};t.default=class{constructor(e){const t="number"==typeof e?`v${e}`:e;if(N[t])throw __LOG__(3)`binaryProtocol deprecated version: ${t}`,new u.DeprecatedProtocolVersion("bp_deprecated_version");const a=R[t];if(!a)throw __LOG__(3)`binaryProtocol unknown version: ${t}`,new u.UpdateImmediately("bp_unknown_version");const i=a.OutputStream,o=new a.Writer(a.Dictionary),d=a.InputStream,c=new a.Reader(a.Dictionary),f=a.Crypto;this.Node=n(36129).default,(0,l.isMDBackend)()?this.read=e=>Promise.resolve(c.readNode(new d(e))):this.read=function(){var e=(0,r.default)((function*(e){const t=yield f.decrypt(e);return c.readNode(new d(t))}));return function(){return e.apply(this,arguments)}}(),this.write=(0,s.promiseWrapSync)((e=>{const t=new i;return o.writeNode(t,e),f.encrypt(t.toBuffer())})),this.dropAllBecauseLogout=()=>f.dropAllBecauseLogout()}}},25327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["vname","old_jid","new_jid","announcement","locked","prop","label","color","call","offer","call-id"]}},26362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,JID_AD:247,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},60039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["quick_reply","sticker","pay_t","accept","reject","sticker_pack","invalid","canceled","missed","connected","result","audio","video","recent"]}},53995:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t="",n="";const a=e.singleByte,i=e.doubleByte,l=e.nibbleDecode;this.readNode=function(e){let n=e.readByte();const a=this.readListSize(e,n);if(n=e.readByte(),n===o.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());const r=this.readString(e,n);if(t=r,0===a||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());const i=this.readAttributes(e,a-2+a%2>>1);if(a%2==1)return[r,i,void 0];let s;if(n=e.readByte(),this.isListTag(n))s=this.readList(e,n);else if(n===o.default.BINARY_8){const t=e.readByte();s=e.readBytes(t)}else if(n===o.default.BINARY_20){const t=e.readInt20();s=e.readBytes(t)}else if(n===o.default.BINARY_32){const t=e.readInt32();s=e.readBytes(t)}else s=this.readString(e,n);return[r,i,s]},this.isListTag=function(e){return e===o.default.LIST_EMPTY||e===o.default.LIST_8||e===o.default.LIST_16},this.readListSize=function(e,t){if(t===o.default.LIST_EMPTY)return 0;if(t===o.default.LIST_8)return e.readByte();if(t===o.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,a){let i,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(-1===a)throw new Error("invalid start token readString"+e.debugInfo());if(a>2&&a<236){let e=this.getToken(a);return"s.whatsapp.net"===e&&(e="c.us"),e}switch(a){case o.default.DICTIONARY_0:case o.default.DICTIONARY_1:case o.default.DICTIONARY_2:case o.default.DICTIONARY_3:const u=e.readByte();return this.getTokenDouble(a-o.default.DICTIONARY_0,u);case o.default.LIST_EMPTY:return;case o.default.BINARY_8:return i=e.readString(e.readByte()),this.isAttr&&l&&r.default.isWid(i)?s(i):i;case o.default.BINARY_20:return i=e.readString(e.readInt20()),this.isAttr&&l&&r.default.isWid(i)?s(i):i;case o.default.BINARY_32:return i=e.readString(e.readInt32()),this.isAttr&&l&&r.default.isWid(i)?s(i):i;case o.default.JID_PAIR:{const t=this.readString(e,e.readByte()),n=this.readString(e,e.readByte());if(void 0!==t&&void 0!==n){const e=t+"@"+n;return l&&r.default.isWid(e)?s(e):e}if(void 0!==n)return n;throw new Error("invalid jid "+t+","+n+" "+e.debugInfo())}case o.default.JID_AD:{const t=e.readByte(),n=e.readByte(),a=this.readString(e,e.readByte());if(void 0!==a)return s(t&&n?a+"."+t+":"+n+"@c.us":t?a+"."+t+"@c.us":n?a+":"+n+"@c.us":a+"@c.us");throw new Error(`invalid JID_AD agent:${t} device:${n} user:${a}`)}case o.default.NIBBLE_8:case o.default.HEX_8:return this.readPacked8(a,e);default:throw __LOG__(2,!0)`Unexpected token in binary protocol read. Token : ${a}
lastTag: ${t}
lastAttributeKey: ${n}
${e.debugInfoWithPadding()}`,new Error("invalid string "+a)}},this.getToken=function(e){let t;if(e>=0&&e<a.length&&(t=a[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){let n;const a=256*e+t;if(a>=0&&a<i.length&&(n=i[a]),void 0===n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){let a,i;this.isAttr=!0;const o=t?{}:void 0;for(let s=0;s<t;s++)a=this.readString(e,e.readByte()),n=a,i=this.readString(e,e.readByte(),r.default.canBeWid(a)),o[a]=i;return this.isAttr=!1,o},this.readList=function(e,t){const n=[],a=this.readListSize(e,t);for(let t=0;t<a;t++)n.push(this.readNode(e));return n},this.readPacked8=function(e,t){const n=t.readByte();let a="";for(let r=0;r<(127&n);r++){const n=t.readByte();a+=this.unpackByte(e,(240&n)>>4),a+=this.unpackByte(e,15&n)}return n>>7&&(a=a.substring(0,a.length-1)),a},this.unpackByte=function(e,t){switch(e){case o.default.NIBBLE_8:return this.unpackNibble(t);case o.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!l.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return l[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}};var r=a(n(89867)),i=n(45454),o=a(n(26362));function s(e){try{return(0,i.createWid)(e)}catch(t){return e}}},69171:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;const n={},a=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(n[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(n[e.doubleByte[t]]=t+s.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(!t)return;if(3!==t.length)throw new Error("invalid node");const n=t[1]?2*Object.keys(t[1]).filter((function(e){return!!t[1][e]})).length:0;this.writeListStart(e,1+n+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])},this.writeString=function(e,t,a){if("string"!=typeof t&&!(t instanceof i.default))throw __LOG__(3)`writer:writeString passed non-string/wid type: ${typeof t}`,new Error("invalid string");if(t instanceof i.default)return void this.writeJid(e,t);const r=n.hasOwnProperty(t)?n[t]:void 0;let l,u;if("c.us"!==t||a)if(void 0===r){if(t.indexOf("@")<1)this.writeStringRaw(e,t);else try{const n=(0,o.createWid)(t);this.writeJid(e,n)}catch(n){this.writeStringRaw(e,t)}}else{if(r<s.default.SINGLE_BYTE_MAX)this.writeToken(e,r);else{const e=r-s.default.SINGLE_BYTE_MAX;switch(u=e%256,e>>8){case 0:l=s.default.DICTIONARY_0;break;case 1:l=s.default.DICTIONARY_1;break;case 2:l=s.default.DICTIONARY_2;break;case 3:l=s.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+r)}}this.writeToken(e,l),this.writeToken(e,u)}else this.writeToken(e,n["s.whatsapp.net"])},this.writeStringRaw=function(e,t){const n=(0,r.numUtf8Bytes)(t);if(n>=4294967296)throw new Error("string too large to encode (len = "+n+"): "+t);n>=1<<20?(e.pushByte(s.default.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(s.default.BINARY_20),e.pushInt20(n)):(e.pushByte(s.default.BINARY_8),e.pushByte(n)),e.pushString(t)},this.writeJid=function(e,t){const n=t.user,a=t.server,r=t.agent,i=t.device;if(r||i){if(r>255||i>255||"c.us"!==a&&"s.whatsapp.net"!==a)throw new Error(`invalid agent:${r} or device:${i} or server:${a} for wid ${t.toString()}`);e.pushByte(s.default.JID_AD),e.pushByte(r||0),e.pushByte(i||0),n?this.writePackedBytesStringFallback(e,n):this.writeToken(e,s.default.LIST_EMPTY)}else e.pushByte(s.default.JID_PAIR),n?this.writePackedBytesStringFallback(e,n):this.writeToken(e,s.default.LIST_EMPTY),this.writeString(e,a)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){this.isAttr=!0;for(const n in t)t[n]&&(this.writeString(e,n),this.writeString(e,t[n]));this.isAttr=!1}},this.writeChildren=function(e,t){let n;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if(n=t.byteLength,n>=4294967296)throw new Error("invalid children; too long (len = "+n);n>=1<<20?(e.pushByte(s.default.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(s.default.BINARY_20),e.pushInt20(n)):(e.pushByte(s.default.BINARY_8),e.pushByte(n)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");n=t.length,this.writeListStart(e,n);for(let a=0;a<n;a++)this.writeNode(e,t[a])}},this.writeListStart=function(e,t){0===t?e.pushByte(s.default.LIST_EMPTY):t<256?(e.pushByte(s.default.LIST_8),e.pushByte(t)):(e.pushByte(s.default.LIST_16),e.pushInt16(t))},this.writePackedBytesStringFallback=function(e,t){try{this.writePackedBytes(e,t)}catch(n){__LOG__(3,!0)`writer:encode-fallback "${n.message}"`,this.writeString(e,t)}},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,s.default.NIBBLE_8)}catch(n){__LOG__(3)`writer:enc nib fail, try hex "${n.message}"`,this.writePackedBytesImpl(e,t,s.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,n){const a=(0,r.numUtf8Bytes)(t);if(a>s.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+a);{const r=Math.ceil(a/2),i=[];let o,s=0;a%2>0&&(s=128);const l=s|r;i.push(n),i.push(l);const u=Math.floor(a/2);for(let e=0;e<u;e++)o=this.packBytePair(n,t[2*e],t[2*e+1]),i.push(o);s>0&&(o=this.packBytePair(n,t[a-1],"\0"),i.push(o));const d=new Uint8Array(i);e.pushUint8Array(d)}},this.packBytePair=function(e,t,n){let a,r;switch(e){case s.default.NIBBLE_8:a=this.packNibble(t),r=this.packNibble(n);break;case s.default.HEX_8:a=this.packHex(t),r=this.packHex(n);break;default:throw new Error("invalid byte pack type: "+e)}return a<<4|r},this.packNibble=function(e){if(!a.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return a[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}};var r=n(8584),i=a(n(89867)),o=n(45454),s=a(n(26362))},41769:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},18629:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(59002),i=a(n(27722)),o=a(n(45095)),s=n(92574),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(66333));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class d{static encrypt(e){if(!e)return Promise.reject(new Error("Missing ArrayBuffer in cryptoAsync:encrypt"));const t=l.get(),n=(0,r.encryptAndMac)((0,o.default)(t.encKey,"bundle.encKey"),(0,o.default)(t.macKey,"bundle.macKey"),e);return this._encryptQueue.enqueue(n)}static decrypt(e){if(!e)return Promise.reject(new Error("Missing ArrayBuffer in cryptoAsync:decrypt"));const t=l.get(),n=(0,r.macAndDecrypt)((0,o.default)(t.encKey,"bundle.encKey"),(0,o.default)(t.macKey,"bundle.macKey"),e);return this._decryptQueue.enqueue(n)}static dropAllBecauseLogout(){const e=new s.LogoutDrop("cancelled binary protocol call");this._encryptQueue.cancelAll(e),this._decryptQueue.cancelAll(e)}}t.default=d,d._encryptQueue=new i.default,d._decryptQueue=new i.default},42916:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};t.default=n},2434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(8584);t.default=class{constructor(e){this.binary=new a.Binary(e)}readByte(){return this.binary.readUint8()}readInt16(){return this.binary.readUint16()}readInt20(){return((15&this.binary.readUint8())<<16)+(this.binary.readUint8()<<8)+this.binary.readUint8()}readInt32(){return this.binary.readUint32()}readString(e){return this.binary.readString(e)}readBytes(e){return this.binary.readBuffer(e)}debugInfo(){const e=this.binary;return`offset: ${e._readIndex} byte: ${e._buffer[e._readIndex]}`}debugInfoWithPadding(){const e=this.binary,t=e._buffer.slice(Math.max(0,e._readIndex-20),e._readIndex).toString(),n=e._buffer.slice(e._readIndex,Math.min(e._buffer.length,e._readIndex+20)).toString();return`offset: ${e._readIndex} byte: ${e._buffer[e._readIndex]} previous 20 bytes: ${t}\n        following 20 bytes: ${n}\n        `}}},60569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(8584);t.default=class{constructor(){this.buf=new a.Binary}pushInt16(e){this.buf.writeUint16(e)}pushInt20(e){if("number"!=typeof e)throw new Error("invalid int20");this.buf.writeUint8((983040&e)>>16),this.buf.writeUint16(65535&e)}pushInt32(e){this.buf.writeUint32(e)}pushByte(e){this.buf.writeUint8(e)}pushBytes(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");this.buf.writeBuffer(e)}pushUint8Array(e){if("[object Uint8Array]"!==Object.prototype.toString.call(e))throw new Error("invalid Uint8Array");this.buf.writeByteArray(e)}pushString(e){if("string"!=typeof e)throw new Error("invalid string");this.buf.writeString(e)}toBuffer(){return this.buf.readBuffer()}}},10853:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t="",n="";const a=e.singleByte,i=e.doubleByte,l=e.nibbleDecode;this.readNode=function(e){let n=e.readByte();const a=this.readListSize(e,n);if(n=e.readByte(),n===o.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());const r=this.readString(e,n);if(0===a||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());t=r;const i=this.readAttributes(e,a-2+a%2>>1);if(a%2==1)return[r,i,void 0];let s;if(n=e.readByte(),this.isListTag(n))s=this.readList(e,n);else if(n===o.default.BINARY_8){const t=e.readByte();s=e.readBytes(t)}else if(n===o.default.BINARY_20){const t=e.readInt20();s=e.readBytes(t)}else if(n===o.default.BINARY_32){const t=e.readInt32();s=e.readBytes(t)}else s=this.readString(e,n);return[r,i,s]},this.isListTag=function(e){return e===o.default.LIST_EMPTY||e===o.default.LIST_8||e===o.default.LIST_16},this.readListSize=function(e,t){if(t===o.default.LIST_EMPTY)return 0;if(t===o.default.LIST_8)return e.readByte();if(t===o.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,a){let i,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(-1===a)throw new Error("invalid start token readString"+e.debugInfo());if(a>2&&a<236){let e=this.getToken(a);return"s.whatsapp.net"===e&&(e="c.us"),e}switch(a){case o.default.DICTIONARY_0:case o.default.DICTIONARY_1:case o.default.DICTIONARY_2:case o.default.DICTIONARY_3:const u=e.readByte();return this.getTokenDouble(a-o.default.DICTIONARY_0,u);case o.default.LIST_EMPTY:return;case o.default.BINARY_8:return i=e.readString(e.readByte()),this.isAttr&&l&&r.default.isWid(i)?s(i):i;case o.default.BINARY_20:return i=e.readString(e.readInt20()),this.isAttr&&l&&r.default.isWid(i)?s(i):i;case o.default.BINARY_32:return i=e.readString(e.readInt32()),this.isAttr&&l&&r.default.isWid(i)?s(i):i;case o.default.JID_PAIR:const d=this.readString(e,e.readByte()),c=this.readString(e,e.readByte());if(void 0!==d&&void 0!==c){const e=d+"@"+c;return l&&r.default.isWid(e)?s(e):e}if(void 0!==c)return c;throw new Error("invalid jid "+d+","+c+" "+e.debugInfo());case o.default.NIBBLE_8:case o.default.HEX_8:return this.readPacked8(a,e);default:throw __LOG__(2,!0)`Unexpected token in binary protocol read. Token : ${a}
lastTag: ${t}
lastAttributeKey: ${n}
${e.debugInfoWithPadding()}`,new Error("invalid string "+a)}},this.getToken=function(e){let t;if(e>=0&&e<a.length&&(t=a[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){let n;const a=256*e+t;if(a>=0&&a<i.length&&(n=i[a]),void 0===n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){let a,i;this.isAttr=!0;const o=t?{}:void 0;for(let s=0;s<t;s++)a=this.readString(e,e.readByte()),n=a,i=this.readString(e,e.readByte(),r.default.canBeWid(a)),o[a]=i;return this.isAttr=!1,o},this.readList=function(e,t){const n=[],a=this.readListSize(e,t);for(let t=0;t<a;t++)n.push(this.readNode(e));return n},this.readPacked8=function(e,t){const n=t.readByte();let a="";for(let r=0;r<(127&n);r++){const n=t.readByte();a+=this.unpackByte(e,(240&n)>>4),a+=this.unpackByte(e,15&n)}return n>>7&&(a=a.substring(0,a.length-1)),a},this.unpackByte=function(e,t){switch(e){case o.default.NIBBLE_8:return this.unpackNibble(t);case o.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!l.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return l[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}};var r=a(n(89867)),i=n(45454),o=a(n(41769));function s(e){try{return(0,i.createWid)(e)}catch(t){return e}}},893:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;const n={},a=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(n[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(n[e.doubleByte[t]]=t+o.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(!t)return;if(3!==t.length)throw new Error("invalid node");const n=t[1]?2*Object.keys(t[1]).filter((function(e){return!!t[1][e]})).length:0;this.writeListStart(e,1+n+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])},this.writeString=function(e,t,a){if("string"!=typeof t&&!(t instanceof i.default))throw __LOG__(3)`writer:writeString passed non-string/wid type: ${typeof t}`,new Error("invalid string");if(t instanceof i.default)return void this.writeJid(e,t.user,t.server);const r=n.hasOwnProperty(t)?n[t]:void 0;let s,l;if("c.us"!==t||a)if(void 0===r){const n=t.indexOf("@");if(n<1)this.writeStringRaw(e,t);else{const a=t.substring(0,n),r=t.substring(n+1);this.writeJid(e,a,r)}}else{if(r<o.default.SINGLE_BYTE_MAX)this.writeToken(e,r);else{const e=r-o.default.SINGLE_BYTE_MAX;switch(l=e%256,e>>8){case 0:s=o.default.DICTIONARY_0;break;case 1:s=o.default.DICTIONARY_1;break;case 2:s=o.default.DICTIONARY_2;break;case 3:s=o.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+r)}}this.writeToken(e,s),this.writeToken(e,l)}else this.writeToken(e,n["s.whatsapp.net"])},this.writeStringRaw=function(e,t){const n=(0,r.numUtf8Bytes)(t);if(n>=4294967296)throw new Error("string too large to encode (len = "+n+"): "+t);n>=1<<20?(e.pushByte(o.default.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(o.default.BINARY_20),e.pushInt20(n)):(e.pushByte(o.default.BINARY_8),e.pushByte(n)),e.pushString(t)},this.writeJid=function(e,t,n){if(e.pushByte(o.default.JID_PAIR),t)try{this.writePackedBytes(e,t)}catch(n){__LOG__(3,!0)`writer:encode-fallback "${n.message}"`,this.writeString(e,t)}else this.writeToken(e,o.default.LIST_EMPTY);this.writeString(e,n)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){this.isAttr=!0;for(const n in t)t[n]&&(this.writeString(e,n),this.writeString(e,t[n]));this.isAttr=!1}},this.writeChildren=function(e,t){let n;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if(n=t.byteLength,n>=4294967296)throw new Error("invalid children; too long (len = "+n);n>=1<<20?(e.pushByte(o.default.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(o.default.BINARY_20),e.pushInt20(n)):(e.pushByte(o.default.BINARY_8),e.pushByte(n)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");n=t.length,this.writeListStart(e,n);for(let a=0;a<n;a++)this.writeNode(e,t[a])}},this.writeListStart=function(e,t){0===t?e.pushByte(o.default.LIST_EMPTY):t<256?(e.pushByte(o.default.LIST_8),e.pushByte(t)):(e.pushByte(o.default.LIST_16),e.pushInt16(t))},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,o.default.NIBBLE_8)}catch(n){__LOG__(3)`writer:enc nib fail, try hex "${n.message}"`,this.writePackedBytesImpl(e,t,o.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,n){const a=(0,r.numUtf8Bytes)(t);if(a>o.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+a);{const r=Math.ceil(a/2),i=[];let o,s=0;a%2>0&&(s=128);const l=s|r;i.push(n),i.push(l);const u=Math.floor(a/2);for(let e=0;e<u;e++)o=this.packBytePair(n,t[2*e],t[2*e+1]),i.push(o);s>0&&(o=this.packBytePair(n,t[a-1],"\0"),i.push(o));const d=new Uint8Array(i);e.pushUint8Array(d)}},this.packBytePair=function(e,t,n){let a,r;switch(e){case o.default.NIBBLE_8:a=this.packNibble(t),r=this.packNibble(n);break;case o.default.HEX_8:a=this.packHex(t),r=this.packHex(n);break;default:throw new Error("invalid byte pack type: "+e)}return a<<4|r},this.packNibble=function(e){if(!a.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return a[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}};var r=n(8584),i=a(n(89867)),o=a(n(41769))},94569:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["ciphertext","invite"]}},86968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["gif","vcard","frequent"]}},11801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["privacy","blacklist","whitelist","verify"]}},14857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["location","document","elapsed","revoke_invite","expiration","unsubscribe","disable"]}},68953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={sendConversationDismissChangeNumber:function(e){return this.sendConversationOpWithKey("modify",e,void 0,void 0)}};t.default=n},82497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={queryDisappearingMode:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"disappearing_mode",jid:e},void 0);this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let n;if(__LOG__(2)`bin-recv: response,disappearing_mode`,"response"===this.N.tag(e)&&"disappearing_mode"===this.N.attr("type",e)){const t=this.N.attr("duration",e),a=this.N.attr("t",e);null!=t&&null!=a&&(n={duration:t,settingTimestamp:a})}t(n)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:"query,disappearing_mode",metricName:"QUERY_DISAPPEARING_MODE"})}))}};t.default=n},84045:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(78820),i=a(n(30381)),o=n(65044),s={setGroupEphemeralDuration:function(e,t){return new Promise(((n,a)=>{const s=o.Socket.tag(),l=this.wrap(n);l.tag=s;const u=[["ephemeral",{value:t.toString()},void 0]],d=["group",{id:s,jid:e,type:"prop",author:(0,r.getMaybeMeUser)()},u],c=this.actionNode("set",[d]);this.binSend("send",c,a,{clientCacheable:!0,onSend:l,onDrop:this.wrap(a)},{debugString:"action,group,ephemeral,"+t,metricName:"GROUP",expires:(0,i.default)().unix()})}))}};t.default=s},26286:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(51737),i=n(78820),o=a(n(30381)),s=n(65044),l={setGroupDescription:function(e,t,n,a){return new Promise(((l,u)=>{const d=s.Socket.tag(),c=this.wrap(l);let f;c.tag=d,f=(0,r.isString)(t)?[["description",{id:n,prev:a||"none"},t]]:[["description",{prev:a||"none",delete:"true"},void 0]];const h=["group",{id:d,jid:e,type:"description",author:(0,i.getMaybeMeUser)()},f],p=this.actionNode("set",[h]);this.binSend("send",p,u,{clientCacheable:!0,onSend:c,onDrop:this.wrap(u)},{debugString:"action,group,desc",metricName:"GROUP",expires:(0,o.default)().unix()})}))},setGroupProperty:function(e,t,n){return"announcement"!==t&&"restrict"!==t&&"no_frequently_forwarded"!==t?Promise.reject(new Error("invalid group property")):new Promise(((a,r)=>{const l=s.Socket.tag(),u=this.wrap(a);let d;switch(u.tag=l,t){case"announcement":d=[["announcement",{value:(!!n).toString()},void 0]];break;case"restrict":d=[["locked",{value:(!!n).toString()},void 0]];break;case"no_frequently_forwarded":d=[["no_frequently_forwarded",{value:(!!n).toString()},void 0]]}const c=["group",{id:l,jid:e,type:"prop",author:(0,i.getMaybeMeUser)()},d],f=this.actionNode("set",[c]);this.binSend("send",f,r,{clientCacheable:!0,onSend:u,onDrop:this.wrap(r)},{debugString:["action,group,prop",t,n].join(),metricName:"GROUP",expires:(0,o.default)().unix()})}))},demoteParticipants:function(e,t){return this.setGroupParticipants("demote",e,t)}};t.default=l},20207:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(51737),i=n(78820),o=a(n(30381)),s=n(65044),l={createGroup:function(e,t,n,a,l,u,d){return new Promise(((c,f)=>{const h=s.Socket.tag(),p=this.wrap(c);p.tag=h;const m=t.map((e=>["participant",{jid:e},void 0]));(0,r.isString)(n)&&(0,r.isString)(a)&&m.unshift(["description",{id:a},n]),l&&m.unshift(["locked",void 0,void 0]),u&&m.unshift(["announcement",void 0,void 0]),null!=d&&0!==d&&m.unshift(["ephemeral",{value:d.toString()},void 0]),__LOG__(2)`create group tag`;const g=["group",{id:h,type:"create",author:(0,i.getMaybeMeUser)(),subject:e},m],_=this.actionNode("set",[g]);this.binSend("send",_,f,{clientCacheable:!0,onSend:p,onDrop:this.wrap(f)},{debugString:"action,group,create",metricName:"GROUP",expires:(0,o.default)().unix()})}))}};t.default=l},92264:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(30381)),i=n(65044),o={findGroupPendingInvitesFromPhone:function(e,t){return new Promise(((n,a)=>{const r=this.queryNode({type:"group",kind:"invite",from:e,jid:t},[]);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{if("response"!==this.N.tag(e)||"group"!==this.N.attr("type",e))return void n({status:"error",info:"bad format: response incorrect"});const t=this.N.children(e),a=null==t?void 0:t[0];if(!a)return void n({status:"error",info:"bad format: no group node"});const r=[],i=this.N.children(a);Array.isArray(i)&&i.forEach((e=>{switch(this.N.tag(e)){case"participant":r.push({id:this.N.attr("jid",e)})}})),n({participants:r})})).catch(a)}),n),onDrop:this.wrap(a)},{debugString:"query,group_pending_invite",metricName:"QUERY_GROUP",ackRequest:!1})}))},acceptGroupV4Invite:function(e,t,n,a,o){return new Promise(((s,l)=>{const u=i.Socket.tag(),d=this.wrap(s);d.tag=u;const c=[["accept",{admin:t,expiration:a,code:n},void 0]],f=this.actionNode("set",[["group",{id:u,author:o,jid:e,type:"accept"},c]]);this.binSend("send",f,l,{clientCacheable:!0,onSend:d,onDrop:this.wrap(l)},{debugString:"action,group_invite_accept,",ackRequest:!1,expires:(0,r.default)().unix()})}))},revokeGroupV4Invite:function(e,t,n){return new Promise(((a,o)=>{const s=i.Socket.tag(),l=this.wrap(a);l.tag=s;const u=e.map((e=>["participant",{jid:e},void 0])),d=this.actionNode("set",[["group",{id:s,author:n,jid:t,type:"revoke"},u]]);this.binSend("send",d,o,{clientCacheable:!0,onSend:l,onDrop:this.wrap(o)},{debugString:"action,group_invite_revoke,",ackRequest:!1,expires:(0,r.default)().unix()})}))},parseInviteUpdate(e){const t=[],[n,a,r]=[this.N.attr("kind",e),this.N.attr("jid",e),this.N.attr("type",e)];if("update"!==n||"invite"!==r||void 0===a)return;const i=this.N.children(e);for(let e=0;e<i.length;e++){const n=i[e];"participant"===this.N.tag(n)&&t.push(this.N.attr("jid",n))}return{gid:a,participants:t}}};t.default=o},76342:(e,t,n)=>{"use strict";var a=n(95318);t.Z=void 0;var r=a(n(68953)),i=a(n(82497)),o=a(n(84045)),s=a(n(26286)),l=a(n(20207)),u=a(n(92264)),d=a(n(44843)),c=a(n(46262)),f=a(n(88278)),h=a(n(73052)),p=a(n(59153)),m=a(n(45831)),g=a(n(91725)),_=a(n(10467)),v=a(n(74111)),b=n(80208),y=a(n(61584)),C=a(n(13892)),S=a(n(60678)),E=a(n(89998)),x={labelsDisplay:d.default,groupsV3:s.default,groupsV3Create:l.default,changeNumberV2:r.default,queryStatusV3Thumbnail:m.default,queryVname:g.default,voipIndividualIncoming:E.default,quickRepliesQuery:_.default,payments:p.default,stickerPackQuery:C.default,labelsEdit:c.default,mediaUpload:f.default,videoPlaybackUrl:S.default,recentStickersV2:v.default,recentStickersV3:v.default,starredStickers:y.default,groupsV4JoinPermission:u.default,ephemeralMessages:o.default,userNotice:h.default,settingsSync:b.settingsSync,disappearingMode:i.default};t.Z=x},44843:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=a(n(65212));n(59802);const o={chat:["Chat","Contact"],message:["Msg"],contact:["Contact"]};var s={queryLabels:function(){return new Promise(((e,t)=>{const n=this.queryNode({type:"label"});this.binSend("sendEphemeral",n,t,{onSend:this.binWrap((n=>{this.BinaryProtocol.read(n).then((t=>{const n={labels:[]};if(__LOG__(2)`bin-recv: response,label`,"response"===this.N.tag(t)&&"label"===this.N.attr("type",t)){n.checksum=this.N.attr("checksum",t);const e=this.N.children(t);if(Array.isArray(e))for(let t=0;t<e.length;t++){const a=this.parseLabel(e[t]),r=null==a?void 0:a.label;r&&n.labels.push(r)}}e(n)})).catch(t)}),e),onDrop:this.wrap(t)},{debugString:"query,labels",metricName:"QUERY_LABELS"})}))},parseLabel:function(e){if("label"!==this.N.tag(e))return;const t=parseInt(this.N.attr("count",e),10),n=this.N.attr("id",e),a=this.N.attr("name",e),s=this.N.attr("color",e),u=isNaN(t)?void 0:t,d=this.N.attr("type",e);let c;if("update"===d){const t=this.N.children(e);for(let e=0;e<t.length;e++){const n=t[e];let a=null;switch(this.N.tag(n)){case"chat":a=this.N.attr("jid",n);break;case"message":const e=this.N.attr("jid",n),t=this.N.attr("index",n),r="true"===this.N.attr("owner",n),o=this.N.attr("participant",n);a=new i.default({fromMe:r,remote:e,id:t,participant:o})}const s={id:(0,r.default)(a,"updateId"),labels:l(this.N.children(n),this.N.attr),collection:o[this.N.tag(n)]};c=c?c.concat(s):[s]}}const f={label:{id:n,name:a,color:s,count:u},type:d,labelUpdates:c};return this.dropIfConditionMet([!(d||n&&a&&s),d&&"update"!==d&&"delete"!==d],f)}};function l(e,t){return e&&Array.isArray(e)?e.reduce(((e,n)=>[...e,(0,r.default)(t("id",n),"attr('id', label)")]),[]):[]}t.default=s},46262:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(30381)),i=n(19380),o={queryNextLabelColor(){return this._queryLabelColor(!0)},queryLabelPalette(){return this._queryLabelColor()},createLabel(e,t){return this._createOrDeleteLabels("create",e,t)},deleteLabel(e){return this._createOrDeleteLabels("delete",void 0,void 0,e)},_queryLabelColor:function(e){const t=e?"next label color":"all label color palette";return new Promise(((n,a)=>{const r=this.queryNode({type:"label",kind:"color",create:e?"true":void 0});this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a={};if(__LOG__(2)`bin-recv: response,${t}`,"response"===this.N.tag(e)&&"label"===this.N.attr("type",e)){a.labelColors=[];const t=this.N.children(e);if(Array.isArray(t))for(let e=0;e<t.length;e++){const n=this.parseLabelColor(t[e]);n&&a.labelColors.push(n)}}n(a)})).catch(a)}),n),onDrop:this.wrap(a)},{debugString:`query,${t}`,metricName:e?"QUERY_NEXT_LABEL_COLOR":"QUERY_LABEL_PALETTE"})}))},addOrRemoveLabels:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(((a,o)=>{const s=this.wrap(a),l=e.map((e=>["label",{id:e.id,type:e.type},void 0])),u=t.map((e=>e instanceof n(69951).ChatCollection.modelClass?["chat",{jid:e.id},void 0]:e instanceof i.ContactCollection.modelClass?["contact",{jid:e.id},void 0]:e instanceof n(59871).MsgCollection.modelClass?["message",{index:e.id.id,owner:void 0===e.id.fromMe?void 0:e.id.fromMe.toString(),jid:e.id.remote},void 0]:void 0)),d=this.actionNode("set",[["label",{type:"update"},u.concat(l)]]);this.binSend("send",d,o,{onSend:s,onDrop:this.wrap(o)},{debugString:"action,label,remove or add",metricName:"ADD_OR_REMOVE_LABELS",expires:(0,r.default)().unix()})}))},_createOrDeleteLabels:function(e,t,n,a){return"delete"!==e&&"create"!==e?Promise.reject(new Error("_createOrDeleteLabels must be called with type of delete or create")):new Promise(((i,o)=>{const s=this.wrap(i),l={type:e,name:t,color:n,id:a||void 0},u=this.actionNode("set",[["label",l,void 0]]);this.binSend("send",u,o,{onSend:s,onDrop:this.wrap(o)},{debugString:"action,label,create or delete",metricName:"CREATE_OR_DELETE_LABELS",expires:(0,r.default)().unix()})}))},editLabel:function(e,t,n){return new Promise(((a,i)=>{const o=this.wrap(a),s={id:e,name:t||void 0,color:n||void 0,type:"update"},l=this.actionNode("set",[["label",s,void 0]]);this.binSend("send",l,i,{onSend:o,onDrop:this.wrap(i)},{debugString:"action,label,edit",metricName:"EDIT_LABELS",expires:(0,r.default)().unix()})}))},parseLabelColor:function(e){if("label"!==this.N.tag(e))return;const t=this.N.attr("color",e);return this.dropIfConditionMet([!t],{color:t})}};t.default=o},88278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=["url","mediaKey","filehash","encFilehash","width","height","mimetype"],a=["url","mediaKey","filehash","encFilehash","mimetype"];function r(e,t){for(let n=0;n<t.length;n++)if(!e[t[n]])return!1;return!0}var i={mediaUpload:function(e,t){return new Promise(((i,o)=>{const s=this.queryNode({type:"media",kind:e,id:t.toString()},void 0);this.binSend("sendEphemeral",s,o,{onSend:this.binWrap((t=>{this.BinaryProtocol.read(t).then((t=>{if(__LOG__(2)`bin-recv: response,media`,"response"!==this.N.tag(t)||"media"!==this.N.attr("type",t))return __LOG__(3)`wap:mediaUpload:malformed`,void i({status:400});const o=parseInt(this.N.attr("code",t),10)||200;if(200!==o)return __LOG__(3)`wap:mediaUpload:error ${o}`,void i({status:o});switch(e){case"sticker":{const e={directPath:this.N.attr("direct_path",t),url:this.N.attr("url",t),filehash:this.N.attr("filehash",t),encFilehash:this.N.attr("enc_filehash",t),mediaKey:this.N.attr("media_key",t),mimetype:this.N.attr("mimetype",t),height:this.N.attr("height",t),width:this.N.attr("width",t)};return r(e,n)?void i({status:o,sticker:e}):(__LOG__(3)`wap:mediaUpload:missing-field`,void i({status:400}))}case"sticker-pack":{const e={directPath:this.N.attr("direct_path",t),url:this.N.attr("url",t),filehash:this.N.attr("filehash",t),encFilehash:this.N.attr("enc_filehash",t),mediaKey:this.N.attr("media_key",t),mimetype:this.N.attr("mimetype",t)};return r(e,a)?void i({status:o,stickerPack:e}):(__LOG__(3)`wap:mediaUpload:missing-field`,void i({status:400}))}case"quick-reply":throw new Error('"quick-reply" not yet implemented');default:throw new Error(`unknown kind ${e}`)}}))}),i),onDrop:this.wrap(o)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})}))}};t.default=i},73052:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(41609)),o={queryNoticeState:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"notice"},void 0),r=e?"query,notice_state,resume":"query,notice_state";this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n={notices:[],status:parseInt(this.N.attr("code",e),10)||200};if(__LOG__(2)`bin-recv: response,notice_state`,"response"===this.N.tag(e)&&"notice"===this.N.attr("type",e)){const t=this.N.children(e);if(Array.isArray(t))for(let e=0;e<t.length;e++){const a=this.parseNotice(t[e]);(0,i.default)(a)||n.notices.push(a)}}t(n)})).catch(n)}),t),onDrop:this.wrap(n),serverCacheable:Boolean(e)},{debugString:r,metricName:"QUERY_NOTICE_STATE"})}))},parseNotice:function(e){if("notice"!==this.N.tag(e))return;const t=parseInt(this.N.attr("id",e),10),n=parseInt(this.N.attr("version",e),10),a={id:isNaN(t)?void 0:t,blocking:"true"===this.N.attr("blocking",e),version:isNaN(n)?void 0:n};return null!=a.id?a:(0,r.default)({},void 0)}};t.default=o},59153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(93650),r={parsePaymentInfo:function(e,t){t&&(0,a.parseMsgPaymentInfo)(e,t)}};t.default=r},45831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={statusQueryThumbnail:function(e){return this.profilePicFindThumbFromPhone(e,void 0,!0)}};t.default=n},91725:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={queryVname:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"vname",jid:e},void 0);this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((a=>{this.BinaryProtocol.read(a).then((n=>{let a;__LOG__(2)`bin-recv: response,vname`,"response"===this.N.tag(n)&&"vname"===this.N.attr("type",n)&&(a=this.parseContact(this.N.child("user",n),e)),t(a)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:`query,vname,${e}`,metricName:"QUERY_VNAME"})}))}};t.default=n},10467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(51737),r={queryQuickReplies:function(e){return this.sendQuickRepliesQuery(e,!1)},flushQuickReplyCounts:function(e){return this.sendQuickRepliesQuery(e,!0)},sendQuickRepliesQuery:function(e,t){return new Promise(((n,a)=>{const r=e?Object.keys(e).map((t=>["quick_reply",{id:t,count:e[t].toString()},void 0])):void 0,i={type:"quick_reply"};t&&(i.kind="count");const o=this.queryNode(i,r);this.binSend("sendEphemeral",o,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a={data:[]};if(__LOG__(2)`bin-recv: response,quick_reply`,"response"===this.N.tag(e)&&"quick_reply"===this.N.attr("type",e)){a.checksum=this.N.attr("checksum",e);const n=this.N.children(e);if(Array.isArray(n))for(let e=0;e<n.length;e++){const r=(t?this.parseQuickReplyCount.bind(this):this.parseQuickReply.bind(this))(n[e]);r&&a.data.push(r)}}n(a)})).catch(a)}),n),onDrop:this.wrap(a)},{debugString:"query,quick_replies",metricName:"QUERY_QUICK_REPLIES"})}))},parseQuickReply:function(e){if("quick_reply"!==this.N.tag(e))return;const t=this.N.attr("id",e),n=this.N.attr("short",e),r=this.N.attr("message",e),i=parseInt(this.N.attr("count",e),10)||0,o=this.N.attr("type",e),s=[];if("delete"!==o){const t=this.N.children(e);if(Array.isArray(t))for(let e=0;e<t.length;e++){const n=t[e];"matched-text"===this.N.tag(n)&&s.push(this.N.dataStr(n))}}const l=[!(o||t&&n&&r&&(0,a.isNumber)(i)),o&&"delete"!==o,"delete"===o&&!t];return this.dropIfConditionMet(l,{id:t,shortcut:n,message:r,count:i,keywords:s,type:o})},parseQuickReplyCount:function(e){if("quick_reply"!==this.N.tag(e))return;const t=this.N.attr("id",e),n=parseInt(this.N.attr("count",e),10)||0,r=[!t||!(0,a.isNumber)(n)];return this.dropIfConditionMet(r,{id:t,count:n})}};t.default=r},74111:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(90511)),i={queryRecentStickers:function(){return new Promise(((e,t)=>{const n=this.queryNode({type:"recent_stickers"},void 0);this.binSend("sendEphemeral",n,t,{onSend:this.binWrap((n=>{this.BinaryProtocol.read(n).then((e=>(0,r.default)(e,this.N,"recent_stickers"))).then(e,t)}),e),onDrop:this.wrap(t)},{debugString:"query,recent_stickers",metricName:"QUERY_RECENT_STICKERS"})}))}};t.default=i},12761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("recent_stickers"!==t.tag(e))return;if("delete"!==t.attr("type",e))return;return t.attr("filehash",e)}},61584:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(90511)),i={queryStarredStickers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return new Promise(((n,a)=>{const i=this.queryNode({type:"starred_stickers",page:e.toString(),count:t.toString()},void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>(0,r.default)(e,this.N,"starred_stickers"))).then(n,a)}),n),onDrop:this.wrap(a)},{debugString:"query,starred_stickers",metricName:"QUERY_STARRED_STICKERS"})}))}};t.default=i},69686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("starred_stickers"!==t.tag(e))return;const n=t.attr("type",e);if("delete"!==n&&"add"!==n)return;const a=t.attr("filehash",e)||"";if("add"===n){const r={id:a,deprecatedMms3Url:t.attr("url",e)||"",directPath:t.attr("direct_path",e)||"",filehash:a,encFilehash:t.attr("enc_filehash",e),mediaKey:t.attr("media_key",e)||"",width:parseInt(t.attr("width",e)||"0",10),height:parseInt(t.attr("height",e)||"0",10),size:parseInt(t.attr("size",e)||"0",10),mimetype:t.attr("mimetype",e),index:0};return{filehash:a,type:n,sticker:r}}return{filehash:a,type:n}}},91801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n;if("sticker"!==t.tag(e))return;const a=t.attr("filehash",e);if(!a)return __LOG__(4,void 0,new Error,!0)`filehash is missing in sticker from phone`,void SEND_LOGS("sticker-missing-filehash-from-phone");const r={id:a,deprecatedMms3Url:t.attr("url",e),directPath:t.attr("direct_path",e),mediaKey:t.attr("media_key",e),filehash:a,encFilehash:t.attr("enc_filehash",e),mimetype:t.attr("mimetype",e),width:parseInt(t.attr("width",e),10),height:parseInt(t.attr("height",e),10),size:parseInt(t.attr("size",e),10),weight:parseFloat(null!==(n=t.attr("weight",e))&&void 0!==n?n:1)};(!r.mimetype||Number.isNaN(r.width)||Number.isNaN(r.height)||Number.isNaN(r.size))&&__LOG__(3)`sticker:parse missing preferred fields: `;return r}},90511:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){__LOG__(2)`bin-recv: response,${n}`;const a=t.tag(e);if("response"!==a)throw new Error(`node tag for ${n} response is invalid: ${a}`);const o=t.attr("type",e)||"";if(o!==n)throw new Error(`node type for ${n} response is invalid: ${o}`);const s=parseInt(t.attr("code",e),10)||200;if(200!==s)throw new Error(`response status for ${n} is invalid: ${s}`);const l=t.attr("checksum",e)||"",u=parseInt(t.attr("total",e)||"0",10),d=t.children(e)||[];(0,r.default)(Array.isArray(d),"expects an Array of Stickers");const c=d.map((e=>(0,i.default)(e,t))).filter(Boolean);return{checksum:l,total:u,stickers:c}};var r=a(n(41143)),i=a(n(91801))},13892:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=n(8139),o={queryStickerPacks:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new Promise(((n,a)=>{const r={type:(0,i.isThirdPartyStickersEnabled)()?"sticker_pack_v2":"sticker_pack",page:e.toString(),count:t.toString()},o=this.queryNode(r,void 0);this.binSend("sendEphemeral",o,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const t={};if(__LOG__(2)`bin-recv: response,sticker_pack`,"response"===this.N.tag(e)&&"sticker_pack"===this.N.attr("type",e)){const n=parseInt(this.N.attr("code",e),10)||200;t.status=n,t.data=[],t.checksum=this.N.attr("checksum",e);const a=this.N.attr("count",e);t.count=null==a?null:parseInt(a,10);const r=this.N.children(e);if(Array.isArray(r))for(let e=0;e<r.length;e++){const n=this.parseStickerPack(r[e]);n&&t.data.push(n)}}n(t)})).catch(a)}),n),onDrop:this.wrap(a)},{debugString:"query,sticker_pack",metricName:"QUERY_STICKER_PACKS"})}))},queryStickersInStickerPack:function(e){return this.queryStickers({id:e})},queryStickers:function(e){return new Promise(((t,n)=>{const a=(0,r.default)({type:"sticker"},e),i=this.queryNode(a,void 0);this.binSend("sendEphemeral",i,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n={};if(__LOG__(2)`bin-recv: response,sticker`,"response"===this.N.tag(e)&&"sticker"===this.N.attr("type",e)){const t=parseInt(this.N.attr("code",e),10)||200;n.status=t,n.data=[];const a=this.N.children(e);if(Array.isArray(a))for(let e=0;e<a.length;e++){const t=this.parseSticker(a[e]);t&&n.data.push(t)}}t(n)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:`query,sticker,${e.id}`,metricName:"QUERY_STICKERS"})}))},parseSticker:function(e){if("sticker"!==this.N.tag(e))return;const t={url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e),width:parseInt(this.N.attr("width",e)||125,10),height:parseInt(this.N.attr("height",e)||125,10),size:parseInt(this.N.attr("size",e)||0,10)||null};return t.filehash?t:void 0},parseStickerPack:function(e){if("sticker_pack"!==this.N.tag(e))return;const t={id:this.N.attr("id",e),name:this.N.attr("name",e),url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e)};return t.id?t:void 0},parseStickerPackUpdate:function(e){if("sticker_pack"!==this.N.tag(e))return;const t=this.N.attr("type",e);return this.dropIfConditionMet([!t],{type:t})}};t.default=o},60678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={queryVideoPlaybackUrl:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"video",url:e},void 0);this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let n;if(__LOG__(2)`bin-recv: response,video_playback_url`,"response"===this.N.tag(e)&&"video"===this.N.attr("type",e)){const t=this.N.attr("url",e);t&&(n={url:t})}t(n)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:"query,video_playback_url",metricName:"QUERY_URL"})}))}};t.default=n},89998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(84902),r=n(24808),i=n(49835),o={parseCall:function(e){if("call"!==this.N.tag(e))return;const t=this.N.child("offer",e);if(!t)return;const n=this.N.child("call",t);if(!n)return;const i=this.N.children(n),o=(0,a.decodeProtobuf)(r.MessageSpec,i).call;if(!o)return;const s=this.N.attr("from",e),l=this.N.attr("call-id",t),u=o.callKey;return this.dropIfConditionMet([!l,!s,!u],{type:"offer_key",id:l,peerJid:s,key:u})},queryCall:function(e,t){return new Promise(((n,a)=>{const r=this.queryNode({type:"call","call-id":e,kind:t});this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const t={status:400};"response"===this.N.tag(e)&&"call"===this.N.attr("type",e)&&(t.status=parseInt(this.N.attr("code",e),10)||400),n(t)})).catch(a)}),n),onDrop:this.wrap(a)},{debugString:"query,call,"+e,metricName:"QUERY_CALL"})}))},handleCallQuery(){const e=n(60868).CallCollection.handleQuery({});if(e)return e.then((()=>this.responseNode(void 0,[["some",{formatted:"xml"},void 0]])))},sendCallEnd:function(e,t){return new Promise(((n,a)=>{const r={};r.jid=e.jid,r["call-id"]=e["call-id"],r.result=s(e.result),r.audio=e.audio.toString(),r.out=e.out.toString(),r.seconds=e.seconds.toString(),r.t=e.t.toString(),r.group=e.group.toString();const i=t.map((e=>["participant",{jid:e.jid,result:s(e.result)},void 0])),o=this.actionNode("relay",[["call_end",r,i]]);this.binSend("send",o,a,{onSend:this.wrap(n),onDrop:this.wrap(a)},{debugString:`action,call_end,${e["call-id"]}`})}))}};function s(e){return i.CALL_LOG_RESULT[e]||"invalid"}t.default=o},43470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34,QUERY_VNAME:35,QUERY_LABELS:36,CALL:37,QUERY_CALL:38,QUERY_QUICK_REPLIES:39,QUERY_CALL_OFFER:40,QUERY_RESPONSE:41,QUERY_STICKER_PACKS:42,QUERY_STICKERS:43,ADD_OR_REMOVE_LABELS:44,QUERY_NEXT_LABEL_COLOR:45,QUERY_LABEL_PALETTE:46,CREATE_OR_DELETE_LABELS:47,EDIT_LABELS:48,QUERY_RECENT_STICKERS:49,QUERY_NOTICE_STATE:50,QUERY_SETTINGS:51,SET_ARCHIVE_SETTING:51};t.default=n},90826:(e,t,n)=>{"use strict";var a=n(95318);t.Z=void 0;var r=a(n(48926)),i=a(n(81109)),o=a(n(91747)),s=a(n(35161)),l=a(n(82492)),u=a(n(66678)),d=n(15688),c=n(87614),f=n(18412),h=n(35470),p=n(88555),m=n(38184),g=a(n(65212)),_=a(n(76139)),v=n(78820),b=a(n(89867)),y=n(84902),C=n(60980),S=a(n(30381)),E=a(n(13016)),x=n(93170),T=a(n(71520)),M=n(24808),k=n(6565),w=a(n(43470)),A=a(n(93202)),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(13493)),j=n(93650),I=n(66934),O=n(21224),N=n(65044);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}const D=(0,i.default)((0,i.default)((0,i.default)({version:"17",M:w.default,BinaryProtocol:null,N:null,addContact:function(e){return new Promise(((t,n)=>{const a=this.actionNode("set",[["contacts",{type:"add"},e]]);this.binSend("send",a,n,{clientCacheable:!0,onSend:this.binWrap(t,t),onDrop:this.wrap(n)},{debugString:"action,contact,add",metricName:"CONTACT",ackRequest:!0})}))},addParticipants:function(e,t){return this.setGroupParticipants("add",e,t)},changeSubject:function(e,t){return new Promise(((n,a)=>{const r=N.Socket.tag(),i=this.wrap(n);i.tag=r;const o=["group",{id:r,jid:e,type:"subject",author:(0,v.getMaybeMeUser)(),subject:t},void 0],s=this.actionNode("set",[o]);this.binSend("send",s,a,{clientCacheable:!0,onSend:i,onDrop:this.wrap(a)},{debugString:"action,group,subject",metricName:"GROUP",ackRequest:!1,expires:(0,S.default)().unix()})}))},chatFindQuery:function(e,t){return new Promise(((n,a)=>{const r={type:"chat"};"boolean"==typeof e&&e?r.kind="retry":"string"==typeof e&&(r.jid=e);const i=this.queryNode(r,void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let t=[];const a=this.N.children(e);if("response"===this.N.tag(e)&&"chat"===this.N.attr("type",e))if("true"===this.N.attr("duplicate",e))t="preempted";else if(Array.isArray(a)){let e;const n=a.length;for(e=0;e<n;e++){const n=this.parseChat(a[e]);n&&t.push(n)}}n(t)})).catch(a)}),n),logOnSend:t,onDrop:this.wrap(a)},{debugString:["query","chat",e].join(),metricName:"QUERY_CHAT",ackRequest:!1})}))},contactFindQuery:function(e,t){return new Promise(((n,a)=>{const r=this.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);this.binSend("send",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let t=[];const a=this.N.children(e);if("response"===this.N.tag(e)&&"contacts"===this.N.attr("type",e))if("true"===this.N.attr("duplicate",e))t="preempted";else if(Array.isArray(a)){let e;const n=a.length;for(e=0;e<n;e++){const n=this.parseContact(a[e]);n&&t.push(n)}}n({checksum:this.N.attr("checksum",e),data:t})})).catch(a)}),n),logOnSend:t,onDrop:this.wrap(a)},{debugString:"query,contacts, "+String(e),metricName:"QUERY_CONTACTS",ackRequest:!1})}))},createGroup:function(e,t,n,a,r,i,o){return new Promise(((n,a)=>{const r=N.Socket.tag(),i=this.wrap(n);i.tag=r;const s=t.map((e=>["participant",{jid:e},void 0]));o&&s.unshift(["ephemeral",{value:`${o}`},void 0]),__LOG__(2)`create group tag`;const l=["group",{id:r,type:"create",author:(0,v.getMaybeMeUser)(),subject:e},s],u=this.actionNode("set",[l]);this.binSend("send",u,a,{clientCacheable:!0,onSend:i,onDrop:this.wrap(a)},{debugString:"action,group,create",metricName:"GROUP",ackRequest:!1,expires:(0,S.default)().unix()})}))},deletePicture:function(e){return new Promise(((t,n)=>{const a=N.Socket.tag(),r=this.wrap(t);r.tag=a;const i=["picture",{id:a,jid:e,type:"delete"},void 0],o=this.actionNode("set",[i]);this.binSend("send",o,n,{clientCacheable:!0,onSend:r,onDrop:this.wrap(n)},{debugString:"action,delete_pic,"+e.toString(),metricName:"PIC",ackRequest:!1,expires:(0,S.default)().unix()})}))},groupMetadataFindFromPhone:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"group",jid:e},[]);this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((a=>{this.BinaryProtocol.read(a).then((n=>{if("response"!==this.N.tag(n)||"group"!==this.N.attr("type",n))return void t({status:"error",info:"bad format: response incorrect"});const a=this.N.children(n),r=null==a?void 0:a[0];if(!r)return void t({status:"error",info:"bad format: no group node"});if("missing"===this.N.attr("type"))return void t({status:"missing"});const i=[];let o;const s=this.N.children(r);let l=!1;Array.isArray(s)&&s.forEach((e=>{switch(this.N.tag(e)){case"participant":i.push({id:this.N.attr("jid",e),isAdmin:"admin"===this.N.attr("type",e)});break;case"description":o=this.N.dataStr(e);break;case"support":l=!0}})),t({status:"ok",data:{creation:parseInt(this.N.attr("create",r),10)||void 0,desc:o,id:e,owner:this.N.attr("creator",r),participants:i,support:l}})})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:"query,group,"+e,metricName:"QUERY_GROUP",ackRequest:!1})}))},leaveGroup:function(e){return new Promise(((t,n)=>{const a=N.Socket.tag(),r=this.wrap(t);r.tag=a;const i=["group",{id:a,jid:e,type:"leave",author:(0,v.getMaybeMeUser)()},void 0],o=this.actionNode("set",[i]);this.binSend("send",o,n,{clientCacheable:!0,onSend:r,onDrop:this.wrap(n)},{debugString:"action,group,delete",metricName:"GROUP",ackRequest:!1,expires:(0,S.default)().unix()})}))},parseBattery:function(e){if("battery"!==this.N.tag(e))return __LOG__(4,void 0,new Error,!0)`expected tag: battery, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");const t=Math.min(parseInt(this.N.attr("value",e),10)||-1,100),n=this.N.attr("live",e),a={battery:t<0?void 0:t,plugged:n?"true"===n:void 0};return this.dropIfConditionMet([t<0&&!n],a)},parseBCUpdate:function(e){if("broadcast"!==this.N.tag(e)||"modify"!==this.N.attr("type",e))return __LOG__(4,void 0,new Error,!0)`expected tag: broadcast, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");const t=this.N.attr("jid",e),n=this.N.children(e),a=[];if(Array.isArray(n)){const e=n.length;let t,r,i;for(t=0;t<e;t++)r=n[t],i=this.N.attr("jid",r),"recipient"===this.N.tag(r)&&i&&b.default.isUser(i)&&a.push({id:i})}const r=[!t,!b.default.isBroadcast(t),0===a.length];return this.dropIfConditionMet(r,{id:t,participants:a})},parseChat:function(e){if("chat"!==this.N.tag(e))return __LOG__(4,void 0,new Error,!0)`expected tag: chat, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");let t=this.N.attr("kind",e),n=this.N.attr("type",e);const a=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,i=parseInt(this.N.attr("mute",e),10),o=parseInt(this.N.attr("before",e),10)||void 0,s="true"===this.N.attr("archive",e),l="true"===this.N.attr("read_only",e),u=parseInt(this.N.attr("modify_tag",e),10)||void 0,d=this.N.attr("name",e)||void 0,c=this.safeParseInt(e,"count"),f="true"===this.N.attr("message",e),h="true"===this.N.attr("star",e),p="false"===this.N.attr("spam",e),m=parseInt(this.N.attr("pin",e),10)||0,g=this.N.attr("old_jid",e),_=this.N.attr("new_jid",e),v=parseInt(this.N.attr("ephemeral",e),10)||0,y=parseInt(this.N.attr("eph_setting_ts",e),10)||0;switch(t){case"text":case"image":case"video":case"gif":case"audio":case"ptt":case"document":case"location":case"vcard":case"url":case"sticker":break;default:t=void 0}"ahead"===n&&(n="clear");const C=this.N.children(e);let S,E;if(Array.isArray(C)){let e,t;S=[],E=[];const n=C.length;for(e=0;e<n;e++)if(t=C[e],"item"===this.N.tag(t)){const e=this.N.attr("index",t);e&&S.push([e,"true"===this.N.attr("owner",t),this.N.attr("participant",t)])}else if("label"===this.N.tag(t)){const e=this.N.attr("id",t);e&&E.push(e)}else{const e=this.parseMsgMessage(t,"response");e&&S.push(e)}}const x={id:a,t:r,type:n,kind:t,keys:S,before:o,archive:s,isReadOnly:l,unreadCount:c,muteExpiration:isNaN(i)?void 0:i,modifyTag:u,name:d,pendingMsgs:f,star:h,notSpam:p,pin:m,changeNumberOldJid:g,changeNumberNewJid:_,ephemeralDuration:b.default.isUser(a)?v:void 0,ephemeralSettingTimestamp:b.default.isUser(a)?y:void 0,labels:E};this.pruneUndefinedProps(x);const T=[n&&"delete"!==n&&"clear"!==n&&"ephemeral"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"star"!==n&&"unstar"!==n&&"spam"!==n&&"modify_tag"!==n&&"pin"!==n&&"modify"!==n,!n&&!a,s&&n&&"clear"!==n,"clear"!==n&&o&&o>0,"clear"!==n&&"star"!==n&&"unstar"!==n&&S&&S.length>0];return this.dropIfConditionMet(T,x)},parseMsg:function(e,t){switch(this.N.tag(e)){case"message":return this.parseMsgMessage(e,t);default:return __LOG__(4,void 0,new Error,!0)`received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unknown-tag")}},parseIdentity:function(e){const t=this.N.child("raw",e),n=this.N.child("text",e);if(t&&n&&this.N.children(t)instanceof ArrayBuffer&&this.N.dataStr(n))return{jid:this.N.attr("jid",e),binary:this.N.children(t),string:this.N.dataStr(n)}},profilePicFindThumbFromPhone:function(e,t,n){return new Promise(((a,r)=>{const i={type:"preview",jid:e};(null==t?void 0:t.tag)&&t.raw&&(i.id=t.tag),n&&(i.kind="status");const o=this.queryNode(i,[]);this.binSend("sendEphemeral",o,r,{onSend:this.binWrap((n=>{this.BinaryProtocol.read(n).then((n=>{"response"===this.N.tag(n)&&"preview"===this.N.attr("type",n)||r(new Error("Not response or preview"));const i=this.N.children(n),o=null==i?void 0:i[0];if(o||r(new Error("Missing preview node")),"missing"===this.N.attr("type",o))a({id:e,tag:void 0,raw:void 0});else{const n=this.N.attr("id",o);let r;if(t&&n===t.tag&&t.raw)r=t.raw;else{const e=this.N.children(o);r=e?(0,d.encodeB64)(e):void 0}a({id:e,tag:n,raw:r})}})).catch(r)}),a),onDrop:this.wrap(r)},{debugString:"query,thumb,"+e,metricName:"QUERY_PREVIEW",ackRequest:!1})}))},promoteParticipants:function(e,t){return this.setGroupParticipants("promote",e,t)},queryIdentity:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"identity",jid:e},void 0);this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let n;__LOG__(2)`bin-recv: response,identity`,"response"===this.N.tag(e)&&"identity"===this.N.attr("type",e)&&(n=this.parseIdentity(e)),t(n)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:`query,identity,${e.toString()}`,metricName:"QUERY_IDENTITY",ackRequest:!1})}))},queryLinkPreview:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"url",url:e},void 0);this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let n;if(__LOG__(2)`bin-recv: response,url`,"response"===this.N.tag(e)&&"url"===this.N.attr("type",e)){const t=this.N.children(e);n={title:this.N.attr("title",e),description:this.N.attr("description",e),canonicalUrl:this.N.attr("canonical-url",e),matchedText:this.N.attr("matched-text",e),preview:this.N.attr("preview",e),thumbnail:t?(0,d.encodeB64)(t):void 0,doNotPlayInline:"true"===this.N.attr("do-not-play-inline",e)}}t(n)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:"query,url",metricName:"QUERY_URL",ackRequest:!1})}))},queryMsgInfo:function(e){const t=e=>{let t,n;const a=[];if(Array.isArray(e)){t=e.length;for(let r=0;r<t;r++)n=e[r],"item"===this.N.tag(n)&&this.N.attr("jid",n)&&this.N.attr("t",n)&&a.push({id:this.N.attr("jid",n),t:parseInt(this.N.attr("t",n),10)||0})}return a};return new Promise(((n,a)=>{const r=this.queryNode({type:"message_info",index:e.id,jid:e.remote},void 0);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a={played:[],playedRemaining:0,read:[],readRemaining:0,delivery:[],deliveryRemaining:0};if(__LOG__(2)`bin-recv: response,msg,info`,"response"===this.N.tag(e)&&"message_info"===this.N.attr("type",e)){const n=this.N.child("played",e),r=this.N.child("read",e),i=this.N.child("delivery",e),o=this.N.children(n),s=this.N.children(r),l=this.N.children(i),u=parseInt(this.N.attr("count",e),10)||0;a.played=t(o),a.read=t(s),a.delivery=t(l);const d=u-a.played.length,c=u-a.played.length-a.read.length,f=u-a.played.length-a.read.length-a.delivery.length;a.playedRemaining=d<0?0:d,a.readRemaining=c<0?0:c,a.deliveryRemaining=f<0?0:f}n(a)})).catch(a)}),n),onDrop:this.wrap(a)},{debugString:["query,msg,info",e.id,e.remote,e.fromMe].join(),metricName:"QUERY_MESSAGE_INFO",ackRequest:!1})}))},queryReceivedActions:function(e){return new Promise(((t,n)=>{const a=e.map((e=>["item",{id:e},void 0])),r=this.queryNode({type:"action"},a);this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let n=[];const a=this.N.children(e);if(__LOG__(2)`bin-recv: response,actions`,"response"===this.N.tag(e)&&"action"===this.N.attr("type",e))if(Array.isArray(a)){let e;const t=a.length;for(e=0;e<t;e++){const t=a[e],r=this.N.attr("id",t),i=parseInt(this.N.attr("code",t),10)||0;"item"===this.N.tag(t)&&r&&0!==i&&n.push({id:r,code:i})}}else"true"===this.N.attr("replaced",e)&&(n="replaced");t(n)})).catch(n)}),t),onDrop:this.wrap(n),serverCacheable:!0},{debugString:"query,actions",metricName:"QUERY_ACTIONS",ackRequest:!1})}))},recentEmojiQuery:function(e){return new Promise(((t,n)=>{const a=Array.isArray(e)?e.map((e=>["item",{code:e.id,value:e.weight.toString()},void 0])):void 0,r=this.queryNode({type:"emoji"},a);this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n=[],a=this.N.children(e);if(__LOG__(2)`bin-recv: response,emoji`,"response"===this.N.tag(e)&&"emoji"===this.N.attr("type",e)&&Array.isArray(a)){let e;const t=a.length;for(e=0;e<t;e++){const t=a[e],r=this.N.attr("code",t),i=parseFloat(this.N.attr("value",t))||0;"item"===this.N.tag(t)&&r&&i&&!isNaN(i)&&n.push({id:r,weight:i})}}t(n)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:"query,emoji",metricName:"QUERY_EMOJI",ackRequest:!1})}))},removeParticipants:function(e,t){return this.setGroupParticipants("remove",e,t)},resyncMessages:function(e){return new T.default(((t,n)=>{const a=e.map((e=>{const t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString(),spam:(!e.notSpam).toString(),old_jid:e.changeNumberOldJid,new_jid:e.changeNumberNewJid};return e.mute&&(t.mute=e.mute.toString()),b.default.isUser(e.wid)&&e.ephemeralDuration&&(t.ephemeral=e.ephemeralDuration.toString()),b.default.isUser(e.wid)&&null!=e.ephemeralSettingTimestamp&&(t.eph_setting_ts=e.ephemeralSettingTimestamp.toString()),e.active&&(t.active="true"),b.default.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),e.pin&&(t.pin=e.pin.toString()),["last",t,void 0]})),r=this.queryNode({type:"resume"},a);this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n=[],a=this.N.children(e);if(__LOG__(2)`bin-recv: response,resume`,"response"===this.N.tag(e)&&"resume"===this.N.attr("type",e)&&Array.isArray(a)){let e;const t=a.length;for(e=0;e<t;e++){const t=this.parseChat(a[e]);t&&n.push(t)}}t({checksum:this.N.attr("checksum",e),statusChecksum:this.N.attr("status",e),labelsChecksum:this.N.attr("label",e),quickRepliesChecksum:this.N.attr("quick_reply",e),stickerPackChecksum:this.N.attr("sticker_pack",e),recentStickersChecksum:this.N.attr("recent_stickers",e),starredStickersChecksum:this.N.attr("starred_stickers",e),data:n})})).catch(n)}),t),onDrop:this.wrap(n),serverCacheable:!0},{debugString:"query,resume",metricName:"QUERY_RESUME",ackRequest:!1})}))},resyncReceipts:function(e){return new Promise(((t,n)=>{const a=e.map((e=>["last",{jid:e.remote,index:e.id,owner:e.fromMe.toString(),participant:e.participant,t:e.t.toString(),pay_t:e.payT&&e.payT.toString()},void 0])),r=this.queryNode({type:"receipt"},a);this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n=[],a=this.N.children(e);if(__LOG__(2)`bin-recv: response,receipt`,"response"===this.N.tag(e)&&"receipt"===this.N.attr("type",e)&&Array.isArray(a)){let e,t,r;const i=a.length;for(e=0;e<i;e++){t=a[e],r=this.N.children(t);const i=this.N.attr("jid",t),o=this.N.attr("t",t),s=this.N.attr("pay_t",t);if("receipt"===this.N.tag(t)&&i&&(o||s)&&Array.isArray(r)){let e;const t=[],a=[],l=r.length;for(e=0;e<l;e++){const n=r[e];if("item"===this.N.tag(n)){const e=this.N.attr("index",n),a="true"===this.N.attr("owner",n),r=parseInt(this.N.attr("status",n),10)||0,i=this.N.attr("participant",n),o=parseInt(this.N.attr("t",n),10)||void 0;e&&0!==r&&r<=4&&t.push({id:e,fromMe:a,participant:i,status:r,t:o})}else if("message"===this.N.tag(n)){const e=this.parseMsgMessage(n);e&&a.push(e)}}t.length>0&&n.push({id:i,t:o&&parseInt(o,10),payT:s&&parseInt(s,10),acks:t,msgs:a})}}}t(n)})).catch(n)}),t),onDrop:this.wrap(n),serverCacheable:!0},{debugString:"query,receipt",metricName:"QUERY_RECEIPT",ackRequest:!1})}))},sendChatstateUpdate:function(e,t){if(["composing","paused","recording"].includes(e))return new Promise(((n,a)=>{const r=this.actionNode("set",[["presence",{type:e,to:t},void 0]],!0);this.binSend("sendEphemeralIgnore",r,a,{onSend:n,onDrop:a,epochIneligible:!0},{debugString:"action,chatstate,"+e,metricName:"PRESENCE",skipOffline:!0,ackRequest:!1})}))},sendConversationArchive:function(e,t,n){return this.sendConversationOpWithKey(t?"archive":"unarchive",e,n)},sendConversationClear:function(e,t,n){return this.sendConversationOpWithKey("clear",e,t,n)},sendConversationDelete:function(e,t){return this.sendConversationOpWithKey("delete",e,t)},sendConversationMute:function(e,t,n){return new Promise(((a,r)=>{const i=t?t.toString():void 0,o=n?n.toString():void 0,s=this.actionNode("set",[["chat",{type:"mute",mute:i,previous:o,jid:e},void 0]]);this.binSend("send",s,r,{clientCacheable:!0,onSend:this.wrap(a),onDrop:this.wrap(r)},{debugString:"action,chat,"+e.toString()+", "+(i?"mute,"+i:"unmute"),metricName:"CHAT",ackRequest:!0})}))},sendConversationNotSpam:function(e){return this.sendConversationOpWithKey("spam",e,void 0,!1)},sendConversationOpWithKey:function(e,t,n,a){return new Promise(((r,i)=>{let o,s;switch(e){case"clear":o=(!!a).toString();break;case"spam":s=(!!a).toString()}const l=this.actionNode("set",[["chat",{type:e,jid:t,index:n?n.id:void 0,owner:n?n.fromMe.toString():void 0,participant:n?n.participant:void 0,star:void 0!==o?o:void 0,spam:void 0!==s?s:void 0},void 0]]);this.binSend("send",l,i,{clientCacheable:!0,onSend:this.wrap(r),onDrop:this.wrap(i)},{debugString:"action,chat,"+[e,n,a].join(),metricName:"CHAT",ackRequest:!0})}))},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendMedia:function(e){return new Promise(((t,n)=>{const a=(0,u.default)(e);N.Socket.send({data:["query","sendMedia",a.url],onSend:this.wrap02((e=>{t((0,l.default)(a,e))})),onDrop:n})}))},sendMessageDelete:function(e,t,n){return new Promise(((a,r)=>{const i=t.map((e=>["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0])),o=this.actionNode("set",[["chat",{type:"clear",jid:e,media:n.toString()},i]]);this.binSend("send",o,r,{clientCacheable:!0,onSend:this.wrap(a),onDrop:this.wrap(r)},{debugString:"action,msgs,delete,"+[e,n,t.length].join(),metricName:"CHAT",ackRequest:!0})}))},sendMessagePlayed:function(e){return new Promise(((t,n)=>{const a=this.wrap(t),r=this.actionNode("set",[["received",{type:"played",index:e.id,from:e.remote,participant:e.participant},void 0]]);this.binSend("send",r,n,{onSend:a,onDrop:this.wrap(n)},{debugString:"action,played,"+e.toString(),metricName:"RECEIVED",ackRequest:!0})}))},sendMessageStarred:function(e,t,n){return new Promise(((a,r)=>{const i=t.map((e=>["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0])),o=this.actionNode("set",[["chat",{type:n?"star":"unstar",jid:e},i]]);this.binSend("send",o,r,{clientCacheable:!0,onSend:this.wrap(a),onDrop:this.wrap(r)},{debugString:"action,msgs,star,"+[e,n,t.length].join(),metrics:"CHAT",ackRequest:!0})}))},sendPresenceUpdate:function(e){if(["available","unavailable"].includes(e))return new Promise(((t,n)=>{const a="available"===e,r=this.actionNode("set",[["presence",{type:e},void 0]],!a),i=a?"sendEphemeral":"sendEphemeralIgnore";this.binSend(i,r,n,{onSend:a?this.wrap(t):t,onDrop:a?this.wrap(n):t,epochIneligible:!a},{debugString:"action,presence,"+e,metricName:"PRESENCE",available:"available"===e,ackRequest:a})}))},sendSetBlock:function(e,t){return new Promise(((n,a)=>{const r=t.map((e=>["user",{jid:e.jid},void 0])),i=["block",{type:e?"add":"remove"},r],o=this.actionNode("set",[i]);this.binSend("send",o,a,{clientCacheable:!0,onSend:this.wrap(n),onDrop:this.wrap(a)},{debugString:"action,block,"+e+","+(0,s.default)(t,"jid").join(","),metricName:"BLOCK",ackRequest:!1,expires:(0,S.default)().unix()})}))},sendSetPicture:function(e,t,n){return new Promise(((a,r)=>{const i=_.default.parseDataURL(t).data,o=_.default.parseDataURL(n).data,s=(0,d.decodeB64)(i),l=(0,d.decodeB64)(o),u=N.Socket.tag(),c=this.wrap(a);c.tag=u;const f=["picture",{id:u,jid:e,type:"set"},[["image",void 0,l],["preview",void 0,s]]],h=this.actionNode("set",[f]);this.binSend("send",h,r,{clientCacheable:!0,onSend:c,onDrop:this.wrap(r)},{debugString:"action,set_pic,"+e.toString(),metricName:"PIC",ackRequest:!1,expires:(0,S.default)().unix()})}))},sendSetStatus:function(e){return new Promise(((t,n)=>{const a=this.wrap(t),r=this.actionNode("set",[["status",void 0,e]]);this.binSend("send",r,n,{clientCacheable:!0,onSend:a,onDrop:this.wrap(n)},{debugString:"action,status,set",metricName:"STATUS",ackRequest:!1,expires:(0,S.default)().unix()})}))},sendSpamReport:function(e){return new Promise(((t,n)=>{const a=this.actionNode("set",[["spam",{jid:e},void 0]]);this.binSend("send",a,n,{onSend:this.wrap(t),onDrop:this.wrap(n)},{debugString:"action,spam,"+e.toString(),metricName:"SPAM",ackRequest:!1,expires:(0,S.default)().unix()})}))},sendUnstarAll:function(e){return new Promise(((t,n)=>{const a=this.actionNode("set",[["chat",{type:"unstar",jid:e||void 0},void 0]]);this.binSend("send",a,n,{clientCacheable:!0,onSend:this.binWrap(t,t),onDrop:this.wrap(n)},{debugString:"action,unstar,all,"+e,metrics:"CHAT",ackRequest:!0,expires:(0,S.default)().unix()})}))},setGroupParticipants:function(e,t,n){return new Promise(((a,r)=>{const i=N.Socket.tag(),o=this.wrap(a),s=n.map((e=>["participant",{jid:e},void 0])),l=["group",{id:i,jid:t,type:e,author:(0,v.getMaybeMeUser)()},s],u=this.actionNode("set",[l]);this.binSend("send",u,r,{tag:i,clientCacheable:!0,onSend:o,onDrop:this.wrap(r)},{debugString:["action,group,participant",e,t].concat(n).join(),metricName:"GROUP",ackRequest:!1,expires:(0,S.default)().unix()})}))},setPushname:function(e){return new Promise(((t,n)=>{const a=this.actionNode("set",[["profile",{name:e},void 0]]);this.binSend("send",a,n,{onSend:this.binWrap(t,t),onDrop:this.wrap(n)},{debugString:"action,pushname",metricName:"PROFILE",ackRequest:!1})}))}},P),A.default),{},{parseSendPaymentMessageProto:function(e,t,n){if((0,p.isMDBackend)())P.parseSendPaymentMessageProto(e,t,n);else{if((0,j.hasUnsupportedCurrency)(n))return e.subtype="phone_only_feature",void __LOG__(2)`[novi] parseSendPaymentMessageProto: does not support novi transactions`;if(e.type="payment",this.callFeatureFlagFun(m.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",e,n),m.LegacyPhoneFeatures.supportsFeature(m.LegacyPhoneFeatures.F.PAYMENTS)){e.subtype="send";const n=t.requestMessageKey;e.paymentRequestMessageKey=t.requestMessageKey?new g.default({fromMe:n.fromMe,remote:this.decodeJid(n.remoteJid),id:n.id,participant:this.decodeJid(n.participant)}):void 0,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg))}}},parseRequestPaymentMessageProto:function(e,t,n){if((0,p.isMDBackend)())P.parseRequestPaymentMessageProto(e,t,n);else{if((0,j.hasUnsupportedCurrency)(n))return e.subtype="phone_only_feature",void __LOG__(2)`[novi] parseRequestPaymentMessageProto: does not support novi transactions`;e.type="payment",this.callFeatureFlagFun(m.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",e,n),m.LegacyPhoneFeatures.supportsFeature(m.LegacyPhoneFeatures.F.PAYMENTS)&&(e.subtype="request",t.currencyCodeIso4217&&!e.paymentCurrency&&(e.paymentCurrency=t.currencyCodeIso4217),t.amount1000&&!e.paymentAmount1000&&(e.paymentAmount1000=t.amount1000),t.requestFrom&&!e.paymentMessageReceiverJid&&(e.paymentMessageReceiverJid=this.decodeJid(t.requestFrom)),t.expiryTimestamp&&!e.paymentExpiryTimestamp&&(e.paymentExpiryTimestamp=t.expiryTimestamp),t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg)))}},parseGroupInviteMessageProto:function(e,t){e.type="groups_v4_invite",e.inviteCode=t.inviteCode,e.inviteCodeExp=t.inviteExpiration,e.inviteGrp=t.groupJid,e.inviteGrpName=t.groupName,e.inviteGrpJpegThum=this.decodeBytes(t.jpegThumbnail),e.comment=P.convertToTextWithoutSpecialEmojis(t.caption)},parseContextInfoProto:function(e,t,n){const a=t.quotedMessage,r=t.mentionedJid;e.quotedMsg=a&&this.parseMsgProto(a,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&n&&this.callFeatureFlagFun(m.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",e.quotedMsg,n),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(r)?r.map(this.decodeJid):r,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration),null!=t.ephemeralSettingTimestamp&&(e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp),null!=t.ephemeralSharedSecret&&(e.ephemeralSharedSecret=t.ephemeralSharedSecret),null!=t.disappearingMode&&this.parseDisappearingModeProto(e,t.disappearingMode)},msgCreateRecord:(L=(0,r.default)((function*(e){const t=yield(0,f.promiseCallSync)((()=>{if(["ptt","audio","image","video","document","sticker","product"].includes(e.type)){const t="ptt"===e.type?"audio":e.type;let n;return e.asMms&&(n=e.isUnsentPhoneMsg()?{type:e.type}:e.avParams()),e.local&&!e.mediaKey?this.sendMedia(n):(0,l.default)({status:200,type:t},n)}})).catch((e=>{throw __LOG__(3)`wap:msgCreateRecord mPromise error (${(0,C.encodeErrorInfo)()}): ${e.stack}`,new Error("wap:msgCreateRecord mPromise error")}));if(t&&200!==t.status)throw __LOG__(3)`wap:msgCreateRecord:sendMedia error ${t.status}`,new Error(`wap:msgCreateRecord:sendMedia error ${t.status}`);const a=e.id.id,r=(0,k.createMessageKey)(e),i=(0,k.createMsgProtobuf)(e,t||{}),o=!!e.multicast||void 0,s=!!e.urlText||void 0,u=!!e.urlNumber||void 0,d=!!e.clearMedia||void 0,c=b.default.isUser(e.id.remote)||null==e.ephemeralDuration?void 0:e.ephemeralDuration,h={key:r,message:i,messageTimestamp:e.t,multicast:o,urlText:s,urlNumber:u,clearMedia:d,ephemeralDuration:c},p=this.actionNode("relay",[["message",void 0,(0,C.encodeProtobuf)(O.WebMessageInfoSpec,h).readBuffer()]]);return new Promise(((t,r)=>{this.binSend("send",p,r,{tag:a,onSend:this.wrap(t),onDrop:this.wrap(r),retryOn5xx:!0,resendGuard:()=>{const t=n(59871).MsgCollection.get(e.id);return"protocol"===e.type||t&&t.id.equals(e.id)}},{debugString:["action","message",e.type,e.subtype,a].join(),debugObj:{xml:p,pb:h},metricName:"MESSAGE",ackRequest:!1})}))})),function(){return L.apply(this,arguments)}),msgFindQuery:function(e,t,n,a){let r=e;return new Promise(((e,o)=>{let s,l="";switch(r){case"after":t.id||(r="before");case"before":s={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l=[t instanceof g.default?t.toString():t.remote,t.count].join();break;case"search":s={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote,canceled:t.tagToCancel},t.label?s=(0,i.default)((0,i.default)({},s),{},{label:t.label}):t.filter&&(s=(0,i.default)((0,i.default)({},s),{},{filter:t.filter})),l=["search",t.page,t.count,t.jid,t.label].join();break;case"star":s={type:"star",media:"gif"===t.media?t.media:void 0,chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l="starred";break;case"media":s={type:"media_message",media:"document"===t.media||"url"===t.media?t.media:void 0,count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l="media"}const u=this.queryNode(s,void 0);this.binSend("sendEphemeral",u,o,{onSend:this.binWrap((n=>{this.BinaryProtocol.read(n).then((n=>{let a=[];const i=this.N.children(n);if(__LOG__(2)`bin-recv: response,msg`,"response"===this.N.tag(n)&&("message"===this.N.attr("type",n)||"star"===this.N.attr("type",n)||"search"===this.N.attr("type",n)||"media_message"===this.N.attr("type",n)||"label"===this.N.attr("type",n))){if(Array.isArray(i)){let e;const n=i.length;for(e=0;e<n;e++){const n=this.parseMsg(i[e],"response");if(n)switch(r){case"star":("gif"!==t.media||"video"===n.type&&n.isGif)&&a.push(n);break;case"media":"document"===t.media&&"document"===n.type||"url"===t.media&&"chat"===n.type?a.push(n):t.media||a.push(n);break;default:a.push(n)}}}"search"===this.N.attr("type",n)||"label"===this.N.attr("type",n)?a={eof:"true"===this.N.attr("last",n),messages:a}:"media"!==r||t.media||(a={docCount:parseInt(this.N.attr("document",n),10)||void 0,linkCount:parseInt(this.N.attr("url",n),10)||void 0,mediaCount:parseInt(this.N.attr("media",n),10)||void 0,messages:a})}e(a)})).catch(o)}),e),onDrop:this.wrap(o),logOnSend:n,onTag:a,tagToCancel:t.tagToCancel},{debugString:"query,message,"+l,metricName:"search"===r?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})}))},queryVcard:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"vcard",jid:e},void 0);this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n=[],a=this.N.children(e);if("response"===this.N.tag(e)&&"vcard"===this.N.attr("type",e)&&Array.isArray(a)){const e=a.length;for(let t=0;t<e;t++){const e=this.parseMsg(a[t],"response");!e||"vcard"!==e.type&&"multi_vcard"!==e.type||n.push(e)}}t(n)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:`query,vcard,${e}`,metricName:"QUERY_VCARD",ackRequest:!1})}))},parseContacts:function(e){if("contacts"!==this.N.tag(e))return;const t=this.N.attr("type",e),n=this.N.children(e);let a,r,i,o,s;switch(t){case"frequent":if(Array.isArray(n)){r=n.length;for(let e=0;e<r;e++)switch(s=n[e],i=this.N.tag(s),i){case"image":case"video":case"message":o=this.N.attr("jid",s),o&&(a||(a={type:"frequent"}),a[i]?a[i].push(o):a[i]=[o])}}}return a},statusQuery:function(){switch(arguments.length){case 2:case 3:case 4:return this.statusQueryUpdate.apply(this,arguments);case 0:default:return this.statusQueryAll()}},statusQueryAll:function(){return new Promise(((e,t)=>{const n=this.queryNode({type:"status"},void 0);this.binSend("sendEphemeral",n,t,{onSend:this.binWrap((n=>{this.BinaryProtocol.read(n).then((t=>{const n={statuses:[]},a=this.N.children(t);if(__LOG__(2)`bin-recv: response,statusv3`,"response"===this.N.tag(t)&&"status"===this.N.attr("type",t)&&(n.checksum=this.N.attr("checksum",t),Array.isArray(a))){const e=a.length;for(let t=0;t<e;t++){const e=a[t],r=this.N.attr("jid",e),i=this.N.attr("unread",e),o=this.N.attr("count",e),s=this.N.attr("t",e);if("status"===this.N.tag(e)&&r&&o&&s){const t={id:r,unreadCount:parseInt(i,10)||0,totalCount:parseInt(o,10)||0,t:parseInt(s,10)||0,_msgs:[]},a=this.N.children(e);if(Array.isArray(a)){const e=a.length;for(let n=0;n<e;n++)switch(this.N.tag(a[n])){default:case"message":const e=this.parseMsgMessage(a[n],"response");e&&t._msgs.push(e);break;case"picture":const r=this.N.children(a[n]);r instanceof ArrayBuffer&&(t.pic=r)}}n.statuses.push(t)}}}e(n)})).catch(t)}),e),onDrop:this.wrap(t)},{debugString:"query,statusv3",metricName:"QUERY_STATUS",ackRequest:!1})}))},statusQueryUpdate:function(e,t,n,a){return new Promise(((r,i)=>{const o="before"===a?"before":"after",s={type:"status",kind:o,chat:e,count:t.toString(),jid:n?n.remote:void 0,index:n?n.id:void 0,owner:n?n.fromMe.toString():void 0,participant:n?n.participant:void 0},l=this.queryNode(s,void 0);this.binSend("sendEphemeral",l,i,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const t=[],n=this.N.children(e);if(__LOG__(2)`bin-recv: response,statusv3`,"response"===this.N.tag(e)&&"status"===this.N.attr("type",e)&&Array.isArray(n)){const e=n.length;for(let a=0;a<e;a++){const e=this.parseMsg(n[a],"response");e&&t.push(e)}}r(t)})).catch(i)}),r),onDrop:this.wrap(i)},{debugString:["query","statusv3",o,t,n instanceof g.default?n.toString():e].join(),metricName:"QUERY_STATUS_UPDATE",ackRequest:!1})}))},sendConversationSeen:function(e,t,n,a,r){return new Promise(((i,o)=>{const s=this.actionNode("set",[["read",{kind:a?"status":void 0,chat:a?r:void 0,jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:n&&t?n.toString():void 0},void 0]]);this.binSend("send",s,o,{clientCacheable:!0,onSend:this.wrap(i),onDrop:this.wrap(o)},{debugString:"action,"+(a?"status":"chat")+",read,"+JSON.stringify(t)+","+n,metricName:"READ",ackRequest:!0})}))},sendStatusSeen:function(e,t){return this.sendConversationSeen(e.remote,e,void 0,!0,t)},requestMediaReupload:function(e,t){return new Promise(((n,a)=>{const r=e.id,i=Array.isArray(t)?t.map((e=>["user",{jid:e},void 0])):void 0,o=r,s=this.queryNode({type:"media",index:o.id,jid:o.remote,owner:o.fromMe.toString(),participant:o.participant},i);this.binSend("sendEphemeral",s,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let t;if(__LOG__(2)`bin-recv: response,media`,"response"===this.N.tag(e)&&"media"===this.N.attr("type",e)){const n=parseInt(this.N.attr("code",e),10)||400,a=this.N.attr("url",e);n>=500&&502!==n?(__LOG__(3)`wap:requestMediaReupload:error ${n}`,t={status:n}):200===n&&a?t={status:200,url:a,mediaKey:this.N.attr("media_key",e),mediaKeyTimestamp:this.N.attr("media_key_timestamp",e),encFilehash:this.N.attr("enc_filehash",e),directPath:this.N.attr("direct_path",e)}:200!==n||a?(__LOG__(3)`wap:requestMediaReupload:error ${n}`,t={status:n}):(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("wap:requestMediaReupload:emptyUrl"),t={status:400})}else __LOG__(3)`wap:requestMediaReupload:malformed`,t={status:400};n(t)})).catch(a)}),n),onDrop:this.wrap(a)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})}))},parseCmd:function(e){switch(this.N.tag(e)){case"read":const t=this.N.attr("jid",e),n="false"===this.N.attr("type",e),a="status"===this.N.attr("kind",e),r=this.N.attr("checksum",e),i=this.N.attr("index",e),o="true"===this.N.attr("owner",e),s=this.N.attr("participant",e),l=this.N.attr("chat",e);let u;try{u=new g.default({id:i,fromMe:o,remote:t,participant:s})}catch(e){}const d={type:n?"unread":"read",jid:t,isStatus:a,checksum:r,chat:this.decodeJid(l),key:u},c=[!t,a&&!u];return this.dropIfConditionMet(c,d);case"identity":const f=this.parseIdentity(e);return f?(f.type="identity",f):void 0;default:return}},parseContact:function(e,t){if("user"!==this.N.tag(e))return __LOG__(4,void 0,new Error,!0)`expected tag: user, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");let n=this.N.attr("name",e),a="true"===this.N.attr("enterprise",e);const r=this.N.attr("jid",e)||t,i=this.N.attr("short",e)||void 0,o=this.N.attr("type",e)||"in",s=this.N.attr("notify",e),l=this.N.attr("verify",e),u="true"===this.N.attr("status_mute",e),d=this.N.attr("index",e)||void 0,c=this.N.attr("vname",e),f=parseInt(this.N.attr("dm_duration",e),10)||0,h=parseInt(this.N.attr("dm_t",e),10)||0;let p,m;switch(l){case"true":case"0":case"1":case"2":p=!0,m=parseInt(l,10)||0;break;default:p=!1,a=!1}n||m!==x.VERIFIED_LEVEL.HIGH||(n=c);const g=this.N.children(e),_=[];if(Array.isArray(g))for(let e=0;e<g.length;e++){const t=g[e];if("label"===this.N.tag(t)){const e=this.N.attr("id",t);e&&_.push(e)}}const v={id:r,name:n,type:o,shortName:i,pushname:s,isBusiness:p,verifiedLevel:m,statusMute:u,sectionHeader:d,verifiedName:c,labels:_,isEnterprise:a,disappearingModeDuration:f,disappearingModeSettingTimestamp:h};return this.dropIfConditionMet([!r,"in"!==o&&"out"!==o&&!!o],v)},parseAck:function(e){if("received"!==this.N.tag(e))return __LOG__(4,void 0,new Error,!0)`expected tag: received, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");const t=this.N.attr("type",e),n=this.N.attr("index",e),a=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),i=this.N.attr("participant",e);let o;switch(t){case"message":o=h.ACK.RECEIVED;break;case"read":o=h.ACK.READ;break;case"played":o=h.ACK.PLAYED;break;case"error":o=h.ACK.FAILED;break;case"pending":default:o=h.ACK.CLOCK}const s=(0,v.getMaybeMeUser)(),l={cmd:"ack",id:n,ack:o,from:r?s:a,to:r?a:s,participant:i,self:r?"out":"in"},u=[!n,!a,b.default.isStatusV3(a),"message"!==t&&"read"!==t&&"played"!==t&&"error"!==t&&"pending"!==t];return this.dropIfConditionMet(u,l)},parseMsgMessage:function(e,t){if("message"!==this.N.tag(e))return void __LOG__(3)`drop: not message`;const n=this.N.children(e);if(n instanceof ArrayBuffer)try{const e=(0,y.decodeProtobuf)(O.WebMessageInfoSpec,n);return this.parseWebMessageInfo(e,t)}catch(e){return __LOG__(2)`wmi error: ${String(e)}`,__LOG__(4,void 0,new Error,!0)`drop: failed parsing wmi`,void SEND_LOGS("parse-error")}else __LOG__(3)`drop: no bytes`},parseProtocolMessageProto:function(e,t,n){if("relay"===n||t.type===M.Message$ProtocolMessageType.EPHEMERAL_SETTING)switch(e.type="protocol",t.type){case M.Message$ProtocolMessageType.REVOKE:const n=t.key,a=new g.default({fromMe:n.fromMe,remote:this.decodeJid(n.remoteJid),id:n.id,participant:this.decodeJid(n.participant)});e.subtype="sender_revoke",e.protocolMessageKey=a;break;case M.Message$ProtocolMessageType.EPHEMERAL_SETTING:e.subtype="ephemeral_setting",e.ephemeralDuration=t.ephemeralExpiration;break;case M.Message$ProtocolMessageType.EPHEMERAL_SYNC_RESPONSE:e.subtype="ephemeral_sync_response",e.ephemeralDuration=t.ephemeralExpiration,e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp;break;default:e.subtype="unknown"}},sendConversationPin:function(e,t,n){return new Promise(((a,r)=>{const i=this.actionNode("set",[["chat",{type:"pin",pin:t?t.toString():void 0,previous:n?n.toString():void 0,jid:e},void 0]]);this.binSend("send",i,r,{clientCacheable:!0,onSend:this.wrap(a),onDrop:this.wrap(r)},{debugString:["action","chat",e,t?"pin,"+t:"unpin,"+n].join(),metricName:"CHAT",ackRequest:!0})}))},subscribeLiveLocation:function(e,t){return new Promise(((n,a)=>{const r=this.queryNode({type:"location",kind:"subscribe",jid:e,participant:t?"true":void 0},void 0);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a=this.N.children(e),r={participants:[]};if(__LOG__(2)`bin-recv: response,location`,"response"!==this.N.tag(e)||"location"!==this.N.attr("type",e))return void n(r);const i=parseInt(this.N.attr("duration",e),10);if(r.duration=Number.isNaN(i)?void 0:i,!t||!Array.isArray(a))return t&&__LOG__(2)`LiveLocation:response with no participants`,void n(r);const o=a.length;for(let e=0;e<o;e++){const t=a[e],n=this.N.attr("jid",t),i=parseInt(this.N.attr("expiration",t),10),o=parseInt(this.N.attr("elapsed",t),10)||0,s=this.N.children(t);if("participant"!==this.N.tag(t)||!n)continue;const l={id:n,expiration:Number.isNaN(i)?void 0:i,elapsed:o};if(s){const e=(0,y.decodeProtobuf)(M.MessageSpec,s).liveLocationMessage;e&&P.parseLiveLocationMessageProto(l,e)}l.lat&&l.lng?__LOG__(2)`LiveLocation:response with lat/lng`:__LOG__(2)`LiveLocation:response without lat/lng`,r.participants.push(l)}n(r)})).catch(a)}),n),onDrop:this.wrap(a)},{debugString:["query,location",e,t].join(),metricName:"QUERY_LIVE_LOCATIONS"})}))},unsubscribeLiveLocation:function(e){return new Promise(((t,n)=>{const a=this.actionNode("set",[["location",{type:"unsubscribe",jid:e},void 0]]);this.binSend("send",a,n,{clientCacheable:!0,onSend:this.wrap(t),onDrop:this.wrap(n)},{debugString:"action,location,unsubscribe,"+e,metricName:"LIVE_LOCATION"})}))},queryActiveLiveLocation:function(e){return new Promise(((t,n)=>{const a=this.queryNode({type:"location",kind:"participant",jid:e},void 0);this.binSend("sendEphemeral",a,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n=this.N.children(e),a={participants:[]};if(__LOG__(2)`bin-recv: response,location`,"response"!==this.N.tag(e)||"location"!==this.N.attr("type",e))return void t(a);if(!Array.isArray(n))return void t(a);const r=n.length;for(let e=0;e<r;e++){const t=n[e],r=this.N.attr("jid",t),i=parseInt(this.N.attr("expiration",t),10);if("participant"!==this.N.tag(t)||!r)continue;const o={id:r,expiration:Number.isNaN(i)?void 0:i};a.participants.push(o)}t(a)})).catch(n)}),t),onDrop:this.wrap(n)},{debugString:"query,location,participant,"+e,metricName:"QUERY_LIVE_LOCATIONS"})}))},disableLiveLocation:function(e){return new Promise(((t,n)=>{const a=this.actionNode("set",[["location",{type:"disable",jid:e},void 0]]);this.binSend("send",a,n,{clientCacheable:!0,onSend:this.wrap(t),onDrop:this.wrap(n)},{debugString:"action,location,disable,"+e,metricName:"LIVE_LOCATION"})}))},parseLocation:function(e){if("location"!==this.N.tag(e))return;const t=this.N.attr("type",e),n=this.N.attr("jid",e),a=this.N.attr("author",e),r=parseInt(this.N.attr("elapsed",e),10)||0,i=parseInt(this.N.attr("id",e),10)||0,o=this.N.children(e),s={type:t};switch(t){case"update":if(s.jid=n,s.elapsed=r,o){const e=(0,y.decodeProtobuf)(M.MessageSpec,o).liveLocationMessage;e&&P.parseLiveLocationMessageProto(s,e)}s.type="update",s.lat&&s.lng?__LOG__(2)`LiveLocation:update with lat/lng`:__LOG__(2)`LiveLocation:update without lat/lng`;break;case"disable":s.jid=a||n,s.chat=n,s.seq=i}return this.pruneUndefinedProps(s),this.dropIfConditionMet(["update"!==t&&"disable"!==t,!("update"!==t||n&&o),"disable"===t&&!n],s)},sendCallOffer:function(e){return new Promise(((t,n)=>{const a=(0,c.randomHex)(8),r=I.VoipSignaling.formatCallOffer(this,a,e);this.binSend("send",r,n,{tag:a,onSend:this.wrap((e=>{t(e)}),t),onDrop:this.wrap(n),retryOn5xx:!0,isCallOffer:!0},{debugString:["action","call","offer",e.common.peer_jid].join(),debugObj:{xml:r,struct:e},metricName:"CALL"})}))},sendMdOptIn:function(){return new Promise(((e,t)=>{const n=this.actionNode("set",[["MDOptIn",{enabled:"true"},void 0]]);this.binSend("send",n,t,{onSend:this.binWrap((n=>{this.BinaryProtocol.read(n).then((t=>{__LOG__(2)`bin-recv: response,MDOptIn`;const n={status:200};"error"===this.N.tag(t)&&(n.status=this.N.attr("code",t)),e(n)})).catch(t)}),e),onDrop:this.wrap(t)},{debugString:"action,md_opt_in,enabled",metricName:"MD_OPT_IN"})}))},supportsFeatureFlags:!0,implementedFeatures:{}});var L,B=(0,o.default)(D,E.default);t.Z=B},6878:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.refreshCart=function(e,t,n,a,u){if((0,o.commerceFeaturesDisabledBySanctions)())return Promise.reject(new r.E451);let d;!0===u&&(0,l.qplPointCartView)("datasource_start"),d=(0,i.isMDBackend)()?(0,s.attemptWithDirectConnectionRetry)(e,(r=>(0,c.refreshCartMD)(e,t,n,a,r))):f.default.refreshCart(e.toString(),t,n,a);return d.then((e=>(!0===u&&(0,l.qplPointCartView)("datasource_end"),e))),d},t.updateCart=function(e,t){if((0,o.commerceFeaturesDisabledBySanctions)())return Promise.reject(new r.E451);let n=Promise.resolve();if(t&&d.QPL.markerPoint(t,"datasource_start"),(0,i.isMDBackend)())if(e.itemCount>0||e.message&&e.message.length>0){const t=function(e){const t=e.cartItemCollection.map((e=>({id:e.id,priceAmount1000:e.priceAmount1000,currency:e.currency,name:e.name,quantity:e.quantity,imageHash:e.imageHash})));return{id:e.id.toString(),message:e.message,total:e.total,currency:e.currency,itemCount:e.itemCount,products:t}}(e);n=(0,u.getCartTable)().createOrReplace(t)}else n=(0,u.getCartTable)().remove(e.id.toString());return n.then((()=>t&&d.QPL.markerPoint(t,"datasource_end"))).catch((e=>{if(451===e.errorCode)throw new r.E451})),n};var r=n(92574),i=n(88555),o=n(8139),s=n(97951),l=n(90166),u=n(76214),d=n(48870),c=(n(27798),n(71055)),f=a(n(56891))},68825:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createOrder=function(e,t){if((0,o.commerceFeaturesDisabledBySanctions)())return Promise.reject(new r.E451);let n;(0,u.qplPointOrderCreate)("datasource_start"),n=(0,i.isMDBackend)()?(0,s.attemptWithDirectConnectionRetry)(e,(n=>(0,l.createOrderMD)(e,t,n))):c.default.createOrder(e.user,t);return n.then((()=>(0,u.qplPointOrderCreate)("datasource_end"))),n},t.queryOrder=function(e,t,n,a,l){if((0,o.commerceFeaturesDisabledBySanctions)())return Promise.reject(new r.E451);let f;(0,u.qplPointOrderView)("datasource_start"),f=(0,i.isMDBackend)()?(0,s.attemptWithDirectConnectionRetry)(e,(e=>(0,d.queryOrder)(t,n,a,l,e))):c.default.queryOrder(t,n,a,l);return f.then((()=>(0,u.qplPointOrderView)("datasource_end"))),f};var r=n(92574),i=n(88555),o=n(8139),s=n(97951),l=n(63262),u=n(90166),d=n(49693),c=a(n(56891))},35863:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCtwaContextData=function(e){const{phone:t,sourceUrl:n,context:a}=e;if(!t||!n||!a)return Promise.reject(new Error("Invalid params passed to fetchCtwaContextData"));let s;s=(0,r.isMDBackend)()?(0,i.default)(t,a,n):o.default.queryCtwaContext(t,a,n);return s};var r=n(88555),i=a(n(76815)),o=a(n(56891))},77982:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationArchive=function(e,t,n){if((0,s.isLegacyWebdBackend)())return f.default.sendConversationArchive(e,t,n);const a=(0,o.unixTimeMs)();return d.default.getMutationsForArchive(a,t,e).then(function(){var n=(0,r.default)((function*(n){try{return yield(0,c.lockForMessageRangeSync)(["chat"],n,function(){var a=(0,r.default)((function*(a){let[r]=a;if(n[0].action!==i.Actions.Archive)throw new Error("syncd: expected archive action from getMutationsForArchive");return yield(0,u.addActiveMessageRange)(e.toString(),"archive",n[0].binarySyncAction),r.merge(e.toString(),function(e){const t={archive:e};e&&(t.pin=void 0);return t}(t))}));return function(){return a.apply(this,arguments)}}()),{status:200}}catch(e){if(e instanceof l.DbOnLogoutAbort)throw e;throw __LOG__(4,!0,new Error,!0)`update chat table failed`,SEND_LOGS("update chat table failed when send conversation to archive"),new Error("update chat table failed")}}));return function(){return n.apply(this,arguments)}}())};var r=a(n(48926)),i=n(60362),o=n(92844),s=n(88555),l=n(35232),u=n(38342),d=a(n(74362)),c=n(19937),f=a(n(56891))},83872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.broadcastListEnabled=function(){if((0,a.isLegacyWebdBackend)())return!0;return!1};var a=n(88555)},32107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addChatThreadLoggingActivities=function(e){return(0,a.handleActivitiesForChatThreadLogging)(e)},t.getChatThreadID=function(e,t){return(0,a.getChatThreadID)(e,t)};var a=n(16116)},1133:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.eagerlyEstablishE2EESession=function(){return f.apply(this,arguments)};var r=a(n(48926)),i=n(88555),o=n(78820),s=n(26409),l=n(97398),u=a(n(11339)),d=n(43201),c=n(20017);function f(){return(f=(0,r.default)((function*(e){if((0,i.isLegacyWebdBackend)())return;let t;if(e.isGroup){t=(yield(0,d.getGroupSenderKeyList)(e.id)).skDistribList}else{const n=(0,o.assertGetMe)();t=yield(0,s.getFanOutListJob)([e.id,n])}const n=yield(0,l.ensureE2ESessions)(t);(0,c.postPrekeysDepletionMetric)({count:null==n?void 0:n.depletedPrekeyCount,prekeysFetchReason:u.default.PREKEYS_FETCH_CONTEXT.USER_INTENT_PREFETCH,messageType:e.isGroup?u.default.MESSAGE_TYPE.GROUP:u.default.MESSAGE_TYPE.INDIVIDUAL,chatId:e.id})}))).apply(this,arguments)}},29894:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getNumChatsPinned=function(){if((0,o.isLegacyWebdBackend)())return Promise.resolve(s.ChatCollection.filter((e=>e.pin)).length);return l.default.getLocalPins().then((e=>e.length))},t.setPin=function(){return h.apply(this,arguments)},t.unpinAll=function(){if((0,o.isLegacyWebdBackend)())return Promise.resolve();return l.default.unpinAll()};var r=a(n(48926)),i=n(92574),o=n(88555),s=n(69951),l=a(n(36014)),u=n(38804),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(7414)),c=a(n(56891));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(){return(h=(0,r.default)((function*(e,t,n,a){if((0,o.isLegacyWebdBackend)())return c.default.sendConversationPin(e,t,n).then((e=>{if(200!==e.status)throw new i.ServerStatusCodeError(e.status);return e}));const r=0!==t,s=yield l.default.getMutationsForPin(a,r,e);return r||d.addUnsetActionCount(1),(0,u.lockForSync)(["chat"],s,(n=>{let[a]=n;return a.merge(e.toString(),{pin:t})})).then((()=>({status:200})))}))).apply(this,arguments)}},86657:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendDeleteMsgs=function(e,t,a){const h=[],p=[];if(e.forEach((e=>{h.push(e.id),p.push(String(e.rowId))})),(0,o.isLegacyWebdBackend)())return f.default.sendMessageDelete(a,h,t).then((e=>{if(200!==e.status)throw new i.ServerStatusCodeError(e.status)}));const m=l.default.getDeleteForMeMutations(e,t),g=h.map((e=>e.toString()));return(0,c.lockForSync)(["message","label-association"],m,(()=>(0,u.removeMessagesFromHistory)(g))).then(function(){var e=(0,r.default)((function*(e){if((0,s.receiveReactionsEnabled)()&&g.length>0){const e=n(68819).getJobManager;yield e().waitUntilPersisted(d.jobSerializers.deleteReactionsV2(a.toString(),g))}return e}));return function(){return e.apply(this,arguments)}}()).catch((()=>{throw __LOG__(4,!0,new Error,!0)`remove messages from history failed`,SEND_LOGS("remove messages from history failed when send delete messages"),new Error("remove messages from history failed")}))};var r=a(n(48926)),i=n(92574),o=n(88555),s=n(8139),l=a(n(41058)),u=n(84886),d=n(6684),c=n(38804),f=a(n(56891))},77486:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.isLegacyWebdBackend)())return l.default.commonGroupsFind(e).then((e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return e.groups}));const t=e.toString();return(0,s.getParticipantTable)().equals(["participants"],t).then((e=>e.map((e=>(0,o.createWid)(e.groupId)))))};var r=n(92574),i=n(88555),o=n(45454),s=n(76214),l=a(n(56891))},94798:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupInviteProfilePicURL=function(){return s.apply(this,arguments)};var r=a(n(48926)),i=n(88555),o=n(93837);function s(){return(s=(0,r.default)((function*(e,t){if((0,i.isLegacyWebdBackend)())return`https://web.whatsapp.com/invite/icon/${t}`;return(yield(0,o.queryGroupInviteProfilePicJob)(e,t,{type:"preview",query:"url"})).url}))).apply(this,arguments)}},69586:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendJoinGroupViaInvite=function(e){if((0,i.isLegacyWebdBackend)())return s.default.acceptGroupInvite(e).then((e=>{if(200===e.status)return e.gid;throw new r.ServerStatusCodeError(e.status)}));return(0,o.joinGroupViaInvite)(e).then((e=>e.gid))},t.sendQueryGroupInviteCode=function(e){if((0,i.isLegacyWebdBackend)())return s.default.groupInviteCode(e).then((e=>{if(200===e.status)return e.code;throw new r.ServerStatusCodeError(e.status)}));return(0,o.queryGroupInviteCode)(e).then((e=>e.code))},t.sendRevokeGroupInviteCode=function(e){if((0,i.isLegacyWebdBackend)())return s.default.revokeGroupInvite(e).then((e=>{if(200===e.status)return e.code;throw new r.ServerStatusCodeError(e.status)}));return(0,o.resetGroupInviteCode)(e).then((e=>e.code))};var r=n(92574),i=n(88555),o=n(35654),s=a(n(56891))},47990:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendJoinAnnouncementGroup=function(e,t){return u(e,t,s.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)},t.sendJoinSubgroup=function(e,t){return u(e,t,s.GroupType.SUBGROUP)},t.sendJoinSubgroupProxy=u;var r=a(n(48926)),i=n(92574),o=n(88555),s=n(55981),l=n(50551);function u(){return d.apply(this,arguments)}function d(){return(d=(0,r.default)((function*(e,t,n){if((0,o.isLegacyWebdBackend)())return Promise.resolve();const a=yield(0,l.joinSubgroup)(e,t,n);if(200!==a.status)throw new i.ServerStatusCodeError(a.status);return a}))).apply(this,arguments)}},57490:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetGroupDescription=function(e,t,n,a){(0,i.isLegacyWebdBackend)()&&l.default.setGroupDescription(e,t,n,a).then((e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}));return(0,s.setGroupDescription)(e,t,n,a).then((()=>({_duplicate:!1})))},t.sendSetGroupProperty=function(e,t,n){if((0,i.isLegacyWebdBackend)()){let a;return a=t===o.GROUP_SETTING_TYPE.EPHEMERAL?l.default.setGroupEphemeralDuration(e,n):l.default.setGroupProperty(e,t,Boolean(n)),a.then((e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}))}return(0,s.setGroupProperty)(e,t,n).then((()=>({_duplicate:!1})))},t.sendSetGroupSubject=function(e,t){if((0,i.isLegacyWebdBackend)())return l.default.changeSubject(e,t).then((e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}));return(0,s.setGroupSubject)(e,t).then((()=>({_duplicate:null})))};var r=n(92574),i=n(88555),o=n(12380),s=n(77287),l=a(n(56891))},37722:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){if((0,r.isLegacyWebdBackend)())return o.default.addParticipants(e,t);return(0,i.addGroupParticipants)(e,t)},t.sendDemoteParticipants=function(e,t){if((0,r.isLegacyWebdBackend)())return o.default.demoteParticipants(e,t);return(0,i.demoteGroupParticipants)(e,t)},t.sendPromoteParticipants=function(e,t){if((0,r.isLegacyWebdBackend)())return o.default.promoteParticipants(e,t);return(0,i.promoteGroupParticipants)(e,t)},t.sendRemoveParticipants=function(e,t){if((0,r.isLegacyWebdBackend)())return o.default.removeParticipants(e,t);return(0,i.removeGroupParticipants)(e,t)};var r=n(88555),i=n(35255),o=a(n(56891))},36089:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendUpgradeToMD=function(){if((0,r.isLegacyWebdBackend)())return i.default.sendMdOptIn();return Promise.reject(new Error("not supported for MD"))};var r=n(88555),i=a(n(56891))},58355:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.isLegacyWebdBackend)())return o.default.sendMessagePlayed(e.id).then((()=>{}));return(0,i.default)(e,e.chat.id),Promise.resolve()};var r=n(88555),i=a(n(71504)),o=a(n(56891))},42874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AVDeviceType=t.AVDeviceStatusContext=t.AVDeviceStatusCode=void 0;t.AVDeviceType={AudioInput:0,AudioOutput:1,Video:2,NotIdentified:3};t.AVDeviceStatusContext={DeviceSetup:0,DeviceMidstream:1,DeviceSelection:2,DeviceStop:3,DeviceOther:4};t.AVDeviceStatusCode={DeviceSuccess:0,FailureNonDevice:1,VideoDeviceNotFound:2,VideoDeviceUnsupportedCapability:3,VideoDeviceUnusable:4,VideoDeviceInUse:5,VideoDeviceUnauthorized:6,VideoDeviceTimeout:7,VideoDeviceOther:127,AudioCaptureDeviceNotFound:128,AudioPlaybackDeviceNotFound:129,AudioDeviceNotFound:130,AudioCaptureDeviceUnusable:131,AudioPlaybackDeviceUnusable:132,AudioDeviceUnusable:133,AudioCaptureDeviceInUse:134,AudioPlaybackDeviceInUse:135,AudioDeviceInUse:136,AudioCaptureDeviceUnauthorized:137,AudioPlaybackDeviceUnauthorized:138,AudioDeviceUnauthorized:139,AudioCaptureDeviceTimeout:140,AudioPlaybackDeviceTimeout:141,AudioDeviceTimeout:142,AudioCaptureDeviceOther:253,AudioPlaybackDeviceOther:254,AudioDeviceOther:255}},19065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_AV_DEVICE_ID=void 0,t.deviceInfoComparator=function(e,t){if(e.deviceType!==t.deviceType)return e.deviceType-t.deviceType;if(e.isSystemDefault||t.isSystemDefault)return e.isSystemDefault?-1:1;return e.isConnected===t.isConnected?0:e.isConnected?-1:1},t.getAvailableDevices=function(e,t){var n;return null!==(n=null==e?void 0:e.filter((e=>e.deviceType===t&&e.isConnected)))&&void 0!==n?n:[]},t.getDiff=function(e,t){const n=t.filter((t=>!e.some((e=>e.uid===t.uid)))),a=e.filter((e=>!t.some((t=>t.uid===e.uid))));return{added:n,removed:a}},t.getSanitizedDevices=function(e){const t=null==e?void 0:e.map((e=>function(e){return{uid:e.uid,name:e.name,deviceType:Number(e.deviceType),isConnected:Boolean(e.connected),isSelected:Boolean(e.isSelected),isSystemDefault:Boolean(e.isDefault)}}(e))),n=null==t?void 0:t.filter((e=>e.deviceType!==a.AVDeviceType.NotIdentified&&e.isConnected));return null!=n?n:[]},t.getSelectedDevice=i,t.getSelectedDeviceIdOrDefault=function(e,t){var n,a;return null!==(n=null===(a=i(e,t))||void 0===a?void 0:a.uid)&&void 0!==n?n:""},t.getSystemDefaultCamera=function(e){return r(e,a.AVDeviceType.Video)},t.getSystemDefaultDevice=r,t.getSystemDefaultMicrophone=function(e){return r(e,a.AVDeviceType.AudioInput)},t.getSystemDefaultSpeaker=function(e){return r(e,a.AVDeviceType.AudioOutput)};var a=n(42874);function r(e,t){return null==e?void 0:e.find((e=>e.isConnected&&e.isSystemDefault&&e.deviceType===t))}function i(e,t){return null==e?void 0:e.find((e=>e.isConnected&&e.isSelected&&e.deviceType===t))}t.DEFAULT_AV_DEVICE_ID=""},3155:(e,t,n)=>{"use strict";t.y=function(e){e.setHandlers("msg_collection",{processMultipleMessages(e){let{chatId:t,msgObjs:n,meta:a,chatMsgsCollection:r,preserveOrder:o}=e;return i.MsgCollection.processMultipleMessages(t,n,a,r,o)},trigger(e){let{name:t,args:n}=e;i.MsgCollection.trigger(t,n)},updateLastReceipt(e){let{wid:t,t:n}=e;i.MsgCollection.updateLastReceipt(t,n)}}),(0,r.setContactBridgeHandlers)(e),e.setHandlers("chat_collection",{add(e){let{things:t,options:n}=e;return a.ChatCollection.add(t,n)},trigger(e){let{name:t,args:n}=e;a.ChatCollection.trigger(t,n)}}),e.setHandlers("status_v3_collection",{handleUpdate(e){let{rawMsg:t,checksum:n,isMsgUpdate:a}=e;return s.StatusV3Collection.handleUpdate(t,n,a)}}),e.setHandlers("msg_info_collection",{updateInfo(e){let{id:t,from:n,to:a,ack:r,participant:i,t:s}=e;o.MsgInfoCollection.updateInfo(t,n,a,r,i,s)}})};var a=n(69951),r=n(61750),i=n(59871),o=n(17972),s=n(59387)},70923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEVEN_DAYS=t.ONE_DAY=t.OFF=t.NINETY_DAYS=void 0;var a=n(92844);t.OFF=0;const r=a.DAY_SECONDS;t.ONE_DAY=r;const i=7*a.DAY_SECONDS;t.SEVEN_DAYS=i;const o=90*a.DAY_SECONDS;t.NINETY_DAYS=o},71206:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAllDurations=function(){const e=[];(0,o.isEphemeral24HDurationEnabled)()?(e.push({value:24*r.HOUR_SECONDS,label:i.default.t(299,{number:24,_plural:24})}),e.push({value:7*r.DAY_SECONDS,label:i.default.t(298,{number:7,_plural:7})}),e.push({value:90*r.DAY_SECONDS,label:i.default.t(298,{number:90,_plural:90})})):e.push({value:7*r.DAY_SECONDS,label:i.default.t(297)});return e.push({value:0,label:i.default.t(296)}),e};var r=n(92844),i=a(n(14296)),o=n(41566)},79259:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EphemeralL10n=function(e){const{type:t,numSeconds:n=0,name:a}=e;if(n<0)return __LOG__(4,void 0,new Error,!0)`getEphemeralL10nComponent ${t} is given invalid duration ${n}`,SEND_LOGS("invalid-duration"),null;if(0===n)return function(e,t){if(e===u.SettingChangeByOthers&&null!=t)return(0,l.jsx)(o.default,{id:266,params:{name:t}});if(e===u.SettingChangeByYou)return r.fbt._("You turned off disappearing messages.",null,{hk:"CJJkP"});if(e===u.SettingChangeByUnknown)return r.fbt._("Disappearing messages were turned off.",null,{hk:"2o9H09"});if(e===u.SettingChangeByOthersAsAdmin&&null!=t)return(0,l.jsx)(o.default,{id:279,params:{name:t}});if(e===u.SettingChangeByYouAsAdmin)return r.fbt._("You turned off disappearing messages. Click to change.",null,{hk:"ULdpU"});if(e===u.SettingChangeByUnknownAsAdmin)return r.fbt._("Disappearing messages were turned off. Click to change.",null,{hk:"1M6kFu"});if(e===u.Duration)return(0,l.jsx)(o.default,{id:296});if(e===u.OutOfSyncInfo)return r.fbt._("This message will not disappear from the chat. The sender may be on an old version of WhatsApp.",null,{hk:"2d4xYQ"});return __LOG__(4,void 0,new Error,!0)`getEphemeralOffL10nComponent is given invalid type ${e}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,a);if(n<=60)return function(e,t,n){if(e===u.SettingChangeByOthers&&null!=n)return(0,l.jsx)(o.default,{id:270,params:{name:n,number:t},plural:t});if(e===u.SettingChangeByYou)return(0,l.jsx)(o.default,{id:265,params:{number:t},plural:t});if(e===u.SettingChangeByUnknown)return(0,l.jsx)(o.default,{id:261,params:{number:t},plural:t});if(e===u.SettingChangeByOthersAsAdmin&&null!=n)return(0,l.jsx)(o.default,{id:283,params:{name:n,number:t},plural:t});if(e===u.SettingChangeByYouAsAdmin)return(0,l.jsx)(o.default,{id:278,params:{number:t},plural:t});if(e===u.SettingChangeByUnknownAsAdmin)return(0,l.jsx)(o.default,{id:274,params:{number:t},plural:t});if(e===u.Duration)return(0,l.jsx)(o.default,{id:301,params:{number:t},plural:t});if(e===u.OutOfSyncInfo)return(0,l.jsx)(o.default,{id:295,params:{number:t},plural:t});if(e===u.Explanation)return(0,l.jsx)(o.default,{id:289,params:{number:t},plural:t});if(e===u.ModeChangeByOthers&&null!=n)return(0,l.jsx)(o.default,{id:241,params:{name:n,number:t},plural:t});if(e===u.ModeChangeByYou)return(0,l.jsx)(o.default,{id:245,params:{number:t},plural:t});return __LOG__(4,void 0,new Error,!0)`getEphemeralOnSecondsL10nComponent is given type ${e} and name ${n}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,n,a);if(n<=3600){const e=Math.floor(n/60);return function(e,t,n){if(e===u.SettingChangeByOthers&&null!=n)return(0,l.jsx)(o.default,{id:269,params:{name:n,number:t},plural:t});if(e===u.SettingChangeByYou)return(0,l.jsx)(o.default,{id:264,params:{number:t},plural:t});if(e===u.SettingChangeByUnknown)return(0,l.jsx)(o.default,{id:260,params:{number:t},plural:t});if(e===u.SettingChangeByOthersAsAdmin&&null!=n)return(0,l.jsx)(o.default,{id:282,params:{name:n,number:t},plural:t});if(e===u.SettingChangeByYouAsAdmin)return(0,l.jsx)(o.default,{id:277,params:{number:t},plural:t});if(e===u.SettingChangeByUnknownAsAdmin)return(0,l.jsx)(o.default,{id:273,params:{number:t},plural:t});if(e===u.Duration)return(0,l.jsx)(o.default,{id:300,params:{number:t},plural:t});if(e===u.OutOfSyncInfo)return(0,l.jsx)(o.default,{id:294,params:{number:t},plural:t});if(e===u.Explanation)return(0,l.jsx)(o.default,{id:288,params:{number:t},plural:t});if(e===u.ModeChangeByOthers&&null!=n)return(0,l.jsx)(o.default,{id:240,params:{name:n,number:t},plural:t});if(e===u.ModeChangeByYou)return(0,l.jsx)(o.default,{id:244,params:{number:t},plural:t});return __LOG__(4,void 0,new Error,!0)`getEphemeralOnMinutesL10nComponent is given type ${e} and name ${n}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,e,a)}if(n<=86400){const e=Math.floor(n/60/60);return function(e,t,n){if(e===u.SettingChangeByOthers&&null!=n)return(0,l.jsx)(o.default,{id:268,params:{name:n,number:t},plural:t});if(e===u.SettingChangeByYou)return(0,l.jsx)(o.default,{id:263,params:{number:t},plural:t});if(e===u.SettingChangeByUnknown)return(0,l.jsx)(o.default,{id:259,params:{number:t},plural:t});if(e===u.SettingChangeByOthersAsAdmin&&null!=n)return(0,l.jsx)(o.default,{id:281,params:{name:n,number:t},plural:t});if(e===u.SettingChangeByYouAsAdmin)return(0,l.jsx)(o.default,{id:276,params:{number:t},plural:t});if(e===u.SettingChangeByUnknownAsAdmin)return(0,l.jsx)(o.default,{id:272,params:{number:t},plural:t});if(e===u.Duration)return(0,l.jsx)(o.default,{id:299,params:{number:t},plural:t});if(e===u.OutOfSyncInfo)return(0,l.jsx)(o.default,{id:293,params:{number:t},plural:t});if(e===u.Explanation)return(0,l.jsx)(o.default,{id:287,params:{number:t},plural:t});if(e===u.ModeChangeByOthers&&null!=n)return(0,l.jsx)(o.default,{id:239,params:{name:n,number:t},plural:t});if(e===u.ModeChangeByYou)return(0,l.jsx)(o.default,{id:243,params:{number:t},plural:t});return __LOG__(4,void 0,new Error,!0)`getEphemeralOnHoursL10nComponent is given type ${e} and name ${n}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,e,a)}const i=Math.floor(n/24/60/60);return function(e,t,n){if(e===u.SettingChangeByOthers&&null!=n)return(0,l.jsx)(o.default,{id:267,params:{name:n,number:t},plural:t});if(e===u.SettingChangeByYou)return(0,l.jsx)(o.default,{id:262,params:{number:t},plural:t});if(e===u.SettingChangeByUnknown)return(0,l.jsx)(o.default,{id:258,params:{number:t},plural:t});if(e===u.SettingChangeByOthersAsAdmin&&null!=n)return(0,l.jsx)(o.default,{id:280,params:{name:n,number:t},plural:t});if(e===u.SettingChangeByYouAsAdmin)return(0,l.jsx)(o.default,{id:275,params:{number:t},plural:t});if(e===u.SettingChangeByUnknownAsAdmin)return(0,l.jsx)(o.default,{id:271,params:{number:t},plural:t});if(e===u.Duration)return(0,l.jsx)(o.default,{id:298,params:{number:t},plural:t});if(e===u.OutOfSyncInfo)return(0,l.jsx)(o.default,{id:292,params:{number:t},plural:t});if(e===u.Explanation)return(0,l.jsx)(o.default,{id:286,params:{number:t},plural:t});if(e===u.ModeChangeByOthers&&null!=n)return(0,l.jsx)(o.default,{id:238,params:{name:n,number:t},plural:t});if(e===u.ModeChangeByYou)return(0,l.jsx)(o.default,{id:242,params:{number:t},plural:t});return __LOG__(4,void 0,new Error,!0)`getEphemeralOnDaysL10nComponent is given type ${e} and name ${n}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,i,a)},t.EphemeralStringType=void 0,t.getDisappearingMessageDurationString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.Duration,e)},t.getDisappearingMessageExplanationString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.Explanation,e)},t.getDisappearingMessageOutOfSyncInfoString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.OutOfSyncInfo,e)},t.getDisappearingMessageSettingOthersAsAdminString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return d(u.SettingChangeByOthersAsAdmin,e,t)},t.getDisappearingMessageSettingOthersString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return d(u.SettingChangeByOthers,e,t)},t.getDisappearingMessageSettingUnknownAsAdminString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.SettingChangeByUnknownAsAdmin,e)},t.getDisappearingMessageSettingUnknownString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.SettingChangeByUnknown,e)},t.getDisappearingMessageSettingYouAsAdminString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.SettingChangeByYouAsAdmin,e)},t.getDisappearingMessageSettingYouString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.SettingChangeByYou,e)},t.getDisappearingModeOtherString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return d(u.ModeChangeByOthers,e,t)},t.getDisappearingModeYouString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.ModeChangeByYou,e)};var r=n(48360),i=a(n(14296)),o=a(n(56074)),s=n(41566),l=n(85893);const u=n(76672).Mirrored(["SettingChangeByOthers","SettingChangeByYou","SettingChangeByUnknown","SettingChangeByOthersAsAdmin","SettingChangeByYouAsAdmin","SettingChangeByUnknownAsAdmin","Duration","OutOfSyncInfo","Explanation","ModeChangeByOthers","ModeChangeByYou"]);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(t<0)return __LOG__(4,void 0,new Error,!0)`getEphemeralString ${e} is given invalid duration ${t}`,SEND_LOGS("invalid-duration"),"";if(0===t)return c(e,n);if(t<=60)return f(e,t,n);if(t<=3600){return h(e,Math.floor(t/60),n)}if(t<=86400){return p(e,Math.floor(t/60/60),n)}const a=Math.floor(t/24/60/60);return m(e,a,n)}function c(e,t){return e===u.SettingChangeByOthers&&null!=t?i.default.t(266,{name:t}):e===u.SettingChangeByYou?r.fbt._("You turned off disappearing messages.",null,{hk:"CJJkP"}):e===u.SettingChangeByUnknown?r.fbt._("Disappearing messages were turned off.",null,{hk:"2o9H09"}):e===u.SettingChangeByOthersAsAdmin&&null!=t?i.default.t(279,{name:t}):e===u.SettingChangeByYouAsAdmin?r.fbt._("You turned off disappearing messages. Click to change.",null,{hk:"ULdpU"}):e===u.SettingChangeByUnknownAsAdmin?r.fbt._("Disappearing messages were turned off. Click to change.",null,{hk:"1M6kFu"}):e===u.Duration?i.default.t(296):e===u.OutOfSyncInfo?r.fbt._("This message will not disappear from the chat. The sender may be on an old version of WhatsApp.",null,{hk:"2d4xYQ"}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOffString is given invalid type ${e}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}function f(e,t,n){const a=(0,s.isDefaultDisappearingMessagesEnabled)();return e===u.SettingChangeByOthers&&null!=n?i.default.t(270,{name:n,number:t,_plural:t}):e===u.SettingChangeByYou?i.default.t(265,{number:t,_plural:t}):e===u.SettingChangeByUnknown?i.default.t(261,{number:t,_plural:t}):e===u.SettingChangeByOthersAsAdmin&&null!=n?i.default.t(283,{name:n,number:t,_plural:t}):e===u.SettingChangeByYouAsAdmin?i.default.t(278,{number:t,_plural:t}):e===u.SettingChangeByUnknownAsAdmin?i.default.t(274,{number:t,_plural:t}):e===u.Duration?i.default.t(301,{number:t,_plural:t}):e===u.OutOfSyncInfo?i.default.t(295,{number:t,_plural:t}):e===u.Explanation?i.default.t(289,{number:t,_plural:t}):e===u.ModeChangeByOthers?a?r.fbt._({"*":"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} seconds after they're sent. Click to set your own default timer.",_1:"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 second after they're sent. Click to set your own default timer."},[r.fbt._plural(t,"number"),r.fbt._param("name",n)],{hk:"3SWmFy"}):i.default.t(241,{name:n,number:t,_plural:t}):e===u.ModeChangeByYou?a?r.fbt._({"*":"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} seconds after they're sent. Click to change your default timer.",_1:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 second after they're sent. Click to change your default timer."},[r.fbt._plural(t,"number")],{hk:"2Qilmp"}):i.default.t(245,{number:t,_plural:t}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOnSecondsString is given type ${e} and name ${n}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}function h(e,t,n){const a=(0,s.isDefaultDisappearingMessagesEnabled)();return e===u.SettingChangeByOthers&&null!=n?i.default.t(269,{name:n,number:t,_plural:t}):e===u.SettingChangeByYou?i.default.t(264,{number:t,_plural:t}):e===u.SettingChangeByUnknown?i.default.t(260,{number:t,_plural:t}):e===u.SettingChangeByOthersAsAdmin&&null!=n?i.default.t(282,{name:n,number:t,_plural:t}):e===u.SettingChangeByYouAsAdmin?i.default.t(277,{number:t,_plural:t}):e===u.SettingChangeByUnknownAsAdmin?i.default.t(273,{number:t,_plural:t}):e===u.Duration?i.default.t(300,{number:t,_plural:t}):e===u.OutOfSyncInfo?i.default.t(294,{number:t,_plural:t}):e===u.Explanation?i.default.t(288,{number:t,_plural:t}):e===u.ModeChangeByOthers?a?r.fbt._({"*":"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} minutes after they're sent. Click to set your own default timer.",_1:"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 minute after they're sent. Click to set your own default timer."},[r.fbt._plural(t,"number"),r.fbt._param("name",n)],{hk:"ibhrL"}):i.default.t(240,{name:n,number:t,_plural:t}):e===u.ModeChangeByYou?a?r.fbt._({"*":"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} minutes after they're sent. Click to change your default timer.",_1:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 minute after they're sent. Click to change your default timer."},[r.fbt._plural(t,"number")],{hk:"3R3Wfk"}):i.default.t(244,{number:t,_plural:t}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOnMinutesString is given type ${e} and name ${n}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}function p(e,t,n){const a=(0,s.isDefaultDisappearingMessagesEnabled)();return e===u.SettingChangeByOthers&&null!=n?i.default.t(268,{name:n,number:t,_plural:t}):e===u.SettingChangeByYou?i.default.t(263,{number:t,_plural:t}):e===u.SettingChangeByUnknown?i.default.t(259,{number:t,_plural:t}):e===u.SettingChangeByOthersAsAdmin&&null!=n?i.default.t(281,{name:n,number:t,_plural:t}):e===u.SettingChangeByYouAsAdmin?i.default.t(276,{number:t,_plural:t}):e===u.SettingChangeByUnknownAsAdmin?i.default.t(272,{number:t,_plural:t}):e===u.Duration?i.default.t(299,{number:t,_plural:t}):e===u.OutOfSyncInfo?i.default.t(293,{number:t,_plural:t}):e===u.Explanation?i.default.t(287,{number:t,_plural:t}):e===u.ModeChangeByOthers?a?r.fbt._({"*":"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} hours after they're sent. Click to set your own default timer.",_1:"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 hour after they're sent. Click to set your own default timer."},[r.fbt._plural(t,"number"),r.fbt._param("name",n)],{hk:"2V2Gzq"}):i.default.t(239,{name:n,number:t,_plural:t}):e===u.ModeChangeByYou?a?r.fbt._({"*":"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} hours after they're sent. Click to change your default timer.",_1:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 hour after they're sent. Click to change your default timer."},[r.fbt._plural(t,"number")],{hk:"425gbB"}):i.default.t(243,{number:t,_plural:t}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOnHoursString is given type ${e} and name ${n}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}function m(e,t,n){const a=(0,s.isDefaultDisappearingMessagesEnabled)();return e===u.SettingChangeByOthers&&null!=n?i.default.t(267,{name:n,number:t,_plural:t}):e===u.SettingChangeByYou?i.default.t(262,{number:t,_plural:t}):e===u.SettingChangeByUnknown?i.default.t(258,{number:t,_plural:t}):e===u.SettingChangeByOthersAsAdmin&&null!=n?i.default.t(280,{name:n,number:t,_plural:t}):e===u.SettingChangeByYouAsAdmin?i.default.t(275,{number:t,_plural:t}):e===u.SettingChangeByUnknownAsAdmin?i.default.t(271,{number:t,_plural:t}):e===u.Duration?i.default.t(298,{number:t,_plural:t}):e===u.OutOfSyncInfo?i.default.t(292,{number:t,_plural:t}):e===u.Explanation?i.default.t(286,{number:t,_plural:t}):e===u.ModeChangeByOthers?a?r.fbt._({"*":"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} days after they're sent. Click to set your own default timer.",_1:"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 day after they're sent. Click to set your own default timer."},[r.fbt._plural(t,"number"),r.fbt._param("name",n)],{hk:"Vmtxb"}):i.default.t(238,{name:n,number:t,_plural:t}):e===u.ModeChangeByYou?a?r.fbt._({"*":"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} days after they're sent. Click to change your default timer.",_1:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 day after they're sent. Click to change your default timer."},[r.fbt._plural(t,"number")],{hk:"3TGIk6"}):i.default.t(242,{number:t,_plural:t}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOnDaysString is given type ${e} and name ${n}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}t.EphemeralStringType=u},41955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.trim().normalize("NFKD");if((0,a.numCodepoints)(t)>=r.FTS_MIN_CHARS)return!0;if(i.test(t))return!0;if(o.test(t))return!0;return!1};var a=n(64331),r=n(80872);const i=/(?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\uFE0E\uFE0F]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])/,o=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\u3400-\u4DBF\u4E00-\u9FFC\uF900-\uFA6D\uFA70-\uFAD9\uFF66-\uFF6F\uFF71-\uFF9D]|\uD81B[\uDFF0\uDFF1]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67]|\uD83C\uDE00|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/},12733:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStringOrFbt=function(e){return(0,a.isString)(e)||r.fbt.isFbtInstance(e)};var a=n(51737),r=n(48360)},50854:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTED_MIME_TYPE=void 0,t.downloadPaymentBackgroundImage=function(){return h.apply(this,arguments)};var i=r(n(48926)),o=n(89385),s=n(15688),l=r(n(34475)),u=n(26384),d=n(24808),c=n(61596);const f="image/webp";function h(){return(h=(0,i.default)((function*(e){const{paymentBackground:t,isPreload:n,signal:r}=e,{mediaData:i,type:h,mimetype:p}=t;if(p!==f||h===d.PaymentBackgroundType.UNKNOWN)return __LOG__(2)`media.downloadAndGetPaymentBackgroundImage: mimetype or payment background type is not supported`,null;if(null==i)return __LOG__(4,void 0,new Error,!0)`media.downloadAndGetPaymentBackgroundImage: mediaData is null`,SEND_LOGS("media.downloadAndGetPaymentBackgroundImage: mediaData is null"),null;const{fileEncSha256:m,fileSha256:g,mediaKey:_}=i;if(null==m||null==g||null==_)return null;__LOG__(2)`media.downloadAndGetPaymentBackgroundImage: start`;try{const e=yield u.downloadManager.downloadAndDecrypt({directPath:i.directPath,encFilehash:(0,s.encodeB64)(m),filehash:(0,s.encodeB64)(g),mediaKey:(0,s.encodeB64)(_),mediaKeyTimestamp:parseInt(i.mediaKeyTimestamp,10),type:c.MEDIA_TYPES.PAYMENT_BG_IMAGE,signal:r||(new a).signal,userDownloadAttemptCount:0,isPreload:n});return __LOG__(2)`media.downloadAndGetPaymentBackgroundImage: success`,e}catch(e){if(e.name===o.ABORT_ERROR)return void __LOG__(2)`media.downloadAndGetPaymentBackgroundImage aborted`;__LOG__(3,!0)`media.downloadAndGetPaymentBackgroundImage: error\n${(0,l.default)(e)}`}}))).apply(this,arguments)}t.SUPPORTED_MIME_TYPE=f},47011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(0,a.isMDBackend)()||!(0,r.getABPropConfigValue)("web_abprop_remove_downloaded_files"))return!1;try{return(0,i.getMsgMediaType)(e)===i.MEDIA_TYPES.DOCUMENT}catch(e){return!1}};var a=n(88555),r=n(57849),i=n(61596)},97869:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=n(35461),o=a(n(55010)),s=n(84866),l=n(58668);function u(e,t){const n=(0,i.useModelValues)(e.mediaData,["filehash","mediaStage"]),a=(0,r.useRef)(null),u=(0,r.useMemo)((()=>s.MediaBlobCache.has(n.filehash)),[n]),d=e=>{const t=s.MediaBlobCache.get(e);if(!t)throw new Error("Cannot call createURL when the blob does not exist.");a.current=t;const n=new Blob([t],{type:t.type});return window.URL.createObjectURL(n)},[c,f]=(0,r.useState)((()=>u?d(n.filehash):null));(0,r.useEffect)((()=>{!u&&n.mediaStage===l.MEDIA_DATA_STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia()}),[]),(0,o.default)((()=>{var e;c&&(e=c,window.URL.revokeObjectURL(e))}));const h=()=>{const e=a.current;if(!e)throw new Error("Cannot call refreshBlob when the blob does not exist.");const t=new Blob([e],{type:e.type}),n=window.URL.createObjectURL(t);c&&window.URL.revokeObjectURL(c),f(n)};return(0,r.useEffect)((()=>{const e=n.filehash;u&&!c&&f(d(e))}),[u,n.filehash,c]),(0,r.useImperativeHandle)(t,(()=>({refreshBlob:h}))),c?e.children(c):e.placeholderRenderer()}var d=(0,r.forwardRef)(u);t.default=d},63793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.mediaData,["filehash","mediaStage"]),[n,s]=(0,a.useState)((()=>{i.MediaBlobCache.get(t.filehash)}));return(0,a.useEffect)((()=>{n||t.mediaStage!==o.MEDIA_DATA_STAGE.RESOLVED||e.downloadMedia()}),[]),(0,a.useEffect)((()=>{if(n)return;const{filehash:e}=t;i.MediaBlobCache.has(e)&&s(i.MediaBlobCache.get(e))}),[n,t]),n?e.render(n):e.renderPlaceholder()};var a=n(67294),r=n(35461),i=n(84866),o=n(58668)},20553:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{renderProgressively:t=!1,downloadMedia:n}=e,{filehash:a,mediaStage:m,progressiveStage:g}=(0,o.useModelValues)(e.mediaData,["filehash","mediaStage","progressiveStage"]),[_,v]=(0,r.useState)(p),b=(0,r.useMemo)((()=>null!=g?(0,l.getProgressiveMediaCacheKey)(a,g):null),[a,g]),y=null!=b&&m!==d.MEDIA_DATA_STAGE.RESOLVED?b:a,C=(0,r.useMemo)((()=>u.MediaBlobCache.has(y)?(u.MediaBlobCache.increaseUsageCount(y),u.MediaBlobCache.getOrCreateURL(y)):null),[y,m]),[S,E]=(0,r.useState)(a),[x,T]=(0,r.useState)(null);S!==a?(v(null!=C?[C]:[]),E(a),T(C)):null!=C&&C!==x&&(v([..._,C]),T(C));const M=(0,s.default)((()=>{null!=b&&t||null==n||n()}));if((0,r.useEffect)((()=>{M()}),[a,M]),(0,r.useEffect)((()=>()=>{u.MediaBlobCache.has(y)&&u.MediaBlobCache.decreaseUsageCount(y)}),[y]),(0,r.useEffect)((()=>{null==C&&m!==d.MEDIA_DATA_STAGE.RESOLVED&&null!=b&&(__LOG__(4,void 0,new Error,!0)`Blob missing for trimmed-filehash: ${a.slice(0,10)} with progressive stage: ${g} and mediaStage: ${m}`,SEND_LOGS("missing-progressive-blob"))}),[C,m,b,a,g]),null==C)return e.placeholderRenderer();if(!0===t)return(0,c.jsxs)("div",{className:(0,i.default)(f),"data-testid":"media-url-provider",children:[(0,c.jsx)("div",{className:(0,i.default)(h),children:e.placeholderRenderer()}),_.map((t=>(0,c.jsx)("div",{className:(0,i.default)(h),children:e.children(t)},t)))]});return e.children(C)};var r=n(67294),i=a(n(56720)),o=n(35461),s=a(n(89113)),l=n(27126),u=n(84866),d=n(58668),c=n(85893);const f={position:"g0rxnol2",width:"ln8gz9je",height:"ppled2lx"},h={position:"lhggkp7q",zIndex:"jnl3jror",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},p=[]},95670:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CoolOffNux=void 0,t.resetCoolOffNuxDate=function(){Object.keys(i.CoolOffPeriodKeys).forEach((e=>{o.userPreferencesStore.setUser(i.CoolOffPeriodKeys[e])}))},t.resetNuxCoolOff=function(e){o.userPreferencesStore.setUser(`${e}_cool_off`)},t.shouldShowNUX=function(e,t){return new d(e,void 0,t).shouldShow()};var r=a(n(81109)),i=n(71579),o=n(91442),s=a(n(30381)),l=a(n(11339));const u={COOL_OFF_DURATION_IN_DAYS:4,VIEWS_BEFORE_COOL_OFF_IN_DAYS:2,CLICKS_BEFORE_COOL_OFF:1,MAX_DISMISSES:1,MAX_CLICKS:2,MAX_VIEWS_IN_DAYS:4,COOL_OFF_START_STORAGE_KEY:i.CoolOffPeriodKeys.DEFAULT};class d{constructor(e,t,n){this.key=`${e}_cool_off`,this.config=(0,r.default)((0,r.default)({},u),n),this.nux=this._getNUXOptions(),this.coolOffData=this._getCoolOffData(),this.metricField=t}_isValidNuxOptions(e){return null!=e.clicks&&null!=e.dismisses&&null!=e.lastViewedDay&&null!=e.viewDaysBeforeCoolOff&&null!=e.totalViewDays}_getNUXOptions(){let e=o.userPreferencesStore.getUser(this.key);return null!=e&&this._isValidNuxOptions(e)||(this._setNUXOptions({viewDaysBeforeCoolOff:0,totalViewDays:0,clicks:0,dismisses:0,lastViewedDay:(0,s.default)(0)}),e=o.userPreferencesStore.getUser(this.key)),e.lastViewedDay=(0,s.default)(e.lastViewedDay),e}_getCoolOffData(){let e=o.userPreferencesStore.getUser(this.config.COOL_OFF_START_STORAGE_KEY);return null!=e&&null!=e.startDate&&null!=e.duration||(this._setLastCoolOffStartDay((0,s.default)(0)),e=o.userPreferencesStore.getUser(this.config.COOL_OFF_START_STORAGE_KEY)),e.startDate=(0,s.default)(e.startDate),e}_setLastCoolOffStartDay(e){o.userPreferencesStore.setUser(this.config.COOL_OFF_START_STORAGE_KEY,{startDate:e,duration:this.config.COOL_OFF_DURATION_IN_DAYS})}_startNewCoolOff(e){this._setLastCoolOffStartDay(e),this.coolOffData={startDate:e,duration:this.config.COOL_OFF_DURATION_IN_DAYS}}_setNUXOptions(e){o.userPreferencesStore.setUser(this.key,e)}_updateNUXOptions(e){this._setNUXOptions(Object.assign(this.nux,e))}_isTodayCoolOff(){const e=(0,s.default)().diff(this.coolOffData.startDate,"days",!0);return e>=0&&e<this.coolOffData.duration}_logEvent(e){this.metricField&&new l.default.BannerEvent({bannerType:this.metricField,bannerOperation:e}).commit()}shouldShow(){const{totalViewDays:e,dismisses:t,clicks:n}=this.nux,{MAX_VIEWS_IN_DAYS:a,MAX_DISMISSES:r,MAX_CLICKS:i}=this.config;return e<a&&t<r&&n<i&&!this._isTodayCoolOff()}show(){let{lastViewedDay:e,viewDaysBeforeCoolOff:t,totalViewDays:n}=this.nux;const a=(0,s.default)();e.isSame(a,"day")||(t++,n++,t===this.config.VIEWS_BEFORE_COOL_OFF_IN_DAYS&&(t=0,this._startNewCoolOff((0,s.default)(a).add(1,"days"))),this._updateNUXOptions({viewDaysBeforeCoolOff:t,totalViewDays:n,lastViewedDay:a}),this._logEvent(l.default.BANNER_OPERATIONS.SHOWN))}click(){const e=this.nux.clicks+1;e===this.config.CLICKS_BEFORE_COOL_OFF&&this.startCoolOffToday(),this._updateNUXOptions({clicks:e}),this._logEvent(l.default.BANNER_OPERATIONS.CLICK)}dismiss(){this._updateNUXOptions({dismisses:this.nux.dismisses+1}),this._startNewCoolOff((0,s.default)()),this._logEvent(l.default.BANNER_OPERATIONS.DISMISS)}startCoolOffToday(){this._startNewCoolOff((0,s.default)())}}t.CoolOffNux=d},83792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderMarker=void 0;var a=n(48870);n(27798);t.RenderMarker=class{constructor(e){let{markerId:t,annotations:n}=e;this._markerId=t,this._instanceKey=a.QPL.markerStart(this._markerId,{annotations:n,instanceKeyOption:a.QplInstanceKeyOptions.AUTO_INCREMENT}).instanceKey}markDOMCommit(){a.QPL.markerPoint(this._markerId,"DOM_commit",{instanceKey:this._instanceKey})}markMounted(){a.QPL.markerPoint(this._markerId,"mounted",{instanceKey:this._instanceKey})}markPaintedStart(){a.QPL.markerPoint(this._markerId,"painted_start",{instanceKey:this._instanceKey})}markPaintedEnd(){a.QPL.markerPoint(this._markerId,"painted_end",{instanceKey:this._instanceKey})}commit(e){a.QPL.markerEnd(this._markerId,e,{instanceKey:this._instanceKey})}}},69185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBizPrivacyInfoString=function(e){switch(e){case r.WebMessageInfoBizPrivacyStatus.E2EE:return a.fbt._("This message was secured with end-to-end encryption.",null,{hk:"23E1FN"});case r.WebMessageInfoBizPrivacyStatus.BSP:return a.fbt._("This business worked with other companies to manage this message.",null,{hk:"1COrne"});case r.WebMessageInfoBizPrivacyStatus.BSP_AND_FB:case r.WebMessageInfoBizPrivacyStatus.FB:return a.fbt._("This business used a secure service from Meta to manage this message.",null,{hk:"4qnSf0"})}};var a=n(48360),r=n(21224)},10448:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SingleCollectionDataSource=t.CollectionsDataSource=t.CollectionsContentDataSource=t.CatalogWithCollectionsDataSource=t.CatalogListItemScrollHelper=void 0,t.getProductStatsInFetched=function(e,t,n){const a=l.CatalogCollection.get(e);let r,o;if(!a)return;if(!t&&n){const e=a.productCollection.get(n.id);return r=e&&a.productCollection.indexOf(e),{productIndex:(0,i.isNumber)(r)&&r>-1?r.toString():void 0}}if(t){const e=t&&a.collections.get(t);o=e&&a.collections.indexOf(e);const i=n&&(null==e?void 0:e.productCollection.get(n.id));r=i&&(null==e?void 0:e.productCollection.indexOf(i))}return{collectionIndex:(0,i.isNumber)(o)&&o>-1?o.toString():void 0,productIndex:(0,i.isNumber)(r)&&r>-1?r.toString():void 0}};var r=a(n(48926)),i=n(51737),o=n(41906),s=n(78820),l=n(99989),u=n(48870),d=n(27798);function c(){return f.apply(this,arguments)}function f(){return(f=(0,r.default)((function*(e,t){const n=e.getData().length||0,a=!e.getCanLoadMore()||!h(n,e.listItemHeight),r=(0,s.getMaybeMeUser)();if(t&&u.QPL.markerAnnotate(t,{bool:{IsCached:a,IsConsumer:!r.equals(e.catalog.id)}}),a)return!0;yield e.loadMore(!0);return!h(e.getData().length||0,e.listItemHeight)||e.loadInitialItems()}))).apply(this,arguments)}t.SingleCollectionDataSource=class{constructor(e,t,n,a){var r;(this.loading=null,this.catalog=e,this.collectionId=t,this.forCatalogManager=n,this.listItemHeight=a,t)?this.canLoadMoreCollectionItems=!(e.collections.length>0)||""!==(null===(r=this.catalog.collections.get(t))||void 0===r?void 0:r.afterCursor):this.canLoadMoreAllItems=!(e.productCollection.length>0)||!!this.catalog.afterCursor}loadMore(e){if(this.loading)return this.loading;if(!this.getCanLoadMore())return Promise.resolve();const t=this.collectionId;if(t){const n=e?d.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL:void 0;this.loading=this.catalog.collections.findCollectionProducts(this.catalog.id,t,!1,n).then((()=>{var e;this.canLoadMoreCollectionItems=!!(null===(e=this.catalog.collections.get(t))||void 0===e?void 0:e.afterCursor),this.loading=null}))}else this.loading=l.CatalogCollection.update(this.catalog.id).then((()=>{this.canLoadMoreAllItems=!!this.catalog.afterCursor,this.loading=null}));return this.loading}loadInitialItems(){return c(this,d.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL)}getCanLoadMore(){return this.canLoadMoreCollectionItems||this.canLoadMoreAllItems}getData(){const e=this.collectionId;let t;var n;e?t=(null===(n=this.catalog.collections.get(e))||void 0===n?void 0:n.productCollection.getProductModels(this.forCatalogManager))||[]:t=this.catalog.productCollection.getProductModels(this.forCatalogManager)||[];return t.map((e=>({product:e,collection:void 0})))}};t.CatalogWithCollectionsDataSource=class{constructor(e,t,n,a){this.loading=null,this.catalog=e,this.forCatalogManager=t,this.listItemHeight=n,this.canLoadMoreCollections=!(e.collections.length>0)||!!this.catalog.collections.afterCursor,this.canLoadMoreCatalog=!(e.productCollection.length>0)||!!this.catalog.afterCursor,this.canLogQpl=a}loadMore(e){if(this.loading)return this.loading;if(!this.getCanLoadMore())return Promise.resolve();if(this.canLoadMoreCollections){const t=this.canLogQpl&&!0===e?d.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0;this.loading=this.catalog.collections.findCollectionsList(this.catalog.id,3,this.forCatalogManager,t).then((()=>{this.canLoadMoreCollections=!!this.catalog.collections.afterCursor,this.loading=null}))}else this.loading=l.CatalogCollection.update(this.catalog.id).then((()=>{this.canLoadMoreCatalog=!!this.catalog.afterCursor,this.loading=null}));return this.loading}loadInitialItems(){return c(this,this.canLogQpl?d.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0)}getCanLoadMore(){return this.canLoadMoreCollections||this.canLoadMoreCatalog}getData(){var e=this;const t=this.catalog.collections.getCollectionModels(this.forCatalogManager),n=t.length>0,a=t.reduce((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;t.push({collection:n,product:void 0});const a=n.productCollection.getProductModels(e.forCatalogManager)||[];return a.length>3&&(a.length=3),t.push(...a.map((e=>({product:e,collection:n})))),t}),[]);if(this.canLoadMoreCollections)return a;n&&a.push({allItems:{totalItemsCount:a.length}});const r=this.catalog.productCollection.getProductModels(this.forCatalogManager).map((e=>({product:e,collection:void 0})));return a.push(...r),a}};t.CollectionsDataSource=class{constructor(e,t,n,a){this.loading=null,this.canLoadMoreCollections=!0,this.catalog=e,this.forCatalogManager=t,this.listItemHeight=n,this.canLogQpl=a}loadMore(e){if(this.loading)return this.loading;if(!this.getCanLoadMore())return Promise.resolve();if(this.canLoadMoreCollections){const t=this.canLogQpl&&!0===e?d.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW:void 0;this.loading=this.catalog.collections.findCollectionsList(this.catalog.id,3,this.forCatalogManager,t).then((()=>{this.canLoadMoreCollections=!!this.catalog.collections.afterCursor,this.loading=null}))}return this.loading||Promise.resolve()}loadInitialItems(){return c(this,this.canLogQpl?d.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW:void 0)}getCanLoadMore(){return this.canLoadMoreCollections}getData(){return this.catalog.collections.getCollectionModels(this.forCatalogManager).map((e=>({collection:e,product:void 0})))}};function h(e,t){return e*t<window.innerHeight}t.CollectionsContentDataSource=class{constructor(e,t,n){this.loading=null,this.canLoadMore=!0,this.catalog=e,this.catalog.stale=!0,this.catalog.markProductCollectionOld(),this.catalog.productCollection.reset(),this.listItemHeight=t,this.collectionId=n}loadMore(){return this.loading?this.loading:this.getCanLoadMore()?(this.canLoadMore&&(this.collectionId?this.loading=l.CatalogCollection.findCollectionMembership(this.catalog.id,this.collectionId).then((()=>{this.canLoadMore=!!this.catalog.afterCursor,this.loading=null})):this.loading=l.CatalogCollection.update(this.catalog.id).then((()=>{this.canLoadMore=!!this.catalog.afterCursor,this.loading=null}))),this.loading||Promise.resolve()):Promise.resolve()}loadInitialItems(){return c(this)}getCanLoadMore(){return this.canLoadMore}getData(){return this.catalog.productCollection.getProductModels(!0).map((e=>({product:e,collection:void 0})))}};t.CatalogListItemScrollHelper=class{constructor(e){this.dataSource=e}isScrollAtBottom(e){return e.scrollTop+o.SCROLL_FUDGE>=e.scrollHeight-e.clientHeight}willLoadMore(e){return Boolean(this.dataSource.loading||this.isScrollAtBottom(e))}onScroll(e,t){var n=this;return(0,r.default)((function*(){return n.dataSource.loading?(yield n.dataSource.loading,!0):!!n.isScrollAtBottom(t)&&(yield n.dataSource.loadMore(),!0)}))()}}},56233:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getProductOrCatalogLinkPreview=function(){return g.apply(this,arguments)};var r=a(n(48926)),i=n(78820),o=a(n(89867)),s=n(45454),l=n(48360),u=n(99989),d=n(19380),c=n(39519),f=n(24808),h=n(75888),p=n(56406);const m=100;function g(){return(g=(0,r.default)((function*(e,t,n){var a,r,g,_;if(!o.default.isWid(t))return null;const v=(0,s.createWid)(t);let b;try{b=yield u.CatalogCollection.find(v)}catch(e){return null}const y=n?b.productCollection.get(n):b.productCollection.getProductModels().find((e=>"APPROVED"===e.reviewStatus&&!e.isHidden));if(null==y||"APPROVED"!==y.reviewStatus||y.isHidden)return null;const C=y.getPreviewImage();let S,E,x,T;if(C&&([S]=yield(0,p.getResizedThumbData)(C.mediaUrl,[{width:m,height:m,imageFormat:"image/jpeg",imageFormatOptions:.75}])),null===(a=(0,i.getMaybeMeUser)())||void 0===a?void 0:a.equals(v)){const e=d.ContactCollection.get(v);if(null==e)return null;E=e.displayName}else{var M;E=null===(M=(yield(0,h.getOrQueryUsyncInfo)(v)).bizInfo)||void 0===M?void 0:M.verifiedName.name}n?(x=l.fbt._("{productName} from {catalogOwnerName} on WhatsApp.",[l.fbt._param("productName",y.name),l.fbt._param("catalogOwnerName",E)],{hk:"1Avc3r"}).toString(),y.description&&null!=y.priceAmount1000&&y.currency?T=`${y.description} · ${(0,c.formatAmount1000)(y.currency,y.priceAmount1000)}`:y.description?T=y.description:null!=y.priceAmount1000&&y.currency&&(T=(0,c.formatAmount1000)(y.currency,y.priceAmount1000))):(x=l.fbt._("View {catalogOwnerName}'s Catalog on WhatsApp",[l.fbt._param("catalogOwnerName",E)],{hk:"1IS0ge"}).toString(),T=l.fbt._("Learn more about their products & services",null,{hk:"W8MSB"}).toString());return{url:e,data:{title:x,description:T||void 0,canonicalUrl:e,matchedText:e,richPreviewType:f.Message$ExtendedTextMessagePreviewType.NONE,thumbnail:null===(r=S)||void 0===r?void 0:r.dataUrl,thumbnailHeight:null===(g=S)||void 0===g?void 0:g.height,thumbnailWidth:null===(_=S)||void 0===_?void 0:_.width,doNotPlayInline:!0}}}))).apply(this,arguments)}},67883:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logShopsManagementEvent=function(e,t){const{shouldLogJid:n=!0,isShopsProductPreviewVisible:a}=null!=t?t:{};new o.default.WaShopsManagement({shopsManagementAction:e,shopsSellerJid:n?s():void 0,isShopsProductPreviewVisible:a}).commit()};var r=n(78820),i=n(17239),o=a(n(11339));function s(){const e=i.Conn.isSMB?(0,r.getMaybeMeUser)():void 0;return null==e?void 0:e.user}},35641:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.initSessionId()}initSessionId(){this.sessionId=this.newSessionId()}newSessionId(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}}},95190:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(((t,n)=>{const a=new r.default;a.onerror=function(e){a.terminate(),n(new i.DecodeWebpResultsError("worker error",e))},a.onmessageerror=function(e){a.terminate(),n(new i.DecodeWebpResultsError("worker message error",e))},a.onmessage=e=>{a.terminate();const n=e.data;t(n)},a.postMessage({webpBuffer:e},[e])}))};var r=a(n(39455)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},64061:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8584),i=a(n(78077));function o(e){return(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2}function s(e){return(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}const l=/[^\x00-\x7F]/g;t.default=class{constructor(){this.files=[],this.filenameCount={}}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,a=function(e){return e.replace(/\\/,"/").replace(l,"")}(t);this.filenameCount[a]>=0?(this.filenameCount[a]+=1,a=a.replace(/\.(\w+)$/," ("+this.filenameCount[a]+").$1")):this.filenameCount[a]=0,this.files.push([e,{crc:(0,i.default)(e),path:a,date:n}])}create(){let e=0,t=0,n=0;const a=[],i=[];this.files.forEach((l=>{const[u]=l,d=u.size(),c=function(e){let[t,{path:n,crc:a,date:i}]=e;const l=new r.Binary(void 0,!0);return l.ensureCapacity(30+n.length),l.writeUint32(67324752),l.writeUint8(10),l.writeUint8(0),l.writeUint16(0),l.writeUint16(0),l.writeUint16(o(i)),l.writeUint16(s(i)),l.writeUint32(a),l.writeUint32(t.size()),l.writeUint32(t.size()),l.writeUint16(n.length),l.writeUint16(0),l.writeString(n),l}(l),f=function(e,t){let[n,{path:a,crc:i,date:l}]=e;const u=new r.Binary(void 0,!0);return u.ensureCapacity(46+a.length),u.writeUint32(33639248),u.writeUint8(10),u.writeUint8(0),u.writeUint8(10),u.writeUint8(0),u.writeUint16(0),u.writeUint16(0),u.writeUint16(o(l)),u.writeUint16(s(l)),u.writeUint32(i),u.writeUint32(n.size()),u.writeUint32(n.size()),u.writeUint16(a.length),u.writeUint16(0),u.writeUint16(0),u.writeUint16(0),u.writeUint16(0),u.writeUint32(0),u.writeUint32(t),u.writeString(a),u}(l,n),h=c.size()+d;n+=h,e+=h+f.size(),t+=f.size(),i.push(c,u),a.push(f)}));const l=function(e,t,n){const a=new r.Binary(void 0,!0);return a.ensureCapacity(22),a.writeUint32(101010256),a.writeUint16(0),a.writeUint16(0),a.writeUint16(e),a.writeUint16(e),a.writeUint32(t),a.writeUint32(n),a.writeUint16(0),a}(this.files.length,t,n),u=new r.Binary(void 0,!0);return u.ensureCapacity(e+l.size()),u.write(...i,...a,l),u}}},52678:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.zipFiles=function(){return s.apply(this,arguments)};var r=a(n(48926)),i=n(8584),o=a(n(64061));function s(){return(s=(0,r.default)((function*(e){const t=yield Promise.all(e.map((e=>{let{blob:t}=e;return u(t)}))),n=new o.default;return t.forEach(((t,a)=>n.add(t,e[a].name))),l(n.create())}))).apply(this,arguments)}function l(e){return new Blob([e.readByteArray()],{type:"application/zip"})}function u(e){let t;return new Promise(((n,a)=>{t=new FileReader,t.addEventListener("loadend",(()=>{n(i.Binary.build(t.result))})),t.addEventListener("error",(()=>{const e=t.error;a(e)})),t.readAsArrayBuffer(e)}))}},61748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleIncomingSignalingMessage=function(e,t){const s=r.CallCollection.get(e.call_id);if(!s)return void __LOG__(3)`voip:voip_common_disabled: Received signaling msg type ${e.type} but could not find call for call ID`;switch(e.type){case i.TYPE.OFFER:null!=e.t&&(s.offerTime=e.t),s.isVideo=!!e.isVideoCall,s.setState(o.CALL_STATES.INCOMING_RING);break;case i.TYPE.TERMINATE:if(s.setState(o.CALL_STATES.ENDED),(0,a.isMDBackend)()){switch(t.payload[1].reason){case"timeout":null==l&&(l=n(46167)),l.generateMissedCallLog(e.call_creator,s.offerTime,s.isVideo,!1)}}}};var a=n(88555),r=n(60868),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(45473)),o=n(49835);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}let l=null},21469:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.openModal=d,t.openUnblockModal=function(e){r.ModalManager.open((0,u.jsx)(s.default,{okText:l.default.t(626),onOK:()=>{(0,o.unblockContact)(e).catch((()=>{})),r.ModalManager.close()},cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>{r.ModalManager.close()},children:i.fbt._("Unblock this contact to call them.",null,{hk:"4nqs4Z"})}))},t.soundPortErrorModal=function(){d(i.fbt._("WhatsApp didn't connect to a video or audio device. Try starting the call again. If the problem continues, you may have to restart WhatsApp or your computer.",null,{hk:"1Dz5p8"}),i.fbt._("Call could not be started",null,{hk:"4eKezM"}))},t.videoPortErrorModal=function(){const e=n(74943).default;r.ModalManager.open((0,u.jsx)(s.default,{title:i.fbt._("WhatsApp doesn't work with your camera yet",null,{hk:"xrYuG"}),okText:l.default.t(599),onOK:()=>{r.ModalManager.close(),r.ModalManager.open((0,u.jsx)(e,{}))},cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>{r.ModalManager.close()},children:(0,u.jsx)("div",{children:l.default.t(672)})}))};var r=n(14597),i=n(48360),o=n(80140),s=a(n(52665)),l=a(n(14296)),u=n(85893);function d(e,t){r.ModalManager.open((0,u.jsx)(s.default,{title:t,okText:i.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>r.ModalManager.close(),children:(0,u.jsx)("div",{children:e})}))}},46167:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.callOfferNackToast=function(e,t,n,a){const i=(o=t,o.map((e=>{const t=_.ContactCollection.get(e);return t?t.shortName||t.name||t.displayName:(0,c.widToFormattedUser)(e)})).join(b.default.t(257)));var o;let s=null;switch(e){case 401:s=f.fbt._("WhatsApp Calling is unavailable in your country.",null,{hk:"1yYZyr"});break;case 404:s=b.default.t(681,{callee:i});break;case 405:s=b.default.t(677,{callee:i});break;case 460:case 406:s=n?b.default.t(682,{callee:i}):b.default.t(680,{callee:i});break;case 426:s=n?b.default.t(682,{callee:i}):b.default.t(679,{callee:i});break;case 427:s=E.isGroupCallEnabled()?b.default.t(675,{callee:i,_plural:t.length}):n?f.fbt._("Call could not connect",null,{hk:"bfxCB"}):f.fbt._("Call could not connect",null,{hk:"1PiAbN"});break;case 461:s=(0,r.isMDBackend)()?a?f.fbt._("Couldn't place call: all recipients are using old versions of WhatsApp or incompatible devices.",null,{hk:"2WNZQK"}):b.default.t(678,{callee:i}):n?f.fbt._("Call could not connect",null,{hk:"bfxCB"}):f.fbt._("Call could not connect",null,{hk:"1PiAbN"});break;default:s=n?f.fbt._("Call could not connect",null,{hk:"bfxCB"}):f.fbt._("Call could not connect",null,{hk:"1PiAbN"})}s&&l.ToastManager.open((0,M.jsx)(S.Toast,{msg:s,id:(0,S.genId)()}))},t.canStartCall=P,t.canStartVideoCall=function(e){return P(e)&&h.AvDevices.isVideoAvailable},t.checkIfCanStartCall=function(e){var t;if(!e.isGroup&&!e.contact)return __LOG__(4,void 0,new Error)`voip:checkIfCanStartCall expected contact to be provided`,!1;let n=!0;if(C.Stream.displayInfo!==C.StreamInfo.NORMAL)switch(n=!1,C.Stream.displayInfo){case C.StreamInfo.RESUMING:case C.StreamInfo.TIMEOUT:x.openModal(f.fbt._("Make sure your phone has an active Internet connection and try again.",null,{hk:"10CAgz"}),f.fbt._("Phone not connected to the Internet",null,{hk:"2P4wVF"}));break;case C.StreamInfo.OFFLINE:case C.StreamInfo.OPENING:case C.StreamInfo.CONNECTING:default:x.openModal(f.fbt._("Make sure your computer has an active Internet connection and try again.",null,{hk:"4vFCGY"}),f.fbt._("Computer not connected to the Internet",null,{hk:"1qVij3"}))}else!e.isGroup&&(null===(t=e.contact)||void 0===t?void 0:t.isContactBlocked)?(n=!1,x.openUnblockModal(e.contact)):p.CallCollection.activeCall?(n=!1,x.openModal(f.fbt._("You are already on a WhatsApp call",null,{hk:"UhTPZ"}))):h.AvDevices.isMicrophoneAvailable?h.AvDevices.isSpeakerAvailable?e.isVideo&&!h.AvDevices.isVideoAvailable&&(__LOG__(2)`voip:checkIfCanStartCall false due to camera not available`,n=!1,x.openModal(f.fbt._("WhatsApp needs a camera for video calls. Connect one to your computer.",null,{hk:"3SrC82"}),f.fbt._("WhatsApp could not find a connected camera",null,{hk:"roFZC"}))):(__LOG__(2)`voip:checkIfCanStartCall false due to speaker not available`,n=!1,x.openModal(f.fbt._("WhatsApp needs an audio output device for calls. Connect one to your computer.",null,{hk:"1SpOZO"}),f.fbt._("WhatsApp could not find a connected audio device",null,{hk:"3OFX0i"}))):(__LOG__(2)`voip:checkIfCanStartCall false due to microphone not available`,n=!1,x.openModal(f.fbt._("WhatsApp needs a microphone for calls. Connect one to your computer.",null,{hk:"3IJBYo"}),f.fbt._("WhatsApp could not find a connected microphone",null,{hk:"2BAjeQ"})));return n},t.generateMissedCallLog=function(e,t,n,a){const i=(0,d.toUserWid)(e);if((0,r.isMDBackend)()){let e;e=a?n?"miss_group_video":"miss_group":n?"miss_video":"miss";const r={id:new o.default({remote:i,fromMe:!1,id:o.default.newId()}),type:s.MSG_TYPE.CALL_LOG,subtype:e,from:i,t:null!=t?t:Date.now()/1e3,to:(0,u.assertGetMe)()};(0,y.handleSingleMsgMD)(i,r)}},t.getCallFromCallId=j,t.getGroupCallParticipantNameString=function(e,t){let n;n=e.length<=2?e.map((e=>t?e.shortName:e.name)).join(b.default.t(257)):e[0].name+" "+b.default.t(255)+b.default.t(676,{count:e.length-1,_plural:e.length-1});return n},t.isParticipantRequestingVideoUpgrade=function(e,t){const n=j(e);if(!n||!n.callInfo||!n.callInfo.participants.length)return!1;return!!n.callInfo.participants.find((e=>e.isSelf===t&&e.videoState===T.VideoState.VideoStateUpgradeRequest))},t.isVideoCallEnabledForContact=function(e){return!!g.Conn.isVoipInitialized&&(!!e&&(!e.isEnterprise&&!(0,v.getIsInternalNumber)(e.id.user)&&(e.isUser&&E.isVideoCallEnabled()||e.isGroup&&E.isGroupCallEnabled())))},t.isVoiceCallEnabledForContactOrChat=function(e,t){if(!g.Conn.isVoipInitialized)return!1;if(null!=t&&(t.isUser&&!E.isVoiceCallEnabled()||t.isGroup&&!E.isGroupCallEnabled()))return!1;if(null!=e&&(e.isEnterprise||(0,v.getIsInternalNumber)(e.id.user)))return!1;return!0},t.parseCallInfo=A,t.updateCallWithCallInfo=function(e){const t=e&&j(e.call_id);e&&t&&(t.callInfo=A(e))};var r=n(88555),i=n(73679),o=a(n(65212)),s=n(15461),l=n(94816),u=n(78820),d=n(45454),c=n(62054),f=n(48360),h=n(95433),p=n(60868),m=n(69951),g=n(17239),_=n(19380),v=n(17478),b=a(n(14296)),y=n(5819),C=n(8080),S=n(50452),E=w(n(69594)),x=w(n(21469)),T=n(49835),M=n(85893);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function A(e){return{callId:e.call_id,peerJid:e.peer_jid,initialPeerJid:e.initial_peer_jid,creatorJid:e.creator_jid,callerStatus:Boolean(e.caller_status),callActiveTime:{sec:e.call_active_time.sec,msec:e.call_active_time.msec},callDuration:e.call_duration,audioDuration:e.audio_duration,videoDuration:e.video_duration,canInviteNewParticipant:E.isGroupCallEnabled()&&Boolean(e.can_invite_new_participant),canSwitchAudioVideo:Boolean(e.can_switch_audio_video),isGroupCall:Boolean(e.is_group_call),participantCount:e.participant_count,participants:e.participants.filter((e=>null!=e.jid)).map((e=>{const t=(0,d.createUserWid)(e.jid.user,e.jid.server);return{wid:t.toString(),userJid:t.toString({legacy:!0}),deviceRawJid:e.device_raw_jid,isMuted:Boolean(e.is_muted),isSelf:Boolean(e.is_self),isInterrupted:Boolean(e.is_interrupted),isBackgrounded:Boolean(e.is_backgrounded),orderId:e.order_id,videoOrientation:e.video_orientation,videoRenderStarted:Boolean(e.video_render_started),videoState:e.video_state,state:e.state}})),videoCaptureStarted:Boolean(e.video_capture_started),videoPreviewStarted:Boolean(e.video_preview_started),videoEnabled:Boolean(e.video_enabled),videoEnabledAtCallStart:Boolean(e.video_enabled_at_call_start),rotateVideo:Boolean(e.rotate_video)}}function P(e){const t=m.ChatCollection.get(e.id);return!p.CallCollection.activeCall&&!e.isContactBlocked&&!(0,i.isSuspendedGroup)(t)&&C.Stream.displayInfo===C.StreamInfo.NORMAL}function j(e){if(e)return p.CallCollection.get(e)}},38680:(e,t,n)=>{"use strict";var a=n(95318);t.j=void 0;var r=n(81572),i=n(13042),o=a(n(76521)),s=n(76562),l=n(55452),u=n(91442),d=n(69951),c=n(19380),f=a(n(63236)),h=a(n(11339)),p=n(59871),m=a(n(14528)),g=n(8080);function _(){return Math.floor(window.performance.now())}class v extends o.default{constructor(){var e;super(),this.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0},this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},(null===(e=window.performance)||void 0===e?void 0:e.now)&&((0,l.knowsPhone)()?this.listenToOnce(r.Cmd,"logout",this.init):this.init())}init(){this.timings.startSync=g.Stream.lastSyncStart,this.listenTo(g.Stream,"change:mode",this.changeStreamMode),this.listenTo(d.ChatCollection,i.COLLECTION_HAS_SYNCED,this._handleChatSync),this.listenTo(c.ContactCollection,i.COLLECTION_HAS_SYNCED,this._handleContactSync),this.listenTo(p.MsgCollection,i.COLLECTION_HAS_SYNCED,this._handleMsgSync),this.listenTo(p.MsgCollection,"handle:msg_history",this._handleMsgHistory)}changeStreamMode(){g.Stream.mode===g.StreamMode.SYNCING&&(this.timings.startSync=_(),this.data.webcPersistentLoginEnabled=u.userPreferencesStore.getRememberMe()),g.Stream.mode===g.StreamMode.MAIN&&(this.timings.endSync=_(),this.maybeLogToWam())}_handleChatSync(e){null!=e.timing?this.data.webcSyncChatT=e.timing:this.timings.chatSync=_(),this.data.webcSyncChatCount=e.count,this.data.webcSyncChatSize=e.binarySize,this.maybeLogToWam()}_handleMsgSync(e){e&&(this.timings.msgSync=_(),this.data.webcSyncMessageCount+=e.count,this.data.webcSyncMessageSize+=e.binarySize),this.maybeLogToWam()}_handleContactSync(e){null!=e.timing?this.data.webcSyncContactT=e.timing:this.timings.contactSync=_(),this.data.webcSyncContactCount=e.count,this.data.webcSyncContactSize=e.binarySize,this.maybeLogToWam()}_handleMsgHistory(e){this.data.webcSyncMessageSize+=e.binarySize,this.data.webcSyncMessageCount+=e.count,null!=this.timings.msgSync&&(this.timings.msgSync=_())}maybeLogToWam(){const{contactSync:e,msgSync:t,chatSync:n}=this.timings,a=null!=n&&Number.isFinite(n||this.data.webcSyncChatT),r=null!=e&&Number.isFinite(e||this.data.webcSyncContactT),i=Number.isFinite(t);a&&r&&i&&(this._commitPromise||(this._commitPromise=(0,f.default)().then((e=>this._commitEvent(e))).catch((()=>{__LOG__(3)`wam:Error comitting login event`})).finally((()=>this.reset()))))}_commitEvent(e){const{startSync:t,endSync:n,contactSync:a,msgSync:r,chatSync:i}=this.timings,o=m.default.initialDisplayDate;if(null!=o&&0!==o&&null!=t&&null!=n&&null!=r&&null!=i&&null!=a&&Number.isFinite(o)&&Number.isFinite(t)&&Number.isFinite(n)){this.data.webcQrLoadT=o,this.data.webcQrCodes=m.default.get(),this.data.webcLoginT=t-o,this.data.webcSyncT=n-t,this.data.webcSyncMessageT=r-t,this.data.webcSyncChatT||(this.data.webcSyncChatT=i-t),this.data.webcSyncContactT||(this.data.webcSyncContactT=a-t),this.data.webcBrowserNetworkType=(0,s.getEffectiveNetworkType)(),e&&(this.data.webcBrowserStorageQuotaBytes=e.quota,this.data.webcBrowserStorageQuotaUsedBytes=e.usage);new h.default.WebcLogin(this.data).commit()}else __LOG__(3)`One or more of the login timings was not logged: `}reset(){this.stopListening(),this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},this.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0},this._commitPromise=void 0,this.listenToOnce(r.Cmd,"logout",this.init)}}t.j=()=>new v},55051:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.UiRevokeActionHelper=void 0;var r=n(87614),i=a(n(11339));const o=new class{_commitAction(e){const t=Date.now(),n=null!=this._lastActionTs?t-this._lastActionTs:0;new i.default.UiRevokeAction({messageAction:e,uiRevokeActionDuration:n,uiRevokeActionSessionId:this._sessionId}).commit(),this._lastActionTs=t}startSession(){this._sessionId=(0,r.randomHex)(16),this._lastActionTs=null,this._step=0}endSession(){this.startSession()}messageSelected(){this._step>0||(this._commitAction(i.default.UI_REVOKE_ACTION_TYPE.MESSAGE_SELECTED),this._step=1)}trashCanSelected(){this._step>1||(this._commitAction(i.default.UI_REVOKE_ACTION_TYPE.TRASH_CAN_SELECTED),this._step=2)}adminRevoke(){this._commitAction(i.default.UI_REVOKE_ACTION_TYPE.ADMIN_DELETE_FOR_EVERYONE)}senderRevoke(){this._commitAction(i.default.UI_REVOKE_ACTION_TYPE.SENDER_DELETE_FOR_EVERYONE),this.endSession()}adminAndSenderRevoke(){this._commitAction(i.default.UI_REVOKE_ACTION_TYPE.ADMIN_AND_SENDER_DELETE_FOR_EVERYONE)}revokeConfirmed(){this._commitAction(i.default.UI_REVOKE_ACTION_TYPE.DELETE_FOR_EVERYONE_SELECTED),this.endSession()}};t.UiRevokeActionHelper=o},87759:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.numberToPreciseSizeBucket=o,t.toPreciseSizeBucketJSON=function(e){const t={};return e.forEach((e=>{if(e.isGroup){const n=o(e.getParticipantCount());null==t[n]&&(t[n]=0),t[n]++}})),t};var r=a(n(11339));const{PRECISE_SIZE_BUCKET:i}=r.default;function o(e){return e<4?i.LT4:e<8?i.LT8:e<16?i.LT16:e<32?i.LT32:e<64?i.LT64:e<128?i.LT128:e<256?i.LT256:e<512?i.LT512:e<1e3?i.LT1000:e<1500?i.LT1500:e<2e3?i.LT2000:e<2500?i.LT2500:e<3e3?i.LT3000:e<3500?i.LT3500:e<4e3?i.LT4000:e<4500?i.LT4500:e<5e3?i.LT5000:i.LARGEST_BUCKET}},52709:(e,t)=>{"use strict";t.Y=function(){}},93253:(e,t,n)=>{"use strict";var a=n(95318);t.yj=function(){if(!c())return;setInterval((()=>{new s.default.WebcMemoryStat((0,r.default)((0,r.default)({},(0,i.default)(c(),"getMemoryInfo()")),{},{hasVerifiedNumber:u.Stream.mode===u.StreamMode.MAIN,numMessages:l.MsgCollection.length})).commit()}),o.MEMORY_METRIC_INTERVAL)};var r=a(n(81109)),i=a(n(45095)),o=n(24143),s=a(n(11339)),l=n(59871),u=n(8080);const d=Date.now();function c(){var e;const t=null===(e=performance)||void 0===e?void 0:e.memory;if(t)return{uptime:(Date.now()-d)/1e3,jsHeapSizeLimit:t.jsHeapSizeLimit,totalJsHeapSize:t.totalJSHeapSize,usedJsHeapSize:t.usedJSHeapSize}}},24143:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MEMORY_METRIC_INTERVAL=void 0;t.MEMORY_METRIC_INTERVAL=9e5},75629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(57319);t.default=class{constructor(e){this.ship=e=>{const t=this.bitmap;if(!t)return;const n=Date.now();n>this.lastActiveInMS&&(this.bitmapLength=Math.min(64,Math.ceil(n/1e3-this.startTimeInSec)));const a={sessionId:this.sessionId,startTime:this.startTimeInSec,bitmap:t,bitmapLen:this.bitmapLength,sessionSeq:this.sequenceId,sessionCum:this.cumulativeBitsSet};(e||this.loggingCallback)(a),this.timer.cancel(),this.bitmap=null},this.loggingCallback=e,this.timer=new a.ShiftTimer(this.ship),this._initSession(),this._initArray(Math.floor(Date.now()/1e3))}_initSession(){this.cumulativeBitsSet=0,this.sequenceId=-1,this.sessionId=Math.floor(2147483648*Math.random()).toString(36)}_initArray(e){this.startTimeInSec=e,this.lastActiveInMS=1e3*this.startTimeInSec,this.bitmap=new Int32Array(2),this.bitmap[0]=1,this.bitmapLength=1,this.cumulativeBitsSet+=1,this.sequenceId+=1;this.timer.debounceAndCap(64e3,64e3)}_doUpdate(e){const t=e-this.startTimeInSec;this.bitmap&&(t<0||t>=64)&&this.ship(),this.bitmap?(this.bitmap[t>>5]|=1<<(31&t),this.bitmapLength=t+1,this.cumulativeBitsSet+=1,this.lastActiveInMS=1e3*e):this._initArray(e)}update(e){e>=this.lastActiveInMS&&e-this.lastActiveInMS<1e3||this._doUpdate(Math.floor(e/1e3))}shipAndEndSession(e){this.ship(e),this._initSession()}}},35166:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,s.default)((()=>Date.now())),t=(0,o.useRef)(-1),n=(0,o.useRef)(-1),a=(0,s.default)((()=>new d.default(f))),u=r=>{const i=a.current;if(!i)return;if(r instanceof MouseEvent){if(r.pageX===t.current&&r.pageY===n.current&&"click"!==r.type)return;t.current=r.pageX,n.current=r.pageY}const o=Date.now(),s=o-e.current;s>0?(e.current=o,i.update(e.current)):s<-5&&(e.current=o)},h=e=>{let t=`${e.bitmap[0]}`;for(let n=1;n<e.bitmap.length;++n)t+=`:${e.bitmap[n]}`;const n=`${e.sessionId}:${e.sessionSeq}:${e.sessionCum}:${e.startTime}:${e.bitmapLen}$${t}`;r.default.setItem(i.KEYS.TIME_SPENT_EVENT,n)};(0,o.useEffect)((()=>{const e=r.default.getItem(i.KEYS.TIME_SPENT_EVENT);return e&&((e=>{let[t,n,...a]=e.split("$");if(a.length||!n)return void __LOG__(3)`Invalid stashed time spent event`;if(t=t.split(":"),5!==t.length)return void __LOG__(3)`Invalid stashed time spent event`;n=new Int32Array(n.split(":").map((e=>Number(e))));const r={sessionId:t[0],sessionSeq:Number(t[1]),sessionCum:Number(t[2]),startTime:Number(t[3]),bitmapLen:Number(t[4]),bitmap:n};f(r)})(e),r.default.removeItem(i.KEYS.TIME_SPENT_EVENT)),()=>{a.current&&(a.current.ship(),a.current=null)}}),[]),(0,l.useListener)(window,"beforeunload",(()=>{a.current&&(a.current.ship(h),a.current=null)})),(0,l.useListeners)(c.map((e=>{let{source:t,name:n}=e;return{source:t,eventOrEvents:n,callback:u,opts:{passive:!0,capture:!0}}})));return(0,l.useListener)(null,"BrowserWindow:minimize",(()=>{var e;null===(e=a.current)||void 0===e||e.shipAndEndSession()})),(0,l.useListener)(null,"BrowserWindow:restore",(()=>{var t;a.current?(e.current=Date.now(),null===(t=a.current)||void 0===t||t.update(e.current)):__LOG__(3)`Time Spent Logger not started`})),null};var r=a(n(45234)),i=n(46718),o=n(67294),s=a(n(16223)),l=n(87550),u=a(n(11339)),d=a(n(75629));const c=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}],f=e=>{const t=new u.default.UserActivity({userActivitySessionId:e.sessionId,userActivityStartTime:e.startTime,userActivityBitmapLen:e.bitmapLen,userActivityBitmapLow:e.bitmap[0],userActivitySessionSeq:e.sessionSeq,userActivitySessionCum:e.sessionCum});e.bitmapLen>32&&(t.userActivityBitmapHigh=e.bitmap[1]),t.commit()}},84287:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.IconSectionTheme=t.IconSection=void 0;var r=a(n(94184)),i=n(48360),o=a(n(68991)),s=a(n(38932)),l=a(n(23217)),u=n(85893);const d=n(76672)({SmallMargin:"small-margin",NoMargin:"no-margin",NoMarginSmallGutter:"no-margin-small-gutter"});t.IconSectionTheme=d;t.IconSection=e=>{let{icon:t,iconClass:n,content:a,onEdit:c,type:f="field",emptyText:h,hideEditIcon:p,theme:m,fieldName:g}=e;const _=c?(0,u.jsx)("div",{children:(0,u.jsx)(s.default,{name:"pencil",className:o.default.editPencil,directional:!0,onClick:c,"aria-label":i.fbt._("Click to edit {fieldName}",[i.fbt._param("fieldName",g)],{hk:"Wjo4r"})})}):void 0,v=h&&!a,b=v?h:a,y=t?(0,u.jsx)(l.default,{name:t}):null;return(0,u.jsxs)("div",{className:(0,r.default)(o.default.section,{[o.default.smallMargin]:m===d.SmallMargin,[o.default.noMargin]:m===d.NoMargin,[o.default.noMarginSmallGutter]:m===d.NoMarginSmallGutter}),children:[(0,u.jsx)("div",{className:(0,r.default)(o.default.sectionPrimaryIcon,n,{[o.default.fieldPrimaryIcon]:"field"===f}),children:y}),(0,u.jsx)("div",{className:(0,r.default)(o.default.sectionMain,{[o.default.sectionContainerMain]:"container"===f,[o.default.sectionEmptyText]:v}),children:b}),_]})}},31892:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const a=(0,o.getMaybeMeUser)();c.QPL.markerAnnotate(f.QuickLogMarkerId.WHATSAPP_CART_ADD,{bool:{IsConsumer:!(null==a?void 0:a.equals(e.catalogWid))}});const g=(0,l.addProductToCart)(e);switch(g.status){case l.AddToCartStatus.SUCCESS:!function(e,t){n=function(){var n=(0,r.default)((function*(){(0,d.qplStartCartView)("Toast"),yield(0,h.default)(e.catalogWid.toString(),void 0,t),(0,u.logCartToastClick)(e.catalogWid.toString(),t)}));return function(){return n.apply(this,arguments)}}(),i.ToastManager.open((0,m.jsx)(p.Toast,{action:{actionText:s.fbt._("View cart",null,{hk:"FzP7d"}),onAction:()=>{n()}},duration:6e3,id:(0,p.genId)(),msg:s.fbt._("Item added to cart",null,{hk:"3cSc2w"})}));var n}(e,t),(0,u.logAddProductToCart)(e,t,g.newCount,n);break;case l.AddToCartStatus.QUANTITY_LIMIT_REACHED:i.ToastManager.open((0,m.jsx)(p.Toast,{action:{onAction:()=>{},actionText:s.fbt._("GOT IT",null,{hk:"175geM"}),dismiss:!0,theme:"success"},duration:6e3,id:(0,p.genId)(),msg:s.fbt._("You can't add any more of this item",null,{hk:"3wdB9l"})}))}};var r=a(n(48926)),i=n(94816),o=n(78820),s=n(48360),l=n(51498),u=n(41868),d=n(82145),c=n(48870),f=n(27798),h=a(n(56829)),p=n(50452),m=n(85893)},24170:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,colorXStyle:n}=e,a={className:(0,o.default)(d,n),name:"add_shopping_cart",title:i.fbt._("Add to cart",null,{hk:"2qbS08"})};if(null!=t)return(0,u.jsx)(s.default,(0,r.default)((0,r.default)({},a),{},{"aria-label":i.fbt._("Add to cart",null,{hk:"2qbS08"}),onClick:t}));return(0,u.jsx)(l.default,(0,r.default)({},a))};var r=a(n(81109)),i=n(48360),o=a(n(56720)),s=a(n(38932)),l=a(n(23217)),u=n(85893);const d={color:"svlsagor",":hover":{color:"kbf8aj4n"}}},41868:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getOnCartClickWithLog=function(e,t,n){return()=>{e(),function(e,t){const n=c(e,"ACTION_CART_ICON_CLICK",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));n&&n.commit()}(t,n)}},t.logAddProductToCart=function(e,t,n,a){const i=(0,s.getProductStatsInFetched)(e.catalogWid.toString(),a,e)||void 0,o=c(e.catalogWid.toString(),"ACTION_CART_ADD_PRODUCT",(0,r.default)((0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)),{},{quantity:n,collectionStats:i}));o&&o.commit()},t.logCartAbandon=function(e,t){const n=c(e,"ACTION_CART_ABANDON",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));n&&n.commit()},t.logCartListImpression=function(e,t){const n=c(e,"ACTION_CART_LIST_IMPRESSION",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));n&&n.commit()},t.logCartToastClick=function(e,t){const n=c(e,"ACTION_CART_SNACKBAR_CLICK",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));n&&n.commit()},t.logDeleteProduct=function(e,t){const n=c(e.catalogWid.toString(),"ACTION_CART_DELETE_PRODUCT",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));n&&n.commit()},t.logEditProduct=function(e,t,n){const a=c(e.catalogWid.toString(),"ACTION_CART_EDIT_PRODUCT",(0,r.default)((0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)),{},{quantity:n}));a&&a.commit()};var r=a(n(81109)),i=a(n(6479)),o=n(78820),s=n(10448),l=a(n(11339)),u=n(97567);const d=["bizPlatform","collectionStats"];function c(e,t,n){const a=e===(0,o.getMeUser)().toString(),{bizPlatform:s,collectionStats:u}=n,c=(0,i.default)(n,d);return a&&void 0!==l.default.CATALOG_BIZ_ACTION[t]?new l.default.CatalogBiz((0,r.default)({catalogBizAction:l.default.CATALOG_BIZ_ACTION[t],collectionIndex:null==u?void 0:u.collectionIndex,productIndex:null==u?void 0:u.productIndex},c)):a||void 0===l.default.CATALOG_VIEW_ACTION[t]?void __LOG__(3)`getCartLogAction: unsupported log action - ${t}`:new l.default.CatalogView((0,r.default)({catalogViewAction:l.default.CATALOG_VIEW_ACTION[t],bizPlatform:s,collectionIndex:null==u?void 0:u.collectionIndex,productIndex:null==u?void 0:u.productIndex},c))}},84543:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Labels=function(e){const{labels:t,showName:n,renderAsCircle:a}=e,r=(0,l.default)(),_=(0,s.useMemo)((()=>m(t)),[t]);if((0,u.useListener)(null!=_?c.LabelCollection:null,`label_updated_${null!=_?_:""}`,r),!(0,i.canDisplayLabel)())return null;const v=function(e){const t=m(e);return null==t?null:c.LabelCollection.get(t)}(t);if(!v||!v.name)return null;if(1===t.length){const t=n?(0,p.jsx)("span",{className:f.default.name,children:(0,p.jsx)(d.EmojiText,{text:v.name})}):null,r=(0,o.default)({[f.default.container]:!n&&!a,[f.default.containerCircleIconFull]:!!a,[f.default.containerFull]:n&&!a,[f.default.labelFilter]:"label-filter"===e.theme,[f.default.drawerTitle]:"drawer-title"===e.theme}),i=a?{backgroundColor:v.hexColor}:{},s=a?(0,p.jsx)(h.default,{name:"label",className:f.default.icon}):g(v.hexColor);return(0,p.jsxs)("div",{className:r,children:[(0,p.jsx)("div",{className:(0,o.default)(f.default.iconContainer,{[f.default.circleIcon]:a}),style:i,children:s}),t]})}return(0,p.jsx)("div",{className:f.default.container,children:(0,p.jsxs)("svg",{width:"18px",height:"15px",viewBox:"0 0 18 15",children:[(0,p.jsx)("path",{fill:v.hexColor,d:"M11.208,3.925H2.236C1.556,3.925,1,4.565,1,5.357v7.213C1,13.362,1.556,14,2.236,14h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,4.53C11.993,4.162,11.622,3.925,11.208,3.925z"}),(0,p.jsx)("path",{fill:"currentColor",d:"M15.541,7.832L13.164,3.93 c-0.423-0.698-1.15-1.142-1.956-1.142H2.595V2.432C2.595,1.64,3.151,1,3.831,1h9.1c0.414,0,0.782,0.237,1.005,0.605l2.696,4.433 L15.541,7.832z"})]})})},t.getVisibleLabelId=m,t.renderLabelSvg=g;var r=n(88555),i=n(8139),o=a(n(94184)),s=n(67294),l=a(n(59312)),u=n(87550),d=n(65417),c=n(16770),f=a(n(51340)),h=a(n(23217)),p=n(85893);function m(e){if(0===e.length)return;if((0,r.isLegacyWebdBackend)())return e[0];const t=Math.max(...e.map((e=>parseInt(e,10))));return isNaN(t)?e[0]:t.toString()}function g(e){return(0,p.jsx)("svg",{width:"18px",height:"12px",viewBox:"0 0 18 12",className:f.default.icon,children:(0,p.jsx)("path",{fill:e||"#ffffff",d:"M11.208,0.925H2.236C1.556,0.925,1,1.565,1,2.357V9.57C1,10.362,1.556,11,2.236,11h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,1.53C11.993,1.162,11.622,0.925,11.208,0.925z"})},2)}},79544:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logOrderListImpression=function(e){let{catalogContext:t,catalogOwnerJid:n,orderId:a,productCount:l}=e;(0,s.createCatalogViewEvent)((0,r.default)((0,r.default)({isOwner:(0,s.isCatalogOwner)({catalogOwnerJid:n}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_ORDER_LIST_IMPRESSION,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_ORDER_LIST_IMPRESSION},(0,o.toDataForCatalogViewEvents)(t)),{},{bizActionConfig:{orderId:a,productCount:l}})).commit()},t.logOrderListItemClick=function(e){let{catalogOwnerJid:t,catalogContext:n,orderId:a}=e;(0,s.createCatalogViewEvent)((0,r.default)((0,r.default)({isOwner:(0,s.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_ORDER_LIST_ITEM_CLICK,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_ORDER_LIST_ITEM_CLICK},(0,o.toDataForCatalogViewEvents)(n)),{},{bizActionConfig:{orderId:a}})).commit()},t.logOrderMessageClick=function(e){let{catalogContext:t,catalogOwnerJid:n,orderId:a}=e;(0,s.createCatalogViewEvent)((0,r.default)({isOwner:(0,s.isCatalogOwner)({catalogOwnerJid:n}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_ORDER_MESSAGE_CLICK,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_ORDER_MESSAGE_CLICK},(0,o.toDataForCatalogViewEvents)(t))).commit()},t.logSendOrderMessage=function(e){let{orderId:t,catalogOwnerJid:n,catalogContext:a,isOrderMsgAttached:l,quantity:u}=e;(0,s.createCatalogViewEvent)((0,r.default)((0,r.default)({isOwner:(0,s.isCatalogOwner)({catalogOwnerJid:n}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_SEND_ORDER_MESSAGE,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_SEND_ORDER_MESSAGE,isOrderMsgAttached:l},(0,o.toDataForCatalogViewEvents)(a)),{},{bizActionConfig:{orderId:t,quantity:u}})).commit()};var r=a(n(81109)),i=a(n(11339)),o=n(97567),s=n(14545)},30699:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderDetailProductSummary=function(e){let{productItems:t,totalItemCount:n,productMediaData:a,onClick:r}=e;const s=f(t),p=t.length>1,m=p?(0,c.jsx)(u.default,{name:"chevron-right",color:"secondary",width:20}):void 0;return(0,c.jsx)(i.default,{image:a?(0,c.jsx)(l.ProductThumb,{mediaData:a,theme:"squareThumb"}):null,customImage:!0,primary:(0,c.jsx)(d.TextSpan,{size:"16",children:(0,c.jsx)(o.EmojiText,{text:s,ellipsify:!0})}),secondary:h(t.length,n),detail:m,theme:"media",onClick:p?r:void 0})},t.getOrderDetailItemLabel=h,t.getOrderDetailProductLabel=f;var r=n(48360),i=a(n(44356)),o=n(65417),s=a(n(14296)),l=n(3013),u=a(n(23217)),d=n(13923),c=n(85893);function f(e){return e.slice(0,10).filter(Boolean).map((e=>e.name)).join(s.default.t(257))}function h(e,t){return null!=e&&e>1?r.fbt._({"*":"{number-of-items} items",_1:"1 item"},[r.fbt._plural(e,"number-of-items")],{hk:"sLf0F"}):r.fbt._("Quantity {item-quantity}",[r.fbt._param("item-quantity",t)],{hk:"102wGk"})}},26218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{productId:t,businessOwnerJid:n,msgT:i}=e;const o=(0,a.createWid)(n);if(!o)return;const s=r.CatalogCollection.get(o);if(!s)return;const l=s.productCollection.get(t),u=s.msgProductCollection.get(t);if(u&&l){const e=null!=i?i:u.t;return l.t>=e?(s.msgProductCollection.remove(u),l):u}return l||u};var a=n(45454),r=n(99989)},77975:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logAddProductClick=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_CLICKED,catalogSessionId:e.session.toString(),catalogEntryPoint:e.entryPoint}).commit()},t.logAddProductFailed=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_FAILED,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logAddProductSuccess=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_SUCCESS,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logAppealProductCatalogClick=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_APPEAL_PRODUCT_CLICKED,catalogEntryPoint:l.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:e}).commit()},t.logAppealProductCatalogFailed=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_APPEAL_PRODUCT_FAILED,catalogEntryPoint:l.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,errorCode:t,catalogSessionId:e}).commit()},t.logAppealProductCatalogSuccess=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_APPEAL_PRODUCT_SUCCESS,catalogEntryPoint:l.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:e}).commit()},t.logBusinessProfileCatalogView=function(e){let{catalogOwnerWid:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)((0,r.default)({},(0,u.toDataForCatalogViewEvents)(n)),{},{isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CARD_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_CARD_IMPRESSION})).commit()},t.logCarouselViewMoreClick=function(e){let{catalogOwnerWid:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CARD_MORE_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_CARD_MORE_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logCatalogAttachmentButtonClick=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CATALOG_IN_CONVERSATION_CLICK,catalogEntryPoint:l.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_ATTACHMENT_PANEL,catalogSessionId:e}).commit()},t.logCatalogContextMenuClick=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_MENU_CLICK,catalogEntryPoint:null==t?void 0:t.entryPoint,catalogSessionId:null==t?void 0:t.session.toString(),productId:e}).commit()},t.logCatalogListDetailClick=function(e){let{product:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_LIST_ITEM_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_LIST_ITEM_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logCatalogListView=function(e){let{catalogOwnerWid:t,catalogContext:n,cartToggle:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_LIST_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_LIST_IMPRESSION,cartToggle:a},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logCatalogProductHideCancelled=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_HIDE_CANCELLED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductHideClick=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_HIDE_CLICKED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductHideFailed=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_HIDE_FAILED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductHideSuccess=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_HIDE_SUCCESS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductShowCancelled=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_UNHIDE_CANCELLED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductShowClick=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_UNHIDE_CLICKED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductShowFailed=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_UNHIDE_FAILED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductShowSuccess=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_UNHIDE_SUCCESS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogShareLinkClick=function(e){let{catalogOwnerWid:t,catalogContext:n}=e;const a=(0,d.isCatalogOwner)({catalogOwnerWid:t});(0,d.createCatalogViewEvent)((0,r.default)({isOwner:a,catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_CATALOG_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_CATALOG_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logChatCatalogView=function(e){let{catalogOwnerWid:t,catalogContext:n}=e;new l.default.CatalogView((0,r.default)({catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_CHAT_CATALOG_ICON_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logCreateProductCatalogClick=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCreateProductCatalogFailed=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG_FAILED,catalogEntryPoint:e.entryPoint,errorCode:t,catalogSessionId:e.session.toString()}).commit()},t.logCreateProductCatalogSuccess=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG_SUCCESS,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logDeleteProductClick=function(e,t,n){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_CLICKED,catalogEntryPoint:n.entryPoint,productId:e.id.toString(),productCount:t,catalogSessionId:n.session.toString()}).commit()},t.logDeleteProductFailed=function(e,t,n,a){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_FAILED,catalogEntryPoint:n.entryPoint,productId:e.id.toString(),productCount:t,errorCode:a,catalogSessionId:n.session.toString()}).commit()},t.logDeleteProductSuccess=function(e,t,n){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_SUCCESS,catalogEntryPoint:n.entryPoint,productId:e.id.toString(),productCount:t,catalogSessionId:n.session.toString()}).commit()},t.logDetailImageClick=function(e){let{product:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_DETAIL_IMAGE_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMAGE_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logDetailLinkClick=function(e){let{product:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_DETAIL_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logEditProductClick=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_CLICKED,productId:e.id.toString(),catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString()}).commit()},t.logEditProductFailed=function(e,t,n){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_FAILED,catalogEntryPoint:t.entryPoint,productId:e.id.toString(),errorCode:n,catalogSessionId:t.session.toString()}).commit()},t.logEditProductSuccess=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_SUCCESS,catalogEntryPoint:t.entryPoint,productId:e.id.toString(),catalogSessionId:t.session.toString()}).commit()},t.logFullImageView=function(e){let{product:t,catalogSessionId:n}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_FULL_IMAGE_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_IMPRESSION,catalogSessionId:n}).commit()},t.logImageCarouselModalView=function(e){let{product:t,catalogSessionId:n}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_IMAGE_LIST_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_IMAGE_LIST_IMPRESSION,catalogSessionId:n}).commit()},t.logImageListClick=function(e){let{product:t,catalogSessionId:n}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_IMAGE_LIST_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_IMAGE_LIST_CLICK,catalogSessionId:n}).commit()},t.logImageNavigate=function(e){let{product:t,catalogSessionId:n}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_FULL_IMAGE_SWIPE,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_SWIPE,catalogSessionId:n}).commit()},t.logProductDeepLinkOpen=function(e){let{catalogOwnerJid:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_PRODUCT_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logProductDetailView=function(e){let{product:t,catalogContext:n,cartToggle:a,collectionId:i}=e;const o=i?(0,s.getProductStatsInFetched)(t.catalogWid.toString(),i,t):void 0,c=null==o?void 0:o.productIndex,f=null==o?void 0:o.collectionIndex;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_DETAIL_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMPRESSION,cartToggle:a,productIndex:c,collectionIndex:f},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logProductInquiryClick=function(e){let{product:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logProductMessageBusinessClick=function(e,t){(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:e}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_MESSAGE_BUSINESS_BUTTON_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_MESSAGE_BUSINESS_BUTTON_CLICK},(0,u.toDataForCatalogViewEvents)(t))).commit()},t.logProductMessageBusinessSend=function(e,t){let n=!1;if(null!=e.businessOwnerJid){const t=e.businessOwnerJid;n=(0,i.getMeUser)().equals((0,o.createWid)(t))}(0,d.createCatalogViewEvent)({isOwner:n,catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_QUOTED_PRODUCT_MESSAGE_SEND,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_MESSAGE_SEND,catalogSessionId:t||(new c.ProductCatalogSession).toString()}).commit()},t.logProductMessageSent=function(e){let{product:t,catalogSessionId:n}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SEND_PRODUCT_MESSAGE,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SEND_PRODUCT_MESSAGE,catalogSessionId:n,productId:t.id.toString()}).commit()},t.logProductMsgClick=function(e){let{product:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logProfileProductClick=function(e){let{product:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CARD_ITEM_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_CARD_ITEM_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logReportProduct=function(e){let{product:t,catalogSessionId:n}=e;new l.default.CatalogView({catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT,catalogSessionId:n}).commit()},t.logReportProductFailure=function(e){let{product:t,catalogSessionId:n}=e;new l.default.CatalogView({catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_FAILURE,catalogSessionId:n}).commit()},t.logReportProductSuccess=function(e){let{product:t,catalogSessionId:n}=e;new l.default.CatalogView({catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_SUCCESS,catalogSessionId:n}).commit()},t.logSendCatalogClick=function(e){let{catalogOwnerWid:t,catalogSessionId:n}=e;new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SEND_CATALOG_CLICK,catalogSessionId:n}).commit()},t.logShareCatalogCopyLinkClick=function(e){let{catalogOwnerWid:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_CATALOG_COPY_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_CATALOG_COPY_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logShareCatalogViaWALinkClick=function(e){let{catalogOwnerWid:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logShareProductCopyLinkClick=function(e){let{product:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_PRODUCT_COPY_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_COPY_LINK_CLICK,productId:t.id.toString()},(0,u.toDataForCatalogViewEvents)(n))).commit()},t.logShareProductViaWALinkClick=function(e){let{product:t,catalogContext:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK,productId:t.id.toString()},(0,u.toDataForCatalogViewEvents)(n))).commit()};var r=a(n(81109)),i=n(78820),o=n(45454),s=n(10448),l=a(n(11339)),u=n(97567),d=n(14545),c=n(9153)},97567:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildProductCatalogAccidentalContext=s,t.buildProductCatalogContext=o,t.getProductCatalogContext=l,t.getProductCatalogSessionId=function(e){return l(e).session.toString()},t.toDataForCatalogViewEvents=function(e){return{catalogSessionId:e.session.toString(),bizPlatform:e.bizPlatform,catalogEntryPoint:e.entryPoint}};var r=a(n(11339)),i=n(9153);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.ProductCatalogSession,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.BIZ_PLATFORM.UNKNOWN,n=arguments.length>2?arguments[2]:void 0;return{type:"product_catalog",session:e,entryPoint:n,bizPlatform:t}}function s(){return o(new i.ProductCatalogSession(!0))}function l(e){return"product_catalog"===e.type?e:s()}},14545:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isCatalogOwner=t.createCatalogViewEvent=void 0;var r=a(n(81109)),i=a(n(6479)),o=n(78820),s=a(n(89867)),l=n(45454),u=a(n(11339));const d=["isOwner","catalogBizAction","catalogViewAction","bizActionConfig","bizPlatform"];t.isCatalogOwner=e=>{let t;return e.catalogOwnerJid?t=(0,l.createWid)(e.catalogOwnerJid):e.catalogOwnerWid?t=e.catalogOwnerWid:e.product&&(t=e.product.catalogWid),t instanceof s.default&&(0,o.isMeAccount)(t)};t.createCatalogViewEvent=e=>{const{isOwner:t,catalogBizAction:n,catalogViewAction:a,bizActionConfig:o,bizPlatform:s}=e,l=(0,i.default)(e,d);return t?new u.default.CatalogBiz((0,r.default)((0,r.default)({catalogBizAction:n},l),o)):new u.default.CatalogView((0,r.default)({catalogViewAction:a,bizPlatform:s},l))}},88990:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{onClick:n,checkbox:a,isMuted:L,disableOutOfStockAppearance:B,theme:F,collectionId:G,onProductHideShow:U,onProductDelete:V,onProductShare:W,onCartOpen:H,canManageCatalog:q,detail:Y}=e,z=(0,u.default)(),K=(0,l.useContext)(_.DrawerContext),$=(0,c.useModelValues)(e.product,["id","name","description","availability","url","retailerId","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","reviewStatus","catalogWid","productImageCollection","imageHash","imageCdnUrl","isHidden"]),Q=(0,l.useRef)(null),X=(0,l.useRef)(null),[J,Z]=(0,l.useState)(null),[ee,te]=(0,l.useState)(!1);(0,d.useListener)(e.active,$.id.toString(),z);const ne=e=>{const t=(0,S.getProductCatalogContext)(K);A.QPL.markerStart(P.QuickLogMarkerId.WHATSAPP_CART_ADD,{annotations:{string:{EntryPoint:"Catalog"}}}),t.session.isAccidental()?A.QPL.markerDrop(P.QuickLogMarkerId.WHATSAPP_CART_ADD):((0,h.default)($,t,G),e.preventDefault(),e.stopPropagation())},ae=e=>{e.preventDefault(),e.stopPropagation(),U&&U((0,j.unproxy)($))},re=e=>{e.preventDefault(),e.stopPropagation(),V&&V($)},ie=()=>{Z(null),i.default.focus(X.current)},oe=null===(t=$.getPreviewImage())||void 0===t?void 0:t.mediaData,se=F||(B||$.availability!==w.ProductAvailability.OUT_OF_STOCK?"product":"product-out-of-stock");let le,ue,de;switch($.reviewStatus){case x.PRODUCT_REVIEW_STATUS.NO_REVIEW:case x.PRODUCT_REVIEW_STATUS.OUTDATED:case x.PRODUCT_REVIEW_STATUS.PENDING:le=(0,D.jsx)(m.default,{theme:"pending",svg:"business-hours"});break;case x.PRODUCT_REVIEW_STATUS.REJECTED:le=(0,D.jsx)(m.default,{theme:"warning",svg:"error"})}$.isHidden&&(ue=(0,D.jsx)(O.default,{name:"hide"}),de=(0,D.jsx)(f.InvisibleLabel,{children:s.fbt._("Item is hidden",null,{hk:"3JLPDQ"})}));const ce=oe?(0,D.jsx)(k.ProductThumb,{theme:"list",mediaData:oe,badge:le,overlayContent:ue}):null,fe=(0,D.jsx)(b.EmojiText,{text:$.name,ellipsify:!0,titlify:!0}),he=(0,M.isEmptyPrice)($)?null:(0,D.jsx)(T.default,{product:$,showAvailabilityNotice:!0}),pe=he||$.description&&$.description.length>0?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:E.default.description,children:(0,D.jsx)(b.EmojiText,{text:$.description,ellipsify:!0})}),(0,D.jsx)("div",{className:E.default.price,children:he}),de]}):null;let me;J&&(me=(0,D.jsx)(N.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:ie,children:(0,D.jsx)(R.default,{contextMenu:J})}));const ge=null!=Y?Y:!0!==q?(0,D.jsxs)("div",{className:E.default.detailContainer,children:[null!=H&&$.reviewStatus===x.PRODUCT_REVIEW_STATUS.APPROVED?(0,D.jsx)(p.default,{onClick:ne}):null,null!=W&&$.reviewStatus===x.PRODUCT_REVIEW_STATUS.APPROVED?(0,D.jsx)(I.default,{"aria-label":"",className:E.default.shareButton,onClick:e=>{e.stopPropagation(),W((0,j.unproxy)($))},name:"link"}):null]}):null;return(0,D.jsxs)(y.HotKeys,{ref:X,handlers:{space:e=>{e.preventDefault(),e.stopPropagation(),r.default.shouldIndicateFocus(),n()},right:()=>{var e;i.default.focus(null===(e=Q.current)||void 0===e?void 0:e.getContextMenuRef())}},onFocus:e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=Q.current)||void 0===t||t.mouseOver(),te(!0)},onBlur:()=>{var e;null===(e=Q.current)||void 0===e||e.mouseLeave(),te(!1)},tabIndex:0,role:"button",children:[(0,D.jsx)(g.default,{a8n:"product-catalog-item",customImage:!0,image:ce,primary:fe,onClick:n,secondary:pe,theme:se,active:ee||!!J,checkbox:a,idle:L,detail:ge,className:E.default.catalogListItem,contextEnabled:()=>!0===e.canManageCatalog,onContext:e=>{if(J)return void Z(null);const t=(()=>{var e;const t=[];null!=W&&$.reviewStatus===x.PRODUCT_REVIEW_STATUS.APPROVED&&!1===$.isHidden&&t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-share-label",action:e=>{e.stopPropagation(),W((0,j.unproxy)($))},children:s.fbt._("Share",null,{hk:"3MHbpW"})},"ShareLabel"));const n=null===(e=(0,o.getMaybeMeUser)())||void 0===e?void 0:e.equals($.catalogWid);return n&&U&&($.isHidden?t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-show-label",action:ae,children:s.fbt._("Show item",null,{hk:"1TSS6f"})},"ShowLabel")):t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-hide-label",action:ae,children:s.fbt._("Hide item",null,{hk:"a7Kx1"})},"HideLabel"))),$.isHidden||$.reviewStatus!==x.PRODUCT_REVIEW_STATUS.APPROVED||null==H||t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-addcart-label",action:ne,children:s.fbt._("Add to cart",null,{hk:"hOzFs"})},"AddToCartLabel")),n&&V&&t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-edit-label",action:re,children:s.fbt._("Delete",null,{hk:"336mVv"})},"DeleteLabel")),t})(),n=(0,S.getProductCatalogContext)(K);(0,C.logCatalogContextMenuClick)($.id.toString(),n.session.isAccidental()?void 0:n),Z({menu:t,event:e.event,anchor:e.anchor})},ref:Q,contextMenuControlled:!0},$.id.toString()),me]})};var r=a(n(45120)),i=a(n(52013)),o=n(78820),s=n(48360),l=n(67294),u=a(n(59312)),d=n(87550),c=n(35461),f=n(55712),h=a(n(31892)),p=a(n(24170)),m=a(n(80252)),g=a(n(49107)),_=n(27394),v=n(71174),b=n(65417),y=n(29424),C=n(77975),S=n(97567),E=a(n(66250)),x=n(5641),T=a(n(62089)),M=n(13151),k=n(3013),w=n(6822),A=n(48870),P=n(27798),j=n(18146),I=a(n(38932)),O=a(n(23217)),N=n(18644),R=a(n(24717)),D=n(85893)},9153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductCatalogSession=t.ACCIDENTAL_SESSION=void 0;const n="accidental_session";t.ACCIDENTAL_SESSION=n;t.ProductCatalogSession=class{constructor(e){this.accidental=e||!1,this.initSessionId()}isAccidental(){return this.accidental}initSessionId(){this.sessionId=this.newSessionId()}newSessionId(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}toString(){let e=`${this.sessionId}`;return this.accidental&&(__LOG__(4,void 0,new Error)`Session ID requested without being set, returning a randon accidental session. Please investigate.`,e=`accidental_session_${e}`),e}}},86455:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,productImageCollection:n,activeProductImage:a,sessionId:p}=e,v=(0,l.useRef)(!1),b=(0,l.useRef)(null),y=(0,l.useRef)(null),C=(0,l.useRef)(null),[S,E]=(0,l.useState)((()=>n.toArray().indexOf(a))),[x,T]=(0,l.useState)(!1),M=(0,d.default)(t),k=(0,d.default)(p),w=(0,d.default)(S),A=e=>{e!==S&&((0,c.logImageNavigate)({product:(0,m.unproxy)(t),catalogSessionId:p}),(0,c.logImageListClick)({product:(0,m.unproxy)(t),catalogSessionId:p})),E(e)},P=e=>{if(e&&e.stopPropagation(),x)return;const t=n.length;A((S+1)%t)},j=e=>{if(e&&e.stopPropagation(),x)return;const t=n.length;A(S-1<0?t-1:(S-1)%t)};(0,u.useListener)(window,"keydown",(e=>{e.keyCode===r.default.LEFT?j(e):e.keyCode===r.default.RIGHT&&P(e)}));const I=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const a=y.current,r=null===(e=C.current)||void 0===e?void 0:e.firstChild,i=null===(t=b.current)||void 0===t?void 0:t.getImageContainerElement();if(!a||!r||!i)return;let s=0;i instanceof HTMLElement&&(s=i.clientWidth/2-a.clientWidth/2),(0,o.default)(i,"stop");let l=0;n&&(l=300),(0,o.default)(i,"scroll",{duration:l,container:r,offset:s,axis:"x",easing:[.1,.82,.25,1]})};(0,l.useEffect)((()=>{I(),y.current&&(0,o.default)(y.current,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}),(0,c.logImageCarouselModalView)({product:(0,m.unproxy)(t),catalogSessionId:p})}),[]),(0,l.useEffect)((()=>{w!==S&&(I(!0),(0,c.logFullImageView)({product:(0,m.unproxy)(t),catalogSessionId:p}))}),[S,w,M,k,t,p]);const O=n.length,N=S>0?j:null,R=S+1<O?P:null;return(0,g.jsxs)("div",{className:x?"img-zoomed-in":null,children:[(0,g.jsx)("div",{className:f.default.thumbsContainer,ref:y,children:(0,g.jsx)("div",{ref:C,className:f.default.scrollContainer,dir:"ltr",children:(0,g.jsx)(s.default,{className:f.default.viewerThumbs,transitionName:"thumb-scale",children:(0,g.jsx)(_,{productImageCollection:n,activeImgIndex:S,activeThumbRef:b,onSelectThumb:A})})})}),(0,g.jsx)(h.default,{mediaData:n.toArray()[S].mediaData,onBack:()=>{i.ModalManager.closeMedia()},onExitAnimation:()=>{y.current&&(0,o.default)(y.current,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},onNext:R,onPrev:N,onImgZoomIn:e=>{T(e)},getZoomNode:e.getZoomNode,zoomIn:v.current,product:t,sessionId:e.sessionId})]})};var r=a(n(57538)),i=n(14597),o=a(n(62831)),s=a(n(40436)),l=n(67294),u=n(87550),d=a(n(37453)),c=n(77975),f=a(n(66223)),h=a(n(61028)),p=n(3013),m=n(18146),g=n(85893);function _(e){let{productImageCollection:t,activeImgIndex:n,activeThumbRef:a,onSelectThumb:r}=e;const i=t.toArray().map(((e,t)=>{const i=t===n;return(0,g.jsx)(p.ProductThumb,{theme:"viewerFlow",active:i,ref:i?a:null,mediaData:e.mediaData,onClick:()=>r(t)},`product-image-${t}`)}));return[(0,g.jsx)("div",{className:f.default.thumbPadding},"padding-left"),i,(0,g.jsx)("div",{className:f.default.thumbPadding},"padding-right")]}},40659:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.useModelValues)(e.mediaData,["renderableUrl"]);const t=(0,i.useModelValues)(e.product,["name","catalogWid"]),n=s.ContactCollection.get(t.catalogWid);let a;if(n){const e=(0,m.jsx)(c.Name,{contact:n,selectable:!0,useVerifiedName:!0}),r=(0,m.jsx)(l.DetailImage,{id:n.id,size:40}),i=(0,m.jsxs)("div",{className:f.default.productName,children:[(0,m.jsx)(h.default,{className:f.default.productNameIcon,name:"business-description",display:"inline"}),(0,m.jsx)(u.EmojiText,{text:t.name,titlify:!0,ellipsify:!0})]});a=(0,m.jsx)(o.default,{idle:!0,image:r,primary:e,secondary:i,theme:"media"})}else a=(0,m.jsx)(p.TextSpan,{theme:"large",className:f.default.infoName,children:(0,m.jsx)(u.EmojiText,{text:t.name,titlify:!0,ellipsify:!0})});return(0,m.jsxs)("div",{className:f.default.mediaPanelHeader,children:[(0,m.jsx)("div",{className:f.default.info,children:a}),(0,m.jsx)("div",{className:f.default.mediaPanelTools,children:(0,m.jsx)(d.MenuBar,{theme:"strong",children:(0,m.jsx)(d.MenuBarItem,{a8nText:"btn-close",icon:(0,m.jsx)(h.default,{name:"x-viewer"}),title:r.fbt._("Close",null,{hk:"19Jpec"}),onClick:e.onClose})},"media-panel-header")})]})};var r=n(48360),i=n(35461),o=a(n(44356)),s=n(19380),l=n(88984),u=n(65417),d=n(46346),c=n(12176),f=a(n(81316)),h=a(n(23217)),p=n(13923),m=n(85893)},61028:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{getZoomNode:t,zoomIn:n,onImgZoomIn:a,onExitAnimation:y,onBack:C}=e,S=(0,l.useRef)(null),E=(0,l.useRef)(!1),x=(0,l.useRef)(!1),T=(0,l.useRef)(!1),M=(0,l.useRef)(null),k=(0,u.useModelValues)(e.mediaData,["mediaStage","renderableUrl","isGif","type"]),w=(0,u.useModelValues)(e.product,["description"]),[A,P]=(0,l.useState)(!1),[j]=(0,l.useState)((()=>k.mediaStage===p.MEDIA_DATA_STAGE.RESOLVED&&n&&t?t():null)),I=()=>{var e;if(x.current)return;if(x.current=!0,(0,i.isFunction)(y)&&y(),!t)return C();const n=t();if(!n)return C();const a=(0,r.default)(null===(e=M.current)||void 0===e?void 0:e.getInsideContainer(),"mediaImageRef.current?.getInsideContainer()"),s=a.getBoundingClientRect(),l=n.getBoundingClientRect();let u=l.top-s.top,d=l.left-s.left;const c=n.clientWidth/a.clientWidth;u-=(a.clientHeight-n.clientHeight)/2,d-=(a.clientWidth-n.clientWidth)/2,(0,o.default)(a,{translateX:[d,0],translateY:[u,0],scale:[c,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{C()}))},O=(0,b.jsx)(h.default,{mediaData:k,onLoad:e=>{if(E.current)return;E.current=!0;const t=j,a=e.currentTarget;t&&a&&n&&a instanceof HTMLElement&&((e,t)=>{const n=t.getBoundingClientRect(),a=e.getBoundingClientRect();let r=a.top-n.top,i=a.left-n.left;const s=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,o.default)(t,{opacity:[1,0],translateX:[0,i],translateY:[0,r],scale:[1,s]},{duration:m.ANIMATION_DURATION,easing:[.1,.82,.25,1]}),S.current&&(0,o.default)(S.current,{opacity:[1,0]},{duration:m.ANIMATION_DURATION})})(t,a)},onImgZoomIn:e=>{const t=M.current;e&&t&&(T.current=t.getHeightOverflow()>0||t.getWidthOverflow()>0),P(e),a(e)},ref:M},k.renderableUrl);let N;if(w.description){const t=e.zoomIn&&(k.isGif||k.type===f.default.TYPE.IMAGE);N=(0,b.jsx)("span",{className:{[_.default.captionHidden]:t},ref:S,children:(0,b.jsx)(c.EmojiText,{text:w.description,className:_.default.mediaCaption})})}const R=(0,s.default)(_.default.media,{[_.default.mediaWithCaption]:!!N}),D=(0,b.jsx)("div",{className:(0,s.default)(_.default.btnMediaNext),children:(0,b.jsx)(d.ChevronButton,{type:d.ButtonType.Next,onClick:e.onNext||(e=>e.stopPropagation()),onKeyDown:e.onNext||(()=>{}),disabled:!e.onNext||A})}),L=(0,b.jsx)("div",{className:(0,s.default)(_.default.btnMediaPrev),children:(0,b.jsx)(d.ChevronButton,{type:d.ButtonType.Prev,onClick:e.onPrev||(e=>e.stopPropagation()),onKeyDown:e.onPrev||(()=>{}),disabled:!e.onPrev||A})}),B=(0,s.default)("overlay",_.default.mediaViewer,{[_.default.mediaViewerAnimate]:e.zoomIn,[_.default.cursorZoomOut]:A}),F=A?null:e=>{Math.abs(e.deltaY)>7&&I()},G=A?null:I,U=A&&T.current?e=>{((e,t)=>{const n=M.current;if(!n)return;const a=n.getInsideContainer();if(!(a&&a instanceof HTMLElement))return;const r=n.getOutsideContainer();if(!(r&&r instanceof HTMLElement))return;const{translateX:i,translateY:s}=n.getTranslatePosition(r,e,t);(0,o.default)(a,"stop"),(0,o.default)(a,{translateX:i,translateY:s,scale:m.ZOOM_IN_FACTOR},{duration:0})})(e.pageX,e.pageY)}:null,V=A?e=>{const t=M.current;t&&A&&t.onClick(e)}:null;return(0,b.jsx)(v.UIE,{displayName:"ProductViewer",escapable:!0,requestDismiss:I,children:(0,b.jsxs)("div",{className:B,"data-animate-media-viewer":!0,onClick:V,onMouseMove:U,children:[(0,b.jsx)(g.default,{mediaData:k,onClose:I,product:w}),(0,b.jsxs)("div",{className:_.default.mediaContent,dir:"ltr",onWheel:F,onClick:G,children:[L,(0,b.jsxs)("div",{className:R,children:[(0,b.jsx)("div",{className:_.default.media,children:O}),N]}),D]})]})})};var r=a(n(45095)),i=n(51737),o=a(n(62831)),s=a(n(94184)),l=n(67294),u=n(35461),d=n(61991),c=n(65417),f=a(n(2320)),h=a(n(76530)),p=n(58668),m=n(8969),g=a(n(40659)),_=a(n(1256)),v=n(18644),b=n(85893)},62089:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{product:t,fallback:n=null,showAvailabilityNotice:a=!1}=e,p=(0,i.default)(e,h);const{currency:m,priceAmount1000:g}=t,_=(0,d.getActivePrice)(t);if(!m||null==g||null==_)return n;const v=e=>o.formatAmount1000(m,e),b=v(_);let y=(0,d.isSalePriceActive)(t)?`${b} ~${v(g)}~`:b;const C=(e=>e.availability===c.ProductAvailability.OUT_OF_STOCK?s.fbt._("Out of Stock",null,{hk:"3YosHQ"}):null)(t);a&&C&&(y+=" • "+C.toString());return(0,f.jsx)(l.EmojiText,(0,r.default)((0,r.default)({},p),{},{text:y,formatters:[[[u.Strikethrough,{selectable:p.selectable}]]],ellipsify:!0}))};var r=a(n(81109)),i=a(n(6479)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(39519)),s=n(48360),l=n(65417),u=n(65375),d=n(13151),c=n(6822),f=n(85893);const h=["product","fallback","showAvailabilityNotice"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}},3013:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductThumb=void 0,t.ProductThumbPlaceholder=c;var r=a(n(94184)),i=n(67294),o=n(35461),s=n(58668),l=a(n(83395)),u=a(n(23217)),d=n(85893);function c(e){let{onClick:t,className:n}=e;return(0,d.jsx)("div",{className:(0,r.default)(n,l.default.mediaCanvas,l.default.placeholder,{[l.default.mediaCanvasClickable]:!!t}),onClick:t,children:(0,d.jsx)(u.default,{name:"business-description"})})}const f=(0,i.forwardRef)(((e,t)=>{const{theme:n,active:a,onClick:u,badge:f,overlayContent:h,imgRef:p}=e,m=(0,i.useRef)(null),g=(0,i.useRef)(null),_=(0,o.useModelValues)(e.mediaData,["mediaStage","mediaBlob","renderableUrl","preview"]);(0,i.useEffect)((()=>(null==p||p(g.current),()=>{null==p||p(null)})),[]);const v=()=>m.current;let b,y;(0,i.useImperativeHandle)(t,(()=>({getImageContainerElement:v}))),_.mediaStage===s.MEDIA_DATA_STAGE.RESOLVED?(b=(0,d.jsx)("div",{className:(0,r.default)(l.default.mediaCanvas,{[l.default.mediaCanvasClickable]:!!u}),style:{backgroundImage:`url(${_.renderableUrl})`},onClick:u,ref:g}),null!=h&&(y=(0,d.jsx)("div",{className:l.default.overlay,children:h}))):b=_.mediaStage===s.MEDIA_DATA_STAGE.PREPARING?(0,d.jsx)(c,{className:e.className,onClick:e.onClick}):_.mediaStage===s.MEDIA_DATA_STAGE.ERROR_MISSING?null:(0,d.jsx)("div",{className:l.default.mediaCanvas});const C=(0,r.default)(e.className,{[l.default.canvasSecondRow]:"hideableSecondRow"===n,[l.default.canvasComponent]:"list"!==n,[l.default.canvasComponentLargeGallerySpacing]:"largeGallerySpacing"===n,[l.default.list]:"list"===n,[l.default.viewerFlow]:"viewerFlow"===n,[l.default.squareThumb]:"squareThumb"===n,[l.default.orderSquareThumb]:"orderSquareThumb"===n,[l.default.active]:!0===a});if(e.large)return(0,d.jsx)("div",{className:l.default.canvasComponentLarge,children:b});const S=(0,d.jsxs)("div",{ref:m,className:C,children:[(0,d.jsx)("div",{className:l.default.canvasBody}),b,y,f]});return"list"===n?(0,d.jsx)("div",{className:l.default.listWrapper,children:S}):S}));t.ProductThumb=f},60809:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const n=null===(t=e.product.getPreviewImage())||void 0===t?void 0:t.mediaData;if(!n)return null;return(0,u.jsx)(d,(0,r.default)({mediaData:n},e))};var r=a(n(81109)),i=n(35461),o=a(n(90233)),s=n(58668),l=a(n(88990)),u=n(85893);const d=function(e){const{product:t,selections:n,active:a,onClick:r}=e,d=(0,i.useModelValues)(e.mediaData,["mediaStage"]).mediaStage!==s.MEDIA_DATA_STAGE.RESOLVED,c=d?()=>{}:r;return(0,u.jsx)(o.default,{model:t,selections:n,disabled:d,children:(0,u.jsx)(l.default,{product:t,onClick:c,active:a,checkbox:!0,disableOutOfStockAppearance:!0,isMuted:d})},t.id.toString())}},73481:(e,t,n)=>{"use strict";t.Z=function(e){n(38680).j(),n(93253).yj(),n(52709).Y();{const e=n(92658).default,t=n(82039).ProfilePicThumbCollection,a=n(64237).default,r=n(25613).default;e.supported&&t.on("change:tag",(e=>{const t=navigator.serviceWorker;(null==t?void 0:t.controller)&&!e.tag&&r.request(t.controller,a.REMOVE_PP,e.id).catch((()=>{}))}))}n(55452).initDailyStatsStartTime();(0,n(16876).default)((0,a.getEmojiTypeFromPlatform)(e));(0,n(46588).Z)();const t=n(52805);return{MainComponent:t.MainComponent,hasPending:t.hasPending,notificationBackend:n(93551),execApiCmd:n(18633).Z}};var a=n(14315)},5280:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,l.useState)(0),[n,a]=(0,l.useState)(!1),C=()=>{const e=p.ChatCollection.filter((e=>e.archive&&(e.optimisticUnreadCount>0||e.optimisticUnreadCount===r.default.MARKED_AS_UNREAD))).length;t(e)},S=()=>{if((0,g.isElevatedImportantMessageEnabled)()){const e=p.ChatCollection.filter((e=>e.archive&&e.isGroup&&(e.optimisticUnreadCount>0||e.optimisticUnreadCount===r.default.MARKED_AS_UNREAD))).some((e=>{var t,n;const a=null!==(t=null===(n=e.groupMetadata)||void 0===n?void 0:n.unreadMentionMetadata.getUnreadMentionCount())&&void 0!==t?t:0,r=!e.archiveAtMentionViewedInDrawer;return a>0&&r}));a(e)}};(0,u.useListener)(p.ChatCollection,"add remove reset change:archive change:optimisticUnreadCount change:muteExpiration",C),(0,u.useListener)(p.ChatCollection,"change:archive change:hasUnreadMention change:archiveAtMentionViewedInDrawer",S),(0,l.useEffect)((()=>{C(),(0,g.isElevatedImportantMessageEnabled)()&&S()}),[]);const E=0===e||n?null:(0,y.jsx)("div",{className:d.default.unreadCountWrapper,children:(0,y.jsx)(b.default,{count:e,transparentBg:!0})}),x=(0,y.jsx)(m.FlexRow,{align:"center",justify:"center",className:d.default.archivedIcon,children:(0,y.jsx)(v.default,{name:"archived"})}),T=n?(0,y.jsx)("div",{className:d.default.iconMentions,children:(0,y.jsx)(v.default,{name:"mentions",className:d.default.iconMentions})},"icon-mentions"):null,M=[s.fbt._("Archived",null,{hk:"1PK2es"}),n?s.fbt._("@ message",null,{hk:"2UzXVt"}):""].join(" "),k=(0,y.jsxs)(y.Fragment,{children:[T,E]});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{"data-tab":o.TAB_ORDER.ARCHIVED_ENTRY_POINT,className:d.default.wrapper,onClick:()=>{new _.default.ChatFolderOpen({activityIndicatorCount:e,folderType:"Archive"}).commit(),i.DrawerManager.openDrawerLeft((0,y.jsx)(c.ArchivedFlowLoadable,{}))},"aria-label":M,children:(0,y.jsx)(h.default,{image:x,primary:s.fbt._("Archived",null,{hk:"1PK2es"}),detail:k,theme:"archive-panel"})}),(0,y.jsx)(f.default,{})]})};var r=a(n(64369)),i=n(41455),o=n(55715),s=n(48360),l=n(67294),u=n(87550),d=a(n(19266)),c=n(78457),f=a(n(22245)),h=a(n(44356)),p=n(69951),m=n(29623),g=n(41566),_=a(n(11339)),v=a(n(23217)),b=a(n(72994)),y=n(85893)},42126:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(45095));var r=n(57319),i=n(88555),o=n(81572),s=n(21310),l=n(38184),u=n(8139),d=n(14597),c=n(26741),f=(n(55452),a(n(40436))),h=n(67294),p=a(n(16223)),m=n(87550),g=n(35461),_=a(n(55010)),v=a(n(95754)),b=n(17239),y=n(12591),C=n(18671),S=a(n(96876)),E=a(n(11339)),x=n(72472),T=a(n(51783)),M=a(n(18779)),k=a(n(65105)),w=n(64551),A=n(8080),P=n(97628),j=n(85893);function I(e){var t;const{setShowButterBar:n}=e,{theme:a}=(0,h.useContext)(P.ThemeContext);(0,g.useModelValues)(e.stream,["displayInfo","needsUpdate"]),(0,g.useModelValues)(e.notice,["noticeId","blocking","banner","shouldShowButterBar"]);const s=(0,g.useModelValues)(e.mute,["isMuted"]),c=(0,g.useModelValues)(e.mdOptInDeadline,["showAwarenessMsg","showCountDownMsg","daysLeftTillDeadline","expirationTime"]),[y,S]=(0,h.useState)((()=>{const e=b.Conn.battery<15?b.Conn.battery<5?2:1:0;return b.Conn.plugged?0:e})),[x,I]=(0,h.useState)(null===(t=window.Notification)||void 0===t?void 0:t.permission),[R,D]=(0,h.useState)(!1),[L,B]=(0,h.useState)(!1),[F,G]=(0,h.useState)((()=>null)),[U,V]=(0,h.useState)((()=>null)),W=e=>{const t=y;b.Conn.plugged||b.Conn.battery>15||(b.Conn.battery<=5?-2!==t&&e&&q():t>-1&&b.Conn.battery<=15&&e&&q())},H=(0,p.default)((()=>new r.ShiftTimer((()=>W(!1)))));function q(){H.current.onOrBefore(1e4)}const Y=(0,p.default)((()=>new r.ShiftTimer((e=>{D(e)})))),z=(0,p.default)((()=>new r.ShiftTimer((e=>{null==n||n(e)})))),K=()=>l.LegacyPhoneFeatures.supportsFeature(l.LegacyPhoneFeatures.F.USER_NOTICE)&&T.default.shouldShowButterBar&&null!=T.default.noticeId&&null!=T.default.banner&&!1===T.default.blocking;if((0,h.useEffect)((()=>{n&&n(R||L)}),[]),(0,_.default)((()=>{Y.current.cancel(),H.current.cancel(),z.current.cancel()})),(0,m.useListener)(b.Conn,["change:plugged","change:battery"],(()=>{W(!0)})),(0,m.useListener)(T.default,"change:noticeId",(()=>{B(!1)})),(0,m.useListener)(T.default,["change:banner","change:blocking"],(()=>{if(K()&&!L){new E.default.UserNotice({userNoticeId:T.default.noticeId,userNoticeContentVersion:T.default.policyVersion,userNoticeEvent:E.default.USER_NOTICE_EVENT.BANNER_APPEAR}).commit(),B(!0)}})),(0,m.useListener)(o.Cmd,"handle_fatal_error",(()=>{})),(0,m.useListener)(o.Cmd,"handle_low_storage_butter_bar",(()=>{})),(0,i.isMDBackend)()&&(A.Stream.displayInfo===A.StreamInfo.RESUMING||A.Stream.displayInfo===A.StreamInfo.TIMEOUT||y>0))return null;return(0,j.jsxs)(f.default,{transitionName:"butterbar",className:v.default.container,children:[null,null,null,null,(0,j.jsx)(M.default,{shouldShow:K(),banner:T.default.banner,theme:a,onDismissNotice:0===w.ServerProps.greenAlertBannerDuration?null:()=>{T.default.dismissButterBarNotice()}}),(0,j.jsx)(k.default,{displayInfo:A.Stream.displayInfo,needsUpdate:A.Stream.needsUpdate,primaryDeviceNeedsUpdate:(0,u.legacyUsersShouldUpdatePrimaryExperience)(),needsManualDownload:!1,lowBatteryWarning:y,showNotify:R,isMuted:s.isMuted,notifyPermission:x,showAwarenessMsg:c.showAwarenessMsg,showCountDownMsg:c.showCountDownMsg,daysLeftTillDeadline:c.daysLeftTillDeadline,expirationTime:c.expirationTime,onShowNotify:()=>{Y.current.onOrBefore(0,!1)},onShowNotifyDelay:()=>{Y.current.onOrBefore(1e4,!0),z.current.onOrBefore(0,!0)},onRequestPermissions:()=>{d.ModalManager.open((0,j.jsx)(C.GuidePopup,{messaging:C.Messaging.NOTIFICATIONS,onConfirm:O,onCancel:N,type:C.TYPE.GUIDE_ALLOW})),window.Notification.requestPermission((e=>{d.ModalManager.close(),I(e)}))},onDismissLowBatteryWarning:()=>{y>0&&S(-y)}})]})}function O(){d.ModalManager.close()}function N(){switch(c.UA.browser){case c.BROWSER_TYPE.CHROME:return(0,y.openExternalLink)((0,s.getNotificationChromeFaqUrl)());case c.BROWSER_TYPE.FIREFOX:return(0,y.openExternalLink)((0,s.getNotificationFirefoxFaqUrl)());case c.BROWSER_TYPE.SAFARI:return(0,y.openExternalLink)((0,s.getNotificationSafariFaqUrl)());case c.BROWSER_TYPE.OPERA:return(0,y.openExternalLink)((0,s.getNotificationOperaFaqUrl)());case c.BROWSER_TYPE.EDGE:return(0,y.openExternalLink)((0,s.getNotificationEdgeFaqUrl)());default:return(0,y.openExternalLink)((0,s.getNotificationChromeFaqUrl)())}}t.default=e=>{let{setShowButterBar:t}=e;return(0,j.jsx)(I,{stream:A.Stream,notice:T.default,mute:x.MuteCollection.globalMute(),mdOptInDeadline:S.default,setShowButterBar:t})}},30508:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{action:t=null,onDismiss:n,type:a,text:p}=e,m=(0,r.default)(o.default.butterbar,{[o.default.action]:t,[o.default.computer]:"computer"===a||"generalAlert"===a||"updateWarning"===a,[o.default.phone]:"phone"===a,[o.default.notification]:"notification"===a||"updateNotification"===a,[o.default.battery]:"battery"===a,[o.default.update]:"update"===a||"updatePrimaryDevice"===a,[o.default.notice]:"notice"===a&&!s.Conn.isSMB,[o.default.noticeSmb]:"notice"===a&&s.Conn.isSMB,[o.default.fatal]:"fatal"===a,[o.default.nuxGreen]:"nuxGreen"===a,[o.default.nuxBlue]:"nuxBlue"===a,[o.default.mdOptInAwareness]:"mdOptInAwareness"===a,[o.default.mdOptInCountdown]:"mdOptInCountdown"===a}),g={computer:"alert-computer",phone:"alert-phone",notification:"alert-notification",updateNotification:"alert-update",updateWarning:"alert-update",battery:"alert-battery",update:"alert-update",notice:"alert-notice",fatal:"alert",generalAlert:"alert",nuxGreen:"business-description",nuxBlue:"collections_folder",mdOptInAwareness:"md-opt-in-green-light",mdOptInCountdown:"md-opt-in-yellow-light",updatePrimaryDevice:"alert-update-primary"},_=n?(0,f.jsx)("div",{className:o.default.controls,children:(0,f.jsx)(d.default,{className:o.default.controlsIcon,"aria-label":i.fbt._("Close",null,{hk:"19Jpec"}),name:"x",onClick:n})}):null,v=e.title?(0,f.jsx)("div",{className:o.default.title,children:e.title}):null,b=(0,f.jsx)(c.default,{name:g[e.type],"aria-label":e.iconDescription}),y=e.iconSvg&&(0,u.sanitizeNoticeSVG)(e.iconSvg),C=y?(0,f.jsx)("span",{"aria-label":e.iconDescription,dangerouslySetInnerHTML:{__html:y}}):b;let S;switch(e.type){case"notice":S=(0,f.jsx)(l.FlexRow,{className:o.default.noticeSvgWrapper,align:"center",justify:"center",children:C});break;case"fatal":S=(0,f.jsx)(l.FlexRow,{className:o.default.fatalSvgWrapper,align:"center",justify:"center",children:(0,f.jsx)(c.default,{name:g[e.type]})});break;case"nuxGreen":S=(0,f.jsx)(l.FlexRow,{className:o.default.nuxGreenSvgWrapper,align:"center",justify:"center",children:(0,f.jsx)(c.default,{name:g[e.type]})});break;case"nuxBlue":S=(0,f.jsx)(l.FlexRow,{className:o.default.nuxBlueSvgWrapper,align:"center",justify:"center",children:(0,f.jsx)(c.default,{name:g[e.type]})});break;case"mdOptInAwareness":S=(0,f.jsx)(c.default,{name:"md-opt-in-green-light"});break;case"mdOptInCountdown":S=(0,f.jsx)(c.default,{name:"md-opt-in-yellow-light"});break;case"generalAlert":S=(0,f.jsx)(l.FlexRow,{className:o.default.fatalSvgWrapper,align:"center",justify:"center",children:(0,f.jsx)(c.default,{name:g[e.type],width:36,height:36})});break;default:S=(0,f.jsx)(c.default,{name:g[e.type]})}return(0,f.jsx)("div",{className:o.default.wrapper,children:(0,f.jsxs)("div",{className:m,onClick:t,children:[(0,f.jsx)("div",{className:o.default.icon,children:S}),(0,f.jsxs)("div",{className:o.default.body,children:[v,(0,f.jsx)(h,{isNotice:"notice"===a,text:p})]}),_]})})};var r=a(n(94184)),i=n(48360),o=a(n(56642)),s=n(17239),l=n(29623),u=n(90995),d=a(n(38932)),c=a(n(23217)),f=n(85893);function h(e){let{isNotice:t,text:n}=e;return n?t?(0,f.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,u.sanitizeNoticeText)(n)},className:o.default.text}):(0,f.jsx)("div",{className:o.default.text,children:n}):null}},30295:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronUwpDeprecationButterBar=function(){const e=(0,u.default)();(0,d.default)((()=>{Date.now()>y&&m.Socket.logout(),e()}),6e4);return null;switch(null){case j.STAGE3:return(0,g.jsx)(P,{});case j.STAGE2:return(0,g.jsx)(A,{});case j.STAGE1:return(0,g.jsx)(w,{})}},t.getElectronDeprecationData=O,t.getElectronDeprecationStage=I,t.isUnsupportedOS=C,t.shouldShowButterBar=M;var r=n(14597),i=n(46718),o=n(91442),s=n(48360),l=n(67294),u=a(n(59312)),d=a(n(70393)),c=a(n(29237)),f=a(n(30508)),h=n(51238),p=n(12591),m=n(65044),g=n(85893);const _=Date.parse("2022-06-01"),v=Date.parse("2022-06-22"),b=Date.parse("2022-08-01"),y=(Date.parse("2022-09-01"),Date.parse("2022-10-01"));function C(){return"10.0.18362.0".localeCompare(process.getSystemVersion(),void 0,{numeric:!0,sensitivity:"base"})>0}const S=864e5,E=7*S;function x(){r.ModalManager.open((0,g.jsx)(h.ElectronUpdatePopup,{}))}function T(){(0,p.openExternalLink)("https://faq.whatsapp.com/web/download-and-installation/about-the-new-whatsapp-desktop-experience")}function M(){const e=Date.now(),t=o.userPreferencesStore.get(i.KEYS.LAST_ELECTRON_NOTIFICATION_CLOSE);if(e<_)return!1;if(null==t)return!0;const n=parseInt(t,10);return e>b&&e-n>=S||(e-n>S&&v-e<=S||(e-n>3*S&&v-e<=3*S||e-n>E&&v-e<=E))}function k(){const[e,t]=(0,l.useState)(M);return[e,()=>{t(!1),o.userPreferencesStore.set(i.KEYS.LAST_ELECTRON_NOTIFICATION_CLOSE,Date.now())}]}function w(){const[e,t]=k();if(!e)return null;const{title:n,text:a,buttonText:r,onClick:i}=O(j.STAGE1);return(0,g.jsx)("div",{"data-testid":"electron-deprecation-stage-1",children:(0,g.jsx)(f.default,{type:"updateNotification",title:n,text:(0,g.jsxs)(g.Fragment,{children:[a,(0,g.jsx)(c.default,{action:i,children:r})]}),onDismiss:t},"bbar")})}function A(){const[e,t]=k();if(!e)return null;const{title:n,text:a,buttonText:r,onClick:i}=O(j.STAGE2);return(0,g.jsx)("div",{"data-testid":"electron-deprecation-stage-2",children:(0,g.jsx)(f.default,{type:"updateNotification",title:n,text:(0,g.jsxs)(g.Fragment,{children:[a,(0,g.jsx)(c.default,{action:i,children:r})]}),onDismiss:t},"bbar")})}function P(){const{title:e,text:t,buttonText:n,onClick:a}=O(j.STAGE3);return(0,g.jsx)("div",{"data-testid":"electron-deprecation-stage-3",children:(0,g.jsx)(f.default,{type:"updateWarning",title:e,text:(0,g.jsxs)(g.Fragment,{children:[t,(0,g.jsx)(c.default,{action:a,children:n})]})},"bbar")})}const j=n(76672).Mirrored(["STAGE1","STAGE2","STAGE3"]);function I(){return null}function O(e){const t=e===j.STAGE1||e===j.STAGE3&&C()?s.fbt._("Learn more",null,{hk:"2Pf3sK"}):s.fbt._("Update now",null,{hk:"4h5BWB"});switch(e){case j.STAGE3:const e=Date.now(),n=Math.floor((y-e)/S);if(C())return{onClick:T,buttonText:t,title:s.fbt._({"*":"App expires in {days_left} days",_1:"App expires in 1 day"},[s.fbt._plural(n,"days_left")],{hk:"325SbD"}),text:s.fbt._("You can either use WhatsApp Web, or update your operating system and download the new WhatsApp.",null,{hk:"ia3yb"})};const a=n<=1?s.fbt._("This version expires today at 11:59PM. Update to get performance improvements and new features.",null,{hk:"43rYpW"}):s.fbt._({"*":"This version expires in {days_left} days. Update to get performance improvements and new features, like group calling.",_1:"This version expires in 1 day. Update to get performance improvements and new features, like group calling."},[s.fbt._plural(n,"days_left")],{hk:"SfF6O"});return{title:s.fbt._("Update WhatsApp now",null,{hk:"1tIm0e"}),text:a,onClick:x,buttonText:t};case j.STAGE2:return{title:s.fbt._("New update is available",null,{hk:"cOnXj"}),text:s.fbt._("Get performance improvements and new features, like group calling.",null,{hk:"1hl4kM"}),onClick:x,buttonText:t};case j.STAGE1:return{title:s.fbt._("Update will be available soon",null,{hk:"4eHWOS"}),text:s.fbt._("A new version will be available starting June 22. After updating, you will need to log in again.",null,{hk:"106Uax"}),onClick:T,buttonText:t}}}},18779:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{shouldShow:t,banner:n,theme:a,onDismissNotice:o}=e;if(!t)return null;if(!(null==n?void 0:n.text))return null;const{iconDescription:s,text:l,iconSvg:u}=n;let d;u&&(d="light"===a?u.light:u.dark);return(0,i.jsx)(r.default,{type:"notice",text:l,iconSvg:d,iconDescription:null!=s?s:"",onDismiss:o},"noticebbar")};var r=a(n(30508)),i=n(85893)},28283:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,o.useState)(!0),n=(0,s.default)((()=>new r.ShiftTimer((()=>{t(!0)}))));(0,o.useEffect)((()=>()=>{n.current.cancel()}),[]);const a=()=>{c.Socket.poke(),t(!1),n.current.onOrAfter(3e3)};let h,p;e?(h=(0,f.jsxs)(f.Fragment,{children:[`${d.default.t(433)} `,(0,f.jsx)(l.default,{action:a,children:d.default.t(554)})]}),p=i.fbt._("Computer not connected",null,{hk:"300jSy"})):(h=null,p=d.default.t(210));return(0,f.jsx)(u.default,{type:"computer",title:p,text:h})};var r=n(57319),i=n(48360),o=n(67294),s=a(n(16223)),l=a(n(29237)),u=a(n(30508)),d=a(n(14296)),c=n(65044),f=n(85893)},65105:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{displayInfo:t,needsUpdate:n,primaryDeviceNeedsUpdate:a,needsManualDownload:i,lowBatteryWarning:f,showNotify:v,isMuted:b,notifyPermission:T,showAwarenessMsg:M,showCountDownMsg:k,daysLeftTillDeadline:w,expirationTime:A,onShowNotify:P,onShowNotifyDelay:j,onRequestPermissions:I,onDismissLowBatteryWarning:O}=e,N=null;switch(t){case _.StreamInfo.OFFLINE:N=(0,y.jsx)(m.default,{},"bbar");break;case _.StreamInfo.OPENING:case _.StreamInfo.CONNECTING:N=(0,y.jsx)(g.default,{},"bbar");break;case _.StreamInfo.NORMAL:break;case _.StreamInfo.RESUMING:case _.StreamInfo.TIMEOUT:const e=(0,y.jsxs)(y.Fragment,{children:[l.fbt._("Make sure your phone has an active Internet connection.",null,{hk:"4u0X1o"}),(0,y.jsx)(u.default,{action:S,children:h.default.t(397)})]});N=(0,y.jsx)(d.default,{type:"phone",title:l.fbt._("Phone not connected",null,{hk:"3Whn0S"}),text:e},"bbar")}!N&&f>0&&(N=(0,y.jsx)(d.default,{type:"battery",title:l.fbt._("Phone battery low",null,{hk:"1i4Y04"}),text:h.default.t(175),onDismiss:O},"bbar"));if(M||k){let e,t,n,a;M?(e="mdOptInAwareness",t=l.fbt._("New WhatsApp Web available",null,{hk:"1eBT4N"}),a=(0,o.mdMigrationExperience)()?l.fbt._("With this update, you can use WhatsApp Business on 4 other web devices without keeping your phone online.",null,{hk:"2qKI0w"}):l.fbt._("With this update, your phone won’t need to stay online to use WhatsApp Web.",null,{hk:"4CInCi"}),n=(0,y.jsxs)(y.Fragment,{children:[a,(0,y.jsx)("div",{className:c.default.mdOptInLink,children:l.fbt._("Get update",null,{hk:"10YWVu"})})]})):(e="mdOptInCountdown",t=l.fbt._("Update WhatsApp Web",null,{hk:"2thNci"}),(0,r.isNumber)(w)&&w>0?n=(0,y.jsxs)(y.Fragment,{children:[l.fbt._({"*":"This version expires in {num_days} days. Update to use WhatsApp Web without keeping your phone online.",_1:"This version expires in 1 day. Update to use WhatsApp Web without keeping your phone online."},[l.fbt._plural(w,"num_days")],{hk:"rjbxf"}),(0,y.jsx)("div",{className:c.default.mdOptInLink,children:l.fbt._("Get update",null,{hk:"10YWVu"})})]}):A&&(n=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.default,{id:438,params:{time:A}}),(0,y.jsx)("div",{className:c.default.mdOptInLink,children:l.fbt._("Get update",null,{hk:"10YWVu"})})]}))),N=(0,y.jsx)(d.default,{type:e,title:t,text:n,action:E},"bbar")}if(!N&&a){const e=(0,y.jsxs)(y.Fragment,{children:[l.fbt._("Update WhatsApp on your phone to make sure you’re using the latest features.",null,{hk:"1BowMr"}),(0,y.jsx)(u.default,{action:x,children:l.fbt._("Learn More",null,{hk:"2DUq2q"})})]});N=(0,y.jsx)(d.default,{type:"updatePrimaryDevice",title:l.fbt._("Your mobile app is out of date",null,{hk:"4h3W8O"}),text:e},"bbar")}if(!N&&n){const e=(0,y.jsx)(u.default,{children:h.default.t(185)});N=(0,y.jsx)(d.default,{type:"update",title:l.fbt._("Update available",null,{hk:"3XIG3f"}),text:e,action:C},"bbar")}if(null==N&&window.Notification&&T===s.PERMISSION_DEFAULT&&!b)if(v){const e=(0,y.jsx)(u.default,{children:h.default.t(254)});N=(0,y.jsx)(d.default,{type:"notification",title:l.fbt._("Get notified of new messages",null,{hk:"1d3TeN"}),text:e,action:I},"bbar")}else j();else v&&P();return N};var r=n(51737),i=n(21310),o=n(8139),s=n(10945),l=n(48360),u=a(n(29237)),d=a(n(30508)),c=a(n(56642)),f=n(12591),h=a(n(14296)),p=a(n(56074)),m=a(n(28283)),g=a(n(77676)),_=n(8080),v=n(83023),b=n(17879),y=n(85893);function C(){v.Updater.restart()}function S(){(0,f.openExternalLink)((0,i.getCannotConnectFaqUrl)())}function E(){(0,b.upgradeToMD)(!0)}function x(){(0,f.openExternalLink)((0,i.getUpdatePrimaryDeviceFaqUrl)())}},77676:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,o.useState)(!1),[n,a]=(0,o.useState)(!1),g=(0,s.default)(),_=(0,l.default)((()=>new r.ShiftTimer((()=>{t(!0),a(!0)})))),v=(0,l.default)((()=>new r.ShiftTimer((()=>{g()}))));(0,o.useEffect)((()=>(_.current.onOrBefore(3e3),()=>{_.current.cancel(),v.current.cancel()})),[]);const b=()=>{v.current.cancel(),_.current.onOrBefore(3e3),t(!1)};let y,C;if((0,u.useListener)(p.Socket,"change:state",b),h.Stream.displayInfo===h.StreamInfo.OPENING)y=f.default.t(209);else{if(h.Stream.displayInfo!==h.StreamInfo.CONNECTING)return null;y=f.default.t(210)}const S=()=>{p.Socket.poke(),b()};if(e){v.current.onOrAfter(1e3);let e=p.Socket.retryTimestamp-Date.now();if(isNaN(e)||e<1)e=f.default.t(564),setTimeout((()=>{p.Socket.poke()}),0);else if(e<6e4){const t=Math.ceil(e/1e3);e=f.default.t(566,{number:t,_plural:t})}else e=f.default.t(565,{duration:i.default.duration(e).humanize()});C=(0,m.jsxs)(m.Fragment,{children:[e,(0,m.jsx)(d.default,{action:S,children:f.default.t(563)})]})}else C=n?(0,m.jsx)("span",{children:f.default.t(564)}):null;return(0,m.jsx)(c.default,{type:"computer",title:y,text:C})};var r=n(57319),i=a(n(30381)),o=n(67294),s=a(n(59312)),l=a(n(16223)),u=n(87550),d=a(n(29237)),c=a(n(30508)),f=a(n(14296)),h=n(8080),p=n(65044),m=n(85893)},49107:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(99964)),i=a(n(45120)),o=a(n(52013)),s=a(n(40436)),l=n(48360),u=n(67294),d=a(n(56720)),c=a(n(37453)),f=a(n(44356)),h=n(65417),p=n(30695),m=a(n(54889)),g=n(11054),_=a(n(23217)),v=a(n(46603)),b=n(85893);const y={btnContext:{display:"l7jjieqr",width:"qg8w82as",height:"jdwybkuq",marginStart:"qnz2jpws",color:"s4k44ver",verticalAlign:"fewfhwl7"},btnContextHover:{":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"t5zm8b4w"}},product:{position:"g0rxnol2",top:"cy13c0w7"}};function C(e,t){const{contextEnabled:n,onContext:a}=e,[C,S]=(0,u.useState)(!1),[E,x]=(0,u.useState)(!1),T=(0,c.default)(E),M=(0,v.default)(),k=(0,u.useRef)(null),w=(0,u.useRef)(null),A=()=>w.current,P=()=>{i.default.maybeIndicateFocus(w.current)};Boolean(T)&&Boolean(!e.contextMenu)&&x(!1);const j=e=>{e.stopPropagation()},I=e=>{e.stopPropagation(),(n()||E)&&(e.preventDefault(),null==a||a({anchor:e.target}))},O=e=>{if((0,m.default)(e)){if(e.stopPropagation(),!n()&&!E)return;null==a||a({anchor:k.current})}},N=()=>k.current,R=()=>{(k||e.contextEnabled())&&o.default.focus(k.current)},D=()=>{C||E||!e.contextEnabled()||S(!0)},L=()=>{C&&S(!1)},B=()=>{var e;null===(e=k.current)||void 0===e||e.removeAttribute("aria-hidden")},F=()=>{var e;null===(e=k.current)||void 0===e||e.setAttribute("aria-hidden","true")};(0,u.useImperativeHandle)(t,(()=>({indicateFocus:P,focusOnContextMenuButton:R,mouseOver:D,mouseLeave:L,getContextMenuRef:N,getCellFrameDivRef:A})));const G="string"==typeof e.primary?(0,b.jsx)(h.EmojiText,{text:e.primary,direction:"auto",formatters:p.Configuration.Search({terms:e.searchText?[e.searchText]:[]}),titlify:!0,ellipsify:!0}):e.primary;let U=null,V=null;if(null!=e.pendingAction&&e.pendingAction>0)V=(0,b.jsx)("div",{className:(0,d.default)(y.btnContext,M&&y.btnContextHover),children:(0,b.jsx)(g.Spinner,{size:18,stroke:6,color:"highlight"})});else if(C||e.active){var W;const t=(0,d.default)(y.btnContext,"product"===e.theme&&y.product),n="chat-info"===e.theme;U=(0,b.jsx)("button",{"data-a8n":r.default.key("context-btn"),className:t,ref:k,onMouseDown:j,onClick:I,"aria-label":null!==(W=e.contextMenuAriaLabel)&&void 0!==W?W:l.fbt._("Open the chat context menu",null,{hk:"2rxtMR"}),onKeyDown:O,onFocus:B,onBlur:F,"aria-hidden":!0,tabIndex:e.contextMenuControlled?-1:0,children:(0,b.jsx)(_.default,{name:"down",color:n?"secondary":null})},"icon-context")}const H=(0,b.jsx)(s.default,{transitionName:"fade",children:V}),q=(0,b.jsx)(s.default,{transitionName:"pop-fast-chat",children:C?U:null});let Y,z;return null!=e.secondary?(Y=e.primaryDetail,z=[(0,b.jsx)(u.Fragment,{children:e.secondaryDetail},"prop"),(0,b.jsx)(u.Fragment,{children:H},"spinner"),(0,b.jsx)(u.Fragment,{children:q},"button")]):Y=[(0,b.jsx)(u.Fragment,{children:e.primaryDetail},"prop"),(0,b.jsx)(u.Fragment,{children:H},"spinner"),(0,b.jsx)(u.Fragment,{children:q},"button")],(0,b.jsx)(f.default,{a8n:e.a8n,setDivRef:e=>{w.current=e},image:e.image,customImage:e.customImage,className:e.className,unread:e.unread,active:e.active,idle:e.idle,checkbox:e.checkbox,isMuted:e.isMuted,dragging:e.dragging,theme:e.theme,primary:G,primaryDetail:Y,secondary:e.secondary,secondaryDetail:z,detail:e.detail,onClick:e.onClick,onMouseDown:e.onMouseDown,onContextMenu:e.contextEnabled()?e=>{n()&&(e.stopPropagation(),e.preventDefault(),a&&a({event:e}))}:null,onMouseEnter:C?null:()=>{C||E||!e.contextEnabled()||S(!0)},onMouseOver:C?null:D,onMouseLeave:C?L:null})}var S=(0,u.forwardRef)(C);t.default=S},65511:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Mode=t.Chat=void 0;var r=a(n(48926)),i=n(50796),o=n(92574),s=n(81572),l=n(72312),u=a(n(45120)),d=a(n(52013)),c=n(30764),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=se(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),h=n(8139),p=n(14597),m=a(n(89867)),g=n(48360),_=n(67294),v=n(55712),b=a(n(79928)),y=a(n(49107)),C=n(63183),S=n(69951),E=a(n(24141)),x=a(n(17589)),T=n(88172),M=a(n(52665)),k=n(17239),w=n(2732),A=a(n(92726)),P=a(n(39424)),j=n(88984),I=n(71174),O=a(n(63928)),N=a(n(45152)),R=n(29424),D=a(n(46040)),L=n(79259),B=a(n(14296)),F=n(41566),G=n(84387),U=n(47809),V=a(n(75109)),W=a(n(11339)),H=(n(72472),a(n(90922))),q=n(12176),Y=a(n(73437)),z=n(29894),K=a(n(15246)),$=n(78756),Q=n(92745),X=a(n(68132)),J=a(n(65932)),Z=n(18146),ee=n(13923),te=a(n(4478)),ne=a(n(55364)),ae=n(18644),re=a(n(24717)),ie=a(n(35148)),oe=n(85893);function se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(se=function(e){return e?n:t})(e)}const le={LAST:"LAST",INFO:"INFO"};t.Mode=le;const ue="Files";class de extends _.PureComponent{static getDerivedStateFromProps(e,t){const n={};let a=e.active&&e.active.value instanceof C.Chat&&m.default.equals(e.active.value.id,e.chat.id);e.active&&e.active.value instanceof m.default&&m.default.isGroup(e.active.value)&&(a=m.default.equals(e.active.value,e.chat.id)),t.active!==a&&(n.active=a);const r=e.searchQuery?e.searchQuery.trimmed():"";t.searchText!==r&&(n.searchText=r);const i=e.chat.id;return t.chatId!==i&&(n.chatId=i,n.unreadCount=e.chat.optimisticUnreadCount),n}constructor(e){var t;super(e),t=this,this._hoverCounter=0,this._setCellRef=e=>{this._cellRef=e},this._setHotKeysRef=e=>{this._hotKeysRef=e},this.state={active:!1,dragging:!1,searchText:"",contextMenu:null,chatId:null,unreadCount:0,showUnreadMentonIcon:!1},this._setUnreadCount=()=>{const e=this.props.chat.optimisticUnreadCount;e!==this.state.unreadCount&&this.setState({unreadCount:e})},this._prefetchGroupMetadata=()=>{var e;const{chat:t}=this.props;t.isGroup&&(null===(e=t.groupMetadata)||void 0===e?void 0:e.stale)&&O.default.find(t.id).catch((0,i.filteredCatch)([o.WebdDrop,f.ProtoVersionUndefined],(()=>{})))},this._handleSearch=()=>{this.props.searchQuery?this.setState({searchText:this.props.searchQuery.trimmed()}):__LOG__(3)`Chat: prop searchQuery is undefined`},this._handleActiveChange=(e,t)=>{if("focus"===e){const e=this._hotKeysRef;e&&(d.default.focus(e),t&&(0,$.scrollIntoViewIfNeeded)(e))}this.setState({active:!!e})},this.contextEnabled=()=>{const{noContext:e}=this.props;return!e},this.editLabel=()=>{const{selectableState:e,multiSelection:t}=this.props;!this.props.searchQuery||this.props.searchQuery.isEmptyQuery()?this.props.chat.archive?this.addOrRemoveLabelOnSelected():e&&t&&(e.setSelectable(!0),t.setVal((0,Z.unproxy)(this.props.chat))):this.addOrRemoveLabelOnSelected()},this.addOrRemoveLabelOnSelected=()=>{const e=[(0,Z.unproxy)(this.props.chat)];p.ModalManager.open((0,oe.jsx)(U.ManageLabelFlowLoadable,{modelsToUpdate:e}))},this._handleMenu=e=>{if(this.state.contextMenu)return void this.setState({contextMenu:null});const t=this.props.chat,n=[];t.canArchive()&&n.push((0,oe.jsx)(b.default,{onArchive:this._handleArchive,chat:(0,Z.unproxy)(t)},"archive")),t.mute.canMute()&&(t.archive&&this.props.hideMuteOption||n.push((0,oe.jsx)(H.default,{onMute:this._handleMute,mute:t.mute,chat:t,settings:X.default},"mute"))),n.push((0,oe.jsx)(P.default,{onDeleteOrExit:this._handleDeleteOrExit,chat:(0,Z.unproxy)(t)},"delete")),k.Conn.platform===k.PLATFORMS.IPHONE&&t.isBroadcast||!t.canPin()||n.push((0,oe.jsx)(K.default,{onPinOrUnpin:this._handlePinOrUnpin,chat:t},"pin")),(0,h.canEditLabelAssociation)()&&n.push((0,oe.jsx)(I.DropdownItem,{a8n:"mi-edit-label",action:this.editLabel,children:g.fbt._("Edit label",null,{hk:"3QX44B"})},"EditLabel")),t.canUnread&&n.push((0,oe.jsx)(V.default,{onMarkUnread:this._handleMarkUnread,chat:(0,Z.unproxy)(t)},"mark_unread")),this.setState({contextMenu:{menu:n,event:e.event,anchor:e.anchor}})},this._removeContext=()=>{this.setState({contextMenu:null})},this._handleMute=e=>{s.Cmd.muteChat((0,Z.unproxy)(this.props.chat),e)},this._handleArchive=e=>{s.Cmd.archiveChat((0,Z.unproxy)(this.props.chat),e)},this._handleDeleteOrExit=()=>{s.Cmd.deleteOrExitChat((0,Z.unproxy)(this.props.chat),this)},this._handlePinOrUnpin=function(){var e=(0,r.default)((function*(e){!e||(yield(0,z.getNumChatsPinned)())<3?s.Cmd.pinChat((0,Z.unproxy)(t.props.chat),e):S.ChatCollection.filter((e=>{var t;return e.shouldAppearInList&&(null!==(t=e.pin)&&void 0!==t?t:0)>0})).length>=3?p.ModalManager.open((0,oe.jsx)(M.default,{onOK:()=>p.ModalManager.close(),okText:g.fbt._("OK",null,{hk:"2KEeHb"}),children:B.default.t(33)})):p.ModalManager.open((0,oe.jsx)(M.default,{title:g.fbt._("You can only pin up to 3 chats",null,{hk:"2EThOp"}),onOK:()=>{(0,z.unpinAll)(),p.ModalManager.close()},okText:g.fbt._("Unpin All",null,{hk:"1C9Xfc"}),onCancel:()=>p.ModalManager.close(),cancelText:g.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,oe.jsx)(ee.TextDiv,{theme:"muted",children:g.fbt._("Some of your pinned chats can't be seen on this device. To pin a different chat, unpin all chats first.",null,{hk:"33NEQP"})})}))}));return function(){return e.apply(this,arguments)}}(),this._handleMarkUnread=e=>{s.Cmd.markChatUnread((0,Z.unproxy)(this.props.chat),e),e||this._clearUnreadMentions()},this._handleClick=e=>{const{onClick:t,chat:n}=this.props;t&&t(e,(0,Z.unproxy)(n))},this._handleMouseDown=e=>{0===e.button&&this._handleClick(e)},this._handleKeyboardActivation=e=>{e.preventDefault(),e.stopPropagation(),u.default.shouldIndicateFocus(),this._handleClick(e)},this._handleDragEnter=e=>{if(!this.props.chat.canSend)return;new A.default(e.dataTransfer).hasType(ue)&&(0===this._hoverCounter&&this.setState({dragging:!0}),this._hoverCounter+=1)},this._handleDragLeave=e=>{if(!this.props.chat.canSend)return;new A.default(e.dataTransfer).hasType(ue)&&(this._hoverCounter-=1,0===this._hoverCounter&&this.setState({dragging:!1}))},this._handleDrop=e=>{const{chat:t}=this.props;if(!t.canSend)return;this.setState({dragging:!1});const n=new A.default(e.dataTransfer);(n.hasType(ue)||n.hasType("text/uri-list")||n.hasType("text/html"))&&(0,l.getFiles)(e).then((e=>{s.Cmd.openChatFromUnread(t).then((n=>{n&&s.Cmd.attachMediaDrawer({chat:t,attachments:e.map((e=>({file:e}))),fileOrigin:W.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY})}))})).catch((0,i.filteredCatch)(f.MediaDragDropError,(e=>{s.Cmd.openChatFromUnread(t).then((n=>{n&&e.src&&T.ComposeBoxActions.paste(t,e.src)}))})))},this.indicateFocus=e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=this._cellRef)||void 0===t||t.indicateFocus()},this._toggleFocusInContact=()=>{this._hotKeysRef&&this._hotKeysRef!==document.activeElement?d.default.focus(this._hotKeysRef):this._cellRef&&this._cellRef.focusOnContextMenuButton()},this._handlers={enter:this._handleKeyboardActivation,space:this._handleKeyboardActivation,right:this._toggleFocusInContact,left:this._toggleFocusInContact},this._throttledSetUnreadCount=this.props.throttle(this._setUnreadCount,0,{leading:!1,tailing:!0})}componentDidMount(){var e;const{chat:t}=this.props;this.initListeners(this.props),t.isGroup&&(null===(e=t.groupMetadata)||void 0===e?void 0:e.stale)&&c.UIBusyTasks.enqueue(this._prefetchGroupMetadata)}componentDidUpdate(e){const{chat:t}=this.props;var n;t!==e.chat&&(t.isGroup&&(null===(n=t.groupMetadata)||void 0===n?void 0:n.stale)&&c.UIBusyTasks.enqueue(this._prefetchGroupMetadata));t.optimisticUnreadCount!==this.state.unreadCount&&this._throttledSetUnreadCount(),this.initListeners(this.props,e)}_clearUnreadMentions(){const{chat:e}=this.props;var t;(0,F.isGroupCatchUpEnabled)()&&e.isGroup&&(null===(t=e.groupMetadata)||void 0===t||t.unreadMentionMetadata.reset())}initListeners(e,t){const{listeners:n,active:a,chat:r,searchQuery:i,frequent:o}=e;(null==t?void 0:t.searchQuery)&&t.searchQuery!==i&&n.remove(t.searchQuery,Q.SEARCH_EVENT,this._handleSearch),!i||t&&i===t.searchQuery||n.add(i,Q.SEARCH_EVENT,this._handleSearch);const s=null==t?void 0:t.chat.id;if(!r.id.equals(s)&&((null==t?void 0:t.active)&&n.remove(t.active,t.chat.id.toString(),this._handleActiveChange),a)){const e=(o?w.FREQUENT_PREFIX:"")+r.id.toString();n.add(a,e,this._handleActiveChange)}}render(){let{chat:e,mode:t,secondary:n,theme:a,filterPreset:r,ephemeralIcon:i,hideArchivedIcon:o,hideMuteIcon:s,smallUnread:l,hidePin:u,fakePin:d}=this.props;const{searchText:c,active:f,dragging:h,contextMenu:p,unreadCount:m}=this.state;let g,_,b;switch(t){case le.LAST:g=(0,oe.jsx)(ne.default,{chat:e}),null==n&&(n=(0,oe.jsx)(x.default,{chat:e}),_=(0,oe.jsx)(D.default,{chat:e,mute:e.mute,unreadCount:m,hideArchivedIcon:!0===o,hideMuteIcon:!0===s,settings:X.default,unreadMentionIcon:e.hasUnreadMention,smallUnread:l,hidePin:u,fakePin:d}));break;case le.INFO:null==n&&(n=e.isGroup||e.isBroadcast?(0,oe.jsx)(Y.default,{groupMetadata:e.groupMetadata}):(0,oe.jsx)(ie.default,{contact:e.contact,presence:e.presence,chatstate:e.presence.chatstate,location:"list"}))}"chat-info"!==a&&"subgroup"!==a&&"community-tab-subgroup"!==a||(b=40);const C=(0,oe.jsx)(j.DetailImage,{id:e.id,size:b,waitIdle:!0,ephemeralIcon:i}),S=!0===this.props.showStatusRingAroundProfilePhoto?(0,oe.jsx)(E.default,{contact:e.contact,photoSize:b,waitIdle:!0}):C,T=this.props.mouseDownAsClick;let M;p&&(M=(0,oe.jsx)(ae.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:this._removeContext,children:(0,oe.jsx)(re.default,{contextMenu:p})}));const k=(0,oe.jsx)(q.Name,{chat:e,firstLabel:null==r?void 0:r.label,highlightText:c,showLabel:!0,titlify:!0,ellipsify:!0});let w=null;const A=e.getEphemeralSetting();return null!=A&&0!==A&&(w=(0,oe.jsx)(v.InvisibleLabel,{children:(0,L.getDisappearingMessageExplanationString)(A)})),(0,oe.jsx)(N.default.Provider,{value:e.groupMetadata,children:(0,oe.jsxs)(R.HotKeys,{ref:this._setHotKeysRef,handlers:this._handlers,onFocus:this.indicateFocus,onDragEnter:this._handleDragEnter,onDragLeave:this._handleDragLeave,onDrop:this._handleDrop,"aria-selected":f,tabIndex:f?0:-1,role:"row",children:[(0,oe.jsx)(y.default,{id:e.id,ref:this._setCellRef,theme:a,contextEnabled:this.contextEnabled,pendingAction:e.pendingAction,contextMenu:!!p,unread:0!==m,active:!!f,isMuted:!1,dragging:!!h,image:S,primary:k,primaryDetail:g,secondary:n,secondaryDetail:_,onClick:T?void 0:this._handleClick,onMouseDown:T?this._handleMouseDown:void 0,onContext:this._handleMenu}),w,M]})})}}de.CONCERNS={chat:["id","isReadOnly","isGroup","pendingAction","canSend","isUser","contact","presence","groupMetadata","mute","isBroadcast","canUnread","optimisticUnreadCount","labels","archive","hasUnreadMention","kind"]},de.defaultProps={mode:le.LAST},de.displayName="ChatImpl";const ce=(0,te.default)((0,G.ListenerHOC)((0,J.default)(de,de.CONCERNS)));t.Chat=ce},17589:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useModelValues)(e.chat,["previewMessage","pendingInitialLoading"]);(0,i.useModelValues)(e.chat.presence.chatstate,["id","type"]);const n=(0,i.useModelValues)(e.chat.presence,["hasData","withholdDisplayStage"],{isStrong:!1});if(n.isActive()){const e=n.getFormattedString();if(e)return(0,d.jsx)(s.EmojiText,{className:o.default.chatstateTyping,direction:"inherit",ellipsify:!0,titlify:!0,text:e})}const a=t.previewMessage;if(!a)return(0,r.isMDBackend)()&&t.pendingInitialLoading?(0,d.jsx)(s.EmojiText,{className:o.default.loadingIndicate,direction:"inherit",titlify:!0,ellipsify:!0,text:l.default.t(422)}):null;return(0,d.jsx)(u.default,{msg:a.safe(),msgType:"LastMessage"})};var r=n(88555),i=n(35461),o=a(n(48491)),s=n(65417),l=a(n(14296)),u=a(n(3982)),d=n(85893)},2732:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Contact=function(e){const t=(0,p.useModelValues)(e.contact,["id","pendingAction","notifyName","name","showBusinessCheckmarkAsPrimary","isGroup","statusMute"]),{secondary:n,onDelete:a,onClick:I,contextEnabled:O,contextMenu:N,admin:R=!1,showNotifyName:D,waitIdle:L,theme:B,useShortName:F,detail:G,isPendingParticipant:U=!1,ephemeralIcon:V,listenForAdminChange:W=!1,participantCollection:H,searchQuery:q,frequent:Y=!1,isParentGroup:z=!1}=e,K=(0,c.useRef)(null),$=(0,c.useRef)(null),Q=(0,f.default)(),[X,J]=(0,c.useState)(!1),[Z,ee]=(0,c.useState)(""),te=!!e.active&&(e.active.value instanceof _.default&&t.isProxyOf(e.active.value));X!==te&&J(te);Z!==(q?q.trimmed():"")&&ee(q?q.trimmed():"");(0,h.useListener)(q,x.SEARCH_EVENT,(()=>{q?ee(q.trimmed()):__LOG__(3)`Contact: prop searchQuery is undefined`}));const ne=(Y?j:"")+t.id.toString();(0,h.useListener)(e.active,ne,((e,t)=>{if("focus"===e){const e=$.current;e&&(s.default.focus(e),t&&(0,E.scrollIntoViewIfNeeded)(e))}J(!!e)})),(0,h.useListener)(W&&H?H:null,["change:isAdmin","change:isSuperAdmin"],(e=>{l.default.equals(e.id,t.id)&&Q()}));const ae=t=>{t.stopPropagation(),a&&a(t,(0,T.unproxy)(e.contact))},re=e=>{I&&I(e,(0,T.unproxy)(t))},ie=e=>{e.preventDefault(),e.stopPropagation(),re(e)},oe=(0,u.default)({[v.default.contactSmall]:e.type===P.SMALL});let se,le,ue;!t.name&&D&&t.notifyName&&(ue=(0,A.jsx)("span",{className:v.default.screenName,children:(0,A.jsx)(y.EmojiText,{direction:"auto",text:t.notifyName})}));const de=Boolean(R||W&&(null==H?void 0:H.assertGet(t.id).isAdmin));if(z){Boolean(W&&(null==H?void 0:H.assertGet(t.id).isSuperAdmin))?le=(0,A.jsx)("div",{className:v.default.markerAdmin,children:d.fbt._("Community Creator",null,{hk:"2CfYOt"})}):de&&(le=(0,A.jsx)("div",{className:v.default.markerAdmin,children:d.fbt._("Community Admin",null,{hk:"3ikZTf"})}))}else de&&(le=(0,A.jsx)("div",{className:v.default.markerAdmin,children:d.fbt._("Group admin",null,{hk:"1Eojfl"})}));U&&(le=(0,A.jsx)("div",{className:v.default.markerInvited,children:d.fbt._("Invited",null,{hk:"4yZipP"})}));if(null!=G)se=G;else if(a){const t=e.type===P.SMALL?"x-alt-small":"x-alt";se=(0,A.jsx)("div",{"data-a8n":o.default.key("chat-controls"),className:v.default.chatControls,role:"button",onClick:ae,children:(0,A.jsx)(w.default,{name:t})})}let ce=n;null==ce&&(ce=(0,A.jsx)(M.default,{id:t.id,waitIdle:L}));let fe=e.type===P.SMALL?26:void 0;"chat-info"===B&&(fe=40);const he=e.mouseDownAsClick;let pe;if(t.isGroup){const e=(0,i.default)(g.ChatCollection.get(t.id.toString()),"ChatCollection.get(contact.id.toString())");pe=(0,A.jsx)(S.Name,{chat:e,useShortName:F,highlightText:Z,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary,showLabel:!0,titlify:!0,ellipsify:!0})}else pe=(0,A.jsx)(S.Name,{contact:t,useShortName:F,highlightText:Z,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary,showLabel:!0,titlify:!0,ellipsify:!0,you:!0});const me="list-names"!==B||a?B:"list-names-no-delete",ge={id:t.id,size:fe,ephemeralIcon:V,waitIdle:L},_e=(0,A.jsx)(b.DetailImage,(0,r.default)({},ge)),ve=!0===e.showStatusRingAroundProfilePhoto?(0,A.jsx)(k.StatusV3ProfilePhotoRingWrapper,{contact:e.contact,waitIdle:L,photoSize:fe,hideWhenNoUnreadStatuses:!1}):_e;return(0,A.jsx)(C.HotKeys,{ref:$,handlers:{enter:ie,space:ie},onFocus:e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=K.current)||void 0===t||t.indicateFocus()},className:oe,children:(0,A.jsx)(m.default,{ref:K,theme:me,active:X,contextEnabled:O||(()=>!1),contextMenu:N,pendingAction:t.pendingAction,detail:se,image:ve,primary:pe,primaryDetail:le,secondary:ce,secondaryDetail:ue,onClick:he?null:re,onMouseDown:he?e=>{0===e.button&&re(e)}:null,onContext:n=>{var a;null===(a=e.onContext)||void 0===a||a.call(e,n,t)}})})},t.Type=t.FREQUENT_PREFIX=void 0;var r=a(n(81109)),i=a(n(45095)),o=a(n(99964)),s=a(n(52013)),l=a(n(89867)),u=a(n(94184)),d=n(48360),c=n(67294),f=a(n(59312)),h=n(87550),p=n(35461),m=a(n(49107)),g=n(69951),_=a(n(121)),v=a(n(13506)),b=n(88984),y=n(65417),C=n(29424),S=n(12176),E=n(78756),x=n(92745),T=n(18146),M=a(n(73561)),k=n(93795),w=a(n(23217)),A=n(85893);const P={SMALL:"SMALL",DEFAULT:"DEFAULT"};t.Type=P;const j="freq_";t.FREQUENT_PREFIX=j},47834:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useModelValues)(e.msgInfoParticipant,["t"]),n=(0,i.useModelValues)(e.contact,["id","name","formattedName","notifyName"]),a=(0,d.jsx)(s.DetailImage,{id:n.id}),c=r.Clock.relativeDateAndTimeStr(t.t),f=(0,d.jsx)("span",{title:c,children:c});let h;!n.name&&n.notifyName&&(h=(0,d.jsx)(l.EmojiText,{className:u.default.notifyName,direction:"auto",text:n.notifyName}));return(0,d.jsx)(o.default,{contextEnabled:()=>!1,image:a,primary:(0,d.jsx)(l.EmojiText,{direction:"auto",text:n.formattedName,titlify:!0,ellipsify:!0}),secondary:f,secondaryDetail:h,style:{cursor:"auto"},theme:e.theme,idle:!0})};var r=n(40234),i=n(35461),o=a(n(49107)),s=n(88984),l=n(65417),u=a(n(42684)),d=n(85893)},46040:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{unreadCount:t,hideArchivedIcon:n,unreadMentionIcon:a,smallUnread:g,hidePin:_,fakePin:v,hideMuteIcon:b}=e,y=(0,u.useModelValues)(e.chat,["id","archive","pin"]),C=(0,u.useModelValues)(e.mute,["isMuted"]),S=(0,u.useModelValues)(e.settings,["showArchiveV2"]),E=y.id,x=(0,d.default)(E),T=o.default.equals(x,E),M=(y.archive&&(0,r.archiveV2Supported)()&&S.showArchiveV2?!b:C.isMuted)?(0,m.jsx)("div",{className:c.default.icon,"aria-label":l.fbt._("Muted chat",null,{hk:"FRvtZ"}),children:(0,m.jsx)(h.default,{name:"muted"})},"icon-muted"):null,k=!0!==_&&null!=y.pin&&y.pin>0||!0===v?(0,m.jsx)("div",{className:(0,s.default)(c.default.icon,c.default.iconPinned),children:(0,m.jsx)(h.default,{name:"pinned2"})},"icon-pinned"):null,w=!0===g?(0,m.jsx)("div",{className:(0,s.default)(c.default.icon,c.default.iconSmallUnread)},"icon-unread"):(0,m.jsx)("div",{className:c.default.icon,children:(0,m.jsx)(p.default,{count:t})},"icon-unread"),A=0!==t?w:null,P=a?(0,m.jsx)("div",{className:(0,s.default)(c.default.icon,c.default.iconMentions),"aria-label":l.fbt._("@ message",null,{hk:"2UzXVt"}),children:(0,m.jsx)(h.default,{name:"mentions",className:c.default.iconMentions})},"icon-mentions"):null,j=y.archive&&!n?(0,m.jsx)("span",{className:(0,s.default)(c.default.icon,c.default.archived),children:f.default.t(176)},"icon-archived"):null;return(0,m.jsxs)(i.default,{transitionName:"pop",transitionEnter:T,transitionLeave:T,children:[M,j,k,P,A]})};var r=n(8139),i=a(n(40436)),o=a(n(89867)),s=a(n(94184)),l=n(48360),u=n(35461),d=a(n(37453)),c=a(n(17613)),f=a(n(14296)),h=a(n(23217)),p=a(n(72994)),m=n(85893)},3982:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,h.useModelValues)(e.msg,["ack","asBroadcastNotification","asGroupNotification","asProduct","asRevoked","dir","isGroupMsg","isNotification","isSentByMe","itemCount","rtl","senderObj","type","mediaData","message","isVcardOverMmsDocument","size","mdDowngrade"]),{searchQuery:n=[],msgType:a,author:w}=e,j=(0,c.default)();(0,f.useListener)(s.LegacyPhoneFeatures,s.LegacyPhoneFeatures.FEATURE_CHANGE_EVENT,j),t.type===u.MSG_TYPE.DOCUMENT&&t.isVcardOverMmsDocument&&(!t.mediaData||!t.mediaData.mediaBlob)&&t.isTrusted()&&t.unsafe().size<=1024*M.ServerProps.mmsVcardAutodownloadSizeKb&&t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:S.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1});(0,f.useListener)(t.type===u.MSG_TYPE.DOCUMENT&&t.mediaData&&t.isVcardOverMmsDocument?t.mediaData:null,"change:parsedVcards",j),(0,f.useListener)(t.type===u.MSG_TYPE.REVOKED?m.ContactCollection:null,["add","remove","change:name"],j);const I=[],O=t.isSentByMe&&!t.asRevoked;(0,o.isMDBackend)()?O&&!t.mdDowngrade&&I.push((0,A.jsx)(E.default,{msg:t.unsafe()},"symbol")):O&&I.push((0,A.jsx)(E.default,{msg:t.unsafe()},"symbol"));const N="Search"!==a&&!t.isSentByMe&&t.isGroupMsg&&!t.isNotification,R=w&&"Search"===a;(N||R)&&(N?I.push((0,A.jsx)(T.Name,{contact:t.senderObj,useShortName:!0},"author")):R&&I.push((0,A.jsx)(g.EmojiText,{text:w,direction:"auto"},"author")),I.push((0,A.jsx)("span",{children:": "},"divider")));(0,l.areStatusQuickRepliesEnabled)()&&t.isStatusReply()&&I.push((0,A.jsx)(P,{}));!t.hasSymbol()||t.isStatusReply()&&!(0,l.areStatusQuickRepliesEnabled)()||I.push((0,A.jsx)(x.default,{msg:t.unsafe()},"msg-symbol"));"order"===t.type&&null!=t.itemCount&&I.push((0,A.jsxs)("div",{children:[y.default.t(395,{count:t.itemCount||0,_plural:t.itemCount||0}),t.message?(0,A.jsx)("span",{children:": "},"item-divider"):null]},"item-count"));if(null!=t.asGroupNotification)I.push((0,A.jsx)(b.default,{msg:t.asGroupNotification,clickable:!1},"status"));else if(null!=t.asBroadcastNotification)I.push((0,A.jsx)(p.default,{msg:t.asBroadcastNotification,clickable:!1},"broadcast_notification"));else{let e=t.asRevoked;(0,o.isMDBackend)()&&(e=e||t.mdDowngrade);const i=(0,d.default)({[C.default.product]:null!=t.asProduct,[C.default.italic]:e});I.push((0,A.jsx)(g.EmojiText,{className:i,direction:t.dir,text:(0,r.default)((0,v.default)((0,k.unproxy)(t.unsafe()),{stripFormatting:!1,formatAsLastMsg:!0,formatAsSearchResult:"Search"===a}).toString()||"",!0),dirMismatch:t.rtl!==y.default.isRTL(),formatters:_.Configuration[a]({mentions:t.mentionMap(),terms:n}),ellipsify:!0,inlineblock:!0},"status"))}const D=y.default.embedDir((0,v.default)((0,k.unproxy)(t.unsafe()),{stripFormatting:!1,formatAsSearchResult:"Search"===a}).toString()||"",t.rtl);return(0,A.jsx)("span",{className:C.default.last,title:D,"data-a8n":i.default.key("last-msg-status"),children:I})};var r=a(n(9384)),i=a(n(99964)),o=n(88555),s=n(38184),l=n(8139),u=n(15461),d=a(n(94184)),c=a(n(59312)),f=n(87550),h=n(35461),p=a(n(27295)),m=n(19380),g=n(65417),_=n(30695),v=a(n(57130)),b=a(n(76998)),y=a(n(14296)),C=a(n(32376)),S=a(n(11339)),E=a(n(93477)),x=a(n(32281)),T=n(12176),M=n(64551),k=n(18146),w=a(n(23217)),A=n(85893);function P(){return(0,A.jsx)(w.default,{className:C.default.statusReply,name:"status-v3-reply"})}},90463:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(51737),i=a(n(45120)),o=a(n(52013)),s=n(67294),l=a(n(49107)),u=n(29424),d=a(n(3982)),c=n(84387),f=n(17304),h=n(59871),p=n(12176),m=n(78756),g=n(92745),_=a(n(65932)),v=n(18146),b=a(n(55364)),y=n(85893);class C extends s.PureComponent{constructor(){super(...arguments),this.state={searchText:"",active:!1},this._refCell=(0,s.createRef)(),this.indicateFocus=e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=this._refCell.current)||void 0===t||t.indicateFocus()},this._handleClick=e=>{const t=this.props.onClick;if((0,r.isFunction)(t)){const{msg:n,chat:a}=this.props,r=h.MsgCollection.assertGet(n.id),i=a.getSearchContext(r);i.msg=r,t(e,(0,v.unproxy)(a),i)}},this._handleMouseDown=e=>{0===e.button&&this._handleClick(e)},this._handleEnter=e=>{e.preventDefault(),e.stopPropagation(),i.default.shouldIndicateFocus(),this._handleClick(e)},this._handleActiveChange=e=>{if("focus"===e){var t;const e=null===(t=this._refCell.current)||void 0===t?void 0:t.getCellFrameDivRef();e&&(o.default.focus(e),(0,m.scrollIntoViewIfNeeded)(e))}this.setState({active:!!e})},this._handleSearch=()=>{this.setState({searchText:this.props.searchQuery.trimmed()})}}static getDerivedStateFromProps(e){const{active:t,msg:n,searchQuery:a}=e,r=t&&t.value instanceof f.Msg&&t.value.id.equals(n.id);return{searchText:a.trimmed(),active:r}}initListeners(e,t){const{listeners:n,active:a,msg:r,searchQuery:i}=e;(null==t?void 0:t.searchQuery)&&t.searchQuery!==i&&n.remove(i,g.SEARCH_EVENT,this._handleSearch),!i||t&&i===t.searchQuery||n.add(i,g.SEARCH_EVENT,this._handleSearch);const o=t?t.msg.id:null;o&&!r.id.equals(o)&&((null==t?void 0:t.active)&&n.remove(t.active,t.msg.id.toString(),this._handleActiveChange),a&&n.add(a,r.id.toString(),this._handleActiveChange))}componentDidMount(){this.initListeners(this.props)}componentDidUpdate(e){this.initListeners(this.props,e)}render(){const{msg:e,chat:t,searchQuery:n,filterPreset:a}=this.props,{active:r}=this.state,i=(0,y.jsx)(b.default,{msg:e}),o=(0,y.jsx)(d.default,{msg:e.safe(),msgType:"FTSMessage",searchQuery:n.highlighted()}),s={enter:this._handleEnter};return(0,y.jsx)(u.HotKeys,{handlers:s,onFocus:this.indicateFocus,children:(0,y.jsx)(l.default,{ref:this._refCell,contextEnabled:()=>!1,theme:"chat-checkbox"===this.props.theme?"cell-message-checkbox":"cell-message",active:!!r,primary:(0,y.jsx)(p.Name,{chat:t,labels:e.labels,firstLabel:null==a?void 0:a.label,showLabel:!0,titlify:!0,ellipsify:!0}),primaryDetail:i,secondary:o,onClick:this._handleClick})})}}C.CONCERNS={msg:["id","isSentByMe","isGroupMsg","isNotification","senderObj","dir","rtl","type","labels"],chat:["id","isUser","contact","formattedTitle","groupMetadata"]},C.displayName="Message";var S=(0,c.ListenerHOC)((0,_.default)(C,C.CONCERNS));t.default=S},93477:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useModelValues)(e.msg,["ack"]).ack;let n,a;t<r.ACK.SENT?n="status-time":t===r.ACK.SENT?n="status-check":t===r.ACK.RECEIVED?n="status-dblcheck":(n="status-dblcheck",a=s.default.ackBlue);return(0,u.jsx)("div",{className:(0,i.default)(s.default.ack,a),children:(0,u.jsx)(l.default,{name:n})})};var r=n(35470),i=a(n(94184)),o=n(35461),s=a(n(74558)),l=a(n(23217)),u=n(85893)},32281:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const n=(0,l.default)(),a=(0,d.useModelValues)(e.msg,["ack","isGif","isLive","isViewOnce","type","subtype","asRevoked","isSentByMe","paymentCurrency","paymentAmount1000","paymentStatus","paymentTxnStatus","mediaData","interactiveType","nativeFlowName"]),p=null===(t=a.mediaData)||void 0===t?void 0:t.parsedVcards,y=function(e,t){switch(e.type){case o.MSG_TYPE.IMAGE:case o.MSG_TYPE.VIDEO:return e.isViewOnce?!0!==t.viewOnceStatic&&(0,_.isViewed)(e.safe())?"view-once-viewed":"view-once":e.isGif?"status-gif":e.type===o.MSG_TYPE.VIDEO?"status-video":"status-image";case o.MSG_TYPE.AUDIO:return e.isGif?"status-gif":"status-audio";case o.MSG_TYPE.VCARD:case o.MSG_TYPE.MULTI_VCARD:return e.isGif?"status-gif":"status-vcard";case o.MSG_TYPE.DOCUMENT:return e.isGif?"status-gif":t.parsedVcards?"status-vcard":"status-document";case o.MSG_TYPE.CIPHERTEXT:return e.isGif?"status-gif":"status-ciphertext";case o.MSG_TYPE.UNKNOWN:return e.isGif?"status-gif":"status-unknown";case o.MSG_TYPE.PRODUCT:return"business-description";case o.MSG_TYPE.STICKER:return"status-sticker";case o.MSG_TYPE.CALL_LOG:switch(e.subtype){case"miss_video":case"miss_group_video":return"status-miss_video"}return"status-miss";case o.MSG_TYPE.PTT:return"status-ptt";case o.MSG_TYPE.REVOKED:return"recalled";case o.MSG_TYPE.LOCATION:return e.isLive?(0,m.liveLocationIcon)(!1):"status-location";case o.MSG_TYPE.GROUPS_V4_INVITE:return"group";case o.MSG_TYPE.PAYMENT:return"status-unknown";case o.MSG_TYPE.ORDER:return"shopping-cart";case o.MSG_TYPE.INTERACTIVE:return e.interactiveType===c.default.SHOPS_STOREFRONT?"shop-filled":e.interactiveType===c.default.NATIVE_FLOW&&e.nativeFlowName===h.default.ORDER_DETAILS?"receipt":"status-unknown";case o.MSG_TYPE.NATIVE_FLOW:return e.nativeFlowName===h.default.ORDER_DETAILS?"receipt":"status-unknown";case o.MSG_TYPE.POLL_CREATION:return"status-poll"}return __LOG__(2)`chat:getClasses Invalid msg type:"${e.type}"`,"status-unknown"}(a,{parsedVcards:p,viewOnceStatic:e.viewOnceStatic});(0,u.useListener)(i.LegacyPhoneFeatures,i.LegacyPhoneFeatures.FEATURE_CHANGE_EVENT,n);const C=(0,s.default)(f.default.symbol,y,{[f.default.margin]:!a.asRevoked,[f.default.miss]:a.type===o.MSG_TYPE.CALL_LOG,[f.default.pttBlue]:a.type===o.MSG_TYPE.PTT&&a.ack===r.ACK.PLAYED,[f.default.pttGreen]:a.type===o.MSG_TYPE.PTT&&a.ack!==r.ACK.PLAYED&&!a.isSentByMe});return(0,v.jsx)("div",{className:C,children:a.type===o.MSG_TYPE.PAYMENT?b(a):(0,v.jsx)(g.default,{name:y})})};var r=n(35470),i=n(38184),o=n(15461),s=a(n(94184)),l=a(n(59312)),u=n(87550),d=n(35461),c=a(n(84064)),f=a(n(57305)),h=a(n(5165)),p=a(n(43309)),m=n(87699),g=a(n(23217)),_=n(84728),v=n(85893);function b(e){if("invite"===e.subtype)return null;return e.paymentAmount1000&&e.paymentCurrency?(0,v.jsx)(p.default,{currency:e.paymentCurrency,subtype:e.subtype,paymentStatus:e.paymentStatus,paymentTxnStatus:e.paymentTxnStatus,isCompact:!0}):(0,v.jsx)(g.default,{name:"status-unknown"})}},73561:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{id:t}=e,[n,a]=(0,i.useState)((()=>p.StatusCollection.get(t))),o=(0,l.default)(t);if((0,i.useEffect)((()=>{if(!n){const e=u.ContactCollection.gadd(t);a(e.getStatus())}}),[]),(0,i.useEffect)((()=>{if(!r.default.equals(t,o)){const e=u.ContactCollection.gadd(t);a(e.getStatus())}}),[t,o]),!n)return g;return(0,m.jsx)(_,{status:n,waitIdle:e.waitIdle})};var r=a(n(89867)),i=n(67294),o=a(n(56720)),s=n(35461),l=a(n(37453)),u=n(19380),d=n(65417),c=a(n(76239)),f=a(n(14296)),h=n(18146),p=n(46133),m=n(85893);const g=(0,m.jsx)("span",{className:(0,o.default)({display:"f804f6gw",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"hp667wtd",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"}),children:f.default.t(215)});function _(e){const t=(0,s.useModelValues)(e.status,["id","stale","status"],{isStrong:!1}),n=(0,m.jsx)(d.EmojiText,{direction:"auto",selectable:!0,titlify:!0,text:t.status,breakWord:!0}),a=(0,h.unproxy)(t).stale?g:n;return(0,m.jsx)(c.default,{id:t.id,onComplex:()=>(p.StatusCollection.find(t.id),void 0!==t.status?n:g),waitIdle:e.waitIdle,children:a})}},55364:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(88555),i=n(40234),o=n(81572),s=a(n(30381)),l=n(67294),u=a(n(59312)),d=n(87550),c=n(35461),f=n(85893);function h(e){const{t}=e,n=(0,u.default)(),a=(0,c.useModelValues)(e.msg,["t"]);(0,d.useListener)(i.Clock,i.HOUR24_FORMAT_CHANGE_EVENT,n);const h=(0,l.useCallback)((()=>(0,r.isMDBackend)()&&null!=t?t:a.t),[a.t,t]),p=(0,l.useMemo)((()=>{const e=(0,s.default)().startOf("day").subtract(7,"day");return h()>=e.unix()}),[h]);return(0,d.useListener)(p?o.Cmd:null,"midnight",n),(0,f.jsx)(f.Fragment,{children:i.Clock.relativeStr(h())})}const p=function(e){const t=(0,c.useModelValues)(e.chat,["previewMessage","t"]);return t.previewMessage?(0,f.jsx)(h,{msg:t.previewMessage,t:t.t}):null},m=h;t.default=e=>{let{chat:t,msg:n}=e;return t?(0,f.jsx)(p,{chat:t}):n?(0,f.jsx)(m,{msg:n}):null}},14421:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t=!1,customSecondaryText:n,active:a,allowBlockedContacts:p,ephemeralIcon:m,onSelect:g,theme:_}=e,[v,b]=(0,i.useState)(null),y=(0,o.useModelValues)(e.contact,["id","isGroup","isContactBlocked","pendingAction","shortName","name"]),C=()=>{b(null)},S=()=>{C(),y.addPendingAction((0,s.unblockContact)(y)).then((()=>g())).catch((()=>{}))};let E;v&&(E=(0,h.jsx)(c.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,children:(0,h.jsx)(f.default,{contextMenu:v})}));let x="chat-checkbox";(t||y.isContactBlocked&&!p)&&(x="multi-select-chat-list"===_?"chat-checkbox-disabled":"chat-checkbox-no-delete");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.Contact,{theme:x,active:a,contact:y,onClick:t?null:e=>{t||(p?g():v?C():y.isContactBlocked?(e=>{const t=[(0,h.jsx)(u.DropdownItem,{a8n:"unblock-contact-in-multi-select",action:S,children:d.default.t(205,{contact:y.shortName||y.name})},"unblock")];b({contactId:y.id.toString(),menu:t,anchor:e.anchor,event:e.event})})({event:e}):g())},secondary:y.isContactBlocked&&!p?r.fbt._("Blocked. Click to unblock",null,{hk:"1eYigB"}):n||null,waitIdle:!0,ephemeralIcon:m}),E]})};var r=n(48360),i=n(67294),o=n(35461),s=n(80140),l=n(2732),u=n(71174),d=a(n(14296)),c=n(18644),f=a(n(24717)),h=n(85893)},72994:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{count:t,transparentBg:n,ariaLabel:a}=e,u="";t>0&&(u=o.default.t(631,{count:o.default.n(t),_plural:t}));a&&(u=a);return(0,s.jsx)("span",{className:(0,i.default)(l.count,r.isOSMac&&l.countMac,n&&l.transparentBg),"aria-label":u,children:t>0?o.default.n(t):null})};var r=n(77144),i=a(n(56720)),o=a(n(14296)),s=n(85893);const l={count:{display:"l7jjieqr",minWidth:"cfzgl7ar",minHeight:"ei5e7seu",paddingTop:"h0viaqh7",paddingEnd:"tpmajp1w",paddingBottom:"c0uhu3dl",paddingStart:"riy2oczp",fontSize:"dsh4tgtl",fontWeight:"sy6s5v3r",lineHeight:"gz7w46tb",color:"lyutrhe2",textAlign:"qfejxiq4",verticalAlign:"fewfhwl7",backgroundColor:"ovhn1urg",borderTopStartRadius:"ap18qm3b",borderTopEndRadius:"ikwl5qvt",borderBottomEndRadius:"j90th5db",borderBottomStartRadius:"aumms1qt"},countMac:{minWidth:"il1gyv3w",paddingTop:"h0viaqh7",paddingEnd:"tpmajp1w",paddingBottom:"k07a8sro",paddingStart:"riy2oczp",fontWeight:"hnx8ox4h"},transparentBg:{color:"io08vzmp",backgroundColor:"thr4l2wc"}}},57355:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(93386)),i=a(n(91966)),o=(a(n(57538)),n(81572)),s=a(n(38224)),l=a(n(52013)),u=n(55715),d=n(48360),c=n(67294),f=(a(n(56720)),n(63183)),h=n(65511),p=n(69951),m=n(3198),g=a(n(61837)),_=n(88172),v=(a(n(121)),n(2732)),b=n(65417),y=a(n(51099)),C=n(50101),S=n(47915),E=n(30695),x=n(29424),T=n(29805),M=a(n(70842)),k=a(n(14296)),w=n(84387),A=a(n(90463)),P=(n(17304),n(72472),n(49001)),j=a(n(11497)),I=a(n(4478)),O=n(18644),N=n(89618),R=n(85893);const D={unreadChatsHeader:{paddingStart:"rn41jex5"}},L="SEC_CHATS",B="SEC_UNREAD_CHATS",F="SEC_CONTACTS",G="SEC_GROUPCHATS",U="SEC_STARRED",V="SEC_MSG",W="SEC_MUTED_CHATS",H="SEC_KEPT",q="ROW_CHATS",Y="ROW_CONTACTS",z="ROW_GROUPCHATS",K="ROW_STARRED",$="ROW_KEPT",Q="ROW_MSG";class X extends c.Component{static getDerivedStateFromProps(e){let t,n;return(0,T.isKeepInChatReadEnabled)()?(t=e.ftsResult.filter((e=>{let{keptBy:t}=e;return null!=t})),n=e.ftsResult.filter((e=>{let{star:t,keptBy:n}=e;return!t&&null==n}))):(t=[],n=e.ftsResult.filter((e=>{let{star:t}=e;return!t}))),{ftsStarred:e.ftsResult.filter((e=>{let{star:t}=e;return t})),ftsKept:t,ftsMessages:n}}_isKeyboardUser(){return this.context}_openSelected(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.props.selection.getVal();t&&(t instanceof f.Chat&&t!==p.ChatCollection.getActive()?o.Cmd.openChatFromUnread(t).then((n=>{n&&e&&_.ComposeBoxActions.focus(t)})):e&&_.ComposeBoxActions.focus(t))}constructor(e){super(e),this._handleClick=(e,t,n)=>(e.preventDefault(),e.stopPropagation(),(0,C.findChat)(t).then((e=>n?o.Cmd.openChatAt(e,n).then((t=>(t&&_.ComposeBoxActions.focus(e),e))):e!==p.ChatCollection.getActive()?o.Cmd.openChatFromUnread(e).then((t=>(t&&_.ComposeBoxActions.focus(e),e))):(_.ComposeBoxActions.focus(e),e)))),this._setRefHotKeys=e=>{this._refHotKeys=e},this.setRefUIE=e=>{this.uie=e},this.setRefList=e=>{this.refList=e},this._handleFocusList=()=>{this.refList&&this._refHotKeys&&l.default.focus(this._refHotKeys)},this.requestFocus=()=>{this.props.selection.reset(!1),this.props.selection.index>-1&&document.activeElement===document.body&&this._handleFocusList()},this._handleFocusSearch=e=>{e.stopPropagation(),e.preventDefault(),this.props.onFocusSearch()},this._handleCloseChat=e=>{e===this.props.selection.getVal()&&this.props.selection.unset(),this._openedChat=null},this.restoreFocus=()=>{this.props.selection.reset(!0)},this._handleMessageClick=(e,t,n)=>{const a=this._handleClick(e,t.id,n);a&&a.then((()=>this.props.onItemSelected("message",t)))},this._handleMultiSelect=(e,t,n)=>{const{multiSelection:a}=this.props;a&&a.setVal(e,t,n)},this._renderWrappedItem=(e,t)=>{const{multiSelection:n,selectableState:a}=this.props;return n&&a?(0,R.jsx)(y.default,{reason:"chat-list-item",children:(0,R.jsx)(g.default,{model:t,theme:"chat-checkbox",selectableState:a,multiSelection:n,onSelect:this._handleMultiSelect,children:e})}):e},this._handleChatClick=(e,t)=>{const n=this._handleClick(e,t.id);n&&n.then((()=>{t.isBroadcast?this.props.onItemSelected("broadcast_list",t):t.isGroup?this.props.onItemSelected("group",t):this.props.onItemSelected("chat",t)}))},this._handleContactClick=(e,t)=>{const n=this._handleClick(e,t.id);n&&n.then((e=>this.props.onItemSelected("contact",e)))},this.renderItem=e=>{const{searchQuery:t,filterPreset:n}=this.props;switch(e.type){case L:return(0,R.jsx)(j.default,{header:d.fbt._("Chats",null,{hk:"46DIdr"})});case B:return(0,R.jsx)(j.default,{xstyle:D.unreadChatsHeader,header:d.fbt._("Filtered By Unread",null,{hk:"46ZyXR"})});case F:return(0,R.jsx)(j.default,{header:d.fbt._("Contacts",null,{hk:"2jWpt9"})});case G:return(0,R.jsx)(j.default,{header:k.default.t(772)});case U:return(0,R.jsx)(j.default,{header:d.fbt._("Starred messages",null,{hk:"4wVbNG"})});case H:return(0,R.jsx)(j.default,{header:d.fbt._("Kept Messages",null,{hk:"2EHjF"})});case V:return(0,R.jsx)(j.default,{header:k.default.t(784)});case q:const{data:a}=e;return this._renderWrappedItem((0,R.jsx)(h.Chat,{chat:a,mode:h.Mode.LAST,searchQuery:t,filterPreset:n,onClick:this._handleChatClick,mouseDownAsClick:!0,selectableState:this.props.selectableState,multiSelection:this.props.multiSelection,active:this.props.selection,ephemeralIcon:"chat-list",showStatusRingAroundProfilePhoto:!0}),a);case Y:const{data:r}=e;return this._renderWrappedItem((0,R.jsx)(v.Contact,{contact:r,active:this.props.selection,searchQuery:t,onClick:this._handleContactClick,mouseDownAsClick:!0,waitIdle:!0}),r);case z:const{data:i}=e,o=i[0],s=this._getGroupChatSubtitle(i);return this._renderWrappedItem((0,R.jsx)(h.Chat,{chat:o,secondary:s,mode:h.Mode.LAST,searchQuery:t,filterPreset:n,onClick:this._handleChatClick,mouseDownAsClick:!0,selectableState:this.props.selectableState,multiSelection:this.props.multiSelection,active:this.props.selection}),o);case K:const{data:l}=e;return this._renderWrappedItem((0,R.jsx)(A.default,{msg:l,chat:l.chat,searchQuery:t,filterPreset:n,onClick:this._handleMessageClick,active:this.props.selection}),l);case $:const{data:u}=e;return this._renderWrappedItem((0,R.jsx)(A.default,{msg:u,chat:u.chat,searchQuery:t,filterPreset:n,onClick:this._handleMessageClick,active:this.props.selection}),u);case Q:const{data:c}=e;return this._renderWrappedItem((0,R.jsx)(A.default,{msg:c,chat:c.chat,searchQuery:t,filterPreset:n,onClick:this._handleMessageClick,active:this.props.selection}),c);default:throw new S.UnknownDataError(e)}},this._updateSelected=e=>{this._debouncedOpenSelected.cancel(),this.props.selection.setVal(e,!1),this._oldSelection=e},this._handleFocusGain=e=>{if(e.target===this._refHotKeys&&this._listPointerEvents)if(this.props.selection.index<0)this.focusFirst();else{const{uie:e}=this;e&&e.activate(),this.props.selection.reset(!0)}},this._handleListPointerEventsOn=()=>{this._listPointerEvents=!0},this._handleListPointerEventsOff=()=>{this._listPointerEvents=!1},this._listPointerEvents=!0,this._oldSelection=null,this._debouncedOpenSelected=this.props.debounce((()=>{this._openSelected(this._focusComposer),this._focusComposer=!1}),200),this.state={textsize:s.default.get().textsize,ftsStarred:[],ftsKept:[],ftsMessages:[],mutedChats:[],collapseMutedChatsEnabled:!1,mutedChatsCollapsed:!0}}componentWillUnmount(){const e=this.getSelection(),t=this.props.selection.getVal();!(null==t?void 0:t.isState)||this.props.isSearching||e.length||o.Cmd.closeChat(t)}_getHeight(){const{textsize:e}=this.state;return(0,m.getListHeightForTextsize)(e)}_getGroupChatSubtitle(e){var t;const n=e[1],a=e[0].groupMetadata,o=(null!==(t=null==a?void 0:a.participants)&&void 0!==t?t:[]).map((e=>e.contact)),s=(0,i.default)(o,n),l=(0,r.default)(n,s).map((e=>e.formattedShortNameWithNonBreakingSpaces)).join(k.default.t(257)),u=E.Configuration.Search({terms:[this.props.searchQuery.trimmed()]});return(0,R.jsx)(b.EmojiText,{text:l,formatters:u,titlify:!0,direction:"auto"})}getData(){const{chats:e,contacts:t,groupChats:n,isSearching:a,messages:r,searchQuery:i}=this.props,{ftsStarred:o,ftsMessages:s,ftsKept:l,mutedChats:u,mutedChatsCollapsed:d,collapseMutedChatsEnabled:c}=this.state,f=[];return a&&e.length>0?f.push({itemKey:"section-chats",type:L}):a||i.filter.kind!==P.SEARCH_FILTERS.UNREAD||f.push({itemKey:"section-chats",type:B}),!a&&c?(u.length>0&&f.push({itemKey:"section-collapse-muted",contentKey:`${String(d)}-${u.length}`,type:W,height:30}),d||f.push(...u.map((e=>({itemKey:`chat-${e.id.toString()}`,data:e,expanded:!d,type:q})))),f.push(...e.filter((e=>!e.mute.isMuted)).map((e=>({itemKey:`chat-${e.id.toString()}`,data:e,type:q}))))):f.push(...e.map((e=>({itemKey:`chat-${e.id.toString()}`,data:e,type:q})))),a&&t.length>0&&f.push({itemKey:"section-contacts",type:F}),f.push(...t.map((e=>({itemKey:`contact-${e.id.toString()}`,data:e,type:Y})))),a&&n.length>0&&f.push({itemKey:"section-groupchats",type:G}),f.push(...n.map((e=>({itemKey:`groupchat-${e[0].id.toString()}-${e[1].map((e=>e.id.toString())).join("-")}`,data:e,type:z})))),a&&o.length>0&&f.push({itemKey:"section-starred",type:U}),f.push(...o.map((e=>({itemKey:`starred-${e.id.toString()}`,data:e,type:K})))),(0,T.isKeepInChatReadEnabled)()&&(a&&l.length>0&&f.push({itemKey:"section-kept",type:H}),f.push(...l.map((e=>({itemKey:`kept-${e.id.toString()}`,data:e,type:$}))))),a&&s.length>0&&f.push({itemKey:"section-msg",type:V}),f.push(...s.map((e=>({itemKey:`msg-${e.id.toString()}`,data:e,type:Q})))),a&&r.length>0&&f.push({itemKey:"section-msg",type:V}),f.push(...r.map((e=>({itemKey:`msg-${e.id.toString()}`,data:e,type:Q})))),f}_scrollListIntoFocusedItem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.refList&&this.refList.scrollIntoViewIfNeeded(this.props.selection.index,e)}componentDidMount(){this.props.selection.init(this.getSelection()),this.props.listeners.add(o.Cmd,"focus_chat_list",this.restoreFocus),this.props.listeners.add(o.Cmd,"focus_next_chat",(e=>{this._handleNextChat(null,!0,e)})),this.props.listeners.add(o.Cmd,"focus_prev_chat",(e=>{this._handlePrevChat(null,!0,e)})),this.props.listeners.add(o.Cmd,"update_chatlist_selection",this._updateSelected),this.props.listeners.add(o.Cmd,"close_chat",this._handleCloseChat),this.props.listeners.add(o.Cmd,"open_chat",(e=>{this._openedChat=e})),this.props.listeners.add(o.Cmd,"archive_chat",(e=>{e===this._openedChat&&(this._openedChat=null)})),this.props.listeners.add(o.Cmd,"textsize_change",(e=>{this.setState({textsize:e})}))}componentDidUpdate(e){var t;const n=e.selection.getVal(),a=!(e.isSearching||this.props.isSearching||this.props.searchQuery.hasFilter()||(null===(t=this._openedChat)||void 0===t?void 0:t.archive)),{selection:r}=this.props;r.init(this.getSelection(),a),r.list.includes(this._openedChat)&&r.getVal()!==this._openedChat&&!this._isKeyboardUser()&&r.setVal(this._openedChat);const i=this.props.selection.getVal();e.isSearching&&!this.props.isSearching&&!i&&this._oldSelection&&this.props.selection.setVal(this._oldSelection),i&&i!==n&&(this._focusComposer=!this._isKeyboardUser(),this._debouncedOpenSelected())}getSelection(){return[...this.props.chats,...this.props.contacts,...this.props.messages,...this.props.groupChats.map((e=>e[0])),...this.state.ftsStarred,...this.state.ftsMessages]}_handlePrevChat(e,t,n){e&&e.preventDefault();this.props.selection.prev()>-1?(this.props.selection.setPrev(!0),this._focusComposer=n,this._scrollListIntoFocusedItem(),this._debouncedOpenSelected()):t||(this._debouncedOpenSelected.cancel(),this._openSelected(),this.props.onFocusSearch())}_handleNextChat(e,t,n){e&&e.preventDefault();const a=this.props.selection.next();this.props.selection.index!==a&&(this.props.selection.setNext(!0),this._focusComposer=n,this._scrollListIntoFocusedItem(),this._debouncedOpenSelected())}focusFirst(){const{uie:e}=this;e&&e.activate(),this.props.selection.setFirst(),this._scrollListIntoFocusedItem(0),this._debouncedOpenSelected()}render(){var e;const{isSearching:t,chats:n}=this.props;let a;return a=t?d.fbt._("Search results.",null,{hk:"28LBod"}):d.fbt._("Chat list",null,{hk:"iikD9"}),(0,R.jsx)(O.UIE,{displayName:"Chatlist",ref:this.setRefUIE,uimState:N.UIMState.PASSIVE,requestFocus:this.requestFocus,children:(0,R.jsx)(x.HotKeys,{handlers:{down:e=>this._handleNextChat(e,!0),j:e=>this._handleNextChat(e,!0),up:e=>this._handlePrevChat(e,!0),k:e=>this._handlePrevChat(e,!0),"/":e=>this._handleFocusSearch(e)},onFocus:this._handleFocusGain,ref:this._setRefHotKeys,"data-tab":u.TAB_ORDER.CHAT_LIST,children:(0,R.jsx)(S.FlatList,{"aria-label":a,data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical",defaultItemHeight:this._getHeight(),onPointerEventsOff:this._handleListPointerEventsOff,onPointerEventsOn:this._handleListPointerEventsOn,ref:this.setRefList,role:"grid","aria-rowcount":null!==(e=null==n?void 0:n.length)&&void 0!==e?e:0})})})}}X.contextType=M.default,X.defaultProps={chats:[],groupChats:[]},X.displayName="Chatlist";const J=(0,w.ListenerHOC)((0,I.default)(X));t.default=class extends J{focusFirst(){return this.getComponent().focusFirst()}}},48654:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,i.useState)(!0);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.default,{setShowButterBar:t}),!e&&(0,r.isMDBackend)()&&(0,l.jsx)(s.default,{})]})};var r=n(88555),i=n(67294),o=a(n(42126)),s=a(n(67161)),l=n(85893)},47451:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{settings:t}=e,n=(0,m.default)(),a=(0,_.useModelValues)(e.mute,["isMuted"]),W=(0,p.useRef)(!1),H=(0,p.useRef)(!1),[q,Y]=(0,p.useState)(!1),[z,K]=(0,p.useState)(!1),[$]=(0,v.useTimeout)((()=>Y(!1)),100);(0,p.useEffect)((()=>{T.Conn.isSMB&&y.BusinessProfileCollection.find((0,d.getMaybeMeUser)()).then((()=>{K(!0)}))}),[]);const Q=()=>{H.current=!0};(0,g.useListener)(null,"BrowserWindow:focus",(()=>{})),(0,g.useListener)(null,"BrowserWindow:move",(function(){W.current||Q(...arguments)}));const X=(0,p.useMemo)((()=>y.BusinessProfileCollection.get((0,d.getMaybeMeUser)())),[]);(0,g.useListener)(X,"change:profileOptions",n);const J=()=>{const e=(0,d.getMaybeMeUser)(),t=B.StatusCollection.assertGet(e),n=N.ProfilePicThumbCollection.assertGet(e),a=M.ContactCollection.assertGet(e);i.DrawerManager.openDrawerLeft((0,V.jsx)(O.ProfileDrawerFlowLoadable,{status:t,profilePicThumb:n,contact:a,conn:T.Conn}))},Z=()=>{j.MuteCollection.globalMute().unmute(),u.ToastManager.open((0,V.jsx)(U.Toast,{msg:w.default.t(331),id:(0,U.genId)()}))},ee=()=>{(0,o.canManageCollections)()&&R.QPL.markerStart(D.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}}),(0,S.openCatalogManagementFlow)(null,P.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_TOP_BAR)},te=()=>{s.ModalManager.open((0,V.jsx)(L.default,{}))};let ne=null;a.isMuted&&(ne=(0,V.jsx)(A.MenuBarItem,{a8nText:"menu-bar-unmute",tabOrder:l.TAB_ORDER.CHATLIST_HEADER,icon:(0,V.jsx)(G.default,{name:"dnd"}),title:w.default.t(330),onClick:Z},"btn-dnd"));let ae,re=(0,V.jsx)("div",{className:E.default.listUser,children:(0,V.jsx)(k.DetailImage,{id:(0,d.getMaybeMeUser)(),size:40,onClick:J})});if((0,r.isMDBackend)()){if(z&&!(0,o.blockCatalogCreationECommerceComplianceIndia)(X)&&T.Conn.isSMB&&(0,b.getABPropConfigValue)("web_abprop_catalog_icon_on_top_bar")){let e;const t=(0,o.bannedShopsEnabled)()&&(0,C.isShopBanned)(X);(0,C.hasShop)(X)?t||(e=(0,V.jsx)(A.MenuBarItem,{a8nText:"menu-bar-shops",tabOrder:l.TAB_ORDER.CHATLIST_HEADER,icon:(0,V.jsx)(G.default,{name:"shop-filled",directional:!0,className:E.default.shopsIcon}),title:h.fbt._("Shop",null,{hk:"Xb7yl"}),onClick:te})):e=(0,V.jsx)(A.MenuBarItem,{tabOrder:l.TAB_ORDER.CHATLIST_HEADER,a8nText:"menu-bar-catalog",icon:(0,V.jsx)(G.default,{name:"catalog-filled",directional:!0}),title:h.fbt._("Catalog",null,{hk:"8mkiP"}),onClick:ee}),ae=(0,V.jsx)("div",{className:E.default.commerceIconContainer,children:e})}const e=(0,b.getABPropConfigValue)("md_migration_experience");if(0===e||1===e){const e=(0,V.jsx)("div",{className:E.default.betaIcon,children:(0,V.jsx)("b",{className:E.default.betaIconText,title:h.fbt._("You're using the multi-device beta",null,{hk:"2ZPoxx"}),children:h.fbt._("BETA",null,{hk:"23OBCm"})})});re=(0,V.jsxs)("div",{className:E.default.listUserBeta,children:[(0,V.jsx)(k.DetailImage,{id:(0,d.getMaybeMeUser)(),size:40,onClick:J}),e]})}}return(0,V.jsxs)("header",{className:(0,f.default)(E.default.header,{[E.default.withCommerceIcon]:null!=ae}),onMouseDown:()=>{},onClickCapture:()=>{},children:[re,(0,V.jsx)("div",{className:E.default.listControls,children:(0,V.jsx)(A.MenuBar,{children:(0,V.jsxs)(c.default,{transitionName:"btn",children:[ne,ae,null,(0,V.jsx)(F.default,{}),(0,V.jsx)(A.MenuBarItem,{a8nText:"menu-bar-chat",tabOrder:l.TAB_ORDER.CHATLIST_HEADER,icon:(0,V.jsx)(G.default,{name:"chat",directional:!0}),title:h.fbt._("New chat",null,{hk:"2FNCEZ"}),onClick:e=>{e.preventDefault(),i.DrawerManager.openDrawerLeft((0,V.jsx)(I.NewChatFlowLoadable,{}))}}),(0,V.jsx)(A.MenuBarItem,{a8nText:"menu-bar-menu",tabOrder:l.TAB_ORDER.CHATLIST_HEADER,icon:(0,V.jsx)(G.default,{name:"menu"}),title:w.default.t(454),children:(0,V.jsx)(x.default,{settings:t})})]})},"chatlist-header")})]})};var r=n(88555),i=n(41455),o=n(8139),s=n(14597),l=n(55715),u=n(94816),d=n(78820),c=a(n(40436)),f=a(n(94184)),h=n(48360),p=n(67294),m=a(n(59312)),g=n(87550),_=n(35461),v=n(46428),b=n(57849),y=n(93581),C=n(94010),S=n(87912),E=a(n(8702)),x=a(n(95403)),T=(n(81178),n(17239)),M=n(19380),k=n(88984),w=a(n(14296)),A=n(46346),P=a(n(11339)),j=n(72472),I=n(92507),O=n(77117),N=n(82039),R=n(48870),D=n(27798),L=a(n(95042)),B=n(46133),F=a(n(36190)),G=a(n(23217)),U=n(50452),V=n(85893)},95403:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35470),i=n(41455),o=n(8139),s=n(14597),l=n(78820),u=n(48360),d=n(67294),c=n(78457),f=n(93581),h=n(94010),p=n(87912),m=a(n(70785)),g=a(n(52665)),_=n(17239),v=n(19380),b=(a(n(50485)),n(60811)),y=n(71174),C=a(n(14296)),S=n(90878),E=n(67883),x=(n(93045),a(n(11339))),T=n(59871),M=n(23620),k=n(26489),w=a(n(17085)),A=n(77117),P=n(82039),j=n(48870),I=n(27798),O=n(87956),N=n(64551),R=n(45383),D=a(n(95042)),L=n(82364),B=n(19011),F=n(46133),G=n(65044),U=n(85893);function V(){(0,h.goToCommerceManager)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)())),(0,E.logShopsManagementEvent)(x.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_IN_CATALOG_SETTING)}function W(){const e=T.MsgCollection.some((e=>e.ack===r.ACK.CLOCK&&e.local&&e.isSentByMe));(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.LOG_OUT);const t=e?C.default.t(609):u.fbt._("Are you sure you want to log out?",null,{hk:"3901Ia"});s.ModalManager.open((0,U.jsx)(g.default,{title:C.default.t(198),onOK:()=>G.Socket.logout(),okText:C.default.t(446),onCancel:()=>s.ModalManager.close(),cancelText:u.fbt._("Cancel",null,{hk:"H0gNq"}),children:t}))}function H(){i.DrawerManager.openDrawerLeft((0,U.jsx)(R.SettingsFlowLoadable,{})),(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.SETTINGS)}function q(){i.DrawerManager.openDrawerLeft((0,U.jsx)(c.ArchivedFlowLoadable,{})),new x.default.ChatFolderOpen({folderType:"Archive"}).commit(),(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.ARCHIVED)}function Y(){const e=(0,l.getMaybeMeUser)(),t=F.StatusCollection.assertGet(e),n=P.ProfilePicThumbCollection.assertGet(e),a=v.ContactCollection.assertGet(e);i.DrawerManager.openDrawerLeft((0,U.jsx)(A.ProfileDrawerFlowLoadable,{status:t,profilePicThumb:n,contact:a,conn:_.Conn}),void 0,void 0,void 0,O.FocusType.TABBABLE),(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.PROFILE)}function z(){i.DrawerManager.openDrawerLeft((0,U.jsx)(w.default,{}))}function K(){i.DrawerManager.openDrawerLeft((0,U.jsx)(S.LabelFlowLoadable,{})),(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.LABELS)}function $(){i.DrawerManager.openDrawerLeft((0,U.jsx)(L.StarredDrawerLoadable,{starredMsgs:B.AllStarredMsgsCollection})),(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.STARRED)}function Q(){i.DrawerManager.openDrawerLeft((0,U.jsx)(M.NewCommunityFlowLoadable,{}))}function X(){i.DrawerManager.openDrawerLeft((0,U.jsx)(k.NewGroupFlowLoadable,{})),(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.NEW_GROUP)}function J(){s.ModalManager.open((0,U.jsx)(D.default,{onViewShopClick:()=>{(0,E.logShopsManagementEvent)(x.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_IN_SHOPS_SETTING)},onCommerceManagerClick:()=>{(0,E.logShopsManagementEvent)(x.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_IN_SHOPS_SETTING)},onCancelClick:()=>{(0,E.logShopsManagementEvent)(x.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_IN_SHOPS_SETTING)}})),(0,E.logShopsManagementEvent)(x.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_SETTING)}function Z(){return!(!_.Conn.isSMB||!N.ServerProps.shopsHeaderDropdownMenuItem)&&(0,h.hasShop)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)()))}function ee(){if(Z()){const e=(0,o.bannedShopsEnabled)()&&(0,h.isShopBanned)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)()));s.ModalManager.open((0,U.jsx)(g.default,{title:u.fbt._("Catalog disabled",null,{hk:"2OkL2n"}),onOK:V,okText:u.fbt._("Commerce Manager",null,{hk:"2ZKedl"}),onCancel:()=>{s.ModalManager.close(),(0,E.logShopsManagementEvent)(x.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_IN_CATALOG_SETTING)},children:e?u.fbt._("You can’t restore your catalog at this time because we have disabled your shop for not complying with our policies. Learn more in Commerce Manager.",null,{hk:"qAqw2"}):u.fbt._("Your catalog is temporarily disabled because WhatsApp is a sales channel for your shop. To restore your catalog, go to Commerce Manager and set the shop’s visibility to “hidden”, or remove WhatsApp from the Business Manager account.",null,{hk:"pjZ4n"})})),(0,E.logShopsManagementEvent)(x.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CATALOG_SETTING)}else(0,o.canManageCollections)()&&j.QPL.markerStart(I.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ToolsMenu"}}}),(0,p.openCatalogManagementFlow)(null,x.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS),(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.CATALOG)}function te(e,t){(0,d.useRef)(-1);(0,d.useEffect)((()=>{(0,m.default)(x.default.WEBC_MENU_ITEM_LABEL.OPEN)}),[]);const n=(0,U.jsx)(y.DropdownItem,{a8n:"mi-new-group menu-item",action:X,children:u.fbt._("New group",null,{hk:"43A4qP"})}),a=(0,o.communityCreationEnabled)()?(0,U.jsx)(y.DropdownItem,{a8n:"mi-new-community menu-item",action:Q,children:u.fbt._("New community",null,{hk:"2fzGYI"})}):null,r=(0,U.jsx)(y.DropdownItem,{a8n:"mi-starred menu-item",action:$,children:u.fbt._("Starred messages",null,{hk:"4Da0Qc"})}),i=(0,o.canEditLabelAssociation)()&&(0,U.jsx)(y.DropdownItem,{a8n:"mi-setting menu-item",action:K,children:u.fbt._("Labels",null,{hk:"t1hII"})}),s=_.Conn.isSMB&&(0,o.orderManagementEnabled)()&&(0,U.jsx)(y.DropdownItem,{a8n:"mi-orders menu-item",action:z,children:String(u.fbt._("Orders",null,{hk:"brape"}))}),c=_.Conn.isSMB&&!(0,o.blockCatalogCreationECommerceComplianceIndia)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)()))?(0,U.jsx)(y.DropdownItem,{a8n:"mi-catalog menu-item",action:ee,children:Z()?u.fbt._("Catalog (temporarily disabled)",null,{hk:"1386cg"}):u.fbt._("Catalog",null,{hk:"3QDkTE"})}):null,p=_.Conn.isSMB?(0,U.jsx)(y.DropdownItem,{a8n:"mi-profile-status menu-item",action:Y,children:C.default.t(450)}):null,g=Z()?(0,U.jsx)(y.DropdownItem,{a8n:"mi-shop menu-item",action:J,children:(0,o.bannedShopsEnabled)()&&(0,h.isShopBanned)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)()))?u.fbt._("Shop (disabled)",null,{hk:"26yLAy"}):u.fbt._("Shop",null,{hk:"T4w0U"})}):null;return(0,U.jsxs)(b.Dropdown,{ref:t,type:b.MenuType.DropdownMenu,flipOnRTL:!0,dirX:b.DirX.LEFT,testid:"chatlist-header-dropdown",children:[n,null,null,a,p,g,c,s,(0,o.archiveV2Supported)()&&e.settings.showArchiveV2?null:(0,U.jsx)(y.DropdownItem,{a8n:"mi-archived menu-item",action:q,children:u.fbt._("Archived",null,{hk:"2Sj4rE"})}),r,i,(0,U.jsx)(y.DropdownItem,{a8n:"mi-setting menu-item",action:H,testid:"chatlist-dropdown-item-settings",children:C.default.t(452)}),null,(0,U.jsx)(y.DropdownItem,{a8n:"mi-logout menu-item",action:W,children:C.default.t(446)})]},"ChatlistHeader")}var ne=(0,d.forwardRef)(te);t.default=ne},70785:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){new r.default.WebcMenu({webcMenuAction:r.default.WEBC_MENU_TYPE.THREADS_SCREEN_CLICK,webcMenuItemLabel:e}).commit()};var r=a(n(11339))},47488:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81109)),o=r(n(48926)),s=r(n(82569)),l=r(n(35161)),u=r(n(23279)),d=n(89385),c=r(n(47259)),f=n(57319),h=n(88555),p=n(61957),m=n(81572),g=r(n(64369)),_=r(n(38224)),v=n(41455),b=r(n(45120)),y=r(n(52013)),C=n(41906),S=n(38184),E=n(8139),x=r(n(78931)),T=r(n(97039)),M=r(n(62831)),k=(r(n(40436)),r(n(89867)),r(n(94184))),w=n(48360),A=n(67294),P=(r(n(56720)),r(n(5280))),j=n(69951),I=r(n(57355)),O=r(n(48654)),N=r(n(47451)),R=r(n(96633)),D=n(3198),L=n(88172),B=n(19380),F=r(n(58654)),G=n(48256),U=n(85600),V=r(n(51099)),W=n(50101),H=n(44663),q=(n(47915),r(n(44942))),Y=r(n(30855)),z=n(80872),K=r(n(84937)),$=n(29424),Q=r(n(41955)),X=r(n(14296)),J=n(16770),Z=n(59802),ee=n(41566),te=r(n(48837)),ne=n(84387),ae=r(n(11339)),re=r(n(63538)),ie=n(59871),oe=n(72472),se=r(n(21011)),le=n(49001),ue=n(92745),de=r(n(86365)),ce=n(64551),fe=r(n(88406)),he=r(n(35641)),pe=n(11054),me=r(n(65932)),ge=(r(n(23217)),r(n(4478))),_e=n(18644),ve=r(n(90012)),be=n(85893);const ye=450,Ce=75;function Se(){return(0,E.canDisplayLabel)()||(0,E.smartFiltersEnabled)()||(0,E.chatlistFiltersV1Enabled)()}class Ee extends A.Component{constructor(e){var t;super(e),t=this,this._refPanel=null,this.flatListController=new Y.default,this._batchState={},this.setRefSearch=e=>{this.refSearch=e},this._setRefInputHotkey=e=>{this._refInputHotkey=e},this._refChatlist=(0,A.createRef)(),this._smbFilterSession=new he.default,this._hasLabelEditGK=!1,this._refContainer=(0,A.createRef)(),this._debounceSetState=new f.ShiftTimer((()=>{this.setState(this._batchState),this._batchState={}})),this.debounceSetState=(e,t,n)=>{Object.assign(this._batchState,e),void 0===t?this._debounceSetState.onOrBeforeRepaint():void 0===n?this._debounceSetState.debounce(t):this._debounceSetState.debounceAndCap(t,n)},this._updateLabelFeatureFlagChange=()=>{!this._hasLabelEditGK&&(0,E.canEditLabelAssociation)()&&(this._hasLabelEditGK=!0,this.props.listeners.add(J.LabelCollection,"bulk_msg_chat_label_change",(()=>{this.searchQuery&&!this.searchQuery.isEmptyQuery()&&(this.ftsMsgs.updateFtsAfterMsgLabelUpdate(),this._handleSearch(this.searchQuery.trimmed(),{label:this.searchQuery.filter.label,kind:this.searchQuery.filter.kind}))})),this.selectableState=new de.default(this.props.selectable||!1),this.props.listeners.add(this._multiSelection,"all",this._updateShowMultiselectBar),this.setState({chatlistKeyId:1}))},this._updateShowMultiselectBar=()=>{const{showMultiSelectBar:e}=this.state,t=this._multiSelection&&this._multiSelection.getSelected().length>0&&!this.props.hideMultiSelectBar;!1===e&&t&&this.setState({showMultiSelectBar:!0})},this._scrollChatListToTop=()=>{const e=this._refPanel;if(e){const t=e.scrollTop;0!==e.scrollTop&&(t<e.clientHeight?(0,M.default)(e,"scroll",{duration:300,container:e,offset:-(e.scrollTop+e.getBoundingClientRect().top)}):e.scrollTop=0)}},this.getFilteredContacts=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n.kind===le.SEARCH_FILTERS.CONTACT||n.kind===le.SEARCH_FILTERS.NON_CONTACT||n.kind===le.SEARCH_FILTERS.UNREAD)return[];let r=(e||"").trim();if(!r&&t._isEmptyFilterQuery(n))return[];r=X.default.accentFold(r);const i=(0,T.default)(r),o=B.ContactCollection.getFilteredContacts();return o.filter((function(e){if(!e.searchMatch(r,i,n.label))return!1;if(!a){const t=j.ChatCollection.get(e.id);if(null==t?void 0:t.shouldAppearInList)return!1}return!0}))},this._getFilteredMessages=function(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t._isEmptyFilterQuery(n))return;if(!n.label)return;const a=(null===(e=J.LabelCollection.get(n.label))||void 0===e?void 0:e.labelItemCollection.filter((e=>e.parentType===Z.LabelItemParentType.Msg)).map((e=>e.parentId)))||[];ie.MsgCollection.getMessagesById(a).then((e=>{t.setState({messages:e.messages})}))},this._getFilteredChats=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(e||"").trim();if(a||!t._isEmptyFilterQuery(n)){a=X.default.accentFold(a);const e=(0,T.default)(a);return Se()?j.ChatCollection.filter((t=>{if(!t.shouldAppearInList)return!1;const r=n.label&&t.contact.searchMatch(a,e,n.label),i=!a||t.contact.searchMatch(a,e),o=!n.kind&&!n.label||t.matchFilter(n),s=(0,E.chatlistFiltersV1Enabled)()&&n.kind===le.SEARCH_FILTERS.UNREAD&&t.archive;return r||i&&o&&!s})):j.ChatCollection.filter((t=>t.contact.searchMatch(a,e)&&(t.shouldAppearInList||t.endOfHistoryTransferType===p.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC)))}return j.ChatCollection.filter((e=>!e.archive&&e.shouldAppearInList))},this.fullTextSearch=(e,t)=>{const n=e||this.searchQuery.query;(0,Q.default)(n)||(null==t?void 0:t.label)?(this.state.searching||this.debounceSetState({searching:!0}),this._fts()):this.isFTSSearching()?this._cancelSearch():this.ftsMsgs.reset()},this.shouldFTSSearch=e=>!(!this.ftsMsgs.hasMoreMsgs||this.isFTSSearching()||!(0,Q.default)(this.searchQuery.query||""))&&e.scrollTop+C.SCROLL_FUDGE>e.scrollHeight-e.clientHeight,this._mapGroupToContacts=(e,t)=>{const n=new Map;for(let a=0;a<e.length;a++){const r=e[a];r&&r.forEach((e=>{e&&(n.has(e)||n.set(e,[]),n.get(e).push(t[a]))}))}const a=[];return n.forEach(((e,t)=>{a.push([t,e])})),a.sort((function(e,t){return e[1].length===t[1].length?null!=e[0].t&&null!=t[0].t?t[0].t-e[0].t:null!=e[0].t?-1:1:t[1].length-e[1].length})),a.slice(0,10)},this._handleSearch=(e,t)=>{const n=Se()?t:{};if(!e&&this._isEmptyFilterQuery(n))return this.searchQuery.updateQuery(e),this.searchQuery.updateLabelQuery({}),void this._handleStopSearch();const a=this.searchQuery.query;this.searchQuery.equals(e,n)||(this.searchQuery.updateQuery(e),this.searchQuery.updateLabelQuery(n),this._isSearching()?(this.fullTextSearch(e,n),this._commonGroupSearch(),this._throttledFilteredChats(e,n),this._throttledFilteredContacts(e,n)):(a&&!e&&this._handleStopSearch(),this.debounceSetState({chats:this._getFilteredChats(void 0,n)})))},this._hasSearchText=()=>Se()&&!(0,E.chatlistFiltersV1Enabled)()?!!this.searchQuery.query||!this._isEmptyFilterQuery(this.searchQuery.filter):!!this.searchQuery.query,this.isFTSSearching=()=>{const e=this._batchState;return"searching"in e?e.searching:this.state.searching},this._cancelSearch=()=>{var e,t;this._fts.cancel(),this._commonGroupSearch.cancel(),this.ftsMsgs.resetSearch(),this.ftsMsgs.reset(),null===(e=this._ftsAbortController)||void 0===e||e.abort(),null===(t=this._findCommonGroupsAbortController)||void 0===t||t.abort(),this.setState({groupChats:[]}),this.isFTSSearching()&&this.debounceSetState({searching:!1},Ce)},this._cancelThrottled=()=>{this._throttledFilteredChats.cancel(),this._throttledFilteredContacts.cancel(),this._throttledOnScroll.cancel()},this._handleStopSearch=()=>new Promise((e=>{var t;this._isEmptyFilterQuery(this.searchQuery.filter)||(t=this._smbFilterSession.sessionId,new ae.default.ChatFilterEvent({actionType:ae.default.CHAT_FILTER_ACTION_TYPES.SEARCH_WITH_FILTER,filterType:ae.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),this._cancelSearch(),this.searchQuery.clear(),this._cancelThrottled(),null!=this.refSearch&&this.refSearch.reset(),this.setState({chats:this._getFilteredChats(),contacts:this.getFilteredContacts(),searching:!1},(()=>e()))})),this._handleFocusList=e=>{var t;e.repeat||this._refChatlist.current&&(this.refSearch&&!this.refSearch.cursorIsAtEnd()||(e.preventDefault(),b.default.shouldIndicateFocus(),null===(t=this._refChatlist.current)||void 0===t||t.focusFirst()))},this._handleOpenFirst=e=>{e.preventDefault();const t=this.searchQuery.query,n=this.searchQuery.filter,a=this._getFilteredChats(t,n)[0]||this.getFilteredContacts(t,n)[0];a&&(0,W.findChat)(a.id).then((e=>{this._handleStopSearch(),b.default.shouldIndicateFocus(),m.Cmd.openChatFromUnread(e).then((t=>{t&&L.ComposeBoxActions.focus(e)}))}))},this._handleFocusSearch=()=>{v.DrawerManager.existsDrawerLeft((e=>{e||(b.default.shouldIndicateFocus(),y.default.focus(this.refSearch))}))},this.indicateFocus=()=>{b.default.maybeIndicateFocus(this._refInputHotkey)},this._handleScroll=e=>{this._throttledOnScroll(e.target)},this.getEmptyChatlistState=(e,t,n,a)=>(null==e?void 0:e.length)||(null==t?void 0:t.length)||n.length||(null==a?void 0:a.length)?null:this.props.labelFilter?this.state.searching?(0,be.jsx)("span",{}):(0,be.jsx)(U.NoResultForLabel,{labelId:this.props.labelFilter}):this.searchQuery.query?this.state.searching?(0,be.jsx)(U.Searching,{}):(0,be.jsx)(U.Search,{hasFilter:(0,E.chatlistFiltersV1Enabled)()&&this.searchQuery.hasFilter(),onClearFilter:this._handleClearFilter}):this._isSearching()||this.searchQuery.filter.kind!==le.SEARCH_FILTERS.UNREAD?j.ChatCollection.some((e=>e.shouldAppearInList))?(0,be.jsx)(U.AllArchived,{}):(0,be.jsx)(U.ListChats,{}):(0,be.jsx)(U.NoUnreadChats,{onClearFilter:this._handleClearFilter}),this._setRefPanel=e=>{this._refPanel=e},this._handleClearFilter=()=>{var e;null===(e=this.refSearch)||void 0===e||e.clearFilter()},this._handleCancelLabelSelection=()=>{this.setState({showMultiSelectBar:!1}),this._multiSelection&&this._multiSelection.unsetAll(),this.selectableState&&this.selectableState.setSelectable(!!this.props.selectable)},this._handleItemSelected=(e,t)=>{if((0,E.smartFiltersEnabled)()&&!this.props.labelFilter&&(!this._isEmptyFilterQuery()||this._hasSearchText())){let n;switch(e){case"chat":n=ae.default.CHAT_SEARCH_RESULT_TYPE.CHAT;break;case"message":n=ae.default.CHAT_SEARCH_RESULT_TYPE.MESSAGE;break;case"contact":n=ae.default.CHAT_SEARCH_RESULT_TYPE.CONTACT;break;case"group":n=ae.default.CHAT_SEARCH_RESULT_TYPE.GROUP}const a=this.searchQuery.filter,r=this.getFilterType(a),i=this._smbFilterSession.sessionId;new ae.default.ChatFilterEvent({actionType:ae.default.CHAT_FILTER_ACTION_TYPES.SEARCH_ITEM_SELECTED,filterType:r,sessionId:i,targetScreen:ae.default.CHAT_FILTER_TARGET_SCREEN.CHAT_LIST,searchResultType:n}).commit(),t&&L.ComposeBoxActions.addMsgSendingLogAttributes(t,{handleOnce(){new ae.default.ChatFilterEvent({actionType:ae.default.CHAT_FILTER_ACTION_TYPES.SEARCH_MSG_SENT,filterType:r,sessionId:i,searchResultType:n}).commit()}})}},this.ftsMsgs=new K.default,this.selection=new fe.default([],(e=>e.id.toString())),this.searchQuery=new ue.SearchQuery,this._multiSelection=this.props.multiSelection||new x.default([],(e=>e.id.toString())),this._fts=this.props.debounce((()=>{var e;this.props.labelFilter||this.logSearchEvent();const t=this.searchQuery.trimmed();null===(e=this._ftsAbortController)||void 0===e||e.abort(),this._ftsAbortController=new a;const n=this._ftsAbortController.signal,r=this.props.getUnmountSignal(),i=Promise.resolve().then((()=>{this.isFTSSearching()||this.debounceSetState({searching:!0},Ce)})).then((()=>this.ftsMsgs.search({count:z.FTS_NUM_RESULTS,filter:this.searchQuery.filter,searchTerm:t})));this._ftsPromise=(0,c.default)(i,n).then((e=>{r.aborted||e&&!e.canceled&&this.debounceSetState({searching:!1},Ce)})).catch((0,d.catchAbort)((()=>{}))).finally((()=>{this._ftsPromise=void 0,this._ftsAbortController=void 0})).catch((()=>{this.isFTSSearching()&&this.debounceSetState({searching:!1},Ce)}))}),z.FTS_TYPING_DELAY),this._throttledFilteredChats=this.props.throttle(((e,t)=>{const n=this._getFilteredChats(e,t);this.debounceSetState({chats:n},Ce,50)}),ye,{leading:!1,trailing:!0}),this._throttledFilteredContacts=this.props.throttle(((e,t)=>{const n=this.getFilteredContacts(e,t);this.debounceSetState({contacts:n},Ce,50)}),ye,{leading:!1,trailing:!0}),this._throttledOnScroll=this.props.throttle((e=>{this.shouldFTSSearch(e)&&this.fullTextSearch()}),100),this._commonGroupSearch=(0,u.default)((()=>{var e;const t=this.searchQuery.trimmed();if(!t)return void this.setState({groupChats:[]});const n=this.searchQuery.filter;if(n.kind===le.SEARCH_FILTERS.CONTACT||n.kind===le.SEARCH_FILTERS.NON_CONTACT)return void this.setState({groupChats:[]});const r=this.getFilteredContacts(t,n,!0);if(0===r.length||r.length>5)return void this.setState({groupChats:[]});const i=(0,l.default)(r,function(){var e=(0,o.default)((function*(e){try{return yield(0,H.findCommonGroups)(e),e.commonGroups}catch(e){throw __LOG__(4,!0,new Error,!0)`get from participants table failed`,SEND_LOGS("get from participants table failed when finding common groups: "+e),new Error("get from participants table failed")}}));return function(){return e.apply(this,arguments)}}());null===(e=this._findCommonGroupsAbortController)||void 0===e||e.abort(),this._findCommonGroupsAbortController=new a;const s=this._findCommonGroupsAbortController.signal;this._findCommonGroupsPromise=(0,c.default)(Promise.all(i),s).then((e=>{if(t===this.searchQuery.trimmed()){const t=this._mapGroupToContacts(e,r);this.setState({groupChats:t})}})).catch((()=>{})).finally((()=>{this._findCommonGroupsPromise=null,this._findCommonGroupsAbortController=null}))}),750);const{labelFilter:n}=this.props,r=this.props.labelFilter?{label:n}:void 0;this.state=(0,i.default)({searching:!1,chats:this._getFilteredChats("",r),contacts:this.getFilteredContacts("",r),groupChats:[],showMultiSelectBar:!1,chatlistKeyId:0,filterPreset:r,textsize:_.default.get().textsize},{}),this.searchQuery.updateLabelQuery(r),this._getFilteredMessages(r)}_isSearching(){return Boolean(this.searchQuery.query)||!(0,E.chatlistFiltersV1Enabled)()&&!this._isEmptyFilterQuery(this.searchQuery.filter)}componentDidMount(){const{labelFilter:e,listeners:t}=this.props;e&&this._handleSearch("",{label:e}),this._updateLabelFeatureFlagChange(),t.add(S.LegacyPhoneFeatures,S.LegacyPhoneFeatures.FEATURE_CHANGE_EVENT,this._updateLabelFeatureFlagChange),this.props.listeners.add(j.ChatCollection,"remove",(e=>{if(this.searchQuery.query){const t=(0,s.default)(this.state.chats,e);this.state.chats&&t.length!==this.state.chats.length&&this.debounceSetState({chats:t})}else this._throttledFilteredChats.cancel(),this.debounceSetState({chats:this._getFilteredChats(void 0,this.searchQuery.filter)})})),this.props.listeners.add(B.ContactCollection,"remove",(e=>{if(this._isSearching()){const t=(0,s.default)(this.state.contacts,e);this.state.contacts&&t.length!==this.state.contacts.length&&this.debounceSetState({contacts:t})}else this._throttledFilteredContacts.cancel(),this.debounceSetState({contacts:this.getFilteredContacts(void 0,this.searchQuery.filter)})}));const n=this.props.throttle((()=>{if(this._isSearching()||this.searchQuery.filter.kind!==le.SEARCH_FILTERS.UNREAD)return;this._throttledFilteredChats.cancel();const e=this._getFilteredChats(void 0,this.searchQuery.filter),t=this.selection.getVal();this.state.chats&&this.state.chats.length>0&&t&&!e.includes(t)&&e.push(t),this.debounceSetState({chats:e})}),ye);this.props.listeners.add(j.ChatCollection,"sort change:archive",(()=>{this._isSearching()||(this.searchQuery.filter.kind!==le.SEARCH_FILTERS.UNREAD?(this._throttledFilteredChats.cancel(),this.debounceSetState({chats:this._getFilteredChats(void 0,this.searchQuery.filter)})):n())})),this.props.listeners.add(j.ChatCollection,"change:unreadCount",n),this.props.listeners.add(m.Cmd,"close_chat",n),this.props.listeners.add(B.ContactCollection,"sort",(()=>{this._isSearching()||(this._throttledFilteredContacts.cancel(),this.debounceSetState({contacts:this.getFilteredContacts(void 0,this.searchQuery.filter)}))})),this.props.listeners.add(this.ftsMsgs,"bulk_remove reset",(()=>{this._isSearching()||(this._throttledFilteredChats.cancel(),this.debounceSetState({chats:this._getFilteredChats(void 0,this.searchQuery.filter)}))})),this.props.listeners.add(m.Cmd,"focus_chat_search",this._handleFocusSearch),this.props.listeners.add(m.Cmd,"textsize_change",(e=>{this.debounceSetState({textsize:e})})),this.props.listeners.add(ie.MsgCollection,g.default.NEW_MSG_SENT,(()=>{this._isSearching()?this._handleStopSearch().then((()=>this._scrollChatListToTop())):this._scrollChatListToTop()}))}getClientWidth(){var e;return null===(e=this._refContainer.current)||void 0===e?void 0:e.clientWidth}containsDOMNode(e){return!!this._refContainer.current&&this._refContainer.current.contains(e)}componentWillUnmount(){this._cancelSearch(),this._cancelThrottled(),this._debounceSetState.cancel()}_isEmptyFilterQuery(e){return!e||!(e.label||e.kind)}_showUnread(){}_showArchivedPanel(){return(0,E.archiveV2Supported)()&&this.props.settings.showArchiveV2&&!this.state.showMultiSelectBar&&this.searchQuery.isEmptyQuery()&&!this.searchQuery.hasFilter()&&this.state.chats&&this.state.chats.length>0&&j.ChatCollection.some((e=>e.archive&&e.shouldAppearInList))}getFilterType(e){if(!e||this._isEmptyFilterQuery(e))return ae.default.CHAT_FILTER_TYPES.NONE;if(!e.kind)return ae.default.CHAT_FILTER_TYPES.OTHER_LABELS;switch(e.kind){case le.SEARCH_FILTERS.UNREAD:return ae.default.CHAT_FILTER_TYPES.UNREAD;case le.SEARCH_FILTERS.GROUP:return ae.default.CHAT_FILTER_TYPES.GROUP;case le.SEARCH_FILTERS.BROADCAST:return ae.default.CHAT_FILTER_TYPES.BROADCAST_LIST;case le.SEARCH_FILTERS.CONTACT:return ae.default.CHAT_FILTER_TYPES.CONTACT;case le.SEARCH_FILTERS.NON_CONTACT:return ae.default.CHAT_FILTER_TYPES.NON_CONTACT}}logSearchEvent(){if((0,E.smartFiltersEnabled)()){const e=this.searchQuery.filter;new ae.default.ChatFilterEvent({actionType:ae.default.CHAT_FILTER_ACTION_TYPES.SEARCH,filterType:this.getFilterType(e),sessionId:this._smbFilterSession.sessionId,targetScreen:ae.default.CHAT_FILTER_TARGET_SCREEN.CHAT_LIST}).commit()}}render(){var e;const{chats:t,contacts:n,groupChats:a,filterPreset:r,messages:i}=this.state,o=this.ftsMsgs.toArray();let s=this.getEmptyChatlistState(t,n,o,i);const l=!!this._hasSearchText()||this.searchQuery.hasLabelFilter()||this.searchQuery.hasKindFilter()&&this.searchQuery.filter.kind!==le.SEARCH_FILTERS.UNREAD;null==s&&(s=(0,be.jsx)(I.default,{ref:this._refChatlist,flatListController:this.flatListController,chats:t,contacts:n||[],messages:i||[],filterPreset:r,groupChats:a,isSearching:l,searchQuery:this.searchQuery,ftsResult:o,selection:this.selection,onFocusSearch:this._handleFocusSearch,multiSelection:this._multiSelection,selectableState:this.selectableState,onItemSelected:this._handleItemSelected},this.state.chatlistKeyId));const u={down:this._handleFocusList},d=this.state.searching&&this.props.labelFilter||this.state.searching&&this.ftsMsgs.length?(0,be.jsx)("div",{className:R.default.spinner,children:(0,be.jsx)(pe.Spinner,{stroke:6,size:24})},"spinner"):null,c=(0,D.getTextsizeClassForScale)(this.state.textsize),f=(0,k.default)(R.default.chatListPanel,c),p=this.ftsMsgs.hasMoreMsgs&&o.length||this._showUnread()?this._handleScroll:void 0;let m,g,_,v,b=null;this.state.showMultiSelectBar?m=(0,be.jsx)(_e.UIE,{displayName:"MultiSelect",escapable:!0,dismissOnWindowResize:!0,requestDismiss:this._handleCancelLabelSelection,children:(0,be.jsx)(re.default,{theme:"chatlist-panel",selectedModels:this._multiSelection,labelEditEnabled:!0,iconColor:"#8d9194",onCancel:this._handleCancelLabelSelection})},"multiSelectBar"):g=(0,be.jsx)($.HotKeys,{handlers:u,onFocus:this.indicateFocus,ref:this._setRefInputHotkey,className:R.default.panelSearch,children:(0,be.jsx)(te.default,{ref:this.setRefSearch,onSearch:this._handleSearch,onEnter:this._handleOpenFirst,loading:this.state.searching,smbFilterSession:this._smbFilterSession,listFilterEnabled:!0,chatlistFilterEnabled:(0,E.chatlistFiltersV1Enabled)()})},"ListSearchHotKey"),this.props.labelFilter||(b=(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(N.default,{mute:oe.MuteCollection.globalMute(),settings:this.props.settings}),(0,be.jsx)(O.default,{}),g,m]})),this._showArchivedPanel()&&(_=(0,be.jsx)(P.default,{})),(0,h.isMDBackend)()&&(this._hasSearchText()||this.searchQuery.hasLabelFilter())&&(v=(0,be.jsx)(F.default,{theme:"md-chat-search-list",children:w.fbt._("Use WhatsApp on your phone to search for older chats or messages.",null,{hk:"1nGygN"})}));const y=(0,ee.isPrivacyNarrativeV1Enabled)()?(0,be.jsx)(G.E2eMessageChatList,{}):null;return(0,be.jsxs)("div",{id:"side",className:f,ref:this._refContainer,children:[(0,be.jsx)(V.default,{reason:"app-header",children:b}),(0,be.jsx)(V.default,{reason:"chat-list",children:(0,be.jsxs)(q.default,{flatListControllers:[this.flatListController],ref:this._setRefPanel,className:R.default.panelBody,onScroll:p,id:"pane-side",children:[_,s,d,null!==(e=v)&&void 0!==e?e:y]})}),ce.ServerProps.pttOotPlayback&&(0,be.jsx)(V.default,{reason:"out-of-chat-player",children:(0,be.jsx)(se.default,{})})]})}}Ee.CONCERNS={settings:["showArchiveV2"]},Ee.displayName="ChatlistPanel";const xe=(0,ve.default)((0,ge.default)((0,ne.ListenerHOC)((0,me.default)(Ee,Ee.CONCERNS))));t.default=class extends xe{getClientWidth(){return this.getComponent().getClientWidth()}containsDOMNode(e){return this.getComponent().containsDOMNode(e)}}},3198:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getListHeightForTextsize=function(e){var t,n;return null!==(t=null===(n=i.get(e))||void 0===n?void 0:n.height)&&void 0!==t?t:72},t.getTextSizeForScale=function(e){var t,n;return null!==(t=null===(n=i.get(e))||void 0===n?void 0:n.xstyle)&&void 0!==t?t:r.default},t.getTextsizeClassForScale=function(e){var t;return null===(t=i.get(e))||void 0===t?void 0:t.classname};a(n(56720));const r={default:{fontSize:"f8jlpxt4",lineHeight:"idwf4z32"},textSizeSmall:{fontSize:"dsh4tgtl",lineHeight:"sid27bd6"},textSizeXSmall:{fontSize:"lak21jic",lineHeight:"cr2cog7z"},textSizeXXSmall:{fontSize:"r8knbtme",lineHeight:"c4f797jd"},textSizeLarge:{fontSize:"f8jlpxt4",lineHeight:"erpdyial"},textSizeXLarge:{fontSize:"bze30y65",lineHeight:"i7clx65o"},textSizeXXLarge:{fontSize:"enbbiyaj",lineHeight:"qg52vu03"}},i=new Map([[-1,{classname:"textsize-small",height:64,xstyle:r.textSizeSmall}],[-2,{classname:"textsize-xsmall",height:58,xstyle:r.textSizeXSmall}],[-3,{classname:"textsize-xxsmall",height:52,xstyle:r.textSizeXXSmall}],[1,{classname:"textsize-large",height:72,xstyle:r.textSizeLarge}],[2,{classname:"textsize-xlarge",height:72,xstyle:r.textSizeXLarge}],[3,{classname:"textsize-xxlarge",height:72,xstyle:r.textSizeXXLarge}]])},61837:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=n(67294),o=n(16593),s=a(n(29439)),l=n(84387),u=n(85893);class d extends i.Component{constructor(e){super(e),this._handleSelectableChange=()=>{this.forceUpdate()},this._handleSelectChange=e=>{this.state.selected!==e&&this.setState({selected:e})},this._handleSelect=e=>{if(null==e?void 0:e.isDefaultPrevented())return;e&&e.stopPropagation();const{onSelect:t,model:n}=this.props,{selected:a}=this.state;let r;a?(this.setState({selected:!1,partialSelected:!1}),r=!1):r=!0,null==t||t(n,r,!1)};const{multiSelection:t,initialSelection:n,model:a}=this.props;let r=!1,i=!1;switch(n){case 0:r=!1,i=!1;break;case 1:r=!0,i=!1;break;case 2:r=!0,i=!0;break;default:r=t.isSelected(a),i=!1}this.state={selected:r,partialSelected:i,modelId:a.id.toString()}}static getDerivedStateFromProps(e,t){const{modelId:n}=t,{multiSelection:a,model:r}=e,i=r.id.toString();return a&&n!==i?{modelId:i,selected:a.isSelected(r)}:null}componentDidMount(){this.props.listeners.add(this.props.multiSelection,this.props.model.id.toString(),this._handleSelectChange),this.props.selectableState&&this.props.listeners.add(this.props.selectableState,"all",this._handleSelectableChange)}componentDidUpdate(e){const{model:t,multiSelection:n,listeners:a}=e,r=t.id.toString(),i=this.props.model.id.toString();n&&r!==i&&(a.remove(n,r,this._handleSelectChange),a.add(n,i,this._handleSelectChange))}render(){const{theme:e,selectableState:t,children:n}=this.props,a=(0,r.default)(s.default.checkboxChatControl,{[s.default.labelSelection]:"label-selection"===this.props.theme}),l=t.isSelectable,d={};if(l&&e&&Object.assign(d,{theme:e}),l&&Object.assign(d,{noContext:!0}),null==n)return null;const c=i.Children.toArray(n)[0],f="label-selection"===e?this._handleSelect:null;return(0,u.jsxs)("div",{className:s.default.checkboxChatWrapper,onClick:f,children:[l&&(0,u.jsx)("div",{className:a,onClick:this._handleSelect,children:(0,u.jsx)(o.CheckBox,{onChange:this._handleSelect,checked:this.state.selected,theme:this.state.selected&&this.state.partialSelected?o.CHECKBOX_THEME.PARTIAL:void 0})}),(0,i.cloneElement)(c,d)]})}}d.displayName="CheckboxWrapper";var c=(0,l.ListenerHOC)(d);t.default=c},35375:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{useShortName:t,isDisabled:n,onDelete:a,selections:l}=e,f=(0,i.useRef)(null),h=(0,o.default)();return(0,s.useListener)(l,"all",((e,t)=>{h(),t&&f.current instanceof HTMLDivElement&&f.current.scrollIntoView({behavior:"smooth"})})),(0,d.jsxs)(r.default,{transitionName:"slide-up-down-footer",className:u.default.selectedListContainer,children:[(0,d.jsx)(c,{useShortName:t,isDisabled:n,onDelete:a,contacts:e.selections.getSelected()}),(0,d.jsx)("div",{className:u.default.bottomDiv,ref:f})]})};var r=a(n(40436)),i=n(67294),o=a(n(59312)),s=n(87550),l=n(2732),u=a(n(37058)),d=n(85893);function c(e){let{useShortName:t,isDisabled:n,onDelete:a,contacts:r}=e;if(!r.length)return null;return r.map((e=>(0,d.jsx)(l.Contact,{contact:e,useShortName:null!=t&&t,onDelete:(null==n?void 0:n(e))?a:void 0,type:l.Type.SMALL,theme:"list-names",waitIdle:!0},e.id.toString())))}},48837:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=a(n(99964)),o=a(n(64369)),s=a(n(45120)),l=n(8139),u=n(55715),d=a(n(40436)),c=a(n(94184)),f=n(48360),h=n(67294),p=a(n(56720)),m=a(n(16223)),g=n(87550),_=a(n(55010)),v=a(n(89113)),b=n(46428),y=n(83872),C=n(17239),S=n(71174),E=a(n(18888)),x=n(29623),T=a(n(14296)),M=n(16770),k=n(84543),w=a(n(64968)),A=a(n(11339)),P=n(59871),j=n(49001),I=n(11054),O=a(n(23217)),N=n(18644),R=a(n(24717)),D=n(85893);const L=()=>{};function B(e){let{kind:t,icon:n,label:a,onClick:r}=e;return(0,D.jsx)(S.DropdownItem,{a8n:`chat_filter_${t||""}`,action:r,children:(0,D.jsxs)("div",{className:w.default.kind,children:[(0,D.jsx)(O.default,{name:n}),(0,D.jsx)("div",{className:w.default.kindName,children:a})]})})}function F(){return(0,l.canDisplayLabel)()||(0,l.smartFiltersEnabled)()||(0,l.chatlistFiltersV1Enabled)()}function G(e){let{updateSearchFilter:t}=e;const n=[(0,D.jsx)(B,{kind:j.SEARCH_FILTERS.UNREAD,icon:"search-unread",label:f.fbt._("Unread chats",null,{hk:"4w3TsP"}),onClick:()=>t({kind:j.SEARCH_FILTERS.UNREAD})},"unread")];return(0,l.smartFiltersEnabled)()&&n.push((0,D.jsx)(B,{kind:j.SEARCH_FILTERS.CONTACT,icon:"contacts",label:f.fbt._("Contacts",null,{hk:"wlOV2"}),onClick:()=>t({kind:j.SEARCH_FILTERS.CONTACT})},"contact"),(0,D.jsx)(B,{kind:j.SEARCH_FILTERS.NON_CONTACT,icon:"non_contacts",label:f.fbt._("Non-contacts",null,{hk:"1SVQl1"}),onClick:()=>t({kind:j.SEARCH_FILTERS.NON_CONTACT})},"non_contact")),n.push((0,D.jsx)(B,{kind:j.SEARCH_FILTERS.GROUP,icon:"group",label:T.default.t(772),onClick:()=>t({kind:j.SEARCH_FILTERS.GROUP})},"group")),(0,y.broadcastListEnabled)()&&n.push((0,D.jsx)(B,{kind:j.SEARCH_FILTERS.BROADCAST,icon:"search-broadcasts",label:f.fbt._("Broadcast lists",null,{hk:"2tM8Ez"}),onClick:()=>t({kind:j.SEARCH_FILTERS.BROADCAST})},"broadcast")),[(0,D.jsx)("div",{className:w.default.filterTitle,children:f.fbt._("Chats",null,{hk:"46DIdr"})},"chat_filter_kind_header"),...n]}function U(e){let{updateSearchFilter:t}=e;const n=M.LabelCollection.toArray().reduce(((e,n)=>n.name&&n.count&&0!==n.count?[...e,(0,D.jsx)(S.DropdownItem,{a8n:`label_item_${n.id}`,action:()=>t({label:n.id}),children:(0,D.jsx)("button",{className:w.default.labels,children:(0,D.jsx)(k.Labels,{labels:[n.id],showName:!0,theme:"label-filter"})})},`label_item_${n.id}`)]:e),[]);if(n.length>0){return[(0,D.jsx)("div",{className:w.default.filterTitle,children:f.fbt._("Labels",null,{hk:"3ONS1h"})},"chat_filter_label_header"),...n]}return[]}const V={button:{marginTop:"tt8xd2xn",marginEnd:"bugiwsl0",marginBottom:"mpdn4nr2",marginStart:"fooq7fky"},iconWrapper:{width:"ekdr8vow",height:"dhq51u3o",color:"s4k44ver",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},iconWrapperActive:{color:"p7idzaix",backgroundColor:"evq4wxsl"}};function W(e){const t=C.Conn.isSMB?f.fbt._("Chat filters menu",null,{hk:"40MsRV"}):f.fbt._("Unread chats filter",null,{hk:"3E4fOC"});return(0,D.jsx)("button",{onClick:e.onClick,"data-tab":u.TAB_ORDER.CHAT_LIST_FILTER,"aria-label":t,title:t,className:(0,p.default)(V.button),children:(0,D.jsx)(x.FlexRow,{justify:"center",align:"center",className:(0,p.default)(V.iconWrapper,e.active&&V.iconWrapperActive),children:(0,D.jsx)(O.default,{name:"filter",width:20,height:20})})})}function H(e,t){const{loading:n,placeholder:a,spellCheck:p,listFilterEnabled:y=!1,onSearch:S,type:x,smbFilterSession:k,chatlistFilterEnabled:B=!1}=e,V=(0,h.useRef)(null),H=(0,h.useRef)(null),Y=(0,m.default)(E.default),z=(0,h.useRef)(!1),[K,$]=(0,h.useState)(""),[Q,X]=(0,h.useState)(null),[J,Z]=(0,h.useState)(null),[ee,te]=(0,h.useState)(!1),[ne,ae]=(0,h.useState)(null),re=Boolean(J||Q),ie=ee||K||re&&!B,oe=(0,v.default)((()=>{const e=V.current;e&&!ne&&(e.reset(),e.blur(),te(!1),$(""),B?S("",{kind:J,label:Q}):(X(null),Z(null),S("")))}));(0,g.useListener)(P.MsgCollection,o.default.NEW_MSG_SENT,(()=>{re&&oe()})),(0,h.useEffect)((()=>{if(!ee||K||re)return;const e=H.current;e&&e.contains(document.activeElement)||oe()}),[K,re,ee,oe]),(0,_.default)((()=>{oe()}));let se=null;const[le]=(0,b.useTimeout)((()=>{te(!1)}),0),ue=e=>{var t;ne&&ae(null),X(e.label),Z(null!==(t=e.kind)&&void 0!==t?t:null),k&&function(e,t){const n=new A.default.ChatFilterEvent({actionType:A.default.CHAT_FILTER_ACTION_TYPES.SELECT_FILTER,filterType:q(t),sessionId:e});(0,l.smartFiltersEnabled)()&&(n.targetScreen=A.default.CHAT_FILTER_TARGET_SCREEN.CHAT_LIST);n.commit()}(k.sessionId,e),S(K,e)},de=()=>{(0,r.default)(V.current,"inputRef.current").focus()},[ce]=(0,b.useTimeout)(de,0),fe=e=>{k&&function(e){const t=new A.default.ChatFilterEvent({actionType:A.default.CHAT_FILTER_ACTION_TYPES.OPEN,filterType:A.default.CHAT_FILTER_TYPES.NONE,sessionId:e});(0,l.smartFiltersEnabled)()&&(t.targetScreen=A.default.CHAT_FILTER_TARGET_SCREEN.CHAT_LIST);t.commit()}(k.newSessionId()),e.stopPropagation(),ae({menu:(0,D.jsxs)(D.Fragment,{children:["chat-msg-search"!==x?(0,D.jsx)(G,{updateSearchFilter:ue}):null,(0,D.jsx)(U,{updateSearchFilter:ue})]}),anchor:e.target})},he=()=>{ae(null)},pe=()=>(0,r.default)(V.current,"inputRef.current").cursorIsAtEnd(),me=()=>{(0,r.default)(V.current,"inputRef.current").select()},ge=()=>{const e=V.current;e&&e.reset()},_e=()=>{s.default.shouldIndicateFocus(),s.default.maybeIndicateFocus(H.current)},ve=()=>{ue({kind:null,label:null})};if((0,h.useImperativeHandle)(t,(()=>({cursorIsAtEnd:pe,select:me,reset:ge,focus:de,indicateFocus:_e,clearFilter:ve}))),ie){const e=()=>{oe(),de()},t=Boolean(K)||re&&!B;n?se=(0,D.jsx)("div",{className:w.default.iconSpinner,onClick:e,children:(0,D.jsx)(I.Spinner,{size:20,stroke:5,color:"highlight"})},"icon-clear-search"):t?se=(0,D.jsx)("button",{className:w.default.iconCloseSearch,onClick:e,children:(0,D.jsx)(O.default,{name:"x-alt"})},"icon-clear-search"):F()&&y&&!B&&(se=(0,D.jsx)("button",{className:w.default.iconLabelSelect,"aria-label":f.fbt._("Filters menu",null,{hk:"LNvK6"}),onClick:fe,children:(0,D.jsx)(O.default,{name:"filter"})},"icon-select-label"))}let be;ee&&(be=(0,D.jsx)(N.UIE,{displayName:"ListSearch",escapable:!0,requestDismiss:oe,requestFocus:de,requestRecentFocusOnUnmount:!1}));const ye=ee?oe:()=>{de()},Ce=(0,c.default)(w.default.listSearch,{[w.default.active]:ie,[w.default.chatlistFilterEnabled]:B});let Se;ne&&(Se=(0,D.jsx)(N.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:he,requestRecentFocusOnUnmount:!1,children:(0,D.jsx)(R.default,{contextMenu:ne})}));const Ee=!ee&&!K||!K&&re;let xe=null;Ee&&(xe=a||T.default.t(580),F()&&(Q?xe=T.default.t(396,{labelName:M.LabelCollection.assertGet(Q).name}):J===j.SEARCH_FILTERS.GROUP?xe=f.fbt._("Search in Groups",null,{hk:"3j9ioP"}):J===j.SEARCH_FILTERS.UNREAD?xe=f.fbt._("Search unread chats",null,{hk:"2lClKl"}):J===j.SEARCH_FILTERS.BROADCAST?xe=f.fbt._("Search in Broadcast lists",null,{hk:"4EwaXm"}):J===j.SEARCH_FILTERS.CONTACT?xe=f.fbt._("Search in chats with contacts",null,{hk:"1DAA9Y"}):J===j.SEARCH_FILTERS.NON_CONTACT&&(xe=f.fbt._("Search in chats with non contacts",null,{hk:"1eIAdx"}))));const Te=ee?f.fbt._("Chat list",null,{hk:"iikD9"}):f.fbt._("Search or start new chat",null,{hk:"TdYzC"}),Me=Y.current,ke=f.fbt._("Search input textbox",null,{hk:"56hij"});return(0,D.jsxs)("div",{ref:H,onMouseEnter:()=>{F()&&!B&&(z.current=!0)},onMouseLeave:()=>{z.current=!1},className:Ce,children:[(0,D.jsxs)("div",{className:w.default.inputContainer,children:[(0,D.jsxs)("button",{"data-a8n":i.default.key("icon-search-morph"),className:w.default.iconSearchMorph,onMouseDown:ye,"aria-label":Te,children:[(0,D.jsx)("div",{className:(0,c.default)(w.default.iconMorph,w.default.iconMorphBack),children:(0,D.jsx)(O.default,{name:"back"})}),(0,D.jsx)("div",{className:(0,c.default)(w.default.iconMorph,w.default.iconMorphSearch),children:(0,D.jsx)(O.default,{name:"search"})})]}),(0,D.jsxs)(d.default,{transitionName:"pop",children:[se,Se]}),(0,D.jsx)("div",{"data-a8n":i.default.key("input-placeholder"),className:(0,c.default)(w.default.inputPlaceholder,{[w.default.inputPlaceholderHidden]:!Ee}),children:xe}),(0,D.jsx)("div",{className:w.default.inputWrapper,children:(0,D.jsx)(Me,{a8n:"chat-list-search",title:ke,ref:V,theme:"list-search",tabOrder:u.TAB_ORDER.CHAT_LIST_SEARCH,spellCheck:p,onBlur:()=>{z.current||le()},onFocus:ee?L:()=>{te(!0),ce()},onChange:ee?e=>{$(e),S(e,{label:Q,kind:J})}:L,onEnter:e.onEnter})})]}),B&&(0,D.jsx)(W,{active:re,onClick:e=>{re?ue({kind:null,label:null}):C.Conn.isSMB?fe(e):ue({kind:j.SEARCH_FILTERS.UNREAD})}}),be]})}function q(e){if(!e.kind)return A.default.CHAT_FILTER_TYPES.OTHER_LABELS;switch(e.kind){case j.SEARCH_FILTERS.UNREAD:return A.default.CHAT_FILTER_TYPES.UNREAD;case j.SEARCH_FILTERS.GROUP:return A.default.CHAT_FILTER_TYPES.GROUP;case j.SEARCH_FILTERS.BROADCAST:return A.default.CHAT_FILTER_TYPES.BROADCAST_LIST;case j.SEARCH_FILTERS.CONTACT:return A.default.CHAT_FILTER_TYPES.CONTACT;case j.SEARCH_FILTERS.NON_CONTACT:return A.default.CHAT_FILTER_TYPES.NON_CONTACT}}var Y=(0,h.forwardRef)(H);t.default=Y},1211:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OocMarquee=function(e){let{children:t}=e;return(0,o.jsxs)("div",{className:(0,r.default)(s.childWrapper,s.animation,i.default.isRTL()?s.animationRTL:s.animationLTR),children:[t,(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:(0,r.default)(s.delimiter)}),t,(0,o.jsx)("span",{className:(0,r.default)(s.delimiter)})]})]})};var r=a(n(56720)),i=a(n(14296)),o=n(85893);const s={animation:{animationDuration:"kb1vfvhz",animationIterationCount:"tkmeqcnu",animationTimingFunction:"f8mos8ky"},animationLTR:{animationName:"i2cyxsuq"},animationRTL:{animationName:"joi2o88i"},childWrapper:{position:"g0rxnol2",width:"ltyqj8pj"},delimiter:{display:"l7jjieqr",width:"jswlwoyz",height:"ppled2lx"}}},21011:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{outOfChatPlayerMessage:e}=(0,g.useModelValues)(E.PttPrefs,["outOfChatPlayerMessage"]),t=(0,l.useMsgAudioPlaybackController)(e);return e&&t?(0,w.jsx)(I,{msg:e,playbackController:t,onPlayNext:e=>{E.PttPrefs.outOfChatPlayerMessage=e}}):null};var r=a(n(45095)),i=a(n(79622)),o=n(81572),s=n(55715),l=n(53395),u=a(n(40436)),d=a(n(94184)),c=n(67294),f=a(n(56720)),h=a(n(65789)),p=n(87550),m=a(n(48711)),g=n(35461),_=n(88984),v=n(12176),b=n(1211),y=n(68400),C=n(67880),S=n(16538),E=n(56989),x=a(n(4947)),T=a(n(23217)),M=n(97628),k=a(n(1784)),w=n(85893);const A={container:{position:"lhggkp7q",zIndex:"b9fczbqn",backgroundColor:"f09rd1o5",display:"p357zi0d",width:"ln8gz9je",height:"noboit18",boxShadow:"amd08ebk"},avatar:{marginEnd:"t9wpllip",width:"qssinsw9",height:"lniyxyh2",minWidth:"byvcucqk",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",flexWrap:"lkhkxwyq",position:"g0rxnol2"},audioAvatar:{borderTopStartRadius:"ig3kka7n",borderTopEndRadius:"a57u14ck",borderBottomEndRadius:"a4bg1r4i",borderBottomStartRadius:"h1a3x9ys",overflowX:"gfz4du6o",overflowY:"r7fjleex"},forwardedPttAvatar:{backgroundColor:"k8kmlv7u"},micContainer:{zIndex:"mb8var44",position:"lhggkp7q",top:"a70a3vn1",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",end:"r76eoqdq"},senderContainer:{width:"ln8gz9je",height:"ppled2lx",overflowX:"gfz4du6o",overflowY:"r7fjleex",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",position:"g0rxnol2"},senderButton:{maxWidth:"laorhtua",height:"ppled2lx",display:"p357zi0d",overflowX:"gfz4du6o",overflowY:"r7fjleex",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",":hover":{opacity:"gnd3v8n5"}},authorSection:{whiteSpace:"le5p0ye3",textOverflow:"kupmgzgy",overflowX:"gfz4du6o",overflowY:"r7fjleex",maxWidth:"laorhtua",height:"ppled2lx",display:"p357zi0d",alignItems:"gndfcl4n"},senderName:{color:"iqn2u7bu",fontSize:"enbbiyaj"},buttonContainer:{minWidth:"f8zw8ovf",height:"ppled2lx",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n"},progressContainer:{width:"ln8gz9je",position:"lhggkp7q",top:"dbs0ofhi",height:"d9lyu8cj"},progress:{width:"ln8gz9je",height:"ppled2lx"},progressLight:{backgroundColor:"qpsqveag",opacity:"cats8p75"},progressDark:{backgroundColor:"qj9ovlz3",opacity:"ge6flnsz"},measurementContainer:{width:"tfi85p4o",height:"ppled2lx",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"lhggkp7q"},measurementDiv:{visibility:"kojwoqec",position:"lhggkp7q",top:"p6im964z",start:"f88dsuqf"}},P=x.default.outOfChat,j=x.default.forwardedOutOfChat;function I(e){let{msg:t,playbackController:n,onPlayNext:a}=e;const{audio:i,pttPlaybackLogger:l}=n,d=function(e){const{isOocPlayerClosedByUser:t}=(0,g.useModelValues)(E.PttPrefs,["isOocPlayerClosedByUser"]),{active:n}=(0,g.useModelValues)(e.chat,["active"]);return!t&&!n}(t),[h,m]=(0,c.useState)(!i.paused),_=(0,c.useRef)(!1),v=()=>_.current=!1;(0,c.useEffect)((()=>{v()}),[t]);const b=()=>m(!i.paused);return(0,p.useListener)(i,"playing",(()=>{b()})),(0,p.useListener)(i,"timeupdate",(()=>{b(),d&&(l.markAsPlayedInOoc(),_.current||(_.current=!0,(0,C.incrementPttDailyCount)(C.PttDailyCountKind.OOC_PLAYBACK,(0,r.default)(t.chat.kind,"msg.chat.kind"))))})),(0,p.useListener)(i,"pause",b),(0,p.useListener)(i,"ended",(()=>{b(),d&&v()})),(0,p.useListener)(o.Cmd,"status_viewer_open",(()=>{i.pause()})),(0,p.useListener)(t.chat,"remove",(()=>{i.pause(),E.PttPrefs.closeOocPlayer()})),(0,p.useListener)(t,"change:asRevoked",(()=>{t.asRevoked&&(i.pause(),E.PttPrefs.closeOocPlayer())})),(0,w.jsx)(u.default,{transitionName:"ptt-out-of-chat",children:d&&(0,w.jsxs)("div",{className:(0,f.default)(A.container),children:[(0,w.jsx)("div",{className:(0,f.default)(A.buttonContainer),children:(0,w.jsx)(S.PttPlayPauseButton,{onConfirm:e=>{h?(i.pause(),l.increaseOocPauseCount()):i.play(),e.preventDefault()},paused:!h,dataTab:s.TAB_ORDER.PTT_OOC_BUTTON,disabled:!d,theme:"out-of-chat-playback"})}),(0,w.jsx)("div",{className:(0,f.default)(A.senderContainer),children:(0,w.jsxs)(k.default,{dataTab:s.TAB_ORDER.PTT_OOC_BUTTON,xstyle:A.senderButton,onClick:e=>{if(e.defaultPrevented)return;const{chat:n}=t;o.Cmd.openChatAt(n,n.getSearchContext(t.unsafe())),l.increaseOocClickToChatCount()},children:[(0,w.jsx)(N,{msg:t}),(0,w.jsx)(O,{author:t.senderObj,chat:t.chat})]})}),(0,w.jsx)("div",{className:(0,f.default)(A.buttonContainer),children:(0,w.jsx)(y.PttCloseButton,{onConfirm:e=>{i.pause(),E.PttPrefs.closeOocPlayer(),E.PttPrefs.setPlayingMessage(null),l.markAsOocClosedByUser(),l.commit(!0),e.preventDefault()},dataTab:s.TAB_ORDER.PTT_OOC_BUTTON,disabled:!d,theme:"out-of-chat-playback"})}),(0,w.jsx)(B,{audio:i,isPlaying:h})]})})}function O(e){const{author:t,chat:n}=e,[a,{width:r}]=(0,m.default)(),[i,{width:o}]=(0,m.default)(),s=n.isGroup?(0,w.jsx)(v.ContactAndGroupName,{contact:t,chat:n,xstyle:A.senderName}):(0,w.jsx)(v.Name,{contact:t,useShortName:!0,xstyle:A.senderName});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{ref:a,className:(0,f.default)(A.measurementContainer),children:(0,w.jsx)("div",{ref:i,className:(0,f.default)(A.measurementDiv),children:s})}),(0,w.jsx)("div",{className:(0,f.default)(A.authorSection),children:o>r?(0,w.jsx)(b.OocMarquee,{children:s}):s})]})}function N(e){let{msg:t}=e;return t.asPttLike?(0,w.jsx)(R,{msg:t}):t.isForwarded?(0,w.jsx)(D,{}):(0,w.jsx)(L,{})}function R(e){let{msg:t}=e;return(0,w.jsxs)("div",{className:(0,f.default)(A.avatar),children:[(0,w.jsx)(_.DetailImage,{id:t.senderObj.id,size:40}),(0,w.jsx)("span",{className:(0,d.default)((0,f.default)(A.micContainer),P),children:(0,w.jsx)(T.default,{name:"ptt-status",width:26,height:26})})]})}function D(){return(0,w.jsx)("div",{className:(0,f.default)(A.avatar,A.audioAvatar,A.forwardedPttAvatar),children:(0,w.jsx)(T.default,{name:"ptt-status",width:20,height:20,className:j})})}function L(){return(0,w.jsx)("div",{className:(0,f.default)(A.avatar,A.audioAvatar),children:(0,w.jsx)(T.default,{name:"audio-file",width:40,height:40})})}function B(e){let{audio:t,isPlaying:n}=e;const[a,r]=(0,c.useState)((0,i.default)(t)),o=(0,c.useCallback)((()=>{r((0,i.default)(t))}),[t]);(0,h.default)(o,{active:n}),(0,p.useListener)(t,"timeupdate",o),(0,p.useListener)(t,"ended",(()=>r(0)));const{theme:s}=(0,c.useContext)(M.ThemeContext);return(0,w.jsx)("div",{className:(0,f.default)(A.progressContainer),children:(0,w.jsx)("div",{className:(0,f.default)(A.progress,"light"===s&&A.progressLight,"dark"===s&&A.progressDark),style:{transform:`translateX(${100*a-100}%)`}})})}},92745:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchQuery=t.SEARCH_EVENT=void 0;var r=a(n(39693)),i=a(n(44908)),o=a(n(76521)),s=n(8139);const l="SEARCH_EVENT";t.SEARCH_EVENT=l;class u extends o.default{constructor(){super(...arguments),this.query="",this.filter={}}trimmed(){return this.query.trim()}highlighted(){const e=this.trimmed().toLowerCase().split(" ");return(0,i.default)((0,r.default)(e))}_isEmptySearchTerm(){return""===this.trimmed()||!this.trimmed()}isEmptyQuery(){return this._isEmptySearchTerm()&&((0,s.chatlistFiltersV1Enabled)()||!this.hasFilter())}hasFilter(){return this.hasKindFilter()||this.hasLabelFilter()}hasKindFilter(){return Boolean(this.filter.kind)}hasLabelFilter(){return Boolean(this.filter.label)}updateQuery(e){const t=this.query;this.query=e,e.trim()!==t&&this.trigger(l)}updateLabelQuery(e){this.filter=e||{}}clear(){this.updateQuery("")}equals(e,t){return this.query===e&&this.filter.kind===(null==t?void 0:t.kind)&&this.filter.label===(null==t?void 0:t.label)}}t.SearchQuery=u},55712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvisibleLabel=function(e){let{children:t}=e;return(0,a.jsx)("span",{"aria-label":t})},t.accessibleClickableButtonProps=void 0;var a=n(85893);t.accessibleClickableButtonProps=e=>{let{onClick:t,disabled:n}=e;const a=e=>null==t?void 0:t(e);return{onClick:e=>{!0!==n&&a(e)},onKeyPress:e=>{("Enter"===e.key||" "===e.key||"Spacebar"===e.key||13===e.which||32===e.which)&&(e.preventDefault(),a(e))},disabled:n,tabIndex:!0===n?-1:0,role:"button"}}},22402:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,y.default)(),t=(t,n,a)=>{let r=k.default.t(624),i=k.default.t(331),o=v.fbt._("Enable sounds and notifications?",null,{hk:"4B6qY1"});if(a&&(r=v.fbt._("Turn off all reactions notifications for:",null,{hk:"2Ghe4F"}),i=v.fbt._("Reactions notifications enabled",null,{hk:"4t3wuk"}),o=v.fbt._("Enable sounds and notifications for Reactions?",null,{hk:"4bKMS6"})),n)h.ModalManager.open((0,G.jsx)(P.default,{mute:t,title:r,onMute:(e,n)=>{t.mute(e),m.ToastManager.open((0,G.jsx)(L.Toast,{msg:V(n),id:(0,L.genId)()}))},muteAll:!0}),{transition:"modal",uim:e});else{const e=()=>{t.unmute(),h.ModalManager.close(),m.ToastManager.open((0,G.jsx)(L.Toast,{msg:i,id:(0,L.genId)()}))};h.ModalManager.open((0,G.jsx)(E.default,{onOK:e,okText:k.default.t(39),onCancel:()=>h.ModalManager.close(),cancelText:v.fbt._("Cancel",null,{hk:"H0gNq"}),children:o}))}},n=function(e,t,a,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT";if(!t)return Promise.reject(new c.ActionError);if(t.some((e=>!e.id)))return Promise.reject(new c.ActionError);const o=t.length,s=r||(0,C.genId)();let u={count:o,_plural:o};const d=new C.ActionType(k.default.t(79,u)),f=(0,l.sendDeleteMsgs)(e,t,a).then((e=>{if(e===o)return new C.ActionType(k.default.t(78,u));const t=o-e;return u={count:t,_plural:t},new C.ActionType(k.default.t(77,u))})).catch((()=>(__LOG__(3)`chatAction:sendDeleteMsgs dropped`,new C.ActionType(k.default.t(77,u),{actionText:k.default.t(122),actionHandler:()=>n(e,t,!1,s,i)}))));return m.ToastManager.open((0,G.jsx)(C.ActionToast,{id:s,toastPosition:i,initialAction:d,pendingAction:f})),f};return(0,b.useListener)(u.Cmd,["mute_all"],t),(0,b.useListener)(u.Cmd,["mute_all_call"],((t,n)=>{n?h.ModalManager.open((0,G.jsx)(P.default,{mute:t,title:v.fbt._("Turn off all desktop incoming calls for:",null,{hk:"2isMX6"}),onMute:(e,n)=>{t.muteCall(e),m.ToastManager.open((0,G.jsx)(L.Toast,{msg:W(n),id:(0,L.genId)()}))},muteAll:!0}),{transition:"modal",uim:e}):h.ModalManager.open((0,G.jsx)(E.default,{onOK:()=>{t.unmuteCall(),h.ModalManager.close(),m.ToastManager.open((0,G.jsx)(L.Toast,{msg:v.fbt._("Incoming calls enabled",null,{hk:"11LQU6"}),id:(0,L.genId)()}))},okText:k.default.t(39),onCancel:()=>h.ModalManager.close(),cancelText:v.fbt._("Cancel",null,{hk:"H0gNq"}),children:v.fbt._("Enable desktop incoming calls?",null,{hk:"1oiZtT"})}))})),(0,b.useListener)(u.Cmd,["mute_chat"],((t,n)=>{if(n){const n=k.default.t(487,{name:t.title()});h.ModalManager.open((0,G.jsx)(P.default,{title:n,mute:t.mute,onMute:e=>{t.pendingAction++,t.mute.mute(e,!0).finally((()=>{t.pendingAction--})),(t.isBusinessGroup||t.contact.isBusiness)&&(new A.default.BusinessMute).commit()}}),{transition:"modal",uim:e})}else t.pendingAction++,t.mute.unmute(!0).finally((()=>{t.pendingAction--})),(t.isBusinessGroup||t.contact.isBusiness)&&(new A.default.BusinessUnmute).commit()})),(0,b.useListener)(u.Cmd,["archive_chat"],((e,t,n)=>{e.pendingAction++,(0,N.setArchive)(e,t,n).catch((()=>{})).finally((()=>{e.pendingAction--}))})),(0,b.useListener)(u.Cmd,["clear_chat"],(t=>{var n;const a=()=>h.ModalManager.open((0,G.jsx)(S.default,{chat:t}),{transition:"modal",uim:e}),r=null!==(n=(0,i.default)(d.default,"localStorage").getItem(g.KEYS.SYNCD_FIRST_CLEAR_OR_DELETE))&&void 0!==n?n:"true";if((0,s.isMDBackend)()&&"true"===r){const e=(0,f.clearOrDeleteChatSyncEnabled)()?v.fbt._("Clearing or deleting entire chats will only remove messages from this device and your devices on the newer versions of WhatsApp.",null,{hk:"uNWq2"}):v.fbt._("Clearing or deleting entire chats will remove messages from this device only. They will not be removed from other devices.",null,{hk:"wnWlH"});h.ModalManager.open((0,G.jsx)(E.default,{title:v.fbt._("Changes to clearing or deleting a chat",null,{hk:"3B6GWK"}),onOK:()=>{(0,i.default)(d.default,"localStorage").setItem(g.KEYS.SYNCD_FIRST_CLEAR_OR_DELETE,"false"),a()},okText:v.fbt._("Continue",null,{hk:"2jbrZK"}),onCancel:()=>h.ModalManager.close(),children:(0,G.jsx)(D.TextDiv,{theme:"muted",children:e})}))}else a()})),(0,b.useListener)(u.Cmd,["mark_chat_unread"],((e,t)=>{e.pendingAction++,(0,B.markUnread)(e,t).finally((()=>{e.pendingAction--}))})),(0,b.useListener)(u.Cmd,["pin_chat"],((e,t)=>{(0,s.isMDBackend)()&&!(0,f.pinChatSyncEnabled)()?h.ModalManager.open((0,G.jsx)(E.default,{title:v.fbt._("Can't pin chat",null,{hk:"17sJeN"}),onOK:()=>{h.ModalManager.close()},okText:v.fbt._("Close",null,{hk:"19Jpec"}),children:v.fbt._("Pinning chats from web/desktop is not yet available on the multi-device beta",null,{hk:"24ieVt"})})):(e.pendingAction++,(0,R.setPin)(e,t).catch((()=>{})).finally((()=>{e.pendingAction--})))})),(0,b.useListener)(u.Cmd,["send_star_msgs"],H),(0,b.useListener)(u.Cmd,["send_unstar_msgs"],q),(0,b.useListener)(u.Cmd,["send_delete_msgs"],n),(0,b.useListener)(u.Cmd,["send_revoke_msgs"],((e,t,n)=>{var a,r;const{clearMedia:i}=n,o=null!==(a=n.toastId)&&void 0!==a?a:(0,C.genId)(),u=null!==(r=n.toastPosition)&&void 0!==r?r:"LEFT";if(!t)return Promise.reject(new c.ActionError);const[d,f]=t.reduce(((e,t)=>{const[n,a]=[t.canSenderRevoke()||t.canAdminRevoke(),t.type!==p.MSG_TYPE.GROUPS_V4_INVITE||t.isGroupsV4InviteExpired?null:t];return[e[0]||!n,e[1]||a]}),[!1,null]);if(d)return Promise.reject(new c.ActionError);f&&((e,t)=>{if((0,s.isMDBackend)())throw new Error("This call is only supported in non-MD mode");const n=t.inviteGrp,a=(0,_.getMaybeMeUser)().toString();F.default.revokeGroupV4Invite([t.to.toString()],n,a)})(0,f);const h=t.length,g={count:h,_plural:h},v=new C.ActionType(k.default.t(79,g)),b=(0,l.sendRevokeMsgs)(e,t,i).then((e=>{const t=e.filter((e=>e!==I.SendMsgResult.OK)).length;if(t>0)throw new Error(`${t} / ${e.length} dropped`);return new C.ActionType(k.default.t(78,g))})).catch((()=>(__LOG__(3)`chatAction:sendRevokeMsgs fail`,e.isEphemeralSettingOn()?new C.ActionType(k.default.t(76,g)):new C.ActionType(k.default.t(77,g)))));return m.ToastManager.open((0,G.jsx)(C.ActionToast,{id:o,toastPosition:u,initialAction:v,pendingAction:b})),b})),(0,b.useListener)(u.Cmd,["delete_or_exit_chat"],(t=>{var n;const a=e=>{t.pendingAction++,e.finally((()=>{t.pendingAction--}))},r=()=>h.ModalManager.open((0,G.jsx)(T.DeleteChatPopup,{chat:t,onDeleteOrExit:a}),{transition:"modal",uim:e}),o=null!==(n=(0,i.default)(d.default,"localStorage").getItem(g.KEYS.SYNCD_FIRST_CLEAR_OR_DELETE))&&void 0!==n?n:"true";if((0,s.isMDBackend)()&&(0,T.isDelete)(t)&&"true"===o){const e=(0,f.clearOrDeleteChatSyncEnabled)()?v.fbt._("Clearing or deleting entire chats will only remove messages from this device and your devices on the newer versions of WhatsApp.",null,{hk:"uNWq2"}):v.fbt._("Clearing or deleting entire chats will remove messages from this device only. They will not be removed from other devices.",null,{hk:"wnWlH"});h.ModalManager.open((0,G.jsx)(E.default,{title:v.fbt._("Changes to clearing or deleting a chat",null,{hk:"3B6GWK"}),onOK:()=>{(0,i.default)(d.default,"localStorage").setItem(g.KEYS.SYNCD_FIRST_CLEAR_OR_DELETE,"false"),r()},okText:v.fbt._("Continue",null,{hk:"2jbrZK"}),onCancel:()=>h.ModalManager.close(),children:(0,G.jsx)(D.TextDiv,{theme:"muted",children:e})}))}else r()})),(0,b.useListener)(u.Cmd,["product_image_viewer_modal"],((t,n)=>{h.ModalManager.openMedia((0,G.jsx)(j.default,{activeProductImage:t.activeProductImage,productImageCollection:t.productImageCollection,getZoomNode:t.getZoomNode,product:t.product,sessionId:n}),{transition:"media-viewer",uim:e})})),(0,b.useListener)(u.Cmd,["mute_all"],t),(0,b.useListener)(u.Cmd,["attach_product"],(t=>{let{product:n,onSend:a}=t;h.ModalManager.open((0,G.jsx)(O.SendProductModalLoadable,{product:n,onSend:a}),{transition:"modal-flow",uim:e})})),(0,b.useListener)(u.Cmd,["show_country_selector_popup"],((t,n,a,r)=>{h.ModalManager.open((0,G.jsx)(x.default,{title:t,countryCode:n,countries:a,onSave:r}),{transition:"modal",uim:e})})),(0,b.useListener)(u.Cmd,"show_merchant_details_entity_type_popup",((t,n)=>{h.ModalManager.open((0,G.jsx)(w.default,{legalEntityDetails:t,onSave:n}),{transition:"modal",uim:e})})),(0,b.useListener)(u.Cmd,["open_group_v4_invite_request_flow"],((e,t,n,a)=>{h.ModalManager.open((0,G.jsx)(M.GroupV4InviteFlowLoadable,{participantNeedInvite:e,groupGid:t,subject:n,groupDesc:a}))})),null};var r=n(50796),i=a(n(45095)),o=n(92574),s=n(88555),l=n(54907),u=n(81572),d=a(n(4285)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),f=n(8139),h=n(14597),p=n(15461),m=n(94816),g=n(46718),_=n(78820),v=n(48360),b=n(87550),y=a(n(95402)),C=n(46331),S=a(n(9712)),E=a(n(52665)),x=a(n(77835)),T=n(65640),M=n(18685),k=a(n(14296)),w=a(n(87868)),A=a(n(11339)),P=a(n(21398)),j=a(n(86455)),I=n(13705),O=n(54712),N=n(59992),R=n(10236),D=n(13923),L=n(50452),B=n(9609),F=a(n(56891)),G=n(85893);function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function V(e){switch(e){case 1:return v.fbt._("Alerts and sounds off for 1 hour",null,{hk:"aeCEy"});case 8:return v.fbt._("Alerts and sounds off for 8 hours",null,{hk:"16qxXR"});case 24:return v.fbt._("Alerts and sounds off for 1 day",null,{hk:"1XliNB"});case 168:return v.fbt._("Alerts and sounds off for 1 week",null,{hk:"2DHi5a"});default:return __LOG__(2)`DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:${e}`,v.fbt._("Alerts and sounds off",null,{hk:"3AeVPs"})}}function W(e){switch(e){case 1:return v.fbt._("Incoming calls off for 1 hour",null,{hk:"czSNR"});case 8:return v.fbt._("Incoming calls off for 8 hours",null,{hk:"21mgEI"});case 24:return v.fbt._("Incoming calls off for 1 day",null,{hk:"2wj1CR"});case 168:return v.fbt._("Incoming calls off for 1 week",null,{hk:"3DcWZf"});default:return __LOG__(2)`DoNotDisturbSettings:getMuteAllCallDurationLabel non standard global mute duration:${e}`,v.fbt._("Incoming calls off",null,{hk:"1rVYia"})}}function H(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new c.ActionError);if(t.some((e=>!e.id)))return Promise.reject(new c.ActionError);const i=n||(0,C.genId)(),s=t.length,u={count:s,_plural:s},d=new C.ActionType(k.default.t(83,u)),f=(0,l.sendStarMsgs)(e,t,!0).then((()=>new C.ActionType(k.default.t(82,u),{actionText:k.default.t(126),actionHandler:()=>q(e,t,i,a)}))).catch((0,r.filteredCatch)(o.ServerStatusCodeError,(t=>{if(t.status>=400)return e.isEphemeralSettingOn()?new C.ActionType(k.default.t(80,u)):new C.ActionType(k.default.t(81,u))}))).catch((()=>(__LOG__(3)`chatAction:sendStarMsgs dropped`,new C.ActionType(k.default.t(81,u),{actionText:k.default.t(122),actionHandler:()=>H(e,t,i,a)}))));return m.ToastManager.open((0,G.jsx)(C.ActionToast,{id:i,toastPosition:a,initialAction:d,pendingAction:f})),f}function q(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new c.ActionError);if(t.some((e=>!e.id)))return Promise.reject(new c.ActionError);const i=n||(0,C.genId)(),s=t.length,u={count:s,_plural:s},d=new C.ActionType(k.default.t(89,u)),f=(0,l.sendStarMsgs)(e,t,!1).then((()=>new C.ActionType(k.default.t(87,u),{actionText:k.default.t(126),actionHandler:()=>H(e,t,i,a)}))).catch((0,r.filteredCatch)(o.ServerStatusCodeError,(t=>{if(t.status>=400)return e.isEphemeralSettingOn()?new C.ActionType(k.default.t(85,u)):new C.ActionType(k.default.t(86,u))}))).catch((()=>(__LOG__(3)`chatAction:sendUnstarMsgs dropped`,new C.ActionType(k.default.t(86,u),{actionText:k.default.t(122),actionHandler:()=>q(e,t,i,a)}))));return m.ToastManager.open((0,G.jsx)(C.ActionToast,{id:i,toastPosition:a,initialAction:d,pendingAction:f})),f}},91962:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=n(89385),s=n(13959),l=r(n(47259)),u=n(81572),d=n(30764),c=r(n(62831)),f=r(n(41143)),h=n(67294),p=r(n(8694)),m=r(n(9294)),g=n(85893);const _={duration:300,easing:[.1,.82,.25,1]};class v extends h.Component{constructor(){super(...arguments),this.containerHeight=0,this._childAnimations=[],this.didCancel=!1,this._unmounting=!1,this.state={children:this.props.children},this._refChildren=new Map,this._setRefChild=(e,t)=>{t?this._refChildren.set(e,t):this._refChildren.delete(e)},this._setChildRefCache=new m.default(this._setRefChild),this._heightCallbackCache=new Map}componentWillUnmount(){this._unmounting=!0}_getHeightChange(e,t){return e.reduce(((e,n)=>{if(n<t)return e;const a=this._refChildren.get(`${n}`);return a?e+a.clientHeight:e}),0)}_animateElement(e,t,n,r){var i;this._childAnimations[e]&&(this.didCancel=!0,this._childAnimations[e].controller.abort());const d=n>0?[0,n]:[-n,0],f=new a,h=((null===(i=this._childAnimations[e])||void 0===i?void 0:i.promise)||Promise.resolve()).then((()=>(0,c.default)(t,{translateY:d},_))).then((()=>(0,s.delayMs)(100))),p=(0,l.default)(h,f.signal).then((()=>{if(f.signal.aborted)throw new o.AbortError;return n<0&&(r.includes(e)?t.style.opacity="0":t.style.transform=""),e})).catch((0,o.catchAbort)((()=>((0,c.default)(t,"stop",!0),t.style.transform="",!1)))).finally((t=>{if(!this.didCancel)return delete this._childAnimations[e],u.Cmd.setUiBusy(!1,"animation_group"),t;this.didCancel=!1}));return this._childAnimations[e]={promise:p,controller:f},p}_transitionAffected(e,t){var n=this;return(0,i.default)((function*(){if(!e)return Promise.resolve(new Set);const a=[],[r]=e.slice(-1);for(let i=0;i<=r;++i){const r=n._refChildren.get(`${i}`);r&&a.push(n._animateElement(i,r,(t?1:-1)*n._getHeightChange(e,i),e))}const i=yield Promise.all(a);return new Set(i.filter((e=>!1!==e)))}))()}_notifyHeightChange(e,t){e.length&&this.props.onHeightChange&&this.props.onHeightChange((t?1:-1)*this._getHeightChange(e,0))}static getDerivedStateFromProps(e,t){const n=e.children,a=t.children;let r=!1;const i=a.map(((e,t)=>{var a;const i=null!==(a=n[t])&&void 0!==a?a:e;return i!==e&&(r=!0),i}));return r?{children:i}:null}componentDidUpdate(e,t){const n=this.state.children,a=t.children;(0,f.default)(n.length===a.length&&this.props.children.length===n.length,"The number of children in an AnimationGroup must remain constant. Render null for children you don't want to appear.");const r=n.map(((e,t)=>t)),i=r.filter((t=>null!=this.props.children[t]&&null==e.children[t])),o=r.filter((t=>null==this.props.children[t]&&null!=e.children[t]));o.length>0&&(o.forEach((()=>{this.busyId=d.UIBusyTasks.setBusy(this.busyId),u.Cmd.setUiBusy(!0,"animation_group")})),this._notifyHeightChange(o,!1),this._transitionAffected(o,!1).then((e=>{this._unmounting||0!==e.size&&this.setState((t=>({children:t.children.map(((t,n)=>e.has(n)?null:t))})),(()=>{d.UIBusyTasks.decBusy(this.busyId)}))}))),i.length>0&&(i.forEach((()=>{this.busyId=d.UIBusyTasks.setBusy(this.busyId),u.Cmd.setUiBusy(!0,"animation_group")})),this._notifyHeightChange(i,!0),this._transitionAffected(i,!0).then((()=>{d.UIBusyTasks.decBusy(this.busyId)})))}componentDidMount(){const e=this.state.children.reduce(((e,t,n)=>{const a=this._refChildren.get(`${n}`);return a?(a.style.transform="translateY(0)",e+a.clientHeight):e}),0);this.props.onHeightChange(e,!0)}_childHeightCallback(e){const t=this._heightCallbackCache.get(e);if(t)return t;const n=this._refChildren.get(`${e}`);let a=n?n.clientHeight:0;const r=e=>{let{height:t}=e;a&&t&&t!==a?(this.props.onHeightChange(t-a),a=t):a=t};return this._heightCallbackCache.set(e,r),r}_cloneChild(e,t){if(!e)return e;const n=this._setChildRefCache.getRefSetter(`${t}`);return(0,h.cloneElement)(e,{ref:n})}render(){return this.state.children.map(((e,t)=>(0,g.jsx)(p.default,{onResize:this._childHeightCallback(t),children:this._cloneChild(e,t)},`.${t}`)))}}t.default=v,v.displayName="AnimationGroup"},79013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294),r=n(85893);function i(e,t){let{children:n}=e;return(0,r.jsx)("div",{ref:t,children:n})}var o=(0,a.forwardRef)(i);t.default=o},62190:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{annotations:t,onTooltipDisplay:n,onTooltipDismiss:a}=e,[d,v]=(0,s.useState)(null),y=()=>{v(null),a&&a()},S=(e,t,a)=>{if(null==t&&null==a)return;const{location:s}=e,u=(0,h.getMapUrl)((0,i.default)(s.degreesLatitude,"location.degreesLatitude"),(0,i.default)(s.degreesLongitude,"location.degreesLongitude"));let d={menu:(0,_.jsx)(f.ExternalLink,{href:u,className:(0,l.default)(b),onClick:y,children:o.fbt._("See Location",null,{hk:"2Uutdu"})}),type:c.MenuType.Tooltip,dirX:c.DirX.RIGHT,dirY:c.DirY.TOP};d=null!=t?(0,r.default)((0,r.default)({},d),{},{event:t,autoFocus:!1,offsetX:0,offsetY:0}):(0,r.default)((0,r.default)({},d),{},{anchor:a,autoFocus:!0}),v(d),n&&n()},E=(0,u.default)((()=>{y()}),100);if(!t.length)return null;const x=d&&(0,_.jsx)(m.UIE,{displayName:"InteractiveAnnotationTooltip",popable:!0,escapable:!0,dismissOnWindowResize:!0,requestDismiss:y,requestRecentFocusOnUnmount:!1,children:(0,_.jsx)(g.default,{tooltip:d})});return(0,_.jsxs)(_.Fragment,{children:[t.map((e=>function(e){const{polygonVertices:t,location:n}=e,[a,,r]=t;return null!=a&&null!=a.x&&null!=a.y&&null!=r&&null!=r.x&&null!=r.y&&(null!=n.degreesLatitude&&null!=n.degreesLongitude)}(e)&&(0,_.jsx)(C,{annotation:e,onClick:t=>((e,t)=>{e.stopPropagation(),S(t,e)})(t,e),onKeyDown:t=>((e,t)=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),S(t,null,e.target))})(t,e)},function(e){const[t,,n]=e.polygonVertices;return`${(0,i.default)(t.x,"topLeft.x")}:${(0,i.default)(t.y,"topLeft.y")}:${(0,i.default)(n.x,"bottomRight.x")}:${(0,i.default)(n.y,"bottomRight.y")}`}(e)))),x,(0,_.jsx)(p.default,{onResize:E})]})};var r=a(n(81109)),i=a(n(45095)),o=n(48360),s=n(67294),l=a(n(56720)),u=a(n(51799)),d=a(n(59312)),c=n(60811),f=n(12591),h=n(8384),p=a(n(8694)),m=n(18644),g=a(n(46780)),_=n(85893);const v={position:"lhggkp7q",zIndex:"thghmljt"},b={display:"f804f6gw",paddingTop:"eujn52yf",paddingEnd:"f9ovudaz",paddingBottom:"ckm995li",paddingStart:"gx1rr48f",fontSize:"bjmq0orh"};function y(e,t){if(null==e)return null;const n=e.parentNode;if(!(null!=n&&n instanceof HTMLElement))return null;let[a,r,o]=t.polygonVertices;(0,i.default)(a.x,"topLeft.x")!==(0,i.default)(r.x,"topRight.x")&&(0,i.default)(r.y,"topRight.y")!==(0,i.default)(o.y,"bottomRight.y")||([,a,r,o]=t.polygonVertices);const s=(0,i.default)(a.x,"topLeft.x"),l=(0,i.default)(a.y,"topLeft.y"),u=(0,i.default)(r.x,"topRight.x"),d=(0,i.default)(r.y,"topRight.y"),c=(0,i.default)(o.y,"bottomRight.y"),f=s*n.offsetWidth,h=l*n.offsetHeight,p=n.offsetWidth*(s-u),m=n.offsetHeight*(l-d),g=s>u?Math.PI:0,_=p?Math.atan(m/p)+g:0,v=180*_/Math.PI,b=Math.abs(p/Math.cos(_)),y=Math.abs(n.offsetHeight*(c-d)/Math.cos(_));return{left:Math.round(f),top:Math.round(h),width:Math.round(b),height:Math.round(y),transform:`rotate(${v}deg)`,transformOrigin:"top left"}}function C(e){const{annotation:t}=e,n=(0,d.default)(),a=(0,s.useRef)(null);return(0,s.useEffect)((()=>{n()}),[]),(0,_.jsx)("div",{ref:a,className:(0,l.default)(v),style:y(a.current,t),onClick:n=>e.onClick(n,t),onKeyDown:n=>e.onKeyDown(n,t),role:"button","aria-label":t.location.name,tabIndex:"0"})}},18633:(e,t,n)=>{"use strict";var a=n(95318);t.Z=function(e){let{cmd:t,untypedData:n,isExternal:a,sessionId:P}=e;const j=a?v.default.DEEP_LINK_OPEN_FROM.DEEP_LINK_EXTERNAL:v.default.DEEP_LINK_OPEN_FROM.DEEP_LINK_WA_LINK_CLICK;switch(t){case m.APICmd.GROUP_INVITE:s.Cmd.closeStatusViewer();const e=n;return(0,u.communitiesEnabled)()?d.ModalManager.open((0,A.jsx)(b.default,{groupCode:e.code})):d.ModalManager.open((0,A.jsx)(p.default,{groupCode:e.code})),new v.default.DeepLinkOpen({deepLinkOpenFrom:j,deepLinkType:v.default.DEEP_LINK_TYPE.DEEP_LINK_GROUP_INVITE}).commit(),!0;case m.APICmd.CATALOG:{s.Cmd.closeStatusViewer();const{catalogOwnerJid:e}=n;return function(e){d.ModalManager.open((0,A.jsx)(y.OpenChatFlow,{chatId:(0,c.createWid)(e),onSuccess:t=>{window.setTimeout((()=>{(0,u.canViewCollections)()&&x.QPL.markerStart(T.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Deeplink"}}}),l.DrawerManager.openDrawerRight((0,A.jsx)(E.ProductDetailsFlowLoadable,{chat:t,catalogOwnerJid:e}),"slide-left",w.UIM.Manager.getTop(),(0,C.buildProductCatalogContext)())}),100)},msgText:null}),{transition:"modal-flow"})}(e),new v.default.DeepLinkOpen({deepLinkOpenFrom:j,deepLinkType:v.default.DEEP_LINK_TYPE.DEEP_LINK_CATALOG}).commit(),!0}case m.APICmd.PRODUCT:{s.Cmd.closeStatusViewer();const{businessOwnerJid:e,productId:t}=n;return function(e,t){const n=(0,C.buildProductCatalogContext)(new S.ProductCatalogSession,(0,f.getMaybeBizPlatformForLogging)(e),v.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_DEEPLINK);(0,g.logProductDeepLinkOpen)({catalogOwnerJid:e,catalogContext:n}),d.ModalManager.open((0,A.jsx)(y.OpenChatFlow,{chatId:(0,c.createWid)(e),onSuccess:a=>{window.setTimeout((()=>{(0,_.qplStartProductView)("Deeplink"),l.DrawerManager.openDrawerRight((0,A.jsx)(E.ProductDetailsFlowLoadable,{chat:a,productInfo:{productId:t,businessOwnerJid:e},refreshCarousel:!0}),"slide-left",w.UIM.Manager.getTop(),n)}),100)},msgText:null}),{transition:"modal-flow"})}(e,t),new v.default.DeepLinkOpen({deepLinkOpenFrom:j,deepLinkType:v.default.DEEP_LINK_TYPE.DEEP_LINK_PRODUCT}).commit(),!0}case m.APICmd.MSG_SEND:s.Cmd.closeStatusViewer();const t=n,{text:a,phone:I,customURL:O,conversionTuple:N}=t,R=k.ServerProps.ctwaContextCompose?t.ctwaContextLinkData:void 0,D=null!=O&&(0,u.isSmbMelonDisplayEnabled)();if(I||D){const e=null!=P&&(0,u.smbClickToChatLoggingEnabled)()?{handleOnce(){new v.default.DeepLinkMsgSent({deepLinkAction:v.default.DEEP_LINK_ACTION.MSG_SENT,deepLinkSessionId:P}).commit()}}:void 0;d.ModalManager.open((0,A.jsx)(y.OpenChatFlow,(0,r.default)((0,r.default)({},function(e){let{phone:t,customURL:n,url:a}=e;if(null!=t)return{chatId:(0,c.createWid)(t)};return{customURL:(0,i.default)(n,"customURL"),fallbackURL:a}}(t)),{},{msgText:a,onSuccess:e=>{N&&h.default.add((0,r.default)((0,r.default)({},N),{},{id:e.id,timestamp:o.Clock.globalUnixTime()}),{merge:!0}),a&&(e.urlText=!0),e.urlNumber=!0},ctwaContextLinkData:R,sendLogAttributes:e})),{transition:"modal-flow"}),new v.default.DeepLinkOpen({deepLinkOpenFrom:j,deepLinkType:R?v.default.DEEP_LINK_TYPE.DEEP_LINK_CTWA:v.default.DEEP_LINK_TYPE.DEEP_LINK_CHAT,deepLinkSessionId:P}).commit()}else d.ModalManager.open((0,A.jsx)(M.SendMsgMultiModalLoadable,{msgText:a,urlText:!0}),{transition:"modal-flow"}),new v.default.DeepLinkOpen({deepLinkOpenFrom:j,deepLinkType:v.default.DEEP_LINK_TYPE.DEEP_LINK_MSG_FORWARD}).commit();return!0;case m.APICmd.PUSH_NOTIFICATION:return!0;default:return!1}};var r=a(n(81109)),i=a(n(45095)),o=n(40234),s=n(81572),l=n(41455),u=n(8139),d=n(14597),c=n(45454),f=n(62632),h=a(n(35667)),p=a(n(42547)),m=n(51650),g=n(77975),_=n(82145),v=a(n(11339)),b=a(n(66032)),y=n(61585),C=n(97567),S=n(9153),E=n(67455),x=n(48870),T=n(27798),M=n(49824),k=n(64551),w=n(89618),A=n(85893)},77853:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareCtwaContextSend=function(e,t){if(t)return(0,r.default)({},t);if(null==e?void 0:e.sourceUrl){var n,a;const t=e.sourceUrl;if(null==t||""===t)return;const r=i.findLink(e.sourceUrl,!1,(0,o.getMaybeMeUser)());return{sourceUrl:t,sourceType:"",sourceId:"",mediaType:s.ContextInfo$ExternalAdReplyInfoMediaType.NONE,isSuspiciousLink:!(null===(n=null==r||null===(a=r.suspiciousCharacters)||void 0===a?void 0:a.size)||void 0===n||!n)}}return};var r=a(n(81109)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(95726)),o=n(78820),s=n(24808);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},79928:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t}=e,n=(0,r.useModelValues)(e.chat,["archive"]),a=e.onArchive.bind(null,!n.archive);return(0,s.jsx)(i.DropdownItem,{a8n:"mi-archive",action:a,disabled:t,children:n.archive?o.default.t(625):o.default.t(134)},"ArchiveMenuItem")};var r=n(35461),i=n(71174),o=a(n(14296)),s=n(85893)},46918:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t}=e;return(0,s.jsx)("div",{className:(0,r.default)((0,i.default)(l),t),children:(0,s.jsx)(o.Spinner,{size:50,stroke:3,color:"solidwhite"})})};var r=a(n(94184)),i=a(n(56720)),o=n(11054),s=n(85893);const l={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",backgroundColor:"epdck8xl",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"}},80252:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{theme:t,svg:n}=e,a=(0,r.default)(i.default.badge,{[i.default.pending]:"pending"===t,[i.default.warning]:"warning"===t}),l=n?(0,s.jsx)(o.default,{className:i.default.icon,name:n}):null;return(0,s.jsx)("div",{className:a,children:l})};var r=a(n(94184)),i=a(n(95258)),o=a(n(23217)),s=n(85893)},96021:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(48926)),o=a(n(6479)),s=n(89385),l=n(22712),u=n(26741),d=n(67294),c=a(n(55010)),f=a(n(89113)),h=a(n(6309)),p=a(n(82796)),m=n(85893);const g=["autoPlay","className","children","srcObject","onPlaying"];function _(e,t){let{autoPlay:n,className:a,children:_,srcObject:v,onPlaying:b}=e,y=(0,o.default)(e,g);const C=(0,d.useRef)(0),S=(0,d.useRef)(null),E=(0,d.useRef)(null),x=()=>{const e=S.current;e&&(e.paused||e.videoHeight>0&&e.videoWidth>0&&(null==b||b()))},T=function(){var e=(0,i.default)((function*(){const e=S.current;if(!e)return Promise.reject(new Error("cannot play unmounted video"));if(!e.paused)return Promise.resolve();e.removeEventListener("playing",x);try{yield(0,h.default)(e),e.addEventListener("playing",x),x()}catch(u){var t,n,a,r,i,o,l;if(e.addEventListener("playing",x),u.name===s.ABORT_ERROR)return void __LOG__(3)`video.play() promise rejected w/ AbortError: ${u.message}, error code: ${u.code}`;const d=null!==(t=null===(n=S.current)||void 0===n||null===(a=n.error)||void 0===a?void 0:a.message)&&void 0!==t?t:"",c=null!==(r=null===(i=S.current)||void 0===i||null===(o=i.error)||void 0===o?void 0:o.code)&&void 0!==r?r:"";__LOG__(3)`video.play() promise rejected: ${d} The error code is ${c}.`,null===(l=y.onError)||void 0===l||l.call(y,u)}}));return function(){return e.apply(this,arguments)}}(),M=(0,f.default)((()=>{T()})),k=(0,f.default)((()=>{const e=S.current;!0!==(null==e?void 0:e.paused)&&(null==e||e.pause())})),w=(0,f.default)((()=>{var e,t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.volume)&&void 0!==e?e:0})),A=(0,f.default)((e=>{S.current&&(S.current.volume=e)})),P=(0,f.default)((()=>{var e,t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.muted)&&void 0!==e&&e})),j=(0,f.default)((e=>{S.current&&(S.current.muted=e)})),I=(0,f.default)((()=>{var e,t;return null===(e=null===(t=S.current)||void 0===t?void 0:t.paused)||void 0===e||e})),O=(0,f.default)((()=>{var e,t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.currentTime)&&void 0!==e?e:0})),N=(0,f.default)((e=>{S.current&&(S.current.currentTime=e)})),R=(0,f.default)((()=>{var e,t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.duration)&&void 0!==e?e:0})),D=(0,f.default)((e=>{S.current&&(S.current.duration=e)})),L=(0,f.default)((()=>{const e=S.current;e&&(e.currentTime=0,k())})),B=(0,f.default)((()=>{var e,t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.buffered)&&void 0!==e?e:null})),F=(0,f.default)((()=>S.current));(0,d.useImperativeHandle)(t,(()=>({play:M,pause:k,getPaused:I,getCurrentTime:O,setCurrentTime:N,getDuration:R,setDuration:D,getVolume:w,setVolume:A,getMuted:P,setMuted:j,getBuffered:B,underlyingVideo:F,pauseAndReset:L})),[M,k,I,O,N,R,D,w,A,P,j,B,F,L]);const G=()=>{const e=S.current;if(e&&(e.removeEventListener("playing",G),!e.videoHeight||!e.videoWidth)){k(),M();const e=6;let t;C.current<e&&C.current++,C.current>1&&C.current<e&&(t=`the height and width of the video is not zero, count (larger than 1): ${C.current}`),C.current>=e&&(t=`the height and width of the video is not zero, count larger than ${C.current}`),t&&(__LOG__(4,void 0,new Error,!0)`Assertion failed! ${t}`,SEND_LOGS("non-zero height and width"))}},U=(e,t)=>{if(!0!==n)return;e.removeEventListener("playing",G),e.addEventListener("playing",G);(null!=e.srcObject||t&&e.paused)&&M()};return(0,d.useEffect)((()=>{const e=S.current;null!=e&&!0===n&&U(e,!0)}),[n]),(0,c.default)((()=>{var e;null===(e=E.current)||void 0===e||e.call(E)})),(0,m.jsx)("video",(0,r.default)((0,r.default)({ref:e=>{var t,a;e!==S.current&&(null===(t=S.current)||void 0===t||t.removeEventListener("playing",x),null===(a=E.current)||void 0===a||a.call(E),S.current=e,null!=e&&(E.current=l.MainAudioChannel.registerMedia(e),"srcObject"in e&&v?e.srcObject=v:e.src||__LOG__(3)`srcObject is not supported in video tag while src is not set.`,e.addEventListener("playing",x),!0===n&&U(e,u.UA.isGecko||u.UA.isSafari)))},autoPlay:null!=y.src?n:void 0,className:null!=a?a:p.default.video},y),{},{children:_}))}var v=(0,d.forwardRef)(_);t.default=v},22245:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.jsx)("div",{className:(0,r.default)(o)})};var r=a(n(56720)),i=n(85893);const o={boxSizing:"cm280p3y",height:"kanlod6e",marginStart:"kozhillt",borderTop:"kagi745y"}},44356:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(99964)),i=a(n(94184)),o=a(n(26150)),s=n(85893);var l=e=>{var t;const n=Boolean("disabled"!==e.theme&&(e.onClick||e.onMouseDown||e.onMouseEnter||e.onMouseOver)),a=(0,i.default)(e.className,o.default.chat,{[o.default.chatInteractive]:n,[o.default.cartProduct]:"cart-product"===e.theme,[o.default.themeCheckbox]:e.checkbox||"chat-checkbox"===e.theme||"label-list"===e.theme||"chat-checkbox-no-delete"===e.theme||"cell-message-checkbox"===e.theme||"chat-checkbox-disabled"===e.theme,[o.default.themeDrawerList]:"drawer-list"===e.theme||"chat-info"===e.theme||"subgroup"===e.theme,[o.default.themeChatInfo]:"chat-info"===e.theme,[o.default.themeSubgroup]:"subgroup"===e.theme,[o.default.themeCommunityHome]:"community-home"===e.theme,[o.default.themeIdentity]:"identity"===e.theme,[o.default.themeListNames]:"list-names"===e.theme||"list-names-no-delete"===e.theme,[o.default.themeMessage]:"cell-message"===e.theme||"cell-message-checkbox"===e.theme,[o.default.themePlain]:"plain"===e.theme,[o.default.themeSearch]:"chat-search"===e.theme,[o.default.themeStatus]:"status-list"===e.theme,[o.default.themeLabel]:"label-selection"===e.theme,[o.default.themeAddItem]:"add-item"===e.theme,[o.default.themeAddItemPlaceholder]:"add-item-placeholder"===e.theme,[o.default.themeAddOrderItem]:"add-order-item"===e.theme,[o.default.idle]:e.idle,[o.default.member]:"group-modal"===e.theme||"chat-checkbox-no-delete"===e.theme,[o.default.unread]:!!e.unread,[o.default.chatDrag]:!!e.dragging,[o.default.active]:!!e.active,[o.default.isMuted]:!!e.isMuted,[o.default.groupV4Invite]:"group_v4_invite"===e.theme,[o.default.product]:"product"===e.theme||"product-out-of-stock"===e.theme||"product-of-collection"===e.theme||"collection-header"===e.theme||"collection-edit"===e.theme,[o.default.productOfCollection]:"product-of-collection"===e.theme,[o.default.productOutOfStock]:"product-out-of-stock"===e.theme,[o.default.collectionEdit]:"collection-edit"===e.theme,[o.default.collectionHeader]:"collection-header"===e.theme,[o.default.orderProduct]:"order-product"===e.theme,[o.default.media]:"media"===e.theme,[o.default.listButton]:"list-button-compact"===e.theme,[o.default.listMsg]:"list-msg"===e.theme,[o.default.archivePanel]:"archive-panel"===e.theme,[o.default.themeRadioButtonRow]:"radio-button-row"===e.theme,[o.default.stickerPack]:"sticker-pack"===e.theme,[o.default.themeReaction]:"reaction"===e.theme,[o.default.disabled]:"disabled"===e.theme,[o.default.linkedAccount]:"linked-account"===e.theme||"linked-account-consumer"===e.theme,[o.default.linkedAccountConsumer]:"linked-account-consumer"===e.theme,[o.default.themeCheckboxDisabled]:"chat-checkbox-disabled"===e.theme,[o.default.themeCommunityTabHome]:"community-tab-home"===e.theme,[o.default.themeCommunityTabSubgroup]:"community-tab-subgroup"===e.theme,[o.default.themeCommunityTabSeeAll]:"community-tab-see-all"===e.theme,[o.default.themeNoBorder]:"no-border"===e.theme});let l;e.image&&(l=e.customImage?e.image:(0,s.jsx)("div",{className:o.default.chatAvatar,children:e.image}));const u=null!=e.primaryDetail?(0,s.jsx)("div",{className:(0,i.default)({[o.default.chatMeta]:!["product","product-out-of-stock","product-of-collection"].includes(e.theme)&&"sticker-pack"!==e.theme}),children:e.primaryDetail}):null;let d,c;null!=e.secondary&&(c=null!=e.secondaryDetail?(0,s.jsx)("div",{role:"gridcell","aria-colindex":"1",className:o.default.chatMeta,children:e.secondaryDetail}):null,d=(0,s.jsxs)("div",{className:o.default.chatSecondary,children:[(0,s.jsx)("div",{className:o.default.chatStatus,children:e.secondary}),c]}));const f=null!=e.detail?(0,s.jsx)("div",{className:(0,i.default)(o.default.chatBody,o.default.chatDetails),children:e.detail}):null,h=null!==(t=e.a8n)&&void 0!==t?t:"chat-card";return(0,s.jsxs)("div",{ref:e.setDivRef,"data-testid":"cell-frame-container","data-a8n":r.default.key(h),className:a,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,children:[(0,s.jsx)("div",{className:o.default.image,children:l}),(0,s.jsxs)("div",{className:o.default.chatBody,children:[(0,s.jsxs)("div",{role:"gridcell","aria-colindex":"2",className:(0,i.default)(o.default.chatMain,{[o.default.noDelete]:"list-names-no-delete"===e.theme}),children:[(0,s.jsx)("div",{className:o.default.chatTitle,children:e.primary}),u]}),d]}),f]})};t.default=l},32756:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)(o.default.chatSubtitle,{[o.default.chatSubtitleHeader]:"title"===e.location});return(0,l.jsx)("div",{"data-a8n":r.default.key("chat-subtitle"),className:t,children:(0,l.jsx)(s.EmojiText,{titlify:!0,className:o.default.chatSubtitleText,direction:"inherit",text:e.text,selectable:!0})})};var r=a(n(99964)),i=a(n(94184)),o=a(n(65006)),s=n(65417),l=n(85893)},16593:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CHECKBOX_THEME=void 0,t.CheckBox=function(e){let{checked:t,id:n,onChange:a,theme:c,disabled:f=!1,tabIndex:h}=e;const p=(0,r.useRef)(null),m=t&&c===d.PARTIAL,[g,_]=(0,o.default)(),v=(0,s.default)(p,g);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{ref:v,className:(0,i.default)(u.a11yHidden),checked:t,disabled:!!f||void 0,indeterminate:!!m||void 0,onClick:e=>{e.stopPropagation()},onChange:function(e){e.stopPropagation();const t=p.current;null!=t&&t.focus(),a(e)},type:"checkbox",id:n,tabIndex:null!=h?h:0}),(0,l.jsx)("div",{onClick:function(e){var t;e.preventDefault(),null===(t=p.current)||void 0===t||t.click()},className:(0,i.default)(u.checkboxContainer,f&&u.disabledCheckboxContainer,_&&u.itemFocused),tabIndex:-1,"aria-hidden":"true","data-testid":"visual-checkbox",children:(0,l.jsx)("div",{className:(0,i.default)(u.checkbox,t&&u.checkedCheckbox,f&&u.disabledCheckbox,f&&!t&&c===d.OUTLINE&&u.disabledCheckboxOutline),children:(0,l.jsx)("div",{className:(0,i.default)(u.checkmark,t&&c!==d.PARTIAL&&u.checkedCheckmark,!t&&u.uncheckedCheckmark,m&&u.partialCheckmark)})})})]})};var r=n(67294),i=a(n(56720)),o=a(n(85647)),s=a(n(78506)),l=n(85893);const u={checkboxContainer:{position:"g0rxnol2",display:"l7jjieqr",width:"dh5rsm73",height:"hpdpob1j",verticalAlign:"neme6l2y",cursor:"ajgl1lbb",borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",transform:"cgi16xlc"},disabledCheckboxContainer:{cursor:"bx7g2weo"},checkbox:{position:"g0rxnol2",boxSizing:"cm280p3y",height:"ppled2lx",pointerEvents:"m62443ks",backgroundColor:"thr4l2wc",borderTop:"cd4l02zd",borderEnd:"m98q8jdg",borderBottom:"aickbkrb",borderStart:"h0ed51ke",borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",transitionProperty:"cpfmwfku",transitionDuration:"eliz2k8b"},checkedCheckbox:{backgroundColor:"diqd3znl",borderTopColor:"qei0rtf7",borderEndColor:"toeh7gh7",borderBottomColor:"nncek28p",borderStartColor:"br6oik82"},disabledCheckbox:{backgroundColor:"hntizkrm",borderTopColor:"o163osd1",borderEndColor:"cfczyq4y",borderBottomColor:"fkk8pyer",borderStartColor:"g6apb8n0"},disabledCheckboxOutline:{backgroundColor:"thr4l2wc"},checkmark:{position:"lhggkp7q",top:"hdpg1tjz",left:"ptatjang",width:"dj32rci9",height:"g965lu3b",borderTop:"q4zabkcz",borderRight:"q0ohlrvj",borderBottom:"av59jz02",borderLeft:"grf4wkbn",transform:"hir9ny8g"},checkedCheckmark:{opacity:"bs7a17vp",animationName:"b73q89nx",animationTimingFunction:"em5jvqoa",animationFillMode:"a21kwdn3",animationDuration:"ehl15zf9"},uncheckedCheckmark:{opacity:"axi1ht8l"},partialCheckmark:{position:"lhggkp7q",width:"dj32rci9",height:"g965lu3b",borderTop:"q4zabkcz",borderRight:"q0ohlrvj",borderBottom:"thn59n0e",borderLeft:"grf4wkbn",transform:"pdwgdm2l"},a11yHidden:{position:"lhggkp7q",width:"cxec7x23",height:"kanlod6e",overflowX:"gfz4du6o",overflowY:"r7fjleex",clip:"nmeg1xfo",clipPath:"okm7a8wg",whiteSpace:"le5p0ye3"},itemFocused:{borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",boxShadow:"lgxs6e1q"}},d={PARTIAL:"PARTIAL",OUTLINE:"OUTLINE"};t.CHECKBOX_THEME=d},9275:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,i.useState)(!1);let a,d;e.checked?(d=e.radio?"checkbox-round-radio-checked":"checkbox-round-checked",a="checked"):(a="unchecked",d=e.hover?"checkbox-round-unchecked":"checkbox-round-passive");const c=e.checked?[]:[u.uncheckedSvgStyle,!0===e.systemUncheckedColor?u.iconPathFillSecondary:u.iconPathFillWhite,t&&!(!0===e.systemUncheckedColor)&&u.uncheckedSvgHoverStyle],f=(0,i.useCallback)((()=>n(!0)),[]),h=(0,i.useCallback)((()=>n(!1)),[]);return(0,l.jsx)(r.default,{className:(0,o.default)(u.container),transitionName:"pop",children:(0,l.jsx)("div",{className:(0,o.default)(u.roundIcon),onClick:t=>{t&&t.stopPropagation(),e.onChange()},onMouseEnter:f,onMouseOver:f,onMouseLeave:h,children:(0,l.jsx)(s.default,{name:d,iconXstyle:c})},a)})};var r=a(n(40436)),i=n(67294),o=a(n(56720)),s=a(n(23217)),l=n(85893);const u={container:{position:"g0rxnol2",display:"l7jjieqr",width:"m0s4cjtr",height:"jdwybkuq",verticalAlign:"neme6l2y",cursor:"ajgl1lbb",transform:"qlxkrvdn"},roundIcon:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx"},uncheckedSvgStyle:{fillOpacity:"hdyxztb8",transitionDuration:"slppp3mo",transitionProperty:"ec3rya3v",transitionTimingFunction:"pu4k07i0"},uncheckedSvgHoverStyle:{fillOpacity:"io7enyfj"},iconPathFillWhite:{color:"qiqvuef5"},iconPathFillSecondary:{color:"pm5hny62"}}},61991:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonType=void 0,t.ChevronButton=function(e){let{type:t,onClick:n,onKeyDown:a,disabled:o,theme:h,overMedia:p}=e;const m=(0,r.default)(i.default.btn,{[i.default.btnMediaPrev]:t===d.Prev,[i.default.btnMediaNext]:t===d.Next,[i.default.disabledBtn]:o,[i.default.overMedia]:p}),g=c[t],_=f[t];return(0,u.jsx)(s.Round,{className:m,onClick:o?null:n,onKeyDown:a,label:g,theme:h,disabled:o,children:(0,u.jsx)(l.default,{name:_,title:g,directional:!0})})};var r=a(n(94184)),i=a(n(66310)),o=a(n(14296)),s=n(82857),l=a(n(23217)),u=n(85893);const d=n(76672).Mirrored(["Prev","Next"]);t.ButtonType=d;const c={Prev:o.default.t(544),Next:o.default.t(519)},f={Prev:"chevron-left",Next:"chevron-right"}},72439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Column=void 0;var a=n(41906);const r=window.matchMedia(`\nonly screen and (max-width: ${a.LAYOUT_2COLUMNS_MAX_WIDTH}px)\n`),i={column:r.matches?2:3};t.Column=i;r.addListener((function(e){const t=e.matches?2:3;if(i.column===t)return;i.column=t;const n=document.createEvent("Event");n.initEvent("columnChange",!0,!0),window.dispatchEvent(n)}))},58654:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=a(n(66034)),o=a(n(49739)),s=n(78123),l=n(85893);var u=e=>{let{children:t,icon:n,secondary:a,theme:u}=e,d=(0,r.default)(o.default.container,{[o.default.inConversation]:"conversation"===u,[o.default.inList]:"list"===u,[o.default.mdChatSearchList]:"md-chat-search-list"===u,[o.default.themeChatInfo]:"chat-info"===u});if("conversation"===u){const e=i.default.get("defaultPreference");e&&e.wallpaperColor===s.DEFAULT_CHAT_WALLPAPER&&(d=(0,r.default)(d,o.default.defaultWallpaper))}const c=n?(0,l.jsx)("div",{className:o.default.icon,children:n}):null,f=null!=a?(0,l.jsx)("div",{className:o.default.secondary,children:a}):null;return(0,l.jsxs)("div",{className:d,children:[c,(0,l.jsxs)("div",{className:o.default.body,children:[(0,l.jsx)("div",{className:o.default.main,children:t}),f]})]})};t.default=u},21535:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createDataLink=function(e){const t=document.createElement("a"),n=r.default.isBlob(e)||r.default.isData(e);return t.href=n?e:"",t};var r=a(n(76139))},92726:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926));const i=/\r\n/g;t.default=class{constructor(e){this.hasText=()=>this.hasType("text/plain"),this.hasType=e=>this.types.includes(e),this.data=e,this.types=e.types?Array.isArray(e.types)?e.types:Object.keys(e.types).map((t=>e.types[t])):[]}getItems(){if(this.data.items)return Array.prototype.slice.call(this.data.items);const e=this._getFileTypes();return this.types.map((t=>({type:t,data:this.data.getData(t),kind:e.includes(t)?"string":"file"})))}_getFileTypes(){return Array.prototype.slice.call(this.data.files).map((e=>{let{type:t}=e;return t}))}getText(e){var t=this;return(0,r.default)((function*(){const n=yield t._getText(e);return n?n.replace(i,"\n"):null}))()}_getText(e){var t=this;return(0,r.default)((function*(){const n=e||[];0===n.length&&n.push("text/plain");const{data:a}=t;if(a.getData){let e;return n.some((t=>{if(a.getData(t))return e=a.getData(t),!0})),Promise.resolve(e)}const r=function(e,t){const n=Array.from(e);return t.reduce(((e,t)=>{const a=n.find((e=>e.type===t));return a&&e.push(a),e}),[])}(t.data.items,n);if(!r.length)return;const i=Promise.all(r.map((e=>new Promise((t=>e.getAsString(t))))));return(yield i).find((e=>e.length))}))()}getFiles(){return this.data.items?Array.prototype.slice.call(this.data.items).filter((e=>{let{kind:t}=e;return"file"===t})).map((e=>e.getAsFile())).filter((e=>!!e)):Array.prototype.slice.call(this.data.files||[])}getData(e){return this.data.getData(e)}hasFiles(){return this.data.items?Array.prototype.slice.call(this.data.items).some((e=>{let{kind:t}=e;return"file"===t})):!!Array.prototype.slice.call(this.data.files||[]).length}}},39424:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(61957),i=n(48360),o=n(67294),s=n(35461),l=n(71174),u=a(n(14296)),d=n(85893);function c(e){const{isReadOnly:t,kind:n}=(0,s.useModelValues)(e.chat,["isReadOnly","kind"]);let a;switch(n){case r.CHAT_KIND.GROUP:a=t?u.default.t(718):i.fbt._("Exit group",null,{hk:"4BkPNr"});break;case r.CHAT_KIND.BROADCAST:a=u.default.t(719);break;case r.CHAT_KIND.CHAT:a=u.default.t(225)}return(0,d.jsx)(l.DropdownItem,{a8n:"mi-delete",action:e.onDeleteOrExit,disabled:e.disabled,children:a})}var f=(0,o.memo)(c);t.default=f},88984:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailImage=function(e){const{id:t,size:n,quality:a=w.Low,loader:r,onClick:i,onLoad:o,quoted:l,shape:p,border:m,waitIdle:y,ephemeralIcon:S,theme:M,alt:P}=e,j=(0,f.default)(),I=(0,c.useMemo)((()=>g.ChatCollection.get(t)),[t]);let L;(0,h.useListener)((null==I?void 0:I.isGroup)?I.groupMetadata:I,"change:ephemeralDuration",j),L="number"==typeof n?n>0?n:k.Small:null!=n?n:k.Small;const B={height:R(L),width:R(L)};i&&(B.cursor="pointer");let F;if((0,s.communitiesEnabled)())if(null!=I){var G;if(I.isGroup)F=null===(G=I.groupMetadata)||void 0===G?void 0:G.groupType}else{const e=x.default.get(t.toString());F=null==e?void 0:e.groupType}const U=(0,u.default)(_.default.avatar,{[_.default.status_v3]:"status_v3"===M,[_.default.avatarSquare]:p===A.Square,[_.default.avatarBorder]:m,[_.default.avatarSquircle]:p===A.Squircle,[_.default.avatarDefaultAnnouncementGroup]:F===v.GroupType.DEFAULT_ANNOUNCEMENT_GROUP,[_.default.avatarProfileRingBorder]:"status_v3_profile_photo_ring"===M}),V=D(t,l,F),W=(0,T.jsx)(b.default,{id:t,onComplex:()=>{let e=null;const n=C.ProfilePicThumbCollection.gadd(t);return n&&(e=a===w.High?(0,T.jsx)(O,{profilePicThumb:n,defaultIcon:V,loader:r,onLoad:o,alt:P}):(0,T.jsx)(N,{profilePicThumb:n,defaultIcon:V,loader:r,onLoad:o,alt:P})),(0,T.jsxs)("div",{className:U,style:B,onClick:i,children:[null,e,null]})},waitIdle:y,children:(0,T.jsx)("div",{className:U,style:B,onClick:i,children:V})});let H;null!=S&&(null==I?void 0:I.isEphemeralSettingOn())&&(H=(0,T.jsxs)("div",{className:_.default.wrapper,"aria-label":d.fbt._("Profile picture, disappearing messages on",null,{hk:"2Riroy"}),children:[(0,T.jsx)("div",{className:(0,u.default)(_.default.badge,{[_.default.chatList]:"chat-list"===S,[_.default.conversationHeader]:"conversation-header"===S}),children:(0,T.jsx)(E.default,{name:"disappearing",className:_.default.badgeIcon})}),W]}));return H||W},t.DetailImageSize=t.DetailImageShape=t.DetailImageQuality=t.DetailImageCommon=void 0,t.getDefaultIcon=D,t.getSize=R;var r=a(n(81109)),i=n(57319),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),s=n(8139),l=(n(78820),a(n(89867))),u=a(n(94184)),d=n(48360),c=n(67294),f=(a(n(56720)),a(n(59312))),h=n(87550),p=n(35461),m=a(n(46918)),g=n(69951),_=a(n(26306)),v=n(55981),b=a(n(76239)),y=a(n(47065)),C=n(82039),S=n(18146),E=a(n(23217)),x=a(n(73213)),T=n(85893);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const k=n(76672).Mirrored(["ExtraSmall","Small","Medium","Large","None"]);t.DetailImageSize=k;const w=n(76672).Mirrored(["Low","High"]);t.DetailImageQuality=w;const A=n(76672).Mirrored(["Circle","Square","Squircle"]);t.DetailImageShape=A;const P={color:"q3u0wlip"},j={borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"};class I extends c.PureComponent{constructor(e){super(e),this._retriedAfter403=!1,this.state={loading:!0,loaded:!1,showSpinner:!1,profilePicThumbImg:null},this._handleLoad=()=>{this._showSpinnerTimeout&&this._showSpinnerTimeout.cancel(),this.setState({loading:!1,loaded:!0}),this.props.onLoad&&this.props.onLoad()},this._handleError=e=>{if(this._showSpinnerTimeout&&this._showSpinnerTimeout.cancel(),e instanceof o.ServerStatusError){const{profilePicThumb:t}=this.props;switch(e.status){case 403:t.markStale({eurl:!0}),this._retriedAfter403||(this._retriedAfter403=!0,t.validate());break;case 410:t.markStale()}}this.setState({loading:!1,loaded:!1})},this._enableSpinner="business"!==e.theme,e.loader&&this._enableSpinner&&(this._showSpinnerTimeout=new i.ShiftTimer((()=>{this.setState({showSpinner:!0})})),this._showSpinnerTimeout.onOrAfter(100))}static getDerivedStateFromProps(e,t){return t.profilePicThumbImg!==e.profilePicThumbImg?{loading:!0,loaded:!1,showSpinner:!1,profilePicThumbImg:e.profilePicThumbImg}:{profilePicThumbImg:e.profilePicThumbImg}}componentDidUpdate(e){e.profilePicThumbImg!==this.props.profilePicThumbImg&&this._showSpinnerTimeout&&this._showSpinnerTimeout.onOrAfter(100)}componentWillUnmount(){this._showSpinnerTimeout&&this._showSpinnerTimeout.cancel()}_shouldShowSpinner(){const{profilePicThumb:e,loader:t}=this.props,{loading:n,showSpinner:a}=this.state;return!!this._enableSpinner&&(!!t&&a&&n&&!(!(0,S.unproxy)(e).stale&&!this.props.profilePicThumbImg))}render(){const{profilePicThumbImg:e,spinnerClassName:t,imgClassName:n,alt:a}=this.props,{loading:i,loaded:o}=this.state;let s={[_.default.isLoaded]:!i};n&&(s=(0,r.default)((0,r.default)({},s),{},{[n]:"string"==typeof n}));const l=(0,u.default)(_.default.avatarImage,s);let d,c;this._shouldShowSpinner()&&(d=(0,T.jsx)(m.default,{className:t},"spinner")),e&&(c=(0,T.jsx)(y.default,{src:e,hasPrivacyChecks:!0,crossOrigin:!1,className:l,draggable:!1,onLoad:this._handleLoad,onError:this._handleError,alt:a},"image"));const f=this.props.defaultIcon;return(0,T.jsxs)(T.Fragment,{children:[d,f,c]})}}function O(e){const t=(0,p.useModelValues)(e.profilePicThumb,["imgFull"]);return(0,T.jsx)(I,(0,r.default)((0,r.default)({},e),{},{profilePicThumbImg:t.imgFull}))}function N(e){const t=(0,p.useModelValues)(e.profilePicThumb,["img"]);return(0,T.jsx)(I,(0,r.default)((0,r.default)({},e),{},{profilePicThumbImg:t.img}))}function R(e){if("string"!=typeof e)return e;switch(e){case k.ExtraSmall:return 40;case k.Small:return 49;case k.Medium:return 100;case k.Large:return 200;case k.None:return}}function D(e,t,n){let a,r="default-user";l.default.isUser(e)&&!l.default.isPSA(e)&&t?r="default-user-square":l.default.isGroup(e)?n===v.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(r="announcement-speaker",a=P):r=n===v.GroupType.COMMUNITY?"community-squircle":"default-group":l.default.isBroadcast(e)?r="default-broadcast":l.default.isPSA(e)&&(r="default-psa",a=j);return(0,T.jsx)("div",{className:_.default.avatarDefault,children:(0,T.jsx)(E.default,{name:r,iconXstyle:a})},"default")}t.DetailImageCommon=I,I.displayName="DetailImageCommon"},71093:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Upload=t.Pending=t.Download=t.DocState=void 0;var r=a(n(81109)),i=a(n(56720)),o=n(11054),s=a(n(23217)),l=n(85893);const u={position:"g0rxnol2",display:"p357zi0d",flex:"kk3akd72",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"tddarlmj",height:"jbxl65f1",color:"mnd5airb"},d={position:"lhggkp7q",top:"hd6b059k",left:"qpqgzaqc"},c=e=>{let{children:t,onClick:n}=e;const a=n?{onClick:n}:{};return(0,l.jsx)("div",(0,r.default)((0,r.default)({className:(0,i.default)(u)},a),{},{children:t}))};t.DocState=c;t.Download=e=>{let{onClick:t}=e;return(0,l.jsx)(c,{onClick:t||(()=>{}),children:(0,l.jsx)(s.default,{name:"audio-download"})})};const f={color:"progress"};t.Pending=e=>{let{outgoingMsg:t,value:n,canCancel:a=!1}=e;const u=null==n?{outgoingMsg:t}:f;return(0,l.jsxs)(c,{children:[(0,l.jsx)("div",{className:(0,i.default)(d),children:(0,l.jsx)(o.Spinner,(0,r.default)({stroke:3,size:32,value:n},u))}),a?(0,l.jsx)(s.default,{name:"audio-cancel-noborder"}):null]})};t.Upload=()=>(0,l.jsx)(c,{children:(0,l.jsx)(s.default,{name:"audio-upload"})})},50315:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(76521));const i={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},o=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],s=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],l=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","msfullscreenchange","msfullscreenerror"];let u,d;class c extends r.default{constructor(){if(super(),this.requestFullscreen=e=>{e?u?e[u[i.requestFullscreen]]():__LOG__(3)`Your browser does not support fullscreen API.`:__LOG__(3)`The element requesting fullscreen is null or undefined.`},this._fullscreenChangeTrigger=e=>{this.trigger("fullscreen_change",e)},this._fullscreenErrorTrigger=e=>{this.trigger("fullscreen_error",e)},"object"!=typeof window||"object"!=typeof window.document)return void __LOG__(3)`document object does not exist`;d=window.document;const e=d;if("fullscreenEnabled"in d?u=Object.keys(i):o[i.fullscreenEnabled]in d?u=o:s[i.fullscreenEnabled]in d?u=s:l[i.fullscreenEnabled]in d&&(u=l),!u)return void __LOG__(3)`Your browser does not support fullscreen API.`;const t=u;e.addEventListener(t[i.fullscreenchange],this._fullscreenChangeTrigger),e.addEventListener(t[i.fullscreenerror],this._fullscreenErrorTrigger)}exitFullscreen(){return d?u?d[u[i.exitFullscreen]].bind(d):(__LOG__(3)`Your browser does not support fullscreen API.`,()=>{}):(__LOG__(3)`document object does not exist`,()=>{})}isFullscreenMode(){return d?u?!!d[u[i.fullscreenElement]]:(__LOG__(3)`Your browser does not support fullscreen API.`,!1):(__LOG__(3)`document object does not exist`,!1)}isFullscreenEnabled(){return d?u?Boolean(d[u[i.fullscreenEnabled]]):(__LOG__(3)`Your browser does not support fullscreen API.`,!1):(__LOG__(3)`document object does not exist`,!1)}getFullscreenElement(){if(d){if(u)return d[u[i.fullscreenElement]];__LOG__(3)`Your browser does not support fullscreen API.`}else __LOG__(3)`document object does not exist`}}var f=new c;t.default=f},94509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=t.parentNode;if(!n)return;if(t.nextSibling)return void n.insertBefore(e,t.nextSibling);return n.appendChild(e),e}},36717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.parentNode)return;return t.parentNode.insertBefore(e,t),e}},64875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return!1;const n=e.parentElement;if(!n)return!1;const a=t>=0?t:n.childNodes.length+t;return e===n.childNodes[a]}},29958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&(e.nodeType===Node.TEXT_NODE&&0===e.textContent.length)}},69975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.parentNode)return;e.parentNode.removeChild(e)}},15055:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;const t=window.getSelection();if(1!==t.rangeCount)return!1;const n=t.getRangeAt(0);if(!n.collapsed)return!1;const a=n.endContainer;if(n.startOffset!==function(e){return(0,r.default)(e)?e.textContent.length:e.childNodes.length}(a))return!1;if(e===a)return!0;if(!e.contains(a))return!1;let i=a;do{if(i.nextSibling)return!1;i=i.parentNode}while(i!==e);return!0};var r=a(n(48442))},17410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;const t=window.getSelection();if(1!==t.rangeCount)return!1;const n=t.getRangeAt(0);if(!n.collapsed||0!==n.startOffset)return!1;const a=n.startContainer;if(e===a)return!0;if(!e.contains(a))return!1;let r=a;do{if(r.previousSibling)return!1;r=r.parentNode}while(r!==e);return!0}},80708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=window.getSelection();if(1!==e.rangeCount)return!1;const t=e.getRangeAt(0);return!!t.collapsed&&(e.removeAllRanges(),e.addRange(t),!0)}},90995:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeNoticeSVG=function(e){return r.default.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0}})},t.sanitizeNoticeText=function(e){return r.default.sanitize(e,{ALLOWED_TAGS:["b","i","a","#text"],ALLOWED_ATTR:["href"],KEEP_CONTENT:!1})};var r=a(n(77482))},78756:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.scrollAt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=o(t||e.offsetParent),r=n.pos||"center",s=null!=n.duration&&0!==n.duration?n.duration:1e3,l=n.offset||0;switch(r){case"top":return a.scrollTop=e.offsetTop+l,Promise.resolve();case"bottom":return a.scrollTop=e.offsetTop+e.clientHeight-a.clientHeight,Promise.resolve();case"center":return n.animate?((0,i.default)(e,"stop"),(0,i.default)(a,"stop"),(0,i.default)(e,"scroll",{duration:s,container:a,offset:(e.clientHeight-a.clientHeight)/2,easing:n.easing})):(a.scrollTop=e.offsetTop+e.clientHeight/2-a.clientHeight/2,Promise.resolve());case"offset":return n.animate?((0,i.default)(e,"stop"),(0,i.default)(a,"stop"),(0,i.default)(e,"scroll",{duration:s,container:a,offset:-l,easing:n.easing})):(a.scrollTop=e.offsetTop-l,Promise.resolve())}return Promise.resolve()},t.scrollIntoView=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const a=o(n||e.parentNode),r=window.getComputedStyle(a,null),i=parseInt(r.getPropertyValue("border-top-width"),10),s=e.offsetTop-a.offsetTop<a.scrollTop,l=e.offsetTop-a.offsetTop+e.clientHeight-i>a.scrollTop+a.clientHeight;t?a.scrollTop=e.offsetTop-a.offsetTop-a.clientHeight/2-i+e.clientHeight/2:e.scrollIntoView(s&&!l);return!(s||l)},t.scrollIntoViewIfNeeded=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e.scrollIntoViewIfNeeded&&(0,r.isFunction)(e.scrollIntoViewIfNeeded))return e.scrollIntoViewIfNeeded(t);const a=o(n||e.parentNode),i=window.getComputedStyle(a,null),s=parseInt(i.getPropertyValue("border-top-width"),10),l=e.offsetTop-a.offsetTop<a.scrollTop,u=e.offsetTop-a.offsetTop+e.clientHeight-s>a.scrollTop+a.clientHeight;(l||u)&&t&&(a.scrollTop=e.offsetTop-a.offsetTop-a.clientHeight/2-s+e.clientHeight/2);!l&&!u||t||e.scrollIntoView(l&&!u);return!(l||u)};var r=n(51737),i=a(n(62831));function o(e){if(e&&e instanceof HTMLElement)return e;throw new Error("utils:DOM parent not defined or is not a valid HTMLElement")}},94259:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DIR=void 0,t.findNonEmptySibling=function(e,t){let n=e;if(!n)return;do{n=t===i.NEXT?n.nextSibling:n.previousSibling}while(n&&(0,r.default)(n));return n};var r=a(n(29958));const i={NEXT:"NEXT",PREV:"PREV"};t.DIR=i},58528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.pause(),e.src="",e.remove()}},6309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.__playPromise)return e.__playPromise;const t=new Promise(((t,n)=>{function a(n){e.removeEventListener("playing",a),e.removeEventListener("error",r),e.videoHeight&&e.videoWidth||a(n),delete e.__playPromise,t(n)}function r(t){e.removeEventListener("playing",a),e.removeEventListener("error",r),delete e.__playPromise,n(t)}e.addEventListener("playing",a),e.addEventListener("error",r);const i=e.play();var o;(o=i)&&"function"==typeof o.then&&(e.removeEventListener("playing",a),e.removeEventListener("error",r),i.then((()=>{delete e.__playPromise,t()})).catch((t=>{delete e.__playPromise,n(t)})))}));return e.__playPromise=t,t}},35721:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const a=null!=e.side?(0,u.jsx)("div",{className:(0,s.default)(d.side),children:e.side}):null,c=null===(t=e.separator)||void 0===t||t,f=(0,o.default)((0,s.default)(d.container,e.xstyle),e.className,{[l.default.separator]:c}),h=null!==(n=e.testid)&&void 0!==n?n:c?"container_with_separator":"container";return(0,u.jsx)("div",{"data-a8n":r.default.key(e.a8nText),className:f,role:e.onClick?"button":null,"data-testid":h,onClick:e.onClick,children:(0,u.jsxs)("div",{className:(0,o.default)(l.default.block,(0,s.default)(d.block,e.blockXstyle,e.multiline&&d.blockMultiline)),children:[(0,u.jsx)("div",{className:(0,o.default)((0,s.default)(d.main,e.multiline&&d.mainMultiline,e.restrictSpacing&&d.mainRestrictSpacing,i.isOSMac&&d.mainMac)),children:e.children}),a]})})};var r=a(n(99964)),i=n(77144),o=a(n(94184)),s=a(n(56720)),l=a(n(41323)),u=n(85893);const d={container:{paddingStart:"e8k79tju"},block:{display:"p357zi0d",alignItems:"gndfcl4n",height:"k45dudtp",paddingEnd:"bcymb0na"},blockMultiline:{height:"bvcnfjzh"},main:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",marginTop:"kv6wexeh",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},mainMultiline:{paddingTop:"hc2u0oym",paddingBottom:"myel2vfb",whiteSpace:"hmy10g0s"},mainMac:{marginTop:"tt8xd2xn"},mainRestrictSpacing:{paddingTop:"i5tg98hk",paddingBottom:"przvwfww",whiteSpace:"le5p0ye3"},side:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginStart:"jwvfxh5v"}}},71174:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownItem=function(e){const{children:t,tooltip:n,type:a="text",disabled:s=!1,theme:_,action:v,testid:b}=e,[y,C]=(0,l.useState)(!1),[S,E]=(0,l.useState)(!1),x=(0,d.default)(),T=e=>{if(!v)return;!1===v(e)||x&&x.requestDismiss()},M=e=>{e.repeat||T(e)},k=(y||S)&&null!=n?n:null,w=(0,f.isStringOrFbt)(t)?(0,p.jsx)("div",{className:(0,o.default)(c.default.ellipsify,c.default.action,{[c.default.compact]:_===m.COMPACT},(0,u.default)(e.xstyle)),role:"button","aria-label":t,children:t}):t,A=(0,o.default)(c.default.item,c.default.shortcut,{[c.default.hover]:y||S,[c.default.text]:"text"===a,[c.default.emoji]:"emoji"===a||"emoji-grid"===a,[c.default.emojiGrid]:"emoji-grid"===a,[c.default.icon]:"icon"===a,[c.default.disabled]:s||_===m.MUTED}),P=s?{}:{handlers:{enter:M,space:M},onContextMenu:g,onMouseDown:g,onClick:e=>{T(e)},onMouseEnter:()=>{C(!0)},onMouseLeave:()=>{C(!1)},onFocus:()=>{E(!0)},onBlur:()=>{E(!1)}};return(0,p.jsxs)(h.HotKeys,(0,r.default)((0,r.default)({component:"li","data-a8n":i.default.key(e.a8n),className:A,"data-animate-dropdown-item":!0,"data-testid":b},P),{},{children:[w,(0,p.jsx)("div",{children:k})]}))},t.ThemeOptions=void 0;var r=a(n(81109)),i=a(n(99964)),o=a(n(94184)),s=a(n(66919)),l=n(67294),u=a(n(56720)),d=a(n(95402)),c=a(n(19328)),f=n(12733),h=n(29424),p=n(85893);const m=(0,s.default)({COMPACT:null,MUTED:null});function g(e){e.preventDefault()}t.ThemeOptions=m},84636:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useContext)(u.InitialEmojisCompletionContext);(0,i.useEffect)((()=>{const n=f(e.emoji);null!=n&&(t.incrementLoadingEmojisCount(),s.AssetLoader.loadEmoji(n,s.LOAD_PRIORITY.LAZY_LOAD_EMOJI).finally((()=>{t.decrementLoadingEmojisCount()})))}),[t,e.emoji]);const{className:n,element:a,emoji:l,selectable:m,selected:g,size:_,src:v,onLoad:b,tabIndex:y,xstyle:C}=e,S=f(l);if(null==S)return null;let E,x;v||(E=h(S,_),x=p(S,_));const T=(0,r.default)(n,x,{selected:g},(0,o.default)(C));if("span"===a)return(0,c.jsx)("span",{className:T,"aria-label":l,style:E,onLoad:b,tabIndex:y,"data-unicode":e["data-unicode"],"data-variant":e["data-variant"],"data-emoji-index":e["data-emoji-index"]});return(0,c.jsx)(d.default,{alt:l,className:T,draggable:!1,onLoad:b,plainText:l,selectable:m,style:E,src:v})};var r=a(n(94184)),i=n(67294),o=a(n(56720)),s=n(89721),l=n(67247),u=n(78359),d=a(n(47065)),c=n(85893);const{getGlyphId:f,getStyle:h,getCssClasses:p}=l.EmojiUtil},65417:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiText=t.EMOJI_SIZE=void 0;var r=a(n(81109)),i=a(n(23279)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(93131)),s=a(n(45095)),l=a(n(99964)),u=n(81572),d=n(26741),c=a(n(94184)),f=n(67294),h=a(n(56720)),p=n(67247),m=a(n(80691)),g=n(30695),_=a(n(10577)),v=a(n(14296)),b=n(84387),y=n(52596),C=n(85893);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const E={breakWord:{wordBreak:"cw3vfol9"},clickable:{cursor:"ajgl1lbb",":hover":{textDecoration:"edeob0r2"}},dirMismatch:{display:"f804f6gw",width:"ln8gz9je"},ellipsify:{flexGrow:"ggj6brxn",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},inlineblock:{display:"l7jjieqr"},multiline:{whiteSpace:"i033jvx7"}},x={SMALL:"SMALL",LARGE:"LARGE"};t.EMOJI_SIZE=x;const T=4096;function M(e){return p.EmojiUtil.containsEmoji(e.substring(0,T))}class k extends f.PureComponent{constructor(){super(...arguments),this.state={text:String(this.props.text||""),ellipsified:null},this.refContainer=(0,f.createRef)(),this._registeredListener=!1,this._recompute=(0,i.default)((()=>{this.setState({ellipsified:null},this.ellipsify)}),10),this._buildBidiModel=e=>e.reduce(((e,t)=>{if("string"==typeof t){const n=t.split(/(\r?\n|\r)/g).map((e=>({dir:o.dir(e),content:e})));return e.concat(n)}return e.push({content:t}),e}),[]),this.ellipsify=()=>{const e=this.refContainer.current;if(!e)return;const t=(0,s.default)(e.parentElement,"node.parentElement"),n=e.querySelectorAll("img");if(!n.length)return;const a=e.clientWidth;e.style.overflow="visible";const r=e.clientWidth!==a;if(e.style.overflow="hidden",!r)return;const i=Boolean(v.default.isRTL())===Boolean(this.props.dirMismatch),o=n[function(e,t,n){let a=0;for(;a<e.length;){const r=e[a];if(n&&r.offsetLeft+r.clientWidth>=t)break;if(!n&&r.offsetLeft<=t)break;a++}return a}(n,i?t.clientWidth-function(e,t){let n=0;const{childNodes:a}=e;for(let e=0;e<a.length;e++){const r=a[e];if(r===t)break;n+=r instanceof Element?r.clientWidth:0}return n}(t,e)-12:12,i)];this.setState({ellipsified:A(e,o)})},this._ellipsifyCheck=()=>M(this.state.text)&&this.ellipsify(),this._explodeOutputByLines=(e,t)=>{const{direction:n}=this.props,a=[],r=this._buildBidiModel(e);let i=[],o=n;"auto"!==n&&"inherit"!==n||(o=null);const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=null==o||null==n||o===n,s=r?null:o,l=!r||"rtl"===o!==v.default.isRTL(),u=l?(0,h.default)(E.dirMismatch):null;a.push((0,C.jsxs)("span",{dir:s,className:u,children:[i,t?"…":null]},e))};for(let e=0;e<r.length;e++){const t=r[e];o!==t.dir&&null!=o&&void 0!==t.dir&&(s(e),i=[]),void 0!==t.dir&&(o=t.dir),i.push(t.content)}return s(r.length,t),a},this._registerResizeListener=()=>{this._registeredListener||(this._registeredListener=!0,this.props.listeners.add(window,"resize",this._recompute),this.props.listeners.add(u.Cmd,"resize",this._recompute))},this.componentDidMount=()=>{!d.UA.supportsEmojiEllipsification&&this.props.ellipsify&&M(this.state.text)&&this._registerResizeListener(),!d.UA.supportsEmojiEllipsification&&this.props.ellipsify&&this._ellipsifyCheck()},this._unregisterResizeListener=()=>{this._registeredListener&&(this._registeredListener=!1,this.props.listeners.remove(window,"resize",this._recompute),this.props.listeners.remove(u.Cmd,"resize",this._recompute))},this.render=()=>{if(!this.state.text)return null;const{onClick:e,ellipsify:t,dirMismatch:n,inferLinesDirection:a,inlineblock:r,direction:i,textLimit:o,multiline:s,breakWord:u,emojiXstyle:d}=this.props,f=this.state.ellipsified?this.state.ellipsified:this.state.text,p="inherit"===i?null:i||"auto",v=!!this.props.selectable,b=this.props.formatters||g.Configuration.EmojiOnly({selectable:v,emojiXstyle:d});let S=o||1/0;t&&f.length>T&&S>T&&(S=T);const x=(0,c.default)(this.props.className,(0,h.default)(!!t&&E.ellipsify,!!r&&E.inlineblock,!!e&&E.clickable,n&&!a&&E.dirMismatch,s&&E.multiline,u&&E.breakWord,this.props.xstyle)),M=(0,m.default)(f,b,_.default,void 0,S),k=!!this.state.ellipsified||f.length>S,w=this.props.inferLinesDirection?this._explodeOutputByLines(M,k):M;return(0,C.jsx)(y.Selectable,{"data-a8n":l.default.key(this.props.a8n),className:x,dir:p,element:this.props.element,onClick:e,ref:this.refContainer,selectable:v,title:this.props.titlify?this.state.text:void 0,children:w})}}getContainerElement(){return this.refContainer.current}static getDerivedStateFromProps(e,t){var n;let a=null;const i=String(null!==(n=e.text)&&void 0!==n?n:"");return i!==t.text&&(a={text:i}),d.UA.supportsEmojiEllipsification||!e.ellipsify||null==a||M(i)||(a=(0,r.default)((0,r.default)({},a),{},{ellipsified:null})),a}getWidth(){const e=this.refContainer.current;return e?e.getBoundingClientRect().width:0}componentDidUpdate(e,t){!d.UA.supportsEmojiEllipsification&&this.props.ellipsify&&t.text!==this.state.text&&(M(this.state.text)?(this._recompute(),this._registerResizeListener()):this._unregisterResizeListener())}componentWillUnmount(){this._recompute.cancel()}}k.defaultProps={element:"span",emojiSize:x.SMALL,textLimit:1/0};const w=(0,b.ListenerHOC)(k);function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{found:!1};if(e===t)return n.found=!0,"";if(e instanceof HTMLImageElement)return e.alt;if(e.nodeType===Node.TEXT_NODE)return e.nodeValue;const a=P(e);let r="",i=0;for(;i<e.childNodes.length&&(r+=A(e.childNodes[i],t,n),!n.found);)i++;if(null==a)return r;const[o,s]=a;return`${o}${r}${s}`}function P(e){if(e instanceof Element)switch(e.tagName){case"CODE":return["```","```"];case"STRONG":return["*","*"];case"EM":return["_","_"];case"DEL":return["~","~"];case"LI":return["* ",""];default:return null}return null}t.EmojiText=class extends w{getWidth(){return this.getComponent().getWidth()}getContainerElement(){return this.getComponent().getContainerElement()}}},85600:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StarredMsgs=t.SearchingMessages=t.SearchingImages=t.Searching=t.SearchWithoutKeyword=t.SearchWithKeyword=t.SearchMessagesUnavailable=t.SearchMessages=t.SearchGroups=t.SearchContacts=t.Search=t.NoUnreadChats=t.NoResultForLabel=t.MediaMsgs=t.LoadingWithText=t.Loading=t.ListStatus=t.ListProducts=t.ListGroups=t.ListChats=t.LinkMsgs=t.LazyLoadRetry=t.KeptMsgs=t.ImageSearchEmpty=t.Empty=t.DocMsgs=t.Blocked=t.BeforeSearchMessages=t.BeforeImageSearch=t.Archived=t.AllArchived=void 0;var r=a(n(99964)),i=n(41455),o=n(48360),s=a(n(56720)),l=n(69951),u=n(65417),d=a(n(14296)),c=n(16770),f=n(11054),h=a(n(23217)),p=a(n(1784)),m=n(85893);const g={empty:{boxSizing:"cm280p3y",display:"p357zi0d",flexGrow:"ggj6brxn",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx",paddingTop:"gq7nj7y3",paddingEnd:"td5bf8pq",paddingBottom:"eynyaxvo",paddingStart:"l3k7h4x6",color:"hp667wtd",textAlign:"qfejxiq4"},emptyTop:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",justifyContent:"fhf7t426",height:"bvcnfjzh",paddingTop:"cihm0v32",paddingEnd:"td5bf8pq",paddingBottom:"ctv2fiom",paddingStart:"l3k7h4x6"},compact:{paddingTop:"emrlamx0",paddingEnd:"iffbo4e8",paddingBottom:"aiput80m",paddingStart:"khscay3k"},icon:{display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"f6essjlf",height:"j19d4s4u",marginTop:"pcx1034m",marginBottom:"r2u2pyhj",color:"myzbk5ck",backgroundColor:"f2yrvmhs",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},title:{marginBottom:"gdaqao4w"},text:{fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"hp667wtd"},spinner:{marginBottom:"du8bjn1j"},action:{display:"l7jjieqr",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"o2v2jkg7"},iconRetry:{color:"myzbk5ck"}},_=e=>{let{a8nText:t,a8nTitle:n,children:a,xstyle:i,icon:o,text:l,theme:d,title:c,onClick:f}=e;const h=c?(0,m.jsx)("div",{"data-a8n":r.default.key(n),className:(0,s.default)(g.title),children:c}):null,p=l?(0,m.jsx)("div",{"data-a8n":r.default.key(t),className:(0,s.default)(g.text),children:(0,m.jsx)(u.EmojiText,{text:l})}):null,_=(0,s.default)(g.empty,i,"compact"===d&&g.compact);return(0,m.jsxs)("div",{className:_,onClick:f,children:[o,h,p,a]})};t.Empty=_;t.Blocked=()=>{const e=(0,m.jsx)("div",{className:(0,s.default)(g.icon),children:(0,m.jsx)(h.default,{name:"empty-blocked"})});return(0,m.jsx)(_,{icon:e,title:d.default.t(150),text:d.default.t(128),a8nTitle:"blocked-empty",a8nText:"add-blocked-description"})};t.Archived=()=>{const e=(0,m.jsx)("div",{className:(0,s.default)(g.icon),children:(0,m.jsx)(h.default,{name:"empty-archived"})});return(0,m.jsx)(_,{icon:e,title:d.default.t(135),a8nTitle:"archived-empty"})};t.Search=e=>{const{hasFilter:t=!1,onClearFilter:n=(()=>{})}=e;return(0,m.jsx)(_,{xstyle:g.emptyTop,title:t?d.default.t(575):void 0,a8nTitle:"search-no-chats-or-contacts",text:t?void 0:d.default.t(575),a8nText:"search-no-chats-or-contacts",children:t&&(0,m.jsx)(p.default,{a8nText:"clear-filter",onClick:n,className:(0,s.default)(g.action),children:o.fbt._("Clear filter",null,{hk:"v1zB3"})})})};t.Searching=()=>(0,m.jsx)(_,{xstyle:g.emptyTop,text:d.default.t(581),a8nText:"searching-chats-contacts-messages"});t.SearchingMessages=()=>(0,m.jsx)(_,{xstyle:g.emptyTop,text:d.default.t(582),a8nText:"searching-messages"});t.SearchContacts=()=>(0,m.jsx)(_,{xstyle:g.emptyTop,text:d.default.t(576),a8nText:"search-no-contacts"});t.SearchWithoutKeyword=()=>(0,m.jsx)(_,{xstyle:g.emptyTop,text:o.fbt._("No results",null,{hk:"3hxq4S"}),a8nText:"search-no-results-without-keyword"});t.SearchWithKeyword=e=>(0,m.jsx)(_,{xstyle:g.emptyTop,text:d.default.t(579,{keyword:e}),a8nText:"search-no-results-without-keyword"});t.SearchGroups=()=>(0,m.jsx)(_,{xstyle:g.emptyTop,text:d.default.t(577),a8nText:"search-no-groups"});t.SearchMessages=()=>(0,m.jsx)(_,{xstyle:g.emptyTop,text:d.default.t(578),a8nText:"search-no-messages"});t.SearchMessagesUnavailable=()=>(0,m.jsx)(_,{xstyle:g.emptyTop,text:o.fbt._("Search results not yet available. Try again later.",null,{hk:"5Gshb"}),a8nText:"search-results-unavailable"});t.ListChats=()=>(0,m.jsx)(_,{text:o.fbt._("No chats",null,{hk:"2inDwp"}),a8nText:"no-chats"});t.ListProducts=e=>{let{hasCatalog:t=!0}=e;const n=t?o.fbt._("No products",null,{hk:"8o7dB"}):o.fbt._("You need to create a catalog on the phone first",null,{hk:"11wgUW"});return(0,m.jsx)(_,{text:n,a8nText:"no-products"})};t.ListGroups=()=>(0,m.jsx)(_,{text:d.default.t(522),a8nText:"no-groups"});t.BeforeSearchMessages=(e,t)=>{const n=t?o.fbt._("Search for messages within {chatName}.",[o.fbt._param("chatName",e)],{hk:"34Jm4O"}):d.default.t(222,{chatName:e});return(0,m.jsx)(_,{xstyle:g.emptyTop,text:n,a8nText:"chat-search-prompt"})};function v(){const{ArchivedFlowLoadable:e}=n(78457);i.DrawerManager.openDrawerLeft((0,m.jsx)(e,{}))}t.ListStatus=()=>(0,m.jsx)(_,{});t.AllArchived=()=>{const e=l.ChatCollection.filter((e=>e.archive)).length;return(0,m.jsx)(_,{title:o.fbt._("All chats are archived",null,{hk:"3v5Xmn"}),a8nTitle:"all-chats-archived",children:(0,m.jsx)("div",{"data-a8n":r.default.key("see-archived"),role:"button",onClick:v,className:(0,s.default)(g.action),children:d.default.t(585,{count:e,_plural:e})})})};t.StarredMsgs=()=>(0,m.jsx)(_,{text:d.default.t(526),a8nText:"no-starred-messages"});t.KeptMsgs=()=>(0,m.jsx)(_,{text:o.fbt._("No kept messages",null,{hk:"3NrzBd"})});t.MediaMsgs=()=>(0,m.jsx)(_,{text:d.default.t(524),a8nText:"no-media"});t.LinkMsgs=()=>(0,m.jsx)(_,{text:d.default.t(523),a8nText:"no-links"});t.DocMsgs=()=>(0,m.jsx)(_,{text:d.default.t(521),a8nText:"no-docs"});t.BeforeImageSearch=()=>(0,m.jsx)(_,{text:o.fbt._("Search for images",null,{hk:"1m33Xf"}),a8nText:"image-search-prompt"});t.SearchingImages=()=>(0,m.jsx)(_,{text:o.fbt._("Searching for images...",null,{hk:"4ykMJL"}),a8nText:"searching-images"});t.ImageSearchEmpty=()=>(0,m.jsx)(_,{text:o.fbt._("No images found",null,{hk:"2vlt88"}),a8nText:"image-search-no-results"});t.Loading=()=>(0,m.jsx)(_,{children:(0,m.jsx)(f.Spinner,{size:50,stroke:4})});t.LoadingWithText=e=>{let{text:t}=e;return(0,m.jsxs)(_,{children:[(0,m.jsx)("div",{className:(0,s.default)(g.spinner),children:(0,m.jsx)(f.Spinner,{size:50,stroke:4})}),(0,m.jsx)(u.EmojiText,{element:"div",className:(0,s.default)(g.text),text:t})]})};t.NoResultForLabel=e=>{let{labelId:t}=e;const n=c.LabelCollection.assertGet(t);return(0,m.jsx)(_,{children:(0,m.jsx)(u.EmojiText,{element:"div",className:(0,s.default)(g.text),text:d.default.t(525,{labelName:n.name})})})};t.LazyLoadRetry=e=>{let{xstyle:t,onClick:n}=e;return(0,m.jsxs)(_,{xstyle:t,onClick:n,children:[(0,m.jsx)(h.default,{name:"live-location-refresh",xstyle:g.iconRetry}),(0,m.jsx)("div",{children:o.fbt._("Retry",null,{hk:"2jS9Tg"})})]})};t.NoUnreadChats=e=>{const t=o.fbt._("No unread chats",null,{hk:"1vobr9"});return(0,m.jsx)(_,{title:t,a8nTitle:"no-unread-chats",children:(0,m.jsx)(p.default,{a8nText:"clear-filter",onClick:e.onClearFilter,className:(0,s.default)(g.action),children:o.fbt._("Clear filter",null,{hk:"42yxoZ"})})})}},51099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294);class r extends a.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){this.props.sendLogs&&(__LOG__(4,void 0,new Error,!0)`${e.stack}\n${t.componentStack}`,SEND_LOGS(`error-boundary:${this.props.reason}`))}render(){return this.state.hasError?this.props.fallback:this.props.children}}t.default=r,r.defaultProps={sendLogs:!0,fallback:null},r.displayName="ErrorBoundary"},36075:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=a(n(62248)),o=n(85893);var s=e=>{let{children:t,fromMe:n}=e;return(0,o.jsx)("div",{className:(0,r.default)(i.default.tooltip,{[i.default.notFromMe]:!1===n}),role:"tooltip",children:t})};t.default=s},17080:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(64331),i=n(48360),o=n(67294),s=a(n(56720)),l=n(85893);const u={color:"o0rubyzf",whiteSpace:"le5p0ye3",cursor:"ajgl1lbb"};function d(e){let{text:t,textLimit:n,children:a}=e;const[r,d]=(0,o.useState)((()=>c(t,n,n)?n:1/0));return(0,l.jsxs)(l.Fragment,{children:[a({textLimit:r}),r!==1/0?(0,l.jsxs)("span",{className:(0,s.default)(u),role:"button",onClick:()=>{const e=r+3072;d(c(t,e,3072)?e:1/0)},children:[" ",i.fbt._("Read more",null,{hk:"2DvSvh"})]}):null]})}function c(e,t,n){return(0,r.numCodepoints)(e)-t>.1*n}var f=(0,o.memo)(d);t.default=f},54995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294),r=n(85893);function i(e,t){const{mimes:n,onChange:i,multiple:o=!0}=e,s=(0,a.useRef)(null),l=()=>{s.current&&(s.current.value="",s.current.click())};return(0,a.useImperativeHandle)(t,(()=>({open:l}))),(0,r.jsx)("input",{accept:n,ref:s,type:"file",multiple:o,style:{display:"none"},onClick:e=>{e.stopPropagation()},onChange:e=>{i(e)}})}var o=(0,a.forwardRef)(i);t.default=o},99267:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(10901)),o=n(24808);const s={};s[o.Message$ExtendedTextMessageFontType.SERIF]={google:{families:["Roboto"]}},s[o.Message$ExtendedTextMessageFontType.SANS_SERIF]={google:{families:["Droid Serif"]}},s[o.Message$ExtendedTextMessageFontType.NORICAN_REGULAR]={google:{families:["Norican"]}},s[o.Message$ExtendedTextMessageFontType.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},s[o.Message$ExtendedTextMessageFontType.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};const l={};l[o.Message$ExtendedTextMessageFontType.BRYNDAN_WRITE]=`@font-face {font-family:"Bryndan-Write"; src:url("${i.default}") format("truetype");}`;var u=new class{constructor(){this.loadedFonts={},this.loadingPromise={}}load(e){if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];const t=s[e],n=l[e];let a;a=n?new Promise(((e,t)=>{const a=document.createElement("style");a.appendChild(document.createTextNode(n)),a.onload=e,a.onerror=t,document.head&&document.head.appendChild(a)})):Promise.resolve();const i=a.then((()=>new Promise(((n,a)=>{const i=(0,r.default)((0,r.default)({},t),{},{active:()=>{this.loadedFonts[e]=!0,n()},inactive:()=>{this.loadingPromise[e]=void 0,a(new Error(`Failed to load font: ${e}`))}});WebFont.load(i)}))));return this.loadingPromise[e]=i,i}loadAllFonts(){return Promise.all(Array.from(o.Message$ExtendedTextMessageFontType.members()).map((e=>this.load(e))))}};t.default=u},99441:(e,t,n)=>{"use strict";t.I=void 0;var a=n(90466);const r=new class{constructor(){this._trackers=[],this._currFPS=0,this._numSamples=0,this._totalTime=0,this._startTracking=()=>{this._frameId||(this._prevFrameTS=this._prevUpdateTS=window.performance.now(),this._frameId=requestAnimationFrame(this._handleFrame))},this._stopTracking=()=>{this._frameId&&(this._prevFrameTS=this._prevUpdateTS=void 0,cancelAnimationFrame(this._frameId),this._frameId=void 0)},this._handleFrame=()=>{if(!this._trackers.length)return;const e=this._prevFrameTS,t=this._prevUpdateTS;if(null==e||null==t)return;const n=window.performance.now();this._numSamples+=1,this._totalTime+=n-e,n-t>=500&&this._update(n),this._prevFrameTS=n,this._frameId=requestAnimationFrame(this._handleFrame)}}whenLessThan(e,t){if(e<0||e>60)throw new RangeError("fps must be between 0 and 60");return this._insertTracker([e,t]),()=>{this._removeTracker(t)}}_insertTracker(e){const t=e[0],n=function(e,t){let n=0,a=e.length-1,r=Math.floor((n+a)/2);for(;e[r]!==t&&n<a;)t<e[r]?a=r-1:n=r+1,r=Math.floor((n+a)/2);if(e[r]<t)return r+1;return r}(this._trackers.map((e=>e[0])),t);this._trackers.splice(n,0,e),1===this._trackers.length&&(this._addEventListeners(),this._startTracking())}_removeTracker(e){const t=this._trackers.length;for(let n=0;n<t;n++)if(e===this._trackers[n][1]){this._trackers.splice(n,1),0===this._trackers.length&&(this._removeEventListeners(),this._stopTracking());break}}_update(e){const t=1e3/(this._totalTime/this._numSamples),n=Math.min(t,60);if(Math.abs(n-this._currFPS)>1){this._currFPS=n;const e=this._filterCallbacks();e.length&&this._triggerCallbacks(e,n)}this._numSamples=0,this._totalTime=0,this._prevUpdateTS=e}_filterCallbacks(){const e=[];for(let t=this._trackers.length-1;t>=0;t--){const[n,a]=this._trackers[t];if(n<=this._currFPS)break;e.push(a)}return e}_triggerCallbacks(e,t){const n=window.performance.now();(0,a.requestIdleCallback)((()=>{e.forEach((e=>e(t,n)))}))}_addEventListeners(){window.addEventListener("focus",this._startTracking),window.addEventListener("blur",this._stopTracking)}_removeEventListeners(){window.removeEventListener("focus",this._startTracking),window.removeEventListener("blur",this._stopTracking)}};t.I=r},30140:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.useModelValues)(e.chatstate,["id","type","deny","t"]);const t=(0,i.useModelValues)(e.groupMetadata,["announce","participants","groupType"]),n=(0,i.useModelValues)(e.presence,["forceDisplay","withholdDisplayStage"]),a=n.withholdDisplayStage===l.WithholdDisplayStage.Info?e.placeholder:n.getGroupSubtitleText(),d=t.groupType===o.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?r.fbt._("Admin announcements",null,{hk:"1HGRJe"}):a;return(0,u.jsx)(s.default,{groupMetadata:t,overridingText:d,placeholder:e.placeholder,location:e.location})};var r=n(48360),i=n(35461),o=n(55981),s=a(n(73437)),l=n(42931),u=n(85893)},76239:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,onComplex:n,waitIdle:a,id:d}=e,[c,f]=(0,o.useState)((()=>r.UIBusyTasks.isBusy())),h=()=>{f(!1)},p=(0,s.default)((()=>a?r.UIBusyTasks.enqueue(h):null)),m=(0,l.default)(d);return(0,o.useEffect)((()=>()=>{a&&null!=p.current&&r.UIBusyTasks.dequeue(p.current)}),[]),(0,o.useEffect)((()=>{if(!i.default.equals(m,d)||!a){c&&null!=p.current&&r.UIBusyTasks.dequeue(p.current);const e=r.UIBusyTasks.isBusy();e&&a&&(p.current=r.UIBusyTasks.enqueue(h)),f(e)}}),[d,p,c,m,a]),c&&a?(0,u.jsx)(u.Fragment,{children:t}):n()};var r=n(30764),i=a(n(89867)),o=n(67294),s=a(n(16223)),l=a(n(37453)),u=n(85893)},50981:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ImgWithFallback=m,t.Theme=void 0;var r=a(n(41609)),i=a(n(94184)),o=n(67294),s=a(n(46918)),l=a(n(47065)),u=a(n(25562)),d=a(n(23217)),c=n(85893);const f={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"},h=n(76672).Mirrored(["Default","Transparent"]);function p(e){switch(e){case f.SMALL:return 49;case f.MEDIUM:return 100;case f.LARGE:return 200;case f.NONE:return;default:return e}}function m(e){const{size:t=f.SMALL,fallbackSVG:n,className:a,loader:m=!1,wrapOptions:g={},transition:_,roundContainer:v=!0,imgProps:b,theme:y}=e,[C,S]=(0,o.useState)(!1),{src:E,alt:x,crossOrigin:T,draggable:M}=b,{centerWrapperChild:k,wrapperClassName:w}=g,A=(0,i.default)(u.default.avatarImage,{[u.default.isLoaded]:C,[u.default.transition]:_}),P={height:p(t),width:p(t)};let j;m&&!C&&(j=(0,c.jsx)(s.default,{}));const I=(0,c.jsx)(l.default,{src:E,className:A,onLoad:()=>{S(!0)},alt:x,crossOrigin:T,draggable:M}),O=(0,r.default)(g)?I:(0,c.jsx)("div",{className:(0,i.default)(w,u.default.avatarWrapper,u.default.avatarImageWrapper,{[u.default.centerChild]:k,[u.default.isLoaded]:C,[u.default.transparent]:y===h.Transparent}),children:I}),N=""!==E?(0,c.jsxs)(c.Fragment,{children:[j,O]}):null;return(0,c.jsxs)("div",{className:(0,i.default)(u.default.avatar,a,{[u.default.roundBorder]:v,[u.default.transparent]:y===h.Transparent}),style:P,children:[N,!C&&(0,c.jsx)("div",{className:(0,i.default)(w,u.default.avatarWrapper,u.default.avatarSvgWrapper,{[u.default.centerChild]:k,[u.default.transition]:_,[u.default.transparent]:y===h.Transparent}),children:(0,c.jsx)(d.default,{name:n})})]})}t.Theme=h,m.defaultProps={size:f.SMALL,loader:!1}},21252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(76672).Mirrored(["CONTACT_US","LICENSES","DECREASE_PTT_SPEED","DELETE_OR_EXIT_CHAT","GO_TO_NEXT_CHAT","GO_TO_PREV_CHAT","INCREASE_PTT_SPEED","LOGOUT","OPEN_NEW_CHAT","OPEN_NEW_GROUP","OPEN_PROFILE","OPEN_SETTINGS","SEARCH","SEARCH_IN_CHAT","TOGGLE_ARCHIVE","TOGGLE_MUTE","TOGGLE_PIN","TOGGLE_UNREAD","ZOOM_IN","ZOOM_OUT","ZOOM_RESET","OPEN_EMOJI_PANEL","OPEN_GIF_PANEL","OPEN_STICKER_PANEL","TOGGLE_STICKER_MAKER"]);t.default=a},81021:e=>{e.exports={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",PIN:"pinned",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",BATCH_RENDER:"batch_render"}}},65134:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(67502)),i=n(21222);var o=new class{constructor(){document.addEventListener("keydown",(e=>{const t=(0,i.getAction)(e);t&&(0,r.default)(t)}))}trigger(){}menuBatchRenderWith(){}};t.default=o},1041:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_FOCUSABLE_ITEM_CLASS_NAME=void 0,t.ListHotKeys=function(e){const{"aria-label":t,className:n,children:a,dataTab:p,handlers:m,role:g,onBeforeEnd:_,getPriorityFocusItem:v}=e,b=(0,c.default)(),y=(0,s.useRef)(null),C=(0,s.useRef)(null),S=(0,s.useRef)(null),E=(0,s.useRef)(!1),x=(0,s.useRef)(!1),T=(0,s.useRef)(!1),M=()=>y.current?Array.from(y.current.getElementsByClassName(h)):[],k=e=>{const t=null==v?void 0:v();t&&t===e&&(T.current=!0),o.default.focus(e,{preventScroll:!1})},w=e=>{const t=M();if(0===t.length)return;let n;if(S.current){const a=t.indexOf(S.current);-1!==a&&(n=a+e<0?t[0]:t[a+e])}n||(n=t[t.length-1]);const a=n;a.hasAttribute("tabIndex")||(__LOG__(3)`Focusable list items should have \`tabIndex\` attribute (that makes it programmatically focusable), but this element did not have it:`,function(e){e.setAttribute("tabIndex","-1")}(a)),k(a)},A=function(){var e=(0,i.default)((function*(){_&&(yield _());const e=(()=>{const e=M();return e.length>0?e[e.length-1]:null})(),t=null==v?void 0:v();t&&!T.current?k(t):e&&k(e)}));return function(){return e.apply(this,arguments)}}(),P=e=>{e.preventDefault(),A()};(0,s.useEffect)((()=>{T.current=!1,E.current&&S.current&&y.current&&!y.current.contains(S.current)&&o.default.focus(y.current)}));const j=(0,r.default)((0,r.default)({},m),{},{up:e=>{e.preventDefault(),w(-1)},down:e=>{e.preventDefault(),w(1)},end:P,"command+down":P});return(0,f.jsx)(u.UIE,{displayName:"ListHotKeys",ref:C,uimState:d.UIMState.PASSIVE,requestFocus:b?null:()=>{y.current&&!y.current.contains(document.activeElement)&&o.default.focus(y.current)},children:(0,f.jsx)(l.HotKeys,{handlers:j,className:n,"data-tab":p,onFocus:e=>{if(y.current===e.target){var t;if(b){const e=null==v?void 0:v();!x.current&&e?k(e):w(0)}null===(t=C.current)||void 0===t||t.activate()}else e.target instanceof HTMLElement&&e.target.classList.contains(h)&&((n=e.target).setAttribute("tabIndex","0"),S.current&&S.current!==n&&S.current.setAttribute("tabIndex","-1"),S.current=n);var n;E.current=!0,x.current=!0},onBlur:()=>{E.current=!1},ref:y,role:g,"aria-label":t,children:a})})};var r=a(n(81109)),i=a(n(48926)),o=a(n(52013)),s=n(67294),l=n(29424),u=n(18644),d=n(89618),c=a(n(46603)),f=n(85893);const h="focusable-list-item";t.LIST_FOCUSABLE_ITEM_CLASS_NAME=h},2953:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(52013)),i=n(67294),o=n(29424),s=a(n(14296)),l=n(63454),u=n(85893);function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dialog";const a=(0,i.useRef)(null),d=()=>a.current,c=e=>{const t=a.current;if(!t)return;const n=(0,l.getNextTabbableElement)(t,e,l.FocusType.TABBABLE);r.default.focus(n)},f=()=>{c(l.TabDirection.FORWARD)};return(0,i.useImperativeHandle)(t,(()=>({getElement:d,focusFirst:f}))),(0,u.jsx)(o.HotKeys,{handlers:{left:e=>{const t=s.default.isRTL()?l.TabDirection.FORWARD:l.TabDirection.BACKWARD;c(t),e.preventDefault()},right:e=>{const t=s.default.isRTL()?l.TabDirection.BACKWARD:l.TabDirection.FORWARD;c(t),e.preventDefault()}},ref:a,tabIndex:null,role:n,children:e.children})}var c=(0,i.forwardRef)(d);t.default=c},67502:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=function(e){switch(e){case d.default.CONTACT_US:return W;case d.default.LICENSES:return H;case d.default.DELETE_OR_EXIT_CHAT:return G;case d.default.GO_TO_NEXT_CHAT:return U;case d.default.GO_TO_PREV_CHAT:return V;case d.default.LOGOUT:return O;case d.default.OPEN_NEW_CHAT:return P;case d.default.OPEN_NEW_GROUP:return j;case d.default.OPEN_PROFILE:return I;case d.default.OPEN_SETTINGS:return A;case d.default.SEARCH:return N;case d.default.SEARCH_IN_CHAT:return F;case d.default.TOGGLE_ARCHIVE:return R;case d.default.TOGGLE_MUTE:return D;case d.default.TOGGLE_PIN:return L;case d.default.TOGGLE_UNREAD:return B;case d.default.ZOOM_IN:return q;case d.default.ZOOM_OUT:return Y;case d.default.ZOOM_RESET:return z;case d.default.OPEN_EMOJI_PANEL:return K;case d.default.OPEN_GIF_PANEL:return $;case d.default.OPEN_STICKER_PANEL:return Q;case d.default.TOGGLE_STICKER_MAKER:return X;case d.default.INCREASE_PTT_SPEED:case d.default.DECREASE_PTT_SPEED:return null}}(e);if(!t)return;try{t()}catch(t){__LOG__(3)`keyboard:error occurred running action ${e}.`}};var r=n(35470),i=n(81572),o=n(41455),s=n(14597),l=n(78820),u=n(48360),d=a(n(21252)),c=n(69951),f=a(n(52665)),h=n(17239),p=n(19380),m=a(n(14296)),g=n(88240),_=n(59871),v=n(92507),b=n(26489),y=n(8936),C=n(77117),S=n(82039),E=n(66040),x=n(64551),T=n(45383),M=n(46133),k=n(65044),w=n(85893);function A(){o.DrawerManager.existsDrawerLeft((e=>{e&&o.DrawerManager.closeDrawerLeft(),o.DrawerManager.openDrawerLeft((0,w.jsx)(T.SettingsFlowLoadable,{}))}))}function P(){o.DrawerManager.existsDrawerLeft((e=>{e&&o.DrawerManager.closeDrawerLeft(),o.DrawerManager.openDrawerLeft((0,w.jsx)(v.NewChatFlowLoadable,{}))}))}function j(){o.DrawerManager.existsDrawerLeft((e=>{e&&o.DrawerManager.closeDrawerLeft(),o.DrawerManager.openDrawerLeft((0,w.jsx)(b.NewGroupFlowLoadable,{}))}))}function I(){o.DrawerManager.existsDrawerLeft((e=>{e&&o.DrawerManager.closeDrawerLeft();const t=(0,l.getMaybeMeUser)(),n=M.StatusCollection.assertGet(t),a=S.ProfilePicThumbCollection.assertGet(t),r=p.ContactCollection.assertGet(t);o.DrawerManager.openDrawerLeft((0,w.jsx)(C.ProfileDrawerFlowLoadable,{status:n,profilePicThumb:a,contact:r,conn:h.Conn}))}))}function O(){if(!_.MsgCollection.some((e=>e.ack===r.ACK.CLOCK&&e.local&&e.isSentByMe)))return k.Socket.logout();s.ModalManager.open((0,w.jsx)(f.default,{title:m.default.t(198),onOK:()=>{__LOG__(2)`Keyboard: user inputs logout`,k.Socket.logout()},okText:m.default.t(446),onCancel:()=>s.ModalManager.close(),cancelText:u.fbt._("Cancel",null,{hk:"H0gNq"}),children:m.default.t(609)}))}function N(){i.Cmd.focusChatSearch()}function R(){const e=c.ChatCollection.getActive();if(e&&e.canArchive()){const t=e.archive;i.Cmd.archiveChat(e,!t)}}function D(){const e=c.ChatCollection.getActive();if(e&&e.mute.canMute()){const t=e.mute.isMuted;i.Cmd.muteChat(e,!t)}}function L(){const e=c.ChatCollection.getActive();if(e&&(null!=e.pin||c.ChatCollection.filter((e=>e.pin)).length<3)){const t=Boolean(e.pin);i.Cmd.pinChat(e,!t)}}function B(){const e=c.ChatCollection.getActive();if(e){const t=e.markedUnread;i.Cmd.markChatUnread(e,!t)}}function F(){const e=c.ChatCollection.getActive();e&&i.Cmd.chatSearch(e)}function G(){const e=c.ChatCollection.getActive();e&&i.Cmd.deleteOrExitChat(e)}function U(){i.Cmd.focusNextChat(!0)}function V(){i.Cmd.focusPrevChat(!0)}function W(){s.ModalManager.open((0,w.jsx)(E.SendLogsPopupLoadable,{}))}function H(){s.ModalManager.open((0,w.jsx)(g.LicensesPopupLoadable,{}))}function q(){}function Y(){}function z(){}function K(){i.Cmd.openComposeBoxPanel(y.PANELS.EMOJI)}function $(){i.Cmd.openComposeBoxPanel(y.PANELS.GIF)}function Q(){i.Cmd.openComposeBoxPanel(y.PANELS.STICKER)}function X(){x.ServerProps.stickerMaker&&i.Cmd.toggleStickerMaker()}},21222:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAction=function(e){const{key:t,ctrlKey:n,metaKey:a,altKey:r,shiftKey:i}=e;if("Control"===t||"Meta"===t||"Alt"===t||"Shift"===t)return;return n&&a||n&&r?s[function(e,t){if(t&&("Tab"===e||"Enter"===e||"Backspace"===e||" "===e))return`Shift+${e}`;return e}(t,i)]:void 0},t.getAdditionalShortcuts=function(){const e={};return Array.from(i.default.members()).forEach((t=>{const n=o(t);n.length<=1||n.slice(1).forEach((n=>{let{key:a,nativeKey:r,nativeModifier:i}=n;const o=r||a;o&&(e[l(o,i)]=t)}))})),e},t.getKey=function(e){const t=o(e);if(!t.length)return;const{key:n,nativeKey:a,nativeModifier:r}=t[0],i=a||n;return i?l(i,r):void 0},t.getShortcutKey=function(e){const t=o(e);if(t.length){const{key:e,nativeKey:n,webKey:a}=t[0];return a||e}return};var r=a(n(11700)),i=a(n(21252));function o(e){switch(e){case i.default.CONTACT_US:return[{key:"H"}];case i.default.DELETE_OR_EXIT_CHAT:return[{key:"Backspace",nativeKey:"D"}];case i.default.GO_TO_NEXT_CHAT:return[{key:"Tab",nativeModifier:"Ctrl"},{key:"}"}];case i.default.GO_TO_PREV_CHAT:return[{key:"Shift+Tab",nativeModifier:"Ctrl"},{key:"{"}];case i.default.LOGOUT:return[];case i.default.OPEN_NEW_CHAT:return[{key:"n"}];case i.default.OPEN_NEW_GROUP:return[{key:"N"}];case i.default.OPEN_PROFILE:return[{key:"p"}];case i.default.OPEN_SETTINGS:return[{key:","}];case i.default.SEARCH:return[{webKey:"/",nativeKey:"f"}];case i.default.SEARCH_IN_CHAT:return[{key:"F"}];case i.default.TOGGLE_ARCHIVE:return[{key:"E"}];case i.default.TOGGLE_MUTE:return[{key:"M"}];case i.default.TOGGLE_PIN:return[{key:"P"}];case i.default.TOGGLE_UNREAD:return[{key:"U"}];case i.default.ZOOM_IN:return[{key:"+"},{key:"="}];case i.default.ZOOM_OUT:return[{key:"-"}];case i.default.ZOOM_RESET:return[{key:"0"}];case i.default.INCREASE_PTT_SPEED:return[{key:">"}];case i.default.DECREASE_PTT_SPEED:return[{key:"<"}];case i.default.OPEN_EMOJI_PANEL:return[{key:"e"}];case i.default.OPEN_GIF_PANEL:return[{key:"g"}];case i.default.OPEN_STICKER_PANEL:return[{key:"s"}];case i.default.TOGGLE_STICKER_MAKER:return[{key:"S"}];default:return[]}}const s=function(){const e={};return Array.from(i.default.members()).forEach((t=>{o(t).forEach((n=>{let{key:a,webKey:r}=n;const i=r||a;i&&(e[i]=t)}))})),e}();function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CmdOrCtrl";const n="+"!==e?e:"Plus",a=1===n.length&&n.match(/[a-z]/i);if(!a)return`${t}+${(0,r.default)(n)}`;const i=n.match(/[a-z]/);return i?`${t}+${(0,r.default)(n)}`:`Shift+${t}+${n}`}},33048:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45120)),i=a(n(52013)),o=n(67294),s=a(n(78506)),l=n(29424),u=n(63454),d=n(85893);function c(e,t){const{className:n,children:a,onBlur:c,skipNode:f}=e,h=(0,o.useRef)(null),p=(0,s.default)(t,h);(0,o.useEffect)((()=>{i.default.focus(h.current)}),[]);const m=e=>{if(!h.current)return;let t=u.TabDirection.FORWARD;e&&(e.preventDefault(),t=e.shiftKey?u.TabDirection.BACKWARD:u.TabDirection.FORWARD,r.default.shouldIndicateFocus());const n=(0,u.getNextTabbableElement)(h.current,t,u.FocusType.CUSTOM,(e=>!f(e)));null!=n&&(r.default.shouldIndicateFocus(),n.restoreFocus?n.restoreFocus():i.default.focus(n))},g={tab:m,"shift+tab":m,"shift+?":e.onShowKeyboardShortcuts};return(0,d.jsx)(l.HotKeys,{handlers:g,className:n,onBlur:c,ref:p,children:a})}var f=(0,o.forwardRef)(c);t.default=f},46603:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.useContext)(i.default)};var r=n(67294),i=a(n(70842))},26598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.useEffect)((()=>{}),[]);const t=null;(0,r.useListener)(t,"change:archive",(e=>{})),(0,r.useListener)(t,"change:isReadOnly",(e=>{})),(0,r.useListener)(t,"change:hasUnread",(e=>{})),(0,r.useListener)(t,"change:mute.isMuted",(e=>{})),(0,r.useListener)(t,"change:pin",(e=>{}))};var a=n(67294),r=n(87550)},28141:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardShortcut=function(e){let{action:t,addModifiers:n=!0}=e;const a=(0,o.getShortcutKey)(t);if(!a)return null;const d=u(a);let c;c=-1===d.indexOf(l)?(0,s.jsx)("span",{className:i.default.key,children:d}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:i.default.key,children:"Shift"}),(0,s.jsx)("span",{className:i.default.key,children:d.substr(l.length)})]});const f=n?function(){const e=[r.UA.os===r.OS_TYPE.MAC?"Cmd":"Ctrl"];return e.push(r.UA.os===r.OS_TYPE.MAC?"Ctrl":"Alt"),e.map((e=>(0,s.jsx)("span",{className:i.default.key,children:e},e)))}():null;return(0,s.jsxs)(s.Fragment,{children:[f,c]})},t.expandRawShortcut=u;var r=n(26741),i=a(n(64917)),o=n(21222),s=n(85893);const l="Shift+";function u(e){if(1!==e.length)return e;switch(e){case">":return"Shift+.";case"<":return"Shift+,"}return e.toLowerCase()!==e?`Shift+${e}`:e.toUpperCase()}},88793:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name_list";if(0===e.length)return"";const a=e[0];if(1===e.length)return"group_list"===n?t?i.default.t(351,{A:a}):(0,s.jsx)(o.default,{id:351,params:{A:a}}):a;const r=e[e.length-1];if(2===e.length)return l(a,r,t,n);if("group_list"===n){const n=e.slice(0,e.length-2),a=e[e.length-2];return u(n,a,r,t)}const c=e[1],f=e.slice(2,e.length-1);return d(a,c,f,r,t)};var r=a(n(31351)),i=a(n(14296)),o=a(n(56074)),s=n(85893);function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;return"group_list"===a?n?i.default.t(354,{A:e,B:t}):(0,s.jsx)(o.default,{id:354,params:{A:e,B:t}}):n?i.default.t(491,{A:e,B:t}):(0,s.jsx)(o.default,{id:491,params:{A:e,B:t}})}function u(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const l=(0,r.default)(e).reduce(((e,t,n)=>[a?i.default.t(353,{A:t,B:e}):(0,s.jsx)(o.default,{id:353,params:{A:t,B:e}},`listItem_${n}`)]),[]);return a?i.default.t(352,{A:l,B:t,C:n}):(0,s.jsx)(o.default,{id:352,params:{A:l,B:t,C:n}})}function d(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const l=[r?i.default.t(490,{A:e,B:t}):(0,s.jsx)(o.default,{id:490,params:{A:e,B:t}},"listItem_firstItem")],u=n.reduce(((e,t,n)=>[r?i.default.t(488,{A:t,B:e}):(0,s.jsx)(o.default,{id:488,params:{A:t,B:e}},`listItem_${n}`)]),l);return r?i.default.t(489,{A:u,B:a}):(0,s.jsx)(o.default,{id:489,params:{A:u,B:a}})}},33811:(e,t)=>{"use strict";function n(e,t){return window.getComputedStyle(e).getPropertyValue(t)}function a(e){let t=n(e,"line-height"),a=parseFloat(t);if(t===a+""){const r=e.style.lineHeight;e.style.lineHeight=t+"em",t=n(e,"line-height"),a=parseFloat(t),r?e.style.lineHeight=r:delete e.style.lineHeight}if(t.includes("pt")?a*=4/3:t.includes("mm")?(a*=96,a/=25.4):t.includes("cm")?(a*=96,a/=2.54):t.includes("in")?a*=96:t.includes("pc")&&(a*=16),a=Math.round(a),"normal"===t){const t=e.nodeName,r=document.createElement(t);r.innerHTML="&nbsp;","TEXTAREA"===t.toUpperCase()&&r.setAttribute("rows","1");const i=n(e,"font-size");r.style.fontSize=i,r.style.padding="0px",r.style.border="0px";const o=document.body;if(null!=o){o.appendChild(r);a=r.offsetHeight,o.removeChild(r)}}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.getLineHeight=a,t.getNumberOfLines=function(e,t){const n=e.getBoundingClientRect(),r=parseInt(n.bottom-n.top,10),i=null!=t?t:a(e);return Math.round(r/i)}},47915:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownDataError=t.FlatList=t.DEFAULT_ITEM_WIDTH=t.DEFAULT_ITEM_HEIGHT=void 0;var r=a(n(81109)),i=a(n(23279)),o=n(40265),s=a(n(99964)),l=n(30764),u=a(n(40436)),d=a(n(94184)),c=n(67294),f=a(n(28662)),h=n(43882),p=n(37041),m=a(n(80720)),g=n(85893);t.DEFAULT_ITEM_WIDTH=72;t.DEFAULT_ITEM_HEIGHT=72;class _ extends((0,o.customError)("UnknownDataError")){constructor(e){super(`Unknown data encountered while rendering. Item key: ${e.itemKey}`)}}t.UnknownDataError=_;class v extends c.Component{constructor(e){super(e),this.keyPool=new h.KeyPool,this.hanging=!1,this.pointerEvents=!0,this.setRefList=e=>{this.refList=e},this.setListLength=()=>{this.setState({renderedListLength:this.state.listLength})},this.getListLength=()=>this.state.renderedListLength,this._handleLayout=e=>{const t=this.refList;if(!t)return;const n="horizontal"===this.props.direction?t.getBoundingClientRect().left-e.position.left:t.getBoundingClientRect().top-e.position.top,a=Math.max(n,0),i="horizontal"===this.props.direction?e.width:e.height,{firstIndex:o,lastIndex:s}=v.computeIndexes(this.props,(0,r.default)((0,r.default)({},this.state),{},{offsetFromStart:a,bodyDimension:i}));this.setState({firstIndex:o,lastIndex:s,bodyDimension:i,offsetFromStart:a})},this._handleScrollProxy=()=>{this.animationFrame?this.hanging=!0:(this.hanging=!1,this.animationFrame=requestAnimationFrame(this._handleScroll))},this._handleScroll=()=>{this.disablePointerEvents();const e=this.props.flatListController.getScrollFromStart();if(null==e)throw new Error("FlatList:ScrollEvent thrown while container is unmounted");const t=Math.max(e,0),n=v.computeIndexes(this.props,(0,r.default)((0,r.default)({},this.state),{},{scrollFromStart:t}));this.setState({scrollFromStart:t,firstIndex:n.firstIndex,lastIndex:n.lastIndex},this._handleFinishScroll)},this._handleFinishScroll=()=>{this.animationFrame=void 0,this.enablePointerEvents(),this.hanging&&this._handleScrollProxy()},this.enablePointerEvents=(0,i.default)((()=>{if(this.animationFrame)return this.enablePointerEvents();null!=this.busyId&&(l.UIBusyTasks.clearBusy(this.busyId),delete this.busyId),this.props.onPointerEventsOn&&this.props.onPointerEventsOn();const e=this.refList;e&&(e.style.pointerEvents="auto"),this.pointerEvents=!1}),150);const{enhancedData:t,listLength:n}=v.computeDataAndListLength(e);this.state={firstIndex:0,lastIndex:0,scrollFromStart:0,offsetFromStart:0,bodyDimension:0,enhancedData:t,listLength:n,renderedListLength:n}}static getDerivedStateFromProps(e,t){const{enhancedData:n,listLength:a}=v.computeDataAndListLength(e),{firstIndex:i,lastIndex:o}=v.computeIndexes(e,(0,r.default)((0,r.default)({},t),{},{enhancedData:n,listLength:a})),s={enhancedData:n,listLength:a,firstIndex:i,lastIndex:o};return(!e.itemEnterAnimationsEnabled||a>=t.renderedListLength)&&(s.renderedListLength=a),s}static computeDataAndListLength(e){let t=0;return{enhancedData:e.data.map((n=>{const a=(0,r.default)((0,r.default)({},n),{},{offset:t}),i=v.getDimension(n,e.direction,e.defaultItemWidth,e.defaultItemHeight);return t+=i,a})),listLength:t}}static getDimension(e,t,n,a){return"horizontal"===t?v.getItemWidth(e,n):v.getItemHeight(e,a)}static getItemWidth(e,t){return null!=e.width&&e.width>0?e.width:t}static getItemHeight(e,t){return null!=e.height&&e.height>0?e.height:t}static computeIndexes(e,t){const{bodyDimension:n,offsetFromStart:a,scrollFromStart:r,listLength:i,enhancedData:o}=t;if(void 0===n||void 0===a)throw new Error("FlatList:Computing FlatList without a valid Container");const{extraItems:s,forceConsistentRenderCount:l,direction:u,defaultItemWidth:d,defaultItemHeight:c}=e;let f=0;for(let e=0;e<o.length;e++){const t=o[e],n=v.getDimension(t,u,d,c);if(a+t.offset+n>r){f=e;break}}let h=o.length-1;const p=l?Math.min(o[f].offset+n,i):Math.min(r+n,i+a);for(let e=f;e<o.length;e++){const t=o[e],n=v.getDimension(t,u,d,c);if(a+t.offset+n>=p){h=e;break}}let m=s;const g=s-f;g>0&&(m+=g);let _=s;const b=h+s-o.length;b>0&&(_+=b);return{firstIndex:Math.max(f-_,0),lastIndex:Math.min(h+m,o.length-1)}}componentDidMount(){this.props.flatListController.registerList({handleLayout:this._handleLayout,handleScroll:this._handleScrollProxy})}componentWillUnmount(){this.props.flatListController.unregisterList(),this.enablePointerEvents.cancel(),this.cancelScroll()}cancelScroll(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.hanging=!1)}disablePointerEvents(){if(this.busyId=l.UIBusyTasks.setBusy(this.busyId),this.pointerEvents)return;this.props.onPointerEventsOff&&this.props.onPointerEventsOff();const e=this.refList;e&&(e.style.pointerEvents="none"),this.pointerEvents=!0}scrollIntoViewIfNeeded(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{enhancedData:n,scrollFromStart:a,bodyDimension:r}=this.state;if(e<0||e>=n.length)throw new Error("Invalid Index.");const i=n[e].offset;(i<a-t||i>a+r+t)&&this.props.flatListController.setScrollFromStart(i)}getComponents(){const{reorderAnimationsEnabled:e,renderItem:t,defaultItemWidth:n,defaultItemHeight:a,keyOrder:i}=this.props,{firstIndex:o,lastIndex:s}=this.state,l=this.state.enhancedData.slice(o,s+1);return this.keyPool.recycleKeysAndMap(l,i).map(((i,o)=>{let{rctKey:s,data:l}=i;const u="horizontal"===this.props.direction?{width:v.getItemWidth(l,n)}:{height:v.getItemHeight(l,a)};return(0,g.jsx)(m.default,{data:(0,r.default)((0,r.default)({},l),u),animate:!!e&&(0,p.shouldAnimate)(),zIndex:this.state.enhancedData.length-o-1,renderItem:t,listDirection:this.props.direction},s)}))}render(){const{role:e}=this.props,t="horizontal"===this.props.direction?{width:this.state.renderedListLength}:{height:this.state.renderedListLength};return(0,g.jsx)("div",{className:(0,d.default)(this.props.className),"data-a8n":s.default.key(this.props.a8nKey),ref:this.setRefList,children:(0,g.jsx)("div",{"aria-label":this.props["aria-label"],className:(0,d.default)(f.default.viewport,{[f.default.horizontalListViewport]:"horizontal"===this.props.direction,[f.default.verticalListViewport]:"vertical"===this.props.direction}),role:e,"aria-rowcount":this.props["aria-rowcount"],style:t,children:this.props.itemEnterAnimationsEnabled?(0,g.jsx)(u.default,{transitionName:"fade",onAnimationComplete:this.setListLength,children:this.getComponents()}):this.getComponents()})})}}t.FlatList=v,v.defaultProps={defaultItemHeight:72,defaultItemWidth:72,forceConsistentRenderCount:!0,extraItems:5,initialScrollFromStart:0,reorderAnimationsEnabled:!0,keyOrder:h.KeyOrder.NORMAL},v.displayName="FlatList"},44942:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(6479)),o=a(n(45095)),s=n(67294),l=a(n(78506)),u=a(n(8694)),d=n(85893);const c=["children","flatListControllers","onScroll","onLayout","scrollOffset"];function f(e,t){const{children:n,flatListControllers:a,onScroll:f,onLayout:h,scrollOffset:p}=e,m=(0,i.default)(e,c),{children:g,direction:_,flatListControllers:v,onScroll:b,onLayout:y,scrollOffset:C}=e,S=(0,s.useRef)(null),E=(0,l.default)(t,S),x=()=>{const e=S.current;if(e)return"horizontal"===_?e.scrollLeft:e.scrollTop},T=e=>{const t=S.current;t&&("horizontal"===_?t.scrollLeft=e:t.scrollTop=e)},M=()=>{const e=(0,o.default)(S.current,"observerRef.current");v.forEach((t=>t.triggerLayout({position:e.getBoundingClientRect(),width:e.clientWidth,height:e.clientHeight})))};return(0,s.useLayoutEffect)((()=>(v.forEach((e=>e.registerContainer({getScrollFromStart:x,setScrollFromStart:T,onRegisterList:M}))),void 0!==C&&T(C),()=>{v.forEach((e=>e.unregisterContainer()))})),[]),(0,d.jsx)(u.default,(0,r.default)((0,r.default)({},m),{},{onResize:e=>{const t=(0,o.default)(S.current,"observerRef.current"),n=(0,r.default)((0,r.default)({},e),{},{position:t.getBoundingClientRect()});v.forEach((e=>e.triggerLayout(n))),y&&y(n)},onScroll:e=>{b&&b(e),v.forEach((e=>e.triggerScroll()))},ref:E,children:g}))}var h=(0,s.forwardRef)(f);t.default=h},30855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{registerContainer(e){this._containerAPI=e,this._listHandlers&&e.onRegisterList()}unregisterContainer(){delete this._containerAPI}triggerScroll(){this._listHandlers&&this._listHandlers.handleScroll()}triggerLayout(e){this._listHandlers&&this._listHandlers.handleLayout(e)}registerList(e){this._listHandlers=e,this._containerAPI&&this._containerAPI.onRegisterList()}unregisterList(){delete this._listHandlers}getScrollFromStart(){if(this._containerAPI)return this._containerAPI.getScrollFromStart()}setScrollFromStart(e){this._containerAPI&&this._containerAPI.setScrollFromStart(e)}}},29796:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.jsx)("div",{className:r.default.loadingSpinner,children:(0,o.jsx)(i.Spinner,{color:"default",size:24,stroke:6})})};var r=a(n(93318)),i=n(11054),o=n(85893)},43882:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPool=t.KeyOrder=void 0;var r=a(n(89734)),i=a(n(45095));const o=n(76672)({NORMAL:"NORMAL",INVERSE:"INVERSE"});t.KeyOrder=o;t.KeyPool=class{constructor(){this._rctKeyToData=new Map,this._keyToRctKey=new Map}_genNewKeys(e){const t=e-this._rctKeyToData.size;if(t<=0)return[];const n=[];for(let a=0;a<e&&(this._rctKeyToData.has(a)||(n.push(a),t!==n.length));a++);return n}recycleKeysAndMap(e,t){const n=new Map,a=new Map,s=this._genNewKeys(e.length),l=new Set(this._rctKeyToData.keys()),u=[];e.forEach((e=>{const t=this._keyToRctKey.get(e.itemKey);void 0!==t?(a.set(e.itemKey,t),n.set(t,e),l.delete(t)):u.push(e)}));const d=[...s,...Array.from(l)];u.forEach((e=>{const r=t===o.NORMAL?d.pop():d.shift();a.set(e.itemKey,r),n.set(r,e)}));const c=(0,r.default)(e,[e=>a.get(e.itemKey)]).map((e=>({rctKey:(0,i.default)(a.get(e.itemKey),"keyToRctKey.get(item.itemKey)"),data:e})));return this._rctKeyToData=n,this._keyToRctKey=a,c}}},37041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldAnimate=function(){return true}},88631:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_BUTTON_HEIGHT=void 0,t.ListButton=function(e){const{onClick:t,children:n,id:a}=e,[u,d]=(0,r.default)(e.active,null!=a?a:"");return(0,s.jsx)(i.FlexRow,{ref:u,xstyle:[l.container,d&&l.active,!d&&l.hover],align:"center",justify:"center",children:(0,s.jsx)(o.default,{xstyle:l.button,onClick:t,children:n})})};a(n(56720));var r=a(n(77214)),i=n(29623),o=a(n(1784)),s=n(85893);t.LIST_BUTTON_HEIGHT=60;const l={container:{height:"k45dudtp",fontSize:"enbbiyaj",color:"jq3rn4u7",backgroundColor:"ihvf49ua"},hover:{":hover":{backgroundColor:"os03hap6"}},active:{backgroundColor:"i16jpgpt"},button:{width:"ln8gz9je",height:"ppled2lx"}}},80720:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=n(81703),o=n(67294),s=a(n(94474)),l=a(n(56720)),u=n(85893);const d={position:"lhggkp7q",width:"ln8gz9je",":hover":{zIndex:"rx9719la"}},c=(0,i.compatPrefix)("transform"),f=(0,i.compatPrefix)("transition");class h extends o.Component{constructor(){super(...arguments),this.state={shouldAnimate:!0,prevItemKey:null,prevRowOffset:null}}static getDerivedStateFromProps(e,t){return(0,r.default)((0,r.default)({},t),{},{prevItemKey:e.data.itemKey,prevRowOffset:e.data.offset,shouldAnimate:p(e,t)})}shouldComponentUpdate(e,t){return this.props.animate!==e.animate||this.props.zIndex!=this.props.zIndex||this.props.renderItem!==e.renderItem||this.state.shouldAnimate!==t.shouldAnimate||!(0,s.default)(this.props.data,e.data)}render(){const{data:e,zIndex:t}=this.props,{shouldAnimate:n}=this.state,a=n?`${c} 200ms ease-in-out`:"none",i="horizontal"===this.props.listDirection?{width:e.width,[c]:`translateX(${e.offset}px)`}:{height:e.height,[c]:`translateY(${e.offset}px)`},o=(0,r.default)({zIndex:t,[f]:a},i),s=this.props.renderItem(e);return(0,u.jsx)("div",{className:(0,l.default)(d),style:o,children:s})}}function p(e,t){if(!e.animate)return!1;const{prevItemKey:n}=t;return e.data.itemKey===n&&e.data.offset!==t.prevRowOffset}t.default=h,h.displayName="ListItem"},83452:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(76139)),o=a(n(94184)),s=n(48360),l=n(67294),u=a(n(30588)),d=n(12591),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(51428)),f=a(n(47065)),h=a(n(14296)),p=n(84387),m=a(n(81696)),g=n(8384),_=a(n(23217)),v=n(97628),b=a(n(90012)),y=n(85893);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}class S extends l.PureComponent{constructor(e){super(e),this._updateImgSrcUrl=e=>{var t;const n=e.height+50,a="color:red|"+e.lat+", "+e.lng,o=e.lat+", "+e.lng,s=e.width+"x"+n,l=u.default.currentRes===u.default.RES.HIGH?2:1,d=h.default.getLocale(),f=i.default.GSM_NAME,p=i.default.build("https://maps.googleapis.com/maps/api/staticmap",(0,r.default)({zoom:15,size:s,scale:l,language:d,client:f},e.showMarker?{markers:a}:{center:o})),m="dark"===(null===(t=this.context)||void 0===t?void 0:t.theme)?`${p}&style=element:geometry%7Ccolor:0x212121&style=element:labels.icon%7Cvisibility:off&style=element:labels.text.fill%7Ccolor:0x757575&style=element:labels.text.stroke%7Ccolor:0x212121&style=feature:administrative%7Celement:geometry%7Ccolor:0x757575&style=feature:administrative.country%7Celement:labels.text.fill%7Ccolor:0x9e9e9e&style=feature:administrative.land_parcel%7Cvisibility:off&style=feature:administrative.locality%7Celement:labels.text.fill%7Ccolor:0xbdbdbd&style=feature:poi%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:poi.park%7Celement:geometry%7Ccolor:0x181818&style=feature:poi.park%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:poi.park%7Celement:labels.text.stroke%7Ccolor:0x1b1b1b&style=feature:road%7Celement:geometry.fill%7Ccolor:0x2c2c2c&style=feature:road%7Celement:labels.text.fill%7Ccolor:0x8a8a8a&style=feature:road.arterial%7Celement:geometry%7Ccolor:0x373737&style=feature:road.highway%7Celement:geometry%7Ccolor:0x3c3c3c&style=feature:road.highway.controlled_access%7Celement:geometry%7Ccolor:0x4e4e4e&style=feature:road.local%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:transit%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:water%7Celement:geometry%7Ccolor:0x000000&style=feature:water%7Celement:labels.text.fill%7Ccolor:0x3d3d3d`:p;if(this._lastURL===m)return;this._lastURL=m;const g=this.props.getUnmountSignal();i.default.gsmURL(m,i.default.GSM_NUMS).then((e=>{g.aborted||this.setState({imgSrcUrl:e,hiResAvail:c.isCached(e)})}))},this._handleImgLoaded=()=>{this.state.hiResAvail||this.setState({hiResAvail:!0}),this.props.onLoad&&this.props.onLoad()},this.state={imgSrcUrl:null,hiResAvail:!1},this._updateImgSrcUrl(e)}componentDidUpdate(){this._updateImgSrcUrl(this.props)}componentDidMount(){this.props.listeners.add(window,"dpichange",(()=>this._updateImgSrcUrl(this.props)))}render(){const{lat:e,lng:t,name:n,width:a,height:r,className:i,linkify:l,onClick:u,a8nText:c}=this.props,h={pointerEvents:"none",width:a,height:this.state.hiResAvail?void 0:r},p=(0,o.default)(i,{[m.default.hidden]:!this.state.hiResAvail}),v=this.state.hiResAvail?null:(0,y.jsx)(_.default,{name:"map-placeholder",display:"inline"}),b=(0,y.jsx)(f.default,{src:this.state.imgSrcUrl||"",className:p,style:h,hasPrivacyChecks:!1,onLoad:this._handleImgLoaded,noXHR:!0});return l?(0,y.jsxs)(d.ExternalLink,{href:(0,g.getMapUrl)(e,t,n),className:m.default.container,onClick:u,a8nText:c,"aria-label":s.fbt._("Open map location",null,{hk:"3LMZEW"}),children:[v,b]}):(0,y.jsxs)("span",{className:m.default.container,children:[v,b]})}}S.defaultProps={linkify:!0,showMarker:!0},S.contextType=v.ThemeContext,S.displayName="Map";var E=(0,p.ListenerHOC)((0,b.default)(S));t.default=E},8384:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionUrl=function(e,t){const n=i.default.getLocale();return`https://maps.google.com/maps/dir//${e},${t}?hl=${n}`},t.getMapUrl=function(e,t,n){const a=i.default.getLocale();if(n)return`${o}/${encodeURIComponent(n)}/@${e},${t},17z?hl=${a}`;return r.default.build("https://maps.google.com/maps",{q:`${e},${t}`,z:17,hl:a})},t.getSearchUrl=function(e){const t=i.default.getLocale();return`${o}/${encodeURIComponent(e)}/z?hl=${t}`};var r=a(n(76139)),i=a(n(14296));const o="https://maps.google.com/maps/search"},75109:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t}=e,n=(0,r.useModelValues)(e.chat,["unreadCount"]),a=e.onMarkUnread.bind(null,!n.unreadCount);return(0,s.jsx)(i.DropdownItem,{a8n:"mi-mark-as",action:a,disabled:t,children:n.unreadCount?o.default.t(435):o.default.t(436)},"MarkUnreadMenuItem")};var r=n(35461),i=n(71174),o=a(n(14296)),s=n(85893)},96205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intersect=function(e,t,n,a,r,i,o,s){const l={x:null,y:null,onLine1:!1,onLine2:!1},u=(s-i)*(n-e)-(o-r)*(a-t);if(0===u)return l;let d=t-i,c=e-r;const f=(n-e)*d-(a-t)*c;d=((o-r)*d-(s-i)*c)/u,c=f/u,l.x=e+d*(n-e),l.y=t+d*(a-t),d>0&&d<1&&(l.onLine1=!0);c>0&&c<1&&(l.onLine2=!0);return l},t.roundUp10thPercentage=function(e,t){if(0===e||0===t)return 0;const n=e/t*100;return n%10==0?n:10*(parseInt(n/10,10)+1)}},61849:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isSrcObjectInVideoElement=function(){void 0===h&&(h="srcObject"in document.createElement("video"));return h},t.start=function(e,t){let n,a=!1,u=0,h=!1;function p(){u&&clearTimeout(u),u=setTimeout((()=>{t?t():(!function(e){"camera"===e?i.ModalManager.open((0,d.jsx)(s.GuidePopup,{messaging:s.Messaging.CAMERA,type:s.TYPE.GUIDE_ALLOW})):i.ModalManager.open((0,d.jsx)(s.GuidePopup,{messaging:s.Messaging.MIC,type:s.TYPE.GUIDE_ALLOW}))}(e),h=!0)}),1e3)}return{asyncStream:(0,l.default)((t=>{let{retry:i,failCount:s}=t;return new Promise(((t,l)=>{p(),o.default?(0,o.default)(c[e][s]).then((e=>{if(!a)return n=e,e;f(e)})).then(t).catch((t=>{"NotReadableError"===t.name&&c[e][s+1]?i():l(t)})):(__LOG__(2)`MediaCapture:start() no ability to capture media`,l(new r.GUM.GUMError))}))})).catch((e=>{const t=(null==e?void 0:e.name)||e;throw new(r.GUM[t]||r.GUM.GUMError)})).finally((()=>{h&&i.ModalManager.close(),u&&clearTimeout(u)})),disposeStream:()=>{a=!0,n&&f(n)}}},t.stop=f;var r=n(35232),i=n(14597),o=a(n(56624)),s=n(18671),l=a(n(29049)),u=n(64551),d=n(85893);const c={camera:[{video:{width:u.ServerProps.imageMaxEdge,height:u.ServerProps.imageMaxEdge}},{video:{width:Math.min(1280,u.ServerProps.imageMaxEdge),height:Math.min(720,u.ServerProps.imageMaxEdge)}},{video:!0}],microphone:[{audio:!0}]};function f(e){if("function"==typeof e.stop)e.stop();else{const t=e.getTracks();for(let e=0;e<t.length;e++)t[e].stop()}}let h},41124:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Download=function(e){let{filesize:t=0,onClick:n}=e;if(t>0)return(0,u.jsx)("div",{className:o.default.controls,"data-testid":"media-state-download",children:(0,u.jsxs)("button",{className:(0,r.default)(o.default.btnMeta,o.default.cursorPointer),onClick:n,children:[(0,u.jsx)(l.default,{name:"media-download",className:o.default.iconMeta}),(0,u.jsx)("span",{children:i.default.filesize(t)})]})});return(0,u.jsx)("div",{className:o.default.controls,"data-testid":"media-state-download",children:(0,u.jsx)("button",{className:(0,r.default)(o.default.button,o.default.cursorPointer),onClick:n,children:(0,u.jsx)(l.default,{name:"media-download"})})})},t.GifIcon=function(e){let{onClick:t}=e;return(0,u.jsx)("div",{role:"button",className:o.default.controls,onClick:t,"data-testid":"media-state-gif-icon",children:(0,u.jsx)("div",{className:o.default.button,children:(0,u.jsx)(l.default,{name:"media-gif"})})})},t.Pending=function(e){const{cancelable:t}=e,n=(0,r.default)(o.default.icon,t?o.default.cursorPointer:null);return(0,u.jsx)("div",{className:o.default.controls,"data-testid":"media-state-pending",children:(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("div",{className:o.default.spinner,children:(0,u.jsx)(s.Spinner,{size:50,stroke:3,color:"white"})}),t?(0,u.jsx)("div",{className:o.default.cancel,children:(0,u.jsx)(l.default,{name:"media-cancel"})}):null]})})},t.Play=function(){return(0,u.jsx)("div",{className:o.default.controls,children:(0,u.jsx)("div",{className:o.default.button,children:(0,u.jsx)(l.default,{name:"media-play",className:o.default.play})})})},t.Upload=function(e){let{filesize:t=0}=e;if(t>0)return(0,u.jsx)("div",{className:o.default.controls,"data-testid":"media-state-upload",children:(0,u.jsxs)("button",{className:(0,r.default)(o.default.btnMeta,o.default.cursorPointer),children:[(0,u.jsx)(l.default,{name:"media-upload",className:o.default.iconMeta}),(0,u.jsx)("span",{children:i.default.filesize(t)})]})});return(0,u.jsx)("div",{className:o.default.controls,"data-testid":"media-state-upload",children:(0,u.jsx)("div",{className:o.default.button,children:(0,u.jsx)(l.default,{name:"media-upload"})})})};var r=a(n(94184)),i=a(n(14296)),o=a(n(44893)),s=n(11054),l=a(n(23217)),u=n(85893)},4293:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,thumbnailPlaceholder:n}=e,a=(0,i.default)(e,f),{mediaData:s}=(0,l.useModelValues)(t,["mediaData"]);if(null==s){return null!=n?(0,c.jsx)(p,{className:a.containerClassName,children:(0,c.jsx)("div",{className:(0,o.default)(u.default.child,a.childClassName),children:n})}):null}return(0,c.jsx)(h,(0,r.default)({mediaData:s,thumbnailPlaceholder:n},a))};var r=a(n(81109)),i=a(n(6479)),o=a(n(94184)),s=n(67294),l=n(35461),u=a(n(30800)),d=a(n(34949)),c=n(85893);const f=["msg","thumbnailPlaceholder"];function h(e){const{containerClassName:t,childClassName:n,mediaData:a,thumbnailPlaceholder:r}=e,{preview:i,fullPreviewData:s}=(0,l.useModelValues)(a,["preview","fullPreviewData"]),f=[];if(null!=i&&f.push({opaque:i,key:"preview"}),null!=s&&f.push({opaque:s,key:"fullPreviewData"}),0===f.length){return null!=r?(0,c.jsx)(p,{className:t,children:(0,c.jsx)("div",{className:(0,o.default)(u.default.child,n),children:r})}):null}return(0,c.jsx)(p,{className:t,children:f.map((e=>{let{key:t,opaque:a}=e;return a instanceof d.default?(0,c.jsx)(m,{className:n,opaque:a},t):null})).filter(Boolean)})}function p(e){const{className:t,children:n}=e;return(0,c.jsx)("div",{className:(0,o.default)(u.default.container,t),children:n})}function m(e){const{className:t,opaque:n}=e;return(0,s.useEffect)((()=>{if(null!=n)return n.retain(),()=>{n.autorelease()}}),[n]),(0,c.jsx)("div",{className:(0,o.default)(u.default.child,t),style:n?{backgroundImage:`url("${n.url()}")`}:null})}},46346:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBar=function(e){const t=(0,s.default)(f.default.menu,{[f.default.menuDefault]:!e.theme,[f.default.menuStrong]:"strong"===e.theme,[f.default.menuInverse]:"inverse"===e.theme,[f.default.menuMediaEditor]:"media-editor"===e.theme});return(0,p.jsx)("div",{className:t,children:e.children})},t.MenuBarItem=function(e){const{text:t,transitionName:n="dropdown",disabled:a=!1,children:m,icon:g,title:_,selected:v,testid:b,theme:y}=e,[C,S]=(0,l.useState)(!1),E=null!=m&&C?(0,p.jsx)(h.UIE,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{S(!1)},children:m}):null,x=(0,s.default)(f.default.item,{[f.default.selected]:v,[f.default.active]:C,[f.default.disabled]:a,[f.default.menuBarItemForceSize]:"force-size"===y}),[T,M]=(0,c.default)((t=>{e.onClick&&e.onClick(t),t.isDefaultPrevented()||(t.preventDefault(),C||null!=m&&S(!0))}),{disabled:a}),[k,w]=(0,u.default)(),A=(0,d.default)(T,k);return(0,p.jsxs)("div",{"data-a8n":i.default.key(e.a8nText),className:x,"data-testid":b,children:[(0,p.jsxs)("div",(0,r.default)((0,r.default)({},M),{},{className:(0,s.default)(f.default.button,w&&f.default.itemFocused),"data-tab":a?void 0:e.tabOrder,title:_,"aria-label":_,ref:A,children:[g,t&&(0,p.jsx)("span",{className:f.default.itemText,children:t})]})),(0,p.jsx)(o.default,{transitionName:n,children:E})]})};var r=a(n(81109)),i=a(n(99964)),o=a(n(40436)),s=a(n(94184)),l=n(67294),u=a(n(85647)),d=a(n(78506)),c=a(n(34470)),f=a(n(3183)),h=n(18644),p=n(85893)},63538:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(14597),i=a(n(94184)),o=n(48360),s=n(67294),l=a(n(59312)),u=n(87550),d=a(n(89113)),c=a(n(14296)),f=n(47809),h=a(n(85407)),p=a(n(23217)),m=n(85893);function g(e,t){const{labelEditEnabled:n,onRemoveLabel:a,selectedModels:p,onCancel:g,onDelete:v}=e,b=(0,l.default)(),y=p.getSelected(),C=y.length,S=()=>{r.ModalManager.open((0,m.jsx)(f.ManageLabelFlowLoadable,{onLabelUpdateComplete:g,modelsToUpdate:y}))},E=(0,d.default)(g);(0,s.useEffect)((()=>{0===C&&E()}),[C,E]),(0,u.useListener)(p,"all",b);const x=y.length;let T,M,k;n&&x>0&&(T=(0,m.jsx)(_,{name:"label",disabled:!x,title:o.fbt._("Add label",null,{hk:"1tcf6K"}),onClick:S})),a&&x>0&&(k=(0,m.jsx)(_,{name:"label-delete",disabled:!x,title:o.fbt._("Remove label",null,{hk:"3cOKlJ"}),onClick:a})),v&&x>0&&(M=(0,m.jsx)(_,{name:"delete",disabled:!x,title:o.fbt._("Delete label",null,{hk:"2cvgyg"}),onClick:v}));const w=(0,i.default)(h.default.multiControls,{[h.default.drawerHeader]:"drawer-header"===e.theme,[h.default.chatListPanel]:"chatlist-panel"===e.theme});return(0,m.jsxs)("div",{className:w,ref:t,children:[(0,m.jsx)(_,{name:"x",onClick:e.onCancel}),(0,m.jsx)("div",{className:h.default.multiCount,children:c.default.t(586,{count:x,_plural:x})}),T,M,k]})}const _=e=>{let{name:t,title:n,onClick:a,directional:r,disabled:i}=e;return(0,m.jsx)("button",{className:h.default.multiselectIcon,title:n,onClick:a,disabled:i?"disabled":void 0,children:(0,m.jsx)(p.default,{name:t,directional:r})})};var v=(0,s.forwardRef)(g);t.default=v},92218:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{escapeConversationHeader:t,animationStartStyle:n,aspectRatio:a,initialStyle:k,minWidth:P,margin:j,onMoveStop:I,onResize:O,onMove:N}=e,R=(0,_.default)(),D=()=>k?{width:k.width,left:k.left,bottom:k.bottom}:{width:P,left:j.x,bottom:j.y},L=(0,f.useMemo)((()=>{let e;t&&u.Cmd.getConversationHeaderOffset((t=>{e=t.right}));const a={resizeDirection:S.TOP,currentAction:M.IDLE,resizeStartMousePosition:{x:0,y:0},resizeStartPiPStyle:{width:0,bottom:0,left:0},moveStartMousePosition:{x:0,y:0},moveStartPositionStyle:{left:0,bottom:0},previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:e};return n?(0,r.default)((0,r.default)({},a),n):(0,r.default)((0,r.default)({},a),D())}),[]),[B,F]=(0,f.useState)(L.width),[G,U]=(0,f.useState)(L.bottom),[V,W]=(0,f.useState)(L.left),[H,q]=(0,f.useState)(L.resizeDirection),[Y,z]=(0,f.useState)(L.currentAction),[K,$]=(0,f.useState)(L.resizeStartMousePosition),[Q,X]=(0,f.useState)(L.resizeStartPiPStyle),[J,Z]=(0,f.useState)(L.moveStartMousePosition),[ee,te]=(0,f.useState)(L.moveStartPositionStyle),[ne,ae]=(0,f.useState)(L.previousWindowSize),[re,ie]=(0,f.useState)(L.previousConvPanelRightBorder),oe=(0,f.useRef)(null),se=(0,f.useRef)(null),le=(0,f.useRef)(null),ue=(0,f.useRef)(null),de=(0,p.default)((()=>new l.ShiftTimer((e=>{e.left&&W(e.left),e.bottom&&U(e.bottom),e.width&&F(e.width)})))),ce=e=>t=>{0===t.button&&(q(e),z(M.RESIZE),X({width:B,left:V,bottom:G}),$({x:t.clientX,y:t.clientY})),t.stopPropagation()},fe=e=>{0===e.button&&(z(M.MOVE),te({left:V,bottom:G}),Z({x:e.clientX,y:e.clientY})),e.stopPropagation()},he=()=>({top:window.innerHeight-G-B/a,left:V,bottom:window.innerHeight-G,right:V+B}),pe=()=>{const e=he();null==I||I(e)},me=()=>{var e,t;return{extraTopContentHeight:0+(null!=(null===(e=le.current)||void 0===e?void 0:e.offsetHeight)?le.current.offsetHeight-C:0),extraBottomContentHeight:null!=(null===(t=ue.current)||void 0===t?void 0:t.offsetHeight)?ue.current.offsetHeight-C:0}},ge=(e,t,n,r)=>{let i=e,s=t,l=n,u=0,d=0,c=0;switch(r){case M.RESIZE:u=Q.width,d=Q.left,c=Q.bottom;break;case M.MOVE:u=B,d=ee.left,c=ee.bottom}const f=window.innerHeight,h=window.innerWidth,{extraTopContentHeight:p,extraBottomContentHeight:m}=me(),g=u+i,_=g/a,v=c+l,b=(0,o.default)(v,2),y=d+s,C=(0,o.default)(y,2),S=(0,o.default)(j.y+m,2),E=(0,o.default)(f-_-j.y-p,2),x=(0,o.default)(j.x,2),T=(0,o.default)(h-g-j.x,2);if(S>b||b>E)switch(r){case M.RESIZE:l=0,s=0,i=0;break;case M.MOVE:l=0}if(x>C||C>T)switch(r){case M.RESIZE:l=0,s=0,i=0;break;case M.MOVE:s=0}if(i&&v+_+j.y>f)switch(r){case M.RESIZE:l=0,s=0,i=0}if(i&&y+B+j.x>h)switch(r){case M.RESIZE:l=0,s=0,i=0}return(g<P||_+2*j.y>f||g+2*j.x>h)&&(l=0,s=0,i=0),{deltaWidth:i,deltaBottom:l,deltaLeft:s}},_e=(e,t)=>{const n=window.innerWidth,r=window.innerHeight,i=V+e,o=G+t,s=j.x,l=n-B-j.x,u=j.y,d=r-B/a-j.y;return u>o||o>d||(s>i||i>l)};(0,f.useEffect)((()=>{if(k){if(oe.current)return void de.current.onOrAfter(400,k);const e=k.width,t=k.left+e-(B+V),n=k.bottom+e/a-(G+B/a);Math.abs(t)<.1&&Math.abs(n)<.1?(k.left&&W(k.left),k.bottom&&U(k.bottom),k.width&&F(k.width)):F(e)}}),[a]);const ve=(0,h.default)((()=>{const{extraTopContentHeight:t,extraBottomContentHeight:n}=me(),a=window.innerHeight-2*e.margin.y-t-n,r=window.innerWidth-2*e.margin.x;let o=B,s=o/e.aspectRatio,l=G,d=V;s>a&&(s=a,o=a*e.aspectRatio),o>r&&(s=r/e.aspectRatio,o=r),l+s>a+e.margin.y+n&&(l=a+e.margin.y+n-s),d+o>r+e.margin.x&&(d=r+e.margin.x-o),ne.width<d+o+e.margin.x+3&&(d=r+e.margin.x-o),ne.height<l+s+e.margin.y+n+3&&(l=a+e.margin.y+n-s);const c=null!=re&&re>0&&Math.abs(V+o+e.margin.x-re)<3;let f;e.escapeConversationHeader&&u.Cmd.getConversationHeaderOffset((e=>{f=e.right}));const h=f&&f<window.innerWidth;c&&null!=f&&0!==f&&h&&(d=f-e.margin.x-o);const p={bottom:Math.max(e.margin.y,l),left:Math.max(e.margin.x,d),width:Math.max(e.minWidth,o),previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:f};(0,i.default)(p,{bottom:G,left:V,width:B,previousWindowSize:ne,previousConvPanelRightBorder:re})||(U(p.bottom),W(p.left),F(p.width),ae(p.previousWindowSize),ie(p.previousConvPanelRightBorder))}),50);(0,f.useEffect)((()=>{if(!n)return void ve();const e=D(),t=n.width/a,i=n.height,o=i/t,l=(0,r.default)((0,r.default)({},e),{},{height:e.width/a,scaleY:[1,o],translateY:[0,(t-i)/2/o]}),u=(0,d.default)((0,s.default)(se.current,"componentRef.current"),l,{easing:"easeInOutQuart",duration:400});oe.current=u.then((()=>{R.aborted||(oe.current=null,W(e.left),U(e.bottom),F(e.width),ve())}))}),[]),(0,g.default)((()=>{de.current.cancel()})),(0,m.useListener)(window,"mousemove",(e=>{let t,n=0,r=0,i=0,o=0;const{extraTopContentHeight:s,extraBottomContentHeight:l}=me();switch(Y){case M.IDLE:return;case M.RESIZE:switch(H){case S.TOP:r=K.y-e.clientY,n=r*a;break;case S.BOTTOM:r=e.clientY-K.y,n=r*a,o=-r;break;case S.RIGHT:n=e.clientX-K.x,r=n/a,o=-r;break;case S.LEFT:n=K.x-e.clientX,r=n/a,o=-r,i=-n;break;case S.TOP_RIGHT:n=Math.max(e.clientX-K.x,a*(K.y-e.clientY)),r=n/a;break;case S.TOP_LEFT:n=Math.max(K.x-e.clientX,a*(K.y-e.clientY)),r=n/a,i=-n;break;case S.BOTTOM_RIGHT:n=Math.max(e.clientX-K.x,a*(e.clientY-K.y)),r=n/a,o=-r;break;case S.BOTTOM_LEFT:n=Math.max(K.x-e.clientX,a*(e.clientY-K.y)),r=n/a,o=-r,i=-n}t=ge(n,i,o,M.RESIZE);let u=0,d=0,c=0;if(0===t.deltaWidth&&0===t.deltaLeft&&0===t.deltaBottom){if(n<0)switch(H){case S.TOP:case S.TOP_RIGHT:n=P-Q.width,o=0,i=0;break;case S.TOP_LEFT:n=P-Q.width,i=-n,o=0;break;case S.BOTTOM:case S.RIGHT:case S.BOTTOM_RIGHT:n=P-Q.width,r=n/a,o=-r,i=0;break;case S.LEFT:case S.BOTTOM_LEFT:n=P-Q.width,r=n/a,o=-r,i=-n}else if(n>0){const e=Q.width/a;switch(H){case S.TOP:case S.TOP_RIGHT:n=Math.min(window.innerWidth-j.x-s-Q.width-Q.left,a*(window.innerHeight-j.y-s-e-Q.bottom))-.1;break;case S.TOP_LEFT:n=Math.min(Q.left-j.x,a*(window.innerHeight-j.y-s-e-Q.bottom))-.1,r=n/a,i=-n;break;case S.BOTTOM:case S.RIGHT:case S.BOTTOM_RIGHT:n=Math.min(window.innerWidth-j.x-Q.width-Q.left,a*(Q.bottom-j.y-l))-.1,r=n/a,o=-r;break;case S.LEFT:case S.BOTTOM_LEFT:n=Math.min(Q.left-j.x,a*(Q.bottom-j.y-l))-.1,r=n/a,o=-r,i=-n}}u=Q.width+n,d=Q.left+i,c=Q.bottom+o,F(u),W(d),U(c)}else u=Q.width+t.deltaWidth,d=Q.left+t.deltaLeft,c=Q.bottom+t.deltaBottom,F(u),W(d),U(c);O&&O(u,d,c);break;case M.MOVE:i=e.clientX-J.x,o=J.y-e.clientY,t=ge(n,i,o,M.MOVE);let f=0,h=0;f=0!==i&&0===t.deltaLeft?i>0?window.innerWidth-B-j.x:j.x:ee.left+t.deltaLeft,h=0!==o&&0===t.deltaBottom?o>0?window.innerHeight-B/a-j.y-s-.1:j.y+l:ee.bottom+t.deltaBottom,W(f),U(h),N&&N(f,h)}})),(0,m.useListener)(window,"mouseup",(()=>{z(M.IDLE)})),(0,m.useListener)(window,"resize",ve),(0,m.useListener)(u.Cmd,"floater_escape_overlap",((e,t)=>{const n=e.getBoundingClientRect(),a={left:n.left-t,top:n.top-t,right:n.right+t,bottom:n.bottom+t},r=he();if(o=a,(i=r).right<=o.left||i.left>=o.right||i.bottom<=o.top||i.top>=o.bottom)return;var i,o;const l=((e,t)=>({toLeftDistance:e.right-t.left,toBottomDistance:t.bottom-e.top,toRightDistance:t.right-e.left,toTopDistance:e.bottom-t.top}))(r,a);let u,c;if(_e(-l.toLeftDistance,0)||(void 0===u||l.toLeftDistance<u)&&(u=l.toLeftDistance,c=S.LEFT),_e(0,-l.toBottomDistance)||(void 0===u||l.toBottomDistance<u)&&(u=l.toBottomDistance,c=S.BOTTOM),_e(l.toRightDistance,0)||(void 0===u||l.toRightDistance<u)&&(u=l.toRightDistance,c=S.RIGHT),_e(0,l.toTopDistance)||(void 0===u||l.toTopDistance<u)&&(u=l.toTopDistance,c=S.TOP),void 0===u||null==c)return;let f={};switch(c){case S.LEFT:f={left:V-l.toLeftDistance};break;case S.BOTTOM:f={bottom:G-l.toBottomDistance};break;case S.RIGHT:f={left:V+l.toRightDistance};break;case S.TOP:f={bottom:G+l.toTopDistance}}(0,d.default)((0,s.default)(se.current,"componentRef.current"),f,{duration:200}).then((()=>{R.aborted||(null!=f.left&&W(f.left),null!=f.bottom&&U(f.bottom))}))}));const be={width:B,height:B/a},ye={width:be.width,height:be.height,bottom:G+"px",left:V+"px"};return(0,y.jsxs)("div",{"data-testid":"move_resize_component",ref:se,className:(0,c.default)(v.default.moveResizeComponentContainer),style:ye,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:[e.enableDragBar||null!=e.topContent?(0,y.jsxs)("div",{ref:le,className:(0,c.default)(v.default.extraContent,v.default.topContent,{[v.default.extraContentVisible]:e.extraContentVisible}),children:[e.enableDragBar?(0,y.jsx)(A,{onMouseDown:fe,onMouseUp:pe,currentAction:Y,children:(0,y.jsx)(b.default,{className:v.default.dragBar,name:"drag-texture"})}):null,e.topContent,(0,y.jsx)(w,{getResizeCallback:ce,currentAction:Y,directions:x})]}):null,null!=e.bottomContent?(0,y.jsxs)("div",{ref:ue,style:{top:!e.extraContentVisible&&ue.current?`calc(100% - ${ue.current.offsetHeight}px)`:null},className:(0,c.default)(v.default.extraContent,v.default.bottomContent,{[v.default.extraContentVisible]:e.extraContentVisible}),children:[(0,y.jsx)("div",{className:(0,c.default)(v.default.blurryBackground)}),e.bottomContent,(0,y.jsx)(w,{getResizeCallback:ce,currentAction:Y,directions:T})]}):null,e.disableResize?null:(0,y.jsx)(w,{getResizeCallback:ce,currentAction:Y,directions:null!=e.topContent?E:void 0}),(0,y.jsx)("div",{className:(0,c.default)(v.default.moveResizeComponentInnerContainer,e.className),children:(0,y.jsxs)(A,{onMouseDown:fe,onMouseUp:pe,currentAction:Y,disabled:e.enableDragBar,children:[e.children,Y!==M.IDLE?(0,y.jsx)("div",{className:v.default.overlay}):null]})})]})};var r=a(n(81109)),i=a(n(18446)),o=a(n(59854)),s=a(n(45095)),l=n(57319),u=n(81572),d=a(n(62831)),c=a(n(94184)),f=n(67294),h=a(n(51799)),p=a(n(16223)),m=n(87550),g=a(n(55010)),_=a(n(3409)),v=a(n(617)),b=a(n(23217)),y=n(85893);const C=parseInt(v.default["-move-resize-component-border-radius"],10),S=n(76672).Mirrored(["TOP","BOTTOM","LEFT","RIGHT","TOP_RIGHT","TOP_LEFT","BOTTOM_RIGHT","BOTTOM_LEFT"]),E=[S.LEFT,S.RIGHT],x=[S.TOP,S.TOP_LEFT,S.TOP_RIGHT].concat(E),T=[S.BOTTOM,S.BOTTOM_LEFT,S.BOTTOM_RIGHT].concat(E),M=n(76672).Mirrored(["IDLE","RESIZE","MOVE"]);function k(e){switch(e){case S.LEFT:return v.default.leftResizer;case S.BOTTOM:return v.default.bottomResizer;case S.RIGHT:return v.default.rightResizer;case S.TOP:return v.default.topResizer;case S.TOP_LEFT:return v.default.topLeftResizer;case S.TOP_RIGHT:return v.default.topRightResizer;case S.BOTTOM_LEFT:return v.default.bottomLeftResizer;case S.BOTTOM_RIGHT:return v.default.bottomRightResizer}}function w(e){let{getResizeCallback:t,currentAction:n,directions:a=Array.from(S.members())}=e;return a.map((e=>(0,y.jsx)("div",{"data-testid":`move_resize_component_resizer_${e}`,className:(0,c.default)(k(e),v.default.resizer,{[v.default.defaultCursor]:n===M.RESIZE}),onMouseDown:t(e)},e)))}function A(e){return e.disabled?e.children:(0,y.jsx)("div",{className:(0,c.default)(v.default.moveable,{[v.default.defaultCursor]:e.currentAction===M.RESIZE}),onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,grab:e.currentAction===M.MOVE?"true":"supported",children:e.children})}},16351:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{selectedMessages:t,chat:n,toastPosition:a,onCancel:A,noSortOnForward:O,downloadButton:N=!0}=e,R=(0,m.default)(),D=(0,p.useRef)(null),L=()=>{const e=t.getSelected();n&&s.Cmd.sendStarMsgs(n,e,null,a),A()},B=()=>{const e=t.getSelected();n&&s.Cmd.sendUnstarMsgs(n,e,null,a),A()},F=function(){var e=(0,r.default)((function*(){try{yield(0,_.runBulkUndoKeepInChatUX)(t.getSelected()),A()}catch(t){var e;__LOG__(2)`Bulk unkeep operation not complete. Reason: ${null!==(e=t.reason)&&void 0!==e?e:"unknown"}`}}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,r.default)((function*(){try{yield(0,_.runBulkKeepInChatUX)(t.getSelected()),A()}catch(t){var e;__LOG__(2)`Bulk keep operation not complete. Reason: ${null!==(e=t.reason)&&void 0!==e?e:"unknown"}`}}));return function(){return e.apply(this,arguments)}}(),U=()=>{const e=(0,o.default)(t.getSelected(),(e=>e.mediaData));if(!e.length)return;const n=(0,o.default)(e,(e=>!e.mediaData.isDownloadable()));n.length>0?(c.ToastManager.open((0,j.jsx)(P.Toast,{msg:h.fbt._("Downloading…",null,{hk:"2sMvu6"}),id:(0,P.genId)()})),Promise.all((0,i.default)(n,(e=>e.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:x.default.WEBC_RMR_REASON_CODE.MULTI_SELECT_DOWNLOAD,isUserInitiated:!0})))).then((()=>{const t=(0,o.default)(e,(e=>e.mediaData.isDownloadable()));e.length>t.length&&c.ToastManager.open((0,j.jsx)(P.Toast,{msg:S.default.t(307,{_plural:e.length-t.length,count:e.length-t.length}),id:(0,P.genId)()})),t.length&&l.FileSaver.initDownload(t)}))):l.FileSaver.initDownload(e),A()};(0,g.useListeners)(t.getSelected().map((e=>({source:e,eventOrEvents:"change:star",callback:R})))),(0,g.useListener)(t,"all",R),(0,g.useListener)(T.MsgCollection,"change:star change:keptBy",(e=>{t.isSelected(e)&&R()}));const V=e.selectedMessages.getSelected(),W=V.length,H=V.every((e=>e.canForward())),q=V.every((e=>e.canStar())),Y=V.every((e=>e.mediaData)),z=V.every((e=>!e.asRevoked)),K=V.every((e=>e.canKeepOrUnkeep())),$=(0,j.jsx)(I,{disabled:!W||!H,name:"forward",onClick:()=>{let e=t.getSelected();!O&&n&&(e=n.sortMsgs(e));const a=e.length,r=()=>{A()},i=(0,o.default)(e,(e=>e.canForward()));i.length?a!==i.length?d.ModalManager.open((0,j.jsx)(v.default,{title:S.default.t(196),onOK:()=>{d.ModalManager.open((0,j.jsx)(y.ForwardMessageFlowLoadable,{msgs:i,pushTransition:"none",popTransition:"none",onForward:r}),{transition:"modal-flow"})},okText:S.default.t(315),onCancel:()=>d.ModalManager.close(),cancelText:h.fbt._("Cancel",null,{hk:"H0gNq"}),children:S.default.t(195)})):d.ModalManager.open((0,j.jsx)(y.ForwardMessageFlowLoadable,{msgs:e,pushTransition:"none",popTransition:"none",onForward:r}),{transition:"modal-flow"}):d.ModalManager.open((0,j.jsx)(v.default,{title:S.default.t(305),onOK:()=>d.ModalManager.close(),okText:h.fbt._("OK",null,{hk:"2KEeHb"}),children:S.default.t(302,{_plural:a})}))},title:S.default.t(318,{_plural:W})}),Q=(0,j.jsx)(I,{name:"delete",disabled:!W,title:S.default.t(227,{_plural:W}),onClick:()=>{const e=t.getSelected();n&&(d.ModalManager.open((0,j.jsx)(b.default,{chat:n,msgList:e.map(w.unproxy),toastPosition:a,onEnd:A})),k.UiRevokeActionHelper.trashCanSelected())}}),X=W>0;let J,Z,ee=X,te=X,ne=X,ae=!1,re=!1;V.forEach((e=>{e.canKeepOrUnkeep()?ae=!0:(re=!0,ee=!1),e.isKept()||(te=!1),e.star||(ne=!1)}));if(!ae||!re){if((0,C.isKICFullyEnabled)()&&(ee||!W&&n.isEphemeralSettingOn())){let e,t,n;W&&te?(e="undo-keep-in-chat",t=h.fbt._("Unkeep",null,{hk:"3Czhrd"}),n=F):(e="keep-in-chat",t=h.fbt._("Keep",null,{hk:"3oXlRr"}),n=G),Z=(0,j.jsx)(I,{name:e,disabled:!W||!K,title:t,onClick:n})}else{let e,t,n;W&&ne?(e=B,t="unstar-btn",n=S.default.t(634,{_plural:W})):(e=L,t="star-btn",n=S.default.t(610,{_plural:W})),J=(0,j.jsx)(I,{name:t,disabled:!W||!q,title:n,onClick:e})}}const ie=(0,u.canEditLabelAssociation)()&&(0,j.jsx)(I,{disabled:!W||!z,name:"label",onClick:()=>{const e=t.getSelected();d.ModalManager.open((0,j.jsx)(E.ManageLabelFlowLoadable,{onLabelUpdateComplete:A,modelsToUpdate:e}))},title:h.fbt._("Label items",null,{hk:"2xOVMD"})});let oe;Modernizr.adownload&&N&&Y&&(oe=(0,j.jsx)(I,{name:"download",disabled:!W,title:h.fbt._("Download",null,{hk:"1g5Jix"}),onClick:U}));const se=(0,f.default)(M.default.multiControls,{[M.default.mediaGalleryTheme]:"mediaGallery"===e.theme});return(0,j.jsxs)("div",{className:se,ref:D,children:[(0,j.jsx)(I,{name:"x",onClick:e.onCancel}),(0,j.jsx)("span",{className:M.default.multiCount,children:S.default.t(586,{count:W,_plural:W})}),ie,J,Z,Q,$,oe]})};var r=a(n(48926)),i=a(n(35161)),o=a(n(63105)),s=n(81572),l=n(21634),u=n(8139),d=n(14597),c=n(94816),f=a(n(94184)),h=n(48360),p=n(67294),m=a(n(59312)),g=n(87550),_=n(63967),v=a(n(52665)),b=a(n(47022)),y=n(75362),C=n(29805),S=a(n(14296)),E=n(47809),x=a(n(11339)),T=n(59871),M=a(n(8629)),k=n(55051),w=n(18146),A=a(n(23217)),P=n(50452),j=n(85893);const I=e=>{let{name:t,title:n,onClick:a,directional:r,disabled:i}=e;return(0,j.jsx)("button",{className:M.default.multiselectIcon,title:n,onClick:a,disabled:i?"disabled":void 0,children:(0,j.jsx)(A.default,{name:t,directional:r})})}},90922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t}=e,n=(0,i.useModelValues)(e.mute,["isMuted"]),d=(0,i.useModelValues)(e.chat,["archive"]),c=(0,i.useModelValues)(e.settings,["showArchiveV2"]),f=e.onMute.bind(null,!n.isMuted);let h,p,m,g;d.archive&&(0,a.archiveV2Supported)()&&c.showArchiveV2?(h=u,g=r.fbt._("Unmute notifications",null,{hk:"4aQGmY"}),p=o.ThemeOptions.MUTED,m=(0,l.jsx)(s.Tooltip,{anchor:s.TooltipAnchor.Left,children:r.fbt._("Archived chats are muted",null,{hk:"31ZVD"})})):(g=n.isMuted?r.fbt._("Unmute notifications",null,{hk:"4aQGmY"}):r.fbt._("Mute notifications",null,{hk:"2Fm15X"}),h=f);return(0,l.jsx)(o.DropdownItem,{action:h,disabled:t,theme:p,tooltip:m,children:g})};var a=n(8139),r=n(48360),i=n(35461),o=n(71174),s=n(2712),l=n(85893);const u=()=>{}},12176:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ContactAndGroupName=function(e){const{chat:t,contact:n,xstyle:a}=e;return(0,g.jsxs)("span",{className:(0,u.default)(a),children:[(0,g.jsx)(S,{contact:n,useShortName:!0}),(0,g.jsx)("span",{children:" • "}),(0,g.jsx)(C,{chat:t,groupMetadata:t.groupMetadata})]})},t.ContactName=y,t.GroupName=C,t.Name=S;var r=a(n(81109)),i=a(n(6479)),o=a(n(63116)),s=a(n(9384)),l=a(n(94184)),u=a(n(56720)),d=n(35461),c=n(65417),f=n(30695),h=n(84543),p=a(n(65301)),m=a(n(23217)),g=n(85893);const _=["chat"],v=["chat"],b=["contact"];function y(e){const{element:t="span",highlightText:n,titlify:a,ellipsify:r,breakWord:i,you:u,selectable:_,useShortName:v,useDisplayName:b,onClick:y,showLabel:C,showBusinessCheckmark:S,showNotifyName:E,useVerifiedName:x,firstLabel:T,xstyle:M}=e,k=(0,d.useModelValues)(e.contact,["isPSA","formattedUser","formattedName","formattedShortName","displayName","labels","name","notifyName","isMe","verifiedName"]);let w;n&&(w=f.Configuration.SearchName({terms:[n]}));const A=(e=>{let{contact:t,showNotifyName:n,useDisplayName:a,useShortName:r,useVerifiedName:i,you:o}=e;return!0===a&&t.displayName?t.displayName:!0===r&&t.formattedShortName?t.formattedShortName:!0===i&&t.verifiedName?t.verifiedName:!0===o&&t.isMe?t.formattedName:!0!==n||t.name||null==t.notifyName?t.formattedUser:`~${t.notifyName}`})({contact:k,showNotifyName:E,useDisplayName:b,useShortName:v,useVerifiedName:x,you:u});if(!A)return __LOG__(4,void 0,new Error,!0)`displayName:${A},
formattedName:${k.formattedName},
name:${k.name},
formattedShortName:${k.formattedShortName},
formattedUser:${k.formattedUser}`,SEND_LOGS("display name is null or undefined"),"";const P=(0,g.jsx)(c.EmojiText,{text:(0,s.default)(A),element:t,className:(0,l.default)(k.isPSA?p.default.psa:null,e.className),formatters:w,titlify:a,ellipsify:r,breakWord:i,direction:"auto",selectable:_,inlineblock:!0,onClick:y,xstyle:M}),j=e.labels||k.labels;j&&T&&(0,o.default)(j,T);const I=C&&j&&(0,g.jsx)("div",{className:p.default.labels,children:(0,g.jsx)(h.Labels,{labels:j,showName:!1})});return k.isPSA||S?(0,g.jsxs)("span",{className:p.default.verified,children:[P,(0,g.jsx)("div",{className:p.default.icon,children:(0,g.jsx)(m.default,{name:"psa-verified"})}),I]}):I?(0,g.jsxs)("span",{className:p.default.hasLabels,children:[P,I]}):P}function C(e){const{element:t,highlightText:n,titlify:a,ellipsify:r,breakWord:i,onClick:_,showLabel:v,firstLabel:b,className:y,xstyle:C}=e;let S;const E=(0,d.useModelValues)(e.chat,["formattedTitle","labels"]),x=(0,d.useModelValues)(e.groupMetadata,["support"]);n&&(S=f.Configuration.SearchName({terms:[n]}));const T=e.labels||E.labels;T&&b&&(0,o.default)(T,b);const M=v&&T?(0,g.jsx)("div",{className:p.default.labels,children:(0,g.jsx)(h.Labels,{labels:T,showName:!1})}):null,k=(0,g.jsx)(c.EmojiText,{text:(0,s.default)(E.title()),element:t,className:(0,l.default)(y,(0,u.default)(C)),formatters:S,titlify:a,ellipsify:r,breakWord:i,direction:"auto",inlineblock:!0,onClick:_});return x.support?(0,g.jsxs)("div",{className:(0,l.default)({[p.default.verified]:!0,[p.default.hasLabels]:!!M}),children:[k,(0,g.jsx)("div",{className:p.default.icon,children:(0,g.jsx)(m.default,{name:"psa-verified"})}),M]}):M?(0,g.jsxs)("div",{className:p.default.hasLabels,children:[k,M]}):k}function S(e){if(e.chat&&!e.chat.isUser){const{chat:t}=e,n=(0,i.default)(e,_);return(0,g.jsx)(C,(0,r.default)({chat:t,groupMetadata:t.groupMetadata},n))}let t,n;if(e.chat){const{chat:a}=e,r=(0,i.default)(e,v);t=a.contact,n=r}else{const{contact:a}=e;t=a,n=(0,i.default)(e,b)}return(0,g.jsx)(y,(0,r.default)({contact:t},n))}},79720:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(6479)),o=n(51737),s=n(81572),l=a(n(64369)),u=n(8139),d=n(14597),c=n(15461),f=n(60868),h=n(69951),p=n(88172),m=a(n(14296)),g=n(59871),_=n(57162);const v=["title","notification"];t.default=class{constructor(e,t,n,a){if(this.close=()=>{this.notification&&this._waitForInteractionStop().then((()=>{this.notification&&(0,o.isFunction)(this.notification.close)&&this.notification.close()})).catch((()=>{}))},this._handleClose=()=>{var e;(this.waitingPromise.resolver(),window.removeEventListener("beforeunload",this.close),this.notification&&(this.notification.removeEventListener("click",this._handleClick),this.notification.removeEventListener("close",this._handleClose)),this.msg&&this.msg.off("change:type",this._handleRevoke),(0,u.receiveReactionsEnabled)()&&this.reactionSender)&&(this.reactionSender.off("revoked change:read",this._handleReactionRemove),null===(e=this.chat)||void 0===e||e.off("change:reactionSquelch",this._handleChatOpenUpdateMsgLevelSquelch))},this._handleClick=()=>{var e;null===(e=this._onClick)||void 0===e||e.call(this),window.focus();const t=this.chat,n=this.msg;if(!t)return;const a=n&&n!==t.msgs.last()?t.getSearchContext(n):void 0;s.Cmd.openChatAt(t,a).then((e=>{e&&p.ComposeBoxActions.focus(t)})),d.ModalManager.closeMedia(),this.close()},this._handleRevoke=()=>{this.msg&&this.msg.type===c.MSG_TYPE.REVOKED&&this.close()},this._handleReactionRemove=()=>{this.close()},this._handleChatOpenUpdateMsgLevelSquelch=()=>{null!=this.chat&&null!=this.msg&&this.chat.reactionSquelch===l.default.SQUELCH_RESET_VALUE&&(this.msg.squelch=l.default.SQUELCH_RESET_VALUE)},this.msg=g.MsgCollection.get(t),this.chat=h.ChatCollection.get(e),this._onClick=a.onClick,(0,u.receiveReactionsEnabled)()&&n){const e=_.ReactionsCollection.get(t);if(e){const{reactionSenderModel:t}=_.ReactionsCollection.getAggregateEmojiAndSender(e,n);this.reactionSender=t}else __LOG__(3)`base_notification_wrapper:constructor Reaction model not found`}const b=new Promise((e=>{this.waitingPromise={resolver:e}}));this.waitingPromise.promise=b;const{title:y,notification:C}=a,S=(0,i.default)(a,v),E=!!f.CallCollection.get(t);let x=e.toString();(E||(0,u.receiveReactionsEnabled)()&&this.reactionSender)&&(x=t);try{var T;if(this.notification=new C(y,(0,r.default)({tag:x,renotify:!0,dir:"auto",lang:m.default.getLocale(),silent:!0},S)),this.notification.addEventListener("click",this._handleClick),this.notification.addEventListener("close",this._handleClose),this.msg&&this.msg.on("change:type",this._handleRevoke),(0,u.receiveReactionsEnabled)()&&null!=this.reactionSender)this.reactionSender.on("revoked change:read",this._handleReactionRemove),null===(T=this.chat)||void 0===T||T.on("change:reactionSquelch",this._handleChatOpenUpdateMsgLevelSquelch);window.addEventListener("beforeunload",this.close)}catch(e){__LOG__(2)`Failed to create notification: ${e.name}:${e.message}`,this.waitingPromise.resolver()}}_waitForInteractionStop(){return Promise.resolve()}waitForClose(){return this.waitingPromise.promise}detach(){this._handleClose()}}},93551:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.cancelCallNotification=function(e){e&&z(D,e.toString())},t.closeNotifications=function(e){if(!e||!e.id)return;z(R,e.id.toString()),z(D,e.id.toString())},t.isArchivedAndNotMentioned=H,t.isMeUserMentionedOrQuoted=W,t.shouldNotify=F,t.shouldNotifyForType=G,t.showCallNotification=function(e,t,n,a){if(!e||!t||A.MuteCollection.globalMute().isMuted)return;if(window.Notification&&window.Notification.permission===m.PERMISSION_ALLOWED&&A.MuteCollection.getGlobalNotifications()){const r=C.ContactCollection.get(e),i=r?r.formattedName:(0,_.widToFormattedUser)(e);let o;o=a?n?M.default.t(377,{name:i}):M.default.t(378,{name:i}):n?M.default.t(379,{name:i}):M.default.t(380,{name:i});const s=M.default.t(376);q({map:D,key:e.toString(),wid:e,mid:t,defaultIcon:T.default,title:o,text:s})}var r;A.MuteCollection.getGlobalSounds()&&((null===(r=D.get(e.toString()))||void 0===r?void 0:r.promise)||Promise.resolve()).then(P.playNotification).catch((()=>{}))},t.showMsgNotification=function(e){const t=e.chat;if(document.hasFocus()&&t.active)return;if(A.MuteCollection.globalMute().isMuted)return;if(U(t))return;if(!F(e))return;if((0,c.isMDBackend)()&&E.OfflineMessageHandler.isResumeOnSocketDisconnectInProgress())return;if(window.Notification&&window.Notification.permission===m.PERMISSION_ALLOWED&&A.MuteCollection.getGlobalNotifications()){let n=(0,b.default)(e);n&&n.charCodeAt(0)>=128&&(n=" "+n);let a=T.default;t.isGroup&&(a=x.default),e.isProductListMessage&&(a=(0,k.convertToDataURI)(e.productListHeaderImage));const r=t.isGroup?v.fbt._("WhatsApp group message",null,{hk:"2updyb"}):M.default.t(223),i=t.contact.formattedName||r.toString();q({map:R,key:t.id.toString(),wid:t.id,mid:e.id.toString(),defaultIcon:a,title:i,text:n,canReply:t.canSend&&!f.isSuspendedGroup(t)})}var n;A.MuteCollection.getGlobalSounds()&&(t.id&&(null===(n=R.get(t.id.toString()))||void 0===n?void 0:n.promise)||Promise.resolve()).then(P.playNotification).catch((()=>{}))},t.showReactionNotification=function(e){if(e&&!(0,p.receiveReactionsEnabled)())return void __LOG__(3)`showReactionNotification: receive not enabled for reactions.`;const t=w.MsgCollection.get(e.parentMsgKey);if(null==t)return void __LOG__(3)`showReactionNotification: parentMsg is not present in the MsgCollection`;const n=t.chat,a=`${t.id.toString()}-${e.senderUserJid}`,r=function(e,t){return L.has(t)}(0,a);if(document.hasFocus()&&n.active)return;if(A.MuteCollection.globalMute().isMuted)return;if(A.MuteCollection.globalReactionsMute().isMuted)return;if(!r&&U(n,!1))return;if(!r&&function(e,t){if(!e.isGroup)return!1;const n=Date.now(),a=t.squelch||0;if(n>a)return S.default.find(e.id).then((n=>{if(null!=n){const a=V(e.id,n),r=Date.now()+a;t.squelch=r,e.reactionSquelch===h.default.SQUELCH_RESET_VALUE&&(e.reactionSquelch=r)}})).catch((0,s.filteredCatch)(d.WebdDrop,(function(){t.squelch=Date.now()+B,e.reactionSquelch===h.default.SQUELCH_RESET_VALUE&&(e.reactionSquelch=Date.now()+B)}))),!1;return!0}(n,t))return;if(n.mute.isMuted)return;if(function(e){return!!(0,p.archiveV2Supported)()&&(!!O.default.showArchiveV2&&!!e.archive)}(n))return;if((0,c.isMDBackend)()&&E.OfflineMessageHandler.isResumeOnSocketDisconnectInProgress())return;if(window.Notification&&window.Notification.permission===m.PERMISSION_ALLOWED&&A.MuteCollection.getGlobalNotifications()){let r=(0,b.default)(t,e);r&&r.charCodeAt(0)>=128&&(r=" "+r);const i=n.isGroup?x.default:T.default,o=n.isGroup?v.fbt._("WhatsApp group message",null,{hk:"2updyb"}):M.default.t(223),s=n.contact.formattedName||o.toString();q({map:L,key:a,wid:n.id,mid:t.id.toString(),defaultIcon:i,title:s,text:r,reactionSenderJid:e.senderUserJid,canReply:!1,canMarkAsRead:!1})}var i;A.MuteCollection.getGlobalSounds()&&(a&&(null===(i=L.get(a))||void 0===i?void 0:i.promise)||Promise.resolve()).then(P.playNotification).catch((()=>{}))},t.shutdownAsNeeded=function(){R.forEach(((e,t)=>{z(R,t)})),D.forEach(((e,t)=>{z(D,t)}))};var i=n(89385),o=n(40265),s=n(50796),l=r(n(47259)),u=n(38284),d=n(92574),c=n(88555),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(73679)),h=r(n(64369)),p=n(8139),m=n(10945),g=n(78820),_=n(62054),v=n(48360),b=r(n(73938)),y=n(69951),C=n(19380),S=r(n(63928)),E=n(28237),x=r(n(89045)),T=r(n(10795)),M=r(n(14296)),k=n(81309),w=n(59871),A=n(72472),P=n(32580),j=r(n(35544)),I=n(82039),O=r(n(68132));function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}const R=new Map,D=new Map,L=new Map,B=6e4;function F(e){return!function(e){const t=e.chat;if(!t.mute.isMuted)return!1;if(!t.isGroup)return!0;if(W(e)){const t=y.ChatCollection.get(e.sender);return!0===(null==t?void 0:t.mute.isMuted)}return!0}(e)&&(!H(e)&&(!function(e){var t;return!!(null===(t=e.chat.groupMetadata)||void 0===t?void 0:t.isParentGroup)}(e)&&G(e)))}function G(e){return!e.isFutureproof}function U(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.isGroup)return!1;if(e.isGroup&&e.isReadOnly)return!1;const n=Date.now(),a=e.squelch||0;return!(n>a)||!!t&&(S.default.find(e.id).then((t=>{if(null!=t){const n=V(e.id,t);e.squelch=Date.now()+n}})).catch((0,s.filteredCatch)(d.WebdDrop,(function(){e.squelch=Date.now()+B}))),!1)}function V(e,t){const n=t.participants.length;return 1e3*Math.min(120,30+5*n)}function W(e){const t=(0,g.getMaybeMeUser)();return e.isMentioned(t)||e.isQuoted(t)}function H(e){const t=e.chat;if(!(0,p.archiveV2Supported)())return!1;if(!O.default.showArchiveV2)return!1;if(!t.archive)return!1;if(!t.isGroup)return!0;if(W(e)){const t=y.ChatCollection.get(e.sender);return!0===(null==t?void 0:t.mute.isMuted)}return!0}function q(e){let{map:t,key:n,wid:r,mid:c,defaultIcon:f,title:h,text:p,reactionSenderJid:g,canReply:_,canMarkAsRead:v}=e;const b=new a,y=b.signal,C=(0,u.promiseTimeout)((0,l.default)(I.ProfilePicThumbCollection.find(r),y),1500,"showNotificationTimeout").then((function(e){var t;if(y.aborted)throw new i.AbortError;const n=null!==(t=null==e?void 0:e.img)&&void 0!==t?t:f;return(0,P.cachePath)(n)})).catch((0,s.filteredCatch)([d.WebdDrop,o.TimeoutError],(function(){return __LOG__(2)`NotificationBackend:IconLoadTimeoutError:${r.toString()}`,(0,P.cachePath)(f)}))).then((e=>{if(y.aborted)throw new i.AbortError;if(window.Notification.permission!==m.PERMISSION_ALLOWED)throw new i.AbortError("Permission Denied");const a=new j.default(r,c,g,h,p,e,_,v);return a.waitForClose().then((()=>{Y(t,n,a)})),a}));return C.then((e=>{const a=t.get(n);a&&(a.value=e)})).catch((0,i.catchAbort)((function(){Y(t,n)}))),t.set(n,{promise:C,controller:b}),C}function Y(e,t,n){const a=e.get(t);if(a){if(n){if(!a.value)return;if(n!==a.value)return}e.delete(t)}}function z(e,t){const n=e.get(t);if(n){if(n.value){n.value.close()}else n.controller.abort();e.delete(t)}}},77156:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,r.useRef)(null),t=()=>{let t;t=u.Stream.displayInfo===u.StreamInfo.OFFLINE||u.Stream.displayInfo===u.StreamInfo.TIMEOUT?-1:o.ChatCollection.filter((e=>e.shouldShowUnreadInTitle)).length,e.current!==t&&(e.current=t,(0,l.setTitleAndIcon)(t))};return(0,r.useEffect)((()=>{t()}),[]),(0,i.useListener)(a.Cmd,"alert_new_msg",(e=>s.showMsgNotification(e))),(0,i.useListener)(a.Cmd,"alert_new_reaction_msg",(e=>s.showReactionNotification(e))),(0,i.useListener)(a.Cmd,"alert_call",s.showCallNotification),(0,i.useListener)(a.Cmd,"cancel_call",s.cancelCallNotification),(0,i.useListener)(o.ChatCollection,"add remove reset change:archive change:optimisticUnreadCount change:muteExpiration",t),(0,i.useListener)(o.ChatCollection,"change:hasUnread",s.closeNotifications),(0,i.useListener)(u.Stream,"change:displayInfo",t),null};var a=n(81572),r=n(67294),i=n(87550),o=n(69951),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(93551)),l=n(11728),u=n(8080);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},32580:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cachePath=function(e){return Promise.resolve(e)},t.playNotification=function(){a.play().catch((()=>{}))};const a=new window.Audio(n(37211))},35544:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(76139)),i=a(n(79720)),o=n(67247);class s extends i.default{constructor(e,t,n,a,i,s){super(e,t,n,{title:o.EmojiUtil.normalizeAllEmojis(a),notification:window.Notification,body:o.EmojiUtil.normalizeAllEmojis(i),icon:r.default.relToAbs(s)})}}t.default=s},11791:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=n(67294),o=n(87550),s=a(n(90886)),l=a(n(26055)),u=n(85893);const d="transform 300ms cubic-bezier(.1,.82,.25,1)";function c(e,t){const n=(0,i.useRef)(),a=(0,i.useRef)();(0,i.useImperativeHandle)(t,(()=>({getInsideContainer:()=>a.current,getOutsideContainer:()=>n.current})));const{objectPosition:c,onObjectLoad:f,position:p,size:m,type:g,zoomIn:_}=e,v=null==m?void 0:m.width,b=null==m?void 0:m.height,y=null==_?void 0:_.factor,C=null==_?void 0:_.translateX,S=null==_?void 0:_.translateY,E=(0,i.useCallback)((()=>{null!=f&&null!=a.current&&f(a.current.firstChild)}),[f]),x=(0,i.useCallback)((()=>{if(null==v||null==b)return;const e=n.current,t=a.current;if(!e||!t)return;let i;switch(g){case"contain":i=function(e,t,n){const a=e.clientWidth,i=e.clientHeight;let o=t,s=n,u=0,d=0;o/a>s/i?(s*=a/o,o=a,s<i&&(u=i/2-s/2)):(o*=i/s,s=i,o<a&&(d=a/2-o/2));return{style:{width:o,height:s,top:u,left:d,position:"absolute"},className:(0,r.default)(l.default.fit)}}(e,v,b);break;case"cover":i=function(e,t,n){const a=e.clientWidth,i=e.clientHeight;let o=t,s=n,u=0,d=0;o!==a&&(s*=a/o,o=a,s>i&&(u=i/2-s/2));s<i&&(o*=i/s,s=i,o>a&&(d=a/2-o/2));return{style:{width:o,height:s,top:u,left:d,position:"absolute"},className:(0,r.default)(l.default.fit)}}(e,v,b);break;case"scaleDown":i=h(e,v,b);break;case"zoomIn":i=function(e,t,n,a){const i=h(e,t,n).style;let o;o=a?{width:i.width,height:i.height,transition:d,transform:`translateX(${a.translateX}px) translateY(${a.translateY}px) scale(${a.factor})`}:{width:i.width,height:i.height,transition:d};return{style:o,className:(0,r.default)(l.default.fit,l.default.fitScaledown,l.default.fitZoomin)}}(e,v,b,null!=y&&null!=C&&null!=S?{factor:y,translateX:C,translateY:S}:null);break;default:return __LOG__(4,void 0,new Error,!0)`unrecognized type ${g}`,void SEND_LOGS("object-fit")}e.removeAttribute("class"),t.removeAttribute("style"),e.classList.add(...i.className.split(" ")),"relative"===p&&e.classList.add(l.default.fitRelative);const o=null!=c?c:i.style.position;t.style.setProperty("position",o);for(const e of Object.keys(i.style)){const n=i.style[e];null==n||Number.isNaN(n)||t.style.setProperty(e,"number"==typeof n?n+"px":n)}E()}),[E,c,p,b,v,g,y,C,S]),T=(0,s.default)(x);return(0,o.useListener)(window,"resize",T),(0,i.useLayoutEffect)((()=>{x()}),[x]),(0,u.jsx)("div",{className:(0,r.default)({[l.default.fit]:!0,[l.default.fitRelative]:"relative"===p}),ref:n,children:(0,u.jsx)("div",{style:{visibility:"hidden"},ref:a,children:e.children})})}var f=(0,i.forwardRef)(c);function h(e,t,n){const a=e.clientWidth,i=e.clientHeight;let o=n,s=t;return o>i&&(o=i,s=t*(i/n)),s>a&&(s=a,o=n*(a/t)),{style:{width:s,height:o},className:(0,r.default)(l.default.fit,l.default.fitScaledown)}}t.default=f},73437:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,u.useModelValues)(e.groupMetadata,["participants","support"]),[n,a]=(0,o.useState)((()=>_(t))),f=(0,c.default)((()=>{t.participants.ensureSorted()})),m=(0,c.default)((()=>{a(_(t))})),v=(0,s.default)((()=>new r.ShiftTimer(m)));(0,o.useEffect)((()=>{f()}),[]),(0,d.default)((()=>{v.current.cancel()})),(0,l.useListener)(t.participants,"sort remove reset add",(()=>{v.current.debounce(100)})),(0,o.useEffect)((()=>{f(),v.current.cancel(),a(_(t))}),[f,t,v]);const b=t.support?i.fbt._("Official Support Account",null,{hk:"2vlttx"}):e.overridingText||n.join(p.default.t(257))||e.placeholder;if(b)return(0,g.jsx)(h.default,{text:b,location:e.location});return null};var r=n(57319),i=n(48360),o=n(67294),s=a(n(16223)),l=n(87550),u=n(35461),d=a(n(55010)),c=a(n(89113)),f=a(n(32161)),h=a(n(32756)),p=a(n(14296)),m=n(41566),g=n(85893);function _(e){return(0,m.isDropLastNameEnabled)()?e.participants.map((t=>{const n=t.contact;return e.hasUniqueShortNameMention(n)?n.formattedShortNameWithNonBreakingSpaces:n.formattedName.replace(/\s/g," ")})):e.participants.map((e=>{const t=e.contact.formattedShortNameWithNonBreakingSpaces,[n]=t.split(/\s/);return f.default.exec(n)?n:t}))}},43556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(76672).Mirrored(["GROUP","PROFILE","COMMUNITY","DEFAULT_ANNOUNCEMENT_GROUP","COVER_PHOTO"]);t.default=a},15246:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t,onPinOrUnpin:n}=e,a=(0,r.useModelValues)(e.chat,["pin"]);return(0,s.jsx)(i.DropdownItem,{a8n:"mi-pin",action:()=>{n(!a.pin)},disabled:t,children:null!=a.pin&&0!==a.pin?o.default.t(629):o.default.t(542)},"PinChat")};var r=n(35461),i=n(71174),o=a(n(14296)),s=n(85893)},87699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liveLocationIcon=function(e){let t="live-location";e&&(t+="-active");const n=function(){switch(a.Conn.platform){case a.PLATFORMS.ANDROID:case a.PLATFORMS.SMBA:return"android";case a.PLATFORMS.IPHONE:case a.PLATFORMS.SMBI:case a.PLATFORMS.IPAD:case a.PLATFORMS.IPOD:return"iphone";case a.PLATFORMS.WP7:return"wp";default:return""}}();n&&(t+="-"+n);return t};var a=n(17239)},48256:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.E2eMessageStatusV3List=t.E2eMessageChatList=t.E2eMessage=void 0;var r=n(14597),i=n(48360),o=n(67294),s=a(n(56720)),l=a(n(99360)),u=n(10081),d=a(n(11339)),c=n(33210),f=a(n(23217)),h=n(85893);const p={container:{boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",marginTop:"eg3lofc5",marginEnd:"gqi0zhd6",marginBottom:"pz0xruzv",marginStart:"nzcjdldu",paddingTop:"emrlamx0"},chatListContainer:{borderTop:"swyb62mu",color:"tviruh8d"},chatListIcon:{fill:"ms8wnqe5"},statusListContainer:{color:"kcq1et6t"},statusListIcon:{fill:"mesvn7sa"},icon:{marginTop:"b9l0eqez",marginEnd:"kjemk6od",display:"l7jjieqr"},body:{textAlign:"qfejxiq4",justifyContent:"ac2vgrno",display:"p357zi0d"},main:{fontSize:"dsh4tgtl",fontWeight:"e1gr2w1z",lineHeight:"bsvz8e3l",whiteSpace:"hmy10g0s",wordBreak:"cw3vfol9"}};t.E2eMessageChatList=()=>{const e=i.fbt._("Your personal messages are {=m2}",[i.fbt._implicitParam("=m2",(0,h.jsx)(l.default,{onClick:()=>{r.ModalManager.open((0,h.jsx)(u.E2eInfoModalV2,{highlightSurface:d.default.HIGHLIGHT_SURFACE.CHATS_LIST,url:(0,c.securityUrl)()}))},children:i.fbt._("end-to-end encrypted",null,{hk:"18aFGy"})}))],{hk:"3mx0DZ"});return(0,h.jsx)(m,{iconXstyle:p.chatListIcon,text:e,xstyle:p.chatListContainer,highlightSurface:d.default.HIGHLIGHT_SURFACE.CHATS_LIST})};t.E2eMessageStatusV3List=()=>{const e=i.fbt._("Your status updates are {=m2}",[i.fbt._implicitParam("=m2",(0,h.jsx)(l.default,{onClick:()=>{r.ModalManager.open((0,h.jsx)(u.E2eInfoModalStatus,{highlightSurface:d.default.HIGHLIGHT_SURFACE.STATUS_LIST,url:(0,c.securityUrl)()}))},children:i.fbt._("end-to-end encrypted",null,{hk:"3h6Pts"})}))],{hk:"2XVwhj"});return(0,h.jsx)(m,{iconXstyle:p.statusListIcon,text:e,xstyle:p.statusListContainer,highlightSurface:d.default.HIGHLIGHT_SURFACE.STATUS_LIST})};const m=e=>{let{text:t,xstyle:n,iconXstyle:a,highlightSurface:r}=e;return(0,o.useEffect)((()=>{new d.default.PrivacyHighlight({highlightCategory:"e2ee",highlightSurface:r,userActionType:d.default.USER_ACTION_TYPE.NARRATIVE_APPEAR}).commit()}),[]),(0,h.jsx)("div",{className:(0,s.default)(p.container,n),children:(0,h.jsx)("div",{className:(0,s.default)(p.body),children:(0,h.jsxs)("div",{className:(0,s.default)(p.main),children:[(0,h.jsx)(f.default,{name:"lock-small-v2",iconXstyle:[p.icon,a],height:12,width:13}),t]})})})};t.E2eMessage=m},62657:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.E2eSummarySecurityDrawer=t.E2eSummary=void 0;var r=n(48360),i=a(n(56720)),o=n(12591),s=n(33210),l=a(n(23217)),u=n(85893);const d={container:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"ac2vgrno",alignItems:"gndfcl4n"},containerSecurityDrawer:{width:"ln8gz9je"},title:{width:"ln8gz9je",fontSize:"p9fp32ui",marginTop:"fgtikrv0",marginEnd:"jnwc1y2a",marginBottom:"dblt22a0",marginStart:"svoq16ka",lineHeight:"l85iiqla",letterSpacing:"dktwgxt5",fontWeight:"hnx8ox4h",color:"rbdaq05k"},description:{fontSize:"f8jlpxt4",marginBottom:"or9x5nie",lineHeight:"a4ywakfo",color:"hp667wtd"},body:{width:"ln8gz9je",color:"hp667wtd",letterSpacing:"hscjuerc",fontSize:"f8jlpxt4",lineHeight:"e4qy2s3t",textAlign:"ljrqcn24"},itemWrapper:{marginTop:"hymafltn",marginEnd:"jnwc1y2a",marginBottom:"g105fvfm",marginStart:"svoq16ka"},item:{display:"i86elurf",alignItems:"gndfcl4n"},icon:{paddingEnd:"kyc7k6mt"},textAlignStart:{textAlign:"ljrqcn24"},securityDrawerLearnMore:{fontWeight:"hnx8ox4h",fontSize:"f8jlpxt4",lineHeight:"a4ywakfo"}},c=e=>{let{icon:t,children:n}=e;return(0,u.jsx)("li",{className:(0,i.default)(d.itemWrapper),children:(0,u.jsxs)("span",{className:(0,i.default)(d.item),children:[(0,u.jsx)(l.default,{name:t,className:(0,i.default)(d.icon),height:25,width:25}),n]})})},f=e=>{const t=[{icon:"e2e-message",text:r.fbt._("Text and voice messages",null,{hk:"4lEA4f"})},{icon:"e2e-contact-info-call",text:r.fbt._("Audio and video calls",null,{hk:"2h2b8J"})},{icon:"e2e-attachment",text:r.fbt._("Photos, videos and documents",null,{hk:"46wemA"})},{icon:"e2e-location",text:r.fbt._("Location sharing",null,{hk:"1bJTGt"})},{icon:"e2e-status",text:r.fbt._("Status updates",null,{hk:"1YeLwD"})}].map((e=>{let{icon:t,text:n}=e;return(0,u.jsx)(c,{icon:t,children:n},t)}));return(0,u.jsxs)("div",{className:(0,i.default)(d.container,e.xstyle),children:[(0,u.jsx)("div",{children:(0,u.jsx)(l.default,{name:e.icon,width:e.iconWidth})}),(0,u.jsx)("div",{className:(0,i.default)(d.title,e.textAlignment),children:e.title}),(0,u.jsx)("div",{className:(0,i.default)(d.description,e.textAlignment),children:e.subTitle}),(0,u.jsx)("div",{className:(0,i.default)(d.body),children:(0,u.jsx)("ul",{children:t})})]})};t.E2eSummary=f;t.E2eSummarySecurityDrawer=()=>{const e=r.fbt._("Your chats and calls are private",null,{hk:"2ZLoAl"}),t=r.fbt._("End-to-end encryption keeps your personal messages and calls between you and the people you choose. Not even WhatsApp can read or listen to them. This includes your:",null,{hk:"2wWXme"}),n=r.fbt._("Learn More",null,{hk:"eSqcw"});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f,{icon:"security-drawer-lock",iconWidth:84,xstyle:d.containerSecurityDrawer,textAlignment:d.textAlignStart,title:e,subTitle:t}),(0,u.jsx)(o.ExternalLink,{className:(0,i.default)(d.securityDrawerLearnMore),href:(0,s.securityUrl)(),children:n})]})}},33210:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.chatContainsGoldenBox=function(e){if(null==e)return!1;if((0,r.isSupportGroup)(e)||(0,l.default)(e.id.user))return!1;if(e.isUser)return!(!e.contact.isEnterprise||(0,i.getReducedPrivacyMode)(e.contact.privacyMode)!==i.ReducedPrivacyMode.E2EE)||!e.contact.isEnterprise;if(e.isGroup||e.isBroadcast)return!0;return!1},t.getHighlightSurfaceForGoldenBox=function(e){if(s.default.isGroup(e))return d.default.HIGHLIGHT_SURFACE.GOLDEN_BOX_GROUP;if(s.default.isBroadcast(e))return d.default.HIGHLIGHT_SURFACE.GOLDEN_BOX_BROADCAST;if(s.default.isUser(e))return d.default.HIGHLIGHT_SURFACE.GOLDEN_BOX_CONTACT;__LOG__(3,!0,void 0,!0)`getHighlightSurfaceForGoldenBox Invalid ChatId`,SEND_LOGS("get-highlight-surface-invalid-chat-id")},t.requestAccountInfoUrl=function(){return o.default.build("https://faq.whatsapp.com/general/account-and-profile/how-to-request-your-account-information",{lg:u.default.getLocale()})},t.securityUrl=function(){return o.default.build("https://www.whatsapp.com/security/",{lg:u.default.getLocale()})},t.shouldShowNewE2eInfoModal=function(e){if(null==e)return!1;if((0,r.isSupportGroup)(e)||(0,l.default)(e.id.user))return!1;if(e.isUser)return!e.contact.isBusiness&&!e.contact.isEnterprise;if(e.isGroup){const t=n(63928).default.get(e.id);if(t){return!t.participants.toArray().some((e=>e.contact.isBusiness))}}return!1};var r=n(73679),i=n(8197),o=a(n(76139)),s=a(n(89867)),l=a(n(78542)),u=a(n(14296)),d=a(n(11339))},56190:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttButton=void 0;var r=a(n(45095)),i=a(n(99964)),o=a(n(52013)),s=n(55715),l=a(n(94184)),u=n(67294),d=a(n(56720)),c=a(n(17512)),f=n(85893);const h=(0,u.forwardRef)(((e,t)=>{const{a8nKey:n,ariaLabel:a,children:h,xstyle:p,confirmOnMouseUp:m,disabled:g,onConfirm:_,dataTab:v}=e,b=(0,u.useRef)(null);(0,u.useImperativeHandle)(t,(()=>({focus:()=>o.default.focus((0,r.default)(b.current,"buttonRef.current"))})));const y=(0,u.useRef)(!1);let C,S,E;return g||(S=()=>{y.current=!0,window.addEventListener("mouseup",(()=>{y.current=!1}),{once:!0})},C=e=>{m&&(y.current||0===e.button&&_(e))},E=_),(0,f.jsx)("button",{ref:b,"data-a8n":i.default.key(n),"data-tab":null!=v?v:s.TAB_ORDER.PTT_BUTTON,className:(0,l.default)((0,d.default)(p),c.default.clipFix),onClick:E,onMouseUp:C,onMouseDown:S,"aria-label":a,"aria-disabled":g,children:h})}));t.PttButton=h,h.displayName="PttButton"},50270:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttCancelButton=void 0;var r=n(48360),i=n(67294),o=a(n(56720)),s=n(56190),l=n(85893);const u={pttCancelButton:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"mgp6u6um",height:"j8e73hjv",color:"r8quorc8",":hover":{color:"mtber8f9"}},svg:{width:"i0x3nve6"}},d=(0,i.forwardRef)(((e,t)=>{const{onConfirm:n,confirmOnMouseUp:a,disabled:i}=e;return(0,l.jsx)(s.PttButton,{ref:t,xstyle:u.pttCancelButton,a8nKey:"ptt-cancel-btn",ariaLabel:r.fbt._("Cancel",null,{hk:"3jOaUM"}),confirmOnMouseUp:a,onConfirm:n,disabled:i,children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 22",className:(0,o.default)(u.svg),children:(0,l.jsx)("path",{d:"M5,0,3,2H0V4H16V2H13L11,0ZM15,5H1V19.5A2.5,2.5,0,0,0,3.5,22h9A2.5,2.5,0,0,0,15,19.5Z",fill:"currentColor"})})})}));t.PttCancelButton=d,d.displayName="PttCancelButton"},68400:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttCloseButton=void 0;var r=n(48360),i=n(67294),o=(a(n(56720)),n(56190)),s=n(85893);const l={base:{width:"i0x3nve6",height:"hpdpob1j"},outOfChat:{width:"mgp6u6um",height:"j8e73hjv",marginStart:"p3lsiedt",marginTop:"b9l0eqez",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",color:"bsd0t79a"},outOfChatEnabled:{":hover":{opacity:"gnd3v8n5"}}},u=(0,i.forwardRef)(((e,t)=>{const{onConfirm:n,dataTab:a,theme:i,disabled:u=!1}=e,d="out-of-chat-playback"===i;return(0,s.jsx)(o.PttButton,{ref:t,xstyle:[l.base,d&&l.outOfChat,d&&!u&&l.outOfChatEnabled],a8nKey:"ptt-player-close-button",onConfirm:n,confirmOnMouseUp:!1,dataTab:a,disabled:u,ariaLabel:r.fbt._("Close",null,{hk:"2TV3vP"}),children:(0,s.jsx)("svg",{width:"15.6",height:"15.6",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M15.8002 1.80001L14.2002 0.200012L8.0002 6.40001L1.8002 0.200012L0.200195 1.80001L6.4002 8.00001L0.200195 14.2L1.8002 15.8L8.0002 9.60001L14.2002 15.8L15.8002 14.2L9.6002 8.00001L15.8002 1.80001Z",fill:"white"})})})}));t.PttCloseButton=u,u.displayName="PttCloseButton"},90601:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttPauseAndResumeRecordingButton=void 0;var r=n(48360),i=n(67294),o=a(n(56720)),s=n(56190),l=n(85893);const u={pttPauseAndResumeRecordingButton:{position:"g0rxnol2",width:"tknnhhou",height:"sai7fuui",color:"odoy9p39"},pttPauseAndResumeRecordingButtonEnabled:{":hover":{color:"qpj2ed6z"}},growOnHover:{transition:"iwt3stqw",transformOrigin:"s79hpmcy"},growOnHoverEnabled:{":hover":{transform:"ksz6vod1"}},icon:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx",opacity:"axi1ht8l",transition:"odkvbdo1",transform:"sqzaidt6"},iconActive:{opacity:"bs7a17vp",transform:"b4xm8rjh"}},d=(0,i.forwardRef)(((e,t)=>{const{recording:n,onConfirm:a,confirmOnMouseUp:i,disabled:d=!1}=e,c=n?r.fbt._("Pause recording",null,{hk:"2x8PGf"}):r.fbt._("Resume recording",null,{hk:"4nMHh3"}),f=(0,o.default)(u.growOnHover,!d&&u.growOnHoverEnabled);return(0,l.jsxs)(s.PttButton,{ref:t,xstyle:[u.pttPauseAndResumeRecordingButton,!d&&u.pttPauseAndResumeRecordingButtonEnabled],a8nKey:"ptt-pause-and-resume-recording-button",ariaLabel:c,confirmOnMouseUp:i,onConfirm:a,disabled:d,children:[(0,l.jsx)("div",{className:(0,o.default)(u.icon,n&&u.iconActive),children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[(0,l.jsx)("circle",{cx:"16",cy:"16",r:"14.75",fill:"none",stroke:"currentColor",strokeWidth:"2.5"}),(0,l.jsx)("path",{className:f,d:"M20.65,21.69V10.25H17.31V21.69Zm-9.3-11.44V21.69h3.34V10.25Z",fill:"currentColor"})]})}),(0,l.jsx)("div",{className:(0,o.default)(u.icon,!n&&u.iconActive),children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:f,children:[(0,l.jsx)("path",{fill:"currentColor",d:"M16,4c1.9,0,3.4,1.4,3.4,3.1v8.6c0,1.7-1.5,3.1-3.4,3.1 c-1.9,0-3.4-1.4-3.4-3.1V7.1C12.6,5.4,14.1,4,16,4"}),(0,l.jsx)("path",{fill:"currentColor",d:"M16.3,23.4c-0.2,0-0.6,0-0.9,0l-0.3,0c-3.7-0.4-6.6-3.7-7.1-7.8 L8,15.2c0-0.5,0.3-0.9,0.8-0.9h0.4c0.5,0,0.8,0.4,0.9,0.9l0.1,0.4c0.5,3.1,3,5.5,5.9,5.5c2.9,0,5.3-2.3,5.9-5.4l0.1-0.4 c0-0.5,0.4-0.9,0.9-0.9h0.4c0.4,0,0.8,0.4,0.8,0.9c0,0,0,0.1-0.1,0.6c-0.6,4.1-3.7,7.3-7.4,7.6L16.3,23.4z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M17.1,27.3c0,0.4-0.4,0.7-0.9,0.7h-0.5c-0.5,0-0.9-0.3-0.9-0.7V23 c0-0.4,0.4-0.7,0.9-0.7h0.5c0.5,0,0.9,0.3,0.9,0.7V27.3z"})]})})]})}));t.PttPauseAndResumeRecordingButton=d,d.displayName="PttPauseAndResumeRecordingButton"},16538:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttPlayPauseButton=void 0;var r=n(48360),i=n(67294),o=a(n(56720)),s=n(56190),l=n(85893);const u={base:{width:"i0x3nve6",height:"hpdpob1j"},composeBox:{color:"a95u9rhs"},composeBoxEnabled:{":hover":{color:"sao4npu1"}},outOfChat:{width:"mgp6u6um",height:"j8e73hjv",marginStart:"pmmx02fg",marginTop:"b9l0eqez",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",color:"bsd0t79a"},outOfChatEnabled:{":hover":{opacity:"gnd3v8n5"}}},d={transform:"d7dzraxg"},c=(0,i.forwardRef)(((e,t)=>{const{paused:n,onConfirm:a,disabled:i=!1,theme:c,dataTab:f}=e,h=n?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"18px",viewBox:"0 0 16 18",className:(0,o.default)(d),children:(0,l.jsx)("path",{d:"M15.05,8.39,2,.32a1,1,0,0,0-1.53.85V16.83A1,1,0,0,0,2,17.7L15,10.1A1,1,0,0,0,15.05,8.39Z",fill:"currentColor"})}):(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"18px",viewBox:"0 0 16 18",children:[(0,l.jsx)("path",{fill:"currentColor",d:"M1.9,1c-0.6,0-1,0.4-1,1v14c0,0.6,0.4,1,1,1H5c0.6,0,1-0.4,1-1V2c0-0.6-0.4-1-1-1H1.9z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M10.9,1c-0.6,0-1,0.4-1,1v14c0,0.6,0.4,1,1,1h3.1c0.6,0,1-0.4,1-1V2c0-0.6-0.4-1-1-1H10.9z"})]});return(0,l.jsx)(s.PttButton,{ref:t,xstyle:[u.base,"compose-box"===c&&u.composeBox,"compose-box"===c&&!i&&u.composeBoxEnabled,"out-of-chat-playback"===c&&u.outOfChat,"out-of-chat-playback"===c&&!i&&u.outOfChatEnabled],a8nKey:"ptt-play-pause-button",onConfirm:a,confirmOnMouseUp:!1,disabled:i,dataTab:f,ariaLabel:n?r.fbt._("Play",null,{hk:"4CjEWt"}):r.fbt._("Pause",null,{hk:"1kvbzt"}),children:h})}));t.PttPlayPauseButton=c,c.displayName="PttPlayPauseButton"},91921:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttSendButton=void 0;var r=n(48360),i=n(67294),o=a(n(56720)),s=a(n(14296)),l=n(56190),u=n(85893);const d={pttSendButton:{width:"mgp6u6um",minWidth:"c59meja3",height:"j8e73hjv",color:"i8t1ujht"},pttSendButtonEnabled:{":hover":{color:"fiyt298h"}},growOnHover:{transition:"iwt3stqw",transformOrigin:"s79hpmcy"},growOnHoverEnabled:{":hover":{transform:"ksz6vod1"}},pttSendButtonIconRTL:{transform:"n4o0o7gj"}},c=(0,i.forwardRef)(((e,t)=>{const{disabled:n=!1,confirmOnMouseUp:a,onConfirm:i}=e;return(0,u.jsx)(l.PttButton,{ref:t,xstyle:[d.pttSendButton,!n&&d.pttSendButtonEnabled],a8nKey:"ptt-send-btn",ariaLabel:r.fbt._("Send",null,{hk:"4xIWBB"}),confirmOnMouseUp:a,onConfirm:i,disabled:n,children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",className:(0,o.default)(s.default.isRTL()&&d.pttSendButtonIconRTL),children:[(0,u.jsx)("path",{d:"M17.5,0h0A17.51,17.51,0,0,1,35,17.5h0A17.51,17.51,0,0,1,17.5,35h0A17.51,17.51,0,0,1,0,17.5H0A17.51,17.51,0,0,1,17.5,0Z",fill:"currentColor"}),(0,u.jsx)("path",{className:(0,o.default)(d.growOnHover,!n&&d.growOnHoverEnabled),d:"M25.64,18.55,11.2,24.93a.86.86,0,0,1-1.13-.44.83.83,0,0,1-.06-.44l.48-4.11a1.36,1.36,0,0,1,1.24-1.19l7.51-.6a.16.16,0,0,0,.14-.16.16.16,0,0,0-.14-.14l-7.51-.6a1.36,1.36,0,0,1-1.24-1.19L10,12a.84.84,0,0,1,.74-.94.87.87,0,0,1,.45.06l14.44,6.38a.61.61,0,0,1,.31.79A.59.59,0,0,1,25.64,18.55Z",fill:"#fff"})]})})}));t.PttSendButton=c,c.displayName="PttSendButton"},22234:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttStopButton=void 0;var r=n(48360),i=n(67294),o=a(n(56720)),s=n(56190),l=n(85893);const u={pttStopButton:{width:"tknnhhou",height:"sai7fuui",color:"odoy9p39"},pttStopButtonEnabled:{":hover":{color:"qpj2ed6z"}},growOnHover:{transition:"iwt3stqw",transformOrigin:"s79hpmcy"},growOnHoverEnabled:{":hover":{transform:"ksz6vod1"}}},d=(0,i.forwardRef)(((e,t)=>{const{onConfirm:n,confirmOnMouseUp:a,disabled:i=!1}=e;return(0,l.jsx)(s.PttButton,{ref:t,xstyle:[u.pttStopButton,!i&&u.pttStopButtonEnabled],a8nKey:"ptt-stop-button",ariaLabel:r.fbt._("Stop",null,{hk:"3e89E3"}),confirmOnMouseUp:a,onConfirm:n,disabled:i,children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[(0,l.jsx)("path",{fill:"currentColor",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z M16,30C8.3,30,2,23.7,2,16S8.3,2,16,2 s14,6.3,14,14S23.7,30,16,30z"}),(0,l.jsx)("path",{className:(0,o.default)(u.growOnHover,!i&&u.growOnHoverEnabled),fill:"currentColor",d:"M13,11c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2v-6c0-1.1-0.9-2-2-2H13z"})]})})}));t.PttStopButton=d,d.displayName="PttStopButton"},80132:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Radio=f,t.RadioWithLabel=function(e){const{label:t,isHovered:n}=e,a=(0,i.default)(e,d),[l,h]=(0,o.useState)(n),p=()=>{h(!0)},m=()=>{h(!1)};return(0,u.jsxs)("label",{className:(0,s.default)(c.option),onMouseOver:p,onMouseOut:m,onFocus:p,onBlur:m,children:[(0,u.jsx)(f,(0,r.default)((0,r.default)({},a),{},{isHovered:l})),(0,u.jsx)("span",{className:(0,s.default)(c.optionText),children:t})]})};var r=a(n(81109)),i=a(n(6479)),o=n(67294),s=a(n(56720)),l=a(n(23217)),u=n(85893);const d=["label","isHovered"],c={container:{display:"p357zi0d"},a11yHidden:{position:"lhggkp7q",width:"cxec7x23",height:"kanlod6e",overflowX:"gfz4du6o",overflowY:"r7fjleex",clip:"nmeg1xfo",clipPath:"okm7a8wg",whiteSpace:"le5p0ye3"},option:{display:"p357zi0d",paddingTop:"a71rq12o",paddingEnd:"f9ovudaz",paddingBottom:"pcbmd69e",paddingStart:"gx1rr48f",cursor:"ajgl1lbb"},optionText:{fontSize:"enbbiyaj",lineHeight:"htjsae3x",display:"l7jjieqr",paddingStart:"khscay3k"},svg:{opacity:"brh521k9",fill:"h9l086de"},svgOver:{opacity:"bs7a17vp"}};function f(e){let t;t=!0===e.checked?"checkbox-round-radio-checked":"checkbox-round-passive";const n=(0,o.useRef)(),a=(0,s.default)(c.svg,(!0===e.checked||e.isHovered)&&c.svgOver);return(0,u.jsxs)("div",{className:(0,s.default)(c.container),children:[(0,u.jsx)("input",{type:"radio",ref:n,name:e.name,value:e.value,checked:e.checked,onChange:e.onChange,className:(0,s.default)(c.a11yHidden),"data-testid":"radio-input",tabIndex:"-1"}),(0,u.jsx)("div",{className:a,onClick:function(){var e,t;null===(e=n.current)||void 0===e||e.click(),null===(t=n.current)||void 0===t||t.focus()},"data-testid":"radio-input-ui",tabIndex:"-1","aria-hidden":"true","aria-checked":e.checked,role:"radio",children:(0,u.jsx)(l.default,{name:t})})]})}},21018:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return i};var r=a(n(23279));let i=window.innerHeight;const o=(0,r.default)((()=>{i=window.innerHeight}),500);window.addEventListener("resize",o)},16745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let s=0;if(!e)return s;e.quotedMsg&&(s+=54);e.caption&&(s+=31);switch(e.type){case r.MSG_TYPE.NOTIFICATION:case r.MSG_TYPE.GROUP_NOTIFICATION:case r.MSG_TYPE.GP2:case r.MSG_TYPE.BROADCAST_NOTIFICATION:case r.MSG_TYPE.E2E_NOTIFICATION:case r.MSG_TYPE.CALL_LOG:case r.MSG_TYPE.CIPHERTEXT:case r.MSG_TYPE.REVOKED:case r.MSG_TYPE.CHAT:e.linkPreview&&(s+=53);const l=(0,a.numCodepoints)(e.body&&e.body.toString());return s+19*Math.ceil(l/100)+13;case r.MSG_TYPE.IMAGE:return s+((null===(t=e.mediaData)||void 0===t?void 0:t.fullWidth)&&(null===(n=e.mediaData)||void 0===n?void 0:n.fullHeight)||0)?Math.floor(Math.min(330/e.mediaData.fullWidth*e.mediaData.fullHeight,330)):330;case r.MSG_TYPE.VIDEO:case r.MSG_TYPE.AUDIO:return e.isGif?s+137:s+166;case r.MSG_TYPE.LOCATION:return s+e.isLive?i.MSG_HEIGHT:o.PREVIEW_HEIGHT;case r.MSG_TYPE.PTT:return s+67;case r.MSG_TYPE.VCARD:return s+74;case r.MSG_TYPE.DOCUMENT:return s+188;case r.MSG_TYPE.STICKER:return s+125;case r.MSG_TYPE.UNKNOWN:default:return s}};var a=n(64331),r=n(15461),i=n(19795),o=n(27863)},75705:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RenderCursor=t.RENDER_CURSOR=void 0;var r=a(n(81109)),i=n(78820),o=n(81250),s=a(n(21018)),l=a(n(16745));const u={RECENT_AT_TOP:"recent_at_top",RECENT_AT_BOTTOM:"recent_at_bottom",CONVERSATION:"conversation",GROUP_CONVERSATION:"group_conversation",STARRED_DRAWER:"starred_drawer"};t.RENDER_CURSOR=u;const d="before",c="after",f=12;function h(e,t,n){let a=t;const r=e.toArray(),i=n===d?-1:1;return{hasNext:()=>a>=0&&a<r.length,next(){const e=r[a];return e||__LOG__(3)`Invalid cursor at ${a}, array.length = ${r.length}, element = ${e}`,a+=i,e}}}function p(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;const i=(0,s.default)()*a,u=h(e,t,n);let d,c=0,p=0;for(;u.hasNext();){const e=u.next(),t=(0,l.default)(e),n=2*(e.isNotification?1:0)+e.isSentByMe;if(c+=t+(n&&n===d?2:f),p++,c>i)break;if(p>=r)break;const a=e.asGroupedSticker,s=null!=e.asAlbumAsset;if(a||s){const t=[];let n=!1,d=1;if(a){let a;if(u.hasNext()){if(a=u.next(),t.push(a),p++,p>=r)break;(0,o.canBeGroupedAsAlbum)(e.safe(),a.safe())&&a.asGroupedSticker&&(n=!0)}}if(s){let n,a=e;for(;u.hasNext()&&d<o.ALBUM_MAX_SIZE&&(n=u.next(),t.push(n),p++,!(p>=r))&&(0,o.canBeGroupedAsAlbum)(a.safe(),n.safe())&&n.asAlbumAsset;)d++,a=n}if(a&&!n||s&&d<o.ALBUM_MIN_SIZE){if(c+=t.reduce(((e,t)=>e+(0,l.default)(t)),0),c>i)break}}d=n}return p}function m(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;const u=(0,s.default)()*a,d=h(e,t,n);let c,p=0,m=0;for(;d.hasNext();){const e=d.next(),t=(0,l.default)(e),n=e.author||(e.isSentByMe?(0,i.getMaybeMeUser)():void 0);if(p+=t+(n&&!e.isSentByMe&&n!==c?19:0)+(n&&n===c?2:f),m++,p>u)break;if(m>=r)break;const a=e.asGroupedSticker,s=null!=e.asAlbumAsset;if(a||s){const t=[];let n=!1,i=1;if(a){let a;if(d.hasNext()){if(a=d.next(),t.push(a),m++,m>=r)break;(0,o.canBeGroupedAsAlbum)(e.safe(),a.safe())&&a.asGroupedSticker&&(n=!0)}}if(s){let n,a=e;for(;d.hasNext()&&i<o.ALBUM_MAX_SIZE&&(n=d.next(),t.push(n),m++,!(m>=r))&&(0,o.canBeGroupedAsAlbum)(a.safe(),n.safe())&&null!=n.asAlbumAsset;)i++,a=n}if(a&&!n||s&&i<o.ALBUM_MIN_SIZE){if(p+=t.reduce(((e,t)=>e+(0,l.default)(t)),0),p>u)break}}c=n}return m}function g(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;const i=(0,s.default)()*a,o=h(e,t,n);let u=0,d=0;for(;o.hasNext();){const e=o.next();if(u+=(0,l.default)(e)+65,d++,u>i)break;if(d>=r)break}return d}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const a=2*(0,s.default)(),r=h(e,t,n);let[i,o,u]=[0,!0,null];for(;r.hasNext();){const e=r.next(),t=(0,l.default)(e),n=2*(e.isNotification?1:0)+e.isSentByMe;if(i+=t+(n&&n===u?2:f),i>a){o=!1;break}u=n}return o}class v{static create(e){const{msgCollection:t,focusedMsgKey:n,type:a,maxInitialCount:r=Number.MAX_SAFE_INTEGER}=e;return new v({type:a}).init(n,t,r)}constructor(e){const{type:t,before:n,after:a,focusedMsgKey:r,prevFocusedMsgKey:i}=e;this._type=t,this._focusedMsgKey=r,this._prevFocusedMsgKey=i,this.before=n||0,this.after=a||0}_cloneWith(e){return new v((0,r.default)({type:this._type,before:this.before,after:this.after,focusedMsgKey:this._focusedMsgKey,prevFocusedMsgKey:this._prevFocusedMsgKey},e))}_getCursorSize(e,t,n,a,r){return function(e){switch(e){case u.CONVERSATION:return p;case u.GROUP_CONVERSATION:return m;case u.STARRED_DRAWER:return g;default:return p}}(this._type)(e,t,n,a,r)}getStart(e){return Math.max(b(this._focusedMsgKey,e,this._type)-this.before,0)}getEnd(e){return Math.min(b(this._focusedMsgKey,e,this._type)+this.after+1,e.length)}hasBefore(e){return b(this._focusedMsgKey,e,this._type)-this.before>0}hasAfter(e){return b(this._focusedMsgKey,e,this._type)+this.after<e.length-1}init(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return new v({type:this._type,before:0,after:0,focusedMsgKey:e}).loadBefore(t,{factor:1,maxCount:n}).loadAfter(t,{factor:1,maxCount:n})}setFocusedMsgKey(e,t){const n=b(this._focusedMsgKey,e,this._type),a=b(t,e,this._type);let r,i;return t?(i=this.after-(a-n),r=this.before+(a-n)):(r=this.before+this.after,i=0),this._cloneWith({focusedMsgKey:t,before:r,after:i})._updatePrev(e)}ensureValidFocus(e){const t=null!=this._prevFocusedMsgKey&&null==e.get(this._prevFocusedMsgKey),n=null!=this._focusedMsgKey&&null==e.get(this._focusedMsgKey);let a=this;return t&&(a=a._updatePrev(e)),n&&(a=a.focusBefore(e)),a}_updatePrev(e){const t=b(this._focusedMsgKey,e,this._type);return this._cloneWith({prevFocusedMsgKey:t>0?e.at(t-1).id:void 0})}focusBefore(e){return this._cloneWith({focusedMsgKey:this._prevFocusedMsgKey})._updatePrev(e)}loadBefore(e,t){const{count:n,maxCount:a=Number.MAX_SAFE_INTEGER,factor:r=2}=t||{},i=null!=n&&0!==n?n:this._getCursorSize(e,Math.max(0,this.getStart(e)-1),d,r,a);return this._cloneWith({before:this.before+i})}loadAfter(e,t){const{count:n,maxCount:a=Number.MAX_SAFE_INTEGER,factor:r=2}=t||{},i=null!=n&&0!==n?n:this._getCursorSize(e,this.getEnd(e),c,r,a);return this._cloneWith({after:this.after+i})}loadBeforeCapped(e,t){const{count:n,factor:a=2}=t||{};return _(e,this.getStart(e),c)?this.loadBefore(e,{count:n,factor:a}):this}resetBeforeCursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;if(!_(e,this.getStart(e),c)){const n=Math.max(0,this.getEnd(e)-1),a=this._getCursorSize(e,n,d,2,t);return this._cloneWith({before:Math.min(this.before,a)})}return this}}function b(e,t,n){if(e){const n=t.get(e),a=t.indexOf(n);if(-1!==a)return a}return function(e){switch(e){case u.CONVERSATION:case u.GROUP_CONVERSATION:return u.RECENT_AT_BOTTOM;case u.STARRED_DRAWER:return u.RECENT_AT_TOP;default:return u.RECENT_AT_BOTTOM}}(n)===u.RECENT_AT_TOP?0:t.length-1}t.RenderCursor=v},8694:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(6479)),o=a(n(94184)),s=n(67294),l=a(n(48711)),u=a(n(78506)),d=a(n(37453)),c=a(n(89113)),f=a(n(96153)),h=n(85893);const p=["children","className","onResize"];function m(e,t){const{children:n,className:a,onResize:m}=e,g=(0,i.default)(e,p),_=(0,c.default)(m),[v,b]=(0,l.default)(),y=(0,u.default)(v,t),C=(0,d.default)(b);return(0,s.useEffect)((()=>{if(null!=C&&(b.width!==C.width||b.height!==C.height)){const{width:e,height:t}=b;_({width:e,height:t})}}),[b,C,_]),(0,h.jsx)("div",(0,r.default)((0,r.default)({className:(0,o.default)(f.default.container,a),ref:y},g),{},{children:n}))}var g=(0,s.forwardRef)(m);t.default=g},91665:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getObserverMap=s,t.getResizeObserver=l,t.observe=function(e,t){const n=l(),a=s();if(a.has(e))throw new Error("You can't observe the same element twice.");return a.set(e,t),n.observe(e),()=>{n.unobserve(e),a.delete(e)}};var r=a(n(91033));let i,o;function s(){return null==i&&(i=new WeakMap),i}function l(){return null==o&&(o=new r.default((e=>{for(const t of e){const e=s().get(t.target),n=t.contentRect,{x:a,y:r,width:i,height:o,top:l,left:u,bottom:d,right:c}=n;null!=e&&e({x:a,y:r,width:i,height:o,top:l,left:u,bottom:d,right:c})}}))),o}},61146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{width:t,height:n,rgbaBuffer:i}=e,o=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=o.current,t=s.current;e&&t&&i&&(t.data.set(new Uint8Array(i)),e.putImageData(t,0,0))}),[i]),(0,r.jsx)("canvas",{role:"button",className:e.className,width:e.width,height:e.height,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,ref:e=>{e?(o.current=e.getContext("2d"),s.current=o.current.createImageData(t,n)):(o.current=null,s.current=null)}})};var a=n(67294),r=n(85893)},62101:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePlugin=void 0,t.pluginContext=function(){return Symbol("rte-plugin")};t.BasePlugin=class{constructor(){this._internalHandlers=new Map}initialize(e){this.ctx=e}registerHandler(e,t,n){const a=this._internalHandlers.get(t)||new Map;a.set(e,n),this._internalHandlers.set(t,a)}unregisterHandler(e,t){const n=this._internalHandlers.get(t);n&&(n.delete(e),n.size||this._internalHandlers.delete(t))}handle(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=this._internalHandlers.get(e);return!!n&&function(e){const t=[];return e.forEach((e=>t.push(e))),t}(n).some((e=>e.apply(null,t)))}}},31079:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1769)),i=n(52835),o=n(18609),s=a(n(70527)),l=n(72761),u=a(n(9180)),d=a(n(8103)),c=a(n(15196)),f=n(16477),h=a(n(65894)),p=a(n(68662));const m=new s.default,g=new r.default;class _ extends((0,l.PluggableInput)([i.EmojiPlugin,g,d.default,m,c.default,u.default])){}t.default=_,_.Suggestions=(0,p.default)(f.Suggestions,{plugin:m}),_.EmojiSuggestions=(0,p.default)(o.EmojiSuggestions,{plugin:g}),_.QuickRepliesSuggestions=(0,p.default)(h.default,{plugin:u.default})},18888:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;const t=new r.default,n=(0,s.PluggableInput)([i.EmojiPlugin,t,l.default]);return(e=class extends n{}).EmojiSuggestions=(0,u.default)(o.EmojiSuggestions,{plugin:t}),e};var r=a(n(1769)),i=n(52835),o=n(18609),s=n(72761),l=a(n(8103)),u=a(n(68662))},8932:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{base:t,unicode:n,action:a,children:f}=e;return(0,l.jsxs)("div",{className:(0,r.default)(u),children:[(0,l.jsx)("span",{className:(0,r.default)(d),children:(0,l.jsx)(i.DropdownItem,{type:"emoji-grid",a8n:"mi-emoji-variant",action:e=>a(e,n,t),children:(0,l.jsx)(o.EmojiText,{text:t,formatters:s.Configuration.LargeEmojiOnly(),tabIndex:"-1"})},"base")}),(0,l.jsx)("div",{className:(0,r.default)(c),children:f})]})};var r=a(n(56720)),i=n(71174),o=n(65417),s=n(30695),l=n(85893);const u={display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno"},d={width:"b6qzmhfs",paddingBottom:"ekpn4oxx",marginBottom:"t4zgqcuo",textAlign:"qfejxiq4",borderBottom:"afzp6nl2"},c={display:"p357zi0d",flexWrap:"lkhkxwyq",justifyContent:"ac2vgrno",maxWidth:"j2j5w4e7"}},1791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.reduce(((e,t)=>{const{handlers:n}=t;return n?(Object.keys(n).forEach((a=>{e[a]||(e[a]=[]);const r=n[a];null!=r&&e[a].push([t,r])})),e):e}),{});return Object.keys(n).reduce(((e,a)=>{const r=n[a];return e[a]=function(e,t){return n=>{e.some((e=>{let[a,r]=e;const i=r.call(a,n,t);return!!n.defaultPrevented||!0===i&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!0)}))}}(r,t),e}),{})}},82958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.reduce(((e,t)=>{const{hooks:n}=t;return n?(Object.keys(n).forEach((a=>{e[a]||(e[a]=[]),e[a].push([t,n[a]])})),e):e}),{});return Object.keys(n).reduce(((e,a)=>(e[a]=function(e,t){return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];e.forEach((e=>{let[n,r]=e;return r.call(n,...a,t)}))}}(n[a],t),e)),{})}},70411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.reduce(((e,t)=>{const{hotkeys:n}=t;return n?(Object.keys(n).forEach((a=>{e[a]||(e[a]=[]),e[a].push([t,n[a]])})),e):e}),{});return Object.keys(n).reduce(((e,a)=>(e[a]=function(e,t){return n=>{e.some((e=>{let[a,r]=e;const i=r.call(a,n,t);return!!n.defaultPrevented||!0===i&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!0)}))}}(n[a],t),e)),{})}},72473:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,t.getSelectionSibling=function(e,t){const n=window.getSelection();if(!n||!n.rangeCount)return null;const a=n.getRangeAt(0);if(!a.collapsed)return null;const{startContainer:i,startOffset:o}=a;if(i===e){const{childNodes:e}=i,{length:n}=e;if(t===r.FORWARD&&o>n||t===r.BACKWARD&&!o)return null;const a=t===r.BACKWARD?1:0,s=e[o-a];return s instanceof Element?s:null}const s=i.length===o;if(t===r.BACKWARD&&o)return null;if(t===r.FORWARD&&!s)return null;const l=t===r.BACKWARD?"previousSibling":"nextSibling",u=i[l];return u instanceof Element?u:null};const r=(0,a(n(66919)).default)({FORWARD:void 0,BACKWARD:void 0});t.Direction=r},81472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!e.getModifierState("Shift")&&!e.getModifierState("Alt")&&!e.getModifierState("Control")}},42107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof HTMLElement&&Boolean(e.dataset.mentionJid)}},27666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.metaKey||e.shiftKey||e.altKey||e.ctrlKey}},12062:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n,a){let s="",l=!1,u=!0;return(0,i.default)(n,a,(n=>{return l?(a=n,u=r.EmojiUtil.isEmoji(a)||o.test(a),!0):s.length>e||(l=n===t,void(l||(s=n+s)));var a})),l&&u?s:null}};var r=n(67247),i=a(n(37773));const o=/\W/},37773:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(1!==t.rangeCount)return;if(!t.getRangeAt(0).collapsed)return;let{anchorNode:a,anchorOffset:u}=t;if(a&&a===e.refInput){if(u-=1,-1===u)return;if(a=a.childNodes[u],null==a)return;u=a.textContent.length}a=(0,s.default)(a)?l(a):a,(0,r.default)(a,(e=>{const t=l(e);return t?[t]:[]}),(e=>{let t,r;if((0,o.isEmojiEl)(e))return t=i.Clipboard.fromNode(e,!0).toPlainString(),n(t,0,t);r=e===a?e.textContent.slice(0,u):e.textContent;const s=r.lastIndexOf("\n"),l=s>=0;let d;l&&(r=r.slice(s+1));for(let e=r.length-1;e>=0;e--)if(t=r.charAt(e),d=n(t,e,r),d)return!0;return!!l||void 0}))};var r=a(n(52047)),i=n(11933),o=n(52835),s=a(n(29958));function l(e){let t=e;do{var n;if(t=null===(n=t)||void 0===n?void 0:n.previousSibling,t&&t.nodeType!==Node.TEXT_NODE&&!(0,o.isEmojiEl)(t))return null}while(t&&(0,s.default)(t));return t}},264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=t;for(;n>0;)e.modify("extend","backward","character"),n--}},66065:(e,t)=>{"use strict";function n(e,t){return e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.matches(t)}function a(e,t){for(let a=0;a<t.length;++a){const{serializers:r}=t[a];if(r)for(let t=0;t<r.length;++t){const[a,i]=r[t];if(n(e,a))return i}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=[];let o=e.cloneNode(!0).firstChild;for(;o;){switch(o.nodeType){case r:{const e=a(o,t);if(e){n.push(e(o));break}switch(o.tagName){case"P":case"BR":case"PRE":n.push("\n");break;case"DIV":o.firstChild&&3!==o.firstChild.nodeType||n.push("\n")}break}case i:n.push(o.nodeValue)}if(o.hasChildNodes())o=o.firstChild;else{for(;o&&!o.nextSibling;)if(o=o.parentNode,o===e){o=null;break}o&&(o=o.nextSibling)}}return n.join("")};const r=1,i=3},748:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(66065));var i=(e,t)=>{t.focusNode||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("serializeTextBeforeCursor requires selection.focusNode"));const n=document.createRange();n.setStart(e,0),n.setEnd(t.focusNode,t.focusOffset);const a=n.cloneContents();return(0,r.default)(a,[])};t.default=i},95605:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.reduce(((e,t)=>{let{parsers:n}=t;return n?n.reduce(((e,t)=>t(e)),e):e}),(0,r.default)(e))};var r=a(n(7187))},68662:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=n(85893);var o=(e,t)=>{var n,a;function o(n){return(0,i.jsx)(e,(0,r.default)((0,r.default)({},n),t))}return o.displayName=`Wrapper(${null!==(n=null!==(a=e.displayName)&&void 0!==a?a:e.name)&&void 0!==n?n:"Component"})`,o};t.default=o},7057:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,a(n(66919)).default)({CHANGE:void 0,MOUNT:void 0,INPUT:void 0});t.default=r},69995:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(98913)),i=a(n(74691)),o=n(67294),s=a(n(56720)),l=a(n(49357)),u=n(29424),d=a(n(70842)),c=a(n(14296)),f=a(n(8694)),h=a(n(23217)),p=n(93353),m=a(n(89256)),g=a(n(1784)),_=n(85893);const v={button:{position:"lhggkp7q",zIndex:"jnl3jror",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx",backgroundColor:"jfnhg5wd"},buttonIcon:{color:"a633jkfz"},floatRight:{top:"qq0sjtgm",right:"grt5ktjy"},floatLeft:{top:"qq0sjtgm",left:"tukmaf4q"},resizeContainer:{height:"ppled2lx",width:"ln8gz9je",backgroundColor:"jfnhg5wd"},tabItem:{display:"l7jjieqr",marginLeft:"lalctav4",marginRight:"lyrceosr"},tabContainer:{overflowX:"gfz4du6o",overflowY:"r7fjleex",whiteSpace:"le5p0ye3"},tabList:{transitionProperty:"bo8jc6qi",transitionDuration:"p4t1lx4y",transitionTimingFunction:"pu4k07i0"}},b=(e,t,n,a)=>{if(!e||!t)return!1;const r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=(null==n?void 0:n.clientWidth)||0,s=(null==a?void 0:a.clientWidth)||0;return i.right>r.right-(c.default.isRTL()?s:o)||i.left<r.left+(c.default.isRTL()?o:s)};function y(e){let{xstyle:t,icon:n,onClick:a,onRef:r}=e;return(0,_.jsx)(g.default,{ref:r,xstyle:[v.button,t],onClick:a,children:(0,_.jsx)(h.default,{className:(0,s.default)(v.buttonIcon),name:n})})}function C(e,t){const[n,a]=(0,o.useState)(0),[h,g]=(0,o.useState)(0),[C,S]=(0,o.useState)(0),[E,x]=(0,o.useState)(!1),[T,M]=(0,o.useState)(0),[k,w]=(0,o.useState)(0),A=(0,o.useContext)(d.default),{className:P,onItemClick:j,numItems:I,renderItem:O,selectedIndex:N,buttonStyle:R}=e,D=(0,o.useRef)([]),L=(0,o.useRef)([]),B=(0,o.useRef)(null),F=(0,o.useRef)(null),G=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(!j)return;const e=(0,i.default)(N,0,I);e!==N&&(j(e),__LOG__(4,void 0,new Error,!0)`Selection out of bounds`,SEND_LOGS(`auto_carousel_menu: selectedIndex (${N}) is out of bounds (0-${I})`)),N>I?j(I):N<0&&j(0)}),[N,I,j]),(0,o.useLayoutEffect)((()=>{var e;const t=e=>e?c.default.isRTL()?n-e.offsetLeft-e.clientWidth:e.offsetLeft:0,a=D.current[N],r=D.current[h],i=D.current[D.current.length-1],o=t(r),s=((e,n)=>e?t(e)+e.clientWidth-n:0)(i,o);M((null==a?void 0:a.clientWidth)||0),w((null==a?void 0:a.offsetLeft)||0),S(o),x(s<=n),null===(e=L.current[N])||void 0===e||e.focus()}),[D,N,h,n,I]);const U=(e,t)=>{j&&j(e,t)},V=()=>{E||g((0,i.default)(h+3,0,I))},W=()=>{0!==h&&g((0,i.default)(h-3,0,I))},H=(0,o.useCallback)((()=>{var e;null===(e=L.current[N])||void 0===e||e.focus()}),[N]),q=(e,t)=>(0,_.jsx)("div",{className:(0,s.default)(v.tabItem),ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((t=>{D.current[e]=t})),children:(0,_.jsx)(p.MenuTab,{role:"tab",onRef:t=>{L.current[e]=t},onClick:U,sectionId:e,selected:t,showFocusIndicator:A,theme:p.THEMES.NONE,children:O(e)},e)},e),[Y,z]=c.default.isRTL()?[v.floatRight,v.floatLeft]:[v.floatLeft,v.floatRight],[K,$]=c.default.isRTL()?["chevron-right","chevron-left"]:["chevron-left","chevron-right"],Q=(0,_.jsx)(y,{xstyle:[R,Y],icon:K,onClick:W,onRef:e=>{G.current=e}}),X=(0,_.jsx)(y,{xstyle:[R,z],icon:$,onClick:V,onRef:e=>{F.current=e}}),J=(c.default.isRTL()?1:-1)*C,Z=()=>{var e;return(null===(e=B.current)||void 0===e?void 0:e.contains(document.activeElement))||!1};return(0,o.useImperativeHandle)(t,(()=>({focus:H,hasFocus:Z}))),(0,_.jsx)(l.default,{className:P,children:(0,_.jsxs)(f.default,{className:(0,s.default)(v.resizeContainer),onResize:e=>{let{width:t}=e;a(t)},children:[!(h<=0)&&Q,(0,_.jsx)("div",{ref:B,className:(0,s.default)(v.tabContainer),children:(0,_.jsxs)(u.HotKeys,{className:(0,s.default)(v.tabList),style:{transform:"translateX("+J+"px)"},role:"tablist",handlers:{left:e=>{const t=c.default.isRTL()?1:-1,n=(0,i.default)(N+t,0,I-1),a=L.current[n];b(B.current,a,F.current,G.current)&&(c.default.isRTL()?V():W()),U(n,e),e.preventDefault()},right:e=>{const t=c.default.isRTL()?-1:1,n=(0,i.default)(N+t,0,I-1),a=L.current[n];b(B.current,a,F.current,G.current)&&(c.default.isRTL()?W():V()),U(n,e),e.preventDefault()}},tabIndex:null,children:[(0,r.default)(I,(e=>q(e,N===e))),(0,_.jsx)(m.default,{selectedTabIndex:N,width:T,offsetPx:k,hide:!1,animate:!0})]})}),!E&&X]})})}var S=(0,o.forwardRef)(C);t.default=S},89256:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=a(n(56720)),o=a(n(37453)),s=n(85893);const l={menuTabsMarker:{position:"lhggkp7q",bottom:"jxacihee",left:"tukmaf4q",backgroundColor:"futycye9",opacity:"bs7a17vp",transitionProperty:"p3nha244",transitionDuration:"p4t1lx4y",transitionTimingFunction:"ijehb8ro"},animate:{transitionProperty:"ej4zaygv",transitionDuration:"p4t1lx4y",transitionTimingFunction:"ijehb8ro"},animateWithTransform:{transitionProperty:"egl74e4l",transitionDuration:"p4t1lx4y",transitionTimingFunction:"ijehb8ro"},hide:{opacity:"axi1ht8l"}};function u(e){const{hide:t,selectedTabIndex:n,width:a,offsetPx:r,animate:u}=e,d=(0,o.default)(n);let c,f,h;return h=(-1!==d||n===d)&&Boolean(u),-1!==n?(f=`translateX(${r}px)`,c="2px"):-1!==d&&-1===n&&(c="0px"),(0,s.jsx)("div",{className:(0,i.default)(l.menuTabsMarker,t&&l.hide,!h&&u&&l.animate,h&&l.animateWithTransform),style:{width:a,transform:f,height:c}})}var d=(0,r.memo)(u);t.default=d},35330:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{numColumns:t,numItems:n,selectedIndex:a,onItemClick:i,renderItem:c}=e,[h,v]=(0,o.useState)(null),[b,y]=(0,o.useState)(0),C=(0,o.useCallback)((e=>{let{onItemClick:t,numItems:n,selectedIndex:a}=e;if(!t||0===n)return;a<0&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("carousel_menu: selectedIndex is smaller than 0"));const r=n-1;a>r&&t(r)}),[]);(0,o.useEffect)((()=>{C(e)}),[C,e]);const S=(e,t)=>{i&&i(e,t)};let E;E=a<b?-1:a>=b+t?t-1+1:(a-b)%t;return(0,m.jsx)(s.default,{className:e.className,children:(0,m.jsxs)(f.default,{className:l.default.resizeContainer,onResize:e=>{let{width:t}=e;v(t)},children:[(0,m.jsx)(r.default,{children:(0,m.jsx)(g,{menuWidth:h,numColumns:t,offset:b,onClick:()=>{0!==b&&y(b-1)}})}),(0,m.jsx)(d.default,{menuWidth:h,numColumns:t,numItems:n,offset:b,renderItem:(e,a,r)=>"number"==typeof n&&e>=n?null:(0,m.jsx)(u.default,{column:e-b,carouselNumColumns:t,menuWidth:r,onClick:S,index:e,selected:a,children:c(e)},e),selectedIndex:a}),(0,m.jsx)(r.default,{children:(0,m.jsx)(_,{offset:b,numColumns:t,menuWidth:h,numItems:n,onClick:()=>{"number"!=typeof n||b+t>n||y(b+1)}})}),(0,m.jsx)(p.default,{numTabs:t,selectedTabIndex:E,hide:-1===E||0===E&&b>0||E===t,animate:!0})]})})};var r=a(n(40436)),i=a(n(94184)),o=n(67294),s=a(n(49357)),l=a(n(80359)),u=a(n(72092)),d=a(n(98595)),c=a(n(14296)),f=a(n(8694)),h=a(n(23217)),p=a(n(24649)),m=n(85893);function g(e){let{offset:t,menuWidth:n,numColumns:a,onClick:r}=e;if(0===t)return null;const i=c.default.isRTL()?"chevron-right":"chevron-left";return(0,m.jsx)(v,{menuWidth:n,numColumns:a,className:l.default.prevButton,icon:i,onClick:r,id:"prev-button"})}function _(e){let{offset:t,menuWidth:n,numColumns:a,numItems:r,onClick:i}=e;if("number"!=typeof r)return null;if(t+a>=r)return null;const o=c.default.isRTL()?"chevron-left":"chevron-right";return(0,m.jsx)(v,{menuWidth:n,numColumns:a,className:l.default.nextButton,icon:o,onClick:i,id:"next-button"})}function v(e){let{className:t,menuWidth:n,numColumns:a,icon:r,onClick:o,id:s}=e;const u=null!=n&&0!==n?`${Math.round(n/a)}px`:100/a+"%";return(0,m.jsx)("div",{className:(0,i.default)(l.default.button,t),style:{width:u},onClick:o,role:"button","data-testid":s,children:(0,m.jsx)(h.default,{className:l.default.buttonIcon,name:r})})}},72092:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{column:t,carouselNumColumns:n,index:a,menuWidth:l}=e,u=(0,r.useRef)(null);let d;d=null!=l&&0!==l?`${Math.round(l/n)}px`:100/n+"%";const c=i.default.isRTL()?-1:1;return(0,s.jsx)(o.MenuTab,{onRef:e=>{u.current=e},onClick:e.onClick,sectionId:a,selected:e.selected,theme:0!==a&&(t<=0||t>=n)?o.THEMES.CAROUSEL_END:o.THEMES.CAROUSEL,transform:`translateX(${100*t*c}%)`,width:d,children:e.children})};var r=n(67294),i=a(n(14296)),o=n(93353),s=n(85893)},98595:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{numItems:t,offset:n,renderItem:a,selectedIndex:i,menuWidth:o}=e;let{numColumns:s}=e,l=0;const u=t-s;1===n&&(s+=1,l=-1);n===u-1&&(s+=1);return(0,r.default)(s,(e=>{const r=e+l+n;return r<0||r<1&&n>0||r>=t?null:a(r,r===i,o)}))};var r=a(n(98913))},57297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertTabToMood=t.ValidMoods=t.StickerTabs=t.SCROLL_THROTTLE_TIME=t.SCROLL_CLICK_TIME_GAP=t.MINIMUM_LOADING_TIME=t.INPUT_SHOW_POINT=t.INPUT_HIDE_POINT=t.INPUT_BAR_TOTAL_HEIGHT=t.INPUT_BAR_SCROLL_SENSITIVITY=t.INPUT_BAR_SCROLL_FAST=void 0;t.SCROLL_CLICK_TIME_GAP=1e3;t.SCROLL_THROTTLE_TIME=100;t.INPUT_BAR_TOTAL_HEIGHT=63;t.INPUT_BAR_SCROLL_SENSITIVITY=5;t.INPUT_BAR_SCROLL_FAST=15;t.INPUT_HIDE_POINT=44.099999999999994;t.INPUT_SHOW_POINT=94.5;const a=n(76672).Mirrored(["LOVE","GREETINGS","HAPPY","SAD","ANGRY","CELEBRATE"]);t.ValidMoods=a;const r=n(76672).Mirrored(["RECENTS","FAVORITES","LOVE","GREETINGS","HAPPY","SAD","ANGRY","CELEBRATE","STORE"]);t.StickerTabs=r;t.convertTabToMood=e=>{const t=e;return a.isValid(t)?a.cast(t):null};t.MINIMUM_LOADING_TIME=1500},28325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayLocation=void 0;const a=n(76672).Mirrored(["ComposeBox","StatusV3ComposeBox","Dropdown","Reactions"]);t.DisplayLocation=a},19290:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(66919)),i=a(n(66035));var o=(0,r.default)(i.default);t.default=o},1823:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SIDE_MARGIN=t.EmojiRow=t.EMOJI_WIDTH=t.EMOJI_HEIGHT=void 0;var r=n(81572),i=a(n(52013)),o=a(n(94184)),s=n(67294),l=a(n(59312)),u=n(87550),d=a(n(89113)),c=n(46428),f=n(28325),h=n(60811),p=n(67247),m=a(n(84636)),g=a(n(30240)),_=n(13185),v=n(29424),b=a(n(14296)),y=a(n(88857)),C=n(5104),S=a(n(45260)),E=n(18644),x=a(n(46780)),T=n(85893);const M=parseInt(g.default["-side-margin"],10);t.SIDE_MARGIN=M;const k=parseInt(g.default["-emoji-height"],10);t.EMOJI_HEIGHT=k;const w=parseInt(g.default["-emoji-width"],10);function A(e,t){const{emojis:n,allowVariantPrompt:a,onEmoji:C,focusBelow:M,focusAbove:k,numColumns:w,onEmojiFocus:A,displayLocation:P}=e,N=(0,l.default)(),[R]=(0,u.useAddListenerOnce)(),D=(0,s.useRef)(null),L=(0,s.useRef)(null),B=(0,s.useRef)(null),F=(0,s.useRef)(null),[G,U]=(0,s.useState)(null),V=P===f.DisplayLocation.Reactions,W=(0,s.useContext)(y.default),H=(e,t)=>{let n=e;if(p.EmojiUtil.getSkinToneBase(n)){let r=_.EmojiVariantCollection.getVariantIfExists(n);if(V)if(null!=t){const e=p.EmojiUtil.normalizeEmojiFromString(t);r=null!=e?e:n}else{const t=O(e);null!=t&&(r=t)}if(null!=r)n=r;else if(a)return!0}C(n)},q=(e,t,n)=>{j(e),V||_.EmojiVariantCollection.setVariant(t,n),H(t,n)},Y=(e,t,n)=>{const a=p.EmojiUtil.getSkinToneBase(e);a&&U({menu:(0,T.jsx)(S.default,{base:a,action:q,unicode:e}),anchor:t,type:h.MenuType.Picker,dirX:h.DirX.RIGHT,dirY:h.DirY.TOP,horizontal:!0,autoFocus:n,findFirstItem:!0})},[z,K]=(0,c.useTimeout)((()=>{null!=B.current&&null!=F.current&&Y(B.current,F.current),R(r.Cmd,"window_click",j)}),250),$=e=>{const t=parseInt(e.dataset.emojiIndex,10);isNaN(t)||(i.default.focus(e,{preventScroll:!0}),A(e),L.current=e)},Q=(0,d.default)((()=>{const e=null==G?void 0:G.anchor;e&&e instanceof HTMLElement&&$(e),U(null)})),X=e=>{const t=I(e);if(null==t)return;const a=n[t];return a||null},J=e=>{const t=n.length-1,a=Math.max(Math.min(e,t),0);if(null!=D.current)return D.current.children[a]},Z=e=>{if(null==e)return;const t=n[e];if(!t)return;const a=J(e);if(!a)return;K();H(t)&&Y(t,a,!0)},ee=e=>{const t=J(e);t&&$(t)},te=e=>{j(e);const t=I(e);if(null==t)return;const n=t-1;n<0?k(w-1):ee(n)},ne=e=>{j(e);const t=I(e);if(null==t)return;const a=t+1;a>=n.length?null==M||M(0):ee(a)},ae=e=>{j(e);const t=I(e);Z(t)},re=()=>{Z(0)},ie=()=>{L.current&&$(L.current)};let oe;if((0,u.useListener)(_.EmojiVariantCollection,["add","remove","change:variant"],N),(0,s.useImperativeHandle)(t,(()=>({focusEmojiAt:ee,selectFirstEmoji:re,restoreFocus:ie}))),G&&(oe=(0,T.jsx)(E.UIE,{displayName:"SkinTonePicker",popable:!0,escapable:!0,dismissOnWindowResize:!0,requestDismiss:Q,requestRecentFocusOnUnmount:!1,children:(0,T.jsx)(x.default,{tooltip:G})})),!n.length)return null;let se=null;return null!=W&&(se=p.EmojiUtil.getEmojiAggregate(W)),(0,T.jsxs)("div",{className:g.default.panel,children:[(0,T.jsx)(v.HotKeys,{onMouseDown:e=>{j(e),U(null);const t=e.target;if(!(t instanceof HTMLElement))return;const n=X(e);n&&((e,t)=>{B.current=e,F.current=t,z(),R(window,"mouseup",K,{capture:!0})})(n,t)},onClick:e=>{j(e);const t=I(e);Z(t)},onContextMenu:e=>{j(e);const t=X(e);t&&e.target instanceof HTMLElement&&Y(t,e.target)},tabIndex:null,handlers:{up:e=>{j(e);const t=I(e);null!=t&&k(t)},down:e=>{j(e);const t=I(e);null!=t&&M&&M(t)},left:e=>{b.default.isRTL()?ne(e):te(e)},right:e=>{b.default.isRTL()?te(e):ne(e)},enter:ae,space:ae},children:(0,T.jsx)("div",{ref:D,className:g.default.section,children:n.map(((e,t)=>{let n=_.EmojiVariantCollection.getVariantIfExists(e);if(V){const t=O(e);null!=t&&(n=t)}const a=(0,T.jsx)(m.default,{element:"span",emoji:n||e,size:"large",tabIndex:"-1","data-emoji-index":t},e);return V?(0,T.jsx)("div",{tabIndex:"-1","data-emoji-index":t,className:(0,o.default)(g.default.emojiContainer,{[g.default.selectedEmoji]:e===se}),children:a},e):a}))})}),oe]})}t.EMOJI_WIDTH=w;const P=(0,s.forwardRef)(A);function j(e){e.preventDefault(),e.stopPropagation()}function I(e){if(!(e.target instanceof HTMLElement))return null;const t=parseInt(e.target.dataset.emojiIndex,10);return isNaN(t)?null:t}function O(e){const t=p.EmojiUtil.getEmojiAggregate(e),n=C.RecentReactionsCollection.get(t);if(n)return p.EmojiUtil.normalizeEmojiFromString(n.reactionText)}t.EmojiRow=P},55547:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(44908)),o=a(n(10691)),s=a(n(18446)),l=a(n(74691)),u=a(n(82594)),d=a(n(40436)),c=a(n(94184)),f=n(48360),h=n(67294),p=n(46428),m=n(28325),g=n(67247),_=a(n(17136)),v=n(57741),b=n(29424),y=a(n(98483)),C=a(n(14296)),S=n(92671),E=n(5104),x=n(54222),T=n(455),M=n(85893);function k(e){let{onChange:t,onFocusUp:n,transitionName:a,showSearchInput:r,searchText:i,scrolledToTop:o,searchInputRef:s,onSearchChange:l,onSearchDownKey:u,onSearchEnterKey:c,displayLocation:h}=e,p=null;const g=h===m.DisplayLocation.Reactions?f.fbt._("Search Reaction",null,{hk:"3CXXfg"}):C.default.t(571);return r&&(p=(0,M.jsx)(x.PanelSearchInput,{label:g,onChange:l,onUpKey:n,onDownKey:u,onEnterKey:c,ref:s,shadow:!o,value:i||""})),(0,M.jsx)(d.default,{transitionName:a,className:y.default.search,children:p})}function w(e){let{width:t,onEmoji:n,searchResultsRef:a,data:r,onEmojiFocus:i,onSearchResultsFocusAbove:o}=e;return(0,M.jsx)("div",{className:y.default.list,children:(0,M.jsx)(T.EmojiSectionScrollList,{data:r,width:t,initialScrollTop:0,searchInputVisible:!0,focusAbove:o,onEmoji:n,onEmojiFocus:i,ref:a,showTitles:!1})})}function A(e,t){const{onSection:n,onChange:a,onFocusPrev:d,onFocusNext:f,onFocusUp:m,width:C,onEmoji:x,sectionIds:A,displayLocation:P}=e,j=(0,h.useRef)(null),I=(0,h.useRef)(null),O=(0,h.useRef)(null),N=(0,h.useRef)(null),R=(0,h.useRef)(!1),D=(0,h.useRef)(!1),L=(0,h.useRef)(!1),B=(0,h.useRef)(e.displayCache.scrollTop),F=(0,h.useRef)(e.displayCache.sectionId),[G,U]=(0,h.useState)(0===e.displayCache.scrollTop),[V,W]=(0,h.useState)(e.defaultSearchText||""),[H,q]=(0,h.useState)(e.displayCache.showSearchInput),[Y]=(0,p.useTimeout)((()=>{L.current=!1}),200),z=(e,t)=>{L.current=!0,Y();const n=t.scrollTop,a=e.getBoundingClientRect().top-t.getBoundingClientRect().top+n,r=a-t.clientHeight+e.clientHeight+2,i=H?a-T.TOTAL_SEARCH_HEIGHT:a-2;t.scrollTop=(0,l.default)(n,r,i)},K=e=>{if(!I.current)return R.current=!0,void q(!0);I.current.focus(e)};(0,h.useEffect)((()=>{H&&K(!0)}),[H]);const $=()=>{L.current=!0,Y(),K(),j.current&&j.current.scrollToTop()},Q=()=>{const e=0===B.current;return e&&(U(e),q(!0)),e},X=(0,u.default)((e=>{let{sectionIds:t}=e;return t.map((e=>{let t=[];switch(e){case"RECENT":t=(0,i.default)(S.RecentEmojiCollection.reduce(((e,t)=>{const n=g.EmojiUtil.getSkinToneBase(t.id)||t.id;return null!=g.EmojiUtil.getGlyphId(n)&&e.push(n),e}),[]));break;case"RECENT_REACTIONS":t=(0,i.default)(E.RecentReactionsCollection.reduce(((e,t)=>{const n=g.EmojiUtil.getSkinToneBase(t.id)||t.id;return null!=g.EmojiUtil.getGlyphId(n)&&e.push(n),e}),[]));break;default:t=g.EmojiUtil.getEmojisInCategory(e)}return{sectionId:e,emojis:t}}))}),((e,t)=>e.sectionIds===t.sectionIds||(0,s.default)(e.sectionIds,t.sectionIds))),J=function(){var e=(0,r.default)((function*(e){F.current=e,yield new Promise((e=>{R.current=!0,W(""),q(!0),e()})),D.current=!0;const t=j.current?j.current.scrollToSection(e,0-T.TOTAL_SEARCH_HEIGHT):Promise.resolve();return t.finally((()=>{t==t&&(D.current=!1,Q()||H&&U(0===B.current))})),N.current=t,t}));return function(){return e.apply(this,arguments)}}(),Z=(0,u.default)((e=>{let{searchText:t}=e;return[{sectionId:v.SECTIONS.SEARCH_RESULT,emojis:(0,_.default)((0,o.default)(t))}]}));return(0,h.useImperativeHandle)(t,(()=>({focusSearchInput:K,scrollToSection:J}))),(0,M.jsx)(b.HotKeys,{handlers:{tab:e=>{if(e.preventDefault(),e.stopPropagation(),I.current)return I.current.hasFocus()?void(null==f||f()):K()},"shift+tab":e=>{if(e.preventDefault(),e.stopPropagation(),I.current)return I.current.hasFocus()?void(null==d||d()):K()}},onClick:e=>{!function(e){e.preventDefault(),e.stopPropagation()}(e),K()},children:(0,M.jsxs)("div",{className:y.default.bodyContainer,children:[(0,M.jsx)(k,{transitionName:R.current?"emoji-search-slide-away-fast":"emoji-search-slide-away",onChange:a,onFocusUp:m,searchInputRef:I,showSearchInput:H,searchText:V,scrolledToTop:G,onSearchChange:(e,t)=>{null==a||a(e,t),W(e)},onSearchDownKey:()=>{if(V){if(!O.current)return;O.current.focusFirstVisibleEmoji()}else j.current&&j.current.focusFirstVisibleEmoji(T.TOTAL_SEARCH_HEIGHT)},onSearchEnterKey:()=>{V&&O.current&&O.current.selectFirstVisibleEmoji()},displayLocation:P}),V?(0,M.jsx)(w,{width:C,onEmoji:x,data:(()=>{const e=(V||"").replace(/^\s+/,"");return Z({searchText:e})})(),searchResultsRef:O,onEmojiFocus:z,onSearchResultsFocusAbove:()=>{$()}}):null,(0,M.jsx)("div",{className:(0,c.default)(y.default.list,{[y.default.hidden]:!!V}),children:(0,M.jsx)(T.EmojiSectionScrollList,{data:X({sectionIds:A,displayLocation:P}),width:e.width,onFocusUp:()=>{$()},initialScrollTop:e.displayCache.scrollTop,searchInputVisible:H,focusAbove:()=>{$()},onEmoji:e.onEmoji,onEmojiFocus:z,onScroll:e=>{const t=e-B.current;if(B.current=e,L.current)return;if(D.current)return;if(Q())return;const n=Math.abs(t);R.current=n>15;const a=t>=0?1:-1,r=0===e;if(e<T.TOTAL_SEARCH_HEIGHT)return U(G),void q(!0);n<5||(H?1===a&&(U(r),q(!1)):-1===a&&(U(r),q(!0)))},onSection:e=>{D.current||(F.current=e,n(e))},ref:j,showTitles:!0,displayLocation:P})})]})})}var P=(0,h.forwardRef)(A);t.default=P},455:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TOTAL_SEARCH_HEIGHT=t.EmojiSectionScrollList=void 0,t.findEmojiRowAt=M,t.getNumColumns=k;var r=a(n(82594)),i=n(13959),o=a(n(62831)),s=a(n(6258)),l=n(48360),u=n(67294),d=a(n(16223)),c=(n(28325),a(n(19290))),f=n(1823),h=n(57741),p=n(47915),m=a(n(44942)),g=a(n(30855)),_=a(n(80325)),v=n(85893);const b=parseInt(_.default["-total-search-height"],10);t.TOTAL_SEARCH_HEIGHT=b;const y=parseInt(_.default["-title-height"],10),C={[h.SECTIONS.SEARCH_RESULT]:()=>{throw new Error("Search results should not be shown with a title.")},[h.SECTIONS.RECENT]:()=>l.fbt._("Recent",null,{hk:"mC0w6"}),[h.SECTIONS.RECENT_REACTIONS]:()=>l.fbt._("Recent Reactions",null,{hk:"36Zr4J"}),[c.default.SMILEYS_PEOPLE]:()=>l.fbt._("Smileys & People",null,{hk:"15kkb2"}),[c.default.ANIMALS_NATURE]:()=>l.fbt._("Animals & Nature",null,{hk:"2YsDed"}),[c.default.FOOD_DRINK]:()=>l.fbt._("Food & Drink",null,{hk:"1Xtk7P"}),[c.default.ACTIVITY]:()=>l.fbt._("Activity",null,{hk:"242snN"}),[c.default.TRAVEL_PLACES]:()=>l.fbt._("Travel & Places",null,{hk:"1vozFD"}),[c.default.OBJECTS]:()=>l.fbt._("Objects",null,{hk:"2McHxt"}),[c.default.SYMBOLS]:()=>l.fbt._("Symbols",null,{hk:"1WHqbc"}),[c.default.FLAGS]:()=>l.fbt._("Flags",null,{hk:"15Xohs"})};let S=0;S=parseInt(_.default["-scrollbar-width"].replace(/px$/,""),10);function E(e){let{row:t,focusAbove:n,focusBelow:a,onRef:r,numColumns:i,onEmoji:o,onEmojiFocus:s,displayLocation:l}=e;switch(t.kind){case"title":return(0,v.jsx)("div",{className:_.default.title,children:t.title});case"emojis":return(0,v.jsx)(f.EmojiRow,{emojis:t.emojis,focusAbove:n,focusBelow:a,numColumns:i,onEmoji:o,onEmojiFocus:s,ref:r,allowVariantPrompt:t.sectionId!==h.SECTIONS.RECENT,displayLocation:l});default:throw t.kind,new Error(`Invalid row kind: ${t.kind}`)}}function x(e,t){const{initialScrollTop:n,onEmojiFocus:a,onScroll:l,onSection:c,onFocusUp:h,onEmoji:S,searchInputVisible:x,width:T,data:w,showTitles:A,displayLocation:P}=e,j=(0,d.default)((()=>new Map)),I=(0,d.default)((()=>new g.default)),O=(0,u.useRef)(null),N=(0,u.useRef)(null),R=(0,u.useRef)(null),D=e=>{const t=R.current;t&&a(e,t)},L=()=>k(T),B=(0,r.default)((e=>{let t=b;const n={},a=[];return e.data.forEach(((r,i)=>{let{sectionId:o,emojis:l}=r,u=0;const d=t;if(0===l.length)return;e.showTitles&&(a.push({kind:"title",itemKey:`section_${o}_title`,index:a.length,title:C[o](),sectionId:o,height:y,offsetTop:t}),u+=y,t+=y);const c=(0,s.default)(l,e.numColumns),h=i===w.length-1;c.forEach(((e,n)=>{const r=n===c.length-1&&!h?f.EMOJI_HEIGHT+parseInt(_.default["-section-bottom-margin"],10):f.EMOJI_HEIGHT;a.push({kind:"emojis",itemKey:`section_${o}_emoji_${n}`,index:a.length,emojis:e,sectionId:o,height:r,offsetTop:t}),u+=r,t+=r})),n[o]={height:u,offsetTop:d}})),{rows:a,sectionData:n}})),F=()=>B({numColumns:L(),data:w,showTitles:A}),G=e=>{const{rows:t}=F();return t.map((e=>"emojis"===e.kind?e:null)).filter(Boolean).find((t=>t.offsetTop+t.height>e))},U=e=>{const t=G(e+(x?b:0));if(t)return t.sectionId},V=()=>{if(N.current=null,!R.current)return;const e=R.current.scrollTop;null==l||l(e);const t=U(e);t&&(null==c||c(t))},W=()=>{N.current||(N.current=requestAnimationFrame(V))},H=(e,t,n)=>{const{rows:a}=F(),r=M(a,e,t);if(!r)return;const i=j.current.get(r.itemKey);i&&i.focusEmojiAt(n)},q=e=>{if(!R.current)return;const t=R.current.scrollTop+e,n=G(t);if(!n)return;return j.current.get(n.itemKey)},Y=e=>{const t=q(e||0);t&&t.focusEmojiAt(0)},z=(e,t)=>{const n=R.current;if(!n)return Promise.resolve();const{sectionData:a}=F(),r=a[e];if(!r)return Promise.resolve();const s=r.offsetTop;if(n.scrollTop===s)return Promise.resolve();if(O.current){if(O.current.sectionId===e)return O.current.promise;(0,o.default)(O.current.scrollTarget,"stop")}if(n.scrollTop===s)return Promise.resolve();const l=document.createElement("div");l.style.position="absolute",l.style.top=`${s+(t||0)}px`,l.style.left="0px",n.appendChild(l);const u=(0,o.default)(l,"scroll",{container:n,duration:300,easing:[.99,.13,.13,.99]}).then((()=>{})).then((()=>(0,i.delayMs)(100)));return O.current={promise:u,sectionId:e,scrollTarget:l},u.finally((()=>{var e;n.removeChild(l),(null===(e=O.current)||void 0===e?void 0:e.promise)===u&&(O.current=null)})),u},K=()=>{R.current&&(R.current.scrollTop=0)},$=e=>{const t=q(e||0);t&&t.selectFirstEmoji()};(0,u.useImperativeHandle)(t,(()=>({focusFirstVisibleEmoji:Y,scrollToSection:z,scrollToTop:K,selectFirstVisibleEmoji:$}))),(0,u.useEffect)((()=>{R.current&&R.current.scrollTop!==n&&(R.current.scrollTop=n),F()}),[]);const{rows:Q}=F(),X=Math.min(Q.length,2);let J;return(e.onScroll||e.onSection)&&(J=W),(0,v.jsx)(m.default,{onScroll:J,className:_.default.container,ref:R,flatListControllers:[I.current],children:(0,v.jsx)(p.FlatList,{data:Q,reorderAnimationsEnabled:!1,forceConsistentRenderCount:!1,flatListController:I.current,direction:"vertical",extraItems:X,initialScrollFromStart:e.initialScrollTop,renderItem:e=>(0,v.jsx)(E,{row:e,focusAbove:t=>{1===e.index&&(null==h||h()),H(e.index,-1,t)},focusBelow:t=>{H(e.index,1,t)},onRef:t=>{t?j.current.set(e.itemKey,t):j.current.delete(e.itemKey)},numColumns:L(),onEmoji:S,onEmojiFocus:D,displayLocation:P})})})}const T=(0,u.forwardRef)(x);function M(e,t,n){const a=n<0?-1:1;let r=t+n;for(;r>=0&&r<e.length;){const t=e[r];if("emojis"===t.kind)return t;r+=a}}function k(e){const t=e-2*f.SIDE_MARGIN-S;return Math.floor(t/f.EMOJI_WIDTH)}t.EmojiSectionScrollList=T},27924:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiSectionIcon=function(e){return(0,o.jsx)(i.default,{name:s[e.sectionId]})},t.sectionIdToIcon=void 0;var r=n(57741),i=a(n(23217)),o=n(85893);const s={[r.SECTIONS.RECENT]:"panel-recent",[r.SECTIONS.RECENT_REACTIONS]:"panel-recent",[r.SECTIONS.SMILEYS_PEOPLE]:"panel-emoji-people",[r.SECTIONS.ANIMALS_NATURE]:"panel-emoji-nature",[r.SECTIONS.FOOD_DRINK]:"panel-emoji-food",[r.SECTIONS.ACTIVITY]:"panel-emoji-activity",[r.SECTIONS.TRAVEL_PLACES]:"panel-emoji-travel",[r.SECTIONS.OBJECTS]:"panel-emoji-objects",[r.SECTIONS.SYMBOLS]:"panel-emoji-symbols",[r.SECTIONS.FLAGS]:"panel-emoji-flags"};t.sectionIdToIcon=s},24633:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(48360),i=n(67294),o=a(n(67662)),s=n(57741),l=n(27924),u=n(93353),d=n(85893);function c(e,t){const n=(0,o.default)(t),a={[s.SECTIONS.RECENT]:r.fbt._("Recent",null,{hk:"mC0w6"}),[s.SECTIONS.RECENT_REACTIONS]:r.fbt._("Recent Reactions",null,{hk:"gDOTW"}),[s.SECTIONS.SMILEYS_PEOPLE]:r.fbt._("Smileys & People",null,{hk:"15kkb2"}),[s.SECTIONS.ANIMALS_NATURE]:r.fbt._("Animals & Nature",null,{hk:"2YsDed"}),[s.SECTIONS.FOOD_DRINK]:r.fbt._("Food & Drink",null,{hk:"1Xtk7P"}),[s.SECTIONS.ACTIVITY]:r.fbt._("Activity",null,{hk:"242snN"}),[s.SECTIONS.TRAVEL_PLACES]:r.fbt._("Travel & Places",null,{hk:"1vozFD"}),[s.SECTIONS.OBJECTS]:r.fbt._("Objects",null,{hk:"2McHxt"}),[s.SECTIONS.SYMBOLS]:r.fbt._("Symbols",null,{hk:"1WHqbc"}),[s.SECTIONS.FLAGS]:r.fbt._("Flags",null,{hk:"15Xohs"})},{sectionId:i}=e,c=a[i];return(0,d.jsx)(u.MenuTab,{onClick:e.onClick,sectionId:i,selected:e.selected,showFocusIndicator:e.showFocusIndicator,theme:u.THEMES.MENU,title:c,onRef:n,children:(0,d.jsx)(l.EmojiSectionIcon,{sectionId:i})})}var f=(0,i.forwardRef)(c);t.default=f},57741:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=t.ORDERED_TAB_SECTION_IDS=void 0;var r=a(n(81109)),i=n(13045);const o=(0,r.default)((0,r.default)({RECENT:"RECENT",RECENT_REACTIONS:"RECENT_REACTIONS"},i.CATEGORIES),{},{SEARCH_RESULT:"SEARCH_RESULT"});t.SECTIONS=o;o.RECENT,o.RECENT,o.RECENT_REACTIONS,o.RECENT_REACTIONS,o.SMILEYS_PEOPLE,o.SMILEYS_PEOPLE,o.ANIMALS_NATURE,o.ANIMALS_NATURE,o.FOOD_DRINK,o.FOOD_DRINK,o.ACTIVITY,o.ACTIVITY,o.TRAVEL_PLACES,o.TRAVEL_PLACES,o.OBJECTS,o.OBJECTS,o.SYMBOLS,o.SYMBOLS,o.FLAGS,o.FLAGS;const s=[...i.ORDERED_CATEGORY_IDS];t.ORDERED_TAB_SECTION_IDS=s},82709:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiSuggestionsPanel=t.EMOJI_WIDTH=void 0;var r=a(n(35161)),i=a(n(45095)),o=n(81572),s=n(67294),l=a(n(51799)),u=a(n(59312)),d=n(87550),c=a(n(89113)),f=n(46428),h=a(n(95402)),p=n(60811),m=n(67247),g=a(n(84636)),_=a(n(78666)),v=n(13185),b=n(29424),y=a(n(45260)),C=n(18644),S=a(n(46780)),E=n(85893);const x=parseInt(_.default["-emoji-width"].replace(/px$/,""),10);t.EMOJI_WIDTH=x;const T=(0,s.forwardRef)(((e,t)=>{const{emojiList:n,onFocusRelease:a,onEmoji:T,onSkinTonePicker:k}=e,w=(0,u.default)(),[A]=(0,d.useAddListenerOnce)(),P=(0,h.default)(),[j,I]=(0,s.useState)(null),[O,N]=(0,s.useState)(0),R=(0,s.useRef)(0),D=(0,s.useRef)(null),L=(0,s.useRef)(null),B=(0,s.useRef)(null),F=(0,s.useRef)(null),G=e=>m.EmojiUtil.getSkinToneBase(e)?v.EmojiVariantCollection.getVariant(e):null,U=()=>{var e;const t=null===(e=B.current)||void 0===e?void 0:e.offsetWidth;return null==t?8:Math.floor(t/x)},V=e=>{T(e),null==a||a()},W=(e,t,n)=>(M(e),V(n),v.EmojiVariantCollection.setVariant(t,n),P&&(P.pop(!1,!1),P.requestDismiss()),!1),H=(e,t,n)=>{z();const a=(0,i.default)(m.EmojiUtil.getSkinToneBase(e),"Emoji.getSkinToneBase(unicode)");I({menu:(0,E.jsx)(y.default,{base:a,action:W,unicode:e}),anchor:t,type:p.MenuType.Picker,dirX:p.DirX.RIGHT,dirY:p.DirY.TOP,horizontal:!0,autoFocus:n,findFirstItem:!0}),null==k||k(!0)},[q,Y]=(0,f.useTimeout)((()=>{A(o.Cmd,"window_click",M),L.current&&D.current&&H(L.current,D.current)}),250);function z(){Y()}const K=e=>{if(M(e),!(e.target instanceof HTMLElement))return;const t=e.target.dataset.unicode;t&&m.EmojiUtil.getSkinToneBase(t)&&(e=>{M(e),z();const t=e.target;if(!(t instanceof HTMLElement))return;const n=t.dataset.unicode;D.current=t,L.current=n,q(),A(window,"mouseup",z,{capture:!0})})(e)},$=e=>{M(e);const t=e.target;if(!(t instanceof HTMLElement))return;const n=t.dataset.unicode;n&&m.EmojiUtil.getSkinToneBase(n)&&H(n,t)},Q=e=>{if(M(e),!(e.target instanceof HTMLElement))return;const t=e.target.dataset.unicode;if(t)if(m.EmojiUtil.getSkinToneBase(t)){const n=G(t);n?V(n):$(e)}else V(t)},X=(0,c.default)((()=>{j&&(I(null),null==k||k(!1))})),J=()=>{const e=U();R.current!==e&&(R.current=e,N(O>=e?e-1:O))},Z=()=>{const e=null!==(t=n[O])&&void 0!==t?t:null;var t;if(e)if(m.EmojiUtil.getSkinToneBase(e)){const t=G(e);if(t)V(t);else{const t=(e=>{if(e<0)return;if(!F.current)return;const t=F.current.children;return e>=t.length?void 0:t[e]})(O);t&&H(e,t,!0)}}else V(e)},ee=()=>{N(Math.min(O+1,U()-1,n.length-1))},te=()=>{N(Math.max(O-1,0))};(0,s.useEffect)((()=>{X()}),[X,n]);const ne=(0,l.default)(J,100);let ae;return(0,s.useEffect)((()=>{N(Math.min(O,n.length-1))}),[O,n]),(0,s.useEffect)((()=>{J()}),[]),(0,d.useListener)(v.EmojiVariantCollection,["add","remove","change:variant"],w),(0,d.useListener)(window,"resize",ne),(0,s.useImperativeHandle)(t,(()=>({moveSelectionLeft:te,moveSelectionRight:ee,pickSelectedEmoji:Z}))),j&&(ae=(0,E.jsx)(C.UIE,{displayName:"SkinTonePicker",popable:!0,escapable:!0,dismissOnWindowResize:!0,requestDismiss:X,children:(0,E.jsx)(S.default,{tooltip:j})})),(0,E.jsxs)("div",{ref:B,children:[(e=>{let t=e;const n=U();t&&t.length>n&&(t=t.slice(0,n));const a=(0,r.default)(t,((e,t)=>{const n=G(e);return(0,E.jsx)(g.default,{element:"span",emoji:n||e,size:"large","data-unicode":e,"data-variant":n,tabIndex:"-1","data-emoji-index":t,selected:O===t&&!j},e)}));return(0,E.jsx)(b.HotKeys,{onMouseDown:K,onClick:Q,onContextMenu:$,children:(0,E.jsx)("div",{className:_.default.panel,ref:F,children:a})})})(n),ae]})}));function M(e){e&&(e.preventDefault(),e.stopPropagation())}t.EmojiSuggestionsPanel=T},30424:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPanel=void 0;var r=a(n(94184)),i=n(67294),o=a(n(59312)),s=a(n(16223)),l=a(n(74570)),u=n(28325),d=n(60811),c=a(n(55547)),f=n(57741),h=a(n(51460)),p=a(n(50725)),m=n(92671),g=n(5104),_=a(n(24633)),v=n(85893);const b=(0,i.forwardRef)(((e,t)=>{var n;const{displayLocation:a=u.DisplayLocation.Dropdown}=e,b=(0,i.useRef)(),y=(0,i.useRef)(),C=(0,s.default)((()=>{const e=a===u.DisplayLocation.Reactions,t=[];!e&&m.RecentEmojiCollection.length>0&&t.push(f.SECTIONS.RECENT),e&&g.RecentReactionsCollection.length>0&&t.push(f.SECTIONS.RECENT_REACTIONS);return[...t,...f.ORDERED_TAB_SECTION_IDS]})),S=(0,i.useRef)(C.current),E=(0,s.default)((()=>{var t;return null!==(t=e.displayCache)&&void 0!==t?t:{scrollTop:0,sectionId:C.current[0],showSearchInput:!0}})),x=(0,i.useRef)(),[T,M]=(0,i.useState)(E.current.sectionId),[k,w]=(0,i.useState)(-1),A=(0,o.default)(),P=(0,i.useRef)(new Map),j=e=>{var t;null===(t=y.current)||void 0===t||t.focusSearchInput(e)},I=e=>{j(e)},O=(0,l.default)();(0,i.useEffect)((()=>{O(I)}),[]),(0,i.useImperativeHandle)(t,(()=>({getElement:()=>x.current,restoreFocus:I})));const N=e=>{T!==e&&(M(e),(e=>{if(!y.current)return;const t=y.current.scrollToSection(e);b.current=t,t.finally((()=>{t===b.current&&(b.current=null)}))})(e))},R=(t,n)=>{var a;N(t),null===(a=e.onChange)||void 0===a||a.call(e,""),j(),null==n||n.preventDefault()},D=(0,r.default)(h.default.emojiPanel,{[h.default.panelDropdown]:a===u.DisplayLocation.Dropdown,[h.default.panelReactions]:a===u.DisplayLocation.Reactions}),{width:L=d.EMOJI_PICKER_WIDTH}=e;return(0,v.jsxs)("div",{className:D,ref:x,children:[(0,v.jsx)(p.default,{selectedSectionId:T,sectionIds:C.current,renderSectionTab:(e,t)=>(0,v.jsx)(_.default,{onClick:R,sectionId:e,selected:t,showFocusIndicator:-1!==k,ref:t=>{P.current.set(e,t)}},e),showTabHighlight:!(null===(n=e.defaultSearchText)||void 0===n?void 0:n.trim()),onFocusPrev:()=>{var e;const t=C.current,n=(t.length+k-1)%t.length,a=t[n];null===(e=P.current.get(a))||void 0===e||e.focus(),w(n)},onFocusNext:()=>{var e;const t=C.current,n=(k+1)%t.length,a=t[n];null===(e=P.current.get(a))||void 0===e||e.focus(),w(n)},onFocusLeave:()=>{w(-1),j()},onEnter:e=>{null==e||e.preventDefault();const t=C.current[k];w(-1),R(t)}}),(0,v.jsx)(c.default,{displayCache:E.current,width:L,onDisplayCache:e.onDisplayCache,onFocusUp:()=>{var e;null===(e=P.current.get(T))||void 0===e||e.focus(),w(C.current.indexOf(T))},onFocusPrev:e.onFocusPrev,onFocusNext:e.onFocusNext,onEmoji:t=>{a===u.DisplayLocation.Reactions||m.RecentEmojiCollection.increment(t),e.onEmoji(t)},onSection:e=>{b.current||T!==e&&M(e)},ref:y,sectionIds:S.current,onChange:(t,n)=>{var a;null===(a=e.onChange)||void 0===a||a.call(e,t,n),A()},defaultSearchText:e.defaultSearchText,displayLocation:a})]})}));t.EmojiPanel=b,b.displayName="EmojiPanel"},89964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SKIN_TONE_VARIATIONS=void 0;var a=n(67247);const r=[""].concat(a.EmojiUtil.skinToneVariations);t.SKIN_TONE_VARIATIONS=r},49777:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={TRENDING:"TRENDING",HAHA:"HAHA",SAD:"SAD",LOVE:"LOVE",REACTIONS:"REACTIONS",SPORTS:"SPORTS",TV:"TV"};t.default=n},59927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TENOR=t.TARGET_GIF_HEIGHT=t.GifInfo=t.GIPHY_LOCALES=t.GIPHY=t.GAP_SIZE=t.BRAND_NAMES=void 0,t.gifProvider=function(){switch(a.ServerProps.gifSearch){case"giphy":return r;case"tenor":default:return i}};var a=n(64551);t.TARGET_GIF_HEIGHT=130;t.GAP_SIZE=6;const r="giphy";t.GIPHY=r;const i="tenor";t.TENOR=i;let o=0;t.GifInfo=class{constructor(e,t,n,a,r,i,s,l){this.rank=e,this.gifId=++o,this.url=t,this.size=n,this.previewUrl=a||t,this.nonVideoUrl=r,this.width=i,this.widthStr=`${i}px`,this.ratioStr=`${Math.ceil(13e3/i)}%`,this.attribution=s,this.trending=l}};t.BRAND_NAMES={giphy:"GIPHY",tenor:"Tenor"};t.GIPHY_LOCALES=["en","es","pt","id","fr","ar","tr","th","vi","de","it","ja","zh-CN","zh-TW","ru","ko","pl","nl","ro","hu","sv","cs","hi","bn","da","fa","tl","fi","iw","ms","no","uk"]},56698:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.sectionId&&e.sectionId===i.SECTIONS.FAVORITES)return(0,s.jsx)(o.default,{name:"panel-starred"});return(0,s.jsx)("span",{className:(0,r.default)(l),children:e.sectionTitle})};var r=a(n(56720)),i=n(40910),o=a(n(23217)),s=n(85893);const l={display:"l7jjieqr",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"}},80077:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(48360),i=n(67294),o=a(n(67662)),s=n(40910),l=a(n(56698)),u=n(93353),d=n(85893);function c(e,t){const n=(0,o.default)(t),a={[s.SECTIONS.FAVORITES]:r.fbt._("Favorites",null,{hk:"1DfDuo"}),[s.SECTIONS.TRENDING]:r.fbt._("Trending",null,{hk:"1wdavV"}),[s.SECTIONS.HAHA]:r.fbt._("Haha",null,{hk:"4B9bsP"}),[s.SECTIONS.SAD]:r.fbt._("Sad",null,{hk:"FWLcO"}),[s.SECTIONS.LOVE]:r.fbt._("Love",null,{hk:"2FLkDv"}),[s.SECTIONS.REACTIONS]:r.fbt._("Reactions",null,{hk:"pMe2Q"}),[s.SECTIONS.SPORTS]:r.fbt._("Sports",null,{hk:"4vNqmf"}),[s.SECTIONS.TV]:r.fbt._("TV",null,{hk:"Sinst"})},{sectionId:i}=e,c=a[i];return(0,d.jsx)(u.MenuTab,{onClick:e.onClick,sectionId:i,selected:e.selected,showFocusIndicator:e.showFocusIndicator,title:c,theme:u.THEMES.MENU,onRef:n,children:(0,d.jsx)(l.default,{sectionId:i,sectionTitle:c})})}var f=(0,i.forwardRef)(c);t.default=f},53638:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(89385),i=n(26741),o=n(67294),s=a(n(83037)),l=a(n(23217)),u=n(85893);function d(e,t){const{onSend:n,gif:a}=e,[d,c]=(0,o.useState)(null),f=(0,o.useRef)(null),[h,p]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[_,v]=(0,o.useState)(!1);(0,o.useEffect)((()=>{null!=d&&(h?d.paused&&d.play().catch((0,r.catchAbort)((()=>{}))):d.paused||(d.pause(),d.currentTime=0))}),[d,h]);const b=e=>{h===e&&m||(p(e),g(!0))},y=()=>{n(a)};(0,o.useImperativeHandle)(t,(()=>({setShouldAnimate:b})));let C,S=null;return m&&(S=i.UA.troublesWithLotsOfVideos&&a.nonVideoUrl?(0,u.jsx)("img",{className:s.default.body,onClick:y,src:a.nonVideoUrl}):(0,u.jsx)("video",{className:s.default.body,onClick:y,controls:!1,autoPlay:h,loop:!0,muted:!0,ref:c,src:a.previewUrl})),e.isStarred&&e.onUnstarMsg&&(C=(0,u.jsx)("button",{className:s.default.icon,onClick:e.onUnstarMsg,children:(0,u.jsx)(l.default,{name:"star"})})),(0,u.jsxs)("div",{ref:e=>{f.current=e},className:s.default.preview,tabIndex:"-1",onFocus:e=>{e.preventDefault(),e.stopPropagation(),v(!0)},onBlur:e=>{e.preventDefault(),e.stopPropagation(),v(!1)},style:{flexBasis:a.widthStr},children:[_&&(0,u.jsx)("div",{style:{flexBasis:a.widthStr},className:s.default.focusBorder}),(0,u.jsx)("div",{style:{width:a.widthStr},className:s.default.wrapper,children:(0,u.jsx)("div",{style:{paddingBottom:a.ratioStr},className:s.default.container,children:S})}),C]})}var c=(0,o.forwardRef)(d);t.default=c},28362:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GifSearch=void 0,t.getGifDimensions=W,t.giphyResultsToGifs=H;var i=r(n(48926)),o=n(89385),s=r(n(18569)),l=n(4352),u=n(57319),d=r(n(52013)),c=r(n(81602)),f=r(n(76139)),h=n(67294),p=r(n(59312)),m=r(n(16223)),g=r(n(89113)),_=r(n(3409)),v=n(24808),b=n(85600),y=r(n(26847)),C=n(59927),S=r(n(53638)),E=r(n(1659)),x=n(40910),T=n(29424),M=r(n(14296)),k=r(n(11339)),w=r(n(9294)),A=r(n(35609)),P=n(85893);const j="3o85xmWDYKgihhIKSA",I="DLAQBEYLJJIM",O={giphy:k.default.GIF_SEARCH_PROVIDER.GIPHY,tenor:k.default.GIF_SEARCH_PROVIDER.TENOR},N={giphy:v.Message$VideoMessageAttribution.GIPHY,tenor:v.Message$VideoMessageAttribution.TENOR},R=new s.default((function(e){switch((0,C.gifProvider)()){case"giphy":return function(){return V.apply(this,arguments)}(e);case"tenor":return function(){return q.apply(this,arguments)}(e);default:throw new Error(`Unrecognized provider ${(0,C.gifProvider)()}`)}}),{maxCached:6,maxAge:36e4,shouldCache:e=>!!(null==e?void 0:e.length)}),D="UP",L="DOWN",B="LEFT",F="RIGHT";function G(e,t){const{onGif:n,searchText:r,selectedSectionId:s,setIsFetching:f,scrollGifIntoViewIfNeeded:v}=e,y=(0,_.default)(),M=(0,p.default)(),[j,I]=(0,h.useState)([]),G=(0,h.useRef)(0),U=(0,h.useRef)(null),V=(0,h.useRef)(null),W=(0,h.useRef)(!1),H=(0,h.useRef)(null),q=(0,h.useRef)(!1),Y=(0,h.useRef)({}),z=(0,g.default)((()=>{const e=O[(0,C.gifProvider)()],t=r||s||x.SECTIONS.TRENDING;let n=R.getOrRun(t);n=n.then(),H.current=n,f(!0),n.then((t=>{var a;if(y.aborted)return;if(t&&0===t.length&&new k.default.GifSearchNoResults({gifSearchProvider:e}).commit(),n!==H.current)return;if(H.current=null,f(!1),!t)return;let r=(null===(a=V.current)||void 0===a?void 0:a.clientWidth)||0;r-=2*C.GAP_SIZE,q.current=!0,X.current.debounce(0),I(function(e,t){const n=[],a=.9*t;let r=e,i=null;for(let e=.05;e<1&&r.length;e+=.05){r.sort(((e,t)=>{const n=e.rank-t.rank;return Math.abs(n)>8?n:t.width-e.width}));const o=(1+e)*t,s=[],l=[];for(let e=0;e<r.length;e++){const t=r[e];let n=!1;const i=Math.min(o-t.width,a);for(let e=0;!n&&e<s.length;e++)s[e]<i&&(s[e]+=t.width+C.GAP_SIZE,l[e].push(t),n=!0);n||(s.push(t.width),l.push([t]))}if(1===l.length){r=[];const e=t-s[0]-C.GAP_SIZE;i={gifs:l[0],blankStr:e>0?`${e}px`:void 0}}else{r=[];for(let e=0;e<l.length;e++)s[e]>a?n.push(l[e]):r.push.apply(r,l[e])}}n.forEach((e=>e.sort(((e,t)=>e.rank-t.rank)))),n.sort(((e,t)=>e[0].rank-t[0].rank));const o=n.map((e=>({gifs:e,blankStr:void 0})));i&&o.push(i);return o}(t,r)),M()})).catch((0,o.catchAbort)((()=>{})))})),K=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Y.current[String(e)];null==n||n.setShouldAnimate(t)},$=(0,g.default)((()=>{const e=U.current,t=G.current+C.GAP_SIZE,n=Math.round(t/(C.TARGET_GIF_HEIGHT+C.GAP_SIZE)),a=j[n];if((null==a?void 0:a.gifs.length)&&a!==e){if(U.current=a,e)for(let t=0;t<e.gifs.length;t++)K(e.gifs[t].gifId,!1);for(let e=0;e<a.gifs.length;e++)K(a.gifs[e].gifId,!0)}[n+1,n-1].forEach((e=>{if(j[e]){const t=j[e].gifs;for(let e=0;e<t.length;e++)K(t[e].gifId,!1)}}))})),Q=(0,m.default)((()=>new u.ShiftTimer(z))),X=(0,m.default)((()=>new u.ShiftTimer($)));const J=(0,h.useRef)([]),Z=(0,h.useRef)({}),ee=(e,t)=>{const[n,a]=e;t?(Y.current[n]=t,Z.current[a]=t):(delete Y.current[n],delete Z.current[a])},te=(0,m.default)((()=>new w.default(ee))),ne=e=>{const t=O[e.attribution];new k.default.GifFromProviderSent({gifSearchProvider:t}).commit(),e.trending||"number"!=typeof e.rank||new k.default.GifSearchResultTapped({gifSearchProvider:t,rank:e.rank}).commit(),W.current=!0,n(e.url,N[e.attribution])},ae=()=>{const e=J.current.join("_"),t=Z.current[e];if(t){const e=t.messagePreviewRef;e&&(d.default.focus(e),v(e))}},re=function(){J.current=[0,0],ae()},ie=e=>{const t=J.current,[n,a,r,i,o]=[t[0],t[1],j[Math.min(t[0],j.length-1)].gifs.length-1,j[Math.min(t[0]+1,j.length-1)].gifs.length-1,j[Math.max(t[0]-1,0)].gifs.length-1],s=a/r;switch(e){case D:const e=Math.floor(o*s);return[Math.max(n-1,0),e];case L:return[n+1,Math.floor(i*s)]}return[0,0]},oe=e=>{var t,n;return null!==(t=null===(n=V.current)||void 0===n?void 0:n.contains(e))&&void 0!==t&&t},se=e=>{e&&(e.preventDefault(),e.stopPropagation())},le=(e,t)=>[Math.max(0,e),Math.max(0,t)],ue=(e,t)=>{const[n,a]=[J.current[0],J.current[1]];switch(t){case D:if(0===n)return;J.current=ie(D);break;case L:if(n===j.length-1)return;J.current=ie(L);break;case B:if(0===a&&0===n)return;J.current=0===a?le(n-1,j[n-1].gifs.length-1):le(n,a-1);break;case F:j[n]?j[n].gifs.length===a+1?J.current=le(n+1,0):J.current=le(n,a+1):J.current=[0,0]}se(e),ae()},de=(0,g.default)((()=>{Q.current.debounceAndCap(200,2e3)})),ce=e=>{G.current=e.scrollTop,X.current.debounce(200)};(0,h.useEffect)((()=>{const e=new a,{signal:t}=e;return(0,l.promiseLoop)((0,i.default)((function*(){if(y.aborted)throw new o.AbortError;yield(0,A.default)(c.default,"change:online",(()=>c.default.online),t),de()}))).catch((0,o.catchAbort)((()=>{}))),z(),new k.default.GifSearchSessionStarted({gifSearchProvider:O[(0,C.gifProvider)()]}).commit(),()=>{X.current.cancel(),Q.current.cancel(),e.abort(),W.current||new k.default.GifSearchCancelled({gifSearchProvider:O[(0,C.gifProvider)()]}).commit()}}),[]),(0,h.useEffect)((()=>{de()}),[de,r]),(0,h.useImperativeHandle)(t,(()=>({contains:oe,initSelection:re,animateOnScroll:ce})));const fe=j.map(((e,t)=>{const n=e.gifs.map(((e,n)=>(0,P.jsx)(S.default,{ref:te.current.getRefSetter([`${e.gifId}`,`${t}_${n}`]),gif:e,onSend:ne},e.gifId)));let a=null;return e.blankStr&&(a=(0,P.jsx)("div",{className:E.default.blank,style:{flexBasis:e.blankStr}})),(0,P.jsxs)("div",{className:E.default.row,children:[n,a]},t)})),he=e.selectedSectionId!==x.SECTIONS.FAVORITES&&(0===fe.length?(0,P.jsx)("div",{className:E.default.noResults,children:e.searchText?(0,P.jsx)(b.SearchWithoutKeyword,{}):(0,P.jsx)(b.Loading,{})}):(0,P.jsx)(T.HotKeys,{className:E.default.section,handlers:{up:e=>{ue(e,D)},down:e=>{ue(e,L)},left:e=>{ue(e,B)},right:e=>{ue(e,F)},enter:e=>{se(e);const t=J.current,[n,a]=[t[0],t[1],t[2]];ne(j[n].gifs[a])}},children:fe}));return(0,P.jsx)("div",{className:E.default.searchContainer,ref:e=>{V.current=e,null!=e&&e&&q.current&&(e.scrollTop=0)},children:he})}const U=(0,h.memo)((0,h.forwardRef)(G),((e,t)=>{let{onGif:n,selectedSectionId:a,searchText:r}=t;return!(e.onGif!==n||e.selectedSectionId!==a||e.searchText!==r)}));function V(){return(V=(0,i.default)((function*(e){const t=e===x.SECTIONS.TRENDING;let n;if(t)n=f.default.build("https://api.giphy.com/v1/gifs/trending",{api_key:j,limit:100,rating:"pg-13"});else{const t=M.default.getLocale();let a=t;switch(t){case"zh-HK":a="zh-TW";break;case"pt-BR":a="pt"}let r="";C.GIPHY_LOCALES.includes(a)&&(r=a),n=f.default.build("https://api.giphy.com/v1/gifs/search",{q:e,api_key:j,limit:100,rating:"pg-13",lang:r})}try{const e=yield(0,y.default)(n);if(!e.ok)throw new Error(e.statusText);return H(yield e.json(),t)}catch(e){return __LOG__(4,void 0,new Error)`gif_search:searchGiphy fetch failed with an error : ${e}`,null}}))).apply(this,arguments)}function W(e,t){if(e){const t=parseInt(e.width,10),n=parseInt(e.height,10);if(t&&n)return{width:t,height:n};__LOG__(4,void 0,new Error,!0)`gif_search:getGifDimensions fullContent does not have valid dimensions'`,SEND_LOGS("gif_search:getGifDimensions fullContent does not have valid dimensions")}if(t){const e=parseInt(t.width,10),n=parseInt(t.height,10);if(e&&n)return{width:C.TARGET_GIF_HEIGHT*e/n,height:C.TARGET_GIF_HEIGHT};__LOG__(4,void 0,new Error,!0)`gif_search:getGifDimensions original does not have valid dimensions`,SEND_LOGS("gif_search:getGifDimensions original does not have valid dimensions")}return{width:C.TARGET_GIF_HEIGHT,height:C.TARGET_GIF_HEIGHT}}function H(e,t){if(!e||!Array.isArray(e.data))return[];if(!e.data.length&&t)return[];const n=e.data,a=[];for(let e=0;e<n.length;e++){const r=n[e].images;if(!r)continue;const{original:i,preview:o,downsized_small:s,preview_webp:l,preview_gif:u}=r;if(!s)continue;const d=s.mp4;if(!d)continue;const{width:c,height:f}=W(s,i);a.push(new C.GifInfo(a.length,d,parseInt(s.mp4_size,10),(null==o?void 0:o.mp4)||void 0,(null==l?void 0:l.url)||(null==u?void 0:u.url)||void 0,Math.round(c*C.TARGET_GIF_HEIGHT/f),C.GIPHY,t))}return 0===a.length&&n.length>0&&(__LOG__(4,void 0,new Error,!0)`gif_search: All the gifs were skipped, check if there is a change in giphys response`,SEND_LOGS("gif_search: All the gifs were skipped, check if there is a change in giphys response")),a}function q(){return(q=(0,i.default)((function*(e){const t=e===x.SECTIONS.TRENDING,n=M.default.getLocale().replace("-","_");let a;a=t?f.default.build("https://wa.tenor.co/v1/trending",{key:I,limit:50,contentfilter:"high",locale:n}):f.default.build("https://wa.tenor.co/v1/search",{q:e,key:I,limit:50,contentfilter:"high",locale:n});try{const e=yield(0,y.default)(a);if(!e.ok)throw new Error(e.statusText);return Y(yield e.json())}catch(e){return __LOG__(4,void 0,new Error)`gif_search:searchTenor fetch failed with an error : ${e}`,null}}))).apply(this,arguments)}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!Array.isArray(e.results))return[];const n=e.results,a=[];for(let e=0;e<n.length;e++){const r=n[e];if(!r||!r.media||!r.media[0])continue;const{tinymp4:i,previewmp4:o,previewgif:s}=r.media[0];if(!i)continue;const[l,u]=i.dims;a.push(new C.GifInfo(a.length,i.url,i.size,(null==o?void 0:o.url)||void 0,(null==s?void 0:s.url)||void 0,Math.round(l*C.TARGET_GIF_HEIGHT/u),C.TENOR,t))}return a}t.GifSearch=U},40910:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=t.ORDERED_TAB_SECTION_IDS=void 0;var r=a(n(49777));const i={FAVORITES:"FAVORITES",[r.default.TRENDING]:r.default.TRENDING,[r.default.HAHA]:r.default.HAHA,[r.default.SAD]:r.default.SAD,[r.default.LOVE]:r.default.LOVE,[r.default.REACTIONS]:r.default.REACTIONS,[r.default.SPORTS]:r.default.SPORTS,[r.default.TV]:r.default.TV};t.SECTIONS=i;const o={[i.FAVORITES]:i.FAVORITES,[i.TRENDING]:i.TRENDING,[i.HAHA]:i.HAHA,[i.SAD]:i.SAD,[i.LOVE]:i.LOVE,[i.REACTIONS]:i.REACTIONS,[i.SPORTS]:i.SPORTS,[i.TV]:i.TV},s=[o.FAVORITES,o.TRENDING,o.HAHA,o.SAD,o.LOVE,o.REACTIONS,o.SPORTS,o.TV];t.ORDERED_TAB_SECTION_IDS=s},30524:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GifPanel=void 0;var r=a(n(91747)),i=a(n(45095)),o=a(n(40436)),s=n(67294),l=a(n(16223)),u=a(n(55010)),d=a(n(37453)),c=a(n(90886)),f=a(n(74570)),h=n(57297),p=n(59927),m=n(28362),g=n(40910),_=n(29424),v=a(n(50725)),b=a(n(91258)),y=a(n(14296)),C=n(99951),S=a(n(11339)),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(78756)),x=n(54222),T=a(n(80077)),M=n(85893);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function w(e){e&&(e.preventDefault(),e.stopPropagation())}const A=(0,s.forwardRef)(((e,t)=>{var n;const a=(0,s.useRef)(),k=(0,s.useRef)(),A=(0,s.useRef)(),P=(0,s.useRef)(),j=(0,s.useRef)(0),I=(0,s.useRef)(!1),O=(0,s.useRef)(0),N=(0,s.useRef)(),R=(0,s.useRef)(0),D=(0,l.default)((()=>g.ORDERED_TAB_SECTION_IDS.filter((e=>e!==g.SECTIONS.FAVORITES)))),L=(0,r.default)(e.displayCache||{},{scrollTop:0,showSearchInput:!0}),[B,F]=(0,s.useState)(!L.scrollTop),[G,U]=(0,s.useState)(e.defaultSearchText||null),V=(0,d.default)(G),[W,H]=(0,s.useState)(L.showSearchInput),[q,Y]=(0,s.useState)(0===L.scrollTop),[z,K]=(0,s.useState)(L.selectedSectionId||g.SECTIONS.TRENDING),[$,Q]=(0,s.useState)(!1),[X,J]=(0,s.useState)(-1),[Z,ee]=(0,s.useState)(!1),te=(0,s.useRef)(new Map);V!==G&&P.current&&(G?P.current.scrollTop=0:null!=N.current&&0!==N.current&&(P.current.scrollTop=N.current));const ne=e=>{A.current?A.current.focus(e):(I.current=!0,H(!0))};(0,s.useEffect)((()=>{W&&ne()}),[W]),(0,s.useImperativeHandle)(t,(()=>({getElement:()=>a.current,focusSearchInput(e){ne(e)},restoreFocus(e){ne(e)}})));const ae=(0,f.default)();(0,s.useEffect)((()=>{var t;R.current=Date.now();const n=null===(t=e.displayCache)||void 0===t?void 0:t.scrollTop,a=P.current;a&&null!=n&&0!==n&&(a.scrollTop=n),ae((()=>{ne(),new S.default.WebcEmojiOpen({webcEmojiOpenTab:"GIF"}).commit(),F(!1)}))}),[]);const re=(0,c.default)((()=>{var e;const t=P.current;if(null==z&&G&&t&&k.current)return void k.current.animateOnScroll(t);if(Date.now()-R.current<h.SCROLL_CLICK_TIME_GAP)return;if(B&&F(!1),!t)return;const n=t.scrollTop;Y(n<=0);const a=j.current-n,r=Math.abs(a)>h.INPUT_BAR_SCROLL_SENSITIVITY;I.current=Math.abs(a)>h.INPUT_BAR_SCROLL_FAST,a<0?W&&(n>h.INPUT_HIDE_POINT&&r||j.current<h.INPUT_HIDE_POINT&&n>=h.INPUT_HIDE_POINT)&&H(!1):W||(r||n<h.INPUT_SHOW_POINT)&&H(!0),null===(e=k.current)||void 0===e||e.animateOnScroll(t),j.current=n}),h.SCROLL_THROTTLE_TIME);(0,u.default)((()=>{var t;const n=P.current;e.onDisplayCache({scrollTop:null!==(t=null==n?void 0:n.scrollTop)&&void 0!==t?t:0,showSearchInput:W,selectedSectionId:z})}));const ie=e=>{var t;w(e),null===(t=k.current)||void 0===t||t.initSelection()},oe=(t,n)=>{var a,r;(w(n),null==G)&&(N.current=null===(r=P.current)||void 0===r?void 0:r.scrollTop);null===(a=e.onChange)||void 0===a||a.call(e,t,n),U(t),Q(!1)},se=()=>{var e;const t=null!=z?z:D.current[0];null===(e=te.current.get(t))||void 0===e||e.focus(),J(D.current.indexOf(z))},le=t=>{var n,a;H(!0),K(t),U(t===g.SECTIONS.FAVORITES?null:t),Q(!0),null===(n=e.onChange)||void 0===n||n.call(e,""),null===(a=A.current)||void 0===a||a.focus(!1)};let ue=null;W&&(ue=(0,M.jsx)(x.PanelSearchInput,{label:y.default.t(572,{service:p.BRAND_NAMES[(0,p.gifProvider)()]}),onChange:oe,onUpKey:se,onDownKey:ie,ref:A,shadow:!q,tabFocused:$,value:G||""}));const de=I.current?"emoji-search-slide-away-fast":"emoji-search-slide-away",ce=(0,M.jsx)(o.default,{transitionName:de,children:ue});return(0,M.jsxs)(_.HotKeys,{ref:a,handlers:{tab:t=>{if(w(t),A.current)return A.current.hasFocus()?void e.onFocusNext():ne()},"shift+tab":t=>{if(w(t),A.current)return A.current.hasFocus()?void e.onFocusPrev():ne()},up:e=>{const t=null==e?void 0:e.nativeEvent.target;t instanceof HTMLElement&&!!k.current&&k.current.contains(t)&&(ne(),w(e))},down:e=>{var t;const n=null==e?void 0:e.nativeEvent.target;var a;n instanceof Node&&(null===(t=k.current)||void 0===t?void 0:t.contains(n))&&(null===(a=k.current)||void 0===a||a.initSelection(!1),w(e))}},children:[(0,M.jsx)(v.default,{selectedSectionId:z,sectionIds:D.current,renderSectionTab:(e,t)=>(0,M.jsx)(T.default,{onClick:le,sectionId:e,selected:t,showFocusIndicator:-1!==X,ref:t=>{te.current.set(e,t)}},e),showTabHighlight:!(null===(n=e.defaultSearchText)||void 0===n?void 0:n.trim()),onFocusPrev:()=>{var e;const t=(D.current.length+X-1)%D.current.length,n=D.current[t];null===(e=te.current.get(n))||void 0===e||e.focus(),J(t)},onFocusNext:()=>{var e;const t=(X+1)%D.current.length,n=D.current[t];null===(e=te.current.get(n))||void 0===e||e.focus(),J(t)},onEnter:()=>{const e=D.current[X];J(-1),le(e)},onFocusLeave:()=>{ne(),J(-1)}}),(0,M.jsxs)("div",{className:b.default.gifPanel,children:[(0,M.jsx)(C.LoadingIndicator,{loading:Z}),(0,M.jsxs)("div",{className:b.default.bodyContainer,onMouseDown:e=>{w(e),ne()},children:[ce,(0,M.jsx)("div",{className:b.default.panelBody,onScroll:re,ref:P,children:(0,M.jsx)(m.GifSearch,{ref:k,onGif:(0,i.default)(e.onGif,"props.onGif"),searchText:(G||"").replace(/^\s+/,""),scrollGifIntoViewIfNeeded:e=>{const t=P.current;t&&e.offsetTop-t.scrollTop<h.INPUT_BAR_TOTAL_HEIGHT&&E.scrollIntoView(e,!0,t)},selectedSectionId:z,setIsFetching:e=>{if(e){const e=Date.now()-O.current;e<h.MINIMUM_LOADING_TIME?window.setTimeout((()=>ee(!1)),h.MINIMUM_LOADING_TIME-e):ee(!1)}else ee(!0),O.current=Date.now()}})})]})]})]})}));t.GifPanel=A,A.displayName="GifPanel"},99951:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingIndicator=function(e){return(0,i.jsx)("div",{className:(0,r.default)(o.barContainer),role:"progressbar",children:e.loading&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:(0,r.default)(o.movingBarCommon,o.movingBar1)}),(0,i.jsx)("span",{className:(0,r.default)(o.movingBarCommon,o.movingBar2)})]})})},t.styles=void 0;var r=a(n(56720)),i=n(85893);const o={barContainer:{position:"g0rxnol2",width:"ln8gz9je",height:"f4pf1esu",overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundColor:"qqhth2cz",borderEnd:"pdo9fnbd",borderStart:"hqx4twni"},movingBarCommon:{position:"lhggkp7q",top:"qq0sjtgm",bottom:"jxacihee",start:"tkdu00h0",width:"gofbmt1g",backgroundColor:"bq39o27w",transitionProperty:"bo8jc6qi",transitionDuration:"hswow7x1",transitionTimingFunction:"lu2z1zfr",transformOrigin:"o12a8ak1",display:"f804f6gw",animationDuration:"dn50c4kw",animationTimingFunction:"ls0cxkps",animationIterationCount:"tkmeqcnu"},movingBar1:{animationName:"pewhpk3o"},movingBar2:{animationName:"rnigfn14"}};t.styles=o},49357:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)("div",{role:e.role,className:(0,r.default)(i.default.container,e.className),onMouseDown:e=>{e.stopPropagation()},children:e.children})};var r=a(n(94184)),i=a(n(64827)),o=n(85893)},50725:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let n=-1;const a=e.sectionIds.map(((t,a)=>{let r=!1;return t===e.selectedSectionId&&(e.showTabHighlight?(n=a,r=!0):n=-1),e.renderSectionTab(t,r)}));return(0,u.jsx)(o.HotKeys,{component:"div",handlers:(0,r.default)({"shift+tab":e.onFocusPrev,tab:e.onFocusNext,down:e.onFocusLeave,left:()=>{var t,n;s.default.isRTL()?null===(t=e.onFocusNext)||void 0===t||t.call(e):null===(n=e.onFocusPrev)||void 0===n||n.call(e)},right:()=>{var t,n;s.default.isRTL()?null===(t=e.onFocusPrev)||void 0===t||t.call(e):null===(n=e.onFocusNext)||void 0===n||n.call(e)},enter:e.onEnter,space:e.onEnter}),children:(0,u.jsxs)(i.default,{children:[(0,u.jsx)(l.default,{numTabs:e.sectionIds.length,selectedTabIndex:n,animate:null===(t=e.showTabHighlight)||void 0===t||t}),a]})})};var r=a(n(15206)),i=a(n(49357)),o=n(29424),s=a(n(14296)),l=a(n(24649)),u=n(85893)},93353:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES=t.MenuTab=void 0;var r=a(n(18446)),i=a(n(99964)),o=a(n(52013)),s=a(n(94184)),l=n(67294),u=a(n(30462)),d=n(85893);const c={CAROUSEL:"CAROUSEL",CAROUSEL_END:"CAROUSEL_END",MENU:"MENU",NONE:"NONE"};t.THEMES=c;class f extends l.PureComponent{constructor(){super(...arguments),this._handleClick=e=>{this.props.onClick&&this.props.onClick(this.props.sectionId,e)},this._setRefTab=e=>{var t,n;this._refTab=e,null===(t=(n=this.props).onRef)||void 0===t||t.call(n,e)}}_getStyle(e){return(0,r.default)(this._style,e)||(this._style=e),this._style}hasFocus(){return!!document.activeElement&&this._refTab===document.activeElement}focus(){this._refTab&&(this.hasFocus()||o.default.focus(this._refTab))}render(){const{theme:e,title:t,a8n:n,role:a="button"}=this.props;return(0,d.jsx)("div",{ref:this._setRefTab,role:a,className:(0,s.default)(u.default.tab,{[u.default.menu]:e===c.MENU,[u.default.carousel]:e===c.CAROUSEL||e===c.CAROUSEL_END,[u.default.carouselEnd]:e===c.CAROUSEL_END,[u.default.selected]:this.props.selected,[u.default.highlightOnFocus]:this.props.showFocusIndicator}),onClick:this._handleClick,style:this._getStyle({width:this.props.width,transform:this.props.transform}),title:t,tabIndex:"0","data-a8n":i.default.key(n),children:this.props.children})}}t.MenuTab=f,f.displayName="MenuTab"},24649:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=n(67294),o=a(n(16223)),s=a(n(37453)),l=a(n(14296)),u=a(n(71414)),d=n(85893);function c(e){const t=(0,o.default)((()=>l.default.isRTL()?-1:1)),n=(0,s.default)(e.selectedTabIndex);let a,i,c;return c=(-1!==n||e.selectedTabIndex===n)&&Boolean(e.animate),-1!==e.selectedTabIndex?(i=`translateX(${100*e.selectedTabIndex*t.current}%)`,a="4px"):-1!==n&&-1===e.selectedTabIndex&&(a="0px"),(0,d.jsx)("div",{className:(0,r.default)(u.default.menuTabsMarker,{[u.default.hide]:e.hide,[u.default.animate]:!c&&e.animate,[u.default.animateWithTransform]:c}),style:{width:100/e.numTabs+"%",transform:i,height:a}})}var f=(0,i.memo)(c);t.default=f},54222:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PanelSearchInput=t.HEIGHT=void 0;var r=a(n(99964)),i=a(n(45120)),o=a(n(52013)),s=n(55715),l=n(26741),u=a(n(94184)),d=n(67294),c=n(29424),f=a(n(14296)),h=a(n(97802)),p=n(52596),m=a(n(23217)),g=n(85893);t.HEIGHT=56;const _=(0,d.forwardRef)(((e,t)=>{const n=(0,d.useRef)(),a=(0,d.useRef)(),[_,v]=(0,d.useState)(e.value||"");null!=e.value&&e.value!==_&&v(e.value);const b=()=>!!document.activeElement&&n.current===document.activeElement,y=e=>{const t=n.current;t&&(b()||(o.default.focus(t),e&&i.default.indicateFocus(a.current)))};(0,d.useImperativeHandle)(t,(()=>({focus:y,hasFocus:b})));const C=t=>{var n;v(""),null===(n=e.onChange)||void 0===n||n.call(e,"",t)};let S=null;return _&&!e.tabFocused&&(S=(0,g.jsx)("button",{className:h.default.cancelIcon,onClick:C,children:(0,g.jsx)(m.default,{name:"x-alt-small"})})),(0,g.jsx)(c.HotKeys,{handlers:{enter:t=>{var n;t.preventDefault(),t.stopPropagation(),null===(n=e.onEnterKey)||void 0===n||n.call(e,t)},up:t=>{var n;t.stopPropagation(),t.preventDefault(),null===(n=e.onUpKey)||void 0===n||n.call(e,t)},down:t=>{var n;t.stopPropagation(),t.preventDefault(),null===(n=e.onDownKey)||void 0===n||n.call(e,t)}},"data-tab":s.TAB_ORDER.PANEL_SEARCH_INPUT,className:(0,u.default)(h.default.searchRow,{[h.default.ffFix]:l.UA.isGecko,[h.default.rowShadow]:e.shadow}),onFocus:()=>y(),children:(0,g.jsx)("label",{ref:a,className:h.default.rowInput,children:(0,g.jsxs)("div",{className:h.default.inputContainer,children:[(0,g.jsx)("input",{"data-a8n":r.default.key("input-emoji-search"),ref:n,className:(0,u.default)(h.default.inputEmojiSearch,p.SELECTABLE_INPUT_CSS_CLASS),type:"text",role:"searchbox",dir:f.default.isRTL()?"rtl":"ltr",value:e.tabFocused?"":_,title:e.label,placeholder:e.label,onMouseDown:e=>{e.stopPropagation()},onChange:t=>{var n;v(t.target.value),null===(n=e.onChange)||void 0===n||n.call(e,t.target.value,t)}}),S]})})},"search-input")}));t.PanelSearchInput=_},64894:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(52013)),i=n(8139),o=a(n(94184)),s=n(67294),l=n(87550),u=a(n(55010)),d=a(n(89113)),c=a(n(74570)),f=n(28325),h=a(n(45189)),p=n(66299),m=n(5446),g=a(n(24315)),_=n(85893);const v=e=>{e&&(e.preventDefault(),e.stopPropagation())};function b(e,t){const{displayLocation:n=f.DisplayLocation.Dropdown,displayCache:a,onFocusPrev:b,onFocusNext:y,onDisplayCache:C}=e,S=(0,s.useRef)(null),E=(0,s.useRef)(null),x=(0,s.useRef)(null),T=(0,s.useRef)(null),M=(0,s.useRef)(null),[k,w]=(0,s.useState)((()=>p.StickerPackCollection.hasFetchedData())),[A,P]=(0,s.useState)(p.StickerPackCollection.length>0),[j,I]=(0,s.useState)(!1),[O,N]=(0,s.useState)((()=>a&&null!=a.selectedStickerPackIndex?a.selectedStickerPackIndex:0)),R=()=>{b()},D=()=>{y()},L=(0,c.default)(),B=(0,d.default)((()=>{L((()=>{if(x.current){if(document.activeElement===x.current)return;r.default.focus(x.current)}else M.current&&M.current.focus()}))})),F=e=>{v(e),B()},G=e=>{v(e),R()},U=e=>{v(e),D()};(0,s.useImperativeHandle)(t,(()=>({restoreFocus:B}))),(0,u.default)((()=>{null==C||C({scrollTop:S.current,selectedStickerPackIndex:O})})),(0,l.useListener)(p.StickerPackCollection,["change:length","change:pageFetchStates"],(()=>{w(p.StickerPackCollection.hasFetchedData()),P(p.StickerPackCollection.length>0)}));const V=(0,c.default)();(0,s.useEffect)((()=>{V((()=>{B(),p.StickerPackCollection.fetchAt(0)}))}),[B,V]);const W=(0,i.isRecentStickersEnabled)(),H=(0,i.isStarredStickersEnabled)(),q=(W?1:0)+(H?1:0);if(!W&&k&&!A)return(0,_.jsx)(m.StickerPanelEmpty,{containerClassName:h.default.panelContainer,onClick:F,onFocusPrev:G,onFocusNext:U,ref:x});const Y=(0,o.default)(h.default.panelContainer,{[h.default.panelDropdown]:n===f.DisplayLocation.Dropdown});return(0,_.jsxs)("div",{className:Y,onClick:F,ref:E,children:[(0,_.jsx)(g.default,{ref:M,displayLocation:n,onFocusBelow:e=>{v(e),T.current&&T.current.focus()},onFocusNext:e=>{v(e),D()},onFocusPrev:e=>{v(e),R()},onItemClick:e=>{N(e)},selectedStickerPackIndex:O,shadow:j,recentStickersEnabled:W,starredStickersEnabled:H,specialItemsCount:q}),(0,_.jsx)(m.StickerPanelContent,{ref:T,displayLocation:n,onFocusNext:e=>{v(e),M.current&&M.current.focus()},onFocusPrev:e=>{v(e),M.current&&M.current.focus()},onScroll:e=>{let{scrollTop:t}=e;S.current=t,I(t>0)},onSticker:e.onSticker,selectedStickerPackIndex:O,recentStickersEnabled:W,starredStickersEnabled:H,specialItemsCount:q})]})}var y=(0,s.forwardRef)(b);t.default=y},7380:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(41455),i=a(n(94184)),o=n(48360),s=n(67294),l=a(n(16223)),u=a(n(55010)),d=a(n(95402)),c=a(n(74570)),f=(n(57849),n(57297)),h=n(28325),p=a(n(45189)),m=a(n(50725)),g=a(n(16074)),_=a(n(52411)),v=n(44333),b=n(76626),y=a(n(23217)),C=n(93353),S=n(85893);var E=(0,s.forwardRef)(((e,t)=>{var n,a;const{displayLocation:o=h.DisplayLocation.Dropdown}=e,E=(0,d.default)(),M=o===h.DisplayLocation.ComposeBox;const k=(0,s.useMemo)((()=>{const e=[];return e.push(f.StickerTabs.RECENTS),e.push(f.StickerTabs.LOVE,f.StickerTabs.GREETINGS,f.StickerTabs.HAPPY,f.StickerTabs.SAD,f.StickerTabs.ANGRY,f.StickerTabs.CELEBRATE),M&&e.push(f.StickerTabs.STORE),e}),[M]),w=(0,s.useRef)(),A=(0,s.useRef)(),P=(0,s.useRef)(),j=(0,l.default)((()=>new Map)),[I,O]=(0,s.useState)((null===(n=e.displayCache)||void 0===n?void 0:n.selectedTab)||f.StickerTabs.RECENTS),[N,R]=(0,s.useState)(-1);(0,u.default)((()=>{var t;null===(t=e.onDisplayCache)||void 0===t||t.call(e,{scrollTop:A.current,selectedTab:I})}));const D=(0,c.default)(),L=()=>D((()=>{const e=P.current;e&&e.focus()}));(0,s.useImperativeHandle)(t,(()=>({restoreFocus:L,getElement:()=>w.current})));const B=(0,c.default)(),F=(t,n)=>{var a,i,o;if(null==n||n.preventDefault(),t===f.StickerTabs.STORE)return r.DrawerManager.openDrawerRight((0,S.jsx)(b.StickerStoreFlowLoadable,{onSticker:e.onSticker}),"slide-left",E),void B((()=>{v.StickerPackCollectionMd.fetch()}));O(t),null===(a=P.current)||void 0===a||a.clearSearchText(),null===(i=e.onChange)||void 0===i||i.call(e,""),null===(o=P.current)||void 0===o||o.focus()},G=(0,i.default)(p.default.panelContainer,{[p.default.panelDropdown]:o===h.DisplayLocation.Dropdown});return(0,S.jsxs)("div",{className:G,ref:w,children:[(0,S.jsx)(m.default,{selectedSectionId:I,sectionIds:k,renderSectionTab:(e,t)=>{const n=x(e),a=function(e){switch(e){case f.StickerTabs.FAVORITES:return(0,S.jsx)(y.default,{name:"panel-starred"});case f.StickerTabs.RECENTS:return(0,S.jsx)(y.default,{name:"panel-recent"});case f.StickerTabs.STORE:return(0,S.jsx)(y.default,{name:"panel-add"});default:return x(e)}}(e),r=function(e){switch(e){case f.StickerTabs.STORE:return"sticker-store";default:return null}}(e);return(0,S.jsx)(C.MenuTab,{onClick:F,sectionId:e,selected:t,showFocusIndicator:-1!==N,title:n,theme:C.THEMES.MENU,a8n:r,onRef:t=>{j.current.set(e,t)},children:(0,S.jsx)("span",{className:g.default.tabIconOrText,children:a})},n)},showTabHighlight:!(null===(a=e.defaultSearchText)||void 0===a?void 0:a.trim()),onFocusPrev:e=>{var t;T(e);const n=(k.length+N-1)%k.length,a=k[n];null===(t=j.current.get(a))||void 0===t||t.focus(),R(n)},onFocusNext:e=>{var t;T(e);const n=(N+1)%k.length,a=k[n];null===(t=j.current.get(a))||void 0===t||t.focus(),R(n)},onEnter:()=>{R(-1),F(k[N])},onFocusLeave:e=>{T(e),L(),R(-1)}}),(0,S.jsx)(_.default,{ref:P,onFocusUp:e=>{var t;T(e),null===(t=j.current.get(I))||void 0===t||t.focus(),R(k.indexOf(I))},onFocusNext:t=>{T(t),e.onFocusNext()},onFocusPrev:t=>{T(t),e.onFocusPrev()},onScroll:e=>{let{scrollTop:t}=e;A.current=t},onChange:e.onChange,onSticker:e.onSticker,defaultSearchText:e.defaultSearchText,selectedTab:I,displayLocation:o})]})}));function x(e){switch(e){case f.StickerTabs.FAVORITES:return o.fbt._("Favorite",null,{hk:"220ZUF"});case f.StickerTabs.RECENTS:return o.fbt._("Recent",null,{hk:"mC0w6"});case f.StickerTabs.LOVE:return o.fbt._("Love",null,{hk:"pEMWC"});case f.StickerTabs.GREETINGS:return o.fbt._("Greetings",null,{hk:"2lQ4uh"});case f.StickerTabs.HAPPY:return o.fbt._("Happy",null,{hk:"4dLwqt"});case f.StickerTabs.SAD:return o.fbt._("Sad",null,{hk:"4nYiDm"});case f.StickerTabs.ANGRY:return o.fbt._("Angry",null,{hk:"228rrU"});case f.StickerTabs.CELEBRATE:return o.fbt._("Celebrate",null,{hk:"2dAtNz"});case f.StickerTabs.STORE:return o.fbt._("WhatsApp Sticker Store",null,{hk:"1G3CwR"})}}function T(e){e&&(e.preventDefault(),e.stopPropagation())}t.default=E},5446:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPanelEmpty=t.StickerPanelContent=void 0;var r=a(n(94184)),i=n(48360),o=a(n(15206)),s=n(67294),l=n(29424),u=a(n(86537)),d=a(n(11339)),c=a(n(1388)),f=a(n(17385)),h=a(n(98178)),p=a(n(48371)),m=n(85893);function g(e){let{onFocusPrev:t,onSticker:n,recentStickersEnabled:a,selectedStickerPackIndex:r,onScroll:i,displayLocation:o,starredStickersEnabled:s,specialItemsCount:l,scrollGridRef:u}=e;const c=e=>{n(e,d.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_RECENTS)},g=e=>{n(e,d.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_FAVORITES)};return a&&0===r?(0,m.jsx)(f.default,{ref:u,onFocusPrev:t,onScroll:i,onStickerClick:c,onStickerEnter:c,displayLocation:o}):s&&1===r?(0,m.jsx)(p.default,{ref:u,onFocusPrev:t,onScroll:i,onStickerClick:g,onStickerEnter:g}):(0,m.jsx)(h.default,{ref:u,onFocusPrev:t,onScroll:i,onStickerClick:n,onStickerEnter:n,selectedStickerPackIndex:r-l})}function _(e,t){const{onFocusPrev:n,onSticker:a,recentStickersEnabled:i,selectedStickerPackIndex:d,onScroll:c,displayLocation:f,starredStickersEnabled:h,specialItemsCount:p}=e,_=(0,s.useRef)(null),v=()=>{_.current&&_.current.focus()};(0,s.useImperativeHandle)(t,(()=>({focus:v})));const b=(0,r.default)(u.default.container);return(0,m.jsx)(l.HotKeys,{className:b,handlers:(0,o.default)({"shift+tab":e.onFocusPrev,tab:e.onFocusNext}),children:(0,m.jsx)(g,{onFocusPrev:n,onSticker:a,recentStickersEnabled:i,selectedStickerPackIndex:d,onScroll:c,displayLocation:f,starredStickersEnabled:h,specialItemsCount:p,scrollGridRef:_})})}const v=(0,s.forwardRef)(_);t.StickerPanelContent=v;const b=(0,s.forwardRef)(((e,t)=>{let{containerClassName:n,onClick:a,onFocusPrev:o,onFocusNext:s}=e;return(0,m.jsxs)("div",{className:(0,r.default)(n,u.default.emptyContainer),onClick:a,children:[(0,m.jsx)("div",{className:u.default.emptySticker,style:{backgroundImage:`url(${c.default})`}}),(0,m.jsx)(l.HotKeys,{handlers:{"shift+tab":o,tab:s},ref:t,children:(0,m.jsx)("p",{className:u.default.emptyText,children:i.fbt._("You don't have any stickers yet. Download sticker packs on your phone to get started.",null,{hk:"4z1HMS"})})})]})}));t.StickerPanelEmpty=b,b.displayName="StickerPanelEmpty"},52411:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(40436)),o=a(n(94184)),s=n(48360),l=a(n(15206)),u=n(67294),d=a(n(51799)),c=n(87550),f=a(n(90886)),h=n(46428),p=n(57297),m=n(29424),g=a(n(86537)),_=n(99951),v=a(n(11339)),b=n(54222),y=a(n(3903)),C=a(n(91864)),S=a(n(52444)),E=n(45068),x=n(80367),T=n(85893);const M=(0,u.forwardRef)(((e,t)=>{if(e.searchText)return(0,T.jsx)(x.StickerPackStickersScrollGrid,{ref:t,onFocusPrev:e.onFocusPrev,onStickerClick:e.onStickerClick,searchText:e.searchText,resetScroll:e.resetScroll});if(e.selectedTab===p.StickerTabs.FAVORITES)return(0,T.jsx)(C.default,{ref:t,onFocusPrev:e.onFocusPrev,onStickerClick:e.onStickerClick,resetScroll:e.resetScroll});if(e.selectedTab===p.StickerTabs.RECENTS)return(0,T.jsx)(S.default,{ref:t,onFocusPrev:e.onFocusPrev,onStickerClick:e.onStickerClick,resetScroll:e.resetScroll,displayLocation:e.displayLocation});return null!=(0,p.convertTabToMood)(e.selectedTab)?(0,T.jsx)(x.StickerPackStickersScrollGrid,{ref:t,selectedTab:e.selectedTab,onFocusPrev:e.onFocusPrev,onStickerClick:e.onStickerClick,searchText:e.searchText,resetScroll:e.resetScroll}):(__LOG__(4,void 0,new Error,!0)`_renderStickerScrollGrid attempted with an invalid selectedTab: ${e.selectedTab}`,SEND_LOGS("_renderStickerScrollGrid attempted with an invalid selectedTab"),null)}));var k=(0,u.forwardRef)(((e,t)=>{const{defaultSearchText:n,selectedTab:a}=e,C=function(){const[e,t]=(0,u.useState)(!1),[n,a]=(0,u.useState)(!0),[r]=(0,h.useTimeout)((()=>{a(!0)}),p.MINIMUM_LOADING_TIME);return(0,c.useListener)(E.StickerSearchCollection,"start_fetching",(()=>{t(!0),a(!1),r()})),(0,c.useListener)(E.StickerSearchCollection,"stop_fetching",(()=>{t(!1)})),e||!n}(),S=(0,u.useRef)(!1),x=(0,u.useRef)(),k=(0,u.useRef)(0),w=(0,u.useRef)(0),A=(0,u.useRef)(),[P,j]=(0,u.useState)(!0),I=()=>{const e=x.current;null!=e&&(e.scrollTop=0,w.current=0,k.current=0,j(!0))},[O,N]=(0,u.useState)(n||""),R=(0,u.useRef)(!1);(0,u.useEffect)((()=>{R.current?N(""):R.current=!0}),[a]);const D=function(){var e=(0,r.default)((function*(e){I();try{yield E.StickerSearchCollection.search(e)}catch(e){__LOG__(4,void 0,new Error,!0)`Sticker search promise failed`,SEND_LOGS(e)}}));return function(){return e.apply(this,arguments)}}(),L=(0,d.default)(D,250),B=()=>{const e=A.current;if(!e)return S.current=!0,void j(!0);e.focus(!1)};(0,u.useEffect)((()=>{B(),n&&D(n)}),[]),(0,u.useImperativeHandle)(t,(()=>({focus(){var e;null===(e=A.current)||void 0===e||e.focus()},clearSearchText(){N("")}})));const[F,G]=(0,u.useState)(!0),U=(0,f.default)((()=>{var t;const n=x.current;if(!n)return;null===(t=e.onScroll)||void 0===t||t.call(e,n);const{scrollTop:a}=n,r=w.current-a;if(r===p.INPUT_BAR_TOTAL_HEIGHT)return k.current=r,void(w.current=a);const i=Math.abs(r)>p.INPUT_BAR_SCROLL_SENSITIVITY;if(S.current=Math.abs(r)>p.INPUT_BAR_SCROLL_FAST,r<0)P&&(a>p.INPUT_HIDE_POINT&&i||w.current<p.INPUT_HIDE_POINT&&a>=p.INPUT_HIDE_POINT)&&j(!1);else if(!P){var o;!(null===(o=document.activeElement)||void 0===o?void 0:o.classList.contains(y.default.container))&&(i||a<p.INPUT_SHOW_POINT)&&j(!0)}w.current=a,k.current=r,G(a<=0)}),p.SCROLL_THROTTLE_TIME),V=(0,u.useRef)(),W=S.current?"emoji-search-slide-away-fast":"emoji-search-slide-away",H=(0,T.jsx)(i.default,{transitionName:W,children:P&&(0,T.jsx)(b.PanelSearchInput,{label:s.fbt._("Search via WhatsApp sticker store",null,{hk:"mIFa0"}),onChange:(t,n)=>{var a;null===(a=e.onChange)||void 0===a||a.call(e,t,n),N(t),""!==t?L(t):L.cancel()},value:O||"",shadow:!F,ref:A,onUpKey:e.onFocusUp,onDownKey:()=>{var e;null===(e=V.current)||void 0===e||e.focus()}})}),q=(0,o.default)(g.default.containerSearch);return(0,T.jsxs)(m.HotKeys,{className:q,handlers:(0,l.default)({"shift+tab":e.onFocusPrev,tab:e.onFocusNext}),onClick:e=>{!function(e){if(!e)return;e.preventDefault(),e.stopPropagation()}(e),B()},children:[(0,T.jsx)(_.LoadingIndicator,{loading:C}),(0,T.jsxs)("div",{className:g.default.bodyContainer,children:[H,(0,T.jsx)("div",{className:(0,o.default)(g.default.contentContainer,g.default.contentContainerSearch),onScroll:U,ref:x,children:(0,T.jsx)(M,{ref:V,onFocusPrev:B,onStickerClick:t=>{var n;let r;r=O?v.default.STICKER_SEND_ORIGIN_TYPE.STICKER_SEARCH:a===p.StickerTabs.RECENTS?v.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_RECENTS:a===p.StickerTabs.FAVORITES?v.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_FAVORITES:v.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_EMOTION,e.onSticker(t,r),O&&(null===(n=A.current)||void 0===n||n.focus())},searchText:O.trim(),selectedTab:e.selectedTab,resetScroll:I,displayLocation:e.displayLocation})})]})]})}));t.default=k},52146:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(99964)),o=n(88555),s=n(81572),l=n(15022),u=a(n(52013)),d=a(n(94184)),c=n(48360),f=n(67294),h=a(n(16031)),p=a(n(44692)),m=a(n(78506)),g=n(35461),_=n(57849),v=n(71174),b=n(83610),y=n(29424),C=n(84866),S=n(18146),E=a(n(12064)),x=a(n(3903)),T=n(18644),M=a(n(24717)),k=n(85893);var w=(0,f.forwardRef)(((e,t)=>{const{onDownload:n,theme:a="stickerPanel"}=e,w=(0,g.useModelValues)(e.sticker,["id","filehash","mediaData","isPlaceholder","isCreateButton"]),A=(0,f.useRef)(null),P=(0,h.default)((0,r.default)((function*(){yield w.downloadMedia(),null==n||n(w.id)}))),[j,I]=(0,f.useState)(),O=()=>!!A.current&&A.current===document.activeElement,N=()=>{A.current&&(O()||u.default.focus(A.current))},R=()=>A.current?A.current.offsetTop:0;(0,f.useImperativeHandle)(t,(()=>({hasFocus:O,focus:N,getOffsetTop:R})));const D=e.onClick?t=>{const n=e.onClick;n&&n((0,S.unproxy)(w),t)}:void 0,[L,{isIntersecting:B}]=(0,p.default)({root:null,rootMargin:"10px",threshold:0});(0,f.useEffect)((()=>{B&&P()}),[B,P]);const F=(0,m.default)(A,L);let G,U;return"stickerDetails"!==a&&(G=t=>{const n=[];if((0,o.isLegacyWebdBackend)()||w.isPlaceholder||w.isCreateButton)return;t.preventDefault(),t.stopPropagation(),(0,_.getABPropConfigValue)("sticker_md_favorite_stickers_enabled")&&((0,b.isStickerFilehashFavorited)(w.filehash)?n.push((0,k.jsx)(v.DropdownItem,{a8n:"mi-remove-favorite-sticker",action:()=>{(0,b.removeStickerFromFavorites)(e.sticker)},children:c.fbt._("Remove from favorites",null,{hk:"4YvuK"})},"remove-favorite-sticker")):n.push((0,k.jsx)(v.DropdownItem,{a8n:"mi-add-favorite-sticker",action:()=>{(0,b.addStickerToFavorites)(e.sticker)},children:c.fbt._("Add to favorites",null,{hk:"2ODf78"})},"add-favorite-sticker")));const a=C.MediaBlobCache.get(e.sticker.filehash);null!=a&&(0,l.supportsCopyImageToClipboard)()&&n.push((0,k.jsx)(v.DropdownItem,{a8n:"mi-copy-favorite-sticker",action:()=>{(0,l.copyImageToClipboard)(a)},children:c.fbt._("Copy Sticker Image",null,{hk:"2hsnNe"})},"copy-favorite-sticker"));const{stickerPackId:r}=w.mediaData,{dontShowViewPack:i=!1}=e;!1===i&&r&&n.push((0,k.jsx)(v.DropdownItem,{a8n:"mi-open-sticker-pack",action:()=>s.Cmd.openStickerPack(r),children:c.fbt._("View Pack",null,{hk:"tAlU3"})},"open-sticker-pack")),I({menu:n,event:t})},j&&(U=(0,k.jsx)(T.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>I(null),children:(0,k.jsx)(M.default,{contextMenu:j})}))),(0,k.jsxs)(y.HotKeys,{ref:F,className:(0,d.default)(x.default.container,{[x.default.stickerPanel]:"stickerPanel"===a}),handlers:{enter:t=>{const n=e.onEnter;n&&n((0,S.unproxy)(w),t)}},onContextMenu:G,children:[(0,k.jsx)("div",{className:x.default.border,"data-a8n":i.default.key("sticker-item"),children:B&&(0,k.jsx)(E.default,{mediaData:w.mediaData,onClick:D,theme:a,loopAnimation:!0,downloadMedia:P,isCreateButton:w.isCreateButton})}),U]})}));t.default=w},91864:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(48360),i=n(67294),o=n(87550),s=a(n(70723)),l=a(n(91981)),u=a(n(27632)),d=n(85893);var c=(0,i.forwardRef)(((e,t)=>{const n=(0,i.useRef)(),a=function(e){const[t,n]=(0,i.useState)([]),a=()=>{const t=s.default.toArray();n(t.map((e=>e.sticker))),null==e||e()};return(0,i.useEffect)((()=>{a()}),[]),(0,o.useListener)(s.default,"add remove change sort",a),t}(e.resetScroll);return(0,i.useImperativeHandle)(t,(()=>({focus(e){var t;null===(t=n.current)||void 0===t||t.focus(e)}}))),0===a.length?(0,d.jsx)(l.default,{text:r.fbt._("You haven't favorited any stickers yet",null,{hk:"2a3vJg"})}):(0,d.jsx)(u.default,{ref:n,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerClick,stickers:a,theme:"searchable",loadOneRow:!0})}));t.default=c},17385:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(48360),i=n(67294),o=n(28325),s=n(91692),l=n(99718),u=a(n(91981)),d=a(n(52884)),c=a(n(27632)),f=n(85893);function h(e,t){const n=(0,i.useRef)(null),[a,h]=(0,i.useState)((()=>s.RecentStickerCollection.isSynced()));(0,i.useEffect)((()=>{a||s.RecentStickerCollection.sync().then((()=>{h(!0)}))}),[]);const p=e=>{var t;null===(t=n.current)||void 0===t||t.focus(e)};(0,i.useImperativeHandle)(t,(()=>({focus:p})));const m=s.RecentStickerCollection.toArray(),g=e.displayLocation===o.DisplayLocation.ComposeBox?[l.Sticker.getCreateButton(),...m]:m;return a?0===g.length?(0,f.jsx)(u.default,{text:r.fbt._("You haven't sent any stickers yet",null,{hk:"1o2MCj"})}):(0,f.jsx)(c.default,{ref:n,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerEnter,stickers:g}):(0,f.jsx)(d.default,{quantity:s.RECENT_STICKERS_LIMIT})}var p=(0,i.forwardRef)(h);t.default=p},52444:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(48360),i=n(67294),o=n(87550),s=n(28325),l=n(49264),u=n(99718),d=a(n(91981)),c=a(n(27632)),f=n(85893);var h=(0,i.forwardRef)(((e,t)=>{const n=(0,i.useRef)(),a=function(e){const[t,n]=(0,i.useState)([]),a=()=>{const t=l.RecentStickerCollectionMd.toArray();n(t.map((e=>e.sticker))),null==e||e()};return(0,i.useEffect)((()=>{a()}),[]),(0,o.useListener)(l.RecentStickerCollectionMd,"add remove change sort",a),t}(e.resetScroll),h=e.displayLocation===s.DisplayLocation.ComposeBox?[u.Sticker.getCreateButton(),...a]:a;return(0,i.useImperativeHandle)(t,(()=>({focus(e){var t;null===(t=n.current)||void 0===t||t.focus(e)}}))),0===h.length?(0,f.jsx)(d.default,{text:r.fbt._("You haven't sent any stickers yet",null,{hk:"1o2MCj"})}):(0,f.jsx)(c.default,{ref:n,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerClick,stickers:h,theme:"searchable"})}));t.default=h},98178:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(48360),i=n(67294),o=a(n(59312)),s=n(87550),l=a(n(14296)),u=a(n(11339)),d=n(66299),c=a(n(99026)),f=a(n(21300)),h=n(85893);function p(e){let{onRetryClick:t}=e;return(0,h.jsxs)("div",{className:c.default.container,children:[(0,h.jsx)("div",{children:l.default.t(433)}),(0,h.jsx)("div",{"data-id":"retry",className:c.default.retryButton,onClick:t,children:r.fbt._("Retry",null,{hk:"2jS9Tg"})})]})}function m(e,t){const{selectedStickerPackIndex:n}=e,a=(0,o.default)(),r=(0,i.useRef)(null);(0,i.useEffect)((()=>{d.StickerPackCollection.fetchAt(n)}),[]);const l=()=>{d.StickerPackCollection.fetchAt(n,!0)};(0,i.useEffect)((()=>{const e=d.StickerPackCollection.pageWithIndex(n);d.StickerPackCollection.pageFetchStates[e]===d.PAGE_FETCH_STATE.ERROR&&d.StickerPackCollection.fetchAt(n,!0)}),[n]);const c=e=>{r.current&&r.current.focus(e)};(0,i.useImperativeHandle)(t,(()=>({focus:c}))),(0,s.useListener)(d.StickerPackCollection,"change:pageFetchStates",((e,t)=>{d.StickerPackCollection.pageWithIndex(n)===e&&(t?a():d.StickerPackCollection.fetchAt(n))}));const m=d.StickerPackCollection.at(e.selectedStickerPackIndex);if(!m)return null;const g=d.StickerPackCollection.pageWithIndex(e.selectedStickerPackIndex);if(d.StickerPackCollection.pageFetchStates[g]===d.PAGE_FETCH_STATE.ERROR)return(0,h.jsx)(p,{onRetryClick:l});const _=u.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_PACK;return(0,h.jsx)(f.default,{ref:r,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:t=>e.onStickerClick(t,_),onStickerEnter:t=>e.onStickerEnter(t,_),stickers:m.stickers,renderError:()=>(0,h.jsx)(p,{onRetryClick:l})})}var g=(0,i.forwardRef)(m);t.default=g},48371:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(98913)),i=n(89385),o=a(n(47259)),s=n(48360),l=n(67294),u=n(87550),d=a(n(3409)),c=n(16774),f=n(99718),h=a(n(91981)),p=a(n(52884)),m=a(n(27632)),g=n(85893);var _=(0,l.forwardRef)(((e,t)=>{const{onScroll:n}=e,[a,_]=(0,l.useState)((()=>c.StarredStickerCollection.isSynced())),[v,b]=(0,l.useState)((()=>c.StarredStickerCollection.toArray())),[y,C]=(0,l.useState)(!1),S=(0,d.default)();(0,l.useEffect)((()=>{a||(0,o.default)(c.StarredStickerCollection.sync(),S).then((()=>_(!0))).catch((0,i.catchAbort)((()=>{})))}),[]),(0,u.useListener)(c.StarredStickerCollection,"add remove",(()=>b(c.StarredStickerCollection.toArray()))),(0,u.useListener)(c.StarredStickerCollection,"sync",(()=>{b(c.StarredStickerCollection.toArray()),_(!0)})),(0,u.useListener)(c.StarredStickerCollection,"next_page_sync",(()=>{b(c.StarredStickerCollection.toArray()),C(!1)}));const E=(0,l.useCallback)((e=>{const{scrollTop:t,clientHeight:a,scrollHeight:i}=e;if(null==n||n(e),i-a-t<200&&!y&&c.StarredStickerCollection.canLoadMore()){const e=c.StarredStickerCollection.getRemaining(),t=Math.min(c.STARRED_STICKERS_PAGE_SIZE,e),n=(0,r.default)(t,(()=>f.StickerModel.getPlaceholder()));C(!0),b((e=>e.concat(n))),c.StarredStickerCollection.syncNextPage()}}),[y,n]),x=(0,l.useRef)();return(0,l.useImperativeHandle)(t,(()=>({focus:e=>{var t;return null===(t=x.current)||void 0===t?void 0:t.focus(e)}}))),a?0===c.StarredStickerCollection.length?(0,g.jsx)(h.default,{text:s.fbt._("You haven't favorited any stickers yet",null,{hk:"2a3vJg"})}):(0,g.jsx)(m.default,{ref:x,onFocusPrev:e.onFocusPrev,onScroll:E,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerEnter,stickers:v}):(0,g.jsx)(p.default,{quantity:c.STARRED_STICKERS_PAGE_SIZE})}));t.default=_},91981:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=a(n(86537)),o=a(n(1388)),s=n(85893);var l=e=>{let{text:t}=e;return(0,s.jsxs)("div",{className:(0,r.default)(i.default.emptyContainer,i.default.panelHeight),children:[(0,s.jsx)("div",{className:i.default.emptySticker,style:{backgroundImage:`url(${o.default})`}}),(0,s.jsx)("p",{className:i.default.emptyText,children:t})]})};t.default=l},52884:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(98913)),i=n(99718),o=a(n(52146)),s=a(n(33906)),l=n(85893);var u=e=>{let{quantity:t}=e;const n=i.StickerModel.getPlaceholder();return(0,l.jsx)("div",{className:s.default.container,children:(0,r.default)(t,(e=>(0,l.jsx)(o.default,{sticker:n},e)))})};t.default=u},80367:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPackStickersScrollGrid=void 0,t.StickerPanelNoResults=m;var r=n(48360),i=n(67294),o=a(n(51799)),s=n(87550),l=n(57297),u=a(n(1388)),d=n(45068),c=a(n(7056)),f=a(n(27632)),h=n(85893);const p=(0,i.forwardRef)(((e,t)=>{const{selectedTab:n}=e,[a,r]=(0,i.useState)((()=>d.StickerSearchCollection.toArray())),u=(0,o.default)((()=>{r(d.StickerSearchCollection.toArray()),e.resetScroll()}),250);(0,s.useListener)(d.StickerSearchCollection,"add remove reset",u),(0,i.useEffect)((()=>{if(n){const e=(0,l.convertTabToMood)(n);null!=e&&d.StickerSearchCollection.searchMood(e),d.StickerSearchCollection.hasFetchedData()&&u()}}),[n]);const c=(0,i.useRef)();return(0,i.useImperativeHandle)(t,(()=>({focus(e){const t=c.current;t&&t.focus(e)}}))),e.searchText&&!1===d.StickerSearchCollection.isFetchingData()&&0===d.StickerSearchCollection.length?(0,h.jsx)(m,{}):(0,h.jsx)(f.default,{ref:c,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,resetScroll:e.resetScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerClick,stickers:a,theme:"searchable",loadOneRow:!0})}));function m(){return(0,h.jsxs)("div",{className:c.default.emptyContainer,children:[(0,h.jsx)("div",{className:c.default.emptySticker,style:{backgroundImage:`url(${u.default})`}}),(0,h.jsx)("p",{className:c.default.emptyText,children:r.fbt._("No results",null,{hk:"3hxq4S"})})]})}t.StickerPackStickersScrollGrid=p},21300:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=a(n(59312)),o=n(87550),s=n(67963),l=a(n(52884)),u=a(n(27632)),d=n(85893);function c(e,t){const{stickers:n}=e,a=(0,r.useRef)(null),c=(0,i.default)();(0,o.useListener)(n,"change:fetchState",c),(0,r.useEffect)((()=>{var e;const t=n.fetchState===s.FETCH_STATE.ERROR;n.fetch(t),null===(e=a.current)||void 0===e||e.scrollToTop()}),[n]),(0,r.useImperativeHandle)(t,(()=>({focus(e){var t;null===(t=a.current)||void 0===t||t.focus(e)}})));const f=()=>{n.fetch(!0)};return n.fetchState===s.FETCH_STATE.ERROR?e.renderError(f):n.fetchState&&n.fetchState!==s.FETCH_STATE.PENDING?(0,d.jsx)(u.default,{ref:a,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerEnter,stickers:e.stickers.toArray()}):(0,d.jsx)(l.default,{quantity:24})}var f=(0,r.forwardRef)(c);t.default=f},27632:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(33856)),i=a(n(94184)),o=n(67294),s=a(n(16223)),l=a(n(37453)),u=a(n(51099)),d=n(29424),c=a(n(8694)),f=a(n(52146)),h=n(74470),p=a(n(33906)),m=n(85893);var g=(0,o.forwardRef)(((e,t)=>{let{onFocusPrev:n,onScroll:a,resetScroll:g,onStickerClick:_,onStickerEnter:v,stickers:b,theme:y,loadOneRow:C=!1}=e;const S=(0,o.useRef)(),E=(0,s.default)((()=>new Map)),x=(0,o.useRef)(new Set),[T,M]=(0,o.useState)(2),[k,w]=(0,o.useState)(6),A=(0,l.default)(b);(0,o.useImperativeHandle)(t,(()=>({focus(e){const t=E.current;let n=e||0;n=Math.min(n,t.size),n=Math.max(n,0);const a=t.get(n);a&&a.focus()},scrollToTop(){const e=S.current;e&&(e.scrollTop=0)}})));const P=(0,o.useCallback)((()=>{const e=E.current,t=e.get(0);if(null==t)return void w(1);const n=t.getOffsetTop(),a=e.size;for(let t=0;t<a;t++){const a=e.get(t);if(a&&a.getOffsetTop()!==n)return void w(t)}w(e.size)}),[E]);(0,o.useEffect)((()=>P),[b,P,E]),(0,o.useEffect)((()=>{const e=(0,r.default)(b,A,((e,t)=>e.id===t.id));e.length!==b.length&&A!==b&&(x.current=new Set(e.map((e=>e.id))),M(2))}),[b,A]);const j=()=>{const e=E.current,t=e.size;for(let n=0;n<t;n++){const t=e.get(n);if(t&&t.hasFocus())return n}return-1},I=e=>{var t;if(0===e)return;const a=j();if(-1===a)return;let r=a+e;if(r<0)return void(null==n||n());const i=null===(t=S.current)||void 0===t?void 0:t.parentElement;r<k&&i&&(i.scrollTop=0,null==g||g());const o=E.current;r=Math.min(r,o.size-1);const s=o.get(r);s&&s.focus()},O=e=>{I(0-e)},N=e=>{x.current.add(e),x.current.size===T*k&&M(T+2)},R=(C?b.slice(0,k*T):b).map(((e,t)=>{const n=E.current,a=e.isPlaceholder||e.isCreateButton?`${h.PRE_PLACEHOLDER_ID}${t}`:e.id;return(0,m.jsx)(u.default,{reason:"sticker-item",children:(0,m.jsx)(f.default,{onClick:_,onEnter:v,onDownload:N,ref:e=>{e?n.set(t,e):n.delete(t)},sticker:e})},a)})),D=(0,i.default)(p.default.container,"searchable"===y&&p.default.unscrollable);return(0,m.jsx)(c.default,{onResize:P,className:p.default.resizeContainer,children:(0,m.jsx)(d.HotKeys,{ref:S,className:D,handlers:{up:e=>{e.stopPropagation(),e.preventDefault(),O(k)},down:e=>{e.stopPropagation(),e.preventDefault();const t=j(),n=E.current,a=Math.min(t+k,n.size-1);Math.floor(t/k)!==Math.floor(a/k)&&I(k)},left:e=>{e.stopPropagation(),e.preventDefault(),O(1)},right:e=>{e.stopPropagation(),e.preventDefault(),I(1)}},onScroll:()=>{const e=S.current;e&&(null==a||a(e))},children:R})})}));t.default=g},24315:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(52013)),i=a(n(94184)),o=a(n(15206)),s=n(67294),l=n(87550),u=a(n(35330)),d=n(28325),c=n(29424),f=a(n(64750)),h=n(66299),p=a(n(3593)),m=a(n(23217)),g=n(85893);function _(e){let{specialItemsCount:t,recentStickersEnabled:n,starredStickersEnabled:a,index:r}=e;return n&&0===r?(0,g.jsx)(m.default,{name:"panel-recent"}):a&&1===r?(0,g.jsx)(m.default,{name:"panel-starred"}):(0,g.jsx)(p.default,{index:r-t})}function v(e,t){const{displayLocation:n,specialItemsCount:a,recentStickersEnabled:p,starredStickersEnabled:m}=e,v=(0,s.useRef)(null),[b,y]=(0,s.useState)(a+h.StickerPackCollection.length),C=()=>{y(a+h.StickerPackCollection.length)},S=()=>!!v.current&&v.current===document.activeElement,E=()=>{v.current&&(S()||r.default.focus(v.current))};(0,s.useImperativeHandle)(t,(()=>({focus:E,hasFocus:S}))),(0,s.useEffect)((()=>{C()}),[]),(0,l.useListener)(h.StickerPackCollection,["change:length"],C);let x=h.PAGE_SIZE_COMPOSE_BOX;return n===d.DisplayLocation.Dropdown&&(x=h.PAGE_SIZE_POPUP),(0,g.jsx)(c.HotKeys,{ref:v,handlers:(0,o.default)({down:e.onFocusBelow,"shift+tab":e.onFocusPrev,tab:e.onFocusNext}),children:(0,g.jsx)(u.default,{className:(0,i.default)({[f.default.shadow]:e.shadow}),numItems:b,numColumns:x,onItemClick:e.onItemClick,renderItem:e=>(0,g.jsx)(_,{index:e,specialItemsCount:a,starredStickersEnabled:m,recentStickersEnabled:p}),selectedIndex:e.selectedStickerPackIndex})})}var b=(0,s.forwardRef)(v);t.default=b},14591:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{id:t,name:n,url:a}=e;return(0,o.jsx)("div",{className:i.default.container,"data-id":t,children:(0,o.jsx)(r.ImgWithFallback,{fallbackSVG:"sticker",wrapOptions:{wrapperClassName:i.default.stickerPackIconWrapper,centerWrapperChild:!0},className:i.default.stickerPackContainer,size:"NONE",roundContainer:!1,imgProps:{src:a||"",alt:n,draggable:!1}})})};var r=n(50981),i=a(n(26590)),o=n(85893)},3593:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{index:t}=e,n=(0,o.default)(),[a,f]=(0,r.useState)((()=>s.StickerPackCollection.at(t)));if((0,r.useEffect)((()=>{s.StickerPackCollection.fetchAt(t)}),[]),(0,i.useListener)(s.StickerPackCollection,"change:pageFetchStates",((e,a)=>{if(n.aborted)return;s.StickerPackCollection.pageWithIndex(t)===e&&(a||s.StickerPackCollection.fetchAt(t),f(s.StickerPackCollection.at(t)))})),!a)return null;if(a.isPlaceholder)return(0,c.jsx)(d.default,{name:"sticker"});if(a.isFirstParty)return(0,c.jsx)(l.default,{stickerPack:a});return(0,c.jsx)(u.default,{stickerPack:a,mediaData:a.mediaData})};var r=n(67294),i=n(87550),o=a(n(3409)),s=n(66299),l=a(n(53314)),u=a(n(48642)),d=a(n(23217)),c=n(85893)},53314:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.stickerPack,["id","name","url"]),{id:n,name:a,url:s}=t;return(0,o.jsx)(i.default,{id:n,name:a,url:s})};var r=n(35461),i=a(n(14591)),o=n(85893)},48642:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useModelValues)(e.stickerPack,["id","name"]),n=(0,i.useModelValues)(e.mediaData,["renderableUrl","mediaStage"]),a=()=>t.downloadMedia();return(0,r.useEffect)((()=>{a()}),[]),(0,l.jsx)(o.default,{mediaData:n,placeholderRenderer:()=>(0,l.jsx)(s.default,{id:t.id,name:t.name,url:null}),downloadMedia:a,children:e=>(0,l.jsx)(s.default,{id:t.id,name:t.name,url:e})})};var r=n(67294),i=n(35461),o=a(n(20553)),s=a(n(14591)),l=n(85893)},72761:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PluggableInput=t.BaseInput=void 0;var r=a(n(81109)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(93131)),o=a(n(45095)),s=n(64331),l=a(n(99964)),u=n(10206),d=a(n(52013)),c=n(55715),f=a(n(94184)),h=n(67294),p=n(62101),m=a(n(1791)),g=a(n(82958)),_=a(n(70411)),v=a(n(15055)),b=a(n(17410)),y=a(n(92726)),C=a(n(7057)),S=n(29424),E=a(n(14296)),x=n(9272),T=a(n(56051)),M=n(52596),k=a(n(66065)),w=a(n(748)),A=a(n(95605)),P=n(85893);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}class I extends h.Component{constructor(){var e,t;super(...arguments),t=this,this.__changeDueToReset=!1,this.__isMounted=!0,this.__isComposing=!1,this.containerRef=null,this.selection=this.props.initialSelection,this.state={direction:N(this.props.initialValue||""),focused:!1,value:(null===(e=this.props.initialValue)||void 0===e?void 0:e.toString())||"",theme:this.props.theme||null},this.trigger=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=t._hookMap[e];a&&a(...n)},this.serializeTextBeforeCursor=()=>(0,w.default)(this.refInput||document.createElement("span"),window.getSelection()),this._hasFocus=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.refInput;if(!e)return!1;const{activeElement:n}=document;return!!n&&(n===e||e.contains(n))},this.forceFocus=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.props.readOnly||!t.__isMounted)return;const{refInput:n}=t;if(!n)return;const a=t._hasFocus(n);if(!a||e)if(a||d.default.focus(n),!e&&t.selection)t._restoreSelection(t.selection);else{const e=window.getSelection();e.rangeCount&&(e.selectAllChildren(n),e.collapseToEnd())}},this.focus=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t._hasFocus()&&!e||setTimeout((()=>{t.forceFocus(e)}),0)},this.reset=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.__changeDueToReset=!0,t.selection=null,t._setValue(e)},this._setValue=e=>{if(e===this.state.value)return;const t=e||"";this.setState({value:t,direction:N(t)},(()=>{this.trigger(C.default.CHANGE,[t]),this.props.onChange&&this.props.onChange(t)}))},this.onSelect=()=>{this.selection=this.getSelection(),this.props.onSelect&&this.props.onSelect(this.selection)},this.shouldComponentUpdate=(e,t)=>{let{value:n,focused:a,direction:r,theme:i}=t;null!=this.refInput&&this.props.readOnly!==e.readOnly&&this.refInput.setAttribute("contentEditable",String(!e.readOnly));const o=R(e);null!=this.refInput&&o!==R(this.props)&&(null==o?this.refInput.removeAttribute("data-tab"):this.refInput.setAttribute("data-tab",o.toString()));a!==this.state.focused&&this.containerRef&&(a?this.containerRef.classList.add("focused"):this.containerRef.classList.remove("focused"));if(i!==this.state.theme&&this.containerRef){var s,l;const e=this._getInputClassname(this.state.theme,this.props.size,this.props.lineHeight).split(" "),t=this._getInputClassname(i,this.props.size,this.props.lineHeight).split(" ");null===(s=this.containerRef)||void 0===s||s.classList.remove(...e),null===(l=this.containerRef)||void 0===l||l.classList.add(...t)}if(r!==this.state.direction&&this.refInput&&this.refInput.setAttribute("dir",r),this.__changeDueToReset){this.__changeDueToReset=!1;const e=(0,A.default)(n,this._plugins);this.refInput&&(this.refInput.innerHTML=e)}const u=!n.length&&!!this.state.value.length,d=!!n.length&&!this.state.value.length;if(!d&&!u)return!1;const c=d?"hidden":"visible";return this._refPlaceholder&&this._refPlaceholder.setAttribute("style",`visibility: ${c}`),!1},this.componentWillUnmount=()=>{this.__isMounted=!1,this.refInput&&(this.refInput.restoreFocus=null)},this._handleInput=()=>{const{refInput:e}=this,t=e?(0,k.default)(e,this._plugins):"",n=this.props.multiline&&"\n"!==t?t:t.replace(/\n$/,""),{maxLength:a}=this.props;if(null!=a&&(0,s.numCodepoints)(n)>a){const t=this.selection;return e&&(e.innerHTML=(0,A.default)(this.state.value,this._plugins)),void(t&&this._restoreSelection(t))}this.trigger(C.default.INPUT),this._setValue(n)},this.onPaste=e=>{e.preventDefault(),e.stopPropagation();const t=new y.default(e.clipboardData),{onFiles:n,onTextPaste:a}=this.props;t.hasFiles()&&(null==n?void 0:n(t))||t.hasText()&&t.getText(this.props.textPasteMimePriority).then((e=>{if(!e)return;if(null==a?void 0:a(e))return;const t=this.getLength()-this._getSelectionLength(),{maxLength:n}=this.props;if(null!=n&&t+(0,s.numCodepoints)(e)>n){const{onMaxPasteExceeded:e}=this.props;return null==e?void 0:e()}this.replaceSelection(e)}))},this._handleBeforeInput=e=>{if(this.props.readOnly)return!0;const{maxLength:t}=this.props;if(null==t)return!1;const n=e.data.charCodeAt(0);if(8===n||127===n)return!1;const a=t+this._getSelectionLength()-this.getLength();return(0,s.numCodepoints)(e.data)>a},this._handleKeyDown=e=>!(!this.props.onKeyDown||!this.props.onKeyDown(e))||13===e.which&&(this.props.multiline&&function(e){return 13===e.which&&(e.shiftKey||e.altKey||e.ctrlKey)}(e)?!(""!==this.state.value.trim()||!this.cursorIsAtStart())||((0,u.isFeatureEnabled)("format_bulleted_msg")&&this._cursorIsOnListItem()?(this._insertNewLineAtSelection(x.LIST_ITEM_DELIMITER),!0):(this._insertNewLineAtSelection(),!0)):(this.props.onEnter&&this.props.onEnter(e),!0)),this.componentDidMount=()=>{this.refInput&&(this.refInput.restoreFocus=this.focus),this.trigger(C.default.MOUNT)},this._handleBlur=e=>{this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e)},this._handleFocus=e=>{this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e)},this._handleCompositionStart=()=>!(this.__isComposing=!0),this._handleCompositionEnd=()=>this.__isComposing=!1,this.setRefContainer=e=>{this.containerRef=e},this._setRefPlaceholder=e=>{this._refPlaceholder=e},this.setRefInput=e=>{this.refInput=e},this.getRefInput=()=>this.refInput,this._getInputClassname=(e,t,n)=>(0,f.default)(T.default.input,{[T.default.compose]:"compose"===e,[T.default.default]:"default"===e||"media-caption"===e||"text-input"===e||"status-reply"===e||"rich-status-reply"===e,[T.default.large]:"large"===e,[T.default.media]:"media-caption"===e,[T.default.invite]:"v4-invite-caption"===e,[T.default.small]:"small"===e,[T.default.status]:"status-reply"===e,[T.default.richStatusReply]:"rich-status-reply"===e,[T.default["list-search"]]:"list-search"===e,[T.default.textInput]:"text-input"===e,[T.default.mediaEditorTextInput]:"media-editor-text-input"===e},t?T.default[`size-${t}`]:null,n?T.default[`line-height-${n}`]:null)}getValue(){return this.state.value}_getSelectionLength(){if(this.props.readOnly)return 0;this._hasFocus(this.refInput)||d.default.focus(this.refInput);const e=window.getSelection();return e.rangeCount?(0,s.numCodepoints)((0,k.default)(e.getRangeAt(0).cloneContents(),this._plugins)):0}getLength(){return(0,s.numCodepoints)(this.state.value)}serialize(e){const t=e||this.state.value;return this._plugins.reduce(((e,t)=>{let[n,a]=e;return t.serialize?t.serialize(n,a):[n,a]}),[t,{}])}_adjustScrollAfterModification(e,t,n){const{scrollHeight:a,clientHeight:r}=e;a<=r||(e.scrollTop=(n||0)+(a-t))}_ensureFocus(e){this._hasFocus(e)||(d.default.focus(e),this.selection&&this._restoreSelection(this.selection))}replaceSelection(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{refInput:n}=this;if(this.props.readOnly||null==n)return;this._ensureFocus(n);let a=this._trimToFit(e);if(!a.length&&!t)return;this.props.multiline||(a=a.replace(/\r?\n/g,""));const r=window.getSelection().getRangeAt(0);(function(e,t){let{startOffset:n,startContainer:a}=e;return 0===n&&a!==t&&(!(!a||!a.previousSibling)&&"\n"===a.previousSibling.textContent.slice(-1))})(r,n)&&(a=`\n${a}`),r.deleteContents();const{scrollHeight:i,scrollTop:o}=n;document.execCommand("insertHTML",!1,(0,A.default)(a,this._plugins)),this.onSelect(),this._adjustScrollAfterModification(n,i,o)}_insertNewLineAtSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.props.multiline&&this._insertTextAtSelection("\n"+e)}_insertTextAtSelection(e){const{refInput:t}=this;if(!this.props.multiline||this.props.readOnly||null==t)return;this._ensureFocus(t);const{scrollHeight:n,scrollTop:a}=t,r=this.cursorIsAtEnd(),i=document.createTextNode(e),o=window.getSelection(),s=o.getRangeAt(0);s.deleteContents(),s.insertNode(i);if(/^\n/.test(e)&&n===t.scrollHeight&&r){s.setStartBefore(i);const e=document.createTextNode("\n");s.insertNode(e)}s.setStartAfter(i),s.setEndAfter(i),s.collapse(!1),o.removeAllRanges(),o.addRange(s),t.normalize(),this._adjustScrollAfterModification(t,n,a),t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}deleteSelection(){this.replaceSelection("",!0)}_restoreSelection(e){const{refInput:t}=this;if(!t)return;const{anchorIndex:n,focusIndex:a}=e;let{anchorOffset:r,focusOffset:i}=e;const{childNodes:o}=t,s=-1===n?t:o[n],l=-1===a?t:o[a];if(s&&l)try{s===l&&r>i&&([r,i]=[i,r]);const e=document.createRange();e.setStart(s,r),e.setEnd(l,i);const t=window.getSelection();t.removeAllRanges(),t.addRange(e);try{const e=document.createRange();e.setStart(l,i),e.setEnd(l,i);const t=e.getBoundingClientRect(),{bottom:n,top:a}=t,r=this.refInput&&this.refInput.getBoundingClientRect(),{bottom:o,top:s}=r||{};if(a>=s&&n<=o)return;this.refInput&&(this.refInput.scrollTop+=n<s?a-s:n-o)}catch(e){}}catch(e){this.focus(!0)}}getSelection(){const{refInput:e}=this;if(!e||document.activeElement!==e)return null;const t=window.getSelection(),{anchorNode:n,anchorOffset:a,focusNode:r,focusOffset:i}=t,o=e.childNodes;let s,l=-1,u=-1,d=0;for(;(l<0||u<0)&&(s=o[d++]);)n===s&&(l=d-1),r===s&&(u=d-1);return{anchorIndex:l,anchorOffset:a,focusIndex:u,focusOffset:i}}_trimToFit(e){const{maxLength:t}=this.props;if(null==t)return e;const n=t+this._getSelectionLength()-this.getLength();return n<=0?"":(0,s.substring)(String(e),0,n)}_cursorIsOnListItem(){return(0,u.isFeatureEnabled)("format_bulleted_msg")&&x.LAST_LIST_ITEM_REGEX.test(this.serializeTextBeforeCursor())}cursorIsAtEnd(){return null!=this.refInput&&(!(!this.state.focused||""!==this.state.value)||(0,v.default)(this.refInput))}cursorIsAtStart(){return!(!this.state.focused||""!==this.state.value)||(0,b.default)(this.refInput)}isFocused(){return this.state.focused}isComposing(){return this.__isComposing}blur(){(0,o.default)(this.refInput,"this.refInput").blur()}select(){const e=(0,o.default)(this.refInput,"this.refInput"),t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t)}setTheme(e){this.setState({theme:e})}render(){var e;const{props:{placeholder:t},state:{value:n,direction:a}}=this,i=n.length>0?"hidden":"visible",o=this._getInputClassname(this.props.theme,this.props.size,this.props.lineHeight),s=null!==(e=this.props.a8n)&&void 0!==e?e:"pluggable-input-body";return(0,P.jsxs)(S.HotKeys,{className:o,handlers:this._hotKeyMap,ref:this.setRefContainer,children:[(0,P.jsx)("div",{"data-a8n":l.default.key("pluggable-input-placeholder"),className:(0,f.default)(T.default.placeholder,{[T.default.mediaEditorTextInputPlaceholder]:"media-editor-text-input"===this.props.theme}),ref:this._setRefPlaceholder,style:{visibility:i},children:t}),(0,P.jsx)("div",(0,r.default)((0,r.default)({},this._handlerMap),{},{"data-a8n":l.default.key(s),title:this.props.title,"aria-required":this.props.required,role:"textbox",className:(0,f.default)(T.default.body,M.SELECTABLE_INPUT_CSS_CLASS),contentEditable:!this.props.readOnly,dangerouslySetInnerHTML:{__html:(0,A.default)(n,this._plugins)},"data-tab":R(this.props),dir:a,ref:this.setRefInput,spellCheck:this.props.spellCheck,style:this.props.style}))]})}}t.BaseInput=I,I.displayName="BaseInput";t.PluggableInput=e=>class extends I{constructor(){var t,n,a;super(...arguments),this._plugins=[...e.map((e=>(e instanceof p.BasePlugin&&e.initialize(this),e))),(a=this,{handlers:(t=a,n=O,n.reduce(((e,n)=>(Array.isArray(n)?e[n[0]]=t[n[1]]:e[n]=t[n],e)),{}))})],this._handlerMap=(0,m.default)(this._plugins,this),this._hookMap=(0,g.default)(this._plugins,this),this._hotKeyMap=(0,_.default)(this._plugins,this)}};const O=[["onBeforeInput","_handleBeforeInput"],["onBlur","_handleBlur"],["onCompositionEnd","_handleCompositionEnd"],["onCompositionStart","_handleCompositionStart"],["onFocus","_handleFocus"],["onInput","_handleInput"],["onKeyDown","_handleKeyDown"],"onPaste","onSelect"];function N(e){return i.dir(e.toString())||E.default.LR("ltr","rtl")}function R(e){let{tabOrder:t,readOnly:n}=e;return null!=t?t:n?null:c.TAB_ORDER.COMPOSE_BOX_INPUT}},18609:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOptions=t.EmojiSuggestions=void 0;var r=a(n(40436)),i=a(n(94184)),o=a(n(66919)),s=n(67294),l=n(88172),u=a(n(17136)),d=a(n(75886)),c=n(82709),f=a(n(66798)),h=a(n(27666)),p=n(92671),m=n(18644),g=a(n(26898)),_=n(85893);const v=(0,o.default)({MEDIA_CAPTION:null,EMOJI_INPUT:null});t.ThemeOptions=v;t.EmojiSuggestions=e=>{const[t,n]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),[b,y]=(0,s.useState)(null),C=(0,s.useRef)(),S=()=>{n(""),o(""),y(null)},E=e=>{if((0,h.default)(e))return;const t=C.current;return t?(e.preventDefault(),e.stopPropagation(),t.pickSelectedEmoji(),!1):void 0};(0,g.default)(e.plugin,f.default.EMOJI_SEARCH,(t=>{const r=t?t.trim():t,i=a,s=e.chat;if((null==s?void 0:s.isGroup)&&r&&r.includes("@"))return y(null),void n("");if(!i||!r.startsWith(i))if(r.length<2){if(!b)return;n(r),y(""===r?null:(0,u.default)(r))}else{const e=(0,u.default)(r);e.length?(n(r),o(null),y(e)):(n(r),y(null))}})),(0,g.default)(e.plugin,f.default.EMOJI_INACTIVE,S),(0,g.default)(e.plugin,f.default.EMOJI_ENTER,E),(0,g.default)(e.plugin,f.default.EMOJI_LEFT,(e=>{if((0,h.default)(e))return;const t=C.current;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionLeft())})),(0,g.default)(e.plugin,f.default.EMOJI_RIGHT,(e=>{if((0,h.default)(e))return;const t=C.current;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionRight())})),(0,g.default)(e.plugin,f.default.EMOJI_TAB,E);const x=b?(0,_.jsx)(m.UIE,{displayName:"EmojiSuggestions",escapable:!0,requestDismiss:()=>{n(""),o(t),y(null)},requestFocus:()=>{e.plugin.ctx.focus()},children:(0,_.jsx)("div",{className:(0,i.default)(d.default.overlayContainer,{[d.default.mediaCaption]:e.theme===v.MEDIA_CAPTION,[d.default.emojiInput]:e.theme===v.EMOJI_INPUT}),children:(0,_.jsx)("div",{className:d.default.resultsContainer,"data-list-scroll-container":"false",children:(0,_.jsx)("div",{className:d.default.emojiSearch,onKeyPress:t=>{t.preventDefault();const{chat:n}=e;n&&l.ComposeBoxActions.paste(n,String.fromCharCode(t.charCode))},onKeyDown:t=>("Backspace"===t.key&&(t.preventDefault(),document.execCommand("delete"),e.plugin.ctx.focus()),!1),children:(0,_.jsx)("div",{className:d.default.searchBody,children:(0,_.jsx)(c.EmojiSuggestionsPanel,{ref:C,onEmoji:t=>{p.RecentEmojiCollection.increment(t),e.plugin.handleSelect(t)},onFocusRelease:S,onSkinTonePicker:e.onSkinTonePicker,emojiList:b},t)},"RECENT")})})})}):null;return(0,_.jsx)(r.default,{component:"div",className:d.default.positioningContainer,transitionName:"emoji-search-panel-slide-up",children:x})}},66798:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,a(n(66919)).default)({EMOJI_ENTER:void 0,EMOJI_INACTIVE:void 0,EMOJI_LEFT:void 0,EMOJI_RIGHT:void 0,EMOJI_SEARCH:void 0,EMOJI_TAB:void 0});t.default=r},1769:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(57538)),i=n(62101),o=n(67247),s=a(n(66798)),l=a(n(7057)),u=a(n(37773)),d=a(n(264));const c={ArrowLeft:s.default.EMOJI_LEFT,ArrowRight:s.default.EMOJI_RIGHT,Enter:s.default.EMOJI_ENTER,Tab:s.default.EMOJI_TAB};class f extends i.BasePlugin{constructor(){super(...arguments),this.hooks={[l.default.CHANGE](e,t){let{refInput:n}=t;""===n.textContent&&this.handle(s.default.EMOJI_INACTIVE)}},this.handlers={onKeyDown(e,t){e.keyCode!==r.default.BACKSPACE&&e.repeat&&(this._lastSyncKeyDownWasRepeat=!0,setTimeout((()=>{delete this._lastSyncKeyDownWasRepeat}),0));const n=c[e.key];return!!n&&this.handle(n,[e,t])},onSelect(e,t){if(this.ctx.isComposing())return!1;if(this._lastSyncKeyDownWasRepeat)return!1;const n=window.getSelection();if(!n.modify)return!1;let a=h(t,n);return a?(a=a.slice(1),this.handle(s.default.EMOJI_SEARCH,[a]),!1):this.handle(s.default.EMOJI_INACTIVE)}}}handleSelect(e){this.ctx.forceFocus(),h(this.ctx,window.getSelection(),!0)&&(this.ctx.replaceSelection(e),this.handle(s.default.EMOJI_INACTIVE))}}function h(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,i=null,s="",l=0,c=null;return(0,u.default)(e,t,((e,t,n)=>{if("@"===e||" "===e&&" "===i)return!0;if(":"===i)if(" "===r);else{if(o.EmojiUtil.isEmoji(e))return c=s,!0;if(/\W/.test(e))return c=n.slice(t+1)+s,!0}return 0===t&&(s=n+s),r=i,i=e,l+=1,l>=50||void 0})),!c&&l<50&&":"===i&&(c=s),a&&(null===(n=c)||void 0===n?void 0:n.length)&&(0,d.default)(t,c.length),c}t.default=f},52835:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPlugin=void 0,t.isEmojiEl=function(e){return!!e&&(e instanceof HTMLElement&&!!e.dataset.isEmoji)};var r=n(13959),i=n(81572),o=a(n(64369)),s=a(n(94184)),l=n(67247),u=a(n(7057)),d=n(52596);let c=!1;const f={serializers:[["img.emoji",e=>e.getAttribute("alt")||""]],parsers:[e=>e.replace(l.EmojiUtil.emojiRegex(),((e,t)=>{const n=(e=>{const t=l.EmojiUtil.getGlyphId(e);if(null==t)return null;const n=(0,d.createSelectableElement)("img",e);n.setAttribute("alt",e),n.setAttribute("draggable","false"),n.setAttribute("class",(0,s.default)(n.getAttribute("class"),l.EmojiUtil.getCssClasses(t)));const a=l.EmojiUtil.getStyle(t);return Object.assign(n.style,a),n.setAttribute("src",o.default.ONE_BY_ONE_TRANS_GIF),n.dataset.isEmoji="true",n})(t);return n?n.outerHTML:""}))],hooks:{[u.default.MOUNT](){c||(c=!0,new Promise((e=>{0===i.Cmd.uiBusy&&e(),i.Cmd.once("ui_idle",(()=>{e()}))})).then((()=>(0,r.delayMs)(0))).then((()=>{document.execCommand("enableObjectResizing",!1,!1)})).catch((()=>{})))}},handlers:{onBeforeInput(e,t){const n=l.EmojiUtil.emojiRegex().exec(e.data);return!!n&&(e.cancelable&&t.replaceSelection(n[0]),!0)},onClick(e){if(!e.target)return!1;const t=e.target.getAttribute("class");if(!t||!~t.indexOf("emoji"))return!1;const n=window.getSelection(),a=new Range;return e.pageX<e.target.x+e.target.width/2?(a.setStartBefore(e.target),a.setEndBefore(e.target)):(a.setStartAfter(e.target),a.setEndAfter(e.target)),n.removeAllRanges(),n.addRange(a),!0}}};t.EmojiPlugin=f},99574:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,a(n(66919)).default)({SEARCH:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0});t.default=r},70527:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(93131),i=a(n(52047)),o=a(n(64369)),s=n(26741),l=n(45454),u=n(62101),d=n(69951),c=n(19380),f=n(67247),h=a(n(99574)),p=n(94259),m=n(72473),g=a(n(7057)),_=a(n(94509)),v=a(n(36717)),b=a(n(56695)),y=a(n(81472)),C=a(n(42107)),S=a(n(64875)),E=a(n(48442)),x=n(41566),T=a(n(69975)),M=a(n(80708)),k=a(n(37773)),w=a(n(264)),A=n(52596);const P=2*o.default.MAX_PUSHNAME_LENGTH,j=/\u200B((\d+)@c\.us)\u200B/g,I={Enter:h.default.ENTER,Tab:h.default.TAB,ArrowUp:h.default.UP,ArrowDown:h.default.DOWN};class O extends u.BasePlugin{constructor(){super(...arguments),this.serializers=[["span[data-mention-jid]",e=>(function(e){if(!e.hasChildNodes())return;for(;e.childNodes.length;)e.removeChild(e.childNodes[0])}(e),`​${e.getAttribute("data-mention-jid")||""}​`)]],this.parsers=[e=>e.replace(j,((e,t)=>{const n=c.ContactCollection.get(t);if(!n)return t;let a=!n.isMyContact&&n.notifyName?n.notifyName:n.formattedName;const i=`@${a}`,o=d.ChatCollection.getActive();if(null==o||!o.isGroup)return i;if(!(null!=o.groupMetadata&&o.groupMetadata.participants.get(t)))return i;(0,x.isDropLastNameEnabled)()&&o.groupMetadata&&o.groupMetadata.hasUniqueShortNameMention(n)&&(a=n.shortName);const s=(0,A.createSelectableElement)("span");s.dataset.mentionJid=n.id.toString();const l=document.createElement("span");l.className="at-symbol",l.appendChild(document.createTextNode("@"));const u=document.createElement("span");return u.setAttribute("dir",(0,r.dir)(a)||"auto"),u.appendChild(document.createTextNode(a)),s.appendChild(l),s.appendChild(u),s.dataset.originalName=s.textContent||"",s.dataset.plainText=s.textContent||"",s.dataset.appTextTemplate=`​${t}​`,s.outerHTML}))],this.serialize=(e,t)=>{t.mentionedJidList=[];return[e.replace(j,((e,n,a)=>(t.mentionedJidList.push((0,l.createWid)(n)),`@${a}`))),t]},this.handleSelect=e=>{let t=window.getSelection();if(function(e,t){let{anchorNode:n,anchorOffset:a}=t;n&&n===e.containerRef&&(n=n.childNodes[a],a=n.textContent.length);if(!n||n&&n.nodeType!==Node.TEXT_NODE)return!1;let r=n.textContent.slice(a),i=n;for(;0===r.length;){if(i=i.nextSibling,!i||i.nodeType!==Node.TEXT_NODE)return!1;r=i.textContent}return" "===r.charAt(0)}(this.ctx,t)&&t.modify("move","forward","character"),!F(this.ctx,t,!0))return;t=window.getSelection();const{refInput:n}=this.ctx,{mentionAfterEnd:a}=n?N(n):{};a&&B(a),this.ctx.replaceSelection(`​${e.id.toString()}​ `),this.handle(h.default.INACTIVE)},this.hooks={[g.default.CHANGE](e,t){let{refInput:n}=t;if(s.UA.isGecko)if(""===e){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createElement("br"))}else{const e=n.querySelectorAll("[data-mention-jid]");for(let t=0;t<e.length;++t){const{nextSibling:n}=e[t];n&&(n instanceof Element&&"BR"===n.tagName&&"_moz"===n.getAttribute("type")&&n.remove())}}},[g.default.INPUT](e){let{refInput:t}=e;const n=t.querySelectorAll("[data-mention-jid]");if(n.length)for(let e=0;e<n.length;++e){var a,r;const t=n[e];if(null==t||t.textContent===t.getAttribute("data-original-name"))continue;const i=t.querySelector(".at-symbol"),o=t.querySelector("span [dir]"),s=window.getSelection();let l=s.focusOffset;const u=null===(a=s.focusNode)||void 0===a||null===(r=a.parentNode)||void 0===r?void 0:r.className,d=t.parentNode,c=document.createDocumentFragment();i&&c.appendChild(document.createTextNode(i.textContent)),o&&c.appendChild(document.createTextNode(o.textContent));const f="at-symbol"===u?c.firstChild:c.lastChild;if(1===c.childNodes.length&&c.lastChild&&(l="@"===c.lastChild.textContent?1:0),d.replaceChild(c,t),s.rangeCount<=0)return;const h=s.getRangeAt(0);h.setEnd(f,l),h.collapse(!1),s.removeAllRanges(),s.addRange(h)}}},this.handlers={onKeyDown(e,t){const{key:n}=e;if(!this.ctx.isComposing()&&("Backspace"===n||"Delete"===n&&(0,y.default)(e))){const e=window.getSelection();if(e.isCollapsed){const{mentionBeforeStart:t,mentionAfterEnd:a}=N(this.ctx.refInput);let r=null;if("Delete"===n&&a&&(r=a),"Backspace"===n&&t&&(r=t),r){e.removeAllRanges();const t=document.createRange();t.selectNode(r),e.addRange(t),R(this.ctx.refInput),window.setTimeout((()=>{(0,M.default)()}),0)}}else R(this.ctx.refInput)}const a=I[e.key];return!!a&&this.handle(a,[e,t])},onKeyPress(){return this.ctx.isComposing()||R(this.ctx.refInput),!1},onBlur(){return this.handle(h.default.INACTIVE),!1},onSelect(e,t){var n;if(s.UA.isTrident||this.ctx.isComposing())return!1;const a=window.getSelection();a.isCollapsed&&a.rangeCount>0&&a.anchorNode&&function(e,t){let{anchorNode:n,anchorOffset:a}=t;if(n&&n===e.refInput){if(0===a)return!0;n=n.childNodes[t.getRangeAt(0).startOffset],a=(0,E.default)(n)?n.textContent.length:0}if((0,b.default)(n,"br"))return!0;if(!n)return!1;if(!(0,E.default)(n))return!1;if("\n"===n.textContent)return!0;let r=n.textContent.slice(0,a);if(""===r){const e=(0,p.findNonEmptySibling)(n,p.DIR.PREV);if(!e)return!0;if(!(0,E.default)(e))return!1;r=e.textContent}return"\n"===r.charAt(r.length-1)}(t,a)&&(0,M.default)();const r=F(this.ctx,a);if(!r||(null===(n=a.focusNode)||void 0===n?void 0:n.parentElement)&&(0,C.default)(a.focusNode.parentElement.parentElement))return this.handle(h.default.INACTIVE),!1;const i=r.slice(1);return this.handle(h.default.SEARCH,[i]),!1},onPaste(){return R(this.ctx.refInput),!1}}}}function N(e){const t=window.getSelection();if(0===t.rangeCount)return{};const n=t.getRangeAt(0),{startContainer:a,startOffset:r,endContainer:o,endOffset:s}=n,l=o instanceof HTMLElement?o.childNodes.length===s:o.textContent&&o.textContent.length===s;let u,d,c,f,h,m;0===r&&(u=a===e?e.childNodes[r]:(0,i.default)(a,(t=>t&&t!==e&&(t.parentElement===e||(0,S.default)(t,0))?[t.parentElement]:[]),(t=>t&&t.parentElement===e))),l&&(d=o===e?e.childNodes[s]:(0,i.default)(o,(t=>t&&t!==e&&(t.parentElement===e||(0,S.default)(t,-1))?[t.parentElement]:[]),(t=>t&&t.parentElement===e)));const g=(0,p.findNonEmptySibling)(u,p.DIR.PREV);(0,C.default)(g)&&(c=g),(0,C.default)(u)&&(f=u),(0,C.default)(d)&&(h=d,n.collapsed&&(c=c||h));const _=(0,p.findNonEmptySibling)(d,p.DIR.NEXT);return(0,C.default)(_)&&(m=_,n.collapsed&&(f=f||m)),{mentionBeforeStart:c,mentionAfterStart:f,mentionBeforeEnd:h,mentionAfterEnd:m}}function R(e){const{mentionBeforeStart:t,mentionAfterStart:n,mentionBeforeEnd:a,mentionAfterEnd:r}=N(e);if(!(t||n||a||r))return;const i=window.getSelection(),o=i.getRangeAt(0),s=o.collapsed;let l=!1;if(t){const e=L(t);l=!0,o.setStartAfter(e),o.collapsed&&o.setEndAfter(e)}if(n){const e=B(n);l=!0,o.setStartBefore(e),s&&o.setEndBefore(e)}if(!s){if(a){const e=L(a);l=!0,o.setEndAfter(e)}if(r){const e=B(r);l=!0,o.setEndBefore(e)}}l&&(i.removeAllRanges(),i.addRange(o))}function D(){const e=document.createElement("span");return e.textContent="​",e.contentEditable="false",setTimeout((()=>(0,T.default)(e)),0),e}function L(e){const t=D();return(0,_.default)(t,e),t}function B(e){const t=D();return(0,v.default)(t,e),t}function F(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(0,m.getSelectionSibling)(e.refInput,"BACKWARD");if((0,C.default)(r))return"";let i=null,o="",s=0,l=null;return(0,k.default)(e,t,((e,t,n)=>{if("@"===i){if(f.EmojiUtil.isEmoji(e))return l=o,!0;if(/\W/.test(e))return l=n.slice(t+1)+o,!0}if(0===t&&(o=n+o),i=e,s+=1,s>=P)return!0})),!l&&s<P&&"@"===i&&(l=o),a&&(null===(n=l)||void 0===n?void 0:n.length)&&(0,w.default)(t,l.length),l}t.default=O},44904:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResults=function(e,t){const n=t.map((e=>{let{contact:t}=e;return t})),a=(e||"").toLowerCase();return n.filter((e=>function(e,t){if(t.isMe)return!1;const n=[t.searchName||t.formattedName];!t.isMyContact&&t.notifyName&&n.push(t.notifyName.toLowerCase());return n.some((t=>function(e,t){let n=-1;do{if(t.indexOf(e,n+1)===n+1)return!0}while(-1!==(n=t.indexOf(" ",n+1)));return!1}(e,t)))}(a,e)))}},45367:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{theme:t,contact:{id:n,formattedName:a,isMyContact:c,notifyName:f},onMouseDown:h,onMouseUp:p,onMouseEnter:m,term:g,selected:_}=e;const v=l.Configuration.Search({terms:g?[g]:[],boundary:!0});return(0,d.jsxs)("div",{className:(0,i.default)(u.default.mentionsResult,{[u.default.mediaCaption]:"mediaCaption"===t,[u.default.selected]:!0===_}),"data-a8n":r.default.key(`contact-mention-list-item-${null!=f?f:"null"}`),onMouseDown:h,onMouseUp:p,onMouseEnter:m,children:[(0,d.jsx)("div",{className:u.default.resultImage,children:(0,d.jsx)(o.DetailImage,{id:n,size:32})}),(0,d.jsx)("div",{className:u.default.textContact,dir:"auto",children:(0,d.jsx)(s.EmojiText,{text:a,formatters:v})}),(0,d.jsx)("div",{className:u.default.textPushname,dir:"auto",children:!c&&f?(0,d.jsx)(s.EmojiText,{text:`~${f}`,formatters:v}):null}),null]})};var r=a(n(99964)),i=a(n(94184)),o=n(88984),s=n(65417),l=n(30695),u=a(n(33179)),d=n(85893)},16477:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Suggestions=function(e){const{theme:t,plugin:n}=e,a=(0,d.useModelValues)(e.chat,["groupMetadata","isGroup"]),s=(0,u.default)((()=>new p.default)),[E,x]=(0,l.useState)(!1),[T,M]=(0,l.useState)(0),[k,w]=(0,l.useState)(""),[A,P]=(0,l.useState)(""),[j,I]=(0,l.useState)([]),O=(0,l.useRef)(),N=e=>(t,n)=>!(!E||!j.length)&&((!t||!(0,m.default)(t))&&(e(t,n),!0)),R=e=>{const t=j[e];if(!t||!t.id)return;const i=(0,r.getAssignedColor)(a,t.id);n.handleSelect(t,i+"")},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return M((n=>{var a;return t||n===e||null===(a=O.current)||void 0===a||a.scrollIntoViewIfNeeded(T),e}))},L=N((()=>R(T))),B=N((()=>{x(!1),M(0),w(""),P(""),I([])})),F=N((()=>D(Math.max(T-1,0)))),G=N((()=>{const e=j.length-1;D(Math.min(T+1,e))}));if((0,y.default)(n,c.default.ENTER,L),(0,y.default)(n,c.default.TAB,L),(0,y.default)(n,c.default.SEARCH,(e=>{if(k&&e.startsWith(k))return;if(!a||!a.isGroup)return;const{groupMetadata:t}=a,{participants:n}=null!=t?t:{};x(!0),M(0),w(null),P(e),I((0,g.getResults)(e,n))})),(0,y.default)(n,c.default.INACTIVE,B),(0,y.default)(n,c.default.UP,F),(0,y.default)(n,c.default.DOWN,G),!E||!j.length)return null;const U=j.map(((e,t)=>({height:52,itemKey:e.id.toString(),contentKey:`${A}${t===T?"-selected":""}`,index:t,contact:e})));return(0,C.jsx)(i.default,{component:"div",className:v.default.positioningContainer,transitionName:"slide-up",children:(0,C.jsx)(b.UIE,{displayName:"MentionSuggestions",escapable:!0,requestDismiss:()=>{x(!1),M(0),w(A),P(""),I([])},requestRecentFocusOnUnmount:!1,children:(0,C.jsx)("div",{className:(0,o.default)(v.default.overlayContainer,{[v.default.mediaCaption]:t===S.MEDIA_CAPTION}),children:(0,C.jsx)(h.default,{className:v.default.resultsContainer,flatListControllers:[s.current],children:(0,C.jsx)(f.FlatList,{ref:O,data:U,a8nKey:"contact-mention-list",flatListController:s.current,direction:"vertical",renderItem:e=>{const{index:n,contact:a}=e;return(0,C.jsx)(_.default,{contact:a,term:A,selected:n===T,theme:t===S.MEDIA_CAPTION?"mediaCaption":null,onMouseDown:e=>e.preventDefault(),onMouseUp:()=>R(n),onMouseEnter:()=>D(n,!0)},a.id.toString())}})})})})})},t.ThemeOptions=void 0;var r=n(39814),i=a(n(40436)),o=a(n(94184)),s=a(n(66919)),l=n(67294),u=a(n(16223)),d=n(35461),c=a(n(99574)),f=n(47915),h=a(n(44942)),p=a(n(30855)),m=a(n(27666)),g=n(44904),_=a(n(45367)),v=a(n(54794)),b=n(18644),y=a(n(26898)),C=n(85893);const S=(0,s.default)({MEDIA_CAPTION:null});t.ThemeOptions=S},7915:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,a(n(66919)).default)({FILTER:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0,BACKSPACE:void 0,CLOSE:void 0});t.default=r},9180:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(51737),i=n(26741),o=n(78820),s=n(62101),l=n(93581),u=n(69951),d=n(19380),c=a(n(7915)),f=n(65563),h=a(n(12062)),p=a(n(264)),m=a(n(60356)),g=a(n(28224)),_=n(5524);const v=(0,h.default)(25,"/"),b={Enter:c.default.ENTER,Tab:c.default.TAB,ArrowUp:c.default.UP,ArrowDown:c.default.DOWN,Backspace:c.default.BACKSPACE};class y extends s.BasePlugin{constructor(){super(...arguments),this.handleSelect=e=>{switch(e.type){case f.QuickReplyTypes.PROFILE_SMART_DEFAULT:this._handleProfileQuickReply(e);break;case f.QuickReplyTypes.ADDRESS_SMART_DEFAULT:this._handleAddressQuickReply(e);break;case f.QuickReplyTypes.HOURS_SMART_DEFAULT:this._handleHoursQuickReply(e);break;default:this._handleTextQuickReply(e)}},this._handleTextQuickReply=e=>{e.useOnce();const t=window.getSelection(),n=v(this.ctx,t);null!=n&&((0,p.default)(t,n.length+1),this.ctx.replaceSelection(e.message),(0,p.default)(t,e.message.length),this.handle(c.default.INACTIVE))},this._handleHoursQuickReply=e=>{const t=u.ChatCollection.getActive();if(!t)return;const n=window.getSelection(),a=v(this.ctx,n);null!=a&&((0,p.default)(n,a.length+1),this.ctx.deleteSelection(),this.handle(c.default.INACTIVE),(0,_.sendTextMsgToChat)(t,e.message),e.useOnce())},this._handleProfileQuickReply=e=>{const t=u.ChatCollection.getActive(),n=d.ContactCollection.get((0,o.getMaybeMeUser)());if(!t||!n)return;const a=window.getSelection(),r=v(this.ctx,a);null!=r&&((0,p.default)(a,r.length+1),this.ctx.deleteSelection(),this.handle(c.default.INACTIVE),(0,m.default)([n],t),e.useOnce())},this._handleAddressQuickReply=e=>{const t=u.ChatCollection.getActive(),n=(0,o.getMaybeMeUser)(),a=l.BusinessProfileCollection.get(n),i=d.ContactCollection.get(n);if(!t||!a)return;const{latitude:s,longitude:f,address:h}=a,m=window.getSelection(),b=v(this.ctx,m);if(null!=b){if((0,r.isNumber)(s)&&(0,r.isNumber)(f)&&i){(0,p.default)(m,b.length+1),this.ctx.deleteSelection();let e=i.displayName;a.address&&(e+=`\n${a.address}`),a&&(0,g.default)(t,s,f,e)}else h&&((0,p.default)(m,b.length+1),this.ctx.deleteSelection(),(0,_.sendTextMsgToChat)(t,h));this.handle(c.default.INACTIVE),e.useOnce()}},this.handlers={onKeyDown(e,t){const n=b[e.key];return!!n&&this.handle(n,[e,t])},onSelect(){if(i.UA.isTrident)return!1;if(this.ctx.isComposing())return!1;const e=window.getSelection(),t=v(this.ctx,e);return null==t?(this.handle(c.default.CLOSE),this.handle(c.default.INACTIVE),!1):(this.handle(c.default.FILTER,[t]),!1)},onBlur(){return this.handle(c.default.INACTIVE),!1}}}}var C=new y;t.default=C},26152:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCancelEvent=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL,quickReplyEntryPoint:e?r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});t.commit()},t.logFilterEvent=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:e,quickReplyEntryPoint:t?r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});n.commit()},t.logSelectEvent=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:e?r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});t.commit()},t.logSmartDefaultSelectEvent=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:e?r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});t.commit()};var r=a(n(11339))},97327:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{shortcut:t,message:n}=(0,i.useModelValues)(e.quickReply,["shortcut","message"]),{query:a,selected:d,onMouseDown:c,onMouseEnter:f,onMouseUp:h}=e,p=t.slice(a.length);return(0,u.jsxs)("div",{className:(0,r.default)(l.default.result,{[l.default.selected]:d}),onMouseDown:c,onMouseUp:h,onMouseEnter:f,children:[(0,u.jsx)("span",{className:l.default.slash,children:"/"}),(0,u.jsx)(o.EmojiText,{className:l.default.shortcutPrefix,text:a}),(0,u.jsx)(o.EmojiText,{className:l.default.shortcutSuffix,text:p}),(0,u.jsx)(o.EmojiText,{className:l.default.message,a8n:"quick-reply-message",ellipsify:!0,text:n,formatters:s.Configuration.QuickReply()})]})};var r=a(n(94184)),i=n(35461),o=n(65417),s=n(30695),l=a(n(73248)),u=n(85893)},65894:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{plugin:t,isOpenFromMenu:n,onClose:a}=e,[i,c]=(0,o.useState)(""),[f,b]=(0,o.useState)([]),[E,x]=(0,o.useState)(!1),[T,M]=(0,o.useState)(0),k=(0,s.default)((()=>new h.default)),w=(0,o.useRef)(null),A=(0,o.useRef)(null),P=e=>(t,n)=>!(!E||!f.length)&&((!t||!(0,p.default)(t))&&(e(t,n),!0)),j=()=>{c(""),b([]),x(!1),M(0)},I=(0,u.default)((()=>{g.QuickReplyCollection.synced()||g.QuickReplyCollection.sync()})),O=e=>{g.QuickReplyCollection.synced()||I();const t=g.QuickReplyCollection.filterShortcuts(e);t.length&&!E&&(0,m.logFilterEvent)(t.length,n),c(e),b(t),x(!0),M(0)},N=P((()=>O(i))),R=e=>{const a=f[e];a&&a.id&&(A.current=a.message,a.isSmartDefault()?(0,m.logSmartDefaultSelectEvent)(n):(0,m.logSelectEvent)(n),t.handleSelect(a))},D=P((()=>R(T))),L=P((()=>{j()})),B=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==T&&(M(e),!t&&w.current&&w.current.scrollIntoViewIfNeeded(T))},F=P((()=>{const e=Math.max(T-1,0);B(e)})),G=P((()=>{const e=f.length-1,t=Math.min(T+1,e);B(t)}));return(0,l.useListener)(g.QuickReplyCollection,"add remove change:shortcut",N),(0,y.default)(t,d.default.ENTER,D),(0,y.default)(t,d.default.TAB,D),(0,y.default)(t,d.default.FILTER,O),(0,y.default)(t,d.default.INACTIVE,L),(0,y.default)(t,d.default.UP,F),(0,y.default)(t,d.default.DOWN,G),(0,y.default)(t,d.default.BACKSPACE,(()=>{const t=window.getSelection().toString();A.current&&t===A.current&&(0,m.logCancelEvent)(e.isOpenFromMenu)})),(0,y.default)(t,d.default.CLOSE,(()=>{a()})),(0,o.useEffect)((()=>()=>{I.cancel()}),[]),(0,C.jsx)(r.default,{component:"div",className:v.default.positioningContainer,transitionName:"slide-up",children:(0,C.jsx)(S,{results:f,query:i,offset:T,handleEscape:()=>{j()},flatListController:k.current,flatListRef:w,renderItem:e=>{const{index:t,quickReply:n}=e;return(0,C.jsx)(_.default,{quickReply:n,query:i,selected:t===T,onMouseDown:e=>e.preventDefault(),onMouseUp:()=>R(t),onMouseEnter:()=>B(t,!0)},n.id)}})})};var r=a(n(40436)),i=a(n(94184)),o=n(67294),s=a(n(16223)),l=n(87550),u=a(n(90886)),d=a(n(7915)),c=n(47915),f=a(n(44942)),h=a(n(30855)),p=a(n(27666)),m=n(26152),g=n(99662),_=a(n(97327)),v=a(n(99544)),b=n(18644),y=a(n(26898)),C=n(85893);function S(e){let{results:t,query:n,offset:a,handleEscape:r,flatListController:o,flatListRef:s,renderItem:l}=e;const u=t.map(((e,t)=>({height:52,itemKey:e.id,contentKey:`${n}${t===a?"-selected":""}`,index:t,quickReply:e})));return t.length?(0,C.jsx)(b.UIE,{displayName:"QuickReplySuggestions",escapable:!0,requestDismiss:r,children:(0,C.jsx)("div",{className:(0,i.default)(v.default.overlayContainer),children:(0,C.jsx)(f.default,{className:v.default.resultsContainer,flatListControllers:[o],children:(0,C.jsx)(c.FlatList,{ref:s,data:u,flatListController:o,direction:"vertical",renderItem:l})})})}):null}},87859:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.isComposing())return!1;const n=window.getSelection();return function(e,t,n){if(!t.modify)return!1;if(1!==t.rangeCount)return!1;let a=u.backwardsEmojiTextsTrie;const d=e.data||"";if(a=a.get(d),!a)return!1;if(!t.getRangeAt(0).collapsed)return!1;let c=d,f=null,h=null;if((0,s.default)(n,t,((e,t,n)=>((0,r.default)(a,"Trie ptr somehow not set"),a=a.get(e),!a||(a.hasChildren()?void(0===t&&(c=n+c)):(c=n.slice(t)+c,h=(0,u.textToEmoji)(c),h&&(f=c),!0))))),!f)return!1;const p=n.serializeTextBeforeCursor();if((0,i.isInsideCodeBlock)(p))return!1;(0,l.default)(t,f.length-1),n.replaceSelection(h||"");const{refInput:m}=n,g=(0,o.getSelectionSibling)(m,o.Direction.BACKWARD);if(!g)return!0;return g.dataset.replacedEmojiText=f,!0}(e,n,t)};var r=a(n(41143)),i=n(4841),o=n(72473),s=a(n(37773)),l=a(n(264)),u=n(80509)},73123:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.keyCode===r.default.BACKSPACE)return function(e,t){if(t.isComposing())return!1;const n=window.getSelection();return function(e,t,n){if(!t.modify)return!1;const{refInput:a}=n,r=(0,i.getSelectionSibling)(a,i.Direction.BACKWARD);if(!r)return!1;if(o=r,!Boolean(o.dataset.replacedEmojiText))return!1;var o;t.modify("extend","backward","character"),t.modify("move","backward","character");const s=r.dataset.replacedEmojiText,l=r.parentNode;if(!l)return!1;l.replaceChild(document.createTextNode(s+" "),r);const u=s.length;for(let e=0;e<u+1;e++)t.modify("extend","forward","character"),t.modify("move","forward","character");return!1}(0,n,t)}(0,t);return!1};var r=a(n(57538)),i=n(72473)},8103:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(62101),i=a(n(87859)),o=a(n(73123));class s extends r.BasePlugin{constructor(){super(...arguments),this.handlers={onBeforeInput:i.default,onKeyDown:o.default}}}var l=new s;t.default=l},80509:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.backwardsEmojiTextsTrie=void 0,t.textToEmoji=function(e){const t=s[e];let n;t&&(n=i.EmojiUtil.getSkinToneBase(t)&&o.EmojiVariantCollection.getVariant(t));return n||t};var r=a(n(55205)),i=n(67247),o=n(13185);const s={"(y)":"👍","(Y)":"👍","(n)":"👎","(N)":"👎",":-)":"🙂",":-(":"🙁",":-p":"😛",":-P":"😛",":-|":"😐",":-\\":"😕",":-D":"😀",":-*":"😘",":-o":"😮","<3":"❤️","^_^":"😁",">_<":"😆",";-)":"😉"};const l=Object.keys(s),u=r.default.fromBackwardsStrings(l);t.backwardsEmojiTextsTrie=u},15196:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(81572),i=n(62101),o=a(n(81472));class s extends i.BasePlugin{constructor(){super(...arguments),this.handlers={onKeyDown(e){return!this.ctx.isComposing()&&(!(" "!==e.key||!(0,o.default)(e))&&(!this.ctx.getValue().length&&(r.Cmd.scrollMessages(),!0)))}}}}var l=new s;t.default=l},64947:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t}=e;return(0,i.jsxs)("div",{className:r.default.container,children:[" ",t," "]})};var r=a(n(12095)),i=n(85893)},45260:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{base:t,unicode:n,action:a}=e,f=(0,i.isBaseMultiSkinToneEmoji)(t),h=f?(0,i.getPermutations)(d.SKIN_TONE_VARIATIONS.slice(1),2):d.SKIN_TONE_VARIATIONS.map((e=>[e])),p=h.reduce(((e,n)=>{const a=i.EmojiUtil.getSkinToneVariant(t,n);return a?(e.push(a),e):e}),[]).filter((e=>i.EmojiUtil.isEmoji(e))).map(((e,t)=>(0,c.jsx)(r.DropdownItem,{type:f?"emoji-grid":"emoji",a8n:"mi-emoji-variant",action:t=>a(t,n,e),children:(0,c.jsx)(o.EmojiText,{text:e,formatters:s.Configuration.LargeEmojiOnly(),tabIndex:"-1"})},e+t)));return f?(0,c.jsx)(l.default,{base:t,action:a,unicode:n,children:p}):(0,c.jsx)(u.default,{children:p})};var r=n(71174),i=n(67247),o=n(65417),s=n(30695),l=a(n(8932)),u=a(n(64947)),d=n(89964),c=n(85893)},27315:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1769)),i=n(52835),o=n(18609),s=n(72761),l=a(n(8103)),u=a(n(68662));const d=new r.default;class c extends((0,s.PluggableInput)([i.EmojiPlugin,d,l.default])){}t.default=c,c.EmojiSuggestions=(0,u.default)(o.EmojiSuggestions,{plugin:d})},26898:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const a=(0,i.default)(o.pluginContext),s=(0,r.useRef)(n);s.current=n,(0,r.useEffect)((()=>{const n=a.current;return e.registerHandler(n,t,(function(){return s.current(...arguments)})),()=>e.unregisterHandler(n,t)}),[e,t,a])};var r=n(67294),i=a(n(16223)),o=n(62101)},19284:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ContentEditable=void 0;var r=n(84260),i=a(n(99964)),o=n(67294),s=a(n(56720)),l=a(n(78506)),u=n(85893);const d={overflowWrap:"fd365im1",userSelect:"to2l77zo",whiteSpace:"bbv8nyr4",maxHeight:"mwp4sxku",overflowX:"gfz4du6o",overflowY:"ag5g9lrv"},c=(0,o.forwardRef)(((e,t)=>{let{readOnly:n=!1,spellCheck:a,title:c,a8n:f,tabOrder:h}=e;const[p]=(0,r.useLexicalComposerContext)(),m=(0,o.useCallback)((e=>{p.setRootElement(e)}),[p]),g=(0,l.default)(t,m);return(0,o.useEffect)((()=>(p.setReadOnly(n),p.registerReadOnlyListener((e=>{e!==n&&(__LOG__(3)`Editor's readOnly state must be set via ContentEditable's readOnly prop.`,p.setReadOnly(n))})))),[p,n]),(0,u.jsx)("div",{className:(0,s.default)(d),contentEditable:!n,role:"textbox",ref:g,spellCheck:a,title:c,"data-a8n":i.default.key(null!=f?f:"rich-text-input-body"),"data-tab":h})}));t.ContentEditable=c},66262:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useLexicalCommandListener=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.COMMAND_PRIORITY_HIGH;const o=(0,s.default)(((e,t)=>{const a=n(e,t);return a&&e instanceof KeyboardEvent&&(e.preventDefault(),e.stopPropagation()),a}));(0,i.useEffect)((()=>e.registerCommand(t,o,a)),[e,t,o,a])},t.useLexicalKeydownEvent=function(e,t,n,a){(0,o.useListener)(e&&e.getRootElement(),"keydown",(a=>{e&&a.key===t&&n(a,e)}),{capture:a})};var r=n(32998),i=n(67294),o=n(87550),s=a(n(89113))},81308:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useLexicalFocusState=function(e){const[t,n]=(0,i.useState)((()=>l(e)));return u(e,n),t},t.useLexicalFocusStateListener=u;var r=n(32998),i=n(67294),o=a(n(16223)),s=a(n(89113));function l(e){return document.activeElement===e.getRootElement()}function u(e,t){const n=(0,o.default)((()=>l(e))),a=(0,s.default)((e=>{n.current!==e&&(n.current=e,t(e))}));(0,i.useEffect)((()=>{a(l(e));const t=e.registerCommand(r.FOCUS_COMMAND,(()=>(a(!0),!1)),r.COMMAND_PRIORITY_HIGH),n=e.registerCommand(r.BLUR_COMMAND,(()=>(a(!1),!1)),r.COMMAND_PRIORITY_HIGH);return()=>{t(),n()}}),[e,a])}},72933:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useQuery=function(e,t,n){const{enabled:a=!0,minQueryLength:s=0,boundary:u=!1,maxQueryLength:d}=null!=n?n:{},[f,m]=(0,i.useState)(),[g,_]=(0,i.useState)();(0,i.useEffect)((()=>{if(!a)return;const n=()=>{e.getEditorState().read((()=>{e.isComposing()||m(h(t,{boundary:u,maxQueryLength:d}))}))},r=e.registerUpdateListener(n);return n(),r}),[e,t,a,u,d]);const v=(0,o.default)((()=>{a&&e.update((()=>{const e=p(t,{boundary:u});null==e||e.remove()}))})),b=(0,o.default)((function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a&&e.update((()=>{const e=p(t,{boundary:u});if(!e)return;const{trailingSpace:a=!1,leadingSpace:o=!1,select:s=!1}=i,d="string"==typeof n?new r.TextNode(n):n();(0,l.$replaceTextNode)(e,d),o&&(0,l.$insertLeadingSpace)(d),a&&(0,l.$insertTrailingSpace)(d,{moveCaret:!0}),s&&d.select(0,d.getTextContent().length)}))})),y=(0,o.default)((()=>{a&&_(f)})),C=(0,o.default)((n=>{a&&(e.focus(),v(),e.update((()=>{const e=(0,l.$getRangeSelection)();if(!e)return;let a=t+n;if(u){const t=e.anchor.offset,n=e.anchor.getNode().getTextContent()[t-1];n&&!c(n)&&(a=" "+a)}e.insertText(a)})))}));(null==f&&null!=g||null!=g&&null!=f&&!f.startsWith(g))&&_(null);return{query:a&&null==g&&null!=f&&f.length>=s?f:null,clearQuery:v,setQuery:C,replaceQuery:b,omitQuery:y}};var r=n(32998),i=n(67294),o=a(n(89113)),s=n(67247),l=n(77903);const u=/\W/,d=/[\/:]+/;function c(e){return s.EmojiUtil.isEmoji(e)||u.test(e)&&!d.test(e)}const f=25;function h(e,t){var n,a;const{boundary:r=!1,maxQueryLength:i=f}=null!=t?t:{};let o="";const s=(0,l.$getRangeSelection)();if(null==s||!s.isCollapsed())return;o=null!==(n=(0,l.$getTextUpToAnchor)())&&void 0!==n?n:"";const u=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e),d=null!==(a=o.match("(.?)"+u+`([^${u}]{0,${i}})$`))&&void 0!==a?a:[];if(!d)return null;const[,h,p]=d;return r&&h&&!c(h)?null:p}function p(e,t){const{boundary:n=!1}=null!=t?t:{},a=h(e,{boundary:n});if(null==a)return;let r;const i=(0,l.$getTextAnchor)();if(!i)return;const o=i.point.offset-a.length-e.length,s=i.node.splitText(o,i.point.offset);return r=0===o?s[0]:s[1],r.selectNext(0,0),r}},77903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$getPreviousRangeSelection=function(){const e=(0,a.$getPreviousSelection)();return(0,a.$isRangeSelection)(e)?e:null},t.$getRangeSelection=s,t.$getSiblingsOffset=function(e){let t=0,n=e.getPreviousSibling();for(;n;)(0,a.$isTextNode)(n)&&(t+=n.getTextContent().length),n=n.getPreviousSibling();return t},t.$getTextAnchor=r,t.$getTextUpToAnchor=function(){const e=r();return e?e.node.getTextContent().slice(0,e.point.offset):null},t.$insertLeadingSpace=function(e,t){const{moveCaret:n=!1}=null!=t?t:{};if(i(e)||!e.getPreviousSibling())return;let r=e;do{r=r.getPreviousSibling()}while(r&&!(0,a.$isTextNode)(r));if(r&&o(r)){if(n){const e=r.getTextContent().length;r.select(e-1,e)}return}const s=new a.TextNode(" ");e.insertBefore(s),n&&s.select()},t.$insertText=function(e){const t=s();t&&t.insertText(e)},t.$insertTrailingSpace=function(e,t){const{moveCaret:n=!1}=null!=t?t:{};if(o(e))return;let r=e;do{r=r.getNextSibling()}while(r&&!(0,a.$isTextNode)(r));if(r&&i(r))return void(n&&r.select(1,1));const s=new a.TextNode(" ");e.insertAfter(s),n&&s.select()},t.$replaceTextNode=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a.TextNode("");e.replace(t),t.selectNext(0,0)},t.$rootTextContent=function(){const e=(0,a.$getRoot)().getChildren(),t=[];for(const n of e)t.push(n.getTextContent());return t.join("\n")},t.$toTextNode=function(e){const t=new a.TextNode(e.getTextContent());e.replace(t)};var a=n(32998);function r(){const e=s();if(null==e||!e.isCollapsed())return;const t=e.anchor;if("text"!==t.type)return;const n=t.getNode();return n.isSimpleText()?{point:t,node:n}:void 0}function i(e){return(0,a.$isTextNode)(e)&&" "===e.getTextContent()[0]}function o(e){const t=(0,a.$isTextNode)(e)?e.getTextContent():"";return" "===t[t.length-1]}function s(){const e=(0,a.$getSelection)();return(0,a.$isRangeSelection)(e)?e:null}},67703:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeEventPlugin=function(e){let{onChange:t}=e;const[n]=(0,r.useLexicalComposerContext)(),a=(0,s.default)((e=>{t&&t(function(e){const t={text:"",rawText:"",data:{}};if(!e)return t;const n=[],a=[];return e.read((()=>{for(const e of(0,i.$getRoot)().getChildren())if((0,i.$isElementNode)(e)){let r="",i="";for(const n of u(e))if(n instanceof l){const e=n.serialize();if(r+=e.text,i+=e.rawText,e.data)for(const n in e.data){let a=t.data[n];a||(a=[],t.data[n]=a),a.push(e.data[n])}}else r+=n.getTextContent(),i+=n.getTextContent();n.push(r),a.push(i)}})),t.text=n.join("\n"),t.rawText=a.join("\n"),t}(e),e)}));return(0,o.useEffect)((()=>{n&&a(n.getEditorState())}),[n,a]),(0,o.useEffect)((()=>{if(n)return n.registerUpdateListener((e=>{let{editorState:t}=e;n.isComposing()||a(t)}))}),[n,a]),null},t.SerializableTextNode=void 0;var r=n(84260),i=n(32998),o=n(67294),s=a(n(89113));class l extends i.TextNode{serialize(){throw new Error("Child node must implement this method")}}function*u(e){for(const t of e.getChildren())yield t,(0,i.$isElementNode)(t)&&(yield*u(t))}t.SerializableTextNode=l},73286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterLimitPlugin=function(e){let{historyState:t,maxLength:n}=e;const[u]=(0,a.useLexicalComposerContext)();return(0,i.useEffect)((()=>{if(null==n)return;let e=u.getEditorState();return u.registerUpdateListener((()=>{if(u.isComposing())return;const a=u.getEditorState();if(a===e)return;const i=a.read(s.$rootTextContent);if(i!==e.read(s.$rootTextContent)&&(0,r.numCodepoints)(i)>n)return u.setEditorState(e,{tag:"history-merge"}),void t.undoStack.pop();e=a}))}),[u,t.undoStack,n]),(0,l.useLexicalCommandListener)(u,o.PASTE_TEXT_COMMAND,(e=>{const t=u.getEditorState().read(s.$rootTextContent),a=u.getEditorState().read((()=>{var e,t;return null!==(e=null===(t=(0,s.$getRangeSelection)())||void 0===t?void 0:t.getTextContent())&&void 0!==e?e:""}));return n-(0,r.numCodepoints)(t)+(0,r.numCodepoints)(a)-(0,r.numCodepoints)(e)<0})),null};var a=n(84260),r=n(64331),i=n(67294),o=n(11742),s=n(77903),l=n(66262)},11742:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardPlugin=function(e){let{onTextPaste:t,onFiles:n,ignoreLineBreakOnPaste:a=!1}=e;const[h]=(0,r.useLexicalComposerContext)(),p=(0,o.default)((e=>{if(e.preventDefault(),e.stopPropagation(),!e.clipboardData)return;const a=new l.default(e.clipboardData);a.hasFiles()?null==n||n(a):a.getText([s.APP_TEXT_MIMETYPE,"text/plain"]).then((e=>{null!=e&&!0!==(null==t?void 0:t(e))&&h.dispatchCommand(c,e)}))})),m=(0,o.default)((e=>{let t,n=Promise.resolve();t=a?[e.replace(f,"")]:e.split(f),t.forEach(((e,t)=>{const a=0===t;n=n.then((()=>(h.update((()=>{const t=(0,u.$getRangeSelection)();t&&(t.isCollapsed()||t.removeText(),a||t.insertParagraph(),t.insertText(e))}),{tag:a?void 0:"history-merge"}),new Promise((e=>setTimeout(e,0))))))}))}));return(0,d.useLexicalCommandListener)(h,i.CUT_COMMAND,(e=>(e.preventDefault(),e.stopPropagation(),function(e){const{currentTarget:t,clipboardData:n}=e;if(!(t instanceof HTMLElement&&n))return;const a=s.Clipboard.fromSelection(t,window.getSelection());n.setData("text/plain",a.toPlainString());try{n.setData(s.APP_TEXT_MIMETYPE,a.toAppString())}catch(e){}}(e),function(e){e.update((()=>{const e=(0,u.$getRangeSelection)();e&&e.removeText()}))}(h),!0))),(0,d.useLexicalCommandListener)(h,i.PASTE_COMMAND,(e=>(p(e),!0))),(0,d.useLexicalCommandListener)(h,c,(e=>(m(e),!0))),null},t.PASTE_TEXT_COMMAND=void 0;var r=n(84260),i=n(32998),o=a(n(89113)),s=n(11933),l=a(n(92726)),u=n(77903),d=n(66262);const c=(0,i.createCommand)();t.PASTE_TEXT_COMMAND=c;const f=/\r?\n|\r/g},44552:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DebugPanelPlugin=function(e){const{showByDefault:t}=e,[n]=(0,r.useLexicalComposerContext)(),[a,f]=(0,s.useState)(null!=t&&t),[h,M]=(0,s.useState)(!1),k=(0,s.useRef)(!1);k.current=h,(0,u.useListener)(n.getRootElement(),"keydown",(e=>{"D"===e.key&&e.ctrlKey&&(f((e=>!e)),e.preventDefault())}),{capture:!0}),(0,s.useEffect)((()=>{const e=n.registerUpdateListener((()=>{k.current&&__LOG__(2)`[Lexical] update`})),t=n.registerTextContentListener((()=>{k.current&&__LOG__(2)`[Lexical] textcontent`})),a=g.map((e=>{let[t,a]=e;return n.registerMutationListener(t,(()=>{k.current&&__LOG__(2)`[Lexical] mutation ${a}`}))})),r=g.map((e=>{let[t,a]=e;return n.registerNodeTransform(t,(()=>{k.current&&__LOG__(2)`[Lexical] node transform ${a}`}))})),i=_.map((e=>{let[t,a]=e;return n.registerCommand(t,(()=>(k.current&&__LOG__(2)`[Lexical] command: ${a}`,!1)),o.COMMAND_PRIORITY_CRITICAL)}));return()=>{e(),t(),a.forEach((e=>e())),r.forEach((e=>e())),i.forEach((e=>e()))}}),[n]);const{metricsElement:w,trackingEnabled:A}=function(e){const[t,n]=(0,s.useState)(),[a,r]=(0,c.default)(!1),[i,o]=(0,s.useState)(!1),f=(0,s.useRef)({all:[],last:[]}),[h]=(0,d.useTimeout)((()=>{const e=f.current,t=e.all.reduce(((e,t)=>e+t),0),a=Math.round(t/e.all.length*100)/100,r=e.last.reduce(((e,t)=>e+t),0),i=Math.round(r/e.last.length*100)/100;n({last:i,avg:a}),o(!1),f.current.last=[]}),2e3),g=()=>{if(!a)return;o(!0);const e=performance.now();setTimeout((()=>{const t=f.current;t.last.push(performance.now()-e),t.all.push(performance.now()-e)}),0),h()};(0,u.useListener)(window,"beforeinput",g),(0,u.useListener)(e.getRootElement(),"paste",g,{capture:!0});let _=a?"[type something first]":"[disabled]";t&&!i?_=`${t.last}ms (avg: ${t.avg}ms)`:i&&(_="...");return{metricsElement:(0,m.jsxs)("div",{className:(0,l.default)(T),children:[(0,m.jsxs)("span",{children:["Response time: ",_," "]}),(0,m.jsx)(p.default,{checked:a,onChange:r})]}),trackingEnabled:a}}(n);if(!a)return null;let P;A||(P=(0,m.jsx)("div",{className:(0,l.default)(b),children:(0,m.jsx)(i.default,{editor:n,viewClassName:(0,l.default)(y),timeTravelPanelClassName:(0,l.default)(S),timeTravelPanelSliderClassName:(0,l.default)(x),timeTravelPanelButtonClassName:(0,l.default)(E),timeTravelButtonClassName:(0,l.default)(C)})}));return(0,m.jsxs)("div",{className:(0,l.default)(v),children:[P,w,(0,m.jsxs)("div",{className:(0,l.default)(T),children:[(0,m.jsx)("span",{children:"Log Lexical events to dev console"}),(0,m.jsx)(p.default,{checked:h,onChange:()=>M(!h)})]}),(0,m.jsxs)("div",{className:(0,l.default)(T),children:[(0,m.jsx)("span",{children:"Enable text-format plugin"}),(0,m.jsx)(p.default,{checked:e.textFormatEnabled,onChange:()=>e.onToggleTextFormat()})]})]})};var r=n(84260),i=a(n(47480)),o=n(32998),s=n(67294),l=a(n(56720)),u=n(87550),d=n(46428),c=a(n(27698)),f=n(1815),h=n(35814),p=a(n(3271)),m=n(85893);const g=[[o.ParagraphNode,"ParagraphNode"],[o.TextNode,"TextNode"],[f.EmojiNode,"EmojiNode"],[h.MentionNode,"MentionNode"]],_=[[o.SELECTION_CHANGE_COMMAND,"SELECTION_CHANGE_COMMAND"],[o.CLICK_COMMAND,"CLICK_COMMAND"],[o.DELETE_CHARACTER_COMMAND,"DELETE_CHARACTER_COMMAND"],[o.INSERT_LINE_BREAK_COMMAND,"INSERT_LINE_BREAK_COMMAND"],[o.INSERT_PARAGRAPH_COMMAND,"INSERT_PARAGRAPH_COMMAND"],[o.INSERT_TEXT_COMMAND,"INSERT_TEXT_COMMAND"],[o.PASTE_COMMAND,"PASTE_COMMAND"],[o.REMOVE_TEXT_COMMAND,"REMOVE_TEXT_COMMAND"],[o.DELETE_WORD_COMMAND,"DELETE_WORD_COMMAND"],[o.DELETE_LINE_COMMAND,"DELETE_LINE_COMMAND"],[o.FORMAT_TEXT_COMMAND,"FORMAT_TEXT_COMMAND"],[o.UNDO_COMMAND,"UNDO_COMMAND"],[o.REDO_COMMAND,"REDO_COMMAND"],[o.KEY_ARROW_RIGHT_COMMAND,"KEY_ARROW_RIGHT_COMMAND"],[o.KEY_ARROW_LEFT_COMMAND,"KEY_ARROW_LEFT_COMMAND"],[o.KEY_ARROW_UP_COMMAND,"KEY_ARROW_UP_COMMAND"],[o.KEY_ARROW_DOWN_COMMAND,"KEY_ARROW_DOWN_COMMAND"],[o.KEY_ENTER_COMMAND,"KEY_ENTER_COMMAND"],[o.KEY_BACKSPACE_COMMAND,"KEY_BACKSPACE_COMMAND"],[o.KEY_ESCAPE_COMMAND,"KEY_ESCAPE_COMMAND"],[o.KEY_DELETE_COMMAND,"KEY_DELETE_COMMAND"],[o.KEY_TAB_COMMAND,"KEY_TAB_COMMAND"],[o.INDENT_CONTENT_COMMAND,"INDENT_CONTENT_COMMAND"],[o.OUTDENT_CONTENT_COMMAND,"OUTDENT_CONTENT_COMMAND"],[o.DROP_COMMAND,"DROP_COMMAND"],[o.FORMAT_ELEMENT_COMMAND,"FORMAT_ELEMENT_COMMAND"],[o.DRAGSTART_COMMAND,"DRAGSTART_COMMAND"],[o.COPY_COMMAND,"COPY_COMMAND"],[o.CUT_COMMAND,"CUT_COMMAND"],[o.CLEAR_EDITOR_COMMAND,"CLEAR_EDITOR_COMMAND"],[o.CLEAR_HISTORY_COMMAND,"CLEAR_HISTORY_COMMAND"],[o.CAN_REDO_COMMAND,"CAN_REDO_COMMAND"],[o.CAN_UNDO_COMMAND,"CAN_UNDO_COMMAND"],[o.FOCUS_COMMAND,"FOCUS_COMMAND"],[o.BLUR_COMMAND,"BLUR_COMMAND"]],v={display:"f804f6gw",paddingTop:"b7n2qyd4",paddingEnd:"btzf6ewn",paddingBottom:"ekpn4oxx",paddingStart:"nqtxkp62",marginTop:"c46o30wg",overflowX:"i44ccddp",overflowY:"ag5g9lrv",fontFamily:"jp8f8qpf",fontSize:"dsh4tgtl",color:"havzjkop",whiteSpace:"bbv8nyr4",backgroundColor:"fyxs1hr1",borderTopStartRadius:"k6f31xd0",borderTopEndRadius:"i213mnjx",borderBottomEndRadius:"csyx12jj",borderBottomStartRadius:"aemtu0ky"},b={position:"g0rxnol2"},y={marginTop:"iy2cu22y",height:"m6k4hpz6",overflowY:"rpvcun8f"},C={backgroundColor:"sjyhwr5o",borderTop:"cc8mgx9x",borderEnd:"eta5aym1",borderBottom:"d9802myq",borderStart:"e4xiuwjv",color:"havzjkop",fontSize:"dsh4tgtl",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",position:"lhggkp7q",end:"d4vkij7k",top:"qlcjp10l",":hover":{textDecoration:"edeob0r2"}},S={display:"p357zi0d",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",overflowX:"gfz4du6o",overflowY:"r7fjleex",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"aiput80m",paddingStart:"gx1rr48f",marginTop:"opp68qpq",width:"rtue7xhx"},E={backgroundColor:"sjyhwr5o",borderTop:"cc8mgx9x",borderEnd:"eta5aym1",borderBottom:"d9802myq",borderStart:"e4xiuwjv",color:"havzjkop",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",fontSize:"dsh4tgtl",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",":hover":{textDecoration:"edeob0r2"}},x={flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"},T={display:"p357zi0d",justifyContent:"o4u7okr9",alignItems:"gndfcl4n"}},91222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorInitialStatePlugin=function(e){let{initialEditorState:t,initialText:n}=e;const[o]=(0,a.useLexicalComposerContext)();return(0,i.useEffect)((()=>{if(null!=t){const e=o.parseEditorState(t);o.setEditorState(e,{tag:"history-merge"})}else null!=n&&""!==n&&o.update((()=>{const e=(0,r.$getRoot)().getFirstChild();null==e||e.append(new r.TextNode(n))}),{tag:"history-merge"})}),[o]),null};var a=n(84260),r=n(32998),i=n(67294)},59582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorRefPlugin=function(e){let{editorRef:t}=e;const[n]=(0,a.useLexicalComposerContext)();return(0,r.useEffect)((()=>{"function"==typeof t?t(n):t&&(t.current=n)}),[n,t]),null};var a=n(84260),r=n(67294)},1815:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiNode=void 0,t.EmojisPlugin=function(){const[e]=(0,r.useLexicalComposerContext)();return(0,l.useEffect)((()=>{const t=e.registerNodeTransform(s.TextNode,(e=>{!function(e){if(!e.isSimpleText())return;const t=e.getTextContent();let n=e;for(const{emoji:e,index:a,lastIndex:r}of function*(e){const t=d.EmojiUtil.emojiRegex();let n=0;for(;;){const a=t.exec(e);if(!a)break;const r=a[0],i=a.index,o=n;n=t.lastIndex,yield{emoji:r,index:i,lastIndex:o}}}(t)){const t=a-r;let i,o;0===t?[i,o]=n.splitText(e.length):[,i,o]=n.splitText(t,t+e.length),n=o;const s=p.create(e);i.replace(s)}}(e)})),n=e.registerNodeTransform(s.TextNode,(e=>{!function(e){if(!e.isSimpleText())return;const t=(0,c.$getRangeSelection)();if(!t||!t.isCollapsed())return;const n=t.anchor.offset,a=e.getTextContent();let r,i,o;for(let e=2;e<=3&&(r=a.slice(n-e,n),i=m[r],!i);e++);if(!r||!i)return;const s=n-r.length;0===s?[o]=e.splitText(r.length):[,o]=e.splitText(s,s+r.length);const l=p.create(i,r);o.replace(l)}(e)}));return()=>{t(),n()}}),[e]),(0,f.useLexicalCommandListener)(e,s.KEY_BACKSPACE_COMMAND,(()=>{let t;return e.update((()=>{const e=(0,c.$getPreviousRangeSelection)();if(!e||!e.isCollapsed())return;const n=e.anchor.getNode();n instanceof p&&(t=n.textEmoji())}),{onUpdate:()=>{null!=t&&e.update((()=>{null!=t&&(0,c.$insertText)(t)}),{skipTransforms:!0})}}),!1})),null};var r=n(84260),i=n(77144),o=a(n(94184)),s=n(32998),l=n(67294),u=a(n(56720)),d=n(67247),c=n(77903),f=n(66262);const h={emoji:{fontSize:"cqiun4t2",lineHeight:"r5qsrrlp",paddingTop:"i5tg98hk",paddingEnd:"iqx13udk",paddingBottom:"przvwfww",paddingStart:"qiohso4h",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"nz2484kf",caretColor:"svot0ezm",backgroundSize:"dcnh1tix",backgroundRepeat:"sxl192xd",backgroundPosition:"t3g6t33p"},emojiWin:{fontSize:"bze30y65",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"},emojiSafari:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",fontSize:"fe5nidar",marginTop:"tt8xd2xn",marginEnd:"hjr9v96k",marginBottom:"mpdn4nr2",marginStart:"l3dnfgho"},emojiFirefox:{fontSize:"fe5nidar",paddingTop:"i5tg98hk",paddingEnd:"fhfm09ip",paddingBottom:"przvwfww",paddingStart:"mjn2akup"},innerWin:{"::selection":{backgroundColor:"mpj7bzys",color:"xzlurrtv"},paddingTop:"i5tg98hk",paddingEnd:"lnjlmjd6",paddingBottom:"przvwfww",paddingStart:"mc6o24uu"}};class p extends s.TextNode{static create(e,t){return new p(e,t).setMode("token")}static clone(e){return new p(e.__text,e.__textEmoji,e.__key)}static getType(){return"emoji"}constructor(e,t,n){super(e,n),this.__textEmoji=t}textEmoji(){return this.__textEmoji}createDOM(){const e=this.__text,t=document.createElement("span"),n=i.hasSafariFix&&h.emojiSafari,a=i.hasFirefoxFix&&h.emojiFirefox,r=i.isOSWin&&h.emojiWin;t.className=(0,o.default)(t.className,(0,u.default)(h.emoji,n,a,r));const s=d.EmojiUtil.getGlyphId(e);if(null!=s){const e=d.EmojiUtil.getGlyphPath(s,"large").low;t.style.backgroundImage=`url('${e}')`}const l=document.createElement("span");l.textContent=e;const c=i.isOSWin&&h.innerWin;return l.className=(0,u.default)(c),t.appendChild(l),t}updateDOM(e,t){const n=t.firstChild;if(null==n)return!0;const a=this.__text;return n.textContent!==a&&(n.textContent=a),!1}}t.EmojiNode=p;const m={"(y)":"👍","(Y)":"👍","(n)":"👎","(N)":"👎",":-)":"🙂",":-(":"🙁",":-p":"😛",":-P":"😛",":-|":"😐",":-\\":"😕",":-D":"😀",":-*":"😘",":-o":"😮","<3":"❤️","^_^":"😁",">_<":"😆",";-)":"😉"}},35814:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MentionNode=void 0,t.MentionsPlugin=function(e){let{groupMetadata:t}=e;const[n]=(0,r.useLexicalComposerContext)();return(0,l.useEffect)((()=>{const e=n.registerNodeTransform(s.TextNode,(e=>{!function(e,t){if(!e.isSimpleText())return;const n=e.getTextContent();let a=e;for(const{jid:e,index:r,length:i,lastEndIndex:o}of function*(e){const t=new RegExp("​(\\d+@c\\.us)​","g");let n=0;for(;;){const a=t.exec(e);if(!a)break;const r=a[1],i=a.index,o=n;n=t.lastIndex,yield{jid:r,index:i,length:r.length+2,lastEndIndex:o}}}(n)){const n=r-o;let l,u,c;0===n?[l,u]=a.splitText(i):[,l,u]=a.splitText(n,n+i),a=u;const h=d.ContactCollection.get(e);if(h)if(!h.isMe&&(null==t?void 0:t.participants.get(e))){const e=h.id.toString(),n=m.create(g(h,t),e);l.replace(n),c=n}else c=new s.TextNode(`@${g(h)}`),l.replace(c);else c=new s.TextNode(e),l.replace(c);const p=(0,f.$getRangeSelection)();!p||p.anchor.getNode().isAttached()&&p.focus.getNode().isAttached()||c.select()}}(e,t)})),a=n.registerNodeTransform(m,(e=>{!function(e){const t=(0,f.$getRangeSelection)();if(!t)return;const n=t.anchor.getNode()===e?t.anchor.offset:-1,a=p+e.contactName,r=e.getTextContent();if(a===r)return;const i=r.startsWith(a)&&n===r.length,o=r.endsWith(a)&&n===r.length-a.length;if(i)e.splitText(a.length);else if(o){const[t,n]=e.splitText(r.length-a.length);(0,f.$toTextNode)(t),n.replace(m.create(e.contactName,e.wid))}else(0,f.$toTextNode)(e)}(e)}));return()=>{e(),a()}}),[n,t]),(0,h.useLexicalCommandListener)(n,s.KEY_BACKSPACE_COMMAND,(()=>{const e=n.getEditorState().read((()=>{const e=(0,f.$getRangeSelection)();if(!e||!e.isCollapsed())return;const t=e.anchor,n=t.getNode();return t.offset===t.getNode().getTextContentSize()&&n instanceof m?n:void 0}));return!!e&&(n.update((()=>e.remove())),!0)})),null};var r=n(84260),i=n(45454),o=a(n(94184)),s=n(32998),l=n(67294),u=(a(n(56720)),n(67703)),d=n(19380),c=n(41566),f=n(77903),h=n(66262);const p="@";class m extends u.SerializableTextNode{static clone(e){return new m(e.__text,e.contactName,e.wid,e.__key)}static getType(){return"mention"}static create(e,t){return new m(p+e,e,t)}constructor(e,t,n,a){super(e,a),this.contactName=t,this.wid=n}createDOM(e){const t=super.createDOM(e);return t.className=(0,o.default)(t.className,"o0rubyzf"),t.dataset.appTextTemplate=`​${this.wid}​`,t}serialize(){const e=(0,i.createWid)(this.wid);return{text:p+e.user,rawText:`​${this.wid}​`,data:{mentionedJidList:e}}}}function g(e,t){let n;return n=(0,c.isDropLastNameEnabled)()&&(null==t?void 0:t.hasUniqueShortNameMention(e))?e.shortName:e.isMyContact&&!e.isMe||null==e.notifyName?e.formattedName:e.notifyName,n}t.MentionNode=m},92486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultilinePlugin=function(e){let{multiline:t}=e;const[n]=(0,a.useLexicalComposerContext)();return(0,o.useLexicalCommandListener)(n,r.INSERT_LINE_BREAK_COMMAND,(()=>(t&&n.update((()=>{var e;null===(e=(0,i.$getRangeSelection)())||void 0===e||e.insertParagraph()})),!0))),null};var a=n(84260),r=n(32998),i=n(77903),o=n(66262)},23349:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveEmptySelectionPlugin=function(){const[e]=(0,r.useLexicalComposerContext)(),t=(0,o.default)((()=>function(e){if("Range"!==window.getSelection().type||!window.getSelection().isCollapsed)return;e.update((()=>{const e=(0,l.$getRangeSelection)();e&&(window.getSelection().removeAllRanges(),e.dirty=!0)}))}(e)),50,{leading:!0});return(0,i.useEffect)((()=>e.registerTextContentListener((e=>{""===e&&t()}))),[e,t]),(0,s.useListener)(document,"selectionchange",(()=>{var n;(null===(n=e.getRootElement())||void 0===n?void 0:n.contains(window.getSelection().anchorNode))&&t()}),{capture:!0}),null};var r=n(84260),i=n(67294),o=a(n(51799)),s=n(87550),l=n(77903)},92730:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.FormatType=void 0,t.getSymbol=function(e){switch(e){case s.Bold:return"*";case s.Italic:return"_";case s.Strikethrough:return"~";default:return"```"}},t.parseText=function(e){const t=(0,r.default)(e,u,l);return d(t)!==e?null:t};var r=a(n(80691)),i=n(65375),o=a(n(83415));const s=n(76672).Mirrored(["Bold","Italic","Strikethrough","Code"]);t.FormatType=s;class l extends o.default{static onDelimiter(){return null}static onMutator(e,t){const{format:n,symbol:a}=function(e){switch(e){case i.Bold:return{format:s.Bold,symbol:"*"};case i.Italic:return{format:s.Italic,symbol:"_"};case i.Strikethrough:return{format:s.Strikethrough,symbol:"~"};default:return{format:s.Code,symbol:"```"}}}(e);return{format:n,symbol:a,children:t.filter(Boolean)}}static onRoot(e){return{children:e.filter(Boolean)}}static onText(e){return{text:e}}}const u=[[[i.Code,{}]],[[i.Bold,{}],[i.Italic,{}],[i.Strikethrough,{}]]];function d(e){let t="";for(const n of e.children)t+=c(n);return t}function c(e){if(null!=e.text)return e.text;if(e.children){let t=e.symbol;for(const n of e.children)t+=c(n);return t+=e.symbol,t}throw new Error("should never reach here")}},76698:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TextFormatPlugin=function(){const[e]=(0,r.useLexicalComposerContext)();return(0,s.useEffect)((()=>{const t=e.registerTextContentListener((()=>{e.isComposing()||e.update(d,{tag:"history-merge"})})),n=e.registerMutationListener(o.ParagraphNode,(t=>{for(const[,n]of t)if("created"===n||"destroyed"===n){setTimeout((()=>e.update(d,{tag:"history-merge"})),0);break}}));return()=>{t(),n()}}),[e]),null};var r=n(84260),i=a(n(45095)),o=n(32998),s=n(67294),l=n(77903),u=n(92730);function d(){const e=(0,l.$getRangeSelection)();if(!e||!e.isCollapsed())return;const t=(0,l.$rootTextContent)();if(!t)return;if(!(0,o.$getRoot)().getFirstChild())return;const n=(0,u.parseText)(t);if(!n)return __LOG__(3)`[Rich Text Input] Failed to parse text format: ${t}`,void function(){let e=f((0,o.$getRoot)().getFirstChild());for(;e;)m(e,[],!1),e=f(e)}();let a=function(){let e=_((0,o.$getRoot)().getFirstChild());for(;!e.getFirstChild();){if(!e.getNextSibling())return null;e=_(e.getNextSibling())}const t=e.getFirstChild();return t&&g(t)}();if(a)for(const e of n.children){if(!a)break;a=c(e,a,[])}}function c(e,t,n){if(null!=e.text){let a=t;const r=e.text.replace(/\n/g,"");if(!r)return a;for(a of function*(e,t){let n=e,a=0;for(;n&&a<t;){const e=n.getTextContent().length,r=t-a;r<e&&([n]=n.splitText(0,r)),yield n,a+=e,n=f(n)}}(a,r.length))m(a,n);return f(a)}if(e.children){const a=e.symbol;let r=g(t);const o=h(r,a),s=f(o);m(o,n,!0),r=(0,i.default)(s,"nextNode");for(const t of e.children){const a=c(t,r,[...n,e.format]);r=(0,i.default)(a,"n")}const l=h(g(r),a);return m(l,n,!0),f(l)}}function f(e){let t=null==e?void 0:e.getNextSibling();if(t)return g(t);let n=_(null==e?void 0:e.getParent());for(;n&&!t&&(n=n.getNextSibling(),n);)t=_(n).getFirstChild();return t&&g(t)}function h(e,t){const n=e.getTextContent().length;if(n===t.length)return e;if(n>t.length){const[n]=e.splitText(0,t.length);return n}const[a]=(0,i.default)(f(e),"getNextTextNode(node)").splitText(0,t.length-n);return e.mergeWithSibling(a)}const p=[u.FormatType.Bold,u.FormatType.Italic,u.FormatType.Strikethrough,u.FormatType.Code];function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,o.$isTextNode)(e)&&!e.isToken()){n?e.getStyle()||e.setStyle("color: var(--secondary-lighter)"):e.getStyle()&&e.setStyle("");for(const n of p){const a=t.includes(n);switch(n){case u.FormatType.Bold:a!==e.hasFormat("bold")&&e.toggleFormat("bold");break;case u.FormatType.Italic:a!==e.hasFormat("italic")&&e.toggleFormat("italic");break;case u.FormatType.Strikethrough:a!==e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough");break;case u.FormatType.Code:a!==e.hasFormat("code")&&e.toggleFormat("code")}}}}function g(e){if(!(0,o.$isTextNode)(e))throw new Error("Expect node to be a TextNode");return e}function _(e){if(!(0,o.$isParagraphNode)(e))throw new Error("Expect node to be a ParagraphNode");return e}},26892:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextInput=void 0;var r=a(n(81109)),i=a(n(6479)),o=a(n(64053)),s=a(n(11356)),l=a(n(22292)),u=n(84260),d=n(4506),c=a(n(17150)),f=a(n(52013)),h=n(77144),p=a(n(94184)),m=n(32998),g=n(67294),_=a(n(56720)),v=a(n(27698)),b=n(67703),y=n(73286),C=n(11742),S=n(19284),E=n(9964),x=(n(44552),n(91222)),T=n(59582),M=n(1815),k=n(77903),w=n(35814),A=n(92486),P=n(23349),j=n(52596),I=n(76698),O=n(66262),N=n(85893);const R=["xstyle","onEnter","onChange","onFiles","onTextPaste","onMaxPasteExceeded","initialText","initialEditorState","placeholder","multiline","maxLength","children","showDebugPanel","groupMetadata"],D={container:{position:"g0rxnol2"},placeholder:{position:"lhggkp7q",top:"qq0sjtgm",bottom:"jxacihee",start:"qzp46edm",zIndex:"b9fczbqn",fontSize:"bze30y65",lineHeight:"jgi8eev7",color:"t35qvd06",pointerEvents:"m62443ks",userSelect:"rkxvyd19",transition:"c5h0bzs2"},fontSmoothing:{"-webkit-font-smoothing":"kh4n4d4z","-moz-osx-font-smoothing":"tt14wmjx"},bold:{fontWeight:"nbipi2bn"},italic:{fontStyle:"h432zind"},strikethrough:{textDecoration:"ozhy756y",textDecorationColor:"rowl85m6"},code:{fontSize:"ovllcyds",lineHeight:"gz7w46tb",fontFamily:"k13l3mcg"}},L={paragraph:(0,p.default)(j.SELECTABLE_CSS_CLASS,E.COPYABLE_CSS_CLASS),text:{base:(0,p.default)(j.SELECTABLE_CSS_CLASS,E.COPYABLE_CSS_CLASS),bold:(0,_.default)(D.bold),italic:(0,_.default)(D.italic),strikethrough:(0,_.default)(D.strikethrough),code:(0,_.default)(D.code)}},B=(0,g.forwardRef)(((e,t)=>{let{xstyle:n,onEnter:a,onChange:u,onFiles:p,onTextPaste:E,onMaxPasteExceeded:j,initialText:O,initialEditorState:B,placeholder:G,multiline:U=!1,maxLength:V,children:W,showDebugPanel:H,groupMetadata:q}=e,Y=(0,i.default)(e,R);const z=(0,g.useMemo)((()=>(0,d.createEmptyHistoryState)()),[]),[K,$]=(0,g.useState)(),[Q,X]=(0,v.default)(!0),J=(0,g.useRef)(null);(0,g.useImperativeHandle)(t,(()=>({focus(){null==K||K.focus(),f.default.focus(null==K?void 0:K.getRootElement())},replaceSelection(e){null==K||K.update((()=>(0,k.$insertText)(e)))},reset(){null==K||K.dispatchCommand(m.CLEAR_EDITOR_COMMAND)},paste(e){const t=e.nativeEvent;t instanceof ClipboardEvent&&(null==K||K.dispatchCommand(m.PASTE_COMMAND,t))},editor:K})),[K]);const Z=(0,g.useMemo)((()=>({theme:L,nodes:[M.EmojiNode,w.MentionNode],onError:e=>{__LOG__(4,void 0,new Error,!0,["sad"])`lexical-text-input error: ${e.message}`,SEND_LOGS("lexical-text-input: unhandled error")}})),[]),ee=(0,N.jsx)("div",{className:(0,_.default)(D.placeholder,h.isOSMac&&D.fontSmoothing),children:G});return(0,N.jsx)("div",{className:(0,_.default)(D.container,n),children:(0,N.jsxs)(l.default,{initialConfig:Z,children:[(0,N.jsx)(c.default,{contentEditable:(0,N.jsx)(S.ContentEditable,(0,r.default)((0,r.default)({},Y),{},{ref:J})),placeholder:ee}),(0,N.jsx)(d.HistoryPlugin,{externalHistoryState:z}),(0,N.jsx)(s.default,{}),(0,N.jsx)(o.default,{scrollRef:J}),!1,(0,N.jsx)(A.MultilinePlugin,{multiline:U}),(0,N.jsx)(T.EditorRefPlugin,{editorRef:$}),(0,N.jsx)(C.ClipboardPlugin,{onFiles:p,onTextPaste:e=>!!(null==E?void 0:E(e)),ignoreLineBreakOnPaste:!U}),null!=V&&(0,N.jsx)(y.CharacterLimitPlugin,{historyState:z,maxLength:V}),(0,N.jsx)(P.RemoveEmptySelectionPlugin,{}),(0,N.jsx)(b.ChangeEventPlugin,{onChange:u}),(0,N.jsx)(F,{onEnter:a}),(0,N.jsx)(x.EditorInitialStatePlugin,{initialEditorState:B,initialText:O}),(0,N.jsx)(M.EmojisPlugin,{}),Q&&(0,N.jsx)(I.TextFormatPlugin,{}),(0,N.jsx)(w.MentionsPlugin,{groupMetadata:q}),W]})})}));function F(e){let{onEnter:t}=e;const[n]=(0,u.useLexicalComposerContext)();return(0,O.useLexicalCommandListener)(n,m.KEY_ENTER_COMMAND,(e=>(!e||!(e.ctrlKey||e.altKey||e.shiftKey))&&(null==t||t(),!0)),m.COMMAND_PRIORITY_NORMAL),null}t.RichTextInput=B},52191:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiSuggestions=function(e){let{editor:t}=e;const{query:n,omitQuery:a,replaceQuery:u}=(0,s.useQuery)(t,":",{minQueryLength:2,maxQueryLength:50,boundary:!0}),d=(0,r.useMemo)((()=>{if(null==n)return null;const e=(0,i.default)(n);return 0===e.length||0===e.length?null:e}),[n]);return(0,l.jsx)(o.EmojiSuggestionsPanel,{editor:t,emojis:d,onSelect:e=>{u(e)},onDismiss:a})};var r=n(67294),i=a(n(17136)),o=n(29018),s=n(72933),l=n(85893)},29018:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiSuggestionsPanel=function(e){let{emojis:t,editor:n,onSelect:a,onDismiss:h}=e;const p=(0,i.useRef)(),m=(0,i.useRef)(!1),g=e=>{m.current=e};(0,u.useLexicalCommandListener)(n,r.KEY_ARROW_LEFT_COMMAND,(e=>{var n,a;return!(f(e)||!t)&&(s.default.isRTL()?null===(n=p.current)||void 0===n||n.moveSelectionRight():null===(a=p.current)||void 0===a||a.moveSelectionLeft(),!0)})),(0,u.useLexicalCommandListener)(n,r.KEY_ARROW_RIGHT_COMMAND,(e=>{var n,a;return!(f(e)||!t)&&(s.default.isRTL()?null===(n=p.current)||void 0===n||n.moveSelectionLeft():null===(a=p.current)||void 0===a||a.moveSelectionRight(),!0)}));const _=e=>{var n;return!(f(e)||!t)&&(null===(n=p.current)||void 0===n||n.pickSelectedEmoji(),!0)};(0,u.useLexicalCommandListener)(n,r.KEY_ENTER_COMMAND,_),(0,u.useLexicalCommandListener)(n,r.KEY_TAB_COMMAND,_);let v=null;t&&(v=(0,d.jsx)(o.EmojiSuggestionsPanel,{ref:p,onEmoji:a,onSkinTonePicker:g,emojiList:t}));return(0,d.jsx)(l.SuggestionsPanelContainer,{editor:n,xstyle:c.container,onDismiss:h,onToggleVisibility:e=>!(!e&&m.current),children:v})};var r=n(32998),i=n(67294),o=(a(n(56720)),n(82709)),s=a(n(14296)),l=n(65087),u=n(66262),d=n(85893);const c={container:{paddingTop:"fbgy3m38",paddingEnd:"f9ovudaz",paddingBottom:"aiput80m",paddingStart:"nqtxkp62"}};function f(e){return Boolean(e&&(e.metaKey||e.shiftKey||e.altKey||e.ctrlKey))}},34875:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ListSuggestionsPanel=function(e){let{editor:t,items:n,renderItem:a,onSelect:_,onDismiss:v}=e;const b=(0,s.default)((()=>new d.default)),y=(0,i.useRef)(),[C,S]=(0,i.useState)(0);n&&C>=n.length&&S(0);const E=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C!==e&&S((()=>{var n;return t||null===(n=y.current)||void 0===n||n.scrollIntoViewIfNeeded(e),e}))};(0,h.useLexicalCommandListener)(t,r.KEY_ARROW_UP_COMMAND,(e=>!(g(e)||!n)&&(E(Math.max(C-1,0)),!0))),(0,h.useLexicalCommandListener)(t,r.KEY_ARROW_DOWN_COMMAND,(e=>!(g(e)||!n)&&(E(Math.min(C+1,n.length-1)),!0)));const x=e=>{if(g(e)||!n)return!1;const t=n[C];return!t||(_(t),!0)};(0,h.useLexicalCommandListener)(t,r.KEY_ENTER_COMMAND,x),(0,h.useLexicalCommandListener)(t,r.KEY_TAB_COMMAND,x);const T=e=>{const t=e.index===C;return(0,p.jsx)(f.default,{onClick:()=>{_(e)},xstyle:m.itemWrapper,onMouseEnter:()=>{E(e.index,!0)},onMouseDown:e=>{e.preventDefault()},children:a(e,t)})};let M=null;n&&(M=(0,p.jsx)(u.default,{className:(0,o.default)(m.container),flatListControllers:[b.current],children:(0,p.jsx)(l.FlatList,{ref:y,data:n,flatListController:b.current,direction:"vertical",renderItem:T})}));return(0,p.jsx)(c.SuggestionsPanelContainer,{editor:t,onDismiss:v,children:M})};var r=n(32998),i=n(67294),o=a(n(56720)),s=a(n(16223)),l=n(47915),u=a(n(44942)),d=a(n(30855)),c=n(65087),f=a(n(1784)),h=n(66262),p=n(85893);const m={container:{position:"g0rxnol2",maxHeight:"d10gensu",overflowX:"i44ccddp",overflowY:"ag5g9lrv"},itemWrapper:{width:"ln8gz9je"}};function g(e){return Boolean(e&&(e.metaKey||e.shiftKey||e.altKey||e.ctrlKey))}},46371:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MentionSuggestions=function(e){let{editor:t,groupMetadata:n}=e;const{query:a,replaceQuery:r,omitQuery:h}=(0,d.useQuery)(t,"@",{enabled:Boolean(n),maxQueryLength:f,boundary:!0}),p=(0,o.useMemo)((()=>{if(null==a||!n)return null;const e=(0,l.getResults)(a,n.participants);if(0===e.length)return null;return e.map(((e,t)=>({height:52,itemKey:e.id.toString(),contentKey:a,index:t,contact:e,query:a})))}),[n,a]);return(0,c.jsx)(s.ListSuggestionsPanel,{editor:t,items:p,renderItem:(e,t)=>(0,c.jsx)(u.default,{contact:e.contact,term:e.query,theme:null,selected:t},e.contact.id.toString()),onSelect:e=>{let{contact:t}=e;r((()=>new i.TextNode(`​${t.id.toString()}​`)),{trailingSpace:!0})},onDismiss:h})};var r=a(n(64369)),i=n(32998),o=n(67294),s=n(34875),l=n(44904),u=a(n(45367)),d=n(72933),c=n(85893);const f=2*r.default.MAX_PUSHNAME_LENGTH},28311:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.QuickReplySuggestions=void 0;var r=a(n(23493)),i=n(51737),o=n(78820),s=n(32998),l=n(67294),u=a(n(59312)),d=n(87550),c=n(93581),f=n(69951),h=n(19380),p=n(65563),m=n(34875),g=n(26152),_=n(99662),v=a(n(97327)),b=a(n(60356)),y=a(n(28224)),C=n(5524),S=n(66262),E=n(72933),x=n(85893);const T=(0,l.forwardRef)(((e,t)=>{let{editor:n}=e;const{query:a,clearQuery:r,replaceQuery:T,omitQuery:k,setQuery:w}=(0,E.useQuery)(n,"/",{boundary:!0,maxQueryLength:25}),A=(0,u.default)(),P=(0,l.useRef)(!1),j=(0,l.useRef)(),I=(0,l.useRef)(!1);(0,d.useListener)(_.QuickReplyCollection,"add remove change:shortcut",A);const O=(0,l.useMemo)((()=>{if(null==a)return null;const e=function(e,t){_.QuickReplyCollection.synced()||M();const n=_.QuickReplyCollection.filterShortcuts(e);n.length&&(0,g.logFilterEvent)(n.length,t);return n}(a,P.current);return 0===e.length?null:e.map(((e,t)=>({height:52,itemKey:e.id,contentKey:a,index:t,quickReply:e,query:a})))}),[a]);return(0,S.useLexicalKeydownEvent)(n,"Backspace",(()=>{const e=j.current;e&&n.getEditorState().read((()=>{const t=(0,s.$getSelection)();t&&e===t.getTextContent()&&(0,g.logCancelEvent)(I.current)}))}),!0),(0,l.useImperativeHandle)(t,(()=>({togglePanel(){null==a?(w(""),P.current=!0):(r(),P.current=!1)}}))),(0,x.jsx)(m.ListSuggestionsPanel,{editor:n,items:O,renderItem:(e,t)=>(0,x.jsx)(v.default,{quickReply:e.quickReply,query:e.query,selected:t},e.quickReply.id.toString()),onSelect:e=>{let{quickReply:t}=e;switch(j.current=t.message,t.type){case p.QuickReplyTypes.PROFILE_SMART_DEFAULT:r(),function(e){const t=f.ChatCollection.getActive(),n=h.ContactCollection.get((0,o.getMaybeMeUser)());if(!t||!n)return;(0,b.default)([n],t),e.useOnce()}(t);break;case p.QuickReplyTypes.ADDRESS_SMART_DEFAULT:r(),function(e){const t=f.ChatCollection.getActive(),n=(0,o.getMaybeMeUser)(),a=c.BusinessProfileCollection.get(n),r=h.ContactCollection.get(n);if(!t||!a)return;const{latitude:s,longitude:l,address:u}=a;if((0,i.isNumber)(s)&&(0,i.isNumber)(l)&&r){let n=r.displayName;a.address&&(n+=`\n${a.address}`),(0,y.default)(t,s,l,n),e.useOnce()}else u&&((0,C.sendTextMsgToChat)(t,u),e.useOnce())}(t);break;case p.QuickReplyTypes.HOURS_SMART_DEFAULT:r(),function(e){const t=f.ChatCollection.getActive();if(!t)return;(0,C.sendTextMsgToChat)(t,e.message),e.useOnce()}(t);break;default:T(t.message,{select:!0}),t.useOnce()}t.isSmartDefault()?(0,g.logSmartDefaultSelectEvent)(P.current):(0,g.logSelectEvent)(P.current),I.current=P.current,P.current=!1},onDismiss:()=>{k(),P.current=!1}})}));t.QuickReplySuggestions=T;const M=(0,r.default)((()=>{_.QuickReplyCollection.synced()||_.QuickReplyCollection.sync()}),1e3)},65087:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_PANEL_KIND=t.EMOJI_PANEL_KIND=void 0,t.SuggestionsPanelContainer=function(e){let{editor:t,xstyle:n,children:a,onDismiss:p,onToggleVisibility:m}=e;const[g,_]=(0,i.useState)(!0),v=(0,s.default)((e=>{if(e){if(!1===(null==m?void 0:m(!0)))return;setTimeout((()=>_(!0)))}else{if(!1===(null==m?void 0:m(!1)))return;_(!1)}}));(0,u.useLexicalFocusStateListener)(t,v);const b=(0,s.default)((()=>{t.focus()}));let y;g&&null!=a&&(y=(0,d.jsx)(l.UIE,{displayName:"RichTextInputSuggestions",escapable:!0,requestDismiss:p,requestFocus:b,requestRecentFocusOnUnmount:!1,children:(0,d.jsxs)("div",{className:(0,o.default)(f,n),children:[a,(0,d.jsx)("div",{className:(0,o.default)(h)})]})}));return(0,d.jsx)(r.default,{component:"div",className:(0,o.default)(c),transitionName:"slide-up",children:y})};var r=a(n(40436)),i=n(67294),o=a(n(56720)),s=a(n(89113)),l=n(18644),u=n(81308),d=n(85893);t.LIST_PANEL_KIND="LIST_PANEL_KIND";t.EMOJI_PANEL_KIND="EMOJI_PANEL_KIND";const c={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je"},f={position:"lhggkp7q",bottom:"jxacihee",start:"tkdu00h0",boxSizing:"cm280p3y",width:"ln8gz9je",backgroundColor:"rv6u8h8g",borderStart:"av6w3u2w",boxShadow:"e9w3sbd1"},h={position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0",zIndex:"b9fczbqn",pointerEvents:"m62443ks",content:"d3pjxk2u",boxShadow:"hxov8ih6"}},53689:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(18446)),i=n(67294),o=a(n(56720)),s=a(n(37453)),l=n(29623),u=a(n(48846)),d=a(n(14296)),c=n(23520),f=n(85893);const h={rollerContainer:{minHeight:"dn5wc90o",maxHeight:"nammujze",overflowX:"gfz4du6o",overflowY:"r7fjleex",marginStart:"qnz2jpws",marginEnd:"kjemk6od"},counterContainer:{minHeight:"dn5wc90o",height:"ilf8vifs"},counter:{fontSize:"f8jlpxt4",textAlign:"qfejxiq4",color:"ce5kru2g"},rollerAnimation:{animationDuration:"nq7eualt",animationTimingFunction:"mjl5wphb",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0"},animateFirstUp:{animationName:"m21mz96n"},animateSecondUp:{animationName:"g2k4c4jm"},animateFirstDown:{animationName:"lvug1qsr",position:"g0rxnol2",top:"te4632jy"},animateSecondDown:{position:"g0rxnol2",animationName:"pev8zhet",top:"qq0sjtgm"}};function p(e){let{counter:t,shouldAnimate:n,rollerCounterOptions:a}=e;const r="999+",i=(0,s.default)(t),p=(0,c.useRollerCounter)(i,t),m=null!=p.currentValueProp?p.currentValueProp:0,g=m>999&&(null==a?void 0:a.showAggregateMax)?r:m,_=[];if(1===m&&(null==a?void 0:a.showOneToTwoAnimation))return null;if(null!=p.previousValueProp&&p.previousValueProp!==m&&n){const e=m-p.previousValueProp,t=p.previousValueProp>999?r:p.previousValueProp;let n=t,i=g,s=h.animateFirstUp,l=h.animateSecondUp;e<0&&(n=g,i=t,s=h.animateFirstDown,l=h.animateSecondDown),1===p.previousValueProp&&2===m&&(null==a?void 0:a.showOneToTwoAnimation)&&(n=" ");const u=(0,f.jsx)("div",{className:(0,o.default)([h.counterContainer,h.rollerAnimation,s]),children:(0,f.jsx)("span",{className:(0,o.default)(h.counter),children:d.default.n(n)})},String(p.previousValueProp)),c=(0,f.jsx)("div",{className:(0,o.default)([h.counterContainer,h.rollerAnimation,l]),children:(0,f.jsx)("span",{className:(0,o.default)(h.counter),children:d.default.n(i)})},String(g));_.push(u,c)}else{const e=(0,f.jsx)("div",{className:(0,o.default)([h.counterContainer]),children:(0,f.jsx)("span",{className:(0,o.default)(h.counter),children:d.default.n(g)})},String(g));_.push(e)}return(0,f.jsx)(u.default,{align:"center",children:(0,f.jsx)(l.FlexColumn,{xstyle:h.rollerContainer,children:_})})}function m(e,t){return(0,r.default)(e,t)}var g=(0,i.memo)(p,m);t.default=g},82857:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RoundTheme=t.Round=void 0;var r=a(n(81109)),i=a(n(99964)),o=a(n(94184)),s=a(n(34470)),l=a(n(54889)),u=a(n(59373)),d=n(85893);const c=n(76672).Mirrored(["Default","Small","Medium","Large","Inverted","NoShadow","SVGGrayButton","ReactionsEntryPoint","ReactionPickerButton"]);t.RoundTheme=c;t.Round=e=>{let{large:t,medium:n,small:a,inverted:f,theme:h,a8nText:p,label:m,onClick:g,onKeyDown:_,className:v,children:b,disabled:y,dataTab:C,hideBackground:S}=e;const E=(0,o.default)(v,u.default.btn,{[u.default.large]:t||h===c.Large,[u.default.medium]:n||h===c.Medium,[u.default.small]:a||h===c.Small,[u.default.inverted]:f||h===c.Inverted,[u.default.disabled]:y,[u.default.hideBackground]:!0===S,[u.default.noShadow]:h===c.NoShadow,[u.default.svgGrayButton]:h===c.SVGGrayButton,[u.default.reactionsEntryPoint]:h===c.ReactionsEntryPoint,[u.default.reactionPickerButton]:h===c.ReactionPickerButton}),[x,T]=(0,s.default)(g,{disabled:y}),M=_?e=>{(0,l.default)(e)&&(e.preventDefault(),y||_(e))}:T.onKeyPress,k=null!=_||null!=g?"0":"-1";return(0,d.jsx)("div",(0,r.default)((0,r.default)({},T),{},{"data-a8n":i.default.key(p),role:"button","aria-label":m,tabIndex:k,className:E,onKeyDown:M,onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},ref:x,"data-tab":C,children:b}))}},52711:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)("div",{className:(0,r.default)(o.icon,"transparent"===e.theme&&o.transparent,"compact"===e.theme&&o.compact,!0===e.disabled&&o.disabled,e.xstyle),children:e.children})};var r=a(n(56720)),i=n(85893);const o={icon:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"dyxdk6fi",height:"m3o1wsh7",color:"k17s6i4e",backgroundColor:"ju2rvew0",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},disabled:{backgroundColor:"lmoo7qev"},transparent:{color:"svlsagor",backgroundColor:"j1wdo6yn"},compact:{width:"qssinsw9",height:"lniyxyh2"}}},53145:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(56720)),o=a(n(34470)),s=n(85893);const l={clickable:{cursor:"ajgl1lbb"},main:{flex:"mx771qyo",overflowX:"gfz4du6o",overflowY:"r7fjleex"},mainEllipsify:{position:"g0rxnol2",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},side:{flex:"kk3akd72",marginStart:"a3oefunm"},body:{display:"p357zi0d",alignItems:"gndfcl4n"}};var u=e=>{let{children:t,side:n,ellipsify:a,onClick:u,"aria-label":d}=e;const c=(0,i.default)(u&&l.clickable),f=(0,i.default)(l.main,a&&l.mainEllipsify),h=null!=n?(0,s.jsx)("div",{className:(0,i.default)(l.side),children:n}):null;let p={};const[m,g]=(0,o.default)(u);return null!=u&&(p=(0,r.default)({ref:m},g)),(0,s.jsx)("div",(0,r.default)((0,r.default)({className:c,"aria-label":d},p),{},{children:(0,s.jsxs)("div",{className:(0,i.default)(l.body),children:[(0,s.jsx)("div",{className:f,children:t}),h]})}))};t.default=u},20723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafariLimitedText=function(){return a.fbt._("To use all of WhatsApp's features like photo capturing and Voice Message recording, we recommend using {=m2}, {=m5} or {=m8}.",[a.fbt._implicitParam("=m2",(0,i.jsx)(r.ExternalLink,{href:"https://www.google.com/chrome",children:a.fbt._("Google Chrome",null,{hk:"B3NgG"})})),a.fbt._implicitParam("=m5",(0,i.jsx)(r.ExternalLink,{href:"http://www.firefox.com",children:a.fbt._("Mozilla Firefox",null,{hk:"1NG7FH"})})),a.fbt._implicitParam("=m8",(0,i.jsx)(r.ExternalLink,{href:"http://www.opera.com",children:a.fbt._("Opera",null,{hk:"4qwXEs"})}))],{hk:"2Iekba"})};var a=n(48360),r=n(12591),i=n(85893)},11497:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=a(n(56720)),o=a(n(22268)),s=n(85893);var l=e=>{const{header:t,uppercase:n=!0}=e;return(0,s.jsx)("div",{className:(0,r.default)(o.default.container,{[o.default.uppercase]:n},(0,i.default)(e.xstyle)),children:t})};t.default=l},86365:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(76521));class i extends r.default{constructor(e){super(),this.isSelectable=e}setSelectable(e){return this.isSelectable=e,this.trigger("update-selectable",e),this.isSelectable}}t.default=i},87541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(25389),r=n(11290),i=n(80134),o=n(8080);n(97335);t.default=class{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.componentName=e,this.name=t,this._isStrong=r,this.keys=n;const s=i.ProxyStates[t];s||(__LOG__(4,void 0,new Error,!0)`Unknown StateHOC concern type "${t}"`,SEND_LOGS("state-hoc-error")),this._proxyClass=s,this._limitedAccessProxyClass=function(e,t,n,r){const i={$ProxyState$ComponentName:{value:e},proxyBitMask:{value:(0,a.genBitMask)(t.prototype.mirrorMask,n)}};for(const t of n){const n={enumerable:!0};n.get=function(){return this.$ProxyState$state.get(t)},n.set=function(){__LOG__(4,void 0,new Error)`READ ONLY: Cannot write to proxied property "${t}", created in <${e} />, it is not writable.`},r||(n.set=function(e){this.$ProxyState$state.set(t,e)}),i[t]=n}function o(e){t.call(this,e)}return o.prototype=Object.create(t.prototype,i),o.prototype.constructor=o,o}(e,s,n,o)}getModel(e){return e instanceof this._proxyClass?e.$ProxyState$state:e}getModelAndValidate(e){const t=e instanceof this._proxyClass?e.$ProxyState$state:e;return t?t instanceof r.BaseModel?t:(__LOG__(4,void 0,new Error,!0)`${this.componentName} given invalid object for ${this.name}: ${n=t,"string"==typeof n?n:n.toString?n.toString():"Invalid Object"}`,SEND_LOGS("state-hoc-error"),null):(o.Stream.mode===o.StreamMode.MAIN&&(__LOG__(4,void 0,new Error,!0)`${this.componentName} was not supplied the ${this.name} model with keys ${String(this.keys)}.`,SEND_LOGS("state-hoc-error")),null);var n}createProxy(e){return new this._limitedAccessProxyClass(e)}attachConcern(e,t,n){e.incObservers(!this._isStrong),e.mirror.addListener(n,t,this)}detachConcern(e,t){e.decObservers(),e.mirror.removeListener(t)}}},60899:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{animationFrames:t,signal:n,onFrameChange:r,shouldStop:i}=e;if(n.aborted)return Promise.reject(new a.AbortError);if(0===t.length)return Promise.resolve();const o=(new Date).getTime();let s=0,l=0,u=o,d=()=>{};return new Promise(((e,o)=>{const c=()=>{0!==s&&window.cancelAnimationFrame(s),o(new a.AbortError)};n.addEventListener("abort",c),d=()=>{n.removeEventListener("abort",c)};const f=()=>{const n=(new Date).getTime();if(n<u)return void(s=window.requestAnimationFrame(f));const{duration:a,rgbaBuffer:o}=t[l];r(o),l=(l+1)%t.length,u=n+a,1===l&&i()?e():s=window.requestAnimationFrame(f)};s=window.requestAnimationFrame(f)})).finally((()=>{d()}))};var a=n(89385)},88461:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{blob:t}=e,[n,a]=(0,i.useState)(null);if((0,i.useEffect)((()=>{(0,r.blobToArrayBuffer)(t).then(s.default).then((e=>{a(e)})).catch((e=>{__LOG__(3)`AnimationCanvas error: ${e}`}))}),[]),!n)return e.renderPreview();const{width:u,height:d,frames:c}=n;return(0,l.jsx)(o.default,{className:e.className,width:u,height:d,animationFrames:c,startAnimation:Boolean(e.loopAnimation||e.startAnimation),maxLoops:e.maxLoops,onClick:e.onClick})};var r=n(65885),i=n(67294),o=a(n(3285)),s=a(n(95190)),l=n(85893)},41481:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=n(67294),o=a(n(44692)),s=n(87550),l=n(1776),u=n(46428),d=a(n(97869)),c=n(85893);var f=(0,i.forwardRef)(((e,t)=>{const n=(0,i.useRef)(),a=(0,i.useRef)(),f=(0,i.useRef)(),h=(0,i.useRef)(),[p,{isIntersecting:m}]=(0,o.default)({root:null,rootMargin:"25px",threshold:.99}),[g,_]=(0,i.useState)(e.startAnimation),[v,b]=(0,i.useState)(!1),[y,C]=(0,u.useManualTimeout)((()=>{const e=f.current;null==e||e.refreshBlob(),_(!1),h.current=null})),S=()=>{const t=(0,r.default)(e.mediaData.singleLoopDuration,"props.mediaData.singleLoopDuration"),n=(Date.now()-(0,r.default)(h.current,"startedAtRef.current"))%t,a=e.mediaData.animationDuration-n;y(a)},E=()=>{C(),null==h.current&&(h.current=Date.now()),_(!0)};(0,s.useListener)(document,"visibilitychange",(()=>{const e="visible"===document.visibilityState;m&&e?(E(),S()):_(!1)})),(0,i.useEffect)((()=>{m?(E(),S()):null!=h.current&&S()}),[m]);const x=(0,l.useSetModelValue)(e.mediaData,"animatedAsNewMsg"),T=()=>{if(v)return;const t=n.current,r=a.current;t&&r&&(t.width=r.naturalWidth/2,t.height=r.naturalHeight/2,t.getContext("2d").drawImage(r,0,0,t.width,t.height)),e.startAnimation&&(h.current=Date.now(),S(),x(!0)),b(!0)};(0,i.useImperativeHandle)(t,(()=>({startAnimation:E})));const M=!v||g;return(0,c.jsxs)("div",{className:e.className,onMouseEnter:E,onMouseLeave:()=>{null!=h.current&&S()},onClick:e.onClick,ref:p,children:[(0,c.jsx)(d.default,{ref:f,mediaData:e.mediaData,placeholderRenderer:e.placeholderRenderer,downloadMedia:e.downloadMedia,children:t=>(0,c.jsx)("img",{alt:e.label,className:e.className,style:{display:M?"block":"none"},draggable:"false",src:t,ref:a,onLoad:T})}),(0,c.jsx)("canvas",{className:e.className,style:{display:M?"none":"block"},draggable:"false",ref:n})]})}));t.default=f},3285:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{startAnimation:t,animationFrames:n,maxLoops:a}=e,d=(0,o.default)(),c=(0,i.useRef)(!1),f=(0,i.useRef)(0),h=(0,i.useRef)(!1),[p,m]=(0,i.useState)(null),g=()=>{c.current||(c.current=!0,(0,s.default)({animationFrames:n,signal:d,onFrameChange:e=>m(e),shouldStop:()=>f.current>=a||(h.current||f.current++,!1)}).catch((e=>{if(e.name!==r.ABORT_ERROR)throw e})).finally((()=>{c.current=!1})))};return(0,i.useEffect)((()=>{t?g():(()=>{if(0===n.length)return;m(n[0].rgbaBuffer)})()}),[]),p?(0,u.jsx)(l.default,{rgbaBuffer:p,className:e.className,width:e.width,height:e.height,onClick:e.onClick,onMouseEnter:()=>{a!==1/0&&(h.current=!0,f.current=1,g())},onMouseLeave:()=>{h.current=!1}}):null};var r=n(89385),i=n(67294),o=a(n(3409)),s=a(n(60899)),l=a(n(61146)),u=n(85893)},30106:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(s.default,{xstyle:[u.button],onClick:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t)},children:(0,l.jsxs)("div",{className:(0,i.default)(u.container),children:[(0,l.jsx)(o.default,{xstyle:u.icon,name:"plus-large"}),(0,l.jsx)("span",{children:r.fbt._("Create",null,{hk:"1lqA1O"})})]})})};var r=n(48360),i=a(n(56720)),o=a(n(23217)),s=a(n(1784)),l=n(85893);const u={button:{width:"ywgftmbl",height:"b1lctrli",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n"},container:{width:"fi5r6efy",height:"tl6iuc6d",backgroundColor:"f7wxzknn",color:"t7i5gvrw",fontSize:"ovllcyds",borderTop:"oosapc3q",borderEnd:"fefz13mk",borderBottom:"ob9ouq0z",borderStart:"tntx47yo",borderTopStartRadius:"g1jn521u",borderTopEndRadius:"mrnekr2l",borderBottomEndRadius:"wu0i2wpa",borderBottomStartRadius:"bbs9k8l5",marginTop:"bddvio20",marginBottom:"du8bjn1j",":hover":{transform:"sl8qjjwd"},transitionProperty:"bo8jc6qi",transitionDuration:"slppp3mo",transitionTimingFunction:"pu4k07i0",willChange:"exvbdj68",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno"},icon:{marginBottom:"inww9tbj"}}},12064:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(89385),i=a(n(45095)),o=a(n(47259)),s=a(n(94184)),l=n(61498),u=n(48360),d=n(67294),c=a(n(16223)),f=n(35461),h=a(n(3409)),p=a(n(88461)),m=a(n(41481)),g=a(n(30106)),_=a(n(54776)),v=a(n(63793)),b=n(58668),y=a(n(20553)),C=a(n(34949)),S=a(n(72625)),E=a(n(61146)),x=n(85893);const T=(0,d.forwardRef)(((e,t)=>{let{className:n,loopAnimation:a,mediaData:r,startAnimation:i,renderPreview:o,downloadMedia:s,onClick:l,label:u}=e;return r.animationDuration>0&&!a?(0,x.jsx)(m.default,{className:n,mediaData:r,startAnimation:i,onClick:l,placeholderRenderer:o,downloadMedia:s,ref:t,label:u}):(0,x.jsx)(y.default,{mediaData:r,placeholderRenderer:o,downloadMedia:s,children:e=>(0,x.jsx)("img",{className:n,draggable:"false",onClick:l,src:e,alt:u})})}));function M(e){let{className:t,loopAnimation:n,mediaData:a,startAnimation:r,renderPreview:o,downloadMedia:s,onClick:l}=e;if(a.animationDuration>0){const e=n?1/0:a.animationDuration/(0,i.default)(a.singleLoopDuration,"mediaData.singleLoopDuration");return(0,x.jsx)(v.default,{mediaData:a,render:a=>(0,x.jsx)(p.default,{className:t,loopAnimation:n,maxLoops:e,blob:a,renderPreview:o,startAnimation:r,onClick:l}),renderPlaceholder:o,downloadMedia:s})}return a.rgbaBuffer?(0,x.jsx)(E.default,{className:t,height:a.rgbaHeight,onClick:l,rgbaBuffer:a.rgbaBuffer,width:a.rgbaWidth}):o()}function k(e){var t;let{mediaData:n,className:a,isCreateButton:r,onClick:i}=e;const o=n.preview,l=o instanceof C.default?o.url():null,d=null===(t=n.emojis)||void 0===t?void 0:t.join(" "),c=d?u.fbt._("Sticker with: {emojis}",[u.fbt._param("emojis",d)],{hk:"1sig9t"}):u.fbt._("Sticker with no label",null,{hk:"1aw5TF"});return l?(0,x.jsx)("img",{className:a,draggable:"false",onClick:i,src:l,alt:c}):r?(0,x.jsx)(g.default,{onClick:i}):(0,x.jsx)(S.default,{className:(0,s.default)(_.default.placeholder,a)})}T.displayName="StickerWithWebp";const w=(e,t)=>{const n=(0,f.useModelValues)(e.mediaData,["animatedAsNewMsg","animationDuration","singleLoopDuration","mediaBlob","preview","renderableUrl","rgbaBuffer","rgbaHeight","rgbaWidth","emojis","mediaStage"]),a=(0,c.default)((()=>n.animatedAsNewMsg)).current,i=function(){const[e,t]=(0,d.useState)(l.getCachedWebpSupport),n=(0,h.default)();return(0,d.useEffect)((()=>{null==e&&(0,o.default)((0,l.detectWebpSupport)(),n).then(t).catch((e=>{if(e.name!==r.ABORT_ERROR)throw e}))}),[]),e}(),p=(0,d.useRef)(),m=(0,d.useRef)();(0,d.useImperativeHandle)(t,(()=>({startAnimation(){var e;null===(e=m.current)||void 0===e||e.startAnimation()},getImgNode:()=>p.current})));const g=(0,s.default)({[_.default.conversation]:"conversation"===e.theme,[_.default.quoted]:"quoted"===e.theme,[_.default.composeBoxQuoted]:"composeBoxQuoted"===e.theme,[_.default.stickerPanel]:"stickerPanel"===e.theme,[_.default.stickerStore]:"stickerStore"===e.theme,[_.default.stickerDetails]:"stickerDetails"===e.theme,[_.default.clickable]:Boolean(e.onClick),[_.default.large]:!0});let v;if(null==i)v=(0,x.jsx)(k,{isCreateButton:e.isCreateButton,mediaData:n,className:g,onClick:e.onClick});else{var y;const t=null===(y=n.emojis)||void 0===y?void 0:y.join(" "),r=t?u.fbt._("Sticker with: {emojis}",[u.fbt._param("emojis",t)],{hk:"1sig9t"}):u.fbt._("Sticker with no label",null,{hk:"1aw5TF"}),o=Boolean(e.animateOnView||e.isNewMsg&&!a),s=Boolean(e.loopAnimation);v=i?(0,x.jsx)(T,{ref:m,className:g,mediaData:n,loopAnimation:s,startAnimation:o,renderPreview:()=>(0,x.jsx)(k,{isCreateButton:e.isCreateButton,mediaData:n,className:g,onClick:e.onClick}),onClick:e.onClick,downloadMedia:e.downloadMedia,label:r}):(0,x.jsx)(M,{className:g,mediaData:n,loopAnimation:s,startAnimation:o,renderPreview:()=>(0,x.jsx)(k,{isCreateButton:e.isCreateButton,mediaData:n,className:g,onClick:e.onClick}),onClick:e.onClick,downloadMedia:e.downloadMedia,label:r})}return(0,x.jsx)("span",{ref:p,className:(0,s.default)(_.default.container,{[_.default.showSticker]:n.mediaStage===b.MEDIA_DATA_STAGE.RESOLVED,[_.default.large]:!0}),children:v})};var A=(0,d.forwardRef)(w);t.default=A},72625:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t,size:n}=e;return(0,i.jsx)(r.default,{className:t,xstyle:o.container,name:"sticker-placeholder",width:n,height:n})};a(n(56720));var r=a(n(23217)),i=n(85893);const o={container:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",color:"r7focko8"}}},38932:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t,onClick:n,type:a,title:c,"aria-label":f}=e,h=(0,i.default)(e,u);return(0,l.jsx)(s.default,{xstyle:t&&d.disabled,disabled:t,onClick:n,"aria-label":f,title:c,type:a,children:(0,l.jsx)(o.default,(0,r.default)({},h))})};var r=a(n(81109)),i=a(n(6479)),o=(a(n(56720)),a(n(23217))),s=a(n(1784)),l=n(85893);const u=["disabled","onClick","type","title","aria-label"],d={disabled:{opacity:"aiwu9bi8"}}},3271:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{checked:t,onChange:n,tabIndex:a,id:d}=e;const c=(0,r.useRef)(null),[f,h]=(0,o.default)(),p=(0,s.default)(c,f);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{ref:p,className:(0,i.default)(u.hiddenInput),checked:t,onChange:function(e){e.stopPropagation();const t=c.current;null!=t&&t.focus(),n(e)},type:"checkbox",tabIndex:null!=a?a:0,id:d}),(0,l.jsxs)("div",{className:(0,i.default)(u.container),onClick:function(){const e=c.current;null!=e&&e.click()},tabIndex:-1,"aria-hidden":"true","data-testid":"visual-switch",children:[(0,l.jsx)("div",{className:(0,i.default)(u.button,t&&u.buttonChecked,h&&u.buttonFocused)}),(0,l.jsx)("div",{className:(0,i.default)(u.track,t&&u.trackChecked)})]})]})};var r=n(67294),i=a(n(56720)),o=a(n(85647)),s=a(n(78506)),l=n(85893);const u={container:{display:"i86elurf",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",width:"tknnhhou",height:"jdwybkuq",marginTop:"g1eqewly",marginEnd:"kjemk6od",marginBottom:"kzyzudjh",marginStart:"k6y3xtnu",position:"g0rxnol2",cursor:"ajgl1lbb"},button:{height:"jdwybkuq",width:"m0s4cjtr",borderTopStartRadius:"ikqdvm1y",borderTopEndRadius:"m3qqxsiz",borderBottomEndRadius:"r1ncx0sg",borderBottomStartRadius:"mmj7r7ye",backgroundColor:"lbj9vhti",position:"lhggkp7q",left:"tukmaf4q",transitionProperty:"bo8jc6qi",transitionDuration:"nbciif1m",transitionTimingFunction:"oa9ii99z",boxShadow:"hjje1qk3"},buttonChecked:{transform:"e95mh68g",backgroundColor:"my8w5w2u"},buttonFocused:{boxShadow:"r6unq4of"},track:{width:"tknnhhou",height:"icj6mcig",backgroundColor:"masnrobp",borderTopStartRadius:"i3rsbmdh",borderTopEndRadius:"d6h2ibm4",borderBottomEndRadius:"rh5xaqwm",borderBottomStartRadius:"e6tbvuqx"},trackChecked:{backgroundColor:"hza3nq4c"},hiddenInput:{position:"lhggkp7q",width:"cxec7x23",height:"kanlod6e",overflowX:"gfz4du6o",overflowY:"r7fjleex",clip:"nmeg1xfo",clipPath:"okm7a8wg",whiteSpace:"le5p0ye3"}}},90011:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TextInputCustomStyleThemes=t.TextInput=void 0;var r=n(64331),i=a(n(52013)),o=a(n(40436)),s=a(n(94184)),l=n(48360),u=a(n(66919)),d=n(67294),c=(a(n(56720)),a(n(16223))),f=a(n(37453)),h=a(n(89113)),p=n(60811),m=a(n(18888)),g=n(30424),_=n(18609),v=n(65417),b=n(29424),y=a(n(14296)),C=n(11054),S=a(n(23217)),E=a(n(65690)),x=n(18644),T=a(n(24717)),M=a(n(1784)),k=n(85893);const w=(0,u.default)({groupInfoName:null,desaturated:null,noErrorInfo:null,chatInfoDefaultText:null,chatInfoLargeText:null,disabledLabel:null});t.TextInputCustomStyleThemes=w;const A={iconMain:{position:"lhggkp7q",top:"jgz0asyo",right:"grt5ktjy",color:"gtscxtjd",cursor:"ajgl1lbb",":focus":{boxShadow:"esbo3we0"}},emojiBtn:{marginEnd:"kjemk6od",marginStart:"p3lsiedt",color:"gtscxtjd",cursor:"ajgl1lbb",":focus":{boxShadow:"esbo3we0"}}};function P(e,t){var n;const{customStyleThemes:a=[],focusOnMount:u,selectOnMount:P,lockable:j,onEnter:I,multiline:O,onChange:N,onFocus:R,onBlur:D,onBeginEdit:L,lowProfile:B,error:F,validate:G,value:U,onSave:V,onError:W,onCancel:H,emptyValuePlaceholder:q,editable:Y=!0,renderEmojiTextInLockMode:z,pending:K,blockFocusOnLock:$,managed:Q,managedError:X}=e,J=(0,c.default)(m.default),Z=(0,d.useRef)(!1),ee=(0,d.useRef)(null),te=(0,d.useRef)(null),ne=(0,d.useRef)(null),[ae,re]=(0,d.useState)(e.startActive||!1),[ie,oe]=(0,d.useState)(!e.startActive&&!!j),[se,le]=(0,d.useState)(null),ue=(0,f.default)(ie),de=(0,f.default)(Y),ce=(0,f.default)(K),fe=()=>{var e;null===(e=ee.current)||void 0===e||e.focus()};(0,d.useEffect)((()=>{var e;P&&(null===(e=ee.current)||void 0===e||e.select());u&&fe()}),[]);const he=e=>{var t;null===(t=ee.current)||void 0===t||t.replaceSelection(e)},pe=()=>{le(null)},me=()=>{var e;null===(e=te.current)||void 0===e||e.restoreFocus()},ge=()=>{let e=!(!B&&F);G&&e&&(e=G(U)),e?(V&&V(),oe(!0)):W&&W()},_e=e=>{e.isDefaultPrevented()||(e.preventDefault(),re(!0),R&&R(e))},ve=e=>{e.isDefaultPrevented()||(e.preventDefault(),Z.current||(re(!1),D&&D(e)))},be=()=>{L&&L(),oe(!1)},ye=(0,h.default)((()=>{H&&H(),oe(!0)})),Ce=(0,h.default)((()=>Y&&!ie));(0,d.useEffect)((()=>{ue||!de||Y||ye(),ne.current&&!$&&(!ue&&ie||ce&&!K)&&i.default.focus(ne.current);const e=ee.current;Ce()&&!Q||(null==e?void 0:e.getValue())===U||null==e||e.reset(U||""),X&&F&&ie&&oe(!1)}),[$,Y,F,ye,Ce,ie,Q,X,K,de,ue,ce,U]),(0,d.useImperativeHandle)(t,(()=>({restoreFocus:fe})));const Se=null!==(n=e.maxLength)&&void 0!==n?n:25,Ee=Ce()&&!!e.error&&!e.lowProfile,xe={container:(0,s.default)(E.default.textInput,a&&a.map((e=>E.default[e])),{[E.default.noPlaceholder]:!e.placeholder,[E.default.invite]:"v4-invite-caption"===e.theme,[E.default.active]:Ce(),[E.default.small]:"small"===e.theme,[E.default.inputLarge]:"large"===e.theme,[E.default.editOnHover]:e.showEditOnHover,[E.default.editable]:Y,[E.default.highlightOnHover]:e.showHighlightOnHover,[E.default.focused]:ae}),label:(0,s.default)(E.default.labelText,{[E.default.float]:!!e.value,[E.default.hideFloatingLabel]:!!e.hideFloatingLabel}),inputWrapper:(0,s.default)(E.default.wrapper,{[E.default.textError]:Ee,[E.default.invite]:"v4-invite-caption"===e.theme,[E.default.textActive]:ae,[E.default.locked]:ie,[E.default.editing]:Ce()}),infoWrapper:(0,s.default)(E.default.infoStrip,{[E.default.textError]:Ee,[E.default.textActive]:ae})};let Te,Me;if(e.lockable){if(e.pending)Me=(0,k.jsx)("div",{className:(0,s.default)(E.default.iconSpinner,E.default.iconMain),children:(0,k.jsx)(C.Spinner,{size:18,stroke:6,color:"highlight"})},"spinner");else if(ie)if(Y){var ke;Me=(0,k.jsx)("button",{className:E.default.iconMain,onClick:be,title:l.fbt._("Click to edit {fieldName}",[l.fbt._param("fieldName",null!==(ke=e.fieldName)&&void 0!==ke?ke:"")],{hk:"Wjo4r"}),ref:ne.current,children:(0,k.jsx)(S.default,{className:E.default.icon,name:"pencil",directional:!0})},"btn-edit")}else e.editRestrictionInfo&&!Y&&(Me=(0,k.jsx)("div",{className:E.default.iconMain,onClick:e.editRestrictionInfo,children:(0,k.jsx)(S.default,{className:E.default.icon,name:"info"})},"btn-info"));else Me=(0,k.jsx)(M.default,{xstyle:A.iconMain,onClick:ge,title:y.default.t(184),children:(0,k.jsx)(S.default,{className:E.default.icon,name:"checkmark"})},"btn-done");e.lockable&&(Te=(0,k.jsx)(o.default,{transitionLeave:!e.showEditOnHover,transitionEnter:!e.showEditOnHover||!ie,className:E.default.iconMainContainer,transitionName:"pop",children:Me}))}const we=Ce()&&e.supportsEmoji?(0,k.jsx)(M.default,{xstyle:A.emojiBtn,onClick:e=>{e&&(e.preventDefault(),e.stopPropagation());const t=(0,k.jsx)(g.EmojiPanel,{onEmoji:he,onFocusNext:fe,onFocusPrev:fe});le({menu:t,dirY:p.DirY.TOP,type:p.MenuType.EmojiPicker,anchor:e.target}),fe()},onFocus:()=>{se&&me()},title:l.fbt._("Open emojis panel",null,{hk:"3IEMY6"}),children:(0,k.jsx)(S.default,{className:E.default.icon,name:"emoji-input"})},"emoji-btn"):null;let Ae;if(e.showRemaining){const t=(0,r.numCodepoints)(e.value||"");Ae=Se-t<50&&Ce()?(0,k.jsx)("div",{className:(0,s.default)(E.default.charCounter),children:y.default.n(Se-t)},"counter"):null}const Pe=e.supportsEmoji||e.showRemaining?(0,k.jsxs)(o.default,{className:E.default.iconsEditContainer,transitionLeave:!e.showEditOnHover,transitionName:"pop",children:[Ae,we]}):null,je=e.error?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:E.default.errorText,children:Ee?e.error:null}),(0,k.jsx)("div",{className:E.default.visiblyHidden,role:"alert",children:l.fbt._("Error: {error}",[l.fbt._param("error",e.error)],{hk:"2Q7l44"})})]}):null,Ie=e.lowProfile?null:(0,k.jsx)("div",{className:xe.infoWrapper,children:je});let Oe;if(e.lockable&&!ie){let e;se&&(e=(0,k.jsx)(x.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:pe,requestFocus:me,children:(0,k.jsx)(T.default,{contextMenu:se})})),Oe=(0,k.jsx)(x.UIE,{displayName:"TextInput",escapable:!0,dismissOnWindowResize:!0,requestFocus:fe,requestDismiss:ye,children:(0,k.jsx)("div",{children:e})})}else!e.lockable&&se&&(Oe=(0,k.jsx)(x.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:pe,requestFocus:me,children:(0,k.jsx)(T.default,{contextMenu:se})}));const Ne=Y&&!ie,Re=J.current,De=Ne||!z,Le=e.theme||"default",Be=e.showHighlightOnHover&&ie?{margin:0}:null;let Fe,Ge;a.includes(w.chatInfoLargeText)?(Fe=24,Ge=28):a.includes(w.chatInfoDefaultText)&&(Fe=16,Ge=24);const Ue=De?(0,k.jsx)("div",{className:(0,s.default)(E.default.inputWrapper,{[E.default.constrainedWidth]:e.constrainedWidth}),children:(0,k.jsx)(Re,{a8n:e.a8n,ref:ee,initialValue:e.value,theme:Le,multiline:e.multiline,onChange:e=>{N&&N(e)},onFocus:_e,onBlur:ve,onEnter:e=>{j&&ge(),I&&!O&&I(e)},onKeyDown:e.onKeyDown,onFiles:e.onFiles,spellCheck:e.spellCheck,maxLength:e.maxLength,readOnly:!Ne,title:e.title,placeholder:e.inputPlaceholder,style:Be,size:Fe,lineHeight:Ge})}):(()=>{if(!z||!U)return;const{textLimit:e,readMoreText:t,onReadMore:n,formatters:a,ellipsify:i,multiline:o,inferLinesDirection:s}=z;return(0,k.jsxs)("div",{className:E.default.emojiText,children:[(0,k.jsx)(v.EmojiText,{text:U,ellipsify:i,multiline:o,selectable:!0,emojiSize:v.EMOJI_SIZE.SMALL,textLimit:e,formatters:a,inferLinesDirection:s}),(0,r.numCodepoints)(U)>e&&(0,k.jsx)(M.default,{onClick:n,children:(0,k.jsxs)("span",{className:E.default.more,children:[" ",t]})})]})})();let Ve,We;return e.placeholder&&(Ve=(!e.value||!e.hideFloatingLabel)&&(0,k.jsx)("span",{className:xe.label,children:e.placeholder}),We=(0,k.jsx)("div",{className:E.default.spacer})),(0,k.jsxs)(b.HotKeys,{className:xe.container,onFocus:_e,onBlur:ve,children:[Ve,We,(0,k.jsxs)("div",{className:xe.inputWrapper,children:[Ue,(!U||""===U)&&q&&ie&&(0,k.jsx)("div",{className:E.default.emptyValPlaceholder,children:q}),Pe,Te]}),De&&(0,k.jsx)(Re.EmojiSuggestions,{theme:_.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:e=>{Z.current=e}}),Ie,Oe]})}const j=(0,d.forwardRef)(P);t.TextInput=j},71688:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const a=e.maxLines,h=null===(t=e.style)||void 0===t?void 0:t.singleLine,p=null===(n=e.style)||void 0===n?void 0:n.multipleLine,[m,g]=(0,o.useState)(h),_=(0,l.default)(m),{width:v}=(0,u.default)(),b=(0,l.default)(v),y=(0,o.useCallback)((e=>{if(null==e||!(v>0))return;if(1===a||null==p)return;const t=(0,d.getNumberOfLines)(e);m===h&&_===p&&t>1||m!==p&&(null==b||v<b)&&t>1?g(p):m!==h&&(null==b||v>b)&&1===t&&g(h)}),[a,h,p,m,_,v,b]);let C;(0,i.default)(a>=1,"expect lines to be >= 1"),C=1===a?{display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:a};return(0,c.jsx)("span",{ref:y,className:(0,r.default)((0,s.default)(f),m),style:C,dir:e.dir,children:e.children})};var r=a(n(94184)),i=a(n(41143)),o=n(67294),s=a(n(56720)),l=a(n(37453)),u=a(n(87778)),d=n(33811),c=n(85893);const f={position:"g0rxnol2",overflowX:"gfz4du6o",overflowY:"r7fjleex"}},2712:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipAnchor=t.Tooltip=void 0;var r=a(n(99964)),i=a(n(56720)),o=n(85893);const s=n(76672).Mirrored(["Left","Right","Top","Bottom"]);t.TooltipAnchor=s;const l={position:"lhggkp7q",zIndex:"qwzl264q",display:"l7jjieqr",maxWidth:"b1w2sqt8",paddingTop:"fbgy3m38",paddingEnd:"kyc7k6mt",paddingBottom:"oq31bsqd",paddingStart:"f78eapp6",fontSize:"ovllcyds",color:"gt1inm12",textAlign:"qfejxiq4",textOverflow:"lhj4utae",textShadow:"s52zzds6",whiteSpace:"le5p0ye3",backgroundColor:"puskumha",borderTopStartRadius:"ajyz1gl2",borderTopEndRadius:"y4d21rkf",borderBottomEndRadius:"aznl1635",borderBottomStartRadius:"n3l3zu01",animationName:"n0uige08",animationDuration:"ijnr8jqx",animationTimingFunction:"gaqnkt02"},u={top:"myeiuhv9",left:"eej3x5sv",transform:"btgdcgtm"},d={top:"myeiuhv9",right:"f6un2avg",transform:"teu70ee9"},c={top:"cy13c0w7",right:"j3as33wi",transform:"h442i0ze"},f={right:"j3as33wi",bottom:"iibwf64q",transform:"hvx74mdw"};function h(e){switch(e){case s.Left:return u;case s.Right:return d;case s.Top:return c;case s.Bottom:return f}}t.Tooltip=e=>{let{children:t,anchor:n=s.Right}=e;return(0,o.jsx)("div",{"data-a8n":r.default.key("tooltip"),className:(0,i.default)(l,h(n)),children:t})}},24717:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=n(81572),o=n(67294),s=a(n(95402));function l(e,t){const{contextMenu:n}=e,a=(0,s.default)(),l=(0,o.useRef)(null);(0,o.useEffect)((()=>(i.Cmd.openContextMenu({menuOptions:n,uim:(0,r.default)(a,"uim")},(e=>{l.current=e})),()=>{i.Cmd.closeContextMenu(a)})),[]);const u=()=>l.current;return(0,o.useImperativeHandle)(t,(()=>({getElement:u}))),null}var u=(0,o.forwardRef)(l);t.default=u},46780:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(81572),i=n(67294),o=a(n(95402));function s(e,t){const{tooltip:n}=e,a=(0,i.useRef)(null),s=(0,o.default)();(0,i.useEffect)((()=>{if(null!=s)return r.Cmd.openTooltip({menuOptions:n,uim:s},(e=>{a.current=e})),()=>{r.Cmd.closeTooltip(s)}}),[]);const l=()=>a.current;return(0,i.useImperativeHandle)(t,(()=>({getElement:l}))),null}var l=(0,i.forwardRef)(s);t.default=l},1784:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(6479)),o=a(n(99964)),s=a(n(94184)),l=n(67294),u=a(n(56720)),d=a(n(85647)),c=a(n(78506)),f=n(85893);const h=["a8nText","className","children","dataTab","disabled","onClick","onMouseEnter","onMouseDown","title","type","onFocus","xstyle"],p={button:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",fontFamily:"shdiholb",fontSize:"phqmzxqs",color:"gtscxtjd",cursor:"ajgl1lbb",backgroundColor:"thr4l2wc",borderTop:"cc8mgx9x",borderEnd:"eta5aym1",borderBottom:"d9802myq",borderStart:"e4xiuwjv"},focused:{borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",boxShadow:"lgxs6e1q"},disabled:{cursor:"rcg4vxlo"}};function m(e,t){let{a8nText:n,className:a,children:l,dataTab:m,disabled:g,onClick:_,onMouseEnter:v,onMouseDown:b,title:y,type:C="button",onFocus:S,xstyle:E}=e,x=(0,i.default)(e,h);const[T,M]=(0,d.default)(),k=(0,c.default)(t,T),w={};return null!=x["aria-label"]&&(w["aria-label"]=x["aria-label"]),null!=x["aria-pressed"]&&(w["aria-pressed"]=x["aria-pressed"]),(0,f.jsx)("button",(0,r.default)((0,r.default)({className:(0,s.default)((0,u.default)(p.button,M&&p.focused,g&&p.disabled,E),a),"data-tab":null!=m?m:void 0,"data-a8n":o.default.key(n),disabled:!0===g,onClick:_,onMouseEnter:v,onMouseDown:b,onFocus:S,ref:k,title:y,type:C},w),{},{children:l}))}var g=(0,l.forwardRef)(m);t.default=g},23520:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useRollerCounter=function(e,t){const[n,a]=(0,r.useState)(t),[o,s]=(0,r.useState)(null),l=(0,r.useRef)(null);null==l.current&&(l.current=e);const u=(0,i.default)((()=>{null!=l.current&&l.current!==t&&(a(t),s(l.current)),l.current=null}),50);null!=t&&u();return{currentValueProp:n,previousValueProp:o}};var r=n(67294),i=a(n(51799))},35148:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=l.default.t(181),n=r.fbt._("Business Account",null,{hk:"3UVemK"}),a=(0,i.useModelValues)(e.contact,["name","verifiedName"]),h=(0,i.useModelValues)(e.presence,["withholdDisplayStage","forceDisplay","hasData"]);(0,i.useModelValues)(e.chatstate,["type","deny","t"]);const{location:p,showBusinessCheckmark:m}=e;let g,_;g="list"===p||"info"===p?h.getUserSubtitleText():h.withholdDisplayStage===u.WithholdDisplayStage.Info?t:h.withholdDisplayStage===u.WithholdDisplayStage.Business?n:h.getUserSubtitleText()||(h.forceDisplay?"":t);g&&(_=(0,f.jsx)(o.default,{text:g,location:p}));if("title"===p&&g!==t&&g!==n&&m)return(0,f.jsxs)("div",{className:c.default.wrapper,children:[(0,f.jsx)(s.EmojiText,{text:a.verifiedName,className:c.default.verifiedText,direction:"auto",ellipsify:!0,titlify:!0}),(0,f.jsx)("div",{className:c.default.icon,children:(0,f.jsx)(d.default,{name:"psa-verified"})}),_&&(0,f.jsx)("span",{className:c.default.divider,children:"·"}),_]});return _||null};var r=n(48360),i=n(35461),o=a(n(32756)),s=n(65417),l=a(n(14296)),u=n(42931),d=a(n(23217)),c=a(n(60299)),f=n(85893)},23425:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(22712),i=a(n(94184)),o=n(67294),s=a(n(16223)),l=n(87550),u=a(n(55010)),d=a(n(82796)),c=n(85893);var f=(0,o.forwardRef)(((e,t)=>{const{srcObject:n,src:a,autoPlay:f,muted:h,controls:p,onPlay:m,onLoadedMetadata:g}=e,_=(0,o.useRef)(null),[v,b]=(0,o.useState)(!1),[y,C]=(0,o.useState)(null);(0,u.default)((()=>{var e;null===(e=_.current)||void 0===e||e.call(_)}));const S=()=>y,E=()=>{(null==y?void 0:y.paused)&&y.play()},x=()=>{y&&(y.currentTime=0,y.paused||y.pause())},T=()=>null==y?void 0:y.duration;(0,o.useImperativeHandle)(t,(()=>({underlyingVideo:S,play:E,pauseAndReset:x,getDuration:T})));const M=(0,s.default)((()=>Symbol("audio-channel")));return(0,o.useEffect)((()=>{y&&("srcObject"in y&&n?y.srcObject=n:a&&(y.src=a)),f&&(null==y||y.play())}),[y]),(0,l.useListener)(y,"playing",(()=>{y&&(!0!==h&&(_.current=()=>{r.MainAudioChannel.claim(M.current,(()=>{!0===p&&y.pause()}))}),y.videoHeight&&y.videoWidth||v||(b(!0),y.pause(),y.play(),__LOG__(4,void 0,new Error,!0,["non-sad"])`Neither the height nor the width of video should have zero value`,SEND_LOGS("non-zero height and width")),y.videoHeight&&y.videoWidth&&m&&(m(y),b(!1)))})),(0,l.useListener)(y,"pause",(()=>{var e;null===(e=_.current)||void 0===e||e.call(_)})),(0,c.jsx)("video",{ref:C,className:(0,i.default)(d.default.video,e.className),muted:e.muted,controls:e.controls,controlsList:e.controlsList,width:e.width,height:e.height,loop:e.loop,onClick:e.onClick,onEnded:e.onEnded,onLoadedMetadata:e=>{null==g||g(e)},onLoadedData:e.onLoadedData,style:e.style,children:e.children})}));t.default=f},99967:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(23279)),i=n(22712),o=n(26741),s=n(55452),l=n(67294),u=a(n(58528)),d=n(84387),c=a(n(34949)),f=n(62583),h=a(n(65932)),p=n(70437),m=n(65044),g=n(85893);const _=(0,r.default)(((e,t)=>{(0,s.setVideoVolumeSettings)(e,t)}),500);class v extends l.PureComponent{constructor(){super(...arguments),this.checkIteration=0,this.checkForSuccessInterval=null,this.hasCalledPlaying=!1,this.mediaBlobWasDownloadedBeforeMount=Boolean(this.props.mediaData.mediaBlob),this.refVideo=(0,l.createRef)(),this._handleVolumeChange=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;t&&_(t.volume,t.muted)},this.startCheckForSuccess=()=>{this.checkIteration=0,null==this.checkForSuccessInterval&&(this.checkForSuccessInterval=setInterval(this.checkForSuccess,250))},this.clearCheckForSuccess=()=>{null!=this.checkForSuccessInterval&&(clearInterval(this.checkForSuccessInterval),this.checkIteration=0,this.checkForSuccessInterval=null)},this.checkForSuccess=()=>{var e;if(m.Socket.state!==f.SOCKET_STATE.CONNECTED)return;this.checkIteration++;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current,n=null==t?void 0:t.buffered;(null==n?void 0:n.length)&&n.end(0)>0?this._handlePlaying():this.checkIteration>240&&this.clearCheckForSuccess()},this._handlePlayerError=()=>{this.clearCheckForSuccess()},this.pause=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;t&&(t.paused||t.pause())},this._handlePlaying=()=>{this.clearCheckForSuccess()},this._handleLoadedMetadata=e=>{this.setStartTime();const{onLoadedMetadata:t}=this.props;t&&t(e)},this.setStartTime=()=>{var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;null!=this.props.startTime&&0!==this.props.startTime&&t&&(t.currentTime=this.props.startTime)},this._handleContextMenu=e=>{this.props.disableContextMenu&&e.preventDefault()}}componentDidMount(){this._updateVideoUserPrefs(),this._updateAudioChannel(),this.props.refVideo&&this.props.refVideo(this.refVideo)}_updateAudioChannel(){var e;const t=this.refVideo.current;t!==this._prevVideo&&(this._prevVideo=t,null===(e=this._unregisterFromAudioChannel)||void 0===e||e.call(this),null!=t&&(this._unregisterFromAudioChannel=i.MainAudioChannel.registerMedia(t)))}componentWillUnmount(){var e;null===(e=this._unregisterFromAudioChannel)||void 0===e||e.call(this),_.flush(),this.clearCheckForSuccess(),this.pause(),o.UA.isBlink&&this.refVideo.current&&(0,u.default)(this.refVideo.current)}componentDidUpdate(e){this._updateVideoUserPrefs(),this._updateAudioChannel(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}_updateVideoUserPrefs(){var e;const t=null===(e=this.refVideo)||void 0===e?void 0:e.current;if(t){const e=(0,s.getVideoVolumeSettings)();e&&("number"==typeof e.volume&&(t.volume=e.volume),"boolean"==typeof e.muted&&(t.muted=e.muted)),y()&&this.props.autoPlay&&this.startCheckForSuccess()}}render(){const e=this.props,{mediaData:t}=e,n=t.mediaBlob;let a;const r=t.streamable&&t.isStreamable();if((this.mediaBlobWasDownloadedBeforeMount||!r)&&n instanceof c.default)a=n.url();else{if(!t.streamable||!t.isStreamable())return null;a=`${p.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`}const i=y()&&!e.autoPlay?this.startCheckForSuccess:void 0;return(0,g.jsx)("video",{ref:this.refVideo,src:a,poster:e.poster,className:e.className,controls:e.controls,autoPlay:e.autoPlay,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onVolumeChange:this._handleVolumeChange,onLoadedMetadata:this._handleLoadedMetadata,onPlay:i,onPlaying:this._handlePlaying,onError:this.clearCheckForSuccess,onContextMenu:this._handleContextMenu,children:e.children})}}v.CONCERNS={msg:["id"],mediaData:["mediaBlob","streamable"]},v.displayName="VideoTag";var b=(0,d.ListenerHOC)((0,h.default)(v,v.CONCERNS));function y(){return o.UA.isGecko||o.UA.isSafari}t.default=b},38090:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerState=void 0,t.YouTube=f;var r=a(n(48926)),i=a(n(81109)),o=a(n(18446)),s=n(67294),l=a(n(11062)),u=n(85893);function d(e){return(0,i.default)((0,i.default)({},e),{},{playerVars:(0,i.default)((0,i.default)({},e.playerVars),{},{autoplay:0,start:0,end:0})})}const c={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function f(e){const{onReady:t,onError:n,onStateChange:a,onEnd:f,onPlay:h,onPause:p,onPlaybackRateChange:m,onPlaybackQualityChange:g,opts:_,videoId:v,id:b,className:y}=e,C=(0,s.useRef)(null),S=(0,s.useRef)(null),E=(0,s.useRef)([]),x=(0,s.useRef)(e),T=(0,s.useCallback)((e=>t(e)),[t]),M=(0,s.useCallback)((e=>n(e)),[n]),k=(0,s.useCallback)((e=>{switch(a(e),e.data){case c.ENDED:f(e);break;case c.PLAYING:h(e);break;case c.PAUSED:p(e)}}),[f,p,h,a]),w=(0,s.useCallback)((e=>m(e)),[m]),A=(0,s.useCallback)((e=>g(e)),[g]),P=(0,s.useCallback)((()=>{var e,t,n,a;const r=(0,i.default)((0,i.default)({},_),{},{videoId:v});S.current=(0,l.default)(C.current,r),E.current.push(S.current.on("ready",T),null===(e=S.current)||void 0===e?void 0:e.on("error",M),null===(t=S.current)||void 0===t?void 0:t.on("stateChange",k),null===(n=S.current)||void 0===n?void 0:n.on("playbackRateChange",w),null===(a=S.current)||void 0===a?void 0:a.on("playbackQualityChange",A))}),[M,A,w,T,k,_,v]);(0,s.useEffect)((()=>(P(),()=>{var e;E.current.filter(Boolean).forEach((e=>{var t;null===(t=S.current)||void 0===t||t.off(e)})),null===(e=S.current)||void 0===e||e.destroy()})),[]);const j=(0,s.useCallback)((()=>{var e,t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.destroy().then(P))&&void 0!==e?e:Promise.resolve()}),[P]),I=(0,s.useCallback)((0,r.default)((function*(){var e;const t=yield null===(e=S.current)||void 0===e?void 0:e.getIframe();b?null==t||t.setAttribute("id",b):null==t||t.removeAttribute("id"),y?null==t||t.setAttribute("class",y):null==t||t.removeAttribute("class")})),[y,b]),O=(0,s.useCallback)((()=>{var e,t;if(null==v)return void(null===(t=S.current)||void 0===t||t.stopVideo());let n,a,r=!1;"playerVars"in _&&(r=1===_.playerVars.autoplay,"start"in _.playerVars&&(n=_.playerVars.start),"end"in _.playerVars&&(a=_.playerVars.end));const i={videoId:v,startSeconds:n,endSeconds:a};var o;r?null===(o=S.current)||void 0===o||o.loadVideoById(i):null===(e=S.current)||void 0===e||e.cueVideoById(i)}),[_,v]);return(0,s.useEffect)((()=>{const t=x.current;(function(e,t){return e.id===t.id||e.className===t.className})(t,e)&&I(),function(e,t){return!(0,o.default)(d(e.opts),d(t.opts))}(t,e)&&j(),function(e,t){if(e.videoId!==t.videoId)return!0;const n=e.opts.playerVars||{},a=t.opts.playerVars||{};return n.start!==a.start||n.end!==a.end}(t,e)&&O(),x.current=e}),[e,j,I,O]),(0,u.jsx)("span",{className:e.containerClassName,children:(0,u.jsx)("div",{id:e.id,className:e.className,ref:C})})}t.PlayerState=c,f.defaultProps={id:null,className:null,opts:{playerVars:{}},containerClassName:"",onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}}},36707:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderDescription=p,t.OrderPreview=function(e){const{msg:t,onClick:n,theme:a}=e,{thumbnail:i,isSentByMe:o}=t;let s;i&&(s=(0,c.jsx)("div",{className:l.default.media,style:{backgroundImage:`url("data:image/jpeg;base64,${i}")`}}));const u=(0,r.default)(l.default.preview,{[l.default.bubbleIn]:!o&&"quoted"!==a,[l.default.bubbleOut]:o||"quoted"===a,[l.default.quoted]:"quoted"===a});return(0,c.jsxs)("div",{className:u,onClick:n,children:[s,(0,c.jsxs)("div",{className:l.default.body,children:[(0,c.jsx)(h,{msg:t}),(0,c.jsx)(p,{msg:t})]})]})},t.OrderTitle=h;var r=a(n(94184)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(39519)),o=n(65417),s=a(n(14296)),l=a(n(10593)),u=n(64551),d=a(n(23217)),c=n(85893);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e){const{msg:t}=e;let n;if(u.ServerProps.webCartV11OrderMessageChanges){const e=s.default.t(395,{count:t.itemCount||0,_plural:t.itemCount||0});n=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{className:l.default.titleIcon,name:"shopping-cart"}),(0,c.jsx)(o.EmojiText,{text:e})]})}else n=(0,c.jsx)(o.EmojiText,{text:t.orderTitle});return(0,c.jsx)("div",{className:l.default.title,children:n})}function p(e){const{msg:t,showMessage:n}=e,{totalAmount1000:a,totalCurrencyCode:r,itemCount:f}=t;let h=null;if(u.ServerProps.webCartV11OrderMessageChanges&&null!=a&&null!=r&&""!==r){const e=s.default.t(537,{total:i.formatAmount1000(r,a)});h=(0,c.jsx)(o.EmojiText,{text:e})}else if(!u.ServerProps.webCartV11OrderMessageChanges){const e=s.default.t(395,{count:f||0,_plural:f||0});h=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{className:l.default.descriptionIcon,name:"shopping-cart"}),(0,c.jsx)(o.EmojiText,{text:e})]})}const p=!0===n?(0,c.jsx)(o.EmojiText,{text:t.message}):null;return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:l.default.description,children:h}),p]})}},24667:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,onClick:n}=e;const{list:a,isSentByMe:h,dir:p,productListHeaderImage:m}=(0,o.useModelValues)(t,["list","isSentByMe","dir","productListHeaderImage"]),[g,_]=(0,s.default)(n);if(null==a)return null;const v=null!=m?(0,f.jsx)("div",{alt:"",className:c.default.media,style:{backgroundImage:`url(${(0,d.convertToDataURI)(m)})`}}):null,b=(0,f.jsx)("div",{className:c.default.title,children:(0,f.jsx)(l.EmojiText,{text:a.title,ellipsify:!0})}),y=u.default.t(395,{count:t.productListItemCount||0,_plural:t.productListItemCount||0}),C=(0,f.jsx)(l.EmojiText,{text:y,direction:p,ellipsify:!0}),S=(0,i.default)(c.default.preview,{[c.default.bubbleOut]:h});return(0,f.jsxs)("div",(0,r.default)((0,r.default)({},_),{},{className:S,ref:g,children:[v,(0,f.jsxs)("div",{className:c.default.body,children:[b,(0,f.jsx)("div",{className:c.default.description,children:C})]})]}))};var r=a(n(81109)),i=a(n(94184)),o=n(35461),s=a(n(34470)),l=n(65417),u=a(n(14296)),d=n(81309),c=a(n(59431)),f=n(85893)},72345:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeNumberNotification=function(e){const t=(0,c.useModelValues)(e.chat,["changeNumberOldJid","changeNumberNewJid","id","showChangeNumberNotification"]),n=()=>{const{changeNumberNewJid:e}=t,n=t.id;y((0,r.default)(e,"changeNumberNewJid"),n)},a=()=>{(0,i.sendDismissChangeNumber)(t)},{changeNumberOldJid:o,changeNumberNewJid:p,id:m}=t,C=void 0===o&&void 0!==p,S=void 0!==o&&void 0===p,E=(0,d.useMemo)((()=>{const e=o||m,t=g.ContactCollection.get(e),n=(null==t?void 0:t.isMyContact)?t.formattedName:(0,l.widToFormattedUser)(e);return S?u.fbt._("{name} changed their phone number. You're currently chatting with their new number.",[u.fbt._param("name",n)],{hk:"3G9LoK"}):u.fbt._("{name} changed their phone number to a new number.",[u.fbt._param("name",n)],{hk:"2D0P7f"})}),[o,m,S]);let x=null;if(t.showChangeNumberNotification){const e=C?(0,b.jsx)("div",{className:h.default.messageNewNumberButton,children:(0,b.jsx)(f.default,{onClick:n,type:"plain-white",nowrap:!0,children:u.fbt._("Message new number",null,{hk:"4pjpb0"})})}):null;x=(0,b.jsx)(_.default,{onClose:a,children:(0,b.jsxs)("div",{className:h.default.container,children:[(0,b.jsx)(v.TextSpan,{theme:"plain",className:h.default.text,children:E}),e]})})}return(0,b.jsx)(s.default,{transitionName:"butterbar",children:x})},t.onChangeNumberNotificationClick=y;var r=a(n(45095)),i=n(54907),o=n(81572),s=a(n(40436)),l=n(62054),u=n(48360),d=n(67294),c=n(35461),f=a(n(39770)),h=a(n(70744)),p=n(69951),m=n(88172),g=n(19380),_=a(n(84518)),v=n(13923),b=n(85893);function y(e,t){const n=p.ChatCollection.gadd(e);n.changeNumberOldJid||(n.changeNumberOldJid=t),n.changeNumberNewJid=void 0,o.Cmd.openChatFromUnread(n).then((e=>{e&&m.ComposeBoxActions.focus(n)}))}},29250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasText=function(){return n},t.setHasText=function(e){n=e};let n=!1},21518:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(48926)),o=r(n(81109)),s=n(89385),l=n(50796),u=r(n(45095)),d=n(57319),c=n(92574),f=n(81572),h=r(n(64369)),p=r(n(38224)),m=n(41455),g=n(65885),_=r(n(45120)),v=Oe(n(51428)),b=n(38184),y=Oe(n(95726)),C=Oe(n(35232)),S=n(8139),E=n(14597),x=n(55715),T=n(94816),M=r(n(76139)),k=n(55452),w=r(n(40436)),A=r(n(94184)),P=n(48360),j=n(67294),I=r(n(51799)),O=r(n(59312)),N=r(n(16223)),R=n(87550),D=n(35461),L=r(n(55010)),B=n(1776),F=r(n(89113)),G=r(n(44395)),U=n(32826),V=n(3198),W=n(11933),H=n(4841),q=n(88172),Y=r(n(31079)),z=r(n(52665)),K=r(n(5354)),$=n(24808),Q=n(65100),X=n(52191),J=r(n(26847)),Z=r(n(46220)),ee=n(29250),te=n(29424),ne=r(n(78227)),ae=r(n(14296)),re=r(n(19146)),ie=n(61596),oe=n(46371),se=r(n(11339)),le=r(n(34949)),ue=n(24264),de=r(n(27616)),ce=n(77853),fe=n(371),he=r(n(24317)),pe=n(35863),me=n(28311),ge=r(n(15554)),_e=n(77690),ve=n(70597),be=n(26892),ye=r(n(264)),Ce=r(n(70298)),Se=n(85330),Ee=n(5524),xe=n(18146),Te=n(50452),Me=n(18644),ke=n(89618),we=r(n(74460)),Ae=r(n(15804)),Pe=r(n(46603)),je=n(85893);function Ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ie=function(e){return e?n:t})(e)}function Oe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ie(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}const Ne=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,Re=parseInt(ne.default["-overlay-border-left"].replace(/px$/,""),10);var De=(0,j.forwardRef)(((e,t)=>{const{onPageUpDown:n,onComposeHeightChange:r}=e,Ie=(0,O.default)(),Oe=(0,D.useModelValues)(e.chat,["id","trusted","composeContents","composeQuotedMsg","isPSA","isGroup","pttRecordingSession","shouldAppearInList","presence","contact","attachMediaContents","quotedMsgAdminGroupJid","quotedMsgAdminGroupSubject","quotedMsgAdminParentGroupJid","receivedVcardMsgs","vcardDismissed","composeQuotedMsgRemoteJid"]),De=(0,B.useSetModelValue)(Oe,"composeQuotedMsg"),Be=(0,B.useSetModelValue)(Oe,"quotedMsgAdminGroupJid"),Fe=(0,B.useSetModelValue)(Oe,"composeQuotedMsgRemoteJid"),Ge=(0,B.useSetModelValue)(Oe,"pttRecordingSession"),Ue=(0,j.useMemo)((()=>Oe.getComposeContents()),[Oe]),Ve=(0,j.useRef)(Ue.omittedURL),[We,He]=(0,j.useState)(null),qe=(0,j.useRef)(Ue.omittedURL),Ye=(0,j.useRef)(Ue.text||""),ze=()=>{const e=(0,H.removeCodeBlocks)(Ye.current);return y.findLinks(e,!0)[0]},Ke=(0,Pe.default)(),$e=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0!==e&&We&&(qe.current=Ve.current,He(null))},Qe=()=>{Ve.current=null,$e()},[Xe,Je]=(0,j.useState)(!!Ye.current),[Ze,et]=(0,j.useState)(Ue.ctwaContextLinkData),tt=(0,j.useRef)(null),nt=(0,j.useRef)(null),at=(0,j.useRef)(null),rt=(0,j.useRef)(null),it=(0,j.useRef)(null),ot=(0,j.useRef)(null),st=(0,j.useRef)(Ue.selection),lt=(0,j.useRef)(0),ut=(0,j.useRef)([]),dt=(0,N.default)((()=>new a)),ct=(0,j.useRef)(!1),ft=(0,j.useRef)(!1),ht=(0,j.useRef)(null),pt=(0,F.default)((()=>{if(!Xe||Ze)return void Qe();const e=ze();if(!e)return void Qe();const t=e.url;if(Ve.current&&Ve.current===t)return;Ve.current=t,qe.current=null;const n=dt.current.signal,a=(0,re.default)(e,!0).then((e=>{if(n.aborted)throw new s.AbortError;if(e&&Ve.current===e.url&&e.data&&(e.data.title||e.data.description))return He(e),((e,t)=>{const{thumbnailHQ:n}=e.data;return n?le.default.createFromBase64Jpeg(n).then((e=>(0,we.default)({thumbnail:e,mediaType:ie.MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:(0,ge.default)(),uploadOrigin:(0,Z.default)(Oe),forwardedFromWeb:!1,signal:t,timeout:h.default.MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}))).then((t=>{const n=t.mediaEntry;if(!n)return;const a={mediaKey:n.mediaKey,mediaKeyTimestamp:n.mediaKeyTimestamp,thumbnailDirectPath:n.directPath,thumbnailSha256:t.filehash,thumbnailEncSha256:n.encFilehash};if((null==We?void 0:We.url)===e.url){const t=(0,o.default)((0,o.default)({},e),{},{data:(0,o.default)((0,o.default)({},e.data),a)});He(t)}})).catch((0,s.catchAbort)((()=>{}))).catch((()=>{__LOG__(2)`Full preview upload has failed: `})):Promise.resolve()})(e,n)}));ut.current.push(a),a.catch((0,l.filteredCatch)([C.Unmount,c.WebdDrop],(()=>{}))).catch((0,s.catchAbort)((()=>{})))})),mt=(0,N.default)((()=>new d.ShiftTimer(pt))),gt=(0,j.useRef)({text:"",rawText:"",data:{}}),_t=(0,j.useRef)(null),vt=(0,j.useRef)(null),bt=(0,j.useRef)(null),[yt]=(0,j.useState)(!1),[Ct,St]=(0,j.useState)(!1),[Et,xt]=(0,j.useState)(Oe.pttRecordingSession),[Tt,Mt]=(0,j.useState)(null!=Oe.pttRecordingSession),[kt,wt]=(0,j.useState)(null),[At,Pt]=(0,j.useState)(!1),[jt,It]=(0,j.useState)(p.default.get().textsize),[Ot,Nt]=(0,j.useState)(Ue.ctwaContext),[Rt,Dt]=(0,j.useState)({handleOnce:[],handleMultiple:[]});(0,R.useListener)(U.BlocklistCollection,["add","remove","reset"],Ie),(0,R.useListener)(b.LegacyPhoneFeatures.supportsFeature(b.LegacyPhoneFeatures.F.INDEX_RECEIVED_VCARD)?Oe.getReceivedVcardMsgs():null,["add","remove","reset"],Ie);const Lt=()=>{let e=null;var t;(0,S.newComposeBoxInputEnabled)()&&Ye.current&&(e=JSON.stringify(null===(t=_t.current)||void 0===t?void 0:t.toJSON()));Oe.setComposeContents({text:Ye.current,selection:st.current,omittedURL:qe.current,ctwaContextLinkData:Ze,ctwaContext:Ot,editorStateJSON:e})},Bt=e=>{Lt(),Qe();e.sourceUrl&&(0,pe.fetchCtwaContextData)(e).then((e=>{Nt(e),Lt()})).catch((e=>{__LOG__(3)`Unable to retrieve CTWA context data, error: ${e}`}))};(0,j.useEffect)((()=>{lt.current=(0,u.default)(at.current,"composeBlockRef.current").clientHeight,mt.current.debounceAndCap(50,50),!Ze||Ot&&Ot.sourceUrl===Ze.sourceUrl||(Nt(null),Bt(Ze))}),[]);(0,L.default)((()=>{var e;mt.current.cancel(),dt.current.abort(),null===(e=ht.current)||void 0===e||e.cancel(),Lt()}));const Ft=(0,I.default)(Lt,200),Gt=()=>{const e=Ye.current.trim().length>0;return(0,ee.setHasText)(e),e},Ut=e=>{var t,n;(0,S.newComposeBoxInputEnabled)()?null===(t=bt.current)||void 0===t||t.focus():null===(n=ot.current)||void 0===n||n.focus(e)},Vt=e=>{var t,n;(0,S.newComposeBoxInputEnabled)()?null===(t=bt.current)||void 0===t||t.replaceSelection(e):null===(n=ot.current)||void 0===n||n.replaceSelection(e)},Wt=()=>{Pt(!1)},Ht=()=>{E.ModalManager.open((0,je.jsx)(z.default,{title:ae.default.t(469),onOK:()=>{E.ModalManager.close()},okText:P.fbt._("OK",null,{hk:"2KEeHb"}),children:ae.default.t(468)}))},qt=()=>{var e,t;(0,S.newComposeBoxInputEnabled)()?null===(e=bt.current)||void 0===e||e.reset():null===(t=ot.current)||void 0===t||t.reset()},Yt=()=>{Ut()},zt=()=>{},Kt=()=>{et(null),Nt(null),Lt(),mt.current.onOrBefore(1)},$t=e=>{var t;n&&(e.stopPropagation(),n(e),null===(t=ht.current)||void 0===t||t.debounce(0))},Qt=(0,F.default)((()=>Oe.getComposeContents())),Xt=(0,F.default)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{initCaptionUsed:n}=t;e&&n&&qt(),e&&Kt()})),Jt=(0,F.default)((()=>{Ft.flush()})),Zt=()=>{wt(null),Yt()},en=(e,t,n)=>{const a=(0,J.default)(e,{headers:{Accept:"video/mp4"}}).then((e=>{if(!e.ok)throw __LOG__(3)`failed loading gif (status: ${e.status})`,new C.MediaFileFailedLoad;return e.blob()})).then(function(){var e=(0,i.default)((function*(e){const{thumbs:[a],duration:r}=yield v.generateVideoThumbsAndDuration({file:e,maxDimensions:[h.default.IMG_THUMB_MAX_EDGE],debugHint:"handleGif"});return{file:e,filename:t,mimetype:e.type,isGif:!0,gifAttribution:n,fullPreview:window.URL.createObjectURL(e),fullPreviewSize:{width:a.fullWidth,height:a.fullHeight},preview:M.default.parseDataURL(a.url).data,duration:r}}));return function(){return e.apply(this,arguments)}}());return Ft.flush(),f.Cmd.attachMediaDrawer({chat:Oe,attachments:[a],initCaption:Qt(),fileOrigin:se.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:(e,t)=>{Xt(e,t),e&&Zt()}}),a.catch((()=>{})),a},tn=e=>{var t;if((0,S.newComposeBoxInputEnabled)())return;let{target:n}=e;const a=null===(t=ot.current)||void 0===t?void 0:t.getRefInput(),r=(0,u.default)(nt.current,"containerRef.current");do{if(n===a)return}while(n!==r&&n instanceof HTMLElement&&(n=n.parentNode));Le(e),Ut(!1)},nn=e=>{let t=!1;if((0,S.newComposeBoxInputEnabled)()){const n=Gt();Ye.current=e,t=Gt(),t!==n&&Je(t)}else{const n=(0,u.default)(at.current,"composeBlockRef.current").clientHeight,a=n-lt.current;a&&r({input:a},!1),lt.current=n;const i=Gt();Ye.current=e||"",""===e&&(ft.current=!0),t=Gt(),t!==i&&Je(t)}t?(Oe.presence.subscribe().catch((0,l.filteredCatch)(c.WebdDrop,(()=>{}))),(0,fe.markComposing)(Oe),(0,Q.eagerlyEstablishE2EESessionWhenTyping)(Oe)):(0,fe.markPaused)(Oe);const n=ze();(!n&&Ve.current||n&&n.url!==Ve.current)&&Qe(),ct.current?mt.current.onOrBefore(1):mt.current.debounce(700),ct.current=!1,Ft()},an=function(){var e=(0,i.default)((function*(){var e;const t=null!==(e=Oe.pttRecordingSession)&&void 0!==e?e:(0,ve.createRecordingSession)({chat:(0,xe.unproxy)(Oe)});let n;xt(t),Mt(!1);try{n=yield t.start()}finally{const e=n?t:null;Ge(e),xt(e),Mt(null!=e)}}));return function(){return e.apply(this,arguments)}}(),rn=e=>{wt(e),null!=e&&(0,k.setLastComposeBoxPanel)(e)},on=e=>{const t=e.getFiles().filter((e=>{const t=(0,g.typeFromMimetype)(e.type);return"image"===t||"video"===t}));if(e.hasType("text/html")){const t=e.getData("text/html");if(t){if(t.includes("<meta name=ProgId content=PowerPoint.Slide>"))return!1;const e=t.includes("urn:schemas-microsoft-com:office"),n=t.includes("urn:schemas-microsoft-com:office:excel");if(e&&!n)return!1}}if(t.length)return Ft.flush(),f.Cmd.attachMediaDrawer({chat:Oe,attachments:t.map((e=>({file:e}))),fileOrigin:se.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE,initCaption:Qt(),onComplete:Xt}),!0},sn=e=>{const t=Ne.exec(e);if(t){const n=`https://media.giphy.com/media/${t[1]}/200w.mp4`;return en(n,e,$.Message$VideoMessageAttribution.GIPHY).catch((()=>{var t,n;(m.DrawerManager.closeDrawerMid(),Ut(!0),(0,S.newComposeBoxInputEnabled)())?null===(t=bt.current)||void 0===t||t.replaceSelection(e):null===(n=ot.current)||void 0===n||n.replaceSelection(e);T.ToastManager.open((0,je.jsx)(Te.Toast,{msg:P.fbt._("The item you tried adding failed to load.",null,{hk:"1MmBvO"}),id:(0,Te.genId)()}))})),!0}return ct.current=!0,!1},ln=e=>{st.current=e},un=()=>{var e;null===(e=tt.current)||void 0===e||e.activate(),_.default.maybeIndicateFocus(it.current,ne.default.focusAnimation),Ut(!1)},dn=()=>{let e,t;if((0,_e.reconnect)(),(0,S.newComposeBoxInputEnabled)())e=gt.current.text,t=gt.current.data;else{const n=ot.current;if(!n)return;const a=n.serialize();e=a[0].trim(),t=a[1]}if(0===e.length&&!Ze)return;ut.current=[],dt.current.abort(),dt.current=new a,!0===Ct&&St(!1);const n=Oe.composeQuotedMsg,r=Oe.quotedMsgAdminGroupJid;let i,o;(0,S.communitiesEnabled)()&&(i=Oe.quotedMsgAdminGroupSubject,o=Oe.quotedMsgAdminParentGroupJid);const s=null==We?void 0:We.data,l=t.mentionedJidList||[],u=(0,ce.prepareCtwaContextSend)(Ze,Ot),d=ft.current;if(wt(null),Je(!1),He(null),d){const e=(0,xe.unproxy)(Oe);e.urlText&&(e.urlText=void 0)}(0,Ee.sendTextMsgToChat)(Oe,e,{linkPreview:s,quotedMsg:n,mentionedJidList:l,quotedMsgAdminGroupJid:r,quotedMsgAdminGroupSubject:i,quotedMsgAdminParentGroupJid:o,ctwaContext:u}),ft.current=!1,Kt(),Rt.handleOnce.forEach((e=>null==e?void 0:e())),Rt.handleMultiple.forEach((e=>null==e?void 0:e())),Dt({handleMultiple:Rt.handleMultiple,handleOnce:[]}),De(null),Be(null),Fe(null),Oe.setComposeContents({}),qt(),e="",Gt()},cn=e=>{e.repeat||dn()},fn=e=>{var t;kt&&(null===(t=rt.current)||void 0===t||t.restoreFocus(!0),Le(e))};let hn,pn;if((0,Ae.default)(Oe,{onFocus:Yt,onPaste:e=>{if(" "===e&&!Gt())return f.Cmd.scrollMessages();Ut(!0),Vt(e)},onRoutedPaste:e=>{var t,n;(Ut(!0),(0,S.newComposeBoxInputEnabled)())?null===(t=bt.current)||void 0===t||t.paste(e):null===(n=ot.current)||void 0===n||n.onPaste(e)},onSend:dn,onTextSizeChange:e=>{It(e)},onToggleQuickReplies:()=>{var e;if((0,S.newComposeBoxInputEnabled)())return void(null===(e=vt.current)||void 0===e||e.togglePanel());Pt(!0);const t=ot.current,n=Oe.getComposeContents().text||"";if(Oe&&t)if(n.length&&"/"===n.slice(-1)){const e=window.getSelection();Ut(!0),(0,ye.default)(e,1),t.deleteSelection()}else n.length&&" "===n.slice(-1)||q.ComposeBoxActions.paste(Oe," "),q.ComposeBoxActions.paste(Oe,"/")},onCtwaContextLinkData:e=>{et(e),Nt(null),Bt(e)},onSendingLogAttributes:e=>{Dt((t=>{let{handleOnce:n,handleMultiple:a}=t;return{handleOnce:e.handleOnce?n.concat(e.handleOnce):n,handleMultiple:e.handleMultiple?n.concat(e.handleMultiple):a}}))}}),(0,S.newComposeBoxInputEnabled)()){var mn;hn=(0,je.jsx)(be.RichTextInput,{ref:bt,placeholder:P.fbt._("Type a message",null,{hk:"3h5KZB"}),title:P.fbt._("Type a message",null,{hk:"3h5KZB"}),a8n:"conversation-compose-box-input",initialEditorState:Qt().editorStateJSON,initialText:Qt().text,groupMetadata:(0,xe.unproxy)(Oe).groupMetadata,readOnly:null!=Et,maxLength:h.default.MAX_TXT_MSG_SIZE,spellCheck:!0,multiline:!0,tabOrder:x.TAB_ORDER.COMPOSE_BOX_INPUT,onChange:(e,t)=>{gt.current=e,_t.current=t,nn(e.rawText)},onEnter:dn,onFiles:on,onTextPaste:sn,onMaxPasteExceeded:Ht});const e=null===(mn=bt.current)||void 0===mn?void 0:mn.editor;null!=e&&(pn=(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(oe.MentionSuggestions,{editor:e,groupMetadata:(0,xe.unproxy)(Oe).groupMetadata}),(0,je.jsx)(X.EmojiSuggestions,{editor:e}),(0,S.canSendQuickReply)()&&(0,je.jsx)(me.QuickReplySuggestions,{editor:e,ref:vt}),null]}))}else hn=(0,je.jsx)(Y.default,{a8n:"conversation-compose-box-input",placeholder:P.fbt._("Type a message",null,{hk:"3h5KZB"}),readOnly:null!=Et,ref:ot,initialValue:Ye.current,initialSelection:st.current,spellCheck:!0,multiline:!0,maxLength:h.default.MAX_TXT_MSG_SIZE,onMaxPasteExceeded:Ht,onEnter:cn,onFiles:on,onTextPaste:sn,onChange:nn,onSelect:ln,textPasteMimePriority:[W.APP_TEXT_MIMETYPE,"text/plain"],theme:"compose",title:P.fbt._("Type a message",null,{hk:"3h5KZB"})}),pn=(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Y.default.EmojiSuggestions,{chat:(0,xe.unproxy)(Oe)}),(0,je.jsx)(Y.default.Suggestions,{chat:(0,xe.unproxy)(Oe)}),(0,S.canSendQuickReply)()&&(0,je.jsx)(Y.default.QuickRepliesSuggestions,{chat:(0,xe.unproxy)(Oe),isOpenFromMenu:At,onClose:Wt}),!1]});return(0,j.useImperativeHandle)(t,(()=>({flushSaveComposeContentDebounced:Jt,getCurrentComposeContent:Qt,updateTextAfterMediaDrawerClose:Xt})),[Jt,Qt,Xt]),(0,je.jsx)(Me.UIE,{displayName:"ComposeBox",ref:tt,uimState:ke.UIMState.PASSIVE,requestFocus:Ke?null:Yt,children:(0,je.jsxs)(te.HotKeys,{component:"footer",tabIndex:null,handlers:{pagedown:$t,pageup:$t},className:(0,A.default)(ne.default.footer,{[ne.default.pttComposerActive]:Tt}),ref:nt,onContextMenu:tn,onMouseDown:tn,children:[null,(0,je.jsx)(K.default,{canCut:!0,className:(0,A.default)(ne.default.blockCompose,(0,V.getTextsizeClassForScale)(jt)),ref:at,children:(0,je.jsxs)("div",{className:ne.default.mainContentContainer,children:[(0,je.jsx)(w.default,{transitionName:"pttComposer",children:Tt?(0,je.jsx)("div",{className:ne.default.pttComposerContainer,children:(0,je.jsx)(he.default,{recordingSession:(0,u.default)(Et,"recordingSession"),onComplete:()=>{Ge(null),xt(null),Mt(!1),Yt()}})}):null}),(0,je.jsx)(w.default,{transitionName:"messageComposer",children:Tt?null:(0,je.jsxs)("div",{className:ne.default.textMessageComposerContainer,children:[(0,je.jsxs)("div",{className:(0,A.default)(ne.default.childPadding,ne.default.boxPanelWrapper),children:[(0,je.jsx)(ue.ComposeBoxPanelsMenu,{selectedPanelId:kt,onChange:rn,theme:ue.PanelsTheme.ChatComposeBox}),(0,je.jsx)("div",{className:ne.default.attachButtonContainer,children:(0,je.jsx)(G.default,{chat:(0,xe.unproxy)(Oe),getComposeContents:Qt,onMenuComplete:Xt})})]}),(0,je.jsxs)("div",{className:ne.default.textMessageComposerInputContainer,children:[(0,je.jsx)(te.HotKeys,{ref:it,className:(0,A.default)(ne.default.inputContainer,{[ne.default.disabled]:yt}),handlers:{tab:fn,"shift+tab":fn},onFocus:un,onBlur:zt,children:hn}),(0,je.jsx)("div",{className:(0,A.default)(ne.default.childPadding,ne.default.sendButtonContainer),children:(0,je.jsx)(Ce.default,{hasText:Xe,onClickSend:dn,recordingSession:Et,onStartRecording:()=>{an()}})})]})]})})]})}),(0,je.jsx)(de.default,{ref:rt,chat:Oe,linkPreviewData:null==We?void 0:We.data,ctwaContextLinkData:Ze,ctwaContextData:Ot,restoreFocus:Yt,selectedPanelId:kt,getComposeBlockWidth:()=>at.current?at.current.offsetWidth-Re:0,onComposeHeightChange:r,omitLinkPreview:$e,omitCtwa:Kt,onEmoji:Vt,onGif:(e,t)=>{en(e,e,t)},onPanelChange:rn,onSticker:(e,t)=>{const n=Oe.composeQuotedMsg,a=(0,ce.prepareCtwaContextSend)(Ze,Ot);(0,Se.sendStickerToChat)(Oe,e,{stickerSendOrigin:t,quotedMsg:n,ctwaContext:a}),De(null),Kt()},onPanelClose:Zt}),pn]})})}));function Le(e){e&&(e.preventDefault(),e.stopPropagation())}t.default=De},90569:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.useModelValues)(e.mute,["isMuted"]);const t=(0,i.useModelValues)(e.groupMetadata,["participants","id"]),n=(0,l.jsx)("span",{role:"button",onClick:()=>{(0,s.handleMsgAdmin)(t,r.fbt._("Message admin",null,{hk:"Bfaqs"}))},className:o.default.adminBtn,children:r.fbt._("admins",null,{hk:"2HQmrC"})});return(0,l.jsx)("span",{className:o.default.prewrap,children:r.fbt._("Only {admins} can send messages",[r.fbt._param("admins",n)],{hk:"3RYttw"})})};var r=n(48360),i=n(35461),o=a(n(19989)),s=n(28035),l=n(85893)},2556:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.groupMetadata,["participants","parentGroup","id"]),{parentGroup:n}=t;if(!n)return __LOG__(4,void 0,new Error)`CommunityAnnouncementsMsgBar null parent`,null;return(0,p.jsxs)(u.FlexRow,{align:"center",justify:"all",className:(0,o.default)(m.wrapper),children:[(0,p.jsx)(d.default,{children:(0,p.jsx)("span",{className:(0,o.default)(m.text),children:i.fbt._("Only {=m2} can send messages",[i.fbt._implicitParam("=m2",(0,p.jsx)(h.default,{onClick:()=>{(0,c.handleMsgAdmin)(t,i.fbt._("Message community admin",null,{hk:"3iQt8Y"}))},xstyle:m.adminBtn,children:i.fbt._("community admins",null,{hk:"1BMn5k"})}))],{hk:"3K7pgV"})})}),(0,p.jsx)(d.default,{children:(0,p.jsx)(h.default,{onClick:()=>{r.Cmd.communityHome(n)},children:(0,p.jsxs)(u.FlexRow,{align:"center",children:[(0,p.jsx)(d.default,{children:(0,p.jsx)("div",{className:(0,o.default)(m.icon),children:(0,p.jsx)(l.DetailImage,{id:n,size:l.DetailImageSize.ExtraSmall,shape:l.DetailImageShape.Squircle})})}),(0,p.jsx)(d.default,{children:(0,p.jsx)(f.default,{color:"secondary",name:"chevron-right-alt",directional:!0})})]})})})]})};var r=n(81572),i=n(48360),o=a(n(56720)),s=n(35461),l=n(88984),u=n(29623),d=a(n(48846)),c=n(28035),f=a(n(23217)),h=a(n(1784)),p=n(85893);const m={wrapper:{width:"ln8gz9je",marginTop:"j07hyc8x",marginBottom:"tng8x1zc"},text:{whiteSpace:"bbv8nyr4"},adminBtn:{color:"o0rubyzf"},icon:{marginEnd:"spjzgwxb"}}},28035:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleMsgAdmin=t.handleContactUs=void 0;var r=n(81572),i=n(14597),o=a(n(50485)),s=a(n(29234)),l=n(50101),u=n(43745),d=n(85893);const c=()=>{},f=()=>{};t.handleContactUs=()=>{i.ModalManager.close(),i.ModalManager.open((0,d.jsx)(o.default,{onCancel:c,onSend:f,supportTag:u.SUSPENDED_GROUP_SUPPORT_TAG}),{transition:"modal-flow"})};t.handleMsgAdmin=(e,t)=>{const n=t=>{(0,l.findChat)(t).then((t=>{t.quotedMsgAdminGroupJid=e.id,r.Cmd.openChatBottom(t)}))},a=e.participants.getAdmins();1!==a.length?i.ModalManager.open((0,d.jsx)(s.default,{title:t,filter:t=>{const n=e.participants.get(t.id);return!!(null==n?void 0:n.isAdmin)},onCancel:()=>i.ModalManager.close(),onSelect:e=>{n(e.id),i.ModalManager.close()}})):n(a[0].id)}},83789:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,l.jsx)("span",{role:"button",onClick:s.handleContactUs,className:i.default.adminBtn,children:r.fbt._("WhatsApp Support",null,{hk:"3gjAA2"})});return(0,l.jsx)("span",{className:i.default.prewrap,children:(0,l.jsx)(o.default,{id:615,params:{support:e}})})};var r=n(48360),i=a(n(19989)),o=a(n(56074)),s=n(28035),l=n(85893)},39020:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.jsx)("span",{className:i.default.prewrap,"data-testid":"terminated-group-msg-bar",children:r.fbt._("This group is no longer available.",null,{hk:"410HJ9"})})};var r=n(48360),i=a(n(91064)),o=n(85893)},8936:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PANELS=void 0;t.PANELS={EMOJI:"EMOJI",GIF:"GIF",STICKER:"STICKER"}},60425:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{forwardedRef:t}=e,n=(0,i.default)(e,b);return(0,v.jsx)(C,(0,r.default)({ref:t},n))};var r=a(n(81109)),i=a(n(6479)),o=n(88555),s=n(67294),l=(n(57297),n(28325)),u=n(30424),d=a(n(51099)),c=n(30524),f=a(n(7380)),h=n(8936),p=n(24264),m=n(64551),g=a(n(64894)),_=n(18644),v=n(85893);const b=["forwardedRef"];function y(e,t){const{displayCache:n,selectedPanelId:a,onPanelChange:r,onFocusRelease:i,onDisplayCache:b,theme:y}=e,C=(0,s.useRef)(null==n?void 0:n.emojiPanel),S=(0,s.useRef)(null==n?void 0:n.gifPanel),E=(0,s.useRef)(null==n?void 0:n.stickerPanel),x=(0,s.useRef)(y===p.PanelsTheme.StatusReplyComposeBox),T=(0,s.useRef)(null),M=(0,s.useRef)(null),k=(0,s.useRef)(null),[w,A]=(0,s.useState)(""),P=e=>{switch(a){case h.PANELS.STICKER:k.current&&k.current.restoreFocus();break;case h.PANELS.GIF:M.current&&M.current.restoreFocus(e);break;case h.PANELS.EMOJI:default:T.current&&T.current.restoreFocus(e)}},j=()=>{b({emojiPanel:C.current,gifPanel:S.current,stickerPanel:E.current})},I=e=>{C.current=e,j()},O=()=>{const e=x.current?h.PANELS.STICKER:h.PANELS.GIF;r(e)},N=()=>{i()},R=e=>{S.current=e,j()},D=e=>{A(e)},L=()=>{r(h.PANELS.STICKER)},B=()=>{r(h.PANELS.EMOJI)},F=e=>{E.current=e,j()},G=()=>{i()},U=()=>{const e=x.current?h.PANELS.EMOJI:h.PANELS.GIF;r(e)};(0,s.useImperativeHandle)(t,(()=>({restoreFocus:P})));let V=null;const W=x.current?l.DisplayLocation.StatusV3ComposeBox:l.DisplayLocation.ComposeBox;switch(e.selectedPanelId){case h.PANELS.STICKER:(0,o.isMDBackend)()?m.ServerProps.webServerStickerPanel&&(V=(0,v.jsx)(f.default,{ref:k,displayLocation:W,displayCache:E.current,onChange:D,defaultSearchText:w,onDisplayCache:F,onFocusPrev:U,onFocusNext:G,onSticker:e.onSticker})):V=(0,v.jsx)(g.default,{ref:k,displayCache:E.current,displayLocation:W,onChange:D,defaultSearchText:w,onDisplayCache:F,onFocusPrev:U,onFocusNext:G,onSticker:e.onSticker});break;case h.PANELS.EMOJI:default:V=(0,v.jsx)(u.EmojiPanel,{ref:T,displayCache:C.current,width:e.width,displayLocation:W,onChange:D,defaultSearchText:w,onDisplayCache:I,onEmoji:e.onEmoji,onFocusPrev:N,onFocusNext:O});break;case h.PANELS.GIF:V=(0,v.jsx)(c.GifPanel,{ref:M,displayCache:S.current,onChange:D,defaultSearchText:w,onDisplayCache:R,onFocusNext:L,onFocusPrev:B,onGif:e.onGif})}return V&&(0,v.jsx)(d.default,{reason:"compose-box-panels",children:(0,v.jsx)(_.UIE,{displayName:"ComposeBoxPanels",escapable:!0,requestDismiss:e.requestDismiss,requestFocus:()=>{P(!1)},children:V})})}const C=(0,s.forwardRef)(y)},24264:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ComposeBoxPanelsMenu=function(e){const t=(0,d.useRef)(),n=(0,d.useRef)(),a=(0,d.useRef)(),h=(0,d.useRef)(),S=(0,d.useRef)(),E=e.theme===b.StatusReplyComposeBox,x=t=>{e.onChange(t)};(0,f.useListener)(o.Cmd,"open_compose_box_panel",x);const{readOnly:T}=e,M=Boolean(e.selectedPanelId),k=!(0,i.isMDBackend)()||g.ServerProps.webServerStickerPanel,w=[v.button,e.buttonStyle];return(0,_.jsxs)("div",{"data-state":M?"open":"closed",ref:e=>{S.current=e},className:(0,c.default)(v.menu,y(e.theme,M,k)),children:[(0,_.jsx)(m.PanelsMenuButton,{"aria-label":u.fbt._("Close panel",null,{hk:"3ofbOg"}),xstyle:[w,M?v.visible:v.invisible],"data-tab":M&&!T?s.TAB_ORDER.COMPOSE_BOX_MENU_BUTTON:null,icon:"x",onClick:()=>{e.onChange(null)},ref:t,size:m.SIZES.SQUARE24}),(0,_.jsx)(m.PanelsMenuButton,{"aria-label":u.fbt._("Open emojis panel",null,{hk:"3IEMY6"}),xstyle:[w],"data-a8n":r.default.key("compose-btn-emoji"),"data-tab":M||T?null:s.TAB_ORDER.COMPOSE_BOX_MENU_BUTTON,icon:"smiley",isActive:e.selectedPanelId===p.PANELS.EMOJI,isMain:!0,onClick:()=>{Boolean(e.selectedPanelId)||E?x(p.PANELS.EMOJI):e.onChange((0,l.getLastComposeBoxPanel)()||p.PANELS.EMOJI)},ref:n,size:m.SIZES.SQUARE26,style:C(p.PANELS.EMOJI,M,e.theme)}),!E&&(0,_.jsx)(m.PanelsMenuButton,{"aria-label":u.fbt._("Open gif panel",null,{hk:"NE5Dz"}),xstyle:[v.button,M?v.visible:v.invisible],icon:"gif",isActive:e.selectedPanelId===p.PANELS.GIF,onClick:()=>x(p.PANELS.GIF),ref:a,size:m.SIZES.SQUARE26,style:C(p.PANELS.GIF,M,e.theme)}),k&&(0,_.jsx)(m.PanelsMenuButton,{"aria-label":u.fbt._("Open sticker panel",null,{hk:"1MfILW"}),xstyle:[w,M||E?v.visible:v.invisible],"data-a8n":r.default.key("compose-btn-sticker"),icon:"sticker",isActive:e.selectedPanelId===p.PANELS.STICKER,onClick:()=>x(p.PANELS.STICKER),ref:h,size:m.SIZES.SQUARE26,style:C(p.PANELS.STICKER,M,e.theme)})]})},t.PanelsTheme=void 0;var r=a(n(99964)),i=n(88555),o=n(81572),s=n(55715),l=n(55452),u=n(48360),d=n(67294),c=a(n(56720)),f=n(87550),h=a(n(14296)),p=n(8936),m=n(35251),g=n(64551),_=n(85893);const v={menu:{position:"g0rxnol2",display:"p357zi0d",height:"d1pdhp1p",marginEnd:"bugiwsl0",transition:"rj4tx0cq",":hover":{willChange:"cx8fzybs"}},menuOpenStatusReply:{width:"cosm3z4q"},menuOpen:{width:"huo8y3a1"},menuFull:{width:"n73lgpzo"},menuClosedStatusReply:{width:"mu5rq31i"},menuClosed:{width:"fyy3ld6e"},button:{transition:"qizq0yyl",transform:"t1844p82"},visible:{opacity:"bs7a17vp"},invisible:{opacity:"axi1ht8l"}},b=n(76672).Mirrored(["ChatComposeBox","StatusReplyComposeBox"]);t.PanelsTheme=b;const y=(e,t,n)=>{switch(e){case b.ChatComposeBox:return t?n?v.menuFull:v.menuOpen:v.menuClosed;case b.StatusReplyComposeBox:return t?v.menuOpenStatusReply:v.menuClosedStatusReply}},C=(e,t,n)=>{let a=0;switch(e){case p.PANELS.EMOJI:a=t?42:0;break;case p.PANELS.GIF:a=t?84:0;break;case p.PANELS.STICKER:switch(n){case b.ChatComposeBox:a=t?126:0;break;case b.StatusReplyComposeBox:a=t?84:42}}return{transform:"translateX("+(h.default.isRTL()?-1:1)*a+"px)"}}},35251:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SIZES=t.PanelsMenuButton=void 0;var r=n(67294),i=a(n(56720)),o=n(29424),s=a(n(23217)),l=n(85893);const u={SQUARE24:"SQUARE24",SQUARE26:"SQUARE26"};t.SIZES=u;const d={container:{position:"lhggkp7q",bottom:"mvj9yovn",display:"f804f6gw",width:"fyy3ld6e",color:"svlsagor",borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",transform:"bxpi4b5r",":focus":{boxShadow:"esbo3we0"}},containerActive:{color:"jq3rn4u7"},square24Svg:{marginTop:"b9l0eqez",marginEnd:"ojci89ib",marginBottom:"inogquss",marginStart:"akljc1zx"},square26Svg:{width:"ekdr8vow",height:"dhq51u3o"},containerTop:{zIndex:"b9fczbqn"},containerPadding:{position:"g0rxnol2",bottom:"jxacihee",display:"p357zi0d"},containerPaddingSquare24:{top:"eg0stril"},containerPaddingSquare26:{top:"oybnjv0e"}},c=(e,t)=>{const n=t=>{t.stopPropagation(),t.preventDefault(),e.onClick()};return(0,l.jsx)(o.HotKeys,{component:"button",className:(0,i.default)(d.container,e.xstyle,e.isActive&&d.containerActive,(e.isMain||e.singleButton)&&d.containerTop,e.singleButton&&d.containerPadding,e.size===u.SQUARE24?d.containerPaddingSquare24:d.containerPaddingSquare26),"aria-label":e["aria-label"],"data-tab":e["data-tab"],"data-a8n":e["data-a8n"],onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick()},ref:t,handlers:{enter:n,space:n},style:e.style,children:(0,l.jsx)("div",{className:(0,i.default)(e.size===u.SQUARE24&&d.square24Svg),children:(0,l.jsx)(s.default,{name:e.icon,iconXstyle:e.size===u.SQUARE26&&d.square26Svg})})})},f=(0,r.memo)((0,r.forwardRef)(c));t.PanelsMenuButton=f},81880:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=a(n(84015)),o=a(n(23217)),s=n(85893);var l=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useRef)();return(0,r.useImperativeHandle)(t,(()=>({getElement:()=>n.current}))),(0,s.jsxs)("div",{className:i.default.panel,ref:n,children:[(0,s.jsx)("div",{className:i.default.body,children:e.children}),(0,s.jsx)("div",{className:i.default.cancelButton,children:(0,s.jsx)("div",{role:"button",onClick:e.onOmit,children:(0,s.jsx)(o.default,{name:"x"})})})]})}));t.default=l},27616:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(81572),i=a(n(45120)),o=n(67294),s=a(n(56720)),l=a(n(48711)),u=n(1776),d=a(n(91962)),c=a(n(79013)),f=n(32826),h=n(56512),p=a(n(94908)),m=a(n(54995)),g=a(n(51845)),_=a(n(11339)),v=n(43257),b=n(24264),y=a(n(81880)),C=a(n(35072)),S=n(51906),E=a(n(40639)),x=n(18146),T=n(18644),M=a(n(64099)),k=n(85893);const w={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je"},A={position:"lhggkp7q",bottom:"jxacihee",start:"tkdu00h0",boxSizing:"cm280p3y",width:"ln8gz9je"};function P(e,t){const{chat:n,linkPreviewData:a,ctwaContextLinkData:P,ctwaContextData:j,restoreFocus:I,selectedPanelId:O,getComposeBlockWidth:N,onComposeHeightChange:R,omitLinkPreview:D,omitCtwa:L,onEmoji:B,onGif:F,onPanelChange:G,onSticker:U,onPanelClose:V}=e;let W;if(a){const{title:e,canonicalUrl:t,description:n,thumbnail:r,inviteGrpType:i}=a;W=(0,k.jsx)(c.default,{children:(0,k.jsx)(T.UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:D,children:(0,k.jsx)(y.default,{onOmit:D,children:(0,k.jsx)(g.default,{title:e,compose:!0,canonicalUrl:t,description:n,thumbnailJpeg:r,inviteGrpType:i})})})})}const H=n.composeQuotedMsg,q=n.quotedMsgAdminGroupJid,Y=n.quotedMsgAdminGroupSubject,z=n.quotedMsgAdminParentGroupJid,K=n.composeQuotedMsgRemoteJid,$=(0,u.useSetModelValue)(n,"composeQuotedMsg"),Q=(0,u.useSetModelValue)(n,"quotedMsgAdminGroupJid");let X;if(H){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0!==e&&$(null)};X=(0,k.jsx)(c.default,{children:(0,k.jsx)(T.UIE,{displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:I,requestDismiss:e,children:(0,k.jsx)(y.default,{onOmit:e,children:(0,k.jsx)(C.default,{msg:H.safe(),composeQuotedMsgRemoteJid:K,theme:"composeBox",chat:H.chat},H.id.toString())})})})}else if(q){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0!==e&&Q(null)};X=(0,k.jsx)(c.default,{children:(0,k.jsx)(T.UIE,{displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:I,requestDismiss:e,children:(0,k.jsx)(y.default,{onOmit:e,children:(0,k.jsx)(S.QuotedMsgAdminGroupName,{isComposePreview:!0,quotedGroupJid:q,quotedParentGroupJid:null!=Y?z:void 0,quotedGroupSubject:Y},q.toString())})})})}const J=(0,x.unproxy)(n),Z=!J.isPSA&&J.shouldAppearInList&&J.msgs&&J.msgs.length>0;let ee=null;if(Z){const e=f.BlocklistCollection.get(J.id),t=n.getReceivedVcardMsgs(),a=()=>{J.dismissVcard()};Boolean(!e&&(null==t?void 0:t.length)&&!J.vcardDismissed)&&(ee=(0,k.jsx)(c.default,{children:(0,k.jsx)(M.default,{chat:J,dismissVcardPanel:a})}))}let te=null;!J.trusted&&Z&&null==ee&&(te=(0,k.jsx)(c.default,{children:(0,k.jsx)(E.default,{chat:J,contact:J.contact})}));const ne=(0,o.useRef)(null),ae=(0,o.useRef)(),re=e=>{ae.current=e};(0,o.useImperativeHandle)(t,(()=>({restoreFocus(e){var t;null===(t=ne.current)||void 0===t||t.restoreFocus(e)}})));const[ie,oe]=(0,l.default)(),se=oe.width>0?oe.width:N(),le=()=>{i.default.shouldIndicateFocus(),I()},ue=(0,o.useRef)(null),de=(e,t)=>{var n;e.isCreateButton?(new _.default.WebcStickerMakerEvents({stickerMakerEventName:_.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit(),null===(n=ue.current)||void 0===n||n.open()):U(e,t)},ce=e=>{if(!e)return;e.stopPropagation();const t=null==e.target.files?[]:Array.from(e.target.files);t.length&&(new _.default.WebcStickerMakerEvents({stickerMakerEventName:_.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit(),r.Cmd.attachMediaDrawer({chat:n,attachments:t.map((e=>({file:e,stickerMaker:!0}))),fileOrigin:_.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,sendAsSticker:!0}))};let fe,he=null;return O&&null!=se&&(he=(0,k.jsxs)(c.default,{ref:ie,children:[(0,k.jsx)(h.ComposeBoxPanelsLoadable,{displayCache:ae.current,width:se,onDisplayCache:re,onEmoji:B,onFocusRelease:le,onGif:F,onPanelChange:G,onSticker:de,requestDismiss:V,forwardedRef:e=>{ne.current=e},selectedPanelId:O,theme:b.PanelsTheme.ChatComposeBox}),(0,k.jsx)(m.default,{ref:ue,mimes:v.IMAGE_MIMES,onChange:ce,multiple:!1})]})),P&&(fe=(0,k.jsx)(c.default,{children:(0,k.jsx)(T.UIE,{displayName:"ComposeBoxCtwaContextPreview",escapable:!0,requestDismiss:L,children:(0,k.jsx)(y.default,{onOmit:L,children:(0,k.jsx)(p.default,{context:j,sourceUrl:P.sourceUrl,compose:!0})})})})),(0,k.jsx)("div",{className:(0,s.default)(w),children:(0,k.jsx)("div",{className:(0,s.default)(A),children:(0,k.jsxs)(d.default,{onHeightChange:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R({overlay:e},t)},children:[te,ee,he,X,W,fe]})})})}var j=(0,o.forwardRef)(P);t.default=j},70298:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{hasText:t,recordingSession:n,onStartRecording:a,onClickSend:c}=e;const f=Boolean(o.default&&window.AudioContext);if(!t&&f)return(0,u.jsx)(s.default,{disabled:null!=n,onConfirm:a});return(0,u.jsx)("button",{"data-a8n":r.default.key("compose-btn-send"),className:(0,i.default)(d),onClick:c,disabled:!t,children:(0,u.jsx)(l.default,{name:"send",directional:!0})})};var r=a(n(99964)),i=a(n(56720)),o=a(n(56624)),s=a(n(63639)),l=a(n(23217)),u=n(85893);const d={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",color:"svlsagor",opacity:"p2rjqpw5",":disabled":{opacity:"epia9gcq"}}},15804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.id.toString();(0,r.useListener)(i.ComposeBoxActions,`focus_${n}`,t.onFocus),(0,r.useListener)(i.ComposeBoxActions,"focus",t.onFocus),(0,r.useListener)(i.ComposeBoxActions,`send_${n}`,t.onSend),(0,r.useListener)(i.ComposeBoxActions,`paste_${n}`,t.onPaste),(0,r.useListener)(i.ComposeBoxActions,`send_paste_${n}`,t.onRoutedPaste),(0,r.useListener)(i.ComposeBoxActions,"toggle_quick_replies",t.onToggleQuickReplies),(0,r.useListener)(i.ComposeBoxActions,`add_sending_log_attributes_${n}`,t.onSendingLogAttributes),(0,r.useListener)(i.ComposeBoxActions,`set_ctwa_context_link_data_${n}`,t.onCtwaContextLinkData),(0,r.useListener)(a.Cmd,"textsize_change",t.onTextSizeChange)};var a=n(81572),r=n(87550),i=n(88172)},23409:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onSelectMessages:t,enableChatThreadLogging:n}=e,a=(0,f.default)(),D=(0,p.useModelValues)(e.chat,["isPSA","mute","id"]),L=(0,p.useModelValues)(e.contact,["id","isBusiness","name","isContactBlocked"]),B=(0,c.useRef)(null);(0,h.useListener)(N.Stream,"change:displayInfo",a),(0,c.useEffect)((()=>{!0===n&&(0,v.addChatThreadLoggingActivities)([{activityType:"chatOverflowClicks",ts:i.Clock.globalUnixTime(),chatId:D.id}])}),[n,D.id]);const F=()=>{(0,g.blockContact)(L),l.ModalManager.close()},G=()=>{(0,g.unblockContact)(L),l.ModalManager.close()},U=()=>{(0,j.sendSpamReport)(D,u.SpamFlow.Dropdown),l.ModalManager.close()},V=()=>{(0,j.sendSpamReport)(D,u.SpamFlow.Block),(0,g.blockContact)(L),l.ModalManager.close()},W=()=>{(0,j.sendSpamBlockClear)(D,u.SpamFlow.Block),l.ModalManager.close()},H=()=>{l.ModalManager.open((0,R.jsx)(P.default,{isBusiness:L.isBusiness,isGroupChat:!1,onReport:U,onReportBlockClear:W,onCancel:()=>l.ModalManager.close()}))},q=()=>{l.ModalManager.open((0,R.jsx)(_.default,{contact:L,onCancel:()=>l.ModalManager.close(),onBlock:F,onReportSpamBlock:V}))},Y=()=>{const e=(0,R.jsx)(A.Name,{contact:L});l.ModalManager.open((0,R.jsx)(b.default,{okText:E.default.t(626),onOK:G,cancelText:d.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>l.ModalManager.close(),children:(0,R.jsx)(x.default,{id:627,params:{contact:e}})}))},z=()=>{o.Cmd.ephemeralDrawer((0,O.unproxy)(e.chat),!1,k.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)},K=()=>{const n=[];return D.isPSA||n.push((0,R.jsx)(S.DropdownItem,{a8n:"mi-contact",action:()=>{L.isBusiness&&(0,M.qplStartProfileView)("ToolsMenu"),o.Cmd.chatInfoDrawer(D)},testid:"menu-item-chat-info",children:d.fbt._("Contact info",null,{hk:"LUJtH"})},"info")),L.isBusiness&&((0,s.canSeeECommerceComplianceIndiaSoftEnforcement)(L.id.user)&&n.push((0,R.jsx)(S.DropdownItem,{a8n:"merchant-details",action:()=>o.Cmd.merchantDetailsDrawer(L.id),children:d.fbt._("Business details",null,{hk:"m9xzp"})},"merchantDetails")),n.push((0,R.jsx)(S.DropdownItem,{a8n:"report",action:H,children:d.fbt._("Report business",null,{hk:"2Tvnn8"})},"report"),(0,R.jsx)(S.DropdownItem,{a8n:"block",action:L.isBlocked()?Y:q,children:L.isBlocked()?E.default.t(626):E.default.t(148)},"block"))),n.push((0,R.jsx)(S.DropdownItem,{a8n:"mi-select-messages",action:t,children:E.default.t(834)},"select")),n.push((0,R.jsx)(S.DropdownItem,{a8n:"mi-close-chat",action:()=>o.Cmd.closeChat(D),children:E.default.t(186)},"close")),D.mute.canMute()&&n.push((0,R.jsx)(w.default,{onMute:e=>o.Cmd.muteChat(D,e),mute:D.mute,chat:D,settings:I.default},"mute")),(0,r.isMDBackend)()&&(0,m.getABPropConfigValue)("add_dm_to_chat_overflow_menu")&&(0,T.isDisappearingModeEnabled)()&&e.chat.shouldShowEphemeralSetting()&&n.push((0,R.jsx)(S.DropdownItem,{action:z,children:d.fbt._("Disappearing messages",null,{hk:"2Yz01q"})},"disappearingMessages")),n.push((0,R.jsx)(S.DropdownItem,{a8n:"mi-clear",action:()=>o.Cmd.clearChat(D),children:E.default.t(179)},"clear")),n.push((0,R.jsx)(y.default,{onDeleteOrExit:()=>o.Cmd.deleteOrExitChat(D),chat:D},"delete")),n};if(e.toContextMenuManager)return(0,R.jsx)("div",{ref:B,"data-testid":"contact-menu-dropdown",children:K()});return(0,R.jsx)(C.Dropdown,{ref:e=>{B.current=e},type:C.MenuType.DropdownMenu,flipOnRTL:!0,dirX:C.DirX.LEFT,testid:"contact-menu-dropdown",children:K()},"ContactMenuDropdown")};var r=n(88555),i=(n(10206),n(40234)),o=n(81572),s=n(8139),l=n(14597),u=n(87674),d=n(48360),c=n(67294),f=a(n(59312)),h=n(87550),p=n(35461),m=n(57849),g=n(80140),_=a(n(58836)),v=n(32107),b=a(n(52665)),y=a(n(39424)),C=n(60811),S=n(71174),E=a(n(14296)),x=a(n(56074)),T=n(41566),M=n(56057),k=a(n(11339)),w=a(n(90922)),A=n(12176),P=a(n(30934)),j=n(19569),I=a(n(68132)),O=n(18146),N=n(8080),R=(n(84356),a(n(89345)),n(46167),n(85893))},83001:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(41609)),i=n(50796),o=n(92574),s=n(81572),l=n(67294),u=n(93581),d=a(n(66034)),c=a(n(23527)),f=a(n(97759)),h=n(84387),p=a(n(96876)),m=n(59871),g=n(96269),_=n(64551),v=n(8080),b=a(n(4478)),y=n(85893);class C extends l.Component{constructor(){super(...arguments),this._refContainer=(0,l.createRef)(),this._handleOpenChatId=0,this._newChatScrollInfo=(e,t)=>{const n=t?t.msg||m.MsgCollection.get(t.key):void 0;if(t&&n&&e){const{chat:t,renderedMsgsInfo:a,visibleMsgOrder:i}=e;if(t&&a&&i&&!(0,r.default)(a)&&!(0,r.default)(i)){const e=a[i[0].toString()],r=Object.keys(a).find((e=>e===n.id.toString())),o=r?a[r]:null;if(o)return{wasVisible:!0,offset:o.offset};if(t===n.chat)return e&&n.t<e.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}},this._windowLostFocus=()=>{v.Stream.markUnavailable(15e3)},this._handleOpenChat=(e,t,n)=>{var a;s.Cmd.updateChatlistSelection(e);const r=this._openedChatInfo,i={};this._openedChatInfo=i;const o=t?t.collection:e.msgs;this._handleOpenChatId++;const l=this._handleOpenChatId,u=()=>l===this._handleOpenChatId;let d=!1;const c=()=>{u()&&(d=!0,n(this._newChatScrollInfo(r,t)))},f=(null==t||null===(a=t.msg)||void 0===a?void 0:a.id)||(null==t?void 0:t.key);this.setState({chat:e,msgCollection:o,focusCtx:t,notifyChatRendered:e=>{if(d||!u())return;if(!f)return void c();e.some((e=>e.id.equals(f)))&&c()},updateOpenedChatInfo:e=>{Object.assign(i,e)}})},this._handleCloseChat=e=>{this.state.chat===e&&this.setState({chat:void 0,msgCollection:void 0,focusCtx:void 0})},this._windowGainedFocus=()=>{v.Stream.markAvailable();const e=this.state.chat;(null==e?void 0:e.isUser)&&e.presence.subscribe().catch((0,i.filteredCatch)(o.WebdDrop,(()=>{})))},this._msgCollectionChanged=(e,t,n,a)=>{const r=this.state.msgCollection;r!==e&&r!==t||this.setState({msgCollection:n,focusCtx:a&&(a.msg||a.collection)?a:this.state.focusCtx})},this.state={chat:void 0,msgCollection:void 0,focusCtx:void 0,showConversationPreview:!1,animate:void 0}}static getDerivedStateFromProps(e,t){return null==t.animate?{animate:e.animate}:!1!==t.animate?{animate:!1}:null}containsDOMNode(e){return!!this._refContainer.current&&this._refContainer.current.containsDOMNode(e)}animatePanel(e,t){return!!this._refContainer.current&&this._refContainer.current.animatePanel(e,t)}componentDidMount(){this.props.listeners.add(s.Cmd,"open_chat",this._handleOpenChat),this.props.listeners.add(s.Cmd,"close_chat",this._handleCloseChat),this.props.listeners.add(window,"focus",this._windowGainedFocus),this.props.listeners.add(window,"blur",this._windowLostFocus),_.ServerProps.wallpapersV2&&(this.props.listeners.add(d.default,"wallpaper_drawer_open",(()=>{this.setState({showConversationPreview:!0})})),this.props.listeners.add(d.default,"wallpaper_drawer_close",(()=>{this.setState({showConversationPreview:!1})})))}componentDidUpdate(e,t){const n=this.state.chat,a=t.chat;n&&a!==n&&(this.props.listeners.add(n,"change:cmc:merge",this._msgCollectionChanged),a&&this.props.listeners.remove(a,"change:cmc:merge",this._msgCollectionChanged),n.contact.isBusiness&&u.BusinessProfileCollection.find(n.id),n.groupMetadata&&(0,g.maybeQueryGroupDevice)(n.groupMetadata))}shouldComponentUpdate(e,t){return t!==this.state||e.animate!==this.props.animate}render(){const{chat:e,msgCollection:t,focusCtx:n,showConversationPreview:a,animate:r}=this.state;return e&&t||a?(0,y.jsx)(c.default,{chat:e,groupMetadata:null==e?void 0:e.groupMetadata,chatPreference:d.default.assertGet("defaultPreference"),focusCtx:n,msgCollection:t,notifyChatRendered:this.state.notifyChatRendered||(()=>{}),updateOpenedChatInfo:this.state.updateOpenedChatInfo||(()=>{}),ref:this._refContainer,showPreview:a},null==e?void 0:e.id.toString()):(0,y.jsx)(f.default,{animate:r,ref:this._refContainer,mdOptInDeadline:p.default})}}C.displayName="Conversation";const S=(0,h.ListenerHOC)((0,b.default)(C));t.default=class extends S{animatePanel(e,t){return super.getComponent().animatePanel(e,t)}containsDOMNode(e){return this.getComponent().containsDOMNode(e)}}},91050:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{wallpaperColor:t,showDoodle:n}=e;const{theme:a}=(0,i.useContext)(l.ThemeContext);let c;c=s.ServerProps.wallpapersV2?n:t===u.DEFAULT_CHAT_WALLPAPER;if(c&&(0,u.colorExistsInTheme)(t,a)){const e={opacity:(0,u.getDoodleOpacity)(t,a)},n=(0,u.getDoodleAssetName)(t,a),i={};return i[n]=!0,(0,d.jsx)("div",(0,r.default)((0,r.default)({className:o.default.tile},i),{},{style:e}))}return null};var r=a(n(81109)),i=n(67294),o=a(n(8546)),s=n(64551),l=n(97628),u=n(78123),d=n(85893)},83028:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(6479)),o=r(n(81109)),s=r(n(41609)),l=r(n(52353)),u=r(n(23279)),d=r(n(23493)),c=n(89385),f=r(n(33693)),h=n(50796),p=r(n(45095)),m=n(57319),g=n(92574),_=n(88555),v=n(61957),b=n(22911),y=n(40234),C=n(81572),S=r(n(38224)),E=n(98159),x=r(n(52013)),T=n(41906),M=r(n(65212)),k=n(55715),w=n(94816),A=n(26741),P=r(n(62831)),j=r(n(40436)),I=r(n(94184)),O=n(48360),N=n(67294),R=r(n(73935)),D=r(n(94474)),L=n(32107),B=n(3198),F=n(88172),G=r(n(23409)),U=r(n(31951)),V=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=he(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(70513)),W=r(n(5354)),H=r(n(14296)),q=n(41566),Y=n(84387),z=n(96688),K=n(96205),$=n(52684),Q=r(n(62685)),X=n(87931),J=r(n(11339)),Z=n(59871),ee=r(n(6704)),te=n(82857),ne=r(n(39812)),ae=r(n(23217)),re=n(50452),ie=n(18644),oe=r(n(24717)),se=r(n(90012)),le=r(n(72994)),ue=n(9609),de=n(85893);const ce=["msgLoadState"],fe=["msgLoadState"];function he(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(he=function(e){return e?n:t})(e)}class pe extends N.Component{constructor(e){var t;super(e),t=this,this._chatOpenScrollTimestamp=0,this._renderedMsgCache=new Map,this._visibleMsgOrder=[],this._loadEarlierScrollThreshold=300,this._mdHistorySyncStatusContentPlaceholderShown=!1,this._blockAdditionalLoadEalierRequest=!1,this._setScrollContainer=e=>this.scrollContainer=e,this._refStickyDateMarker=(0,N.createRef)(),this._refMessageList=(0,N.createRef)(),this._handleHistorySyncStateUpdate=e=>{e.has(this.props.chat.id.toString())&&(__LOG__(2,void 0,void 0,void 0,["Conversaion msgs"])`_onHistorySyncStateUpdate called, attempt to load earlier`,this._blockAdditionalLoadEalierRequest=!1,this.loadEarlierMsgs())},this._handlePanesWillChange=()=>{const e=this._visibleMsgOrder[this._visibleMsgOrder.length-1];if(!e)return;const t=e.toString(),n=this._refMessageList.current;if(t&&n){var a;const e=null===(a=n.getMsgWrapperRef(t))||void 0===a?void 0:a.getContainerElement();if(e){const t=this.scrollContainer;if(!t)return;const n=this._getMsgBottom(t,e);this._panesChanging={msg:e,container:t,msgBottom:n}}}},this._handlePanesDidChange=()=>{if(!this._panesChanging)return;const{msg:e,container:t,msgBottom:n}=this._panesChanging;this._setMsgBottom(t,e,n),this._panesChanging=void 0},this._attachMsgCollectionObservers=e=>{const{listeners:t,chat:n,msgCollection:a}=this.props,{focusCtx:r,chat:i,msgCollection:o}=e;var s,l;(a&&(t.remove(a,"remove_msgs insert_msgs",this._handleMsgsUpdate),t.remove(n.msgs,"change:last",this._handleLastMsgChanged)),t.remove(n,"change:unreadCount",this._handleUnreadCount),null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this._msgLoadStateChangeUnsubscribe=o.onMsgLoadStateChange(this._handleMsgLoadStateChange),(0,q.isGroupCatchUpEnabled)())&&(n.isGroup&&(null===(s=n.groupMetadata)||void 0===s?void 0:s.unreadMentionMetadata.unreadMentionCollection)&&t.remove(n.groupMetadata.unreadMentionMetadata.unreadMentionCollection,"add remove reset",this._handleUnreadMentionCount),i.isGroup&&(null===(l=i.groupMetadata)||void 0===l?void 0:l.unreadMentionMetadata.unreadMentionCollection)&&t.add(i.groupMetadata.unreadMentionMetadata.unreadMentionCollection,"add remove reset",this._handleUnreadMentionCount));t.add(i,"change:unreadCount",this._handleUnreadCount),t.add(i.msgs,"change:last",this._handleLastMsgChanged),t.add(o,"remove_msgs insert_msgs",this._handleMsgsUpdate),r&&o.loadAroundPromise&&o.loadAroundPromise.catch((0,h.filteredCatch)(g.E404,(()=>{w.ToastManager.open((0,de.jsx)(re.Toast,{msg:H.default.t(467),id:(0,re.genId)()}))})))},this._updateForCurrentPosition=(0,d.default)((()=>{const e=this.props.getUnmountSignal();(0,E.documentFlushed)({signal:e}).then((()=>{if(e.aborted)throw new c.AbortError;this._updateRenderedMsgCache(),R.default.unstable_batchedUpdates((()=>{if(e.aborted)return;const{scrollContainer:t}=this;if(null==t)return;if(this._blockAdditionalLoadEalierRequest&&t.scrollTop<80)return;t.scrollTop>80&&(this._blockAdditionalLoadEalierRequest=!1),t.scrollTop<300&&this.loadEarlierMsgs();const{isNearBottom:n,cursor:a}=this.state,r=this._nearBottom();r?(this._maybeSendSeen(!0),V.isMostRecentCMC(this.props)&&n!==r&&this.setState({isNearBottom:r,newUnread:0}),(a.getEnd(this.props.msgCollection)<this.props.msgCollection.length||!V.isMostRecentCMC(this.props))&&this._loadRecentMsgs()):n!==r&&this.setState({isNearBottom:r})}))})).catch((0,h.filteredCatch)(c.AbortError,(()=>{})))}),100),this._handleMsgLoadStateChange=()=>{const e=this.state.msgLoadState,t=V.getMsgLoadState(this.props.msgCollection);let n={msgLoadState:t};if(e.isLoadingAroundMsgs&&!t.isLoadingAroundMsgs){const e=V.validateFocusCtx(this.props.focusCtx),t=null==e?void 0:e.msg;t&&(n=(0,o.default)((0,o.default)({},n),{},{cursor:this.state.cursor.init(t.id,this.props.msgCollection),focusCtx:e}))}this.setState(n)},this._handleResizeThrottle=(0,d.default)((()=>{this._updateRenderedMsgCache()}),100),this._handleMsgKeyChange=e=>{let{newKey:t,oldKey:n}=e;const a=n.toString(),r=t.toString(),i=this._renderedMsgCache.get(a);i&&(this._renderedMsgCache.delete(a),this._renderedMsgCache.set(r,i));for(let e=0;e<this._visibleMsgOrder.length;++e)if(this._visibleMsgOrder[e]===n){this._visibleMsgOrder[e]=t;break}},this._handleResizeDebounce=(0,u.default)((()=>{const e=this._nearBottom();this._nearBottom!==e&&this.setState({isNearBottom:e})}),100),this.loadEarlierMsgs=()=>{const{chat:e,msgCollection:t}=this.props,{cursor:n,msgLoadState:a}=this.state;if(n.getStart(t)>0)n.hasBefore(t)&&this.setState({cursor:n.loadBefore(t)});else{if(a.isLoadingEarlierMsgs||a.isLoadingAroundMsgs)return;if(V.noEarlierMsgStateIsIncorrect(e,V.isMostRecentCMC(this.props),a)&&(t.msgLoadState.noEarlierMsgs=!1),t.msgLoadState.noEarlierMsgs)return;const r=this.props.getUnmountSignal();(0,b.loadEarlierMsgs)(e,t).then((e=>{if(r.aborted)return;!(0,_.isMDBackend)()||e&&0!==e.length||(this._blockAdditionalLoadEalierRequest=!0);const a={};this.state.focusCtx||(a.focusCtx=V.getUnreadFocusCtx(this.props,this.state.unreadCount)),n.hasBefore(t)?(a.cursor=n.loadBefore(t),this.setState(a)):this.setState(a)})).catch((e=>{__LOG__(2)`ConversationMsgs:loadEarlierMsgs failed\n${e}`}))}},this._loadRecentMsgs=()=>{const{chat:e,msgCollection:t}=this.props,{cursor:n,msgLoadState:r}=this.state;if(n.getEnd(t)<t.length)return void this.setState({cursor:n.loadAfter(t)});if(r.isLoadingRecentMsgs||r.isLoadingAroundMsgs)return;const i=new a,o=i.signal,s=this.props.getUnmountSignal(),l=(0,ee.default)([o,s],(a=>(0,b.loadRecentMsgs)(e,t,a).then((()=>{if(a.aborted)throw new c.AbortError;n.hasAfter(t)?this.setState({cursor:n.loadAfter(t)}):this.state.cursor.getEnd(t)>=t.length&&V.isMostRecentCMC(this.props)&&this.forceUpdate()})))).catch((0,c.catchAbort)((()=>{}))).catch((e=>{__LOG__(2)`ConversationMsgs:loadRecentMsgs failed\n${e}`})).finally((()=>{this._loadRecentMsgsPromise=null}));this._loadRecentMsgsPromise={promise:l,controller:i}},this.handleComposeHeightChange=e=>{const t=this.scrollContainer;if(t)if(e){if(t&&e<0&&t.scrollTop===t.scrollHeight-t.clientHeight)return;this._setScrollTop(t,t.scrollTop+e)}else{const e=t.scrollHeight-(t.scrollTop+t.clientHeight);(0,P.default)(t,{tween:18},{progress:()=>{this._setScrollTop(t,t.scrollHeight-e-t.clientHeight)},duration:300},[.1,.82,.25,1])}},this._getScrollContainer=()=>(0,p.default)(this.scrollContainer,"this.scrollContainer"),this.getScrollBottom=()=>{const e=this.scrollContainer;return e?e.scrollHeight-(e.scrollTop+e.clientHeight):0},this._hideStickyDateMarker=new m.ShiftTimer((()=>{var e;null===(e=this._refStickyDateMarker.current)||void 0===e||e.setVisibility(!1)})),this._updateStickyDateMarker=new m.ShiftTimer((e=>{const{dateMarkerIdx:t,silent:n=!1}=e||{},a=this._refMessageList.current;if(!a||"number"!=typeof t)return;n||Date.now()-(this._programmaticScroll||0)<200||this._showStickyDateMarker();const r=a.getDateMarkerRef(t);var i;if(-1===t)null===(i=this._refStickyDateMarker.current)||void 0===i||i.updateDateMarkerText();else if(r){var o;const e=r.getTimestamp(),t=y.Clock.relativeDateStr(e).toString().toUpperCase();null===(o=this._refStickyDateMarker.current)||void 0===o||o.updateDateMarkerText(t)}if(this._dateMarkerIdx!==t){const e=a.getDateMarkerRef(this._dateMarkerIdx);e&&e.show(),r&&r.hide()}})),this._removeViewedMentions=()=>{this._renderedMsgCache.forEach(((e,t)=>{var n,a;(null===(n=this.props.chat.groupMetadata)||void 0===n?void 0:n.unreadMentionMetadata.hasMentionId(t))&&(null===(a=this.props.chat.groupMetadata)||void 0===a||a.unreadMentionMetadata.removeUnreadMentions(t))}))},this.isMsgVisible=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t._renderedMsgCache.has(e.toString())&&(!!n||t.getMsgComponent(e))},this.getSequentialMsg=e=>{const t=this.getMsgs();return t?(0,f.default)(t,(t=>e.equals(t.id))):null},this._handleScroll=()=>{this._updateForCurrentPosition()},this._handleWindowGainedFocus=()=>{const e=this.props.chat;!this._clearUnreadTimer&&e.isDirty()&&(this._clearUnreadTimer=setTimeout((()=>{delete this._clearUnreadTimer,this._maybeSendSeen()}),2500))},this._handleWindowLostFocus=()=>{if(!this.state.unreadCount||!V.isMostRecentCMC(this.props))return;const e=this.props.chat;0===e.unreadCount&&this.setState({unreadCount:0}),e.markedUnread=!1},this._jumpToBottom=()=>{const{msgCollection:e}=this.props;V.isMostRecentCMC(this.props)&&this.state.cursor.getEnd(e)>=e.length?this._scrollToBottom():C.Cmd.openChatBottom(this.props.chat).then((e=>{e&&F.ComposeBoxActions.focus(this.props.chat)}))},this._jumpToMention=()=>{if((0,q.isGroupCatchUpEnabled)()){var e;const t=this.props.chat,n=null===(e=t.groupMetadata)||void 0===e?void 0:e.unreadMentionMetadata;if(n){const e=n.pendingUnreadMentionCount,a=(0,K.roundUp10thPercentage)(e,n.getUnreadMentionCount());if(new J.default.GroupCatchUp({mentionsCountPendingPercentage:a}).commit(),e>0){const t=H.default.t(630,{count:H.default.n(e),_plural:e});return w.ToastManager.open((0,de.jsx)(re.Toast,{msg:t,id:(0,re.genId)()})),n.pendingUnreadMentionCount=0,void this.setState({unreadMentionCount:n.getUnreadMentionCount()})}if(n.unreadMentionCollection.length){const e=n.oldestUnreadMention(),a=M.default.fromString(null==e?void 0:e.id),r=Z.MsgCollection.get(a.toString()),i=t.getSearchContext(r||a);i.highlightMentionMsg=!0,i.enableAnimation=!1,i&&C.Cmd.openChatAt(this.props.chat,i)}}}},this._scrollToBottom=e=>{const t=this.scrollContainer;t&&this._setScrollTop(t,t.scrollHeight),e&&e();const n=this.props.getUnmountSignal();(0,E.documentFlushed)({signal:n}).then((()=>{n.aborted||this.setState({cursor:this.state.cursor.resetBeforeCursor(this.props.msgCollection)})})).catch((0,h.filteredCatch)(c.AbortError,(()=>{})))},this._handleLastMsgChanged=(e,t)=>{const{msgCollection:n}=this.props,{focusCtx:a}=this.state;let{cursor:r}=this.state;const i=n.last();if(!V.isMostRecentCMC(this.props))return void(t&&(null==e?void 0:e.isSentByMe)&&this._jumpToBottom());const o={},l=document.hasFocus(),u=this._nearBottom();let d=u;l&&u?(o.unreadCount=0,o.focusCtx=void 0,r=r.setFocusedMsgKey(n)):(null==i?void 0:i.isSentByMe)&&t&&(d=!0,this.state.unreadCount&&(o.unreadCount=0,o.focusCtx=void 0,r=r.setFocusedMsgKey(n)),this._jumpToBottom()),r=a&&!o.hasOwnProperty("focusCtx")?r.loadAfter(n,{count:1}):r.loadBeforeCapped(n,{count:1}),r!==this.state.cursor&&(o.cursor=r),(0,s.default)(o)||this.setState(o,(()=>{d&&this._scrollToBottom()}))},this._reactionOnLastMessage=()=>{this.state.isNearBottom&&this._scrollToBottom()},this._handleUnreadMentionCount=()=>{var e,t;const{chat:n}=this.props,a=null!==(e=null===(t=n.groupMetadata)||void 0===t?void 0:t.unreadMentionMetadata.getUnreadMentionCount())&&void 0!==e?e:0;this.setState({unreadMentionCount:a})},this._handleUnreadCount=()=>{var e;const{chat:t}=this.props,n=this._nearBottom(),a=document.hasFocus();this._maybeSendSeen(n,a);const r={};if(t.unreadCount&&!t.pendingSeenCount&&V.isMostRecentCMC(this.props)){r.unreadCount=t.unreadCount;const e=V.getUnreadFocusCtx(this.props,this.state.unreadCount);var i;if(e)r.focusCtx=e,r.cursor=this.state.cursor.setFocusedMsgKey(this.props.msgCollection,null===(i=e.msg)||void 0===i?void 0:i.id)}else 0===t.unreadCount&&0!==this.state.unreadCount&&(null===(e=this.props.msgCollection.last())||void 0===e?void 0:e.asRevoked)&&(r.unreadCount=0);const o=n&&r.unreadCount-this.state.unreadCount==1;(!n&&V.isMostRecentCMC(this.props)||!t.pendingSeenCount&&this.state.newUnread!==t.unreadCount)&&(r.newUnread=t.unreadCount),(0,s.default)(r)||this.setState(r,(()=>{o&&this._scrollToBottom()}))},this._handleMsgsUpdate=()=>{const e=this.state.cursor.ensureValidFocus(this.props.msgCollection);this.state.cursor!==e?this.setState({cursor:e}):this.forceUpdate()},this.handlePageUpDown=()=>{x.default.focus(this.scrollContainer)},this.scrollMessages=()=>{var e;const t=this._visibleMsgOrder[this._visibleMsgOrder.length-1];if(!t)return;const n=this._refMessageList.current;if(!n)return;const a=null===(e=n.getMsgWrapperRef(t.toString()))||void 0===e?void 0:e.getContainerElement();if(!a)return;const r=1===this._visibleMsgOrder.length?a.clientHeight:0,i=this.scrollContainer;(0,P.default)(a,"stop"),i&&(0,P.default)(i,"stop"),(0,P.default)(a,"scroll",{duration:300,container:i,offset:r})},this._handleKeyPress=e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),"Enter"!==e.key||e.shiftKey?F.ComposeBoxActions.paste(this.props.chat,String.fromCharCode(e.charCode)):F.ComposeBoxActions.send(this.props.chat))},this._handleContextMenu=e=>{const t=this.props.chat,n=this.props.onSelectMessages;let a;if(t.isUser)a=(0,de.jsx)(G.default,{chat:t,toContextMenuManager:!0,contact:t.contact,onSelectMessages:n,enableChatThreadLogging:!1});else if(t.isGroup)a=(0,$.groupMenu)(t,n);else{if(!t.isBroadcast)return;a=(0,$.broadcastMenu)(t,n)}e.preventDefault(),e.stopPropagation(),(0,L.addChatThreadLoggingActivities)([{activityType:"chatOverflowClicks",ts:y.Clock.globalUnixTime(),chatId:t.id}]),this.setState({contextMenu:{menu:a,event:e}})},this._handleContextClose=()=>{this.setState({contextMenu:null})},this._handlePaste=e=>{e.preventDefault(),F.ComposeBoxActions.sendPaste(this.props.chat,e)},this._notifyChatRendered=()=>{this.props.notifyChatRendered&&this.props.notifyChatRendered(this.getMsgs())};const{chat:n}=e,r=n.pendingSeenCount?0:n.unreadCount;let i=0;var l,v;(0,q.isGroupCatchUpEnabled)()&&n.isGroup&&(i=null!==(l=null===(v=n.groupMetadata)||void 0===v?void 0:v.unreadMentionMetadata.getUnreadMentionCount())&&void 0!==l?l:0);this.state=(0,o.default)((0,o.default)({},V.getInitialCursorAndFocusContext(e,r)),{},{unreadCount:r,unreadMentionCount:i,isNearBottom:!0,newUnread:0,contextMenu:null,textsize:S.default.get().textsize,msgLoadState:V.getMsgLoadState(e.msgCollection),lastSelectable:e.selectable,lastChat:e.chat,lastMsgCollection:e.msgCollection,lastFocusCtx:e.focusCtx})}componentWillUnmount(){var e;(null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this._updateStickyDateMarker.cancel(),this._updateForCurrentPosition.cancel(),this._handleResizeThrottle.cancel(),this._handleResizeDebounce.cancel(),this._hideStickyDateMarker.cancel(),this._clearUnreadTimer&&clearTimeout(this._clearUnreadTimer),this._maybeSendSeen(),this.props.chat.markedUnread=!1,(0,q.isGroupCatchUpEnabled)()&&this.props.chat.isGroup)&&(null===(e=this.props.chat.groupMetadata)||void 0===e||e.unreadMentionMetadata.reset())}componentDidMount(){const{chat:e,listeners:t}=this.props;t.add(C.Cmd,"scroll_chat_to_bottom",(e=>{this._scrollToBottom(e)})),t.add(C.Cmd,"scroll_messages",this.scrollMessages),t.add(C.Cmd,"textsize_change",(e=>this.setState({textsize:e}))),t.add(C.Cmd,"panes_will_change",this._handlePanesWillChange),t.add(C.Cmd,"panes_did_change",this._handlePanesDidChange),t.add(C.Cmd,"scroll_to_focused_msg",(()=>{this._chatOpenScrollTimestamp=Date.now()})),t.add(C.Cmd,"reaction_changed_last_msg",this._reactionOnLastMessage),t.add(window,"focus",this._handleWindowGainedFocus),t.add(window,"blur",this._handleWindowLostFocus),t.add(window,"resize",this._handleResizeThrottle),t.add(window,"resize",this._handleResizeDebounce),t.add(Z.MsgCollection,"change:msgKey",this._handleMsgKeyChange),t.add(C.Cmd,"new_history_sync_chunk_processed",this._handleHistorySyncStateUpdate),this._attachMsgCollectionObservers(this.props);const n=this.props.getUnmountSignal();(0,E.documentFlushed)({signal:n}).then((()=>{n.aborted||this._showStickyDateMarker()})).catch((0,h.filteredCatch)(c.AbortError,(()=>{}))),this.props.updateOpenedChatInfo({chat:e}),(0,ue.sendSeen)(e),this._updateForCurrentPosition(),this._notifyChatRendered()}static getDerivedStateFromProps(e,t){let n={lastSelectable:e.selectable,lastChat:e.chat,lastMsgCollection:e.msgCollection,lastFocusCtx:e.focusCtx};return e.selectable!==t.lastSelectable||e.chat===t.lastChat&&e.msgCollection===t.lastMsgCollection&&e.focusCtx===t.lastFocusCtx||(n=(0,o.default)((0,o.default)({},n),{},{msgLoadState:V.getMsgLoadState(e.msgCollection)},V.getInitialCursorAndFocusContext(e,t.unreadCount))),n}shouldComponentUpdate(e,t){if(!(0,D.default)(e,this.props))return!0;const n=this.state,{msgLoadState:a}=n,r=(0,i.default)(n,ce),{msgLoadState:o}=t,s=(0,i.default)(t,fe);return!(0,D.default)(o,a)||!(0,D.default)(s,r)}componentDidUpdate(e){e.selectable!==this.props.selectable||e.chat===this.props.chat&&e.msgCollection===this.props.msgCollection&&e.focusCtx===this.props.focusCtx||(this._loadRecentMsgsPromise&&this._loadRecentMsgsPromise.controller.abort(),this._attachMsgCollectionObservers(this.props));const{chat:t}=this.props;this._updateRenderedMsgCache(e.chat===t),this.props.updateOpenedChatInfo({chat:t}),e.msgCollection!==this.props.msgCollection&&this._updateForCurrentPosition(),this._notifyChatRendered()}_getMsgBottom(e,t){const n=e.scrollTop,a=e.scrollHeight,r=e.clientHeight;return a-(t.offsetTop+t.clientHeight+(a-(n+r)))}_setMsgBottom(e,t,n){const a=t.offsetTop+t.clientHeight+n-e.clientHeight;this._setScrollTop(e,a)}getRenderedMessageCount(){return this.getMsgs().length}setScrollBottom(e){const t=this.scrollContainer;t&&this._setScrollTop(t,t.scrollHeight-e-t.clientHeight)}_setScrollTop(e,t){this._programmaticScroll=Date.now(),e&&(e.scrollTop=t)}_showStickyDateMarker(){var e;null===(e=this._refStickyDateMarker.current)||void 0===e||e.setVisibility(!0),this._hideStickyDateMarker.debounce(3e3)}_nearBottom(){const e=this.scrollContainer;return!!e&&e.scrollTop+T.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}getMsgs(){const{focusCtx:e,msgCollection:t}=this.props,{cursor:n,msgLoadState:a}=this.state;return e&&a.isLoadingAroundMsgs?[]:t.toArray().slice(n.getStart(t),n.getEnd(t)).map((e=>e.safe()))}_updateRenderedMsgCache(e){const t=this._refMessageList.current;if(!t)return void this._renderedMsgCache.clear();const n=[],a=t.props.msgs,r=new Map,i={};let o=0,s=a.length-1;for(;o<s;){const e=Math.floor((o+s)/2),n=a[e].id.toString(),r=t.getMsgWrapperRef(n);t.getMsgVisibility(r).visibility===X.MSG_VISIBILITY.ABOVE?o=e+1:s=e}for(let e=o;e<a.length;e++){const o=a[e].id.toString(),s=t.getMsgWrapperRef(o);if(!s)throw new Error("msgRef not found!");const l=t.getMsgVisibility(s);if(l.visibility!==X.MSG_VISIBILITY.VISIBLE)break;i[o]={offset:l.offset,t:a[e].t},r.set(o,s),n.push(a[e].id)}if(!this.scrollContainer)return;const l=this.scrollContainer.scrollTop;o=0,s=Object.keys(t.getRenderedDateMarkers()).length-1;const u=t.getDateMarkerRef(0),d=u&&u.getElement();if(d&&d.offsetTop<=l+8.5)for(;o<s;){const e=Math.ceil((o+s)/2),n=t.getDateMarkerRef(e);if(!n)throw new Error(`DateMarkerRef: ${e} not found. ${Object.keys(t.getRenderedDateMarkers()).toString()}}`);(0,p.default)(n.getElement(),"midDateMarkerRef.getElement()").offsetTop>l+8.5?s=e-1:o=e}else o=-1;this._updateStickyDateMarker.onOrBefore(0,{dateMarkerIdx:o,silent:e}),this._dateMarkerIdx=o,this.pauseHiddenGifs(this._renderedMsgCache,r),this._renderedMsgCache=r,this._visibleMsgOrder=n,(0,q.isGroupCatchUpEnabled)()&&this.props.chat.isGroup&&this._removeViewedMentions(),this.props.updateOpenedChatInfo({renderedMsgsInfo:i,visibleMsgOrder:n,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0})}getMsgComponent(e){const t=this._refMessageList.current;if(t)return t.getMsgComponentRef(e.toString())}pauseHiddenGifs(e,t){e.forEach(((e,n)=>{if(t.has(n))return;const a=this.props.msgCollection.get(n),r=this._refMessageList.current,i=null==r?void 0:r.getMsgComponentRef(n);(null==a?void 0:a.isGif)&&(null==i||i.pause())}))}_maybeSendSeen(e,t){let n=e,a=t;const{chat:r,msgCollection:i}=this.props,{cursor:o}=this.state;if(r.isDirty()&&V.isMostRecentCMC(this.props)&&o.getEnd(i)>=i.length&&((0,l.default)(a)&&(a=document.hasFocus()),a&&((0,l.default)(n)&&(n=this._nearBottom()),n)))return(0,ue.sendSeen)(r),!0}render(){const{chat:e,msgCollection:t,selectable:n,onMessageSelect:a}=this.props,{focusCtx:r,msgLoadState:i,unreadMentionCount:o}=this.state,s=(0,I.default)(U.default.pane,{[U.default.selectable]:n}),l=(0,B.getTextsizeClassForScale)(this.state.textsize),u=this.getMsgs(),d=(0,de.jsx)(Q.default,{ref:this._refMessageList,getScrollContainer:this._getScrollContainer,chat:e,unreadCount:this.state.unreadCount,selectable:n,onMessageSelect:a,msgs:u,focusedMsgCtx:r,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,getSequentialMsg:this.getSequentialMsg,isLoadingEarlierMsgs:i.isLoadingEarlierMsgs});let c,f,h,p,m=(0,de.jsx)(z.LoadMoreMessages,{direction:"around",isMostRecentCMC:V.isMostRecentCMC(this.props),loadMoreMsgs:()=>{},isLoadingEarlierMsgs:i.isLoadingEarlierMsgs,isLoadingRecentMsgs:i.isLoadingRecentMsgs,isLoadingAroundMsgs:i.isLoadingAroundMsgs});(this.state.cursor.getStart(t)>0||!i.noEarlierMsgs||e.endOfHistoryTransferType===v.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||e.endOfHistoryTransferType===v.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC||V.noEarlierMsgStateIsIncorrect(e,V.isMostRecentCMC(this.props),i))&&(c=(0,de.jsx)(z.LoadMoreMessages,{direction:"earlier",isMostRecentCMC:V.isMostRecentCMC(this.props),loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:i.isLoadingEarlierMsgs,isLoadingRecentMsgs:i.isLoadingRecentMsgs,isLoadingAroundMsgs:i.isLoadingAroundMsgs,mdHistorySyncTransferState:e.endOfHistoryTransferType})),(this.state.cursor.getEnd(t)<t.length||!V.isMostRecentCMC(this.props))&&(f=(0,de.jsx)(z.LoadMoreMessages,{direction:"recent",isMostRecentCMC:V.isMostRecentCMC(this.props),loadMoreMsgs:this._loadRecentMsgs,isLoadingEarlierMsgs:i.isLoadingEarlierMsgs,isLoadingRecentMsgs:i.isLoadingRecentMsgs,isLoadingAroundMsgs:i.isLoadingAroundMsgs})),r&&i.isLoadingAroundMsgs?(f=void 0,c=void 0):m=void 0;const{isNearBottom:g,newUnread:_}=this.state;if(!g||!i.isLoadingAroundMsgs&&!V.isMostRecentCMC(this.props)){_&&e.unreadCount&&(p=(0,de.jsx)(le.default,{count:this.state.newUnread},"icon-unread"));const t=(0,I.default)(U.default.incoming,{[U.default.ffFix]:A.UA.isGecko});h=(0,de.jsxs)(te.Round,{className:t,dataTab:k.TAB_ORDER.MESSAGE_LIST_SCROLL_BUTTON,onClick:this._jumpToBottom,label:O.fbt._("Scroll to bottom",null,{hk:"3UK0Wq"}),children:[(0,de.jsx)(j.default,{transitionName:"pop",className:U.default.unread,children:p}),(0,de.jsx)(ae.default,{name:"down",className:U.default.iconDown})]})}let b,y=null;if((0,q.isGroupCatchUpEnabled)()&&e.isGroup&&o>0){const e=(0,I.default)(U.default.atMentions,{[U.default.ffFix]:A.UA.isGecko,[U.default.buttonGap]:h,[U.default.buttonGapRemove]:!h}),t=H.default.t(4,{count:H.default.n(o),_plural:o}),n=(0,de.jsxs)(te.Round,{className:e,onClick:this._jumpToMention,dataTab:k.TAB_ORDER.MESSAGE_LIST_SCROLL_BUTTON,children:[(0,de.jsx)(j.default,{transitionName:"pop",className:U.default.unread,children:(0,de.jsx)(le.default,{count:o,ariaLabel:t})}),(0,de.jsx)(ae.default,{name:"mentions",className:U.default.iconMentions})]});y=g?n:(0,de.jsx)(j.default,{transitionName:"pop",children:n})}return this.state.contextMenu&&(b=(0,de.jsx)(ie.UIE,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:this._handleContextClose,children:(0,de.jsx)(oe.default,{contextMenu:this.state.contextMenu})})),(0,de.jsxs)(W.default,{className:l,children:[(0,de.jsx)(ne.default,{ref:this._refStickyDateMarker}),(0,de.jsxs)("div",{className:U.default.incomingContainer,children:[y,(0,de.jsx)(j.default,{transitionName:"pop",children:h})]}),(0,de.jsxs)("div",{className:s,ref:this._setScrollContainer,onScroll:this._handleScroll,onKeyPress:this._handleKeyPress,onContextMenu:n?null:this._handleContextMenu,onPaste:this._handlePaste,tabIndex:"0",children:[(0,de.jsx)("div",{className:U.default.empty}),m,c,d,f]}),b]})}}pe.displayName="ConversationMsgs";const me=(0,se.default)((0,Y.ListenerHOC)(pe));t.default=class extends me{getRenderedMessageCount(){return this.getComponent().getRenderedMessageCount()}getScrollBottom(){return this.getComponent().getScrollBottom()}onComposeHeightChange(e){this.getComponent().handleComposeHeightChange(e)}onPageUpDown(e){this.getComponent().handlePageUpDown(e)}setScrollBottom(e){this.getComponent().setScrollBottom(e)}}},70513:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getInitialCursorAndFocusContext=function(e,t){const{focusCtx:n,chat:a,msgCollection:r}=e,i=s(n)||l(e,t),u=null==i?void 0:i.msg,d=null==u?void 0:u.id;return{cursor:o.RenderCursor.create({msgCollection:r,focusedMsgKey:d,type:a.isGroup?o.RENDER_CURSOR.GROUP_CONVERSATION:o.RENDER_CURSOR.CONVERSATION}),focusCtx:i}},t.getMsgLoadState=function(e){const{msgLoadState:t}=e;return{noEarlierMsgs:t.noEarlierMsgs,isLoadingEarlierMsgs:t.isLoadingEarlierMsgs,isLoadingRecentMsgs:t.isLoadingRecentMsgs,isLoadingAroundMsgs:t.isLoadingAroundMsgs,contextLoaded:t.contextLoaded}},t.getUnreadFocusCtx=l,t.isMostRecentCMC=u,t.noEarlierMsgStateIsIncorrect=function(e,t,n){const a=n.noEarlierMsgs&&e.shouldAppearInList&&t&&e.msgChunks.filter((e=>e.filter((t=>t.msgChunk===e)).length>0)).length>0;a&&(__LOG__(4,void 0,new Error,!0)`MRM noEarlierMsgs on chat ${String(e.id)} is true but chat.msgChunks has length: ${e.msgChunks.length},
and chat.msgs.length: ${e.msgs.length}`,SEND_LOGS("noEarlierMsgs-error"));return a},t.validateFocusCtx=s;var r=a(n(81109)),i=(n(67294),n(59871)),o=n(75705);function s(e){return null==e?null:null!=e.key?(0,r.default)((0,r.default)({},e),{},{msg:i.MsgCollection.get(e.key)}):e}function l(e,t){const{chat:n,msgCollection:a,focusCtx:r}=e;let i;if(i=n.unreadCount?n.unreadCount:t,r&&!u(e)||!i)return;let o=a.filter((e=>e.isUnreadType)).reverse().slice(0,i);return o.length===i?(o=o[o.length-1],{msg:o,isUnreadDivider:n.shouldShowUnreadDivider,highlightMsg:!1}):void 0}function u(e){return e.chat.msgs===e.msgCollection}},84518:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=a(n(78438)),o=a(n(23217)),s=n(85893);function l(e,t){const n=e.onClose?(0,s.jsx)("div",{className:i.default.closeBtn,role:"button",onClick:e.onClose,children:(0,s.jsx)(o.default,{name:"x"})}):null;return(0,s.jsxs)("div",{className:i.default.subheader,ref:t,children:[(0,s.jsx)("div",{className:i.default.main,children:e.children}),n]})}var u=(0,r.forwardRef)(l);t.default=u},404:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(81572),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(95726)),o=a(n(94184)),s=n(48360),l=n(67294),u=n(65417),d=n(30695),c=a(n(89576)),f=a(n(8694)),h=a(n(65932)),p=n(13923),m=n(85893);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}class _ extends l.Component{constructor(e){super(e),this._setBodyRef=e=>{this._bodyRef=e},this._setDescRef=e=>{this._descRef=e},this._handleReadMore=()=>{const{chat:e}=this.props;r.Cmd.chatInfoDrawer(e,!0)},this._handleResize=e=>{let{width:t}=e;const{descWidth:n}=this.state;n<=0||this.setState({truncated:t<n})},this.state={desc:b(e.groupMetadata),descWidth:0,truncated:!1,hidden:!0}}static getDerivedStateFromProps(e,t){const n=b(e.groupMetadata);return n===t.desc?null:{desc:n,descWidth:0,truncated:!1,hidden:!0}}_handleDescWidthObtained(){const{_bodyRef:e,_descRef:t}=this;if(!e||!t)return;const n=e.clientWidth,a=t.getWidth();this.setState({descWidth:a,truncated:n<a,hidden:!1})}componentDidMount(){this._handleDescWidthObtained()}componentDidUpdate(e,t){t.desc!==this.state.desc&&this._handleDescWidthObtained()}render(){const{desc:e}=this.state;if(!e)return null;const{truncated:t,hidden:n}=this.state,a=this.props.chat.isTrusted()?d.Configuration.TrustedGroupDesc({links:i.findLinks(e)}):d.Configuration.UntrustedGroupDesc();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.TextDiv,{theme:"title",children:s.fbt._("Group Description",null,{hk:"3Cs2oY"})}),(0,m.jsx)(f.default,{ref:this._setBodyRef,onResize:this._handleResize,className:c.default.body,children:(0,m.jsxs)(p.TextSpan,{theme:"small",className:(0,o.default)(c.default.text,{[c.default.hidden]:n}),children:[(0,m.jsx)(u.EmojiText,{ref:this._setDescRef,text:e,selectable:!0,formatters:a,className:c.default.desc}),t&&(0,m.jsx)("div",{className:c.default.more,role:"button",onClick:this._handleReadMore,children:s.fbt._("Read more",null,{hk:"2DvSvh"})})]})})]})}}_.CONCERNS={groupMetadata:["displayedDesc"]},_.displayName="GroupDescriptionBar";var v=(0,h.default)(_,_.CONCERNS);function b(e){return null==e?void 0:e.displayedDesc}t.default=v},55800:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GrowthLockedModal=function(){return(0,c.jsx)(u.default,{title:s.fbt._("Invite link unavailable",null,{hk:"3nV0kV"}),onLearnMoreClicked:h,onOkClicked:f,children:s.fbt._("You can't join this group because the invite link is unavailable.",null,{hk:"4iPF7L"})})},t.openGrowthLockedModal=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e){const e=s.fbt._("You can't view this group's invite link because you're not an admin.",null,{hk:"2GPPmB"});return void o.ToastManager.open((0,c.jsx)(d.Toast,{msg:e,id:(0,d.genId)()}))}const n=t?s.fbt._("Invite via link unavailable",null,{hk:"3qjGKv"}):s.fbt._("Invite via link was unavailable",null,{hk:"4wgNSd"}),a=t?s.fbt._("Invite via link is temporarily unavailable for this group.",null,{hk:"wdAra"}):s.fbt._("Invite via link was temporarily unavailable for this group.",null,{hk:"txY0N"});i.ModalManager.open((0,c.jsx)(u.default,{title:n,onLearnMoreClicked:h,onOkClicked:f,children:a}),{transition:"modal-flow"})};var r=n(21310),i=n(14597),o=n(94816),s=n(48360),l=n(12591),u=a(n(91204)),d=n(50452),c=n(85893);const f=()=>{i.ModalManager.close()},h=()=>{(0,l.openExternalLink)((0,r.getGroupInviteGrowthLockedFaqUrl)())}},98295:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(88555),i=n(81572),o=n(41455),s=n(65885),l=n(8139),u=n(14597),d=n(78820),c=n(48360),f=n(67294),h=a(n(59312)),p=a(n(16223)),m=n(87550),g=a(n(60008)),_=n(85874),v=n(59638),b=n(7156),y=n(93581),C=n(94010),S=n(88172),E=n(17239),x=n(60811),T=n(71174),M=n(65100),k=a(n(54995)),w=a(n(56624)),A=a(n(14296)),P=n(77975),j=n(82145),I=a(n(11339)),O=n(43257),N=a(n(67700)),R=n(9153),D=n(64551),L=a(n(23217)),B=n(2712),F=a(n(95402)),G=n(85893);function U(e){return(0,G.jsxs)("button",{"aria-label":e.ariaLabel,className:g.default.iconsItem,"data-animate-menu-icons-item":!0,children:[(0,G.jsx)(L.default,{name:e.svgName,className:g.default.iconImage}),e.children]})}function V(e){return(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:e.tooltipPosition,children:c.fbt._("Quick Replies",null,{hk:"3VBzfb"})}),a8n:"mi-attach-quick-replies",action:e.onClick,children:(0,G.jsx)(U,{ariaLabel:c.fbt._("Quick Replies",null,{hk:"3VBzfb"}),svgName:"attach-quick-replies"})})}function W(e){const t=y.BusinessProfileCollection.get((0,d.getMaybeMeUser)());return!e.sendProductCatalog||(0,l.blockCatalogCreationECommerceComplianceIndia)(t)?null:(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:e.tooltipPosition,children:c.fbt._("Catalog",null,{hk:"4o6ci2"})}),a8n:"mi-attach-product-catalog",action:e.onClick,children:(0,G.jsx)(U,{ariaLabel:c.fbt._("Catalog",null,{hk:"4o6ci2"}),svgName:"attach-product"})})}const H=(0,f.forwardRef)(((e,t)=>(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:e.tooltipPosition,children:A.default.t(137)}),a8n:"mi-attach-document",action:e.onClick,children:(0,G.jsx)(U,{ariaLabel:A.default.t(137),svgName:"attach-document",children:(0,G.jsx)(k.default,{ref:t,mimes:O.DOC_MIMES,onChange:e.onDocumentPick})})}))),q=(0,f.forwardRef)(((e,t)=>(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:e.tooltipPosition,children:c.fbt._("Sticker",null,{hk:"zXZ2C"})}),a8n:"mi-attach-sticker",action:e.onClick,children:(0,G.jsx)(U,{ariaLabel:c.fbt._("Sticker",null,{hk:"zXZ2C"}),svgName:"attach-sticker",children:(0,G.jsx)(k.default,{ref:t,mimes:O.IMAGE_MIMES,onChange:e.onStickerPick,multiple:!1})})})));function Y(e){if(!e.sendOrder)return null;const t=String(c.fbt._("Order",null,{hk:"1EGPeJ"}));return(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:e.tooltipPosition,children:t}),a8n:"mi-attach-order",action:e.onClick,children:(0,G.jsx)(U,{ariaLabel:t,svgName:"attach-order"})})}function z(e){if(!E.Conn.isSMB||e)return!1;if((0,l.orderDetailsCustomItemEnabled)())return!0;const t=y.BusinessProfileCollection.get((0,d.getMaybeMeUser)());return(0,l.orderDetailsFromCatalogEnabled)()&&(0,C.hasCatalog)(t)}function K(){if(!E.Conn.isSMB)return!1;if(!D.ServerProps.shopsHideCatalogAttachmentEntrypoint)return!0;const e=y.BusinessProfileCollection.get((0,d.getMaybeMeUser)());return!(0,C.hasShop)(e)}var $=(0,f.forwardRef)(((e,t)=>{const n=c.fbt._("Poll",null,{hk:"1PlYYp"}),a=A.default.isRTL()?B.TooltipAnchor.Left:B.TooltipAnchor.Right,r=(0,F.default)(),C=(0,h.default)(),E=(0,f.useRef)(),M=(0,f.useRef)(),D=(0,f.useRef)(),$=(0,p.default)((()=>new R.ProductCatalogSession));(0,m.useListener)((0,f.useMemo)((()=>y.BusinessProfileCollection.get((0,d.getMaybeMeUser)())),[]),"change:profileOptions",C);const X=()=>{null==r||r.requestDismiss()},J=function(t){var n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.Cmd.attachMediaDrawer({chat:e.chat,attachments:t,fileOrigin:I.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:null===(n=e.getComposeContents)||void 0===n?void 0:n.call(e),onComplete:(t,n)=>{var a;null===(a=e.onMenuComplete)||void 0===a||a.call(e,t,n)},sendAsSticker:a})};return(0,G.jsxs)("div",{className:g.default.attachMenuContainer,ref:t,children:[(0,G.jsx)(L.default,{name:"attach-shadow"}),(0,G.jsxs)(x.Dropdown,{type:x.MenuType.Menu,children:[(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:a,children:c.fbt._("Photos & Videos",null,{hk:"ZW4y9"})}),a8n:"mi-attach-media",action:t=>{if(t.preventDefault(),null!=E.current)return E.current.open(),Q(e.chat),!1},children:(0,G.jsx)(U,{ariaLabel:c.fbt._("Photos & Videos",null,{hk:"ZW4y9"}),svgName:"attach-image",children:(0,G.jsx)(k.default,{ref:E,mimes:[O.IMAGE_MIMES,O.VIDEO_MIMES].join(","),onChange:e=>{var t;if(!e)return void X();e.stopPropagation();const n=Array.from(null!==(t=e.target.files)&&void 0!==t?t:[]);X(),n.length&&J(n.map((e=>({file:e}))))}})})}),(0,G.jsx)(Y,{tooltipPosition:a,sendOrder:z(e.chat.isGroup),onClick:()=>{o.DrawerManager.openDrawerRight((0,G.jsx)(N.default,{chat:e.chat}),"slide-left")}}),(0,G.jsx)(q,{ref:M,tooltipPosition:a,onClick:t=>{t.preventDefault();const n=M.current;if(n)return new I.default.WebcStickerMakerEvents({stickerMakerEventName:I.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit(),n.open(),Q(e.chat),!1},onStickerPick:e=>{if(!e)return void X();e.stopPropagation();const t=null==e.target.files?[]:Array.from(e.target.files);X(),t.length&&(new I.default.WebcStickerMakerEvents({stickerMakerEventName:I.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit(),J(t.map((e=>({file:e,stickerMaker:!0}))),!0))}}),(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:a,children:c.fbt._("Camera",null,{hk:"1AmyYx"})}),a8n:"mi-attach-camera",action:e.onCaptureClick,disabled:!w.default,children:(0,G.jsx)(U,{ariaLabel:c.fbt._("Camera",null,{hk:"1AmyYx"}),svgName:"attach-camera"})}),(0,G.jsx)(H,{tooltipPosition:a,onClick:t=>{if(t.preventDefault(),D.current)return D.current.open(),Q(e.chat),!1},onDocumentPick:e=>{if(!e)return void X();e.stopPropagation();const t=null==e.target.files?[]:Array.from(e.target.files);if(X(),!t.length)return;const n=t.map((e=>({file:e,type:s.FILETYPE.DOCUMENT})));J(n)},ref:D}),(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:a,children:A.default.t(139)}),a8n:"mi-attach-contact",action:t=>{t.preventDefault(),u.ModalManager.open((0,G.jsx)(b.AttachVcardsFlowLoadable,{chat:e.chat,onContactsSent:()=>{var t;null===(t=e.onMenuComplete)||void 0===t||t.call(e,!0,{initCaptionUsed:!1})}})),Q(e.chat)},children:(0,G.jsx)(U,{ariaLabel:A.default.t(139),svgName:"attach-contact"})}),(0,G.jsx)(W,{sendProductCatalog:K(),tooltipPosition:a,onClick:t=>{t.preventDefault();const n=$.current.toString();null!=n&&((0,P.logCatalogAttachmentButtonClick)(n),(0,j.qplStartCatalogView)("Attachment"),u.ModalManager.open((0,G.jsx)(v.AttachProductModalLoadable,{chat:e.chat,sessionId:n})),Q(e.chat))}}),(0,l.canSendQuickReply)()?(0,G.jsx)(V,{onClick:e=>{e.preventDefault(),S.ComposeBoxActions.toggleQuickReplies()},tooltipPosition:a}):null,e.chat.isGroup&&(0,l.isPollsCreationEnabled)()?(0,G.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,G.jsx)(B.Tooltip,{anchor:a,children:n}),a8n:"mi-attach-poll",action:t=>{t.preventDefault(),u.ModalManager.open((0,G.jsx)(_.AttachPollModalLoadable,{chat:e.chat})),Q(e.chat)},children:(0,G.jsx)(U,{ariaLabel:n,svgName:"attach-poll"})}):void 0]},"AttachMenuDropdown")]})}));function Q(e){(0,r.isMDBackend)()&&(0,M.eagerlyEstablishE2EESessionForMedia)(e)}t.default=$},44395:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,onMenuComplete:n}=e,a=(0,h.default)(),x=(0,c.useRef)(null),T=(0,f.default)();(0,c.useEffect)((()=>()=>{var e;null===(e=x.current)||void 0===e||e.call(x),s.DrawerManager.closeDrawerMid()}),[]);return(0,E.jsx)(y.MenuBarItem,{a8nText:"conversation-clip",icon:(0,E.jsx)(S.default,{name:"clip"}),tabOrder:d.TAB_ORDER.COMPOSE_BOX_ATTACH_BUTTON,title:v.default.t(453),transitionName:"menu",onClick:e=>{(e=>{s.DrawerManager.existsDrawerMid((t=>{t&&e.preventDefault()}))})(e)},children:(0,E.jsx)(p.default,{chat:e.chat,onCaptureClick:()=>{(()=>{const{asyncStream:e,disposeStream:o}=b.start("camera");x.current=o,(0,i.default)(e,a).then((e=>{e&&s.DrawerManager.openDrawerMid((0,E.jsx)(m.CaptureMediaDrawerLoadable,{chat:(0,C.unproxy)(t),stream:e,disposeStream:x.current,onCaptureSent:()=>{null==n||n(!0,{initCaptionUsed:!1})},onClose:()=>s.DrawerManager.closeDrawerMid()}),"slide-up",T,{noFocus:!0})})).catch((0,r.filteredCatch)(l.GUM.NotAllowedError,(()=>{u.ModalManager.open((0,E.jsx)(_.GuidePopup,{messaging:_.Messaging.CAMERA_FAIL,type:_.TYPE.GUIDE_UNBLOCK}))}))).catch((0,r.filteredCatch)(l.GUM.GUMError,(()=>{u.ModalManager.open((0,E.jsx)(_.GuidePopup,{messaging:_.Messaging.CAMERA_MISSING,type:_.TYPE.GUIDE_NONE}))})))})(),(0,o.isMDBackend)()&&(0,g.eagerlyEstablishE2EESessionForMedia)(t)},getComposeContents:e.getComposeContents,onMenuComplete:e.onMenuComplete})})};var r=n(50796),i=a(n(47259)),o=n(88555),s=n(41455),l=T(n(35232)),u=n(14597),d=n(55715),c=n(67294),f=a(n(95402)),h=a(n(3409)),p=a(n(98295)),m=n(49946),g=n(65100),_=n(18671),v=a(n(14296)),b=T(n(61849)),y=n(46346),C=n(18146),S=a(n(23217)),E=n(85893);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}},28460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294),r=n(60811),i=n(52684),o=n(85893);function s(e,t){const{chat:n,onSelectMessages:a,toContextMenuManager:s=!1}=e,l=(0,i.broadcastMenu)(n,a);return s?(0,o.jsx)("div",{ref:t,children:l}):(0,o.jsx)(r.Dropdown,{ref:t,type:r.MenuType.DropdownMenu,flipOnRTL:!0,dirX:r.DirX.LEFT,children:l},"BroadcastMenuDropdown")}var l=(0,a.forwardRef)(s);t.default=l},77003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(40234),r=n(67294),i=n(32107),o=n(60811),s=n(52684),l=n(85893);function u(e,t){const{chat:n,onSelectMessages:u}=e;(0,r.useEffect)((()=>{(0,i.addChatThreadLoggingActivities)([{activityType:"chatOverflowClicks",ts:a.Clock.globalUnixTime(),chatId:n.id}])}),[n.id]);const d=(0,s.groupMenu)(n,u);return e.toContextMenuManager?(0,l.jsx)("div",{ref:t,children:d}):(0,l.jsx)(o.Dropdown,{ref:t,type:o.MenuType.DropdownMenu,flipOnRTL:!0,dirX:o.DirX.LEFT,testid:"group-menu-dropdown",children:d},"GroupMenuDropdown")}var d=(0,r.forwardRef)(u);t.default=d},48948:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,g.default)(),n=(0,f.default)(),a=(0,c.useRef)(!1),y=(0,c.useRef)(!1),V=(0,c.useRef)(null),K=(0,p.useModelValues)(e.chat,["id","formattedTitle","presence","isUser","isGroup","isBroadcast","groupMetadata","isPSA","contact","name"]),Q=(0,p.useModelValues)(e.contact,["showBusinessCheckmarkAsPrimary","showBusinessCheckmarkAsSecondary","shouldForceBusinessUpdate"]),X=(0,_.default)(),[J,Z]=(0,c.useState)(!1),[ee,te]=(0,c.useState)(E.Conn.isVoipInitialized),[ne,ae]=(0,c.useState)(null);(0,c.useEffect)((()=>{function e(){return(e=(0,r.default)((function*(){yield b.BusinessProfileCollection.find(K.contact.id),n()}))).apply(this,arguments)}Q.shouldForceBusinessUpdate&&function(){e.apply(this,arguments)}()}),[]);const[re]=(0,m.useTimeout)((()=>{Z(!1)}),100),ie=()=>{y.current=!0},oe=()=>{K.contact.isBusiness&&(0,O.qplStartProfileView)("Header"),!K.isPSA&&(K.isUser||K.isBroadcast||K.isGroup)&&s.DrawerManager.openDrawerRight((0,z.jsx)(P.InfoFlowLoadable,{chat:(0,W.unproxy)(K),profileEntryPoint:R.default.PROFILE_ENTRY_POINT.CHAT_HEADER},`info-${K.id.toString()}`),"slide-left",t)};let se,le,ue;if((0,h.useListener)(null,["BrowserWindow:focus"],(()=>{})),(0,h.useListener)(null,"BrowserWindow:move",(function(){a.current&&ie(...arguments)})),(0,h.useListener)(K.contact.businessProfile,["change:profileOptions","change:catalogStatus"],n),(0,h.useListener)(null,"change:activeCall",n),(0,h.useListener)(null,"change:participants",n),(0,h.useListener)(E.Conn,"change:isVoipInitialized",(()=>{te(E.Conn.isVoipInitialized)})),(0,h.useListener)(o.Cmd,"get_conversation_header_offset",(e=>{if(V.current){const t=V.current.getBoundingClientRect();e((0,i.default)(t,["right","bottom"]))}else e(null)})),K.isUser)se=(0,z.jsx)(x.default,{chat:K,contact:K.contact,onSelectMessages:e.onSelectMessages,toContextMenuManager:!0,enableChatThreadLogging:!0}),le=(0,z.jsx)(Y.default,{contact:K.contact,presence:K.presence,chatstate:K.presence.chatstate,location:"title",showBusinessCheckmark:Q.showBusinessCheckmarkAsSecondary});else if(K.isBroadcast)se=(0,z.jsx)(v.default,{chat:(0,W.unproxy)(K),onSelectMessages:e.onSelectMessages,toContextMenuManager:!0}),le=null;else if(K.isGroup){var de;se=(0,z.jsx)(k.default,{chat:(0,W.unproxy)(K),onSelectMessages:e.onSelectMessages,toContextMenuManager:!0});const t=(null===(de=K.groupMetadata)||void 0===de?void 0:de.participants)&&K.groupMetadata.participants.iAmAdmin()&&K.groupMetadata.announce?d.fbt._("Admin announcements",null,{hk:"397CTf"}):j.default.t(180);le=(0,z.jsx)(w.default,{chatstate:K.presence.chatstate,groupMetadata:K.groupMetadata,presence:K.presence,placeholder:t,location:"title"})}if(ne&&se){const e={menu:se,anchor:ne,autoFocus:!0,dirX:j.default.isRTL()?M.DirX.RIGHT:M.DirX.LEFT,dirY:M.DirY.BOTTOM,offsetY:5,type:M.MenuType.DropdownMenu};ue=(0,z.jsx)(q.default,{contextMenu:e})}let ce;0;const fe=(0,z.jsx)(N.MenuBarItem,{tabOrder:u.TAB_ORDER.CHAT_HEADER_BUTTON,a8nText:"search-button",icon:(0,z.jsx)(H.default,{name:"search-alt"}),title:j.default.t(569),onClick:e=>{e.preventDefault(),s.DrawerManager.existsDrawerMid((e=>{e||s.DrawerManager.openDrawerRight((0,z.jsx)(S.default,{chat:(0,W.unproxy)(K)},`chat-search-${K.id.toString()}`),"slide-left",t)}))}});K.isPSA&&(le=null);return X.aborted?null:(0,z.jsxs)("header",{ref:V,className:A.default.chatHeader,onClickCapture:()=>{},onMouseDown:()=>{},children:[(0,z.jsx)("div",{className:A.default.chatAvatar,onClick:oe,title:d.fbt._("Profile Details",null,{hk:"22n3V4"}),role:K.isPSA?null:"button",children:(0,z.jsx)(T.DetailImage,{id:K.id,size:40,ephemeralIcon:"conversation-header"})}),(0,z.jsxs)("div",{className:A.default.chatBody,onClick:oe,role:K.isPSA?null:"button",children:[(0,z.jsx)("div",{className:A.default.chatMain,children:(0,z.jsx)("div",{className:A.default.chatTitle,children:(0,z.jsx)(D.Name,{chat:K,titlify:!0,ellipsify:!0,showBusinessCheckmark:Q.showBusinessCheckmarkAsPrimary})})}),le]}),(0,z.jsx)("div",{className:A.default.chatControls,children:(0,z.jsxs)(N.MenuBar,{children:[null,null,ce,(0,z.jsx)($,{chat:K,onShopClick:e=>{e.preventDefault(),(0,C.goToShop)(K.contact.businessProfile)},onProductCatalogClick:e=>{e.preventDefault(),(0,l.canViewCollections)()&&G.QPL.markerStart(U.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}});const n=(0,L.buildProductCatalogContext)(new B.ProductCatalogSession,R.default.BIZ_PLATFORM.SMB,R.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_CHAT),a=K.contact.id;(0,I.logChatCatalogView)({catalogOwnerWid:a,catalogContext:n}),s.DrawerManager.openDrawerRight((0,z.jsx)(F.ProductDetailsFlowLoadable,{chat:K,catalogOwnerJid:a.toJid()}),"slide-left",t,n)}}),fe,(0,z.jsx)("div",{ref:ae,children:(0,z.jsx)(N.MenuBarItem,{tabOrder:u.TAB_ORDER.CHAT_HEADER_BUTTON,a8nText:"conversation-menu",icon:(0,z.jsx)(H.default,{name:"menu"}),title:j.default.t(454),onClick:e=>{s.DrawerManager.existsDrawerMid((t=>{t&&e.preventDefault()}))},testid:"conversation-menu-button",children:ue})})]},"conversation-header")})]})};var r=a(n(48926)),i=a(n(78718)),o=(n(73679),n(81572)),s=(a(n(64369)),n(41455)),l=n(8139),u=(n(14597),n(55715)),d=n(48360),c=n(67294),f=a(n(59312)),h=n(87550),p=n(35461),m=n(46428),g=a(n(95402)),_=a(n(3409)),v=a(n(28460)),b=n(93581),y=n(93170),C=n(94010),S=a(n(62857)),E=n(17239),x=a(n(23409)),T=n(88984),M=n(60811),k=a(n(77003)),w=a(n(30140)),A=a(n(97095)),P=n(23831),j=a(n(14296)),I=n(77975),O=n(56057),N=n(46346),R=a(n(11339)),D=n(12176),L=n(97567),B=n(9153),F=n(67455),G=n(48870),U=n(27798),V=n(64551),W=(a(n(29535)),n(18146)),H=a(n(23217)),q=a(n(24717)),Y=a(n(35148)),z=(n(84356),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a)}(n(46167)),n(85893));function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function $(e){var t;let{chat:n,onShopClick:a,onProductCatalogClick:r}=e;const{businessProfile:i}=n.contact;return V.ServerProps.webShopsChatHeaderButtonEnabled&&(0,C.hasShop)(i)?(0,l.bannedShopsEnabled)()&&(0,C.isShopBanned)(i)?null:(0,z.jsx)(N.MenuBarItem,{tabOrder:u.TAB_ORDER.CHAT_HEADER_BUTTON,a8nText:"shop-button",icon:(0,z.jsx)(H.default,{name:"shop"}),title:d.fbt._("Shop",null,{hk:"3KsdlE"}),onClick:a}):(null==i||null===(t=i.profileOptions)||void 0===t?void 0:t.commerceExperience)===y.COMMERCE_EXPERIENCE_TYPES.CATALOG||(null==i?void 0:i.catalogStatus)===b.CATALOG_EXISTS?(0,z.jsx)(N.MenuBarItem,{tabOrder:u.TAB_ORDER.CHAT_HEADER_BUTTON,a8nText:"product_catalog-button",icon:(0,z.jsx)(H.default,{name:"catalog-entrypoint"}),title:d.fbt._("Catalog",null,{hk:"3t362Y"}),onClick:r}):null}},96688:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.HistorySyncLoadMoreUiState=void 0,t.LoadMoreMessages=function(e){let{direction:t,loadMoreMsgs:n,isLoadingEarlierMsgs:a,isLoadingRecentMsgs:h,isLoadingAroundMsgs:p,mdHistorySyncTransferState:m}=e;const g="earlier"===t&&a||"recent"===t&&h||"around"===t&&p,_=null!=m&&!g,v=m===i.ConversationEndOfHistoryTransferModelPropType.INCOMPLETE;let b,y,C;if(g)b=(0,f.jsx)(d.Spinner,{stroke:6,size:24,color:"highlight"}),y=l.default.t(423);else if((0,r.isMDBackend)()&&_){let e;e=v?s.fbt._("Chat history sync in progress. This may take a while.",null,{hk:"2ZazaX"}):s.fbt._("Use WhatsApp on your phone to see older chat messages.",null,{hk:"442sJJ"}),b=(0,f.jsx)("div",{className:u.default.historySyncStateContainerBody,children:(0,f.jsx)("div",{className:u.default.historySyncStatusText,children:e})}),y=e}else{switch(t){case"earlier":y=l.default.t(420);break;case"recent":y=l.default.t(421);break;default:y=l.default.t(423)}b=(0,f.jsx)(c.default,{name:"refresh"}),C=n}const S=(0,o.default)(u.default.wrapper,{[u.default.historySyncStatusWrapper]:_}),E=(0,o.default)(u.default.historySyncStateContainer,{[u.default.historySyncSystemMsg]:!v,[u.default.historySyncLoadingIndicator]:v}),x=_?(0,f.jsx)("div",{className:E,children:b}):(0,f.jsx)("div",{className:u.default.button,title:y,onClick:C,children:b});return(0,f.jsx)("div",{className:S,children:x})},t.MessageListButton=function(e){let{children:t,onClick:n,title:a}=e;return(0,f.jsx)("div",{className:u.default.wrapper,children:(0,f.jsx)("div",{className:u.default.button,title:a,onClick:n,children:t})})};var r=n(88555),i=n(61957),o=a(n(94184)),s=n(48360),l=a(n(14296)),u=a(n(14570)),d=n(11054),c=a(n(23217)),f=n(85893);const h=n(76672).Mirrored(["SYNC_IN_PROGRESS","SYNC_COMPLETE_BUT_MORE_MSG_ON_PHONE"]);t.HistorySyncLoadMoreUiState=h},52684:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.broadcastMenu=function(e,t){const n=[];return n.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-broadcast-info",action:()=>i.Cmd.chatInfoDrawer(e),children:o.fbt._("Broadcast list info",null,{hk:"1cXRzw"})},"info")),n.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-select-messages",action:t,children:d.default.t(834)},"select")),n.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-clear",action:()=>i.Cmd.clearChat(e),children:d.default.t(179)},"clear")),n.push((0,g.jsx)(l.default,{onDeleteOrExit:()=>i.Cmd.deleteOrExitChat(e),chat:e},"delete")),n},t.groupMenu=function(e,t){var n;const a=[],_=()=>{i.Cmd.ephemeralDrawer((0,m.unproxy)(e),!1,f.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)};a.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-group-info",testid:"menu-item-chat-info",action:()=>i.Cmd.chatInfoDrawer(e),children:o.fbt._("Group info",null,{hk:"2SfTUZ"})},"info")),a.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-select-messages",action:t,children:d.default.t(834)},"select")),e.mute.canMute()&&a.push((0,g.jsx)(h.default,{onMute:t=>i.Cmd.muteChat(e,t),mute:e.mute,chat:e,settings:p.default},"mute"));(0,r.isMDBackend)()&&(0,s.getABPropConfigValue)("add_dm_to_chat_overflow_menu")&&(0,c.isDisappearingModeEnabled)()&&e.shouldShowEphemeralSetting()&&(null===(n=e.groupMetadata)||void 0===n?void 0:n.canSetEphemeralSetting())&&a.push((0,g.jsx)(u.DropdownItem,{action:_,children:o.fbt._("Disappearing messages",null,{hk:"29k6qZ"})},"disappearingMessages"));return a.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-clear",action:()=>i.Cmd.clearChat(e),children:d.default.t(179)},"clear")),a.push((0,g.jsx)(l.default,{onDeleteOrExit:()=>i.Cmd.deleteOrExitChat(e),chat:e},"delete")),a};var r=n(88555),i=n(81572),o=n(48360),s=n(57849),l=a(n(39424)),u=n(71174),d=a(n(14296)),c=n(41566),f=a(n(11339)),h=a(n(90922)),p=a(n(68132)),m=n(18146),g=n(85893)},12285:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(45095)),o=n(10206),s=n(81572),l=n(21634),u=a(n(45120)),d=a(n(52013)),c=n(8139),f=n(14597),h=n(67811),p=a(n(40436)),m=a(n(94184)),g=n(48360),_=a(n(41143)),v=n(67294),b=a(n(96774)),y=a(n(62087)),C=n(13738),S=n(81250),E=a(n(72655)),x=n(16593),T=a(n(52665)),M=a(n(47022)),k=n(71174),w=n(75362),A=a(n(14703)),P=a(n(67745)),j=a(n(20568)),I=a(n(70842)),O=a(n(14296)),N=n(1041),R=n(78986),D=a(n(34377)),L=n(87931),B=a(n(20485)),F=n(63132),G=n(56979),U=a(n(52500)),V=a(n(6088)),W=n(55051),H=n(78756),q=n(18146),Y=a(n(23217)),z=n(18644),K=a(n(24717)),$=a(n(1961)),Q=n(58827),X=n(82573),J=n(85893);const Z=[C.AlbumPosition.TOP_LEFT,C.AlbumPosition.TOP_RIGHT,C.AlbumPosition.BOTTOM_LEFT,C.AlbumPosition.BOTTOM_LEFT];class ee extends v.Component{getContainerElement(){return this._refAlbumWrapper.current}constructor(e){super(e),this._refAlbumWrapper=(0,v.createRef)(),this.refAlbumComponents={},this.setRefContext=e=>{this.refContext=e},this._refTail=(0,v.createRef)(),this.setRefBubble=e=>{this.refBubble=e},this._setRefLeftStickerBubble=e=>{this._refLeftStickerBubble=e},this._setRefRightStickerBubble=e=>{this._refRightStickerBubble=e},this._firstStickerRef=(0,v.createRef)(),this._secondStickerRef=(0,v.createRef)(),this.mouseOver=e=>{e.buttons||this.state.hover||this.setState({hover:!0})},this.mouseDown=()=>{this.state.hover&&this.setState({hover:!1})},this.contextMenu=e=>{e.stopPropagation()},this.openForwardFlow=(e,t)=>{const{msgs:n}=this.props;let a;for(let e=0;e<n.length;e++)if(n[e].isUnsentMedia){a=O.default.t(302,{_plural:1});break}a?f.ModalManager.open((0,J.jsx)(T.default,{title:O.default.t(305),onOK:()=>f.ModalManager.close(),okText:g.fbt._("OK",null,{hk:"2KEeHb"}),children:a})):e?this._handleSelectClick({selectedMsg:t}):f.ModalManager.open((0,J.jsx)(w.ForwardMessageFlowLoadable,{msgs:n.map((e=>e.unsafe()))}),{transition:"modal-flow"})},this._handleStar=()=>{const{msgs:e}=this.props;s.Cmd.sendStarMsgs(e[0].chat,e)},this._handleUnstar=()=>{const{msgs:e}=this.props;s.Cmd.sendUnstarMsgs(e[0].chat,e)},this._handleSelectClick=e=>{const{selectedMsg:t,event:n}=e;if(W.UiRevokeActionHelper.startSession(),n&&n.stopPropagation(),t)return void this.props.onMessageSelect((0,q.unproxy)(t.unsafe()),!this.props.selectedMessages.isSelected((0,q.unproxy)(t)),n);const a=0===this.state.selectedCount;this.props.msgs.forEach((e=>{this.props.onMessageSelect((0,q.unproxy)(e.unsafe()),a,n)}))},this._computeSelectedCount=()=>{const{msgs:e,selectedMessages:t}=this.props;let n=0;return e.forEach((e=>{t.isSelected((0,q.unproxy)(e.unsafe()))&&n++})),n},this._handleDownload=()=>{l.FileSaver.initDownload(this.props.msgs.map((e=>e.unsafe())))},this._handleDeleteMessage=()=>{const{msgs:e}=this.props;f.ModalManager.open((0,J.jsx)(M.default,{chat:e[0].chat,msgList:e.map((e=>e.unsafe())),isMsgVisible:this.props.isMsgVisible})),W.UiRevokeActionHelper.startSession(),W.UiRevokeActionHelper.messageSelected()},this._getMenuRefContext=()=>{if(this.refContext)return this.refContext.getComponent().refContext},this._handleMenu=(e,t)=>{const{msgs:n}=this.props;if(t&&this.state.contextMenu)return void this.setState({contextMenu:null});const a=t?this._getMenuRefContext():e,r=[];n.every((e=>e.mediaData&&e.mediaData.isDownloadable()))&&r.push((0,J.jsx)(k.DropdownItem,{a8n:"mi-msg-download",action:this._handleDownload,children:g.fbt._("Download all",null,{hk:"22A8O7"})},"download"));n.every((e=>e.canForward()))&&r.push((0,J.jsx)(k.DropdownItem,{a8n:"mi-msg-forward",action:()=>{this.openForwardFlow(!0)},children:g.fbt._("Forward all",null,{hk:"1iWm4D"})},"forward"));if(n.every((e=>e.canStar()))){n.every((e=>e.star))?r.push((0,J.jsx)(k.DropdownItem,{a8n:"mi-msg-unstar",action:()=>{this._handleUnstar()},children:g.fbt._("Unstar all",null,{hk:"3XG8TV"})},"star")):r.push((0,J.jsx)(k.DropdownItem,{a8n:"mi-msg-star",action:()=>{this._handleStar()},children:g.fbt._("Star all",null,{hk:"k3tpf"})},"star"))}r.push((0,J.jsx)(k.DropdownItem,{a8n:"mi-msg-delete",action:this._handleDeleteMessage,children:g.fbt._("Delete all",null,{hk:"4FG8uO"})},"delete")),this.setState({contextMenu:{menu:r,anchor:a,theme:k.ThemeOptions.COMPACT}})},this.openContextMenu=()=>{this.state.hover?this._handleMenu(void 0,!0):this.setState({hover:!0},(()=>{this._handleMenu(void 0,!0)}))},this.closeContextMenu=()=>{const e={contextMenu:null};this._isKeyboardUser()&&(e.hover=!1),this.setState(e)},this._handleAlbumGridRendered=(e,t)=>{e?this.refAlbumComponents[t.id.toString()]=e:delete this.refAlbumComponents[t.id.toString()]},this.scrollMsg=(e,t)=>{const n=this._refAlbumWrapper.current;if(!n)return;const a=n.offsetParent;a&&((0,_.default)(a instanceof HTMLElement,"DOM offset parent is not a valid HTMLElement"),(0,H.scrollAt)(n,a,t).then(e))},this.highlight=()=>{const e=this._refTail.current;let t;this.isGroupedSticker()?0===this.props.focusedMsgIndex?t=this._refLeftStickerBubble:1===this.props.focusedMsgIndex&&(t=this._refRightStickerBubble):t=this.refBubble,t&&(u.default.indicateFocus(t,$.default.highlightAnimation),u.default.indicateFocus(e,$.default.highlightAnimation),this.props.isFocusable&&this.focus({preventScroll:!0}))},this._handleReactionChange=()=>{const e=this.props.msgs.map((e=>e.id.toString()));(0,h.lastMessageReactionChange)(e)};const t=this._computeSelectedCount();this.state={contextMenu:null,hover:!1,selectedCount:t}}componentDidMount(){(0,o.isFeatureEnabled)("media_existence_check")&&this.props.msgs.map((e=>e.asAlbumAsset)).filter(Boolean).forEach((e=>{(0,R.checkExistence)(e)}))}componentDidUpdate(e){if(this.props.msgs!==e.msgs&&(0,o.isFeatureEnabled)("media_existence_check")){const t=new Set(e.msgs);this.props.msgs.map((e=>e.asAlbumAsset)).filter(Boolean).filter((e=>!t.has(e))).forEach((e=>{(0,R.checkExistence)(e)}))}}shouldComponentUpdate(e,t){if(!(0,b.default)(t,this.state))return!0;return!(0,b.default)(e,this.props,((e,t,n)=>{if("msgs"===n)return(0,b.default)(e,t)}))}onSelectChange(e){let t;t=this.isGroupedSticker()?this._computeSelectedCount():e?this.props.msgs.length:0,this.state.selectedCount!==t&&this.setState({selectedCount:t})}_isKeyboardUser(){return this.context}isGroupedSticker(){const[e,t]=this.props.msgs;return null!=e.asGroupedSticker&&null!=t.asGroupedSticker}focus(e){var t;(null===(t=this._refAlbumWrapper)||void 0===t?void 0:t.current)&&d.default.focus(this._refAlbumWrapper.current,e)}render(){const{msgs:e,position:t,isMsgVisible:n,albumId:a,isFocusedAlbum:o,focusedMsgIndex:s,selectedMessages:l,isFocusable:u,displayType:d}=this.props,[f,g]=e,{isSentByMe:_,isGroupMsg:v}=f,b=this.isGroupedSticker(),C=e.length>S.ALBUM_MIN_SIZE?e.length-S.ALBUM_MIN_SIZE+1:null,T=t===L.MsgPosition.FRONT||t===L.MsgPosition.SINGLE||b,M=(0,m.default)($.default.msg,{[$.default.msgContinuation]:t===L.MsgPosition.FRONT||t===L.MsgPosition.MID,"message-out":_,"message-in":!_,[N.LIST_FOCUSABLE_ITEM_CLASS_NAME]:u}),k=!_&&v;let w;if(k){const t=(0,m.default)($.default.author,{[$.default.groupStickerAuthor]:b});w=(0,J.jsx)("div",{className:t,children:(0,J.jsx)(E.default,{msg:e[0],contact:e[0].senderObj,albumId:a})})}const I=(0,m.default)($.default.message,{[$.default.messageTransparent]:b,[$.default.hasTail]:T,[$.default.tailOverrideHide]:b&&T&&(_||!v),[$.default.hasAuthor]:!this.isGroupedSticker()&&k,[$.default.forwarded]:!this.isGroupedSticker()&&(0,F.showForwarded)(e[0])}),O=(0,m.default)($.default.albumBubbleContainer,{[$.default.messageBackground]:!b,[$.default.hasBorderBox]:!b});let R,W,H,ee,te;T&&(R=(0,J.jsx)(Y.default,{name:(0,Q.getTailName)(_),className:$.default.tail,containerRef:this._refTail})),f.canQuickForward()&&(W=(0,J.jsx)("div",{className:(0,m.default)($.default.quickActionButton,{[$.default.authorForward]:k}),onClick:()=>{this.openForwardFlow(!1)},role:"button",children:(0,J.jsx)(Y.default,{name:"forward-chat"})})),(this.state.hover||this.state.contextMenu)&&(H=(0,J.jsx)(D.default,{msg:f.unsafe(),hasAuthor:k,position:t,ref:this.setRefContext,onToggle:e=>{this._handleMenu(e)}},"icon-context")),ee=this.state.contextMenu?"none":f.isRTL?"pop-fast-reverse":"pop-fast",this.state.contextMenu&&(te=(0,J.jsx)(z.UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:this.closeContextMenu,children:(0,J.jsx)(K.default,{contextMenu:this.state.contextMenu})}));const ne=this.props.selectable?(0,J.jsx)(B.default,{checked:this.state.selectedCount>0,theme:this.state.selectedCount>0&&this.state.selectedCount<e.length?x.CHECKBOX_THEME.PARTIAL:void 0,onClick:e=>{this._handleSelectClick({event:e})}}):null;let ae;if(this.props.isFocusedAlbum&&(ae=(0,J.jsx)(X.WhileFocusedListener,{parent:this})),b){var re,ie;const t=e.map((e=>(0,J.jsx)(X.SelectionListener,{parent:this,msgId:e.id.toString(),selectedMessages:l},e.id.toString()))),r=this.props.selectable?(0,J.jsx)(j.default,{checked:this.props.selectedMessages.isSelected((0,q.unproxy)(f.unsafe())),onClick:()=>{this._handleSelectClick({selectedMsg:f.unsafe()})}}):null,u=this.props.selectable?(0,J.jsx)(j.default,{checked:this.props.selectedMessages.isSelected((0,q.unproxy)(g.unsafe())),onClick:()=>{this._handleSelectClick({selectedMsg:g.unsafe()})}}):null,m=e.map((e=>e.id.toString()));let _;return e.some((e=>(0,h.canReactToMessage)(e.unsafe())))&&(_=(0,J.jsx)(G.ReactionSendFailButton,{msgIds:m,fromMe:f.isSentByMe})),(0,J.jsxs)("div",{className:M,"data-id":a,ref:this._refAlbumWrapper,tabIndex:-1,children:[(0,J.jsx)(p.default,{transitionName:"delay-leave",children:ne}),(0,J.jsxs)("div",{className:I,onContextMenu:this.contextMenu,children:[R,w,(0,J.jsxs)("div",{className:$.default.groupStickerContainer,children:[(0,J.jsxs)("div",{onMouseEnter:null===(re=this._firstStickerRef.current)||void 0===re?void 0:re.startAnimation,className:$.default.singleGroupedStickerContainer,ref:this._setRefLeftStickerBubble,children:[(0,J.jsx)(p.default,{transitionName:"delay-leave",children:r}),(0,J.jsx)(P.default,{msg:(0,i.default)(f.asGroupedSticker,"firstMsg.asGroupedSticker"),menuTransition:ee,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:n,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:o&&0===s,forwardRef:this._firstStickerRef,displayType:d})]}),(0,J.jsxs)("div",{onMouseEnter:null===(ie=this._secondStickerRef.current)||void 0===ie?void 0:ie.startAnimation,className:$.default.singleGroupedStickerContainer,ref:this._setRefRightStickerBubble,children:[(0,J.jsx)(p.default,{transitionName:"delay-leave",children:u}),(0,J.jsx)(P.default,{msg:(0,i.default)(g.asGroupedSticker,"secondMsg.asGroupedSticker"),menuTransition:ee,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:n,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:o&&1===s,forwardRef:this._secondStickerRef,displayType:d})]}),(0,c.receiveReactionsEnabled)()&&(0,J.jsx)(V.default,{msgIds:m,onReactionChange:this._handleReactionChange})]}),_]}),t]})}const oe=e.map((e=>e.asAlbumAsset)).filter(Boolean);oe.length!==e.length&&(__LOG__(4,void 0,new Error,!0)`Only ${oe.length}/${e.length} were valid album messages`,SEND_LOGS("invalid-album-grid"));let se=null,le=null;if((0,c.receiveReactionsEnabled)()&&oe.length>0){const e=oe.map((e=>e.id.toString())),t=oe.some((e=>!0===e.hasReaction));se=(0,J.jsx)(U.default,{msgIds:e,isSentByMe:_,hasReaction:t})}(0,c.sendReactionsEnabled)()&&oe.length>0&&(le=(0,J.jsx)(G.ReactionSendFailButton,{msgIds:oe.map((e=>e.id.toString())),fromMe:f.isSentByMe}));const ue=oe.length>S.ALBUM_MIN_SIZE?oe[0]:null,de=(0,F.showForwarded)(e[0])?(0,J.jsx)(A.default,{msg:e[0].unsafe(),className:$.default.forwardedIndicator}):null;return(0,J.jsxs)("div",{className:M,"data-id":a,ref:this._refAlbumWrapper,tabIndex:-1,children:[(0,J.jsx)(p.default,{transitionName:"delay-leave",children:ne}),(0,J.jsxs)("div",{className:I,onContextMenu:this.contextMenu,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown,children:[R,(0,J.jsxs)("div",{className:O,ref:this.setRefBubble,children:[w,de,(0,J.jsx)("div",{className:$.default.gridContainer,children:e.slice(0,4).map(((e,t)=>{const a=3===t?{numAdditionalMedia:C,zoomMsg:ue}:null;return(0,J.jsx)(y.default,(0,r.default)({msg:(0,i.default)(e.asAlbumAsset,"msg.asAlbumAsset"),albumMsgs:oe,albumPosition:Z[t%4],isMsgVisible:n,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((t=>{this._handleAlbumGridRendered(t,e)}))},a),e.id.toString())}))})]}),(0,J.jsx)(p.default,{transitionName:ee,children:H}),le,W,se]}),te,ae,(0,J.jsx)(X.SelectionListener,{parent:this,msgId:e[0].id.toString(),selectedMessages:l})]})}}t.default=ee,ee.contextType=I.default,ee.displayName="AlbumWrapper"},1195:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35470),i=n(14597),o=n(48360),s=n(67294),l=n(35461),u=n(41036),d=a(n(20668)),c=n(58668),f=n(18146),h=a(n(23217)),p=n(85893);var m=(0,s.forwardRef)(((e,t)=>{const n=(0,l.useModelValues)(e.msg,["ack","isSentByMe","type"]),a=(0,l.useModelValues)(e.mediaData,["mediaStage","size"]),m=(0,s.useRef)(null),g=()=>{e.msg.forceDownloadMediaEvenIfExpensive()},_=()=>{e.msg.resumeUpload()},v=()=>{e.msg.resumeRemoteUpload()},b=()=>{i.ModalManager.open((0,p.jsx)(d.default,{msg:e.msg.unsafe()}))},y=()=>{e.msg.cancelUpload()};switch((0,s.useImperativeHandle)(t,(()=>({handleKeyActivation:e=>{var t;null===(t=m.current)||void 0===t||t.handleKeyActivation(e)}}))),a.mediaStage){case c.MEDIA_DATA_STAGE.RESOLVED:return(0,p.jsx)(u.WrappedAudioPlayer,{ref:m,mediaData:(0,f.unproxy)(e.mediaData),outgoingMsg:n.isSentByMe,played:"ptt"!==n.type||n.ack===r.ACK.PLAYED,displayType:e.displayType,getSequentialMsg:e.getSequentialMsg,msg:(0,f.unproxy)(n)});case c.MEDIA_DATA_STAGE.NEED_POKE:return(0,p.jsx)(u.AudioPlayerFrame,{icon:(0,p.jsx)(h.default,{name:"audio-download"}),ariaLabel:o.fbt._("Download voice message",null,{hk:"1IMhGA"}),outgoingMsg:n.isSentByMe,action:g,msg:"ptt"===n.type?(0,f.unproxy)(n):void 0});case c.MEDIA_DATA_STAGE.NEED_UPLOAD:return(0,p.jsx)(u.AudioPlayerFrame,{icon:(0,p.jsx)(h.default,{name:"audio-upload"}),ariaLabel:o.fbt._("Upload voice message",null,{hk:"GMghs"}),outgoingMsg:n.isSentByMe,action:_,msg:"ptt"===n.type?(0,f.unproxy)(n):void 0});case c.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:return(0,p.jsx)(u.AudioPlayerFrame,{icon:(0,p.jsx)(h.default,{name:"audio-upload"}),ariaLabel:o.fbt._("Upload voice message",null,{hk:"GMghs"}),outgoingMsg:n.isSentByMe,action:v,msg:"ptt"===n.type?(0,f.unproxy)(n):void 0});case c.MEDIA_DATA_STAGE.ERROR_MISSING:return(0,p.jsx)(u.AudioPlayerFrame,{icon:(0,p.jsx)(h.default,{name:"audio-play",directional:!0}),ariaLabel:o.fbt._("Play voice message",null,{hk:"1IoAqS"}),outgoingMsg:n.isSentByMe,action:b,msg:"ptt"===n.type?(0,f.unproxy)(n):void 0});case c.MEDIA_DATA_STAGE.UPLOADING:case c.MEDIA_DATA_STAGE.SENDING:const t=a.mediaStage===c.MEDIA_DATA_STAGE.UPLOADING;return(0,p.jsx)(u.AudioPlayerFrame,{action:t?y:void 0,canCancel:t,fileSize:a.size,outgoingMsg:n.isSentByMe,spinner:!0,msg:"ptt"===n.type?(0,f.unproxy)(n):void 0});default:return(0,p.jsx)(u.AudioPlayerFrame,{spinner:!0,outgoingMsg:n.isSentByMe,msg:"ptt"===n.type?(0,f.unproxy)(n):void 0})}}));t.default=m},72655:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,disableClick:n,displaySelf:a,quotedRemoteJid:l,albumId:c}=e,v=(0,u.useModelValues)(e.msg,["sender","chat","type","isLive","isStatusV3","id","quotedMsg"]),b=(0,u.useModelValues)(e.contact,["id","formattedName","isSupportAccount","name","notifyName","pushname","verifiedName"]),y=t||v.chat;y||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("author-with-no-chat"));const C=y?(0,r.getAssignedColor)(y,v.sender):1,S=n?null:()=>{(0,p.findChat)(v.sender).then((e=>{i.Cmd.openChatFromUnread(e).then((t=>{t&&f.ComposeBoxActions.focus(e)}))}))},E=(0,s.default)(d.default.author,`color-${C}`,{[d.default.hoverable]:S});let x;if(a)x=(0,g.jsx)(h.EmojiText,{text:_(m.default.t(859),v.isStatusV3,l)});else if(b.name||b.verifiedName||b.isSupportAccount){var T;x=[(0,g.jsx)(h.EmojiText,{text:_(b.isSupportAccount?b.formattedName:null!==(T=b.name)&&void 0!==T?T:b.verifiedName,v.isStatusV3,l),className:d.default.name,onClick:S},"author")]}else{x=[(0,g.jsx)("span",{className:d.default.number,role:S?"button":null,onClick:S,children:_((0,o.widToFormattedUser)(b.id),v.isStatusV3,l)},`${v.id.toString()}-number`)];const e=x;if(!v.isStatusV3){const t=c?`${c}-push-name`:`${v.id.toString()}-push-name`;let n;n=b.notifyName?b.notifyName:b.pushname,e.push((0,g.jsx)(h.EmojiText,{className:d.default.screenName,onClick:S,direction:"auto",ellipsify:!0,text:n},t))}}return(0,g.jsx)("div",{className:E,role:e.role||"",children:x})};var r=n(39814),i=n(81572),o=n(62054),s=a(n(94184)),l=n(48360),u=n(35461),d=a(n(96302)),c=n(69951),f=n(88172),h=n(65417),p=n(50101),m=a(n(14296)),g=n(85893);function _(e,t,n){let a;if(n){const e=c.ChatCollection.get(n);a=e?e.formattedTitle:l.fbt._("Group",null,{hk:"DNiv2"}).toString()}return t?`${e} · ${l.fbt._("Status",null,{hk:"4gjFRX"}).toString()}`:a?`${e} · ${a}`:e}},18941:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.msg,["thumbnail","title","description","matchedText","isSentByMe","star"]);return(0,s.jsx)(o.default,{title:t.title,description:t.description,thumbnailJpeg:t.thumbnail,onClick:()=>{const e=t.matchedText;(0,i.openExternalLink)(e)},isSentByMe:t.isSentByMe,star:t.star,kept:t.isKept()})};var r=n(35461),i=n(12591),o=a(n(51845)),s=n(85893)},11740:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.unproxy)(e.msg);if(t.ctwaContext){const n=t.ctwaContext.mediaType!==o.ContextInfo$ExternalAdReplyInfoMediaType.VIDEO||t.ctwaContext.isSuspiciousLink?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.SuspiciousLabel,{msg:t}),(0,u.jsx)(r.default,{context:t.ctwaContext,isSentByMe:t.isSentByMe,compose:!1})]}):(0,u.jsx)(i.default,{msg:t,context:t.ctwaContext});return(0,u.jsx)("div",{className:e.wrapperClass,children:n})}return null};var r=a(n(94908)),i=a(n(71604)),o=n(24808),s=n(18146),l=n(7538),u=n(85893)},94908:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,{sourceUrl:n,context:a,isSentByMe:m,compose:g}=e;t=(null==a?void 0:a.isSuspiciousLink)||!(null==a?void 0:a.thumbnailUrl)&&!(null==a?void 0:a.thumbnail)?(0,p.jsx)("div",{className:u.default.noThumbContainer,children:(0,p.jsx)(h.default,{className:u.default.noThumbIcon,name:"link"})}):(0,p.jsx)("img",{alt:"",className:u.default.media,src:a.thumbnailUrl?a.thumbnailUrl:`data:image/jpeg;base64,${a.thumbnail||""}`});const _=null!=(null==a?void 0:a.description)&&!a.isSuspiciousLink&&(0,p.jsx)("div",{className:u.default.description,children:(0,p.jsx)(d.EmojiText,{text:a.description,titlify:!0})});let v=n;if(a&&(v=a.sourceUrl,!a.isSuspiciousLink&&(a.title||a.thumbnailUrl||a.thumbnail))){v=o.default.hostname(v);try{v=l.default.toUnicode(v)}catch(e){}}const b=v&&(0,p.jsx)("div",{className:u.default.source,children:(0,p.jsx)(d.EmojiText,{text:v})}),y=(null==a?void 0:a.isSuspiciousLink)?null:null==a?void 0:a.title,C=(0,s.default)(u.default.preview,{[u.default.isCompose]:g,[u.default.bubbleIn]:!g&&!m,[u.default.bubbleOut]:m});return(0,p.jsxs)("div",{className:C,onClick:()=>{if(!g)if(null==a?void 0:a.isSuspiciousLink){const e=(0,r.findLink)(a.sourceUrl);e&&i.ModalManager.open((0,p.jsx)(f.default,{link:e}))}else(null==a?void 0:a.sourceUrl)&&(0,c.openExternalLink)(a.sourceUrl)},children:[t,(0,p.jsxs)("div",{className:u.default.body,children:[(0,p.jsx)("div",{className:u.default.title,title:y,children:(0,p.jsx)(d.EmojiText,{text:y})}),_,b]})]})};var r=n(95726),i=n(14597),o=a(n(76139)),s=a(n(94184)),l=a(n(3689)),u=a(n(11515)),d=n(65417),c=n(12591),f=a(n(82791)),h=a(n(23217)),p=n(85893)},71604:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{context:n}=e,a=(0,c.useMemo)((()=>{if(e.msg.type===o.MSG_TYPE.VIDEO){const t=e.msg.toJSON(),n=new i.default({fromMe:e.msg.id.fromMe,remote:e.msg.id.remote,id:i.default.newId()});return t.id=n,new v.Msg(t)}return e.msg}),[e.msg]),M=(0,c.useRef)(null),[P,j]=(0,c.useState)((()=>b.default.isOpened(a)?A:w));(0,h.useListener)(b.default,`${a.id.toString()}_pip_did_open`,(()=>{j(A)})),(0,h.useListener)(b.default,`${a.id.toString()}_pip_did_close`,(()=>{P!==w&&j(w)}));const I=e=>{e.preventDefault(),e.stopPropagation(),(0,g.openExternalLink)(n.sourceUrl)},O=l.default.withoutWww(l.default.hostname(e.context.sourceUrl)),N=(0,T.jsx)("div",{className:(0,f.default)(k.source),children:(0,T.jsx)(m.EmojiText,{text:O})}),R=(0,f.default)(k.body,null!=e.context.thumbnail&&k.noThumb),D=n.description?(0,T.jsx)("div",{className:(0,f.default)(k.description),title:e.context.description,children:(0,T.jsx)(m.EmojiText,{text:e.context.description})}):null,L=(0,u.default)((0,f.default)(k.preview,a.isSentByMe&&k.bubbleOut||k.bubbleIn),E.default.previewOverride),B=P===w&&(0,r.isLegacyWebdBackend)()?(0,T.jsx)("div",{className:(0,f.default)(k.mediaStateControlsWrapper),children:(0,T.jsx)(_.Play,{})}):null,F=P===A?(0,T.jsx)(y.default,{icon:(0,T.jsx)(C.default,{name:"video-pip-large"}),children:d.fbt._("This video is playing in picture in picture.",null,{hk:"4pqtaj"})}):null;let G;G=e.context.thumbnail||e.context.thumbnailUrl?(0,T.jsx)("img",{alt:"",className:(0,f.default)(k.thumbnail),src:e.context.thumbnail?`data:image/jpeg;base64,${e.context.thumbnail}`:e.context.thumbnailUrl}):(0,T.jsx)("div",{className:(0,f.default)(k.thumbnailPlaceholder)});const U=(0,T.jsx)("div",{className:(0,f.default)(k.attribution,k.clickable),onClick:I,children:(0,T.jsx)(C.default,{name:null!==(t=p.ATTRIBUTION_ICONS[O])&&void 0!==t?t:"logo-facebook"})});return(0,T.jsxs)("div",{className:L,children:[(0,T.jsxs)("div",{ref:M,className:(0,f.default)(k.thumbnailWrapper),onClick:(0,r.isMDBackend)()?I:()=>{var t,n;b.default.openOgVideoPiP("",e.context.thumbnail||"",a,0,null!==(t=null===(n=M.current)||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==t?t:null),x.default.queryVideoPlaybackUrl(e.context.mediaUrl).then((t=>{if(b.default.isOpened(a)){if(!t.url)throw new Error("Url is missing in response.");b.default.openOgVideoPiP(t.url,e.context.thumbnail||"",a,0,null)}})).catch((()=>{b.default.closePiP(),s.ToastManager.open((0,T.jsx)(S.Toast,{id:(0,S.genId)(),msg:d.fbt._("The video can't be played.",null,{hk:"4Es7E8"}),action:{actionText:d.fbt._("Open the link",null,{hk:"2xiq6A"}),onAction:()=>{(0,g.openExternalLink)(e.context.sourceUrl)}}}))}))},children:[U,G,B,F]}),(0,T.jsxs)(g.ExternalLink,{className:R,href:n.sourceUrl,children:[(0,T.jsx)("div",{className:(0,f.default)(k.title),title:n.title,children:(0,T.jsx)(m.EmojiText,{text:n.title})}),D,N]})]})};var r=n(88555),i=a(n(65212)),o=n(15461),s=n(94816),l=a(n(76139)),u=a(n(94184)),d=n(48360),c=n(67294),f=a(n(56720)),h=n(87550),p=n(40875),m=n(65417),g=n(12591),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(41124)),v=n(17304),b=a(n(77912)),y=a(n(27557)),C=a(n(23217)),S=n(50452),E=a(n(72836)),x=a(n(56891)),T=n(85893);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const k={clickable:{cursor:"ajgl1lbb"},preview:{overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"ovllcyds",lineHeight:"r5qsrrlp",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf"},bubbleIn:{backgroundColor:"rrq4r3yd"},bubbleOut:{backgroundColor:"s0eflmyh"},title:{display:"c32ccnay",flexGrow:"tvf2evcx",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",marginBottom:"j4enbv94",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"tl2vja3b",textOverflow:"lhj4utae","-webkit-line-clamp":"suguakab","-webkit-box-orient":"aoi073rw"},description:{flexGrow:"tvf2evcx",flexShrink:"ttu8nud2",flexBasis:"lb5m6g5c",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"dsh4tgtl",color:"pm5hny62"},source:{paddingTop:"qbqilfqo",fontSize:"dsh4tgtl",color:"prv4wu9t"},body:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"ac2vgrno",width:"ln8gz9je",maxHeight:"f8xtxj1z",paddingTop:"n1yiu2zv",paddingEnd:"itegkywt",paddingBottom:"eb4rp10x",paddingStart:"rppts313",overflowX:"gfz4du6o",overflowY:"r7fjleex",lineHeight:"idwf4z32"},noThumb:{maxWidth:"laorhtua"},attribution:{position:"lhggkp7q",end:"anwdwcjt",bottom:"hsombceh",zIndex:"jnl3jror"},mediaStateControlsWrapper:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"mbtxrpqz",width:"ln8gz9je",height:"ppled2lx",cursor:"ajgl1lbb"},thumbnailWrapper:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",maxHeight:"sxls5clz",overflowX:"gfz4du6o",overflowY:"r7fjleex"},thumbnail:{position:"g0rxnol2",top:"kkfs9yjl",width:"npn6ik2d",marginBottom:"lmuv1eak",cursor:"ajgl1lbb",filter:"fsmudgz7"},thumbnailPlaceholder:{position:"g0rxnol2",width:"ln8gz9je",height:"siuioimt",backgroundColor:"c3gfj3cx"}},w="PREVIEW",A="FLOATER"},75343:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{displayAuthor:t,msg:n}=e;const a=(0,i.getMaybeMeUser)(),M=n.sender.equals(a),k=(0,s.default)(),[w]=(0,x.default)(n.chat),A=e=>{if(e&&e.stopPropagation(),!w)return;const{orderId:t,sellerJid:a,token:i}=n;if(null!=t&&null!=a&&null!=i){const e=(0,y.buildProductCatalogContext)(new C.ProductCatalogSession,(0,u.getMaybeBizPlatformForLogging)(a),g.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_ORDER_MESSAGE);(0,f.logOrderMessageClick)({catalogContext:e,catalogOwnerJid:a,orderId:t}),null!=n.orderId&&((0,h.qplStartOrderView)(!!v.OrderCollection.get(t)),r.DrawerManager.openDrawerRight((0,T.jsx)(S.ProductDetailsFlowLoadable,{chat:n.chat,orderMessage:n,orderId:t,token:i,userIsCartOwner:M,sellerJid:a}),"slide-left",k,e))}},P=(0,T.jsx)(d.EmojiText,{text:n.message,dirMismatch:n.rtl!==c.default.isRTL(),direction:n.dir,inferLinesDirection:!0}),j=(0,T.jsx)("div",{className:_.default.meta,children:(0,T.jsx)(m.Meta,{msg:n})}),I=(0,T.jsx)(l.default,{items:[{label:M?o.fbt._("View sent cart",null,{hk:"30iXXv"}):o.fbt._("View received cart",null,{hk:"1y3IbA"}),a8nKey:"view-cart-button",onClick:A}]});return(0,T.jsxs)(E.default,{msg:n,displayAuthor:t,hideMeta:!0,children:[(0,T.jsx)("div",{className:_.default.orderPreview,children:(0,T.jsx)(b.OrderPreview,{msg:n.unsafe(),onClick:A})}),(0,T.jsxs)(p.default,{msg:n.unsafe(),"data-id":n.id,className:_.default.messageText,children:[P,j]}),w&&I]})};var r=n(41455),i=n(78820),o=n(48360),s=a(n(95402)),l=a(n(58286)),u=n(62632),d=n(65417),c=a(n(14296)),f=n(79544),h=n(56057),p=a(n(54703)),m=n(42316),g=a(n(11339)),_=a(n(59931)),v=n(84312),b=n(36707),y=n(97567),C=n(9153),S=n(67455),E=a(n(12209)),x=a(n(86381)),T=n(85893)},93135:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductClick:t,trusted:n,displayAuthor:a,quotedMsg:I}=e,O=(0,c.default)(),[N]=(0,l.useState)((()=>new M.ProductCatalogSession));(0,l.useEffect)((()=>{const{msg:t}=e;t.businessOwnerJid&&(0,o.createWid)(t.businessOwnerJid)&&h.CatalogCollection.addMsgAsProduct((0,A.unproxy)(t.unsafe()))}),[]);const R=(0,d.useModelValues)(e.msg,["businessOwnerJid","caption","chat","dir","footer","id","isGroupMsg","asProductInquiry","mediaData","productId","productImageCount","retailerId","rtl","senderObj","t","title","type","url"]),{productId:D,businessOwnerJid:L,t:B,chat:F}=R,G=(0,l.useCallback)((e=>{if(e&&e.stopPropagation(),!D||!L)return;(0,y.qplStartProductView)("Message");const n=(0,_.default)({productId:D,businessOwnerJid:L,msgT:B});if(!n)return void(0,y.qplDropProductView)();const a=(0,T.buildProductCatalogContext)(N,(0,m.getMaybeBizPlatformForLogging)(L),E.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE);(0,b.logProductMsgClick)({product:(0,A.unproxy)(n),catalogContext:a});const r=M.ProductCatalogSession.toString();t?t(n,r):i.DrawerManager.openDrawerRight((0,P.jsx)(k.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:F,product:n}),"slide-left",O,a)}),[D,L,t,B,F,N,O]),U=Boolean(R.caption||R.footer);let V;if(U){const t={selectable:n,dirMismatch:R.rtl!==v.default.isRTL(),direction:R.dir,inferLinesDirection:!0};V=(0,P.jsxs)("div",{className:(0,u.default)([j.content,v.default.isRTL()&&j.contentRTL]),children:[R.caption?(0,P.jsx)(C.default,{msg:e.msg.unsafe(),spacer:!1,children:(0,P.jsx)(g.EmojiText,(0,r.default)((0,r.default)({},t),{},{text:R.caption,xstyle:j.caption,element:"p"}))}):null,R.footer?(0,P.jsx)(g.EmojiText,(0,r.default)((0,r.default)({},t),{},{text:R.footer,formatters:(0,p.Conversation)({links:R.getFooterLinks(),phoneNumbers:R.getFooterPhoneNumbers(),trusted:n,fromMe:R.id.fromMe}),xstyle:[j.footer,R.caption&&j.footerMargin]})):null,(0,P.jsx)("div",{className:(0,u.default)([j.meta,v.default.isRTL()&&j.metaRTL]),children:(0,P.jsx)(S.Meta,{msg:e.msg})})]})}const W=a?(0,P.jsx)("div",{className:(0,u.default)(j.author),children:(0,P.jsx)(f.default,{msg:R,contact:R.senderObj})}):null;return(0,P.jsxs)("div",{className:(0,u.default)(j.bubble),children:[W,(0,P.jsx)(x.default,{msg:e.msg,mediaData:R.mediaData,hideMeta:U,trusted:n,displayAuthor:!1,contentContainerClassName:(0,u.default)(j.productContainer),captionComponent:(0,P.jsx)(w.ProductInfo,{trusted:n,onClick:G,msg:e.msg}),thumbClassName:(0,u.default)(j.thumb),onThumbClick:G,quotedMsg:I}),V,(0,P.jsx)(g.EmojiText,{xstyle:[j.productCta,U&&j.btnBorder],onClick:G,text:s.fbt._("View",null,{hk:"3e9NPU"})})]})};var r=a(n(81109)),i=n(41455),o=n(45454),s=n(48360),l=n(67294),u=a(n(56720)),d=n(35461),c=a(n(95402)),f=a(n(72655)),h=n(99989),p=n(74331),m=n(62632),g=n(65417),_=a(n(26218)),v=a(n(14296)),b=n(77975),y=n(82145),C=a(n(54703)),S=n(42316),E=a(n(11339)),x=a(n(74790)),T=n(97567),M=n(9153),k=n(67455),w=n(75737),A=n(18146),P=n(85893);const j={bubble:{position:"g0rxnol2",zIndex:"jnl3jror",boxSizing:"cm280p3y",maxWidth:"ktbp76dp"},author:{paddingTop:"ocd2b0bc",paddingEnd:"f9ovudaz",paddingBottom:"bxcbqipq",paddingStart:"mhcwslh8"},thumb:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",cursor:"ajgl1lbb",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw"},productContainer:{position:"g0rxnol2",overflowX:"gfz4du6o",overflowY:"r7fjleex"},productCta:{display:"f804f6gw",paddingTop:"esbfogcw",paddingBottom:"aiput80m",fontSize:"f8jlpxt4",fontWeight:"hnx8ox4h",color:"o0rubyzf",textAlign:"qfejxiq4",cursor:"ajgl1lbb",":hover":{textDecoration:"o69d8n2f"}},btnBorder:{borderTop:"ei53l81b"},content:{position:"g0rxnol2",marginTop:"dj1c3cmq",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"fooq7fky"},contentRTL:{textAlign:"cb8ormfa"},caption:{fontSize:"f8jlpxt4"},footer:{display:"f804f6gw",fontSize:"ovllcyds",lineHeight:"q6wg26sa",color:"hp667wtd"},footerMargin:{marginTop:"qt60bha0"},meta:{position:"lhggkp7q",end:"ebjesfe0",bottom:"pgz13gmm"},metaRTL:{right:"ryab0j1q"}}},75737:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInfo=function(e){const{trusted:t,onClick:n}=e,{description:a,currencyCode:f,isSentByMe:h,priceAmount1000:p,salePriceAmount1000:m,title:g}=(0,i.useModelValues)(e.msg,["currencyCode","description","isSentByMe","priceAmount1000","salePriceAmount1000","title"]),_=(0,o.Conversation)({mentions:e.msg.mentionMap(),phoneNumbers:e.msg.getPhoneNumbers(),links:e.msg.getLinks(),selectable:!0,trusted:!0===t,fromMe:e.msg.id.fromMe});let v;null!=p&&f?v=(0,d.jsx)(l.default,{product:{currency:f,priceAmount1000:p,salePriceAmount1000:m},direction:"inherit",selectable:!0}):a&&(v=(0,d.jsx)(s.EmojiText,{direction:"inherit",selectable:!0,text:a,formatters:_,textLimit:70}));return(0,d.jsxs)("div",{className:(0,r.default)(c.productInfo,h&&c.bubbleOut,!h&&c.bubbleIn),onClick:n,children:[(0,d.jsx)(s.EmojiText,{direction:"inherit",selectable:!0,text:g,formatters:_,ellipsify:!0,xstyle:c.title}),v?(0,d.jsx)(u.default,{msg:e.msg.unsafe(),xstyle:c.subtitle,children:v}):null]})};var r=a(n(56720)),i=n(35461),o=n(74331),s=n(65417),l=a(n(62089)),u=a(n(21595)),d=n(85893);const c={productInfo:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",paddingTop:"n1yiu2zv",paddingEnd:"ft2m32mm",paddingBottom:"eb4rp10x",paddingStart:"nu34rnf1",cursor:"ajgl1lbb",borderBottomStartRadius:"cqsf3vkf",borderBottomEndRadius:"sfeitywo"},bubbleIn:{backgroundColor:"rrq4r3yd"},bubbleOut:{backgroundColor:"s0eflmyh"},title:{fontSize:"f8jlpxt4"},subtitle:{marginTop:"kiiy14zj",fontSize:"dsh4tgtl",color:"hp667wtd",overflowWrap:"fd365im1"}}},7538:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SuspiciousLabel=function(e){var t;const n=c(e);return null==n?null:(0,d.jsxs)("div",{className:(0,i.default)(l.default.container,{[l.default.isLinkMsg]:Boolean(e.link),[l.default.ctwaContainer]:null!=(null===(t=e.msg)||void 0===t?void 0:t.ctwaContext)}),children:[(0,d.jsx)(u.default,{name:"alert",display:"inline",className:l.default.icon}),(0,d.jsx)("span",{className:l.default.text,children:n})]})},t.getSuspiciousLabel=c;var r=n(5177),i=a(n(94184)),o=n(48360),s=a(n(14296)),l=a(n(40300)),u=a(n(23217)),d=n(85893);function c(e){var t;let n,{msg:a,link:i,displayType:l}=e;if(a||i){if(null==a||null===(t=a.ctwaContext)||void 0===t?void 0:t.isSuspiciousLink)n=o.fbt._("Suspicious link",null,{hk:"J2Yam"});else if(i){var u;(null===(u=i.suspiciousCharacters)||void 0===u?void 0:u.size)&&(n=o.fbt._("Suspicious link",null,{hk:"J2Yam"}))}else if(a){const e=a.getSuspiciousLinks().length;if(e){n=1===a.getLinks().length||l===r.DISPLAY_TYPE.GALLERY?o.fbt._("Suspicious link",null,{hk:"J2Yam"}):s.default.t(616,{count:e,_plural:e})}}return n}}},257:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{chat:n}=e,a=(0,d.default)(),s=(0,f.useModelValues)(e.msg,["buttons","isQuickReply","from"]);(0,c.useListeners)((null!==(t=s.buttons)&&void 0!==t?t:[]).map((e=>({source:e,eventOrEvents:"change:selected",callback:a}))));const T=e=>{const{subtype:t,url:a,displayText:l,selectionId:d,id:c}=e;t===x?function(){const e=(0,C.jsx)(h.default,{a8nText:"popup-controls-ok",type:"primary",onClick:()=>o.ModalManager.close(),children:u.fbt._("OK",null,{hk:"2KEeHb"})},0);o.ModalManager.open((0,C.jsx)(m.Modal,{actions:[e],children:u.fbt._("Calls are not supported on WhatsApp Web. Open WhatsApp on your phone to call this business.",null,{hk:"2GJELE"})}))}():t===E&&a?function(e,t){const n=(0,i.findLink)(e,!1,t.from);if(null==n?void 0:n.suspiciousCharacters)return o.ModalManager.open((0,C.jsx)(v.default,{link:n}));const a=(0,C.jsx)(h.default,{a8nText:"popup-controls-go",type:"primary",onClick:()=>function(e){(0,p.openExternalLink)(e),o.ModalManager.close()}(e),children:u.fbt._("Go",null,{hk:"2SCOvN"})},0),s=(0,C.jsx)(h.default,{a8nText:"popup-controls-cancel",type:"secondary",onClick:()=>o.ModalManager.close(),children:u.fbt._("Cancel",null,{hk:"H0gNq"})},1),l=r.default.TEMPLATE_URL_START+r.default.TEMPLATE_URL_END;o.ModalManager.open((0,C.jsxs)(m.Modal,{title:u.fbt._("Opening link in new window...",null,{hk:"2i7gQe"}),actions:[s,a],children:[(0,C.jsx)("div",{children:u.fbt._("You will now be directed to",null,{hk:"36dsBS"})}),(0,C.jsx)(p.ExternalLink,{href:e,isLongTemplateUrl:e.length>l,children:e})]}))}(a,s):t===S&&(0,g.sendTextMsgToChat)(n,l,{quotedMsg:(0,_.unproxy)(s),selectedIndex:parseInt(c,10),selectedId:d}).then((()=>{e.selected=!0}))};let M;s.buttons&&(M=s.buttons.map((e=>{let t;switch(e.subtype){case x:t=(0,C.jsx)(b.default,{name:"hsm-call",className:y.default.icon});break;case E:t=(0,C.jsx)(b.default,{name:"hsm-link",className:y.default.icon})}const n=e.selected?void 0:()=>T(e);return(0,C.jsxs)("button",{className:(0,l.default)(y.default.actionButton,{[y.default.firstButton]:0===parseInt(e.id,10)&&e.subtype!==S,[y.default.disabled]:e.selected}),onClick:n,children:[t,(0,C.jsx)("span",{className:y.default.actionText,children:e.displayText})]},e.id)})));return(0,C.jsx)("div",{className:(0,l.default)({[y.default.quickReply]:s.isQuickReply,[y.default.callUrl]:!s.isQuickReply}),children:(0,C.jsx)("div",{className:y.default.buttonContainer,children:M})})};var r=a(n(64369)),i=n(95726),o=n(14597),s=n(15411),l=a(n(94184)),u=n(48360),d=a(n(59312)),c=n(87550),f=n(35461),h=a(n(39770)),p=n(12591),m=n(57224),g=n(5524),_=n(18146),v=a(n(82791)),b=a(n(23217)),y=a(n(66158)),C=n(85893);const{QUICK_REPLY:S,URL:E,CALL:x}=s.TEMPLATE_BUTTON_SUBTYPE},95839:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{dir:t,footer:n,isShown:a,msg:f,rtl:h,type:p,trusted:m}=e,g=h!==l.default.isRTL();if(a&&n){const e=(0,i.default)(d.default.footer,{[d.default.isMedia]:p!==r.MSG_TYPE.CHAT,[d.default.dirMismatch]:g}),{formatters:a,selectable:l}=f.isDynamicReplyButtonsMsg?(0,s.enableHeaderAndFooterFormatting)(f.getFooterLinks(),!0===m):{};return(0,c.jsx)(u.default,{className:e,spacer:!h,msg:f,children:(0,c.jsx)(o.EmojiText,{text:n,direction:t,dirMismatch:g,selectable:l,formatters:a})})}return null};var r=n(15461),i=a(n(94184)),o=n(65417),s=n(9412),l=a(n(14296)),u=a(n(54703)),d=a(n(91941)),c=n(85893)},27295:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.msg,["type","subtype","body","recipients"]),{subtype:n,body:a,recipients:l}=t;if("create"===n){const e=parseInt(a,10);return(0,s.jsx)(o.default,{id:860,params:{count:e},plural:e,wrapInHiddenToken:!0})}if("add"===n)return(0,s.jsx)(o.default,{id:775,params:{name:(0,i.getFormattedNames)(l,!0)},plural:l.length,wrapInHiddenToken:!0});if("remove"===n)return(0,s.jsx)(o.default,{id:776,params:{name:(0,i.getFormattedNames)(l,!0)},plural:l.length,wrapInHiddenToken:!0});return null};var r=n(35461),i=n(16961),o=a(n(56074)),s=n(85893)},58286:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;t=!0===e.placeholder?(0,u.jsx)("div",{className:(0,o.default)(d.actionsBtn),children:"​"}):e.items.map(((t,n)=>{var a;return(0,u.jsxs)("div",{"data-a8n":r.default.key(t.a8nKey),className:(0,o.default)(d.actionsBtn,e.xstyle,!0===t.disabled&&d.disabledActionsBtn,"vertical"===e.direction&&n<e.items.length-1&&d.notLastActionBtn,"no-divider"===e.theme&&(0===n||"vertical"!==e.direction)&&d.noDivider),"aria-disabled":t.disabled,onClick:!0===t.disabled?void 0:t.onClick,role:"button",title:null!==(a=t.title)&&void 0!==a?a:t.label,children:[t.icon?(0,u.jsx)(l.default,{name:t.icon,className:(0,o.default)(d.icon)}):null,t.label]},n)}));return(0,u.jsx)(s.FlexContainer,{direction:e.direction||"horizontal",xstyle:i.uiMargin.top10,align:"center",justify:"evenly",children:t})};var r=a(n(99964)),i=n(28298),o=a(n(56720)),s=n(29623),l=a(n(23217)),u=n(85893);const d={noDivider:{marginTop:"tt8xd2xn",borderTop:"q4zabkcz"},icon:{marginTop:"tt8xd2xn",marginEnd:"q471nw87",marginBottom:"mpdn4nr2",marginStart:"p3lsiedt"},actionsBtn:{display:"p357zi0d",flexGrow:"ggj6brxn",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"emrlamx0",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"o0rubyzf",textAlign:"qfejxiq4",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3",borderTop:"ei53l81b",width:"ln8gz9je",paddingBottom:"ckm995li"},disabledActionsBtn:{color:"hp667wtd",cursor:"bx7g2weo"},notLastActionBtn:{paddingBottom:"aiput80m"}}},85559:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,className:n,contact:a,msg:c,onClick:f,style:h,xstyle:p}=e,{isMe:m,formattedUser:g}=(0,s.useModelValues)(a,["formattedUser","name","isMe"]),{t:_}=(0,s.useModelValues)(c,["senderObj","t"]),v=r.Clock.timeStr(_),b=function(e,t){const n=null!=t?t:"";return e&&l.Conn.pushname?l.Conn.pushname:n}(m,g);return(0,d.jsx)(u.CopyableDiv,{className:(0,i.default)(n,(0,o.default)(p)),onClick:f,prePlainText:`[${v}] ${b}: `,style:h,children:t})};var r=n(40234),i=a(n(94184)),o=a(n(56720)),s=n(35461),l=n(17239),u=n(9964),d=n(85893)},28414:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t}=e;const{replyButtons:n}=t;if(null==n||0===n.length)return null;const a=n.some((e=>e.displayText.length>10));return(0,f.jsx)("div",{className:(0,i.default)(u.default.buttonContainer,{[u.default.stacked]:n.length>=3||a,[u.default.withLargeButtonsSpace]:a}),children:n.map(((e,n)=>(0,f.jsx)(h,{msg:t,replyButton:e},n)))})};var r=a(n(81109)),i=a(n(94184)),o=n(35461),s=n(1776),l=a(n(34470)),u=a(n(27660)),d=a(n(22540)),c=n(13705),f=n(85893);function h(e){let{msg:t,replyButton:n}=e;const{chat:a,isSentByMe:h}=(0,o.useModelValues)(t,["chat","isSentByMe"]),p=(0,o.useModelValues)(n,["selected","displayText","id"]),m=(0,s.useSetModelValue)(n,"selected"),{selected:g,displayText:_}=n,[v,b]=(0,l.default)((()=>{m(!0),(0,d.default)(t,p,a).then((e=>{e!==c.SendMsgResult.OK&&m(!1)})).catch((()=>{m(!1)}))}),{disabled:g});return _?(0,f.jsx)("div",(0,r.default)((0,r.default)({ref:v,className:(0,i.default)(u.default.buttonWrapper,{[u.default.disabled]:g})},b),{},{children:(0,f.jsx)("div",{className:(0,i.default)(u.default.buttonLabel,{[u.default.sentByMe]:h}),children:(0,f.jsx)("span",{children:_})})})):null}},6725:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{spacer:t,trusted:n}=e,a=(0,r.useModelValues)(e.msg,["t","id","dir","rtl","text","initialPageSize","footer","ctwaContext"]),f=a.text;if(!f)return null;const h=!(!a.dir||a.rtl===l.default.isRTL());return(0,c.jsxs)(c.Fragment,{children:[!a.ctwaContext&&(0,c.jsx)(d.SuspiciousLabel,{msg:a}),(0,c.jsx)(u.default,{msg:a,"data-id":a.id,spacer:t,children:(0,c.jsx)(s.default,{text:f,textLimit:a.initialPageSize,children:e=>{let{textLimit:t}=e;const r=(0,i.Conversation)({mentions:a.mentionMap(),links:a.getLinks(t),phoneNumbers:a.getPhoneNumbers(),selectable:true,trusted:!0===n,fromMe:a.id.fromMe});return(0,c.jsx)(o.EmojiText,{direction:a.dir,dirMismatch:h,formatters:r,inferLinesDirection:!0,selectable:true,text:a.text,textLimit:t})}})})]})};var r=n(35461),i=n(74331),o=n(65417),s=a(n(17080)),l=a(n(14296)),u=a(n(54703)),d=n(7538),c=n(85893)},98886:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.msg,["isSentByMe","isGroupMsg","senderObj","subtype"]);let n,a;"fanout"===t.subtype?(n=i.fbt._("Waiting for this message. Check your phone.",null,{hk:"3bM8te"}),a=(0,r.getFanoutPlaceholderFaqUrl)()):(n=u.default.t(543),a=(0,r.getCiphertextFaqUrl)());return(0,h.jsx)(f.default,{msg:(0,c.unproxy)(t),displayAuthor:e.displayAuthor,children:(0,h.jsxs)(d.default,{iconName:"ciphertext",msg:t.unsafe(),children:[n," ",(0,h.jsx)("span",{className:(0,o.default)(p),role:"button",onClick:()=>{(e=>{(0,l.openExternalLink)(e)})(a)},children:u.default.t(397)})]})})};var r=n(21310),i=n(48360),o=a(n(56720)),s=n(35461),l=n(12591),u=a(n(14296)),d=a(n(99422)),c=n(18146),f=a(n(12209)),h=n(85893);const p={color:"seuajalt"}},21504:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.canUseCustomCropping=p,t.getBubbleDimension=function(e,t,n,a,i,o,c){const f=o&&n<1?1:n,m=function(e,t,n,a){const i=p(e,t,n)?d:u;return(0,r.default)((0,r.default)({},i),{},{width:null!=a&&a<=i.width?a:i.width})}(e,a,i,c);let g,_;a===l.DisplayTheme.Album?(g=s.ALBUM_MAX_HEIGHT-s.ALBUM_PADDING,_=s.ALBUM_MAX_HEIGHT):(g=f<1?m.portraitWidth:m.width,_=function(e,t,n,a){const r=1.91;if(a&&t<=r)return h(r,e,n);return h(t,e,n)}(m,f,e,t));return{bubbleWidth:g,bubbleHeight:_}},t.getImgStyle=function(e,t,n,a){if(null==e||0===e||null==t||0===t||null==n||0===n||null==a||0===a)return{width:"100%",height:"100%"};if(e/t>n/a)return{height:"100%"};return{width:"100%"}};var r=a(n(81109)),i=n(5177),o=n(15461),s=n(81250),l=n(29565);const u={width:330,portraitWidth:330,minAspectRatio:1,maxAspectRatio:2.4},d=(0,r.default)((0,r.default)({},u),{},{portraitWidth:240,minAspectRatio:.71,maxAspectRatio:4}),c=new Set([o.MSG_TYPE.IMAGE,o.MSG_TYPE.VIDEO]),f=new Set([i.DISPLAY_TYPE.CONVERSATION,i.DISPLAY_TYPE.MSG_INFO,i.DISPLAY_TYPE.STARRED_MSGS]);function h(e,t,n){if(null==e)return n===o.MSG_TYPE.VIDEO?240:330;let a;return a=e<t.minAspectRatio?t.portraitWidth/t.minAspectRatio:e<1?t.portraitWidth/e:e<=t.maxAspectRatio?t.width/e:t.width/t.maxAspectRatio,a}function p(e,t,n){return c.has(e)&&f.has(n)&&t!==l.DisplayTheme.Album}},3154:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(40234),i=n(81572),o=a(n(30381)),s=n(67294),l=a(n(59312)),u=n(87550),d=n(65417),c=n(58827),f=n(85893);function h(e,t){const{isFocusable:n,timestamp:a}=e,h=(0,l.default)(),p=(0,s.useRef)(null),[m,g]=(0,s.useState)(!1),_=(0,s.useMemo)((()=>a>=(0,o.default)().startOf("day").subtract(7,"day").unix()),[a]);(0,u.useListener)(_?i.Cmd:null,"midnight",h);const v=()=>a,b=()=>{m&&g(!1)},y=()=>{m||g(!0)},C=()=>p.current;let S;if((0,s.useImperativeHandle)(t,(()=>({getTimestamp:v,show:b,hide:y,getElement:C}))),!m)try{const t=r.Clock.relativeDateStr(e.timestamp);S=(0,f.jsx)(d.EmojiText,{direction:"auto",text:t.toString().toUpperCase()})}catch(e){__LOG__(4,void 0,new Error,void 0,["date_marker"])`Clock.relativeDateStr threw with error ${null==e?void 0:e.name}, stack: ${null==e?void 0:e.stack}`}return(0,f.jsx)(c.SystemBubble,{ref:p,hidden:m,isFocusable:n,children:S})}var p=(0,s.forwardRef)(h);t.default=p},68466:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{className:t,children:n,direction:a="horizontal",outgoingMsg:s,position:l}=e;return(0,i.jsx)("div",{className:(0,r.default)(o.wrapper,"bottom"===l&&o.posBottom,"top"===l&&o.posTop,!s&&o.wrapperIn,s&&o.wrapperOut),children:n})};var r=a(n(56720)),i=n(85893);const o={posBottom:{borderTopStartRadius:"bi2mdrpt",borderTopEndRadius:"hsk1pqkj"},posTop:{borderBottomStartRadius:"a0vc5f8u",borderBottomEndRadius:"e3yfz9gx"},wrapper:{borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf",cursor:"ajgl1lbb",overflowX:"gfz4du6o",overflowY:"r7fjleex",textDecoration:"aja0x350",width:"ln8gz9je"},wrapperIn:{backgroundColor:"rrq4r3yd"},wrapperOut:{backgroundColor:"s0eflmyh"}}},49885:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildDropdownMenu=function(e){let{msg:t,displayType:n,onKeepClick:a,onUndoKeepClick:v,onMsgInfoClick:b,onReplyClick:y,onPrivateReplyClick:C,onMessageDownloadClick:S,onStarClick:E,onUnstarClick:x,onFavoriteStickerClick:T,onUnfavoriteStickerClick:M,onForwardClick:k,onEditLabelClick:w,onCopyFavoriteStickerClick:A,onOpenStickerPackClick:P,onReactionClick:j,onMoreReactionOptionsClick:I,onMessageDeleteClick:O,onOpenContactChatClick:N}=e;const R=[];n!==o.DISPLAY_TYPE.MSG_INFO&&(0,g.canOpenInfoDrawer)(t.unsafe())&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-info",action:b,children:p.default.t(459)},"info"));t.canReply()&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-reply",action:y,children:d.fbt._("Reply",null,{hk:"1C7DPa"})},"reply"));(t.canPrivateReply()||t.canPrivateReplyInRestrictedGrp())&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-reply",action:C,children:d.fbt._("Reply privately",null,{hk:"1XQeK2"})},"private_reply"));(0,u.canReactToMessage)(t)&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"react-to-message",action:j,children:d.fbt._("React to message",null,{hk:"1MagBh"})},"react-to-message"));t.isDownloadable()&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-download",action:S,children:d.fbt._("Download",null,{hk:"1g5Jix"})},"download"));t.canForward()&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-forward",action:k,children:p.default.t(318)},"forward"));(0,s.canEditLabelAssociation)()&&!t.asRevoked&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-edit-label",action:w,children:d.fbt._("Edit label",null,{hk:"3QX44B"})},"editLabel"));t.canStar()&&(t.star?R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-unstar",action:x,children:p.default.t(634)},"star")):R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-star",action:E,children:p.default.t(610)},"star")));(0,r.isMDBackend)()&&t.type===l.MSG_TYPE.STICKER&&(0,c.getABPropConfigValue)("sticker_md_favorite_stickers_enabled")&&((0,h.isStickerFilehashFavorited)(t.filehash)?R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-remove-favorite-sticker",action:M,children:d.fbt._("Remove from favorites",null,{hk:"4YvuK"})},"remove-favorite-sticker")):R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-favorite-sticker",action:T,children:d.fbt._("Add to favorites",null,{hk:"2ODf78"})},"favorite-sticker")));const D=m.MediaBlobCache.get(t.filehash);t.type===l.MSG_TYPE.STICKER&&null!=D&&(0,i.supportsCopyImageToClipboard)()&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-copy-favorite-sticker",action:()=>A(D),children:d.fbt._("Copy Sticker Image",null,{hk:"2hsnNe"})},"copy-favorite-sticker"));if((0,r.isMDBackend)()&&t.type===l.MSG_TYPE.STICKER){const{stickerPackId:e}=t.mediaData;null!=e&&R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-open-sticker-pack",action:()=>P(e),children:d.fbt._("View Pack",null,{hk:"tAlU3"})},"open-sticker-pack"))}R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-delete",action:O,children:p.default.t(227)},"delete")),!t.isGroupMsg||!t.author||t.isSentByMe||R.push((0,_.jsx)(f.DropdownItem,{a8n:"mi-msg-author",action:N,children:d.fbt._("Message {author}",[d.fbt._param("author",t.displayName())],{hk:"1kM7Cg"})},"author"));return R};var r=n(88555),i=(n(81572),n(15022)),o=(a(n(88755)),n(5177)),s=n(8139),l=(a(n(65212)),n(15461)),u=n(67811),d=(n(78820),n(48360)),c=n(57849),f=n(71174),h=n(83610),p=a(n(14296)),m=n(84866),g=n(84390),_=(n(88258),n(90585),a(n(84159)),n(84728),n(85893))},87350:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,s.useState)(!1);let a;const[h,p]=(0,l.default)(e.onClick);null!=e.onClick&&(a=p);let m=[(0,f.jsx)("div",(0,r.default)((0,r.default)({className:d.default.error,ref:h},a),{},{children:(0,f.jsx)(c.default,{name:"error"})}),"error-button")];if(t){const t=(0,f.jsx)(u.default,{fromMe:e.fromMe,children:e.tooltip},"error-tooltip");m.unshift(t)}!1===e.fromMe&&(m=m.reverse());return(0,f.jsx)("div",{className:(0,o.default)(d.default.container,{[d.default.compact]:e.displayType===i.DISPLAY_TYPE.MSG_INFO,[d.default.notFromMe]:!1===e.fromMe}),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),"data-testid":"fail-container",children:m})};var r=a(n(81109)),i=n(5177),o=a(n(94184)),s=n(67294),l=a(n(34470)),u=a(n(36075)),d=a(n(75140)),c=a(n(23217)),f=n(85893)},94638:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,displayType:n,mdDowngrade:a}=e,{isFailed:d,to:c}=(0,o.useModelValues)(t,["isFailed","to"]);if(!d)return null;return(0,u.jsx)(s.default,{displayType:n,tooltip:i.fbt._("Could not deliver message",null,{hk:"YbK1b"}),onClick:()=>{r.ModalManager.open((0,u.jsx)(l.default,{to:c,participant:a,msg:t}))}})};var r=n(14597),i=n(48360),o=n(35461),s=a(n(87350)),l=a(n(56227)),u=n(85893)},70367:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,displayType:n}=e,{isFailed:a}=(0,o.useModelValues)(t,["isFailed"]);if(!a)return null;return(0,u.jsx)(s.default,{displayType:n,tooltip:i.fbt._("Could not deliver message",null,{hk:"YbK1b"}),onClick:()=>{r.ModalManager.open((0,u.jsx)(l.default,{msg:t}))}})};var r=n(14597),i=n(48360),o=n(35461),s=a(n(87350)),l=a(n(72434)),u=n(85893)},8235:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{displayType:t,msg:n}=e,{mediaData:a,mdDowngrade:c,isSendFailure:f}=(0,i.useModelValues)(n,["mediaData","mdDowngrade","isSendFailure"]);if(a)return(0,d.jsx)(l.default,{displayType:t,msg:n,mediaData:a});if((0,r.isMDBackend)()){if(c)return(0,d.jsx)(o.default,{msg:n,displayType:t,mdDowngrade:c});if(f)return(0,d.jsx)(s.default,{msg:n,displayType:t})}return(0,d.jsx)(u.default,{msg:n,displayType:t})};var r=n(88555),i=n(35461),o=a(n(94638)),s=a(n(70367)),l=a(n(72021)),u=a(n(26760)),d=n(85893)},72021:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{displayType:t,msg:n,mediaData:a}=e,{isFailed:m,type:g,isUnsentMedia:_}=(0,l.useModelValues)(n,["isFailed","type","isUnsentMedia"]),{mediaStage:v,type:b}=(0,l.useModelValues)(a,["mediaStage","type"]),y=t===r.DISPLAY_TYPE.CONVERSATION;if(g===o.MSG_TYPE.REVOKED)return null;if(v===c.MEDIA_DATA_STAGE.ERROR_TOO_LARGE)return(0,h.jsx)(f.default,{displayType:t,mediaType:b});if(_&&(v===c.MEDIA_DATA_STAGE.ERROR_MISSING||v===c.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED))return(0,h.jsx)(u.default,{displayType:t,tooltip:s.fbt._("Couldn't send this message.",null,{hk:"szFnN"})});if(m)return v===c.MEDIA_DATA_STAGE.ERROR_MISSING?(0,h.jsx)(u.default,{displayType:t,tooltip:s.fbt._("Could not forward this message because the file is no longer on your phone.",null,{hk:"4FZlXM"})}):g===o.MSG_TYPE.PTT&&v===c.MEDIA_DATA_STAGE.PREPARING?(0,h.jsx)(u.default,{displayType:t,tooltip:d.default.t(548)}):i.LegacyPhoneFeatures.supportsFeature(i.LegacyPhoneFeatures.F.RESEND_ICON)&&y&&v!==c.MEDIA_DATA_STAGE.REMOTE_UPLOADING?(0,h.jsx)(u.default,{displayType:t,onClick:p.bind(null,n),tooltip:d.default.t(562)}):(0,h.jsx)(u.default,{displayType:t,tooltip:s.fbt._("Couldn't send this message.",null,{hk:"szFnN"})});return null};var r=n(5177),i=n(38184),o=n(15461),s=n(48360),l=n(35461),u=a(n(87350)),d=a(n(14296)),c=n(58668),f=a(n(82787)),h=n(85893);function p(e){e.resend().catch((function(e){__LOG__(2)`msg_media_fail_icon:resend failure: ${e}`}))}},82787:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=function(e){const t=l.default.filesize(u.ServerProps.media),n=l.default.filesize((0,u.getMaxFilesSizeServerProp)());switch(e){case i.MSG_TYPE.AUDIO:case i.MSG_TYPE.PTT:return l.default.t(455,{maxSize:t});case i.MSG_TYPE.IMAGE:return l.default.t(458,{maxSize:t});case i.MSG_TYPE.VIDEO:return l.default.t(470,{maxSize:t});case i.MSG_TYPE.DOCUMENT:return l.default.t(456,{maxSize:n});case i.MSG_TYPE.UNKNOWN:default:return l.default.t(457,{maxSize:n})}}(e.mediaType);return(0,d.jsx)(s.default,{displayType:e.displayType,onClick:c.bind(null,t),tooltip:t})};var r=n(14597),i=n(15461),o=a(n(52665)),s=a(n(87350)),l=a(n(14296)),u=n(64551),d=n(85893);function c(e){r.ModalManager.open((0,d.jsx)(o.default,{onOK:()=>r.ModalManager.close(),children:e}))}},26760:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,displayType:n}=e,{isFailed:a}=(0,r.useModelValues)(t,["isFailed"]);if(!a)return null;return(0,s.jsx)(i.default,{displayType:n,tooltip:o.default.t(562),onClick:()=>{t.resend().catch((()=>{__LOG__(2)`PlainMsgFailIcon: failed to resend message`}))}})};var r=n(35461),i=a(n(87350)),o=a(n(14296)),s=n(85893)},14703:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t}=e,n=(0,o.useModelValues)(e.msg,["isForwarded","forwardingScore","numTimesForwarded","isFrequentlyForwarded"]);if(!(0,l.showForwarded)(n))return null;const a=n.isFrequentlyForwarded,f=u.ServerProps.hfmStringChanges?"highly-forwarded-v2":"highly-forwarded",h=a?f:"forwarded",p=(0,r.default)(s.default.icon,{[s.default.iconHighlyForwarded]:a&&!u.ServerProps.hfmStringChanges}),m=u.ServerProps.hfmStringChanges?i.fbt._("Forwarded many times",null,{hk:"3LRhTn"}):i.fbt._("Forwarded",null,{hk:"VlL2I"}),g=a?m:i.fbt._("Forwarded",null,{hk:"VlL2I"});return(0,c.jsxs)("div",{className:(0,r.default)(s.default.container,t),children:[(0,c.jsx)(d.default,{name:h,display:"inline",className:p}),(0,c.jsx)("span",{className:s.default.text,children:g})]})};var r=a(n(94184)),i=n(48360),o=n(35461),s=a(n(67713)),l=n(63132),u=n(64551),d=a(n(23217)),c=n(85893)},23296:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45120)),i=a(n(94184)),o=n(67294),s=a(n(14583)),l=n(85893);function u(e,t){const n=(0,o.useRef)(null),a=(0,i.default)(s.default.msg,{[s.default.hover]:e.hover,[s.default.current]:e.current,[s.default.active]:e.active}),u=()=>{r.default.maybeIndicateFocus(n.current,s.default.focusAnimation)};return(0,o.useImperativeHandle)(t,(()=>({indicateFocus:u}))),(0,l.jsx)("div",{ref:n,className:a,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,children:e.children})}var d=(0,o.forwardRef)(u);t.default=d},10455:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedGif=t.MAX_DIM=t.BUBBLE_PADDING=void 0;var r=a(n(99964)),i=n(81572),o=n(5177),s=n(14597),l=n(8248),u=a(n(94184)),d=n(67294),c=n(35461),f=a(n(72655)),h=a(n(85559)),p=a(n(6725)),m=a(n(11740)),g=n(24808),_=a(n(14703)),v=a(n(1565)),b=a(n(22358)),y=a(n(14296)),C=a(n(20668)),S=n(58668),E=n(42316),x=a(n(11339)),T=n(63132),M=a(n(34949)),k=n(18146),w=a(n(23217)),A=a(n(2749)),P=a(n(23425)),j=n(85893);const I=(0,l.getIntFromStylesProp)(v.default,"-width-picture-bubble-inner");t.MAX_DIM=I;const O=(0,l.getIntFromStylesProp)(v.default,"-padding-picture-bubble");t.BUBBLE_PADDING=O;const N=I/4;function R(e,t){const{isMsgVisible:n}=e,a=(0,c.useModelValues)(e.msg,["id","ack","caption","isFailed","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj"]),l=(0,c.useModelValues)(e.mediaData,["aspectRatio","preview","duration","type","mediaStage","renderableUrl","fullWidth","fullHeight","size"]),R=l,L=(0,d.useRef)(null),B=(0,d.useRef)(0),F=(0,d.useRef)(null),[G,U]=(0,d.useState)(!1);(0,d.useEffect)((()=>{a.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:x.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[]);const V=()=>{var e;B.current=0,U(!1),null===(e=L.current)||void 0===e||e.pauseAndReset()},W=()=>{const e=L.current;e&&(B.current<=0?V():(B.current-=1,G||U(!0),e.play()))},H=e=>{var t;if(!n)return null;const a=n(e);return a?null===(t=a.getImgNode)||void 0===t?void 0:t.call(a):null},q=()=>!G&&B.current!==1/0,Y=e=>{e&&e.stopPropagation(),i.Cmd.mediaViewerModal({msg:(0,k.unproxy)(a.unsafe()),getZoomNode:H})},z=e=>{switch(R.mediaStage){case S.MEDIA_DATA_STAGE.RESOLVED:q()?(e=>{const t=L.current;if(l.mediaStage===S.MEDIA_DATA_STAGE.RESOLVED&&t){if(e&&e.stopPropagation(),null==F.current||0===F.current){const e=t.getDuration();null!=e?F.current=e:l.duration&&"0"!==l.duration&&(F.current=parseInt(l.duration,10))}if(null!=F.current&&0!==F.current){const e=Math.ceil(6/F.current);B.current=Math.max(e,3)}else B.current=3;W()}})(e):Y(e);break;case S.MEDIA_DATA_STAGE.INIT:Y(e);break;case S.MEDIA_DATA_STAGE.FETCHING:a.cancelDownload();break;case S.MEDIA_DATA_STAGE.NEED_POKE:a.forceDownloadMediaEvenIfExpensive();break;case S.MEDIA_DATA_STAGE.UPLOADING:a.cancelUpload();break;case S.MEDIA_DATA_STAGE.NEED_UPLOAD:a.resumeUpload();break;case S.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:a.resumeRemoteUpload();break;case S.MEDIA_DATA_STAGE.ERROR_MISSING:s.ModalManager.open((0,j.jsx)(C.default,{msg:a.unsafe()}))}},K=e=>{e.stopPropagation(),e.preventDefault(),z(e)},$=()=>{var e;return null===(e=L.current)||void 0===e?void 0:e.underlyingVideo()},Q=()=>B.current;(0,d.useImperativeHandle)(t,(()=>({getImgNode:$,handleKeyActivation:K,pause:V,getPlayCount:Q})));const X=R.preview instanceof M.default?R.preview.url():void 0;let J=null,Z=(()=>{const e=R.aspectRatio||R.fullWidth/R.fullHeight;if(!e)return{bubbleWidth:I,bubbleHeight:"100%",contentWidth:I,contentHeight:"100%"};let t,n;e<=1/4?(n=I,t=1.2*N):e<1?(n=I,t=I*e):e<4?(t=I,n=I/e):(t=I,n=N);let a=R.renderableUrl&&R.fullWidth||t,r=R.renderableUrl&&R.fullHeight||n;return a/r>t/n?(a=a*n/r,r=n):(r=r*t/a,a=t),r>I&&(r=I),{bubbleWidth:t,bubbleHeight:n,contentWidth:a,contentHeight:r}})();null!=e.maxWidth&&e.maxWidth<Z.bubbleWidth&&(Z=(e=>{const t=R.aspectRatio||R.fullWidth/R.fullHeight;let n,a;const r=1.2*N;t>=1?e<I?(n=e,a=n/t,a<N&&(a=N)):(n=I,a=n/t,a<N&&(a=N)):(a=I,n=a*t,n<r&&(n=r),e<I&&n>e&&(n=e));let i=n,o=a;return i/o>n/a?(i=i*a/o,o=a):(o=o*n/i,i=n),{bubbleWidth:n,bubbleHeight:a,contentWidth:i,contentHeight:o}})(e.maxWidth));const{bubbleWidth:ee,contentWidth:te,contentHeight:ne}=Z;if(R.mediaStage===S.MEDIA_DATA_STAGE.RESOLVED){const e=R.aspectRatio>=1?{width:"auto",height:ne}:{width:te,height:"auto"};J=(0,j.jsx)("div",{className:v.default.thumbVideo,children:(0,j.jsx)(P.default,{ref:L,src:R.renderableUrl,style:e,onEnded:W,muted:!0,children:y.default.t(654)})})}const ae=X?(0,j.jsx)("div",{className:v.default.thumbImage,style:{backgroundImage:`url(${X})`}}):null,re=a.caption?(0,j.jsx)("div",{className:v.default.caption,style:{maxWidth:ee},children:(0,j.jsx)(p.default,{msg:a.unsafe(),trusted:e.trusted})}):null,ie=re?null:(0,j.jsx)(A.default,{}),oe=(0,T.showForwarded)(a),se=(0,u.default)(v.default.bubble,{[v.default.hasCaption]:a.caption,[v.default.hasAuthor]:e.displayAuthor,[v.default.forwarded]:oe,[v.default.isPSA]:a.isPSA,[v.default.isGallery]:e.displayType===o.DISPLAY_TYPE.STARRED_MSGS||e.displayType===o.DISPLAY_TYPE.GALLERY,[v.default.isInfo]:e.displayType===o.DISPLAY_TYPE.MSG_INFO}),le=e.displayAuthor?(0,j.jsx)("div",{className:v.default.author,children:(0,j.jsx)(f.default,{msg:a,contact:a.senderObj})}):null,ue=oe?(0,j.jsx)(_.default,{msg:a.unsafe(),className:v.default.forwardedIndicator}):null;let de;switch(a.gifAttribution){case g.Message$VideoMessageAttribution.GIPHY:de=(0,j.jsx)("div",{className:v.default.vendor,children:(0,j.jsx)(w.default,{name:"giphy"})});break;case g.Message$VideoMessageAttribution.TENOR:de=(0,j.jsx)("div",{className:v.default.vendor,children:(0,j.jsx)(w.default,{name:"tenor"})});break;default:de=null}const ce=e.quotedMsg?(0,j.jsx)("div",{className:v.default.quote,children:e.quotedMsg}):null,fe=(0,j.jsxs)(j.Fragment,{children:[le,ue,ce,(0,j.jsx)(m.default,{msg:a.unsafe(),wrapperClass:v.default.ctwaContext}),(0,j.jsxs)("div",{"data-a8n":r.default.key("image-thumb-gif"),className:v.default.thumb,onClick:z,style:{width:te,height:ne},children:[(0,j.jsx)(b.default,{mediaStage:R.mediaStage,mediaDataFileSize:R.size,isFailed:a.isFailed,shouldPlay:q(),onClick:z}),ae,J,ie,de]}),re,(0,j.jsx)("div",{className:v.default.meta,children:(0,j.jsx)(E.Meta,{msg:a})})]});return re?(0,j.jsx)(h.default,{contact:a.senderObj,msg:a.unsafe(),className:se,onClick:D,style:{width:ee},children:fe}):(0,j.jsx)("div",{className:se,onClick:D,style:{width:ee+2*O},children:fe})}function D(e){e.stopPropagation()}const L=(0,d.forwardRef)(R);t.WrappedGif=L},22358:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{mediaStage:t,isFailed:n,mediaDataFileSize:o,shouldPlay:s,onClick:l}=e;switch(t){case r.MEDIA_DATA_STAGE.INIT:case r.MEDIA_DATA_STAGE.EXISTS:return null;case r.MEDIA_DATA_STAGE.RESOLVED:return s?(0,i.jsx)(a.GifIcon,{onClick:l}):null;case r.MEDIA_DATA_STAGE.FETCHING:case r.MEDIA_DATA_STAGE.UPLOADING:case r.MEDIA_DATA_STAGE.REUPLOADING:case r.MEDIA_DATA_STAGE.DECRYPTING:return(0,i.jsx)(a.Pending,{cancelable:!0});case r.MEDIA_DATA_STAGE.NEED_POKE:return(0,i.jsx)(a.Download,{filesize:o});case r.MEDIA_DATA_STAGE.NEED_UPLOAD:case r.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:return(0,i.jsx)(a.Upload,{filesize:o});case r.MEDIA_DATA_STAGE.SENDING:return n?null:(0,i.jsx)(a.Pending,{cancelable:!0});default:return(0,i.jsx)(a.Pending,{})}};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(41124)),r=n(58668),i=n(85893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},76998:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(73679),i=n(81572),o=n(41455),s=n(78820),l=a(n(89867)),u=n(62054),d=a(n(94184)),c=n(48360),f=n(67294),h=a(n(59312)),p=n(87550),m=n(35461),g=a(n(95402)),_=n(65417),v=n(51382),b=n(16961),y=n(55800),C=a(n(36437)),S=n(79259),E=a(n(56074)),x=a(n(11339)),T=a(n(23217)),M=n(85893);const k=e=>{e.stopPropagation(),e.preventDefault()},w=e=>e instanceof l.default&&(0,s.isMeAccount)(e);function A(e){let{text:t}=e;return(0,M.jsx)(_.EmojiText,{direction:"auto",text:t})}function P(e){let{clickable:t,msg:n}=e;const{subtype:a,author:r,body:i}=n,o=r?(0,b.getFormattedName)(r,!t):null;switch(a){case"add":return w(r)?c.fbt._("You were added",null,{hk:"4x0xHD"}):(0,M.jsx)(E.default,{id:749,params:{name:o}});case"remove":return w(r)?c.fbt._("You were removed",null,{hk:"2gyTSa"}):(0,M.jsx)(E.default,{id:757,params:{name:o}});case"leave":return w(r)?c.fbt._("You left",null,{hk:"3mSR6P"}):null!=r?(0,M.jsx)(E.default,{id:755,params:{name:o}}):c.fbt._("This group has ended.",null,{hk:"C2izu"});case"picture":return"remove"===i?w(r)?(0,M.jsx)(E.default,{id:824}):(0,M.jsx)(E.default,{id:823,params:{name:o}}):w(r)?(0,M.jsx)(E.default,{id:822}):(0,M.jsx)(E.default,{id:821,params:{name:o}});case"subject":{const e=(0,M.jsx)(A,{text:i});return w(r)?(0,M.jsx)(E.default,{id:770,params:{subject:e}}):null!=o?(0,M.jsx)(E.default,{id:768,params:{subject:e,name:o}}):(0,M.jsx)(E.default,{id:769,params:{subject:e}})}case"modify":if(w(r)){const e=(0,u.widToFormattedUser)(i);return(0,M.jsx)(E.default,{id:751,params:{new_number:e,name:o}})}return(0,M.jsx)(E.default,{id:750,params:{name:o}});default:__LOG__(2)`wa:groupNotification:unknown message subtype: ${a}`}}function j(e){var t;let{clickable:n,msg:a}=e;const{subtype:i,author:o,body:s,recipients:d=[],chat:f,templateParams:h}=a,p=a.displayName(),m=o?(0,b.getFormattedName)(o,!n):null,g=d[0],_=g?(0,b.getFormattedName)(g,!n):null,y=(0,b.getFormattedNames)(d,!n);switch(i){case"add":return o?w(o)?(0,M.jsx)(E.default,{id:764,params:{participants:y}}):w(g)?null!=m?(0,M.jsx)(E.default,{id:759,params:{name:m}}):c.fbt._("A participant added you",null,{hk:"LtOH1"}):null!=m?(0,M.jsx)(E.default,{id:758,params:{participants:y,name:m}}):(0,M.jsx)(E.default,{id:762,params:{participants:y}}):w(g)?c.fbt._("You were added",null,{hk:"4x0xHD"}):(0,M.jsx)(E.default,{id:749,params:{name:_}});case"remove":return o?l.default.equals(o,g)?c.fbt._("You were removed",null,{hk:"2gyTSa"}):w(o)?(0,M.jsx)(E.default,{id:765,params:{participants:y}}):w(g)?null!=m?(0,M.jsx)(E.default,{id:761,params:{name:m}}):c.fbt._("A participant removed you",null,{hk:"3MXPgr"}):null!=m?(0,M.jsx)(E.default,{id:760,params:{participants:y,name:m}}):(0,M.jsx)(E.default,{id:763,params:{participants:y}}):w(g)?c.fbt._("You were removed",null,{hk:"2gyTSa"}):(0,M.jsx)(E.default,{id:757,params:{name:_}});case"leave":return w(g)?c.fbt._("You left",null,{hk:"3mSR6P"}):""!==y?(0,M.jsx)(E.default,{id:755,params:{name:y}}):c.fbt._("This group has ended.",null,{hk:"C2izu"});case"picture":return"remove"===s?w(o)?(0,M.jsx)(E.default,{id:824}):(0,M.jsx)(E.default,{id:823,params:{name:m}}):w(o)?(0,M.jsx)(E.default,{id:822}):(0,M.jsx)(E.default,{id:821,params:{name:m}});case"subject":{const e=(0,M.jsx)(A,{text:s});return w(o)?(0,M.jsx)(E.default,{id:770,params:{subject:e}}):null!=m?(0,M.jsx)(E.default,{id:768,params:{name:m,subject:e}}):(0,M.jsx)(E.default,{id:769,params:{subject:e}})}case"modify":{const e=(0,u.widToFormattedUser)(o),t=(0,u.widToFormattedUser)(g);return e===p?(0,M.jsx)(E.default,{id:751,params:{name:p,new_number:t}}):(0,M.jsx)(E.default,{id:750,params:{name:p}})}case"create":if(w(o))return s?(0,M.jsx)(E.default,{id:728,params:{subject:(0,M.jsx)(A,{text:s})}}):(0,M.jsx)(E.default,{id:729});if(s)return null!=m?(0,M.jsx)(E.default,{id:725,params:{subject:(0,M.jsx)(A,{text:s}),name:m}}):(0,M.jsx)(E.default,{id:727,params:{subject:(0,M.jsx)(A,{text:s})}});if(null!=m){const e=f.title();return""===e.trim()?(0,M.jsx)(E.default,{id:726,params:{name:m}}):(0,M.jsx)(E.default,{id:725,params:{name:m,subject:e}})}return c.fbt._("An admin created this group",null,{hk:"4GaP6B"});case"delete":return(0,r.isSupportGroup)(f)?c.fbt._("This chat has been closed",null,{hk:"4v1FVm"}):c.fbt._("This group has ended",null,{hk:"3LCAzO"});case"promote":{const e=d.length;return 1===e&&w(g)?c.fbt._("You're now an admin",null,{hk:"3kNNwA"}):(0,M.jsx)(E.default,{id:756,params:{count:e,participants:y},plural:e})}case"demote":{const e=d.length;return 1===e&&w(g)?c.fbt._("You're no longer an admin",null,{hk:"4b22N8"}):(0,M.jsx)(E.default,{id:752,params:{count:e,participants:y},plural:e})}case"invite":return w(g)?(0,M.jsx)(E.default,{id:754}):(0,M.jsx)(E.default,{id:753,params:{name:_}});case"revoke_invite":return w(o)?c.fbt._("You reset this group's invite link. Click to view the new invite link.",null,{hk:"27k9Gu"}):(0,M.jsx)(E.default,{id:746,params:{name:m}});case"description":return w(o)?c.fbt._("You changed the group description. Click to view.",null,{hk:"44K01H"}):null!=m?(0,M.jsx)(E.default,{id:744,params:{name:m}}):c.fbt._("A participant changed the group description. Click to view.",null,{hk:"2V9oO8"});case"announce":return"on"===s?w(o)?c.fbt._("You allowed only admins to send messages to this group",null,{hk:"w9ZN5"}):(0,M.jsx)(E.default,{id:724,params:{name:m}}):w(o)?c.fbt._("You changed this group's settings to allow all participants to send messages to this group.",null,{hk:"3Oj0Tj"}):(0,M.jsx)(E.default,{id:723,params:{name:m}});case"restrict":return"on"===s?w(o)?c.fbt._("You changed this group's settings to allow only admins to edit this group's info.",null,{hk:"2ywD8F"}):(0,M.jsx)(E.default,{id:767,params:{name:m}}):w(o)?c.fbt._("You changed this group's settings to allow all participants to edit this group's info.",null,{hk:"1dWmtw"}):(0,M.jsx)(E.default,{id:766,params:{name:m}});case"no_frequently_forwarded":return"on"===s?w(o)?c.fbt._("You changed this group's settings to not allow messages that have been forwarded many times.",null,{hk:"16hyEI"}):(0,M.jsx)(E.default,{id:748,params:{name:m}}):w(o)?c.fbt._("You changed this group's settings to allow messages that have been forwarded many times.",null,{hk:"3Ib1Hu"}):(0,M.jsx)(E.default,{id:747,params:{name:m}});case"announce_msg_bounce":return c.fbt._("Only admins can message this group.",null,{hk:"O3Va5"});case"v4_add_invite_sent":return(0,M.jsx)(E.default,{id:651,params:{participants:y,count:d.length}});case"v4_add_invite_join":return(0,M.jsx)(E.default,{id:650,params:{participants:y,count:d.length}});case"ephemeral":const e=null===(t=f.groupMetadata)||void 0===t?void 0:t.canSetEphemeralSetting(),b=(e=>{const t=e.templateParams[0];return t&&parseInt(t,10)||0})(a);return o?w(o)?e?(0,M.jsx)(S.EphemeralL10n,{type:S.EphemeralStringType.SettingChangeByYouAsAdmin,numSeconds:b}):(0,M.jsx)(S.EphemeralL10n,{type:S.EphemeralStringType.SettingChangeByYou,numSeconds:b}):e?(0,M.jsx)(S.EphemeralL10n,{type:S.EphemeralStringType.SettingChangeByOthersAsAdmin,numSeconds:b,name:m}):(0,M.jsx)(S.EphemeralL10n,{type:S.EphemeralStringType.SettingChangeByOthers,numSeconds:b,name:m}):e?(0,M.jsx)(S.EphemeralL10n,{type:S.EphemeralStringType.SettingChangeByUnknownAsAdmin,numSeconds:b}):(0,M.jsx)(S.EphemeralL10n,{type:S.EphemeralStringType.SettingChangeByUnknown,numSeconds:b});case"initial_pHash_mismatch":return c.fbt._("Group participants have changed. Click to view",null,{hk:"FzeN7"});case"growth_locked":return c.fbt._("Invite via link became unavailable. Click to learn more.",null,{hk:"kGh3d"});case"growth_unlocked":return c.fbt._("Invite via link became available again. Click to view the new invite link.",null,{hk:"1TFNSV"});case"linked_group_join":return(0,v.formatLinkNotification)(i,g,h,n);case"parent_group_link":case"sibling_group_link":case"sub_group_link":case"parent_group_unlink":case"sibling_group_unlink":case"sub_group_unlink":case"community_create":return(0,v.formatLinkNotification)(i,o,h,n);default:__LOG__(2)`wa:groupNotification:unknown message subtype: ${i}`}}function I(e){let{clickable:t,msg:n}=e;const{type:a,subtype:r}=n;if("gp2"===a){if("announce"===r)return(0,M.jsx)("div",{className:(0,d.default)(C.default.icon,C.default.iconMegaphone),children:(0,M.jsx)(T.default,{name:"megaphone"})});if("ephemeral"===r&&t)return(0,M.jsx)("div",{className:(0,d.default)(C.default.icon,C.default.iconDisappearing),children:(0,M.jsx)(T.default,{name:"disappearing"})})}return null}function O(e,t){const{clickable:a}=e,s=(0,h.default)(),l=(0,g.default)(),u=(0,f.useRef)(null),d=(0,m.useModelValues)(e.msg,["author","body","chat","recipients","subtype","templateParams","type"]),{type:c,subtype:_,chat:v}=d,b=()=>{var e;null===(e=u.current)||void 0===e||e.click()},S=e=>t=>{k(t),i.Cmd.chatInfoDrawer(v,!0,e)};if((0,f.useImperativeHandle)(t,(()=>({handleKeyActivation:b}))),(0,p.useListener)(d.chat.groupMetadata,"change:support",s),"group_notification"!==c&&"gp2"!==c)return null;const E="gp2"===c?(0,M.jsx)(j,{clickable:a,msg:d}):(0,M.jsx)(P,{clickable:a,msg:d});if(!E)return null;const T=((e,t)=>{if(a)switch(t){case"picture":case"subject":return e=>{k(e),i.Cmd.chatInfoDrawer(d.chat)};case"revoke_invite":return e=>{k(e);const{GroupInviteLinkDrawerLoadable:t}=n(88280);o.DrawerManager.openDrawerRight((0,M.jsx)(t,{chat:v,groupMetadata:v.groupMetadata,onBack:()=>o.DrawerManager.closeDrawerRight()}),"slide-left",l)};case"description":return S();case"ephemeral":var s;if(null===(s=v.groupMetadata)||void 0===s?void 0:s.canSetEphemeralSetting())return e=>{k(e),i.Cmd.ephemeralDrawer(v,!1,x.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.SYSTEM_MESSAGE)};break;case"initial_pHash_mismatch":return S(!0);case"growth_unlocked":return e=>{var t;k(e);const a=!!(null===(t=v.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin()),i=(0,r.isInviteGrowthLockedGroup)(v);if(a&&!i){const{GroupInviteLinkDrawerLoadable:e}=n(88280);o.DrawerManager.openDrawerRight((0,M.jsx)(e,{chat:v,groupMetadata:v.groupMetadata,onBack:()=>o.DrawerManager.closeDrawerRight()}),"slide-left",l)}else(0,y.openGrowthLockedModal)(a,i)};case"growth_locked":return e=>{var t;k(e);const n=!!(null===(t=v.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin()),a=(0,r.isInviteGrowthLockedGroup)(v);(0,y.openGrowthLockedModal)(n,a)}}})(0,_);return(0,M.jsxs)("div",{ref:T?u:void 0,role:T?"button":void 0,className:C.default.notification,onClick:T,children:[(0,M.jsx)(I,{clickable:a,msg:d}),E]})}var N=(0,f.forwardRef)(O);t.default=N},67745:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(88555),i=n(81572),o=n(15022),s=n(14597),l=n(67811),u=a(n(40436)),d=n(48360),c=n(67294),f=a(n(51799)),h=n(87550),p=a(n(89113)),m=n(57849),g=n(88172),_=a(n(47022)),v=n(60811),b=n(71174),y=n(83610),C=n(50101),S=n(29623),E=a(n(48846)),x=a(n(66480)),T=a(n(14296)),M=n(84866),k=a(n(34377)),w=n(87931),A=n(25365),P=a(n(32231)),j=n(55051),I=n(82857),O=n(21357),N=n(61761),R=n(13228),D=n(18146),L=a(n(1539)),B=a(n(23217)),F=n(18644),G=a(n(24717)),U=n(82573),V=n(85893);const W=75;function H(e,t){const{msg:n,menuTransition:a,isMsgVisible:H,onOpenForwardFlow:q}=e,Y=(0,c.useRef)(null),z=(0,c.useRef)(),[K,$]=(0,c.useState)(null),[Q,X]=(0,c.useState)(!1),[J,Z]=(0,c.useState)(null),[ee,te]=(0,c.useState)(null),[ne,ae]=(0,c.useState)(!1);(0,h.useListener)(n,"change:asRevoked",(()=>{i.Cmd.refreshMessages()}));const re=(0,f.default)(ae,W);(0,c.useEffect)((()=>{re(Q||null!=J)}),[Q,J,re]);const ie=()=>{X(!0)},oe=()=>{X(!1)},se=()=>{i.Cmd.msgInfoDrawer((0,D.unproxy)(n.unsafe()))},le=()=>{const e=(0,D.unproxy)(n.unsafe()),t=e.chat;t.composeQuotedMsg=e,g.ComposeBoxActions.focus(t)},ue=()=>{const e=(0,D.unproxy)(n.unsafe());(0,P.default)(e)},de=()=>{const e=(0,D.unproxy)(n.unsafe());i.Cmd.sendStarMsgs(e.chat,[e])},ce=()=>{const e=(0,D.unproxy)(n.unsafe());i.Cmd.sendUnstarMsgs(e.chat,[e])},fe=()=>{i.Cmd.addFavoriteSticker((0,D.unproxy)(n.unsafe()))},he=()=>{i.Cmd.removeFavoriteSticker((0,D.unproxy)(n.unsafe()))},pe=()=>{s.ModalManager.open((0,V.jsx)(_.default,{chat:n.chat,msgList:[(0,D.unproxy)(n.unsafe())],isMsgVisible:H})),j.UiRevokeActionHelper.startSession(),j.UiRevokeActionHelper.messageSelected()},me=()=>{(0,C.findChat)(n.author).then((e=>{i.Cmd.openChatFromUnread(e).then((t=>{t&&g.ComposeBoxActions.focus(e)}))}))},ge=()=>{Z(null)},_e=()=>{te(null)},ve=(0,p.default)((e=>{(0,l.canReactToMessage)(e)&&te({dirY:v.DirY.BOTTOM,dirX:e.isSentByMe?v.DirX.LEFT:v.DirX.RIGHT,type:v.MenuType.ReactionPicker,menu:(0,V.jsx)(A.ReactionsPanel,{msgId:e.id.toString(),onSelection:t=>{(0,O.sendReactionToMsg)(e,t).catch((()=>{})),_e()}}),flipOnRTL:!0,anchor:z.current})})),be=e=>{if(!(0,l.canReactToMessage)(e))return;const t={dirY:v.DirY.TOP,dirX:v.DirX.CENTER,type:v.MenuType.ReactionSendTray,menu:(0,V.jsx)(R.SendReactionsTrayContainer,{msg:n.unsafe(),selectedCallback:t=>{t!==N.MORE_REACTIONS?(0,O.sendReactionToMsg)(e,t).catch((()=>{})):setTimeout((()=>{ve(e)}),150),ge()},onMouseEnter:ie,onMouseOver:ie,onMouseLeave:oe}),flipOnRTL:!1,anchor:z.current};Z(t)},ye=(e,t)=>{if(t&&K)return void $(null);const a=t?(()=>{if(Y.current)return Y.current.getComponent().refContext})():e,s=(0,D.unproxy)(n),u=[];if(s.isSentByMe&&!s.asRevoked&&u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-msg-info",action:se,children:T.default.t(459)},"info")),s.canReply()&&u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-msg-reply",action:le,children:d.fbt._("Reply",null,{hk:"1C7DPa"})},"reply")),(s.canPrivateReply()||s.canPrivateReplyInRestrictedGrp())&&u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-msg-reply",action:ue,children:d.fbt._("Reply privately",null,{hk:"1XQeK2"})},"private_reply")),(0,l.canReactToMessage)(n.unsafe())&&u.push((0,V.jsx)(b.DropdownItem,{a8n:"send-reaction-btn",action:()=>{be(n.unsafe())},children:d.fbt._("React to message",null,{hk:"1MagBh"})},"sendReaction")),s.canForward()&&u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-msg-forward",action:()=>{q(!0,n.unsafe())},children:T.default.t(318)},"forward")),s.canStar()&&(s.star?u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-msg-unstar",action:ce,children:T.default.t(634)},"star")):u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-msg-star",action:de,children:T.default.t(610)},"star"))),(0,r.isMDBackend)()&&(0,m.getABPropConfigValue)("sticker_md_favorite_stickers_enabled")&&((0,y.isStickerFilehashFavorited)(n.filehash)?u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-remove-favorite-sticker",action:he,children:d.fbt._("Remove from favorites",null,{hk:"4YvuK"})},"remove-favorite-sticker")):u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-favorite-sticker",action:fe,children:d.fbt._("Add to favorites",null,{hk:"2ODf78"})},"favorite-sticker"))),(0,r.isMDBackend)()){const{stickerPackId:e}=n.mediaData;e&&u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-open-sticker-pack",action:()=>i.Cmd.openStickerPack(e),children:d.fbt._("View Pack",null,{hk:"tAlU3"})},"open-sticker-pack"))}const c=M.MediaBlobCache.get(n.filehash);null!=c&&(0,o.supportsCopyImageToClipboard)()&&u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-copy-favorite-sticker",action:()=>{(0,o.copyImageToClipboard)(c)},children:d.fbt._("Copy Sticker Image",null,{hk:"2hsnNe"})},"copy-favorite-sticker")),u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-msg-delete",action:pe,children:T.default.t(227)},"delete")),n.isGroupMsg&&n.author&&!n.isSentByMe&&u.push((0,V.jsx)(b.DropdownItem,{a8n:"mi-msg-author",action:me,children:d.fbt._("Message {author}",[d.fbt._param("author",n.displayName())],{hk:"1kM7Cg"})},"author")),$({menu:u,anchor:a,theme:b.ThemeOptions.COMPACT})},Ce=()=>{$(null)},Se={scrollMsg:(t,n)=>{e.scrollMsg(t,n)}};let Ee,xe,Te,Me;(0,c.useImperativeHandle)(t,(()=>Se)),(Q||K)&&(Ee=(0,V.jsx)(k.default,{msg:n.unsafe(),hasAuthor:!1,position:w.MsgPosition.SINGLE,ref:Y,onToggle:e=>{ye(e)},isGroupedSticker:!0},"icon-context")),e.isFocused&&(xe=(0,V.jsx)(U.WhileFocusedListener,{parent:Se})),K&&(Te=(0,V.jsx)(F.UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Ce,children:(0,V.jsx)(G.default,{contextMenu:K})})),J?Me=(0,V.jsx)(F.UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:ge,children:(0,V.jsx)(G.default,{contextMenu:J})}):ee&&(Me=(0,V.jsx)(F.UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:_e,children:(0,V.jsx)(G.default,{contextMenu:ee})}));const ke=[(0,V.jsx)(L.default,{mediaData:n.mediaData,msg:n,displayAuthor:!1,forwardRef:e.forwardRef,animateOnView:!0,displayType:e.displayType},"sticker-bubble")];if((0,l.canReactToMessage)(n.unsafe())){let e=null;ne&&(e=(0,V.jsx)(E.default,{children:(0,V.jsx)(I.Round,{theme:I.RoundTheme.ReactionsEntryPoint,onClick:()=>be(n.unsafe()),small:!0,children:(0,V.jsx)(B.default,{className:x.default.entryPointColor,width:15,name:"react"})})}));const t=(0,V.jsx)("div",{ref:z,className:x.default.entryPointCont,children:e},"reaction-entry-point");n.isSentByMe?ke.unshift(t):ke.push(t)}return(0,V.jsxs)("div",{className:x.default.stickerItem,onMouseOver:ie,onMouseDown:oe,onMouseUp:ie,onMouseLeave:oe,children:[(0,V.jsx)(S.FlexRow,{children:ke}),(0,V.jsx)("div",{className:x.default.stickerMenu,children:(0,V.jsx)(u.default,{transitionName:a,children:Ee})}),Te,Me,xe]})}var q=(0,c.forwardRef)(H);t.default=q},20568:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)("div",{className:i.default.outerContainer,onClick:e.onClick,children:(0,o.jsx)("div",{className:i.default.innerContainer,children:(0,o.jsx)(r.CheckBox,{onChange:e.onClick,checked:e.checked})})})};var r=n(16593),i=a(n(21690)),o=n(85893)},82903:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{displayAuthor:t}=e,n=(0,l.useModelValues)(e.msg,["id","inviteCode","inviteCodeExp","inviteGrp","inviteGrpName","inviteGrpJpegThum","senderObj","comment","isSentByMe","isGroupMsg","isPSA","isGroupsV4InviteExpired"]),a=()=>{(0,r.communitiesEnabled)()?i.ModalManager.open((0,C.jsx)(_.default,{msg:n})):i.ModalManager.open((0,C.jsx)(f.default,{msg:n}))},S=n.isGroupsV4InviteExpired,E=n.inviteGrpName,x=(0,C.jsx)(v.default,{size:49,thumb:n.inviteGrpJpegThum}),T=n.comment?(0,C.jsx)("div",{className:h.default.caption,children:(0,C.jsx)(c.default,{msg:n.unsafe(),spacer:!0,trusted:n.isTrusted()})}):null,M=S?null:(0,C.jsx)(u.default,{items:[{label:n.isSentByMe?s.fbt._("View invite",null,{hk:"1iTWkT"}):p.default.t(337),onClick:a}],theme:n.comment?void 0:"no-divider"}),k=!S||!T,w=k?(0,C.jsx)("div",{className:h.default.meta,children:(0,C.jsx)(g.Meta,{msg:n})}):null,A=n.comment?s.fbt._("WhatsApp group invite",null,{hk:"Yox1t"}):(0,C.jsx)(b.default,{msg:n.unsafe(),children:s.fbt._("WhatsApp group invite",null,{hk:"Yox1t"})});let P;if(S){const e=T?s.fbt._("Invite Expired",null,{hk:"1TFgKg"}):(0,C.jsx)(b.default,{msg:n.unsafe(),children:s.fbt._("Invite Expired",null,{hk:"1TFgKg"})});P=(0,C.jsx)("div",{className:h.default.status,children:e})}return(0,C.jsxs)(y.default,{msg:n,displayAuthor:t,hideMeta:k,children:[(0,C.jsxs)(d.default,{contact:n.senderObj,msg:n.unsafe(),className:(0,o.default)(h.default.container,{[h.default.expired]:S,[h.default.noCaption]:!T}),children:[(0,C.jsx)("div",{className:h.default.linkPreview,children:(0,C.jsx)(m.default,{description:A,isInvite:!0,isSentByMe:n.isSentByMe,onClick:S?void 0:a,thumbnail:x,title:E,theme:S?"extended":void 0})}),P,T,w]}),M]})};var r=n(8139),i=n(14597),o=a(n(94184)),s=n(48360),l=n(35461),u=a(n(58286)),d=a(n(85559)),c=a(n(6725)),f=a(n(89136)),h=a(n(38410)),p=a(n(14296)),m=a(n(51845)),g=n(42316),_=a(n(74361)),v=a(n(87543)),b=a(n(21595)),y=a(n(12209)),C=n(85893)},41381:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayAuthor:n,displayType:a,displayFooter:C=!0,header:S,actions:E}=e;const x=t.isTrusted(),T={selectable:x,dirMismatch:t.rtl!==h.default.isRTL(),direction:t.dir,inferLinesDirection:!0},M=t.text,k=M?(0,b.jsx)(p.default,{msg:t.unsafe(),"data-id":t.id,spacer:!1,children:(0,b.jsx)(c.default,{text:M,textLimit:t.initialPageSize,children:e=>{let{textLimit:n}=e;return(0,b.jsx)(d.EmojiText,(0,r.default)((0,r.default)({},T),{},{text:M,formatters:(0,u.Conversation)({links:t.getLinks(n),phoneNumbers:t.getPhoneNumbers(),trusted:x,selectable:x,fromMe:t.id.fromMe}),textLimit:n}))}})}):null,w=C&&t.footer?(0,b.jsx)(d.EmojiText,(0,r.default)((0,r.default)({},T),{},{text:t.footer,formatters:(0,u.Conversation)({links:t.getFooterLinks(),phoneNumbers:t.getFooterPhoneNumbers(),selectable:x,trusted:x,fromMe:t.id.fromMe}),xstyle:[y.footer,o.uiMargin.top6]})):null,A=(null==E?void 0:E.length)&&a!==i.DISPLAY_TYPE.STARRED_MSGS?(0,b.jsx)("div",{className:(0,s.default)(y.actionRow),children:(0,b.jsx)(l.default,{direction:"vertical",items:E.map((e=>{var t;return{label:e.label,onClick:null!==(t=e.onClick)&&void 0!==t?t:()=>(0,g.default)(),disabled:e.disabled}}))})}):null,P=Boolean((0,_.getSuspiciousLabel)({msg:t.unsafe(),displayType:a})),j=!1!==n?!t.isSentByMe&&t.isGroupMsg:null,I=(0,m.showForwarded)(t)||j||P;return(0,b.jsxs)(f.FlexColumn,{align:"stretch",xstyle:y.bubble,children:[(0,b.jsxs)(v.default,{msg:t,displayAuthor:n,children:[P?(0,b.jsx)(_.SuspiciousLabel,{msg:t.unsafe()}):null,(0,b.jsxs)("div",{className:(0,s.default)([o.uiMargin.bottom10,I&&o.uiMargin.top5]),children:[S,k,w]})]}),A]})};var r=a(n(81109)),i=n(5177),o=n(28298),s=a(n(56720)),l=a(n(58286)),u=n(74331),d=n(65417),c=a(n(17080)),f=n(29623),h=a(n(14296)),p=a(n(54703)),m=n(63132),g=a(n(56635)),_=n(7538),v=a(n(12209)),b=n(85893);const y={bubble:{width:"m3h9lho3",maxWidth:"laorhtua"},footer:{display:"f804f6gw",fontSize:"ovllcyds",lineHeight:"q6wg26sa",overflowWrap:"fd365im1",whiteSpace:"bbv8nyr4",color:"hp667wtd"},actionRow:{paddingBottom:"oq31bsqd",paddingLeft:"t6kbzwdk",paddingRight:"thbdkvv5",marginTop:"aliwjmjd"}}},40719:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,quotedMsg:n,displayType:a}=e;const b=(0,o.default)(),{interactiveHeader:y}=t;let C,S;if(null==y?void 0:y.mediaType)switch(y.mediaType){case d.InteractiveMessageHeaderMediaType.IMAGE:S=(0,_.jsx)(u.default,{msg:t,displayType:a});break;case d.InteractiveMessageHeaderMediaType.DOCUMENT:S=(0,_.jsx)(s.default,{msg:t});break;case d.InteractiveMessageHeaderMediaType.VIDEO:S=(0,_.jsx)(g.default,{msg:t,mediaData:t.mediaData,displayType:a})}t.nativeFlowName===h.default.ORDER_DETAILS||t.nativeFlowName===h.default.ORDER_STATUS?C=(0,_.jsx)(p.default,{msg:t,quotedMsg:n,displayType:a}):y&&(t.interactiveType===c.default.SHOPS_STOREFRONT?C=(0,_.jsx)(m.default,{msg:t}):null==y.title&&null==y.subtitle||(C=S?(0,_.jsx)(f.default,{msg:t}):(0,_.jsx)("div",{className:(0,i.default)(r.uiMargin.top6),children:(0,_.jsx)(f.default,{msg:t})})));if(C){const e=(0,l.default)({msg:t,uimContext:b});e&&(C=(0,_.jsx)("div",{role:"button",onClick:e.onClick,children:C}))}return null==C&&null==S?null:(0,_.jsxs)("div",{className:(0,i.default)(v),children:[C&&S?(0,_.jsx)("div",{className:(0,i.default)(r.uiMargin.bottom6),children:S}):S,C]})};var r=n(28298),i=a(n(56720)),o=a(n(95402)),s=a(n(11465)),l=a(n(62352)),u=a(n(516)),d=n(34535),c=a(n(84064)),f=a(n(42112)),h=a(n(5165)),p=a(n(96251)),m=a(n(97364)),g=a(n(50253)),_=n(85893);const v={marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"ngycyvoj",marginStart:"heai6z19"}},516:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayType:n}=e;const a=t.isTrusted();return(0,o.jsx)(i.default,{contentContainerClassName:(0,r.default)(s),displayAuthor:!1,mediaData:t.mediaData,displayType:n,msg:t,hideMeta:!0,trusted:a})};var r=a(n(56720)),i=a(n(74790)),o=n(85893);const s={marginTop:"if44n927",marginEnd:"ryaohf54",marginBottom:"f6aumy9w",marginStart:"sd2p8cyi"}},89808:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,quotedMsg:n,displayAuthor:a,displayType:f}=e;const h=(0,r.default)(),[p]=(0,d.default)(t.chat),m=(0,i.default)({msg:t,uimContext:h,canCompose:p}),g=null==m?void 0:m.map((e=>{var t;return{label:e.label,disabled:e.disabled,onClick:null!==(t=e.onClick)&&void 0!==t?t:()=>(0,u.default)()}}));return(0,c.jsx)(o.default,{msg:t,displayAuthor:a,displayType:f,displayFooter:t.nativeFlowName!==l.default.ORDER_STATUS,header:(0,c.jsx)(s.default,{msg:t,quotedMsg:n,displayType:f}),actions:g})};var r=a(n(95402)),i=a(n(17830)),o=a(n(41381)),s=a(n(40719)),l=a(n(5165)),u=a(n(56635)),d=a(n(86381)),c=n(85893)},17979:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{quotedMsg:t}=e,n=(0,i.default)(e,u);return(0,l.jsx)(s.default,(0,r.default)((0,r.default)({},n),{},{header:t?(0,l.jsx)("div",{className:(0,o.default)(d),children:t}):null,displayFooter:!1}))};var r=a(n(81109)),i=a(n(6479)),o=a(n(56720)),s=a(n(41381)),l=n(85893);const u=["quotedMsg"],d={marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"ngycyvoj",marginStart:"heai6z19"}},88191:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{msg:n,captionEndElement:a}=e;const{title:p,subtitle:m,thumbnail:g}=null!==(t=n.interactiveHeader)&&void 0!==t?t:{},_={selectable:n.isTrusted(),dirMismatch:n.rtl!==d.default.isRTL(),direction:n.dir,inferLinesDirection:!0};return(0,f.jsxs)(l.FlexRow,{align:"stretch",xstyle:[h.container,!n.isSentByMe&&h.bubbleIn,n.isSentByMe&&h.bubbleOut],children:[g?(0,f.jsx)("img",{alt:"",className:(0,o.default)(h.media),src:`data:image/jpeg;base64,${g}`}):null,(0,f.jsxs)(l.FlexColumn,{xstyle:[h.body,i.uiPadding.vert6,i.uiPadding.horiz9],children:[p?(0,f.jsx)(c.default,{maxLines:2,children:(0,f.jsx)(s.EmojiText,(0,r.default)((0,r.default)({},_),{},{text:p,xstyle:h.title}))}):null,m?(0,f.jsx)(u.default,{shrink:10,xstyle:h.subtitle,children:(0,f.jsx)(c.default,{maxLines:1,children:(0,f.jsx)(s.EmojiText,(0,r.default)((0,r.default)({},_),{},{text:m}))})}):null,a]})]})};var r=a(n(81109)),i=n(28298),o=a(n(56720)),s=n(65417),l=n(29623),u=a(n(48846)),d=a(n(14296)),c=a(n(71688)),f=n(85893);const h={container:{borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2"},bubbleIn:{backgroundColor:"rrq4r3yd"},bubbleOut:{backgroundColor:"s0eflmyh"},media:{width:"sgifyl94",height:"pydpkpus",objectFit:"jpthtbts",flexShrink:"oq44ahr5"},body:{boxSizing:"cm280p3y",maxHeight:"o0vrdr7e"},title:{fontSize:"bze30y65",fontWeight:"hnx8ox4h"},subtitle:{fontSize:"ovllcyds",color:"pm5hny62",overflowX:"gfz4du6o",overflowY:"r7fjleex",width:"ln8gz9je"}}},42112:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{msg:n}=e;const{title:a,subtitle:i}=null!==(t=n.interactiveHeader)&&void 0!==t?t:{},d=n.isTrusted();return(0,c.jsxs)(l.FlexColumn,{xstyle:[o.uiMargin.end4,o.uiMargin.start6],children:[null!=a?(0,c.jsx)(s.EmojiText,(0,r.default)((0,r.default)((0,r.default)({},p(a)),(0,u.enableHeaderAndFooterFormatting)(n.getHeaderLinks(),d)),{},{text:a,xstyle:h.title,inferLinesDirection:!0})):null,null!=i?(0,c.jsx)(s.EmojiText,(0,r.default)((0,r.default)({},p(i)),{},{selectable:d,text:i,xstyle:h.subtitle,inferLinesDirection:!0})):null]})};var r=a(n(81109)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(93131)),o=n(28298),s=(a(n(56720)),n(65417)),l=n(29623),u=n(9412),d=a(n(14296)),c=n(85893);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const h={title:{fontSize:"bze30y65",fontWeight:"hnx8ox4h",overflowWrap:"fd365im1",whiteSpace:"bbv8nyr4",width:"ln8gz9je"},subtitle:{color:"hp667wtd"}};function p(e){const t=i.dir(e);return{direction:t,dirMismatch:"rtl"===t!==d.default.isRTL()}}},96251:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=null;const{msg:n}=e;if(n.nativeFlowName===o.default.ORDER_DETAILS){const e=(0,u.getOrderInfo)(n);var a;if(e)t=(0,h.jsx)(d.default,{amount:(0,i.formatAmount)(e.currency,e.totalAmount),quantity:e.quantity,orderId:e.referenceId,text:(0,l.getOrderDetailProductLabel)(e.items),numberOfItems:e.items.length,isSentByMe:n.isSentByMe,thumbnail:null!==(a=p(n))&&void 0!==a?a:void 0})}else n.nativeFlowName===o.default.ORDER_STATUS&&(t=function(e){let{msg:t,quotedMsg:n,displayType:a}=e;if(n)return n;const r=(0,c.getOrderMessage)(t);if(r)return(0,h.jsx)(f.default,{msg:r,chat:t.chat,rootMsg:t,displayType:a});return null}(e));return t};var r=n(15461),i=n(39519),o=a(n(5165)),s=a(n(34949)),l=n(30699),u=n(34841),d=a(n(81624)),c=n(88998),f=a(n(35072)),h=n(85893);const p=e=>{var t;if(e.type===r.MSG_TYPE.INTERACTIVE&&null!=(null===(t=e.interactiveHeader)||void 0===t?void 0:t.thumbnail))return`data:image/jpeg;base64,${e.interactiveHeader.thumbnail}`;if(e.mediaData){const{preview:t}=e.mediaData;if(t instanceof s.default)return t.url()}}},97364:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t}=e;return(0,u.jsx)(s.default,{msg:t,captionEndElement:(0,u.jsx)(o.FlexColumn,{justify:"end",xstyle:d.logoContainer,children:(0,u.jsxs)(o.FlexRow,{align:"center",children:[(0,u.jsx)(l.default,{color:"secondary",width:13,height:14,xstyle:[d.shopsIcon,r.uiMargin.end6],name:"shop-filled"}),i.fbt._("Shops",null,{hk:"2UMMxA"})]})})})};var r=n(28298),i=n(48360),o=(a(n(56720)),n(29623)),s=a(n(88191)),l=a(n(23217)),u=n(85893);const d={logoContainer:{fontSize:"ovllcyds",color:"pm5hny62",flexGrow:"bk1nl7o2"},shopsIcon:{display:"l7jjieqr"}}},73770:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LargeEmoji=x,t.SIZE=void 0;var r=a(n(64369)),i=a(n(94184)),o=n(67294),s=a(n(56720)),l=n(87550),u=a(n(30588)),d=a(n(84636)),c=n(67247),f=n(13045),h=a(n(47065)),p=a(n(57312)),m=n(52596),g=n(85893);const{getGlyphId:_,getGlyphPath:v,markGlyphCached:b,isGlyphCached:y}=c.EmojiUtil,C=f.LARGE_EMOJI_SIZE;t.SIZE=C;const S="large",E="xlarge";function x(e){const{emoji:t,size:n,animation:a,element:c,selectable:f,xstyle:x}=e,T=()=>{const t=_(e.emoji);return Boolean(null!=t&&y(t))},[M,k]=(0,o.useState)(T);(0,l.useListener)(window,"dpichange",(()=>{k(T())}));const w=_(t);if(null==w)return null;const A=(0,i.default)({[p.default.medium]:n===C.MEDIUM,[p.default.large]:n===C.LARGE,[p.default.xlarge]:n===C.XLARGE});let P;P=n===C.XLARGE?E:S;const j=v(w,P)[u.default.currentRes];if(M&&a)return(0,g.jsxs)(c,{className:(0,i.default)(p.default.animation,(0,s.default)(x)),children:[(0,g.jsx)(m.SelectableImg,{alt:t,className:(0,i.default)(p.default.highRes,A),draggable:!1,plainText:t,selectable:Boolean(f),src:r.default.ONE_BY_ONE_TRANS_GIF}),(0,g.jsx)(h.default,{className:(0,i.default)(p.default.highRes,A,p.default.heartbeat),draggable:!1,selectable:!1,src:j})]});const I=M?void 0:(0,g.jsx)(d.default,{className:(0,i.default)(p.default.lowRes,A),emoji:t,xstyle:x,selectable:f},"low-res"),O=(0,g.jsx)(d.default,{className:(0,i.default)(p.default.highRes,A,{[p.default.invisible]:!M}),emoji:t,xstyle:x,selectable:f,src:j,onLoad:()=>{const e=_(t);null!=e&&b(e),k(!0)}},"high-res");return(0,g.jsxs)("span",{className:p.default.wrapper,children:[I,O]})}x.defaultProps={animation:!1,element:"div",size:C.MEDIUM}},99940:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{displayAuthor:n,msg:a}=e,i=a.list,o=(0,u.default)();if(!i)return null;const l={selectable:!0,dirMismatch:a.rtl!==p.default.isRTL(),direction:a.dir,inferLinesDirection:!0},g=(0,c.Conversation)({links:a.getHeaderLinks(),phoneNumbers:a.getHeaderPhoneNumbers(),selectable:!0,trusted:a.isTrusted(),fromMe:a.id.fromMe}),b=(0,c.Conversation)({mentions:a.mentionMap(),links:a.getLinks(),phoneNumbers:a.getPhoneNumbers(),selectable:!0,trusted:a.isTrusted(),fromMe:a.id.fromMe}),y=(0,c.Conversation)({links:a.getFooterLinks(),phoneNumbers:a.getFooterPhoneNumbers(),selectable:!0,trusted:a.isTrusted(),fromMe:a.id.fromMe}),C=i.listType===f.Message$ListMessageListType.PRODUCT_LIST?(0,w.jsx)("div",{className:(0,s.default)(m.default.productListPreview,{[m.default.productListPreviewForwarded]:a.isForwarded}),children:(0,w.jsx)(E.default,{msg:a,onClick:e=>{e&&e.stopPropagation(),A(a,o)}})}):null,S=i.listType!==f.Message$ListMessageListType.PRODUCT_LIST?(0,w.jsx)(h.EmojiText,(0,r.default)((0,r.default)({},l),{},{className:m.default.title,text:i.title,formatters:g,ellipsify:!0})):null,x=(0,w.jsx)(h.EmojiText,(0,r.default)((0,r.default)({},l),{},{text:i.description,formatters:b})),T=(0,w.jsx)(h.EmojiText,(0,r.default)((0,r.default)({},l),{},{className:m.default.footer,text:a.footer,formatters:y})),M=(0,w.jsx)("div",{className:m.default.meta,children:(0,w.jsx)(v.Meta,{msg:a})}),I=(0,w.jsx)(d.default,{items:[{label:null!==(t=P(i))&&void 0!==t?t:"",icon:j(i),onClick:e=>{e&&e.stopPropagation(),A(a,o)}}]});return(0,w.jsx)("div",{className:m.default.bubble,children:(0,w.jsxs)(k.default,{msg:a,displayAuthor:n,hideMeta:!0,children:[C,S,(0,w.jsxs)(_.default,{msg:a.unsafe(),"data-id":a.id,children:[x,a.footer?T:null,M]}),I]})})};var r=a(n(81109)),i=n(41455),o=n(14597),s=a(n(94184)),l=n(48360),u=a(n(95402)),d=a(n(58286)),c=n(74331),f=n(24808),h=n(65417),p=a(n(14296)),m=a(n(28982)),g=a(n(14828)),_=a(n(54703)),v=n(42316),b=a(n(11339)),y=n(97567),C=n(9153),S=n(67455),E=a(n(24667)),x=n(18952),T=n(48870),M=n(27798),k=a(n(12209)),w=n(85893);function A(e,t){const{list:{listType:n}}=e;if(null!=n)switch(n){case f.Message$ListMessageListType.SINGLE_SELECT:o.ModalManager.open((0,w.jsx)(g.default,{msg:e}));break;case f.Message$ListMessageListType.PRODUCT_LIST:!function(e,t){const n=e.requiresDirectConnection,a=e.isForwarded?e.businessOwnerJid:e.from.toString({legacy:!0});if(null==e.list.productListInfo||null==a)return;const r=!!x.ProductMessageListCollection.get(e.id);T.QPL.markerStart(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{annotations:{bool:{IsCached:r}}});const o=x.ProductMessageListCollection.getOrAdd(e.id,e.list.productListInfo,n,a,e.list.title);null!=o?i.DrawerManager.openDrawerRight((0,w.jsx)(S.ProductDetailsFlowLoadable,{chat:e.chat,catalogOwnerJid:a,productListId:o.id}),"slide-left",t,(0,y.buildProductCatalogContext)(new C.ProductCatalogSession,b.default.BIZ_PLATFORM.ENT,b.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE)):T.QPL.markerDrop(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW)}(e,t)}}function P(e){const{listType:t}=e;return t===f.Message$ListMessageListType.PRODUCT_LIST?l.fbt._("View items",null,{hk:"44ji9D"}):e.buttonText}function j(e){const{listType:t}=e;if(t!==f.Message$ListMessageListType.PRODUCT_LIST)return"list-msg-icon"}},19795:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LiveLocation=function(e){const{trusted:t,displayAuthor:n,quotedMsg:a}=e,T=(0,c.useModelValues)(e.msg,["chat","comment","dir","finalLat","finalLng","isGroupMsg","isPSA","isSentByMe","lat","lng","rtl","sender","senderObj","shareDuration","t"]),[M,k]=(0,u.useState)(!1),{chat:w,sender:A,t:P,shareDuration:j}=T,I=()=>{o.Cmd.liveLocationDrawer(w,A)},O=()=>{s.ModalManager.open((0,E.jsx)(m.default,{okText:l.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>s.ModalManager.close(),children:l.fbt._("Live Location is not available on this device. View location on your phone.",null,{hk:"20gBIV"})}))},N=()=>{s.ModalManager.open((0,E.jsx)(v.default,{chat:w}))},R=()=>null==j?P:P+j,D=!!T.comment,L=n?(0,E.jsx)("div",{className:(0,d.default)(x.author),children:(0,E.jsx)(f.default,{msg:T,contact:T.senderObj})}):null,B=a?(0,E.jsx)("div",{className:(0,d.default)(x.quote),children:a}):null,F=i.Clock.globalUnixTime()>=R(),G=F&&void 0!==T.finalLat&&void 0!==T.finalLng;let U=T.lat,V=T.lng,W=F?void 0:I;W||(W=()=>{o.Cmd.expiredLocationDrawer(T.unsafe())});G&&(U=T.finalLat,V=T.finalLng);(0,r.isMDBackend)()&&(W=O);const H=(0,E.jsxs)("div",{className:(0,d.default)(x.thumb),onClick:W,style:{height:150},children:[(0,E.jsx)("div",{className:(0,d.default)(x.map),children:(0,E.jsx)(b.default,{lat:U,lng:V,width:270,height:150,className:(0,d.default)(x.thumbBody),linkify:!1,showMarker:!1,onLoad:()=>{k(!0)}})}),(0,E.jsx)("div",{className:(0,d.default)(x.avatar,!M&&x.hidden),children:(0,E.jsx)(g.DetailImage,{id:T.sender,size:40,border:!0})}),F&&(0,E.jsx)("div",{className:(0,d.default)(x.overlay)})]}),q=R();let Y=F?l.fbt._("Live location ended",null,{hk:"1qhVqb"}):_.default.t(406,{time:i.Clock.timestampStr(q),_plural:i.Clock.timestampHour(q)});(0,r.isMDBackend)()&&(Y=l.fbt._("Live Location not available",null,{hk:"1yZJG7"}));const z=(0,E.jsxs)("div",{className:(0,d.default)(x.status),onClick:W,children:[(0,E.jsx)("span",{className:(0,d.default)(x.statusIcon),children:(0,E.jsx)(S.default,{name:(0,C.liveLocationIcon)(!F),display:"inline"})}),(0,E.jsx)("span",{className:(0,d.default)(x.statusText),children:Y})]}),K=T.comment?(0,E.jsx)("div",{className:(0,d.default)(x.caption),children:(0,E.jsx)(p.default,{msg:T.unsafe(),trusted:t})}):null,$=(0,E.jsx)("div",{className:(0,d.default)(x.meta,D&&x.metaWithCaption),children:(0,E.jsx)(y.Meta,{msg:T})});let Q;if(!F&&(0,r.isLegacyWebdBackend)()){let e,t,n;T.isSentByMe?(e=N,t=(0,d.default)(x.stopLocation),n=l.fbt._("Stop Sharing",null,{hk:"14LWdj"})):(e=I,t=(0,d.default)(x.viewLocation),n=l.fbt._("View Live Location",null,{hk:"3s9YUm"})),Q=(0,E.jsx)("div",{className:(0,d.default)(x.actionButton,D&&x.actionButtonWithCaption),onClick:e,children:(0,E.jsx)("span",{className:t,children:n})})}return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(h.default,{className:(0,d.default)(x.container,Boolean(W)&&x.clickable),contact:T.senderObj,msg:T.unsafe(),children:[L,B,H,z,K,$]}),Q]})},t.MSG_HEIGHT=void 0;var r=n(88555),i=n(40234),o=n(81572),s=n(14597),l=n(48360),u=n(67294),d=a(n(56720)),c=n(35461),f=a(n(72655)),h=a(n(85559)),p=a(n(6725)),m=a(n(52665)),g=n(88984),_=a(n(14296)),v=a(n(79834)),b=a(n(83452)),y=n(42316),C=n(87699),S=a(n(23217)),E=n(85893);const x={container:{position:"g0rxnol2",maxWidth:"dld5k21c",paddingTop:"ocd2b0bc",paddingEnd:"folpon7g",paddingBottom:"aa0kojfi",paddingStart:"snweb893",cursor:"bx7g2weo"},clickable:{cursor:"ajgl1lbb"},caption:{boxSizing:"cm280p3y",maxWidth:"dld5k21c",paddingTop:"esbfogcw",paddingEnd:"jfqm35v0",paddingBottom:"bxcbqipq",paddingStart:"mhcwslh8"},author:{paddingTop:"ocd2b0bc",paddingBottom:"bxcbqipq",paddingLeft:"rrbwxby4"},meta:{position:"lhggkp7q",right:"bfbxj8tr",bottom:"dpkuihx7",zIndex:"b9fczbqn"},thumb:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw"},avatar:{position:"lhggkp7q",top:"qq0sjtgm",right:"grt5ktjy",bottom:"jxacihee",left:"tukmaf4q",width:"hj839x6e",height:"rd228egi",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",filter:"shq0pg4y"},map:{position:"g0rxnol2"},overlay:{position:"lhggkp7q",top:"qq0sjtgm",bottom:"jxacihee",left:"tukmaf4q",width:"ln8gz9je",height:"ppled2lx",display:"f804f6gw",backgroundColor:"fmhufpvf"},thumbBody:{zIndex:"jnl3jror",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",WebkitTransition:"o9wlm8ph"},quote:{marginBottom:"kzyzudjh"},status:{position:"g0rxnol2",bottom:"jxacihee",left:"tukmaf4q",height:"fs6hn1up",paddingTop:"i5tg98hk",paddingEnd:"folpon7g",paddingBottom:"przvwfww",paddingStart:"snweb893",backgroundColor:"g9q9estb",borderBottomStartRadius:"cqsf3vkf",borderBottomEndRadius:"sfeitywo"},statusIcon:{position:"g0rxnol2",top:"jgz0asyo",marginRight:"j69yk9hm",marginLeft:"sx18v0w4",color:"cs9t9or5"},statusText:{position:"g0rxnol2",top:"agi2at81",fontSize:"dsh4tgtl",color:"pm5hny62",verticalAlign:"neme6l2y"},actionButton:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"iauwx4jv",paddingBottom:"aa0kojfi",fontWeight:"hnx8ox4h",textAlign:"qfejxiq4",cursor:"ajgl1lbb"},stopLocation:{color:"mvxzr2tb"},viewLocation:{color:"o0rubyzf"},hidden:{visibility:"kojwoqec"},actionButtonWithCaption:{borderTop:"ei53l81b"},metaWithCaption:{right:"ou6eaia9",bottom:"lrw9n60e"}};t.MSG_HEIGHT=220},27863:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Location=function(e){const t=(0,s.useModelValues)(e.msg,["caption","clientUrl","dir","footer","id","isGroupMsg","isSentByMe","lat","lng","rtl","senderObj","type","ctwaContext","supportsMessageFooter","isDynamicReplyButtonsMsg","hasBodyOrFooter"]),n=()=>{let e=t.get("loc");if(t.get("loc"))return e=e.split("\n"),2===e.length?{name:e[0],addr:e[1]}:{name:e}},a=n(),x=null==a?void 0:a.name,T=t,{lat:M,lng:k}=T,w=(0,m.getMapUrl)(M,k,x),A=T.isDynamicReplyButtonsMsg?null:(e=>{const s=n(),l=t.clientUrl||e;let u,d,c;const f=i.default.hostname(l),p=(0,r.default)(E.filter((e=>f.includes(e)))),m=p?(0,S.jsx)("span",{className:h.default.link,children:f}):null,_=i.default.isHttps(l);if(!_)return l.toLowerCase().startsWith("javascript:")&&(__LOG__(4,void 0,new Error,!0)`Bad url: ${l}`,SEND_LOGS("URL error")),null;if(!p&&_&&s&&!l.includes("javascript")){u=s.name?(0,S.jsx)(b.SelectableLink,{className:h.default.title,dir:"auto",href:l,plainText:`${s.name}\n${l}`,selectable:!0,target:"_blank",title:s.name,children:s.name}):null;const e=(0,o.default)(h.default.address,{[h.default.hasURL]:m});d=(null==a?void 0:a.addr)?(0,S.jsx)(b.SelectableDiv,{className:e,selectable:!0,title:a.addr,children:a.addr}):null}return(u||d||m)&&(c=(0,S.jsx)("div",{className:h.default.text,children:(0,S.jsxs)(g.default,{msg:t.unsafe(),"data-id":t.id,children:[u,d,m]})})),c})(w),P=null!=A||T.supportsMessageFooter&&T.hasBodyOrFooter?null:(0,S.jsx)(C.default,{}),j=(0,v.showForwarded)(T),I=e.displayAuthor?(0,S.jsx)("div",{className:h.default.author,children:(0,S.jsx)(l.default,{msg:T,contact:T.senderObj})}):null,O=j?(0,S.jsx)(f.default,{msg:T.unsafe(),className:h.default.forwardedIndicator}):null,N=(0,o.default)(h.default.container,{[h.default.hasCaption]:A,[h.default.hasAuthor]:e.displayAuthor,[h.default.forwarded]:j,[h.default.ctwaContainerWidth]:null!=T.ctwaContext}),R=e.quotedMsg?(0,S.jsx)("div",{className:h.default.quote,children:e.quotedMsg}):null;let D,L;T.supportsMessageFooter&&(D=T.caption?(0,S.jsx)("div",{className:h.default.caption,children:(0,S.jsx)(d.default,{msg:T.unsafe(),spacer:!T.footer,trusted:e.trusted})}):null,L=(0,S.jsx)(y.default,{dir:T.dir,footer:T.footer,isShown:T.supportsMessageFooter,msg:T.unsafe(),rtl:T.rtl,type:T.type,trusted:e.trusted}));return(0,S.jsx)("div",{children:(0,S.jsxs)(u.default,{className:N,contact:T.senderObj,msg:T.unsafe(),children:[I,O,R,(0,S.jsx)(c.default,{msg:T.unsafe(),wrapperClass:h.default.ctwaContext}),(0,S.jsxs)(b.SelectableDiv,{className:h.default.thumb,onClick:e=>{e.stopPropagation()},plainText:w,selectable:!0,style:{height:150},children:[(0,S.jsx)(p.default,{lat:T.lat,lng:T.lng,width:T.ctwaContext?330:270,height:150,name:x,className:h.default.thumbBody}),P]}),A,D,L,(0,S.jsx)("div",{className:h.default.meta,children:(0,S.jsx)(_.Meta,{msg:T})})]})})},t.PREVIEW_HEIGHT=void 0;var r=a(n(41609)),i=a(n(76139)),o=a(n(94184)),s=n(35461),l=a(n(72655)),u=a(n(85559)),d=a(n(6725)),c=a(n(11740)),f=a(n(14703)),h=a(n(68437)),p=a(n(83452)),m=n(8384),g=a(n(54703)),_=n(42316),v=n(63132),b=n(52596),y=a(n(95839)),C=a(n(2749)),S=n(85893);t.PREVIEW_HEIGHT=150;const E=["foursquare.com","facebook.com","maps.google.com"]},56057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplEndProfileView=function(e){a.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_PROFILE_VIEW,e)},t.qplStartOrderView=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_ORDER_VIEW,{annotations:{bool:{IsCached:e}}})},t.qplStartProfileView=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_PROFILE_VIEW,{annotations:{string:{EntryPoint:e}}})};var a=n(48870),r=n(27798)},62087:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(45095)),o=n(81572),s=n(15461),l=n(48360),u=n(67294),d=a(n(56720)),c=n(87550),f=n(13738),h=n(29565),p=a(n(74790)),m=n(13923),g=a(n(97507)),_=n(85893);const v={albumGridClass:{flexBasis:"q7l348o2",width:"ln8gz9je",maxWidth:"cu1tgave",height:"bvcnfjzh"},albumTopLeft:{marginTop:"tt8xd2xn",marginEnd:"kjemk6od",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},albumTopRight:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},albumBottomLeft:{marginTop:"g1eqewly",marginEnd:"kjemk6od",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},albumBottomRight:{marginTop:"g1eqewly",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},numberText:{position:"lhggkp7q",zIndex:"g2bpp9au",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",fontSize:"lhhjz8ro",color:"k17s6i4e",pointerEvents:"m62443ks"}},b=new Map([[f.AlbumPosition.TOP_LEFT,v.albumTopLeft],[f.AlbumPosition.TOP_RIGHT,v.albumTopRight],[f.AlbumPosition.BOTTOM_LEFT,v.albumBottomLeft],[f.AlbumPosition.BOTTOM_RIGHT,v.albumBottomRight]]);function y(e,t){const{msg:n,albumPosition:a,numAdditionalMedia:s}=e,l=(0,u.useRef)(null),f=(0,u.useRef)(null);(0,c.useListener)(n,"change:asRevoked",(()=>{o.Cmd.refreshMessages()}));const h=()=>f.current,p=()=>(0,i.default)(l.current,"containerRef.current");return(0,u.useImperativeHandle)(t,(()=>({getRef:h,getContainerElement:p}))),(0,_.jsx)("div",{ref:l,className:(0,d.default)(v.albumGridClass),children:(0,_.jsx)("div",{className:(0,d.default)(b.get(a)),children:(0,_.jsx)(S,(0,r.default)((0,r.default)({},e),{},{elRef:f,overlayContent:null!=s&&s>0?(0,_.jsx)(C,{numAdditionalMedia:s}):null}))})})}function C(e){let{numAdditionalMedia:t}=e;return(0,_.jsx)(m.TextSpan,{className:(0,d.default)(v.numberText),children:l.fbt._("+{number}",[l.fbt._param("number",t)],{hk:"2Nqnnt"})})}function S(e){if(e.msg.type===s.MSG_TYPE.IMAGE)return(0,_.jsx)(p.default,{theme:h.DisplayTheme.Album,albumMsgs:e.albumMsgs,msg:e.msg,mediaData:e.msg.mediaData,ref:e.elRef,isMsgVisible:e.isMsgVisible,zoomMsg:e.zoomMsg,overlayContent:e.overlayContent,displayAuthor:!1});if(e.msg.type===s.MSG_TYPE.VIDEO)return(0,_.jsx)(g.default,{theme:h.DisplayTheme.Album,albumMsgs:e.albumMsgs,msg:e.msg,ref:e.elRef,zoomMsg:e.zoomMsg,displayAuthor:!1,overlayContent:e.overlayContent});throw new Error(`Unexpected Album Type: ${e.msg.type}`)}var E=(0,u.forwardRef)(y);t.default=E},13738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlbumPosition=void 0;t.AlbumPosition={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}},41942:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=n(67294),o=a(n(56720)),s=n(35461),l=a(n(90850)),u=a(n(1195)),d=a(n(72655)),c=n(88984),f=a(n(11339)),h=a(n(32570)),p=a(n(23217)),m=n(85893);const g={width:"hxazv0ps",height:"mnqpe3xa",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},_=(e,t)=>{const n=(0,s.useModelValues)(e.msg,["ack","isForwarded","isSentByMe","senderObj","asPttLike"]),a=(0,i.useRef)(null);if((0,i.useEffect)((()=>{e.msg.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:f.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[e.msg]),(0,i.useImperativeHandle)(t,(()=>({handleKeyActivation:e=>{var t;null===(t=a.current)||void 0===t||t.handleKeyActivation(e)}}))),null!=n.asPttLike&&!n.isForwarded)return(0,m.jsx)(h.default,(0,r.default)({},e));const o=e.displayAuthor?(0,m.jsx)(d.default,{msg:n,contact:n.senderObj}):null;return(0,m.jsx)(l.default,{msg:n,quotedMsg:e.quotedMsg,author:o,player:(0,m.jsx)(u.default,{ref:a,msg:e.msg,mediaData:e.mediaData,displayType:e.displayType}),avatar:(0,m.jsx)(v,{msg:n}),displayType:e.displayType})};function v(e){const t=(0,s.useModelValues)(e.msg,["asPttLike","isForwarded","senderObj"]);return null==t.asPttLike?(0,m.jsx)("div",{className:(0,o.default)(g),children:(0,m.jsx)(p.default,{name:"audio-file"})}):t.isForwarded?(0,m.jsx)("div",{className:(0,o.default)(g),children:(0,m.jsx)(p.default,{name:"ptt-file"})}):(0,m.jsx)(c.DetailImage,{id:t.senderObj.id,size:55})}var b=(0,i.forwardRef)(_);t.default=b},90850:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35470),i=n(5177),o=a(n(94184)),s=n(35461),l=a(n(7987)),u=a(n(11740)),d=a(n(14703)),c=a(n(14296)),f=n(42316),h=n(63132),p=a(n(19218)),m=n(56989),g=n(64551),_=n(85893);var v=e=>{const{msg:t}=e,{id:n,ack:a,isSentByMe:v,asPttLike:b}=(0,s.useModelValues)(t,["id","ack","isSentByMe","asPttLike"]),y=c.default.isRTL()?!v:v,C=(0,o.default)(l.default.bubble,{[l.default.bubbleRightAvatar]:!y,[l.default.bubbleLeftAvatar]:y,[l.default.hasAuthor]:e.author,[l.default.hasQuote]:e.quotedMsg,[l.default.isGallery]:e.displayType===i.DISPLAY_TYPE.STARRED_MSGS||e.displayType===i.DISPLAY_TYPE.GALLERY,[l.default.isForwarded]:(0,h.showForwarded)(t)}),S=e.status?(0,_.jsx)("div",{className:l.default.status,children:e.status}):null,E=null!=e.author?(0,_.jsx)("div",{className:l.default.author,children:e.author}):null,x=(0,h.showForwarded)(t)?(0,_.jsx)(d.default,{msg:t.unsafe(),className:l.default.forwardedIndicator}):null,T=e.quotedMsg?(0,_.jsx)("div",{className:l.default.quote,children:e.quotedMsg}):null,{playbackRate:M,playbackControlMessageId:k}=(0,s.useModelValues)(m.PttPrefs,["playbackRate","playbackControlMessageId"]);let w,A=!1;if(g.ServerProps.pttPlaybackSpeedEnabled&&null!=b){A=k===n.toString();const e=(0,o.default)(l.default.playbackRateButtonContainer,{[l.default.playbackRateButtonContainerVisible]:A});w=(0,_.jsx)("div",{className:e,children:(0,_.jsx)(p.default,{playbackRate:M,onClick:()=>{m.PttPrefs.advancePlaybackRateFor(n)},isSentByMe:v,played:a===r.ACK.PLAYED})})}const P=(0,o.default)(l.default.avatar,{[l.default.avatarVisible]:!A});return(0,_.jsxs)("div",{className:C,children:[E,x,T,(0,_.jsx)(u.default,{msg:t.unsafe(),wrapperClass:l.default.ctwaContext}),(0,_.jsxs)("div",{className:l.default.body,children:[(0,_.jsx)("div",{className:l.default.player,children:e.player}),(0,_.jsxs)("div",{className:l.default.avatarContainer,children:[w,(0,_.jsxs)("div",{className:P,children:[e.avatar,S]})]})]}),(0,_.jsx)("div",{className:l.default.meta,children:(0,_.jsx)(f.Meta,{msg:t})})]})};t.default=v},41036:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlayerFrame=I,t.WrappedAudioPlayer=void 0;var r=n(89385),i=a(n(99964)),o=n(40234),s=n(81572),l=n(5177),u=n(81739),d=a(n(92053)),c=a(n(64310)),f=a(n(94184)),h=n(48360),p=n(67294),m=a(n(65789)),g=n(87550),_=n(35461),v=a(n(55010)),b=n(55712),y=a(n(28891)),C=n(71093),S=a(n(14296)),E=a(n(86806)),x=n(56989),T=a(n(56060)),M=n(64551),k=a(n(23217)),w=n(85893);function A(e,t){var n;const{displayType:a,msg:i,outgoingMsg:o,played:l,mediaData:b}=e,C=(0,_.useModelValues)(null!==(n=e.pttPrefs)&&void 0!==n?n:x.PttPrefs,["playbackRate"]),{playbackRate:S}=C,E=(0,p.useRef)(S),T=(0,p.useRef)(0),A=(0,p.useRef)(null),[P,N]=(0,p.useState)((()=>c.default.acquireAudio(i))),[R,D]=(0,p.useState)(i);R!==i&&(D(i),N((e=>{const t=c.default.acquireAudio(i);return e.dispose(),t})));const{audio:L,pttPlaybackLogger:B}=P,[F,G]=(0,p.useState)((()=>L.currentTime)),[U,V]=(0,p.useState)((()=>(0,u.getDurationFromAudioOrProtobuf)(L,b))),[W,H]=(0,p.useState)(!L.paused),[q,Y]=(0,p.useState)(null),z=()=>{const{currentTime:e}=L;e!==F&&G(e)};(0,m.default)(z,{active:W}),(0,v.default)((()=>{M.ServerProps.pttOotPlayback&&x.PttPrefs.outOfChatPlayerMessage||(B.commit(!0),L.pause()),L.paused&&x.PttPrefs.clearOutOfChatMessage(i),P.dispose()}));const K=()=>{A.current&&(T.current=A.current.getBoundingClientRect().top),W?L.pause():(()=>{const e=null==i.asPttLike?1:S;L.playbackRate=e,L.defaultPlaybackRate=e,L.currentTime=F,L.play().catch((0,r.catchAbort)((()=>{})))})()},$=()=>{const e=U;return null!=e||null!=e?e:(0,u.getDurationFromProto)(b)};(0,p.useEffect)((()=>{const e=E.current;S!==e&&(L.playbackRate=S,L.defaultPlaybackRate=S,E.current=S)}),[L,S]),(0,g.useListener)(L,"playing",(()=>{H(!L.paused)})),(0,g.useListener)(L,"pause",(()=>{x.PttPrefs.clearOutOfChatMessage(),H(!L.paused)})),(0,g.useListener)(L,"ended",(()=>{L.currentTime=0,L.load(),z(),x.PttPrefs.clearOutOfChatMessage(),H(!L.paused)})),(0,g.useListener)(L,"timeupdate",z),(0,g.useListener)(L,"durationchange",(()=>{const e=(0,d.default)(L),t=$();null!=e&&e!==t&&V(e)})),(0,g.useListener)(s.Cmd,"sequential_playback_ptt",(e=>{var t;if(i.id!==e)return;A.current&&(T.current=A.current.getBoundingClientRect().top);const n=null===(t=A.current)||void 0===t?void 0:t.getBoundingClientRect().top;null!=n&&T.current===n&&s.Cmd.scrollToPtt(i.unsafe())}));const Q=e=>{e.preventDefault(),K()};(0,p.useImperativeHandle)(t,(()=>({handleKeyActivation:Q})));const X=W?"audio-pause":"audio-play",J=W?h.fbt._("Pause voice message",null,{hk:"4aYHr6"}):h.fbt._("Play voice message",null,{hk:"1IoAqS"}),Z=(0,f.default)(y.default.button,{[y.default.outgoing]:o,[y.default.incoming]:!o,[y.default.conversationWaveformEnabled]:M.ServerProps.pttConversationWaveform}),ee=(0,w.jsx)("button",{className:Z,onClick:K,"aria-label":J,children:(0,w.jsx)(k.default,{name:X})}),te=(0,w.jsx)("div",{ref:A,className:y.default.scrollPositionDetector});return(0,w.jsxs)(I,{button:ee,played:l,outgoingMsg:o,displayType:a,msg:i.asPtt,children:[te,(0,w.jsx)(j,{duration:W?F:(0,u.getDurationFromProto)(b),seekingTime:q}),(0,w.jsx)(O,{msg:i,currentTime:F,duration:$(),onSeek:e=>{Y(e)},onSeekEnd:e=>{const{duration:t}=L,n=e!==t||W?e:0;G(n),Y(null),L.currentTime=n},outgoing:o,played:null!=l&&l,waveform:b.waveform})]})}const P=(0,p.forwardRef)(A);function j(e){let{duration:t,seekingTime:n}=e;const a=null!=n?n:t;return null==a?null:(0,w.jsx)("div",{className:y.default.metadata,"aria-hidden":!0,children:o.Clock.durationStr(a)})}function I(e){var t,n,a;const r=!0===e.spinner&&null==e.button?(0,w.jsx)("button",{className:y.default.button,onClick:e.action,"data-a8n":i.default.key("audio-player-frame-spinner"),"aria-label":e.ariaLabel,children:(0,w.jsx)("div",{className:y.default.spinner,children:(0,w.jsx)(C.Pending,{outgoingMsg:e.outgoingMsg,canCancel:e.canCancel})})}):null,o=null!=e.icon&&null==e.button&&!0!==e.spinner?(0,w.jsx)("button",{className:y.default.button,onClick:e.action,"aria-label":e.ariaLabel,children:e.icon}):null,s=null!=e.fileSize&&0!==e.fileSize?(0,w.jsx)("div",{className:y.default.metadata,children:S.default.filesize(e.fileSize)}):null,u=(0,f.default)(y.default.audio,{[y.default.isGallery]:e.displayType===l.DISPLAY_TYPE.STARRED_MSGS||e.displayType===l.DISPLAY_TYPE.GALLERY});return(0,w.jsxs)("div",{className:u,children:[(0,w.jsxs)("div",{className:y.default.controls,children:[e.button,r,o]}),(0,w.jsxs)("div",{className:y.default.body,children:[(0,w.jsx)(b.InvisibleLabel,{children:h.fbt._("Voice message",null,{hk:"1ac0rl"})}),null!==(t=e.children)&&void 0!==t?t:(0,w.jsx)(O,{msg:e.msg,currentTime:0,duration:100,onSeek:()=>{},onSeekEnd:()=>{},outgoing:e.outgoingMsg,played:null!==(n=e.played)&&void 0!==n&&n,waveform:null===(a=e.msg)||void 0===a?void 0:a.mediaData.waveform,disabled:!0}),s]})]})}function O(e){var t;let{msg:n,currentTime:a,duration:r,onSeek:i,onSeekEnd:o,outgoing:s,played:l,waveform:u,disabled:d}=e;const c=null!=(null===(t=(0,_.useOptionalModelValues)(n,["asPttLike"]))||void 0===t?void 0:t.asPttLike);return M.ServerProps.pttConversationWaveform&&c&&null!=u?(0,w.jsx)(E.default,{currentTime:a,duration:r,onSeek:i,onSeekEnd:o,outgoing:s,played:l,waveform:u,disabled:d,skipThumb:d}):(0,w.jsx)(T.default,{currentTime:a,duration:r,onSeek:i,onCommit:o,outgoing:s,played:l,disabled:d})}t.WrappedAudioPlayer=P},7847:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5177),i=a(n(94184)),o=n(67294),s=n(35461),l=a(n(11740)),u=a(n(14199)),d=a(n(11465)),c=a(n(14296)),f=a(n(47049)),h=n(64551),p=a(n(67037)),m=n(85893);function g(e){let{size:t}=e;if(null==t||t<=0)return null;const n=c.default.filesize(t);return(0,m.jsx)("span",{className:u.default.metaValue,title:n,children:n})}function _(e){let{count:t}=e;if(null==t||t<=0)return null;const n=c.default.t(712,{count:t,_plural:t});return(0,m.jsx)("span",{className:u.default.metaValue,title:n,children:n})}function v(e){let{ext:t}=e;if(null==t)return null;const n=t.toUpperCase();return(0,m.jsx)("span",{"data-meta-key":"type","data-testid":"type",className:u.default.metaValue,title:n,children:n})}function b(e,t){const{displayAuthor:n,displayType:a,quotedMsg:o,trusted:c}=e,b=h.ServerProps.webLargeFilesUi,y=(0,s.useModelValues)(e.msg,["ack","caption","dir","isFromTemplate","isFailed","isSentByMe","rtl","senderObj","subtype","type","isVcardOverMmsDocument","mediaData","isDynamicReplyButtonsMsg"]),C=(0,s.useModelValues)(e.msg.mediaData,["mediaStage","filename","pageCount","size","mimetype","preview","fullPreviewData"].concat(b?["loadedSize"]:[])),S=(0,p.default)({mimetype:C.mimetype,filename:C.filename}),E=(y.isFromTemplate||y.isDynamicReplyButtonsMsg)&&y.caption,x=E?null:(0,m.jsxs)("div",{className:u.default.docMeta,children:[(0,m.jsx)(_,{count:C.pageCount}),(0,m.jsx)(v,{ext:S.ext}),(0,m.jsx)(g,{size:C.size})]});return(0,m.jsx)("div",{ref:t,className:(0,i.default)({[u.default.bubble]:!E,[u.default.templateBubble]:E,[u.default.isPreview]:a===r.DISPLAY_TYPE.MSG_INFO,[u.default.isGallery]:a===r.DISPLAY_TYPE.STARRED_MSGS||a===r.DISPLAY_TYPE.GALLERY}),children:(0,m.jsxs)(f.default,{displayType:a,msg:y,quotedMsg:o,showAuthor:n,hideCaption:!(y.isFromTemplate||y.isDynamicReplyButtonsMsg),trusted:c,children:[(0,m.jsx)(l.default,{msg:y.unsafe(),wrapperClass:u.default.ctwaContext}),(0,m.jsx)(d.default,{msg:y}),x]})})}var y=(0,o.forwardRef)(b);t.default=y},11465:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const n=k.ServerProps.webLargeFilesUi,[a,B]=(0,d.useState)(n),F=e.msg.isTrusted(),G=(0,f.useModelValues)(e.msg,["ack","caption","dir","isFromTemplate","isFailed","isSentByMe","rtl","senderObj","subtype","type","isVcardOverMmsDocument","mediaData","isDynamicReplyButtonsMsg"]),U=(0,f.useModelValues)(e.msg.mediaData,["mediaStage","filename","pageCount","size","mimetype","preview","fullPreviewData"].concat(n?["loadedSize","filehash"]:[])),V=(0,O.default)({mimetype:U.mimetype,filename:U.filename}),W=n?U.filehash:null;(0,d.useEffect)((()=>{null!=W&&n&&U.mediaStage===x.MEDIA_DATA_STAGE.INIT&&C.LruMediaStore.get(W).then((e=>{B(null!=e)}))}),[W,U.mediaStage,n]),(0,d.useEffect)((()=>{U.fullPreviewData||k.ServerProps.webDownloadDocumentThumbMmsEnabled&&(0,g.default)({msg:(0,A.unproxy)(G),isPreload:!1})}),[]);const H=e=>{R(e),o.ModalManager.open((0,N.jsx)(S.default,{msg:G.unsafe()}))},q=e=>{R(e),Modernizr.adownload?G.downloadMedia({downloadEvenIfExpensive:U.size<=104857600,rmrReason:T.default.WEBC_RMR_REASON_CODE.MSG_CLICK,isUserInitiated:!0}).catch((()=>{})).then((()=>{switch(U.mediaStage){case x.MEDIA_DATA_STAGE.RESOLVED:case x.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:!0!==G.isVcardOverMmsDocument&&((()=>{{const e=U.filename||y.default.t(639);s.ToastManager.open((0,N.jsx)(j.Toast,{msg:y.default.t(249,{name:e}),id:(0,j.genId)()}))}})(),i.FileSaver.initDownload((0,A.unproxy)(G.unsafe())));break;case x.MEDIA_DATA_STAGE.NEED_POKE:case x.MEDIA_DATA_STAGE.ERROR_MISSING:H()}})):o.ModalManager.open((0,N.jsx)(h.default,{onOK:()=>o.ModalManager.close(),okText:u.fbt._("OK",null,{hk:"2KEeHb"}),children:(0,N.jsx)(M.SafariLimitedText,{})}))},Y=e=>{R(e),G.cancelDownload()},z=e=>{R(e),G.cancelUpload()},K=e=>{R(e),G.resumeUpload()},$=e=>{R(e),G.resumeRemoteUpload()},Q=(0,l.default)((0,c.default)(D.filetypeIcon),V.icon),X=U.filename||y.default.t(639);let J=null;const Z={onClick:()=>{}};switch(U.mediaStage){case x.MEDIA_DATA_STAGE.RESOLVED:case x.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:case x.MEDIA_DATA_STAGE.NEED_POKE:case x.MEDIA_DATA_STAGE.INIT:Z.onClick=q,Z.title=y.default.t(720,{name:X}),J=(U.mediaStage===x.MEDIA_DATA_STAGE.RESOLVED||U.mediaStage===x.MEDIA_DATA_STAGE.INIT&&a)&&n?null:(0,N.jsx)(m.Download,{onClick:Z.onClick});break;case x.MEDIA_DATA_STAGE.UPLOADING:case x.MEDIA_DATA_STAGE.FETCHING:J=(0,N.jsx)(m.Pending,{outgoingMsg:G.isSentByMe,canCancel:!0,value:n&&null!=U.loadedSize&&null!=U.size&&U.size>0?Math.ceil(U.loadedSize/U.size*100):void 0}),Z.onClick=U.mediaStage===x.MEDIA_DATA_STAGE.FETCHING?Y:z;break;case x.MEDIA_DATA_STAGE.NEED_UPLOAD:J=(0,N.jsx)(m.Upload,{}),Z.onClick=K;break;case x.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:J=(0,N.jsx)(m.Upload,{}),Z.onClick=$;break;case x.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:break;case x.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:Z.onClick=w.default;break;case x.MEDIA_DATA_STAGE.ERROR_MISSING:Z.onClick=H;break;case x.MEDIA_DATA_STAGE.SENDING:J=G.isFailed?null:(0,N.jsx)(m.Pending,{outgoingMsg:G.isSentByMe});break;default:J=(0,N.jsx)(m.Pending,{outgoingMsg:G.isSentByMe})}const ee=null!=(null!==(t=U.preview)&&void 0!==t?t:U.fullPreviewData);return(0,N.jsxs)(I.default,(0,r.default)((0,r.default)({xstyle:D.buttonContainer,a8nText:"document-thumb"},Z),{},{children:[F?(0,N.jsx)(E.default,{msg:G.unsafe(),containerClassName:(0,c.default)(D.thumbContainer),childClassName:(0,c.default)(D.thumb)}):null,(0,N.jsx)(p.default,{outgoingMsg:G.isSentByMe,position:ee?"bottom":void 0,children:(0,N.jsxs)(v.FlexRow,{xstyle:D.deepContainerContent,align:"center",children:[(0,N.jsx)(b.default,{xstyle:D.icon,shrink:0,children:(0,N.jsx)("div",{className:Q})}),(0,N.jsxs)(b.default,{xstyle:[D.text,y.default.isRTL()&&D.textRTL],grow:1,children:[(0,N.jsx)(_.EmojiText,{text:X,dirMismatch:G.rtl!==y.default.isRTL(),direction:"auto"}),n&&L.has(U.mediaStage)?(0,N.jsx)(P.TimeLeftEta,{size:U.size,loadedSize:U.loadedSize,sampling:3}):null]}),(0,N.jsx)(b.default,{grow:0,shrink:0,children:J})]})})]}))};var r=a(n(81109)),i=n(21634),o=n(14597),s=n(94816),l=a(n(94184)),u=n(48360),d=n(67294),c=a(n(56720)),f=n(35461),h=a(n(52665)),p=a(n(68466)),m=n(71093),g=a(n(61516)),_=n(65417),v=n(29623),b=a(n(48846)),y=a(n(14296)),C=n(55975),S=a(n(20668)),E=a(n(4293)),x=n(58668),T=a(n(11339)),M=n(20723),k=n(64551),w=a(n(75315)),A=n(18146),P=n(41492),j=n(50452),I=a(n(1784)),O=a(n(67037)),N=n(85893);function R(e){e&&(e.stopPropagation(),e.preventDefault())}const D={buttonContainer:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"elxb2u3l",width:"ln8gz9je",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"gtscxtjd",textAlign:"tffp5ko5",cursor:"ajgl1lbb",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw"},text:{position:"g0rxnol2",top:"g3ewzqzm",marginTop:"tt8xd2xn",marginBottom:"mpdn4nr2",marginEnd:"spjzgwxb",marginStart:"a3oefunm",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},textRTL:{textAlign:"cb8ormfa"},icon:{marginTop:"o9i7y497"},deepContainerContent:{height:"jbxl65f1",paddingTop:"lqdozo90",paddingEnd:"igb3k0ri",paddingBottom:"bavixdlz",paddingStart:"nntdgyy8"},filetypeIcon:{backgroundRepeat:"sxl192xd",backgroundSize:"hbhfgwk1",height:"fs6hn1up",width:"ekdr8vow"},thumb:{backgroundPosition:"hrdw4pet",backgroundRepeat:"sxl192xd",backgroundSize:"qnwaluaf",borderBottom:"qj9nvfuq",height:"ppled2lx",position:"lhggkp7q",width:"ln8gz9je"},thumbContainer:{height:"fe3aadhc",position:"g0rxnol2",width:"ln8gz9je"}},L=new Set([x.MEDIA_DATA_STAGE.FETCHING,x.MEDIA_DATA_STAGE.UPLOADING])},51845:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{canonicalUrl:t,compose:n=!1,description:a,displayType:r,isInvite:l,inviteGrpType:c,onClick:f,isSentByMe:p,star:g,kept:_,thumbnail:v,thumbnailJpeg:b,thumbnailJpegHQ:y,thumbnailJpegDirectPath:T,thumbnailJpegHeight:M,thumbnailJpegWidth:k,title:w,theme:j}=e;const I=r===i.DISPLAY_TYPE.GALLERY,O=("high-quality"===j||"high-quality-extended"===j)&&!I,N=!n&&!I&&(G=t,null!=G&&""!==G&&E.some((e=>e.test(G)))),R=function(e,t){if(null!=e)return e===d.GroupType.COMMUNITY?s.fbt._("WhatsApp Community Invite",null,{hk:"2u83rq"}).toString():s.fbt._("WhatsApp Group Invite",null,{hk:"SQbWN"}).toString();return t}(c,a),D=C(w),L=S(D),B=null!=t&&""!==t?(0,m.jsx)("div",{"data-testid":"url-element",className:h.default.source,children:(0,m.jsx)(u.EmojiText,{text:t,direction:D,dirMismatch:L})}):null,F=(0,o.default)(h.default.preview,{[h.default.isInvite]:r!==i.DISPLAY_TYPE.GALLERY&&l,[h.default.isCompose]:n,[h.default.bubbleIn]:!p,[h.default.bubbleOut]:p,[h.default.status]:r===i.DISPLAY_TYPE.STATUS,[h.default.extended]:"extended"===j,[h.default.highQualityLayout]:O,[h.default.fullPreview]:N,[h.default.withoutDescription]:null==R});var G;return(0,m.jsxs)("div",{className:F,onClick:f,children:[(0,m.jsx)(P,{star:g,kept:_,displayType:r,children:(0,m.jsx)(A,{thumbnail:v,thumbnailJpeg:b,thumbnailJpegHQ:y,thumbnailJpegDirectPath:T,thumbnailJpegHeight:M,thumbnailJpegWidth:k,highQualityLayout:O,displayType:r})}),(0,m.jsxs)("div",{className:h.default.body,children:[(0,m.jsx)("div",{className:h.default.title,title:w,children:(0,m.jsx)(u.EmojiText,{text:w,direction:D,dirMismatch:L})}),(0,m.jsx)(x,{useTextLimit:N&&!O,children:R}),B]})]})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(93131)),i=n(5177),o=a(n(94184)),s=n(48360),l=a(n(56720)),u=n(65417),d=n(55981),c=n(29805),f=a(n(14296)),h=a(n(46534)),p=a(n(23217)),m=n(85893);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const _={position:"g0rxnol2",display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"fpj7ivsd",height:"n43pk08i",overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundColor:"ej3x2ktq"},v={color:"i0c11cip"},b={position:"g0rxnol2",display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundColor:"ej3x2ktq"},y={position:"lhggkp7q",right:"iyofsbg4",bottom:"lrw9n60e",color:"k17s6i4e",pointerEvents:"m62443ks"};function C(e){return null!=e&&""!==e?r.dir(e):void 0}function S(e){return"rtl"===e!==f.default.isRTL()}const E=[/^(www.)?twitter.com$/i];function x(e){let{children:t,useTextLimit:n}=e;if(null==t)return null;const a="string"==typeof t?C(t):void 0,r=S(a),i=n?280:void 0;return(0,m.jsx)("div",{"data-testid":"link-description",className:h.default.description,children:"string"==typeof t?(0,m.jsx)(u.EmojiText,{text:t,textLimit:i,titlify:!0,direction:a,dirMismatch:r}):t})}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[a,r]=n?[1,.25]:[1.4,1];return Math.min(Math.max(e/t,r),a)}function M(e){let{children:t,height:n,width:a,hasHqThumbnail:r}=e;const i=T(n,a,!0),s=i<1?330:240;return(0,m.jsx)("div",{"data-testid":"high-quality-layout",className:(0,o.default)(h.default.thumbnailContainer,{[h.default.blurred]:!r}),style:{height:s*i},children:t})}function k(e){let{children:t,height:n,width:a,hasHqThumbnail:r}=e;const i=T(n,a);return(0,m.jsx)("div",{"data-testid":"standard-quality-layout",className:(0,o.default)(h.default.thumbnailContainer,{[h.default.blurred]:!r}),style:{width:90/i,minWidth:90/i},children:t})}function w(e){let{children:t,width:n,height:a,highQualityLayout:r,thumbnailJpegDirectPath:i,thumbnailJpegHQ:o,galleryView:s}=e;if((null!=i&&""!==i||null!=o&&""!==o)&&null!=a&&null!=n&&!s){const e=r?M:k;return(0,m.jsx)(e,{height:a,width:n,hasHqThumbnail:null!=o,children:t})}return t}function A(e){let{thumbnail:t,thumbnailJpeg:n,thumbnailJpegHQ:a,displayType:r,thumbnailJpegHeight:o,thumbnailJpegWidth:s,thumbnailJpegDirectPath:u,highQualityLayout:d}=e;const c=r===i.DISPLAY_TYPE.GALLERY;if(null!=t&&""!==t)return(0,m.jsx)("div",{"data-testid":"link-preview-thumbnail",className:h.default.media,children:t});if(null!=n&&""!==n||null!=a&&""!==a){const e=null==a||""===a||c?n:a;if(null!=e)return(0,m.jsx)(w,{thumbnailJpegDirectPath:u,thumbnailJpegHQ:a,height:o,width:s,galleryView:c,highQualityLayout:d,children:(0,m.jsx)("img",{"data-testid":"link-preview-thumbnail-jpeg",alt:"",className:h.default.media,src:`data:image/jpeg;base64,${e}`})})}return c?(0,m.jsx)("div",{"data-testid":"link-preview-no-thumb",className:(0,l.default)(_),children:(0,m.jsx)(p.default,{className:(0,l.default)(v),width:32,height:32,name:"link"})}):null}function P(e){let{children:t,displayType:n,star:a,kept:r}=e;if(n!==i.DISPLAY_TYPE.GALLERY)return t;let o=null;return(0,c.isKeepInChatReadEnabled)()&&!0===r?o="keep-in-chat":!0===a&&(o="star"),(0,m.jsxs)("div",{"data-testid":"icon-star",className:(0,l.default)(b),children:[t,o&&(0,m.jsx)(p.default,{className:(0,l.default)(y),name:o,width:16,height:15})]})}},36588:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(14597),i=a(n(76139)),o=a(n(3689)),s=n(67294),l=n(35461),u=a(n(61516)),d=n(12591),c=a(n(51845)),f=n(32554),h=a(n(82791)),p=n(85893);function m(e){const{msg:t,displayType:n,isInvite:a,theme:m}=e,g=(0,l.useModelValues)(t,["t","thumbnail","thumbnailHQ","thumbnailDirectPath","thumbnailHeight","thumbnailWidth","title","description","canonicalUrl","matchedText","isSentByMe","star","asUrl","inviteGrpType"]);(0,s.useEffect)((()=>{const e=g.asUrl;!e||(0,f.hqLinkPreviewExpired)(g.t)||e.thumbnailHQ||(0,u.default)({msg:e,isPreload:!1})}),[g]);let _=null;if(!a){_=i.default.hostname(g.canonicalUrl||g.matchedText);try{_=o.default.toUnicode(_)}catch(e){}}const v=g.getSuspiciousLinks().filter((e=>{let{url:t}=e;return g.matchedText===t}));let b,y,C,S,E,x,T;return v.length?T=()=>{const e=v[0];r.ModalManager.open((0,p.jsx)(h.default,{link:e}))}:(T=()=>{const e=g.matchedText;(0,d.openExternalLink)(e)},b=g.description,y=g.thumbnail,(0,f.hqLinkPreviewExpired)(g.t)||(C=g.thumbnailHQ,S=g.thumbnailDirectPath,E=g.thumbnailHeight,x=g.thumbnailWidth)),(0,p.jsx)(c.default,{canonicalUrl:_,description:b,displayType:n,isInvite:a,inviteGrpType:!0===a?g.inviteGrpType:null,onClick:T,isSentByMe:g.isSentByMe,thumbnailJpeg:y,thumbnailJpegHQ:C,thumbnailJpegDirectPath:S,thumbnailJpegHeight:E,thumbnailJpegWidth:x,title:g.title,star:g.star,kept:g.isKept(),theme:m})}var g=(0,s.memo)(m);t.default=g},1238:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.showForwarded)(e.msg),n=e.displayAuthor?(0,c.jsx)("div",{className:l.default.author,children:(0,c.jsx)(o.default,{msg:e.msg,contact:e.msg.senderObj})}):null,a=e.displayType===r.DISPLAY_TYPE.GALLERY||e.hideMeta?null:(0,c.jsx)("div",{className:l.default.meta,children:(0,c.jsx)(u.Meta,{msg:e.msg})}),f=t?(0,c.jsx)(s.default,{msg:e.msg.unsafe(),className:l.default.forwardedIndicator}):null,h=e.quotedMsg?(0,c.jsx)("div",{className:l.default.quote,children:e.quotedMsg}):null,p=(0,i.default)(l.default.bubble,{[l.default.forwarded]:t,[l.default.hasAuthor]:e.displayAuthor,[l.default.hasCaption]:e.hasCaption,[l.default.isPSA]:e.msg.isPSA});return(0,c.jsxs)("div",{className:p,children:[n,f,h,e.children,a]})};var r=n(5177),i=a(n(94184)),o=a(n(72655)),s=a(n(14703)),l=a(n(74411)),u=n(42316),d=n(63132),c=n(85893)},63547:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaMsgPreview=function(e){const t=(0,i.useModelValues)(e.mediaData,["filehash","fullPreviewData","mediaStage","preview","type"]);if(!c(t.type))return(0,u.jsx)(h,{mediaData:t});return(0,u.jsx)(s.default,{mediaData:t,placeholderRenderer:()=>(0,u.jsx)(h,{mediaData:t}),renderProgressively:!0,children:e=>(0,u.jsx)(f,{url:e})},t.filehash)},t.isMediaTypeWithImage=c;var r=n(15461),i=n(35461),o=a(n(22404)),s=a(n(20553)),l=a(n(34949)),u=n(85893);const d=new Set([r.MSG_TYPE.IMAGE,r.MSG_TYPE.PRODUCT]);function c(e){return d.has(e)}function f(e){let{url:t}=e;return(0,u.jsx)("div",{className:o.default.preview,style:{backgroundImage:`url(${t})`}})}function h(e){var t;let{mediaData:n}=e;return[[n.preview instanceof l.default?n.preview.url():null,"preview"],[null===(t=n.fullPreviewData)||void 0===t?void 0:t.url(),"fullPreview"]].map((e=>{let[t,n]=e;return null!=t?(0,u.jsx)(f,{url:t},n):null})).filter(Boolean)}},81309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBase64=r,t.convertToDataURI=function(e){return`data:image/jpeg;base64,${r(e)}`};var a=n(8584);function r(e){return btoa(String.fromCharCode.apply(null,a.Binary.build(e).readByteArray()))}},41492:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TimeLeftEta=function(e){let{size:t,loadedSize:n,sampling:a=1}=e;const h=(0,s.useRef)(!1),p=(0,s.useRef)(0),m=(0,d.useTimeLeftMs)(n,t);!h.current&&++p.current>=a&&null!=m&&m>=1e4&&(h.current=!0);const g=!1===h.current||null==t||null==n||n>=t||null==m||0===m?null:(0,c.jsx)("div",{"data-testid":"time-left-eta",children:(0,c.jsx)(u.TextDiv,{theme:"small",children:o.fbt._("{progress}% ({eta})",[o.fbt._param("progress",(0,c.jsx)("span",{className:(0,l.default)(f),children:Math.floor(n/t*100)})),o.fbt._param("eta",r.Clock.timeLeftStr(Math.ceil(m/1e3)))],{hk:"4dwzXQ"})})});return(0,c.jsx)(i.default,{transitionName:"slide-up-fade-in-eta",children:g})};var r=n(40234),i=a(n(40436)),o=n(48360),s=n(67294),l=a(n(56720)),u=n(13923),d=n(98567),c=n(85893);const f={display:"l7jjieqr"}},67037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{mimetype:t,filename:n}=e;return(0,r.useMemo)((()=>{var e;let r,o;var s,l;i.DOCUMENT_MIMETYPES.hasOwnProperty(t)&&(r=null===(s=i.DOCUMENT_MIMETYPES[t])||void 0===s||null===(l=s.ext)||void 0===l?void 0:l.toLowerCase(),o=t);const u=n?(0,a.getFileExtension)(n):null;var d;(null==r||null!=u&&r!==u)&&(r=u,o=null!=r&&null!==(d=null===i.EXT_TO_MIME||void 0===i.EXT_TO_MIME?void 0:i.EXT_TO_MIME[r])&&void 0!==d?d:null);return{ext:r,mime:o,icon:null!=o&&(null===(e=i.DOCUMENT_MIMETYPES[o])||void 0===e?void 0:e.icon)||"icon-doc-generic"}}),[t,n])};var a=n(65885),r=n(67294),i=n(43257)},98567:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useTimeLeftMs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const a=(0,i.default)((()=>Date.now())),l=(0,r.useRef)(0),u=(0,r.useRef)(0),d=(0,o.default)((()=>{if(null==a.current||null==l.current||null==t||null==e)return null;const n=Date.now(),r=e-l.current,i=n-a.current;if(l.current=e,a.current=n,0===i)return null;const o=r/i;return u.current=0===u.current?o:o*s+.99*u.current,(t-e)/u.current}),n,{trailing:!1,leading:!0});return d()};var r=n(67294),i=a(n(16223)),o=a(n(90886));const s=.01},77807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,a.isMDBackend)()?r.isParsableYouTubeVideoUrl:r.isParsableOnlineVideoURL;return null!=e.matchedText&&""!==e.matchedText&&t(e.richPreviewType,e.matchedText,e.doNotPlayInline)};var a=n(88555),r=n(20427)},75315:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(function(e){if(!e)return;e.stopPropagation(),e.preventDefault()})(e),r.ModalManager.open((0,o.jsx)(i.default,{}))};var r=n(14597),i=a(n(98707)),o=n(85893)},42798:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseYoutubeVideoId=function(e){const t=i.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE;for(let n=0;n<t.length;n++){const a=r.default.withoutWww(e).match(t[n]);if(a)return a[a.length-1]}return null};var r=a(n(76139)),i=n(40875)},97507:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(64331),i=a(n(64369)),o=a(n(94184)),s=n(67294),l=n(35461),u=a(n(72655)),d=a(n(85559)),c=a(n(6725)),f=n(21504),h=a(n(11740)),p=a(n(14703)),m=n(29565),g=n(42316),_=n(63132),v=a(n(95839)),b=a(n(45458)),y=a(n(50253)),C=n(85893);function S(e){e.stopPropagation()}function E(e,t){var n;const{theme:a,overlayContent:E,displayType:x,displayAuthor:T}=e,M=(0,s.useRef)(null),k=e=>{var t;e.preventDefault(),null===(t=M.current)||void 0===t||t.play(e)};(0,s.useImperativeHandle)(t,(()=>({handleKeyActivation:k})));const w=(0,l.useModelValues)(e.msg,["ack","caption","dir","footer","id","isGroupMsg","isPSA","isSentByMe","isUnsentMedia","rtl","senderObj","type","isFailed","ctwaContext","supportsMessageFooter","text"]),A=(0,l.useModelValues)(e.msg.mediaData,["aspectRatio"]),P=(0,r.numCodepoints)(null!==(n=w.text)&&void 0!==n?n:"")>i.default.MAX_PORTRAIT_MEDIA_CAPTION_LENGTH,{bubbleWidth:j,bubbleHeight:I}=(0,f.getBubbleDimension)(w.type,!1,A.aspectRatio,a,x,P),O=T?(0,C.jsx)("div",{className:b.default.author,children:(0,C.jsx)(u.default,{msg:w,contact:w.senderObj})}):null,N=(0,_.showForwarded)(w)&&e.theme!==m.DisplayTheme.Album,R=N?(0,C.jsx)(p.default,{msg:w.unsafe(),className:b.default.forwardedIndicator}):null,D=w.caption,L=null!=D&&""!==D?(0,C.jsx)("div",{className:b.default.caption,children:(0,C.jsx)(c.default,{msg:w.unsafe(),trusted:e.trusted,spacer:!(w.supportsMessageFooter&&w.footer)})}):null,B=(0,o.default)(b.default.bubble,{[b.default.nonAlbumBubble]:!a||a!==m.DisplayTheme.Album,[b.default.portrait]:j<I&&(0,f.canUseCustomCropping)(w.type,a,x)}),F=(0,o.default)(B,{[b.default.hasCaption]:L,[b.default.hasAuthor]:T,[b.default.forwarded]:N,[b.default.isPSA]:w.isPSA,[b.default.ctwaContainerWidth]:null!=w.ctwaContext}),G=e.quotedMsg?(0,C.jsx)("div",{className:b.default.quote,children:e.quotedMsg}):null;let U;null==E&&(U=(0,C.jsx)("div",{className:b.default.meta,children:(0,C.jsx)(g.Meta,{msg:w})}));let V=(0,C.jsxs)("div",{className:F,children:[O,R,G,(0,C.jsx)(h.default,{msg:w.unsafe(),wrapperClass:b.default.ctwaContext}),(0,C.jsx)(y.default,{ref:M,albumMsgs:e.albumMsgs,displayType:x,hasOverlay:Boolean(E),hover:e.hover,msg:w,mediaData:e.msg.mediaData,theme:a,zoomMsg:e.zoomMsg}),L,(0,C.jsx)(v.default,{dir:w.dir,footer:w.footer,isShown:w.supportsMessageFooter,msg:w.unsafe(),rtl:w.rtl,type:w.type,trusted:e.trusted}),U]});return L?(0,C.jsx)(d.default,{contact:w.senderObj,msg:w.unsafe(),onClick:S,children:V}):(null!=E&&(V=(0,C.jsxs)("div",{className:b.default.overlayAlbumText,children:[V,E]})),(0,C.jsx)("div",{onClick:S,children:V}))}var x=(0,s.forwardRef)(E);t.default=x},72377:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e,n=(0,c.useRef)(null),[a,A]=(0,c.useState)((()=>b.default.isOpened((0,C.unproxy)(t))?I:j));(0,h.useListener)(b.default,`${t.id.toString()}_pip_did_open`,(()=>{a!==I&&A(I)})),(0,h.useListener)(b.default,`${t.id.toString()}_pip_did_close`,(()=>{a!==j&&A(j)}));const N=()=>n.current?n.current.getBoundingClientRect():null,R=t.description?(0,w.jsx)("div",{className:(0,f.default)(P.description),title:t.description,children:(0,w.jsx)(m.EmojiText,{text:t.description})}):null;let D=l.default.hostname(e.msg.canonicalUrl||e.msg.matchedText);D=l.default.withoutWww(D),D===p.HOSTNAME.YOUTUBE_SHORTENED&&(D=p.HOSTNAME.YOUTUBE);const L=(0,w.jsx)("div",{className:(0,f.default)(P.source),children:(0,w.jsx)(m.EmojiText,{text:D})}),B=(0,f.default)(P.body,!e.msg.thumbnail&&P.noThumb),F=(0,_.hqLinkPreviewExpired)(t.t),G=!F&&e.msg.thumbnailHQ?e.msg.thumbnailHQ:e.msg.thumbnail;let U;if(a===j)switch(D){case p.HOSTNAME.YOUTUBE:case p.HOSTNAME.YOUTUBE_MOBILE:const t=(0,k.parseYoutubeVideoId)(e.msg.matchedText);if(t){const n=(e=>{const t=e.split("?");if(2!==t.length)return 0;const n=t[1],a=new x.default(n).get(p.YOUTUBE_URL_TIME_PARAM_NAME);if(!a)return 0;const r=a.match(p.YOUTUBE_URL_TIME_PARAM_PATTERN);let i=0;if(null==r?void 0:r.length)for(let e=1;e<r.length;e++){const t=r[e];if(!t)continue;const n=parseInt(t,10);if(Number.isNaN(n))return 0;t.endsWith("h")&&(i+=3600*n),t.endsWith("m")&&(i+=60*n),t.endsWith("s")&&(i+=n),/^\d+$/.test(t)&&(i+=n)}return i})(e.msg.matchedText);U=a=>{a&&a.stopPropagation(),b.default.openYoutubePiP(t,e.msg,n,N())}}break;case p.HOSTNAME.INSTAGRAM:case p.HOSTNAME.STREAMABLE:case p.HOSTNAME.FACEBOOK:case p.HOSTNAME.FBWATCH:case p.HOSTNAME.FBWATCH_ALT:case p.HOSTNAME.LASSOVIDEOS:case p.HOSTNAME.LASSO_SHORTENED:case p.HOSTNAME.SHARECHAT:U=()=>{if(b.default.openOgVideoPiP("",G,e.msg,0,N()),(0,i.isMDBackend)())throw new Error("This call is only supported in non-MD mode");const t=l.default.build(e.msg.matchedText,{wa_logging_event:"video_play_open"});M.default.queryVideoPlaybackUrl(t).then((t=>{if(b.default.isOpened(e.msg)){if(!t.url)throw new Error("Url is missing in response.");b.default.openOgVideoPiP(t.url,G,e.msg,0,null)}})).catch((t=>{__LOG__(3)`handlePiPLauncherClick: queryVideoPlaybackUrl has failed with error ${t}`,b.default.closePiP(),s.ToastManager.open((0,w.jsx)(E.Toast,{id:(0,E.genId)(),msg:d.fbt._("The video can't be played.",null,{hk:"4Es7E8"}),action:{actionText:d.fbt._("Open the link",null,{hk:"2xiq6A"}),onAction:()=>{(0,g.openExternalLink)(e.msg.matchedText)}}}))}))};break;default:return null}const V=(0,u.default)((0,f.default)(P.preview,e.msg.isSentByMe&&P.bubbleOut||P.bubbleIn),T.default.previewOverride),W=a===j?(0,w.jsx)("div",{className:(0,f.default)(P.mediaStateControlsWrapper),children:(0,w.jsx)(v.Play,{})}):null,H=a===I?(0,w.jsx)(y.default,{icon:(0,w.jsx)(S.default,{name:"video-pip-large"}),children:d.fbt._("This video is playing in picture in picture.",null,{hk:"4pqtaj"})}):null;let q,Y;if(G&&(0,r.default)(p.HOSTNAME).includes(D)){var z;const t=function(e){return O.includes(e)}(D);q=(0,w.jsx)("img",{alt:"",className:(0,f.default)(P.thumbnail,t&&P.youtubeThumbnail,(t&&(0,o.isFeatureEnabled)("youtube_video_preview_without_blur")||!F&&!!e.msg.thumbnailHQ)&&P.noBlur),src:`data:image/jpeg;base64,${G}`});const n=null!==(z=p.ATTRIBUTION_ICONS[D])&&void 0!==z?z:null;n&&(Y=(0,w.jsx)("div",{className:(0,f.default)(P.attribution),children:(0,w.jsx)(S.default,{name:n})}))}else q=(0,w.jsx)("div",{className:(0,f.default)(P.thumbnailPlaceholder)});return(0,w.jsxs)("div",{className:V,children:[(0,w.jsxs)("div",{ref:n,className:(0,f.default)(P.thumbnailWrapper),onClick:U,children:[Y,q,W,H]}),(0,w.jsxs)(g.ExternalLink,{className:B,href:e.msg.matchedText,children:[(0,w.jsx)("div",{className:(0,f.default)(P.title),title:e.msg.title,children:(0,w.jsx)(m.EmojiText,{text:e.msg.title})}),R,L]})]})};var r=a(n(52628)),i=n(88555),o=n(10206),s=n(94816),l=a(n(76139)),u=a(n(94184)),d=n(48360),c=n(67294),f=a(n(56720)),h=n(87550),p=n(40875),m=n(65417),g=n(12591),_=n(32554),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(41124)),b=a(n(77912)),y=a(n(27557)),C=n(18146),S=a(n(23217)),E=n(50452),x=a(n(53565)),T=a(n(72836)),M=a(n(56891)),k=n(42798),w=n(85893);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const P={preview:{overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"ovllcyds",lineHeight:"r5qsrrlp",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf"},bubbleIn:{backgroundColor:"rrq4r3yd"},bubbleOut:{backgroundColor:"s0eflmyh"},title:{display:"c32ccnay",flexGrow:"tvf2evcx",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",marginBottom:"j4enbv94",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"tl2vja3b",textOverflow:"lhj4utae","-webkit-line-clamp":"suguakab","-webkit-box-orient":"aoi073rw"},description:{flexGrow:"tvf2evcx",flexShrink:"ttu8nud2",flexBasis:"lb5m6g5c",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"dsh4tgtl",color:"pm5hny62"},source:{paddingTop:"qbqilfqo",fontSize:"dsh4tgtl",color:"prv4wu9t"},body:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"ac2vgrno",width:"ln8gz9je",maxHeight:"f8xtxj1z",paddingTop:"n1yiu2zv",paddingEnd:"itegkywt",paddingBottom:"eb4rp10x",paddingStart:"rppts313",overflowX:"gfz4du6o",overflowY:"r7fjleex",lineHeight:"idwf4z32"},noThumb:{maxWidth:"laorhtua"},attribution:{position:"lhggkp7q",end:"anwdwcjt",bottom:"hsombceh",zIndex:"jnl3jror"},mediaStateControlsWrapper:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",zIndex:"mbtxrpqz",width:"ln8gz9je",height:"ppled2lx",cursor:"ajgl1lbb"},thumbnailWrapper:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",maxHeight:"sxls5clz",overflowX:"gfz4du6o",overflowY:"r7fjleex"},thumbnail:{position:"g0rxnol2",top:"kkfs9yjl",width:"npn6ik2d",marginBottom:"lmuv1eak",cursor:"ajgl1lbb",filter:"fsmudgz7"},noBlur:{filter:"b3di99y3"},thumbnailPlaceholder:{position:"g0rxnol2",width:"ln8gz9je",height:"siuioimt",backgroundColor:"c3gfj3cx"},youtubeThumbnail:{height:"f1qlncqe",objectFit:"jpthtbts"}},j="PREVIEW",I="FLOATER",O=[p.HOSTNAME.YOUTUBE,p.HOSTNAME.YOUTUBE_MOBILE,p.HOSTNAME.YOUTUBE_SHORTENED]},85476:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=n(35461),o=a(n(61516)),s=n(32554),l=a(n(72377)),u=n(85893);function d(e){const t=(0,i.useModelValues)(e.msg,["t","thumbnailHQ","asUrl","isSentByMe"]);return(0,r.useEffect)((()=>{const e=t.asUrl;!e||(0,s.hqLinkPreviewExpired)(t.t)||e.thumbnailHQ||(0,o.default)({msg:e,isPreload:!1})}),[t]),(0,u.jsx)(l.default,{msg:t.unsafe()})}var c=(0,r.memo)(d);t.default=c},50253:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=n(64331),o=n(10206),s=n(40234),l=n(81572),u=a(n(64369)),d=n(8139),c=n(14597),f=a(n(76139)),h=a(n(94184)),p=n(48360),m=n(67294),g=n(87550),_=n(35461),v=n(21504),b=n(78986),y=n(29565),C=a(n(20668)),S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(41124)),E=n(58668),x=a(n(19451)),T=a(n(34949)),M=n(19656),k=a(n(77912)),w=a(n(27557)),A=a(n(75315)),P=n(18146),j=a(n(23217)),I=a(n(2749)),O=a(n(35353)),N=n(85893);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}const D="PREVIEW",L="FLOATER";function B(e,t){var n,a;const{theme:R,hasOverlay:B,displayType:F,albumMsgs:G}=e,U=(0,_.useModelValues)(e.msg,["ack","caption","dir","footer","gifAttribution","id","isGroupMsg","isPSA","isSentByMe","isUnsentMedia","rtl","senderObj","type","isFailed","ctwaContext","supportsMessageFooter","text"]);(0,_.useModelValues)(e.mediaData,["aspectRatio","preview","fullPreviewData","duration","mediaStage","fullWidth","fullHeight","size"]);const V=(0,m.useRef)(null),[W,H]=(0,m.useState)((()=>k.default.isOpened((0,P.unproxy)(U.unsafe()))?L:D));(0,m.useEffect)((()=>{(0,o.isFeatureEnabled)("media_existence_check")&&(0,b.checkExistence)((0,P.unproxy)(U)),(0,d.isHighQualityVideoThumbnailsEnabled)()&&(0,b.downloadVideoThumbnail)({msg:(0,P.unproxy)(U)})}),[]);const q=()=>{c.ModalManager.open((0,N.jsx)(C.default,{msg:U.unsafe()}))},Y=()=>{U.forceDownloadMediaEvenIfExpensive()},z=()=>{U.cancelDownload()},K=()=>{U.cancelUpload()},$=()=>{U.resumeUpload()},Q=()=>{U.resumeRemoteUpload()},X=e=>{e&&e.stopPropagation(),c.ModalManager.open((0,N.jsx)(x.default,{msg:(0,P.unproxy)(U.unsafe())}))},J=t=>{if(t&&t.stopPropagation(),R===y.DisplayTheme.Album){const t=e.zoomMsg||U,n=new Set((G||[]).map((e=>e.id.toString())));l.Cmd.mediaViewerModal({msg:(0,P.unproxy)(t.unsafe()),highlightedMsgIds:n})}else l.Cmd.mediaViewerModal({msg:(0,P.unproxy)(U.unsafe())})},Z=e=>{e&&e.stopPropagation();const t=V.current?V.current.getBoundingClientRect():null;k.default.openPiP((0,P.unproxy)(U.unsafe()),0,t)};(0,m.useImperativeHandle)(t,(()=>({play:J}))),(0,g.useListener)(k.default,`${U.id.toString()}_pip_did_open`,(()=>{W!==L&&H(L)})),(0,g.useListener)(k.default,`${U.id.toString()}_pip_did_close`,(()=>{W!==D&&H(D)}));const ee=U,te=e.mediaData;let ne=null,ae=null;switch(te.mediaStage){case E.MEDIA_DATA_STAGE.RESOLVED:case E.MEDIA_DATA_STAGE.INIT:case E.MEDIA_DATA_STAGE.EXISTS:ne=(0,N.jsx)(S.Play,{}),ae=J;break;case E.MEDIA_DATA_STAGE.NEED_POKE:ne=(0,N.jsx)(S.Download,{filesize:te.size}),ae=Y;break;case E.MEDIA_DATA_STAGE.UPLOADING:case E.MEDIA_DATA_STAGE.FINALIZING:ne=(0,N.jsx)(S.Pending,{cancelable:!0}),ae=K;break;case E.MEDIA_DATA_STAGE.FETCHING:ne=(0,N.jsx)(S.Pending,{cancelable:!0}),ae=z;break;case E.MEDIA_DATA_STAGE.NEED_UPLOAD:ne=(0,N.jsx)(S.Upload,{filesize:te.size}),ae=$;break;case E.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:ne=(0,N.jsx)(S.Upload,{filesize:te.size}),ae=Q;break;case E.MEDIA_DATA_STAGE.ERROR_MISSING:ae=q;break;case E.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:ee.isUnsentMedia||(ne=(0,N.jsx)(S.Download,{filesize:te.size}),ae=X);break;case E.MEDIA_DATA_STAGE.SENDING:ee.isFailed||(ne=(0,N.jsx)(S.Pending,{}));break;case E.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:__LOG__(4,void 0,new Error,!0)`Videos should be copied in memory when selected`,SEND_LOGS("media-image-not-readable-error"),ae=A.default;break;case E.MEDIA_DATA_STAGE.DECRYPTING:case E.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case E.MEDIA_DATA_STAGE.PREPARING:case E.MEDIA_DATA_STAGE.PROGRESSIVE_READY:case E.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case E.MEDIA_DATA_STAGE.REUPLOADING:ne=(0,N.jsx)(S.Pending,{})}const re=parseInt(te.duration,10)?s.Clock.durationStr(te.duration):null,ie=re?(0,N.jsxs)("span",{className:O.default.duration,children:[(0,N.jsx)("div",{className:O.default.icon,children:(0,N.jsx)(j.default,{name:"msg-video"})}),re]}):null,oe=(0,i.numCodepoints)(null!==(n=ee.text)&&void 0!==n?n:"")>u.default.MAX_PORTRAIT_MEDIA_CAPTION_LENGTH,{bubbleWidth:se,bubbleHeight:le}=(0,v.getBubbleDimension)(ee.type,!1,te.aspectRatio,R,F,oe),ue=te.fullHeight||le,de=te.fullWidth||se,ce=(0,v.getImgStyle)(de,ue,se,le),fe=null!==(a=te.fullPreviewData)&&void 0!==a?a:te.preview,he=null!=te.fullPreviewData,pe=fe instanceof T.default?(0,r.default)({backgroundImage:f.default.thumbAsBackgroundImage(fe.url()).backgroundImage},ce):void 0,me=(0,N.jsx)("div",{className:(0,h.default)(O.default.thumbBody,{[O.default.thumbBodyLowQuality]:!he}),style:pe});let ge,_e;switch(te.mediaStage){case E.MEDIA_DATA_STAGE.INIT:case E.MEDIA_DATA_STAGE.RESOLVED:ge=(0,N.jsx)("div",{className:(0,h.default)(O.default.pipBtn,{[O.default.isHover]:!!e.hover}),children:(0,N.jsx)(M.PiPButton,{onClick:Z,theme:M.PIP_BUTTON_THEME.PREVIEW})});break;default:ge=null}switch(W){case D:_e=(0,N.jsxs)(N.Fragment,{children:[ge,ne]});break;case L:_e=(0,N.jsx)(w.default,{icon:(0,N.jsx)(j.default,{name:"video-pip-large"}),children:p.fbt._("This video is playing in picture in picture.",null,{hk:"4pqtaj"})})}const ve=(0,h.default)(O.default.thumb,{[O.default.inAlbum]:R===y.DisplayTheme.Album});return(0,N.jsxs)("div",{ref:V,"data-testid":"video-content",className:(0,h.default)(ve,{[O.default.cursorPointer]:W===D,[O.default.overlay]:B,[O.default.ctwaThumbWidth]:null!=ee.ctwaContext}),onClick:ae,style:{width:se,height:le},children:[B?null:_e,me,(0,N.jsx)(I.default,{}),B?null:ie]})}var F=(0,m.forwardRef)(B);t.default=F},34377:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(99964)),i=n(15461),o=a(n(94184)),s=n(67294),l=n(35461),u=a(n(66034)),d=n(24808),c=n(34535),f=n(20427),h=a(n(14296)),p=n(32554),m=a(n(30532)),g=n(63132),_=a(n(5165)),v=n(18146),b=a(n(23217)),y=n(97628),C=n(84728),S=n(78123),E=n(85893);function x(e,t){var n,a,x;const{isGroupedSticker:T,hasAuthor:M,onToggle:k}=e,w=(0,s.useRef)(null),A=(0,s.useContext)(y.ThemeContext),P=(0,l.useModelValues)(e.msg,["ack","linkPreview","matchedText","dir","rtl","isMedia","isSentByMe","isGroupMsg","isViewOnce","interactiveHeader","type","quotedMsg","body","quotedRemoteJid","richPreviewType","doNotPlayInline","ctwaContext","list","nativeFlowName","thumbnailDirectPath","thumbnailHeight","thumbnailWidth","text"]);(0,s.useImperativeHandle)(t,(()=>({getComponent:()=>({refContext:w.current})})));const{isSentByMe:j,type:I}=P,O=!!P.quotedMsg,N=O&&!!P.quotedRemoteJid,R=(0,g.showForwarded)(P),D=N?null:j?m.default.contextOut:m.default.contextIn,L=I===i.MSG_TYPE.DOCUMENT||(null===(n=P.interactiveHeader)||void 0===n?void 0:n.mediaType)===c.InteractiveMessageHeaderMediaType.DOCUMENT,B=L&&!P.body,F=L&&P.body,G=I===i.MSG_TYPE.LOCATION,U=P.linkPreview&&(0,f.isParsableOnlineVideoURL)(P.richPreviewType,P.matchedText,P.doNotPlayInline),V=I===i.MSG_TYPE.LIST&&(null===(a=P.list)||void 0===a?void 0:a.listType)===d.Message$ListMessageListType.PRODUCT_LIST,W=P.isMedia||[c.InteractiveMessageHeaderMediaType.IMAGE,c.InteractiveMessageHeaderMediaType.VIDEO].includes(null===(x=P.interactiveHeader)||void 0===x?void 0:x.mediaType),H=F||G||O||V||I===i.MSG_TYPE.PAYMENT||U||I===i.MSG_TYPE.PRODUCT||P.nativeFlowName===_.default.ORDER_STATUS||P.ctwaContext||W&&!P.isViewOnce&&I!==i.MSG_TYPE.AUDIO||P.isViewOnce&&!j&&!(0,C.isViewed)(P.safe()),q=P.getSuspiciousLinks().length>0,Y=I===i.MSG_TYPE.CHAT&&P.linkPreview&&!U&&!M&&!R&&!q&&P.isTrusted(),z=(0,p.displayHighQualityLinkPreview)((0,v.unproxy)(P.unsafe())),K=H&&!M&&!q&&!R||Y&&z,$=(0,o.default)(K?m.default.contextIconMedia:m.default.contextIcon),Q=I===i.MSG_TYPE.PTT||I===i.MSG_TYPE.AUDIO,X=P.type===i.MSG_TYPE.MULTI_VCARD&&!O&&!M&&!R,J=I===i.MSG_TYPE.GROUPS_V4_INVITE,Z=I===i.MSG_TYPE.ORDER,ee=(Y&&!z||B||J||Z)&&!M&&!R&&!O,te=I===i.MSG_TYPE.STICKER&&!P.ctwaContext&&!O&&(T||!P.isGroupMsg||P.isGroupMsg&&P.isSentByMe);let ne,ae;if(te){const e=u.default.get("defaultPreference"),t=e?e.wallpaperColor:S.DEFAULT_CHAT_WALLPAPER;ae=(0,E.jsx)("div",{className:m.default.badge,style:{backgroundColor:t,opacity:.9}}),ne=(0,S.invertTransparentWallpaperColors)(A.theme,t)}const re=!(I!==i.MSG_TYPE.CHAT||O||M||R||U||!P.dir||P.rtl===h.default.isRTL()),ie=(I===i.MSG_TYPE.PTT||I===i.MSG_TYPE.AUDIO)&&h.default.isRTL()&&!M,oe=(0,o.default)(D,K?h.default.isRTL()?m.default.contextMediaRtl:m.default.contextMediaLtr:null,{[m.default.context]:!(K||Y)||ee,[m.default.contextMedia]:K,[m.default.contextPtt]:Q,[m.default.contextPttFix]:Q&&!O&&!M,[m.default.contextSpecial]:ee,[m.default.contextDoc]:B&&!M&&!R&&!O,[m.default.contextMediaDocument]:F,[m.default.contextMultiVcard]:X,[m.default.contextInverse]:re||ie,[m.default.contextStickerAuthor]:I===i.MSG_TYPE.STICKER&&!te,[m.default.contextStickerTransparent]:te,[m.default.contextStickerInverse]:te&&ne});return(0,E.jsxs)("div",{className:oe,children:[(0,E.jsx)("div",{"data-a8n":r.default.key("icon-down-context"),"data-js-context-icon":!0,className:$,ref:w,onMouseDown:e=>{e.stopPropagation()},onClick:e=>{k(e.target)},children:(0,E.jsx)(b.default,{name:"down-context"})}),ae]})}var T=(0,s.forwardRef)(x);t.default=T},47049:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t,displayType:n,hideCaption:a=!1,hideMeta:m=!1,msg:g,quotedMsg:_,showAuthor:v=!1,trusted:b}=e;const{caption:y,dir:C,footer:S,isSentByMe:E,isGroupMsg:x,rtl:T,senderObj:M,supportsMessageFooter:k,type:w}=(0,o.useModelValues)(g,["caption","dir","footer","isFromTemplate","isSentByMe","isGroupMsg","rtl","senderObj","supportsMessageFooter","type"]),A=v&&!E&&x,P=!a&&y,j=(0,f.showForwarded)(g);return(0,p.jsxs)(p.Fragment,{children:[A?(0,p.jsx)("div",{className:(0,i.default)(d.default.author,{[d.default.hasForwarded]:j}),children:(0,p.jsx)(s.default,{msg:g,contact:M})}):null,j?(0,p.jsx)(u.default,{msg:g.unsafe(),className:(0,i.default)(d.default.forwardedIndicator,{[d.default.hasAuthor]:A})}):null,null!=_?(0,p.jsx)("div",{className:d.default.quote,children:_}):null,t,P?(0,p.jsx)("div",{className:d.default.caption,children:(0,p.jsx)(l.default,{msg:g.unsafe(),trusted:b,spacer:!S})}):null,k?(0,p.jsx)(h.default,{dir:C,footer:S,isShown:k,msg:g.unsafe(),rtl:T,type:w,trusted:b}):null,!m&&(0,p.jsx)("div",{className:(0,i.default)(d.default.meta,{[d.default.hasCaption]:P}),children:(0,p.jsx)(c.Meta,{msg:g,theme:n===r.DISPLAY_TYPE.GALLERY?"date":void 0})})]})};var r=n(5177),i=a(n(94184)),o=n(35461),s=a(n(72655)),l=a(n(6725)),u=a(n(14703)),d=a(n(25410)),c=n(42316),f=n(63132),h=a(n(95839)),p=n(85893)},87931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgPosition=t.MSG_VISIBILITY=void 0;t.MsgPosition={FRONT:"FRONT",MID:"MID",END:"END",SINGLE:"SINGLE"};t.MSG_VISIBILITY={ABOVE:"above",VISIBLE:"visible",BELOW:"below"}},54703:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{broadcast:n,isFromTemplate:a,isSentByMe:d,labels:c,star:f,type:h,keptBy:p}=(0,s.useModelValues)(e.msg,["broadcast","isFromTemplate","isSentByMe","labels","star","type","keptBy"]);let m={};const g=null===(t=e.spacer)||void 0===t||t;if(g){let e;switch(h){case i.MSG_TYPE.REVOKED:e=[n,(null==c?void 0:c.length)&&(0,r.canDisplayLabel)()];break;default:e=[n,d,(null==c?void 0:c.length)&&(0,r.canDisplayLabel)(),f,p]}const t=e.filter(Boolean).length;t>0&&(m={[l.default.icons1]:1===t,[l.default.icons2]:2===t,[l.default.icons3]:3===t,[l.default.icons4]:t>=4})}return(0,u.jsxs)("div",{className:(0,o.default)(e.className,{[l.default.text]:!0,[l.default.placeholder]:"placeholder"===e.theme,[l.default.template]:a}),children:[e.children,g&&(0,u.jsx)("span",{className:(0,o.default)(l.default.spacer,m)})]})};var r=n(8139),i=n(15461),o=a(n(94184)),s=n(35461),l=a(n(5511)),u=n(85893)},42316:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Meta=function(e){let{msg:t,theme:n}=e;const{broadcast:a,caption:s,isLive:l,asRevoked:u,isSentByMe:f,isViewOnce:_,labels:x,loc:M,star:k,t:w,type:A,subtype:P,isSendFailure:j,keptBy:I}=(0,p.useModelValues)(t.unsafe(),["broadcast","caption","isLive","asRevoked","isSentByMe","isViewOnce","labels","loc","star","t","type","subtype","isSendFailure","keptBy"]),[O,N]=(0,c.useState)(!1);(0,h.useListener)(i.Clock,i.HOUR24_FORMAT_CHANGE_EVENT,(()=>{N(!O)}));const R=[],D=(A===E.IMAGE||A===E.VIDEO)&&!s&&!_||A===E.LOCATION&&!l&&!M;(0,m.isKeepInChatReadEnabled)()&&null!=I&&R.push((0,S.jsx)(C.default,{name:"keep-in-chat",width:16,height:15}));k&&!u&&R.push((0,S.jsx)(C.default,{name:"star","aria-label":` ${d.fbt._("Starred messages",null,{hk:"uqtIq"}).toString()} `}));a&&R.push((0,S.jsx)(C.default,{name:"broadcast"}));let L=null;f&&!u&&(L=(0,S.jsx)(y.default,{msg:t.unsafe()}));(0,r.isMDBackend)()&&(A===E.UNKNOWN&&"fanout"===P||j)&&(L=null);const B=x&&x.length>0?(0,S.jsx)(g.Labels,{labels:x,showName:!1}):null;return(0,S.jsx)(T,{icons:R,labels:B,light:D,onClick:(0,v.canOpenInfoDrawer)(t.unsafe())?()=>{o.Cmd.msgInfoDrawer((0,b.unproxy)(t.unsafe()))}:null,status:L,children:"date"!==n?w?i.Clock.timestampStr(w):null:w?i.Clock.relativeStr(w):null})},t.MetaFrame=T;var r=n(88555),i=n(40234),o=n(81572),s=n(15461),l=n(26741),u=a(n(94184)),d=n(48360),c=n(67294),f=a(n(56720)),h=n(87550),p=n(35461),m=n(29805),g=n(84543),_=a(n(47297)),v=n(84390),b=n(18146),y=a(n(24871)),C=a(n(23217)),S=n(85893);const E=s.MSG_TYPE,x={meta:{color:"gq1t1y46",fontSize:"lak21jic",height:"e4p1bexh",lineHeight:"cr2cog7z",whiteSpace:"le5p0ye3"},metaLight:{color:"pp8r7oc8"},chromeFix:{lineHeight:"sid27bd6"},labels:{alignItems:"gndfcl4n",display:"i86elurf",height:"e4p1bexh",marginStart:"akljc1zx",marginEnd:"om6y7gxh",verticalAlign:"fewfhwl7"},icon:{color:"do8e0lj9",display:"l7jjieqr",marginEnd:"om6y7gxh"},iconLight:{color:"k17s6i4e"},status:{color:"do8e0lj9",display:"l7jjieqr",marginStart:"k6y3xtnu"},timestamp:{display:"l7jjieqr",verticalAlign:"fewfhwl7"}};function T(e){const t=e.icons&&e.icons.length>0?e.icons.map(((t,n)=>(0,S.jsx)("div",{className:(0,f.default)(x.icon,e.light&&x.iconLight),children:t},`icon-${n}`))):null,n=e.labels?(0,S.jsx)("div",{className:(0,f.default)(x.labels),"data-testid":"meta-labels",children:e.labels}):null,a=e.status?(0,S.jsx)("div",{className:(0,f.default)(x.status),children:e.status}):null,r=(0,u.default)((0,f.default)(x.meta,e.light&&x.metaLight,l.UA.os===l.OS_TYPE.MAC&&l.UA.browser===l.BROWSER_TYPE.CHROME&&l.UA.osVersion.includes("10.15")&&x.chromeFix),_.default.metaOverrides);return(0,S.jsxs)("div",{className:r,"data-testid":"msg-meta",onClick:e.onClick,role:e.onClick?"button":null,children:[t,n,(0,S.jsx)("span",{className:(0,f.default)(x.timestamp),dir:"auto",children:e.children}),a]})}},20485:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.default)(o.default.container,{[o.default.isChecked]:e.checked,[o.default.gallery]:"gallery"===e.msgTheme});return(0,s.jsx)("div",{className:t,onClick:e.onClick,children:(0,s.jsx)(i.CheckBox,{onChange:e.onClick,checked:e.checked,theme:e.theme})})};var r=a(n(94184)),i=n(16593),o=a(n(22981)),s=n(85893)},23512:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MsgComponent=void 0;var r=a(n(81109)),i=a(n(82594)),o=n(5177),s=n(8139),l=n(15461),u=n(93778),d=n(67294),c=n(35461),f=a(n(89113)),h=a(n(41942)),p=a(n(27295)),m=a(n(98886)),g=a(n(7847)),_=n(10455),v=a(n(76998)),b=a(n(82903)),y=a(n(89808)),C=a(n(17979)),S=a(n(99940)),E=n(19795),x=n(27863),T=n(54676),M=a(n(85851)),k=a(n(30946)),w=a(n(16785)),A=a(n(75343)),P=a(n(41826)),j=a(n(54806)),I=a(n(74790)),O=a(n(19639)),N=a(n(93135)),R=a(n(32570)),D=a(n(35072)),L=n(51906),B=a(n(1662)),F=n(18146),G=a(n(1539)),U=a(n(2284)),V=a(n(83236)),W=a(n(93137)),H=a(n(98723)),q=a(n(97507)),Y=a(n(83681)),z=n(85893);const K=(0,d.forwardRef)(((e,t)=>{const{displayAuthor:n,displayType:a,isMsgVisible:K}=e,$=(0,d.useRef)(null),Q=(0,c.useModelValues)(e.msg,["body","caption","rtl","dir","isSentByMe","isPSA","isViewOnce","ctwaContext","initialPageSize","hasTemplateButtons","thumbnail","orderTitle","totalAmount1000","totalCurrencyCode","itemCount","isGif","isLive","isVcardOverMmsDocument","mediaData","nativeFlowName","nativeFlowButtons","senderObj","subtype","type","t","id","title","isFromTemplate","vcard","vcardList","inviteGrpType"]),X=(0,c.useModelValues)(e.chat,["trusted"]),J=()=>{if(a===o.DISPLAY_TYPE.GALLERY)return null;const e=Q.quotedMsgObj();if(e)return(0,z.jsx)(D.default,{msg:e,rootMsg:(0,F.unproxy)(Q.safe()),displayType:a,theme:"conversation",chat:(0,F.unproxy)(X),t:Q.t},e.id.toString());const t=Q.getQuotedMsgAdminGroupJid();if(t){const e=Q.getQuotedMsgAdminGroupSubject(),n=Q.getQuotedMsgAdminParentGroupJid();return(0,z.jsx)(L.QuotedMsgAdminGroupName,{quotedGroupJid:t,quotedGroupSubject:e,quotedParentGroupJid:n})}return null},Z=(0,f.default)((()=>$.current)),ee=(0,d.useCallback)((0,i.default)((e=>{let{vcardList:t}=e;return t?t.map((e=>(0,r.default)((0,r.default)({},e),{},{parsedVcard:(0,u.parseVcard)(e.vcard)}))):[]})),[]);(0,d.useImperativeHandle)(t,(()=>({getRef:Z})),[Z]);const te=Q.safe();if(null!=te.asViewOnce){const e=te.asViewOnce;return(0,z.jsx)(Y.default,{displayType:a,displayAuthor:n,mediaData:e.mediaData,msg:e,quotedMsg:J(),ref:$,trusted:Q.isTrusted()})}switch(te.type){case l.MSG_TYPE.NATIVE_FLOW:return(0,z.jsx)(k.default,{msg:(0,F.unproxy)(te),displayAuthor:n,displayType:a});case l.MSG_TYPE.CHAT:case l.MSG_TYPE.LIST_RESPONSE:case l.MSG_TYPE.BUTTONS_RESPONSE:return(0,z.jsx)(U.default,{msg:(0,F.unproxy)(te),contact:te.senderObj,quotedMsg:J(),trusted:te.isTrusted(),displayType:a,displayAuthor:n});case l.MSG_TYPE.IMAGE:return(0,z.jsx)(I.default,{msg:te,displayType:a,mediaData:te.mediaData,ref:$,quotedMsg:J(),maxWidth:e.maxWidth,isMsgVisible:K,trusted:te.isTrusted(),displayAuthor:n});case l.MSG_TYPE.PRODUCT:return(0,z.jsx)(N.default,{msg:te,displayAuthor:n,trusted:te.isTrusted(),onProductClick:e.onProductClick,quotedMsg:J()});case l.MSG_TYPE.GROUP_NOTIFICATION:case l.MSG_TYPE.GP2:return(0,z.jsx)(v.default,{msg:te,ref:$,clickable:!0});case l.MSG_TYPE.BROADCAST_NOTIFICATION:return(0,z.jsx)(p.default,{msg:te,ref:$,clickable:!0});case l.MSG_TYPE.NOTIFICATION:case l.MSG_TYPE.NOTIFICATION_TEMPLATE:case l.MSG_TYPE.E2E_NOTIFICATION:case l.MSG_TYPE.CALL_LOG:return(0,z.jsx)(w.default,{contact:(0,F.unproxy)(X).contact,msg:te,ref:$});case l.MSG_TYPE.AUDIO:return(0,z.jsx)(h.default,{msg:te,mediaData:te.mediaData,quotedMsg:J(),displayAuthor:n,displayType:a,ref:$});case l.MSG_TYPE.VIDEO:return!0===te.isGif?(0,z.jsx)(_.WrappedGif,{displayAuthor:n,displayType:a,isMsgVisible:K,maxWidth:e.maxWidth,mediaData:te.mediaData,msg:te,quotedMsg:J(),ref:$,trusted:te.isTrusted()}):(0,z.jsx)(q.default,{displayAuthor:n,displayType:a,hover:e.hover,msg:te,quotedMsg:J(),ref:$,trusted:te.isTrusted()});case l.MSG_TYPE.VCARD:return(0,z.jsx)(W.default,{msg:te,vcard:te.vcard,quotedMsg:J(),displayType:a,displayAuthor:n,onMessageClick:e.onMessageClick});case l.MSG_TYPE.MULTI_VCARD:return(0,z.jsx)(M.default,{msg:te,vcardList:ee({vcardList:Q.vcardList}),ref:$,quotedMsg:J(),displayType:a,displayAuthor:n});case l.MSG_TYPE.GROUPS_V4_INVITE:return(0,z.jsx)(b.default,{msg:te,ref:$,displayAuthor:n});case l.MSG_TYPE.LOCATION:return!0===te.isLive?(0,z.jsx)(E.LiveLocation,{msg:(0,F.unproxy)(te),ref:$,quotedMsg:J(),trusted:te.isTrusted(),displayAuthor:n}):(0,z.jsx)(x.Location,{msg:(0,F.unproxy)(te),ref:$,quotedMsg:J(),trusted:te.isTrusted(),displayAuthor:n});case l.MSG_TYPE.PAYMENT:return(0,z.jsx)(j.default,{msg:te,ref:$,quotedMsg:J(),displayAuthor:n});case l.MSG_TYPE.PTT:return(0,z.jsx)(R.default,{msg:te,mediaData:te.mediaData,quotedMsg:J(),displayAuthor:n,displayType:a,ref:$,getSequentialMsg:e.getSequentialMsg});case l.MSG_TYPE.POLL_CREATION:return(0,s.isPollsReceivingEnabled)()?(0,z.jsx)(O.default,{msg:te,displayAuthor:!0}):(0,z.jsx)(V.default,{msg:te,displayAuthor:n,hideUpdateButton:!0});case l.MSG_TYPE.STICKER:return(0,z.jsx)(G.default,{msg:te,mediaData:te.mediaData,quotedMsg:J(),displayAuthor:n,position:e.position,forwardRef:e.forwardStickerRef,displayType:a,animateOnView:!0});case l.MSG_TYPE.DOCUMENT:return Q.isVcardOverMmsDocument?(0,z.jsx)(H.default,{chat:X,msg:te,mediaData:Q.mediaData,displayAuthor:n,displayType:a,getQuotedMsg:()=>J(),onMessageClick:e.onMessageClick}):(0,z.jsx)(g.default,{msg:te,displayType:a,ref:$,quotedMsg:J(),trusted:te.isTrusted(),displayAuthor:n});case l.MSG_TYPE.UNKNOWN:return(0,z.jsx)(V.default,{msg:(0,F.unproxy)(te),displayAuthor:n,hideUpdateButton:"phone_only_feature"===te.subtype});case l.MSG_TYPE.CIPHERTEXT:return(0,z.jsx)(m.default,{msg:te,ref:$,displayAuthor:n});case l.MSG_TYPE.REVOKED:return $.current=null,(0,z.jsx)(B.default,{msg:(0,F.unproxy)(te)});case l.MSG_TYPE.OVERSIZED:return(0,z.jsx)(P.default,{msg:(0,F.unproxy)(te),displayAuthor:n});case l.MSG_TYPE.HSM:case l.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return(0,z.jsx)(U.default,{msg:(0,F.unproxy)(te),contact:te.senderObj,ref:$,quotedMsg:J(),trusted:te.isTrusted(),displayType:a,displayAuthor:n});case l.MSG_TYPE.PROTOCOL:return"ephemeral_setting"===Q.subtype?(0,z.jsx)(w.default,{contact:(0,F.unproxy)(X).contact,msg:te,ref:$}):(0,z.jsx)(V.default,{msg:(0,F.unproxy)(te),ref:$,displayAuthor:n});case l.MSG_TYPE.ORDER:return(0,z.jsx)(A.default,{displayAuthor:n,msg:(0,F.unproxy)(te)});case l.MSG_TYPE.LIST:if((0,T.listMsgCanRender)(te))return(0,z.jsx)(S.default,{msg:(0,F.unproxy)(te),displayAuthor:n});break;case l.MSG_TYPE.INTERACTIVE:return(0,z.jsx)(y.default,{msg:(0,F.unproxy)(te),quotedMsg:J(),displayAuthor:n,displayType:a});case l.MSG_TYPE.INTERACTIVE_RESPONSE:return(0,z.jsx)(C.default,{msg:(0,F.unproxy)(te),quotedMsg:J(),displayAuthor:n,displayType:a})}return __LOG__(2)`messageList:render Unknown message type: ${Q.type}`,(0,z.jsx)(V.default,{msg:(0,F.unproxy)(te),ref:$,displayAuthor:n})}));t.MsgComponent=K,K.displayName="MsgComponent"},99422:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=a(n(54703)),o=a(n(70813)),s=a(n(23217)),l=n(85893);var u=e=>{const t=e.hasCaption?e.children:(0,l.jsx)("div",{className:o.default.text,children:(0,l.jsx)(i.default,{msg:e.msg,theme:"placeholder",children:e.children})}),n=e.iconName?(0,l.jsx)("div",{className:o.default.icon,children:(0,l.jsx)(s.default,{name:e.iconName})}):null;return(0,l.jsxs)("div",{className:(0,r.default)(o.default.container,{[o.default.containerSmallIcon]:"small-icon"===e.theme}),children:[n,t]})};t.default=u},86806:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{currentTime:t,disabled:n,skipThumb:a,duration:d,onSeek:c,onSeekEnd:f,outgoing:h,played:p,waveform:m}=e,g=(0,r.useCallback)((()=>null!=t?t:0),[t]),_=(0,r.useCallback)((()=>Array.from(m).map((e=>e/100))),[m]),v=(0,r.useCallback)((()=>d),[d]);return(0,s.jsx)("div",{className:(0,i.default)(l),children:(0,s.jsx)(o.Waveform,{location:u(h,p),sampleRate:6,getSamples:_,getCurrentTime:g,getDuration:v,live:!1,mode:o.WaveformMode.PREVIEW,onSeek:c,onSeekEnd:f,disabled:n,skipThumb:a})})};var r=n(67294),i=a(n(56720)),o=n(89470),s=n(85893);const l={display:"p357zi0d",height:"bmot90v7"};function u(e,t){switch(e){case!0:return t?o.WaveformLocation.OUTGOING_PLAYED_MESSAGE:o.WaveformLocation.OUTGOING_UNPLAYED_MESSAGE;case!1:return t?o.WaveformLocation.INCOMING_PLAYED_MESSAGE:o.WaveformLocation.INCOMING_UNPLAYED_MESSAGE}}},68272:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{emojis:t,animation:n}=e;const a=t?t.length:0;if(0===a)return null;let l;switch(a){default:case 3:l=r.SIZE.MEDIUM;break;case 2:l=r.SIZE.LARGE;break;case 1:l=r.SIZE.XLARGE}const u=t.map(((e,t)=>(0,s.jsx)(r.LargeEmoji,{animation:n,size:l,emoji:e,selectable:!0},e+t)));return(0,s.jsx)(o.SelectableDiv,{selectable:!0,className:i.default.wrapper,children:u})};var r=n(73770),i=a(n(92957)),o=n(52596),s=n(85893)},85851:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(18446)),i=a(n(82594)),o=n(13959),s=n(5177),l=n(14597),u=n(93778),d=n(48360),c=n(67294),f=a(n(56720)),h=a(n(72655)),p=a(n(58286)),m=n(65417),g=a(n(14296)),_=n(42316),v=a(n(69238)),b=a(n(87543)),y=n(82039),C=a(n(65932)),S=n(85893);const E={vcard:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",height:"k45dudtp",marginStart:"oz0g9ue8",marginEnd:"bugiwsl0"},author:{borderBottom:"j4zbmt6h",marginBottom:"ngycyvoj",paddingBottom:"bxcbqipq"},authorWithQuote:{borderBottom:"thn59n0e",marginBottom:"mpdn4nr2"},avatar:{flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",marginEnd:"b021xdil"},body:{flexShrink:"m0h2a7mj",flexGrow:"ggj6brxn",flexBasis:"lb5m6g5c",maxHeight:"djhxrpsl",overflowX:"gfz4du6o",overflowY:"r7fjleex"},bubble:{boxSizing:"cm280p3y",paddingTop:"n1yiu2zv",paddingEnd:"atp9n7ve",paddingBottom:"oq31bsqd",paddingStart:"e1yunedv",width:"m3h9lho3"},galleryBubble:{maxWidth:"ktbp76dp",width:"ln8gz9je"},previewBubble:{maxWidth:"ktbp76dp",width:"ln8gz9je"},image:{position:"g0rxnol2",zIndex:"mb8var44",display:"l7jjieqr"},image2:{zIndex:"s5lidh1j",marginStart:"sxwtddgj"},image3:{zIndex:"jevcxcag",marginStart:"sxwtddgj"},meta:{bottom:"pgz13gmm",position:"lhggkp7q",end:"s7jcu7x1"},name:{color:"k2bacm8l",fontSize:"f8jlpxt4",fontWeight:"sy6s5v3r",lineHeight:"e4qy2s3t",textAlign:"ljrqcn24"},quote:{marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"njub1g37",marginStart:"heai6z19"},quoteWithAuthor:{marginTop:"tt8xd2xn"},emoji:{verticalAlign:"mr0xwlll"}};class x extends c.PureComponent{constructor(e){super(e),this._showContactsModal=()=>{const{vcardList:e}=this.props;if(e){const t=e.map((e=>e.parsedVcard));l.ModalManager.open((0,S.jsx)(v.default,{vcards:t}))}},this._getUnsortedVcardDisplayDataMemo=(0,i.default)((e=>{let{vcardList:t}=e;return t.map((e=>{let{displayName:t,parsedVcard:n}=e;return{displayName:t,wids:(0,u.vcardWids)(n),thumbnail:(0,u.vcardThumbnail)(n)}}))})),this.state={loading:!0,sortedVcardData:null,vcardList:e.vcardList}}static getDerivedStateFromProps(e,t){return(0,r.default)(t.vcardList,e.vcardList)?null:{loading:!0,sortedVcardData:null,vcardList:e.vcardList}}_getUnsortedVcardDisplayData(){return this._getUnsortedVcardDisplayDataMemo({vcardList:this.props.vcardList})}_loadProfilePics(){const e=this.props.vcardList,t=this._getUnsortedVcardDisplayData(),n=[].concat(...t.map((e=>{let{wids:t}=e;return t}))).slice(0,10);Promise.all(n.map((e=>y.ProfilePicThumbCollection.find(e)))).then((()=>(0,o.delayMs)(0))).then((()=>{var n;this.props.vcardList===e&&this.setState({loading:!1,sortedVcardData:(n=t,[...n].sort(((e,t)=>{const n=M(e),a=M(t);return n&&!a?-1:!n&&a?1:e.displayName.toString()<t.displayName.toString()?-1:e.displayName.toString()>t.displayName.toString()?1:0})))})}))}componentDidMount(){this._loadProfilePics()}componentDidUpdate(e){e.vcardList!==this.props.vcardList&&this._loadProfilePics()}_renderProfilePics(e){const t=Math.min(e.length,3),n=[];for(let a=0;a<t;a++){const{wids:t,thumbnail:r}=e[a],i=y.ProfilePicThumbCollection.findThumbnailWid(t),o=(0,f.default)(E.image,1===a&&E.image2,2===a&&E.image3);this.state.loading||!i&&!r?n.push((0,S.jsx)("div",{className:o,children:(0,S.jsx)(b.default,{size:39,border:!0})},`default-pic-${a}`)):n.push((0,S.jsx)("div",{className:o,children:(0,S.jsx)(b.default,{wid:i,thumb:r,size:39,border:!0})},`profile-pic-${a}`))}return n}render(){const{msg:e}=this.props,t=this.props.displayAuthor?(0,S.jsx)("div",{className:(0,f.default)(E.author,this.props.quotedMsg&&E.authorWithQuote),children:(0,S.jsx)(h.default,{msg:e,contact:e.senderObj})}):null,n=this.state.sortedVcardData||this._getUnsortedVcardDisplayData(),a=n.map((e=>{let{displayName:t}=e;return t})),r=(0,u.getNameStringFromNames)(a),i=this._renderProfilePics(n),o=this.props.vcardList||e.chat.isTrusted(),l=this.props.quotedMsg?(0,S.jsx)("div",{className:(0,f.default)(E.quote,t&&E.quoteWithAuthor),children:this.props.quotedMsg}):null,c=(0,f.default)(E.bubble,this.props.displayType===s.DISPLAY_TYPE.MSG_INFO&&E.previewBubble,(this.props.displayType===s.DISPLAY_TYPE.STARRED_MSGS||this.props.displayType===s.DISPLAY_TYPE.GALLERY||this.props.displayType===s.DISPLAY_TYPE.CONTACT_CARD)&&E.galleryBubble);return(0,S.jsxs)("div",{className:c,children:[t,l,(0,S.jsxs)("div",{className:(0,f.default)(E.vcard),role:o?"button":null,title:r,onClick:this._showContactsModal,children:[(0,S.jsx)("div",{className:(0,f.default)(E.avatar),children:i}),(0,S.jsx)("div",{className:(0,f.default)(E.body),children:(0,S.jsx)(m.EmojiText,{text:r,element:"div",xstyle:E.name,emojiXstyle:E.emoji,dirMismatch:e.rtl!==g.default.isRTL(),direction:e.dir,wbr:15})}),(0,S.jsx)("div",{className:(0,f.default)(E.meta),children:(0,S.jsx)(_.Meta,{msg:e})})]}),(0,S.jsx)(p.default,{items:[{label:d.fbt._("View all",null,{hk:"2NeQbo"}),onClick:this._showContactsModal}]})]})}}x.CONCERNS={msg:["rtl","dir","senderObj","isSentByMe","isGroupMsg","chat"]},x.displayName="MultiVcard";var T=(0,C.default)(x,x.CONCERNS);function M(e){return Boolean(y.ProfilePicThumbCollection.findThumbnailWid(e.wids)||e.thumbnail)}t.default=T},30946:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,n,{msg:a,displayAuthor:v,displayType:b}=e;if(a.nativeFlowName===c.default.ORDER_DETAILS){const e=(0,h.getOrderInfo)(a),r=null!=e&&(0,p.findOrderStatus)(a.chat,null==e?void 0:e.referenceId)===p.OrderStatus.Pending;if(t=(0,g.jsx)("div",{className:(0,o.default)(_.headerSpacing),children:(0,g.jsx)(f.default,{msg:a,displayType:b})}),n=[{label:r?i.fbt._("Review and Pay",null,{hk:"aJwEg"}):i.fbt._("View details",null,{hk:"4Ah4bt"}),onClick:()=>(0,m.default)({title:i.fbt._("Orders can’t be viewed on WhatsApp Web",null,{hk:"2rWINs"}),body:i.fbt._("Use WhatsApp on your mobile device to view this order.",null,{hk:"2FMFfW"})})}],!a.isSentByMe){const t=(0,l.getQuickPayAction)(a,null==e?void 0:e.type,!r);t&&n.push(t)}}else if(a.nativeFlowName===c.default.ORDER_STATUS)t=(0,g.jsx)("div",{className:(0,o.default)(_.headerSpacing),children:(0,g.jsx)(f.default,{msg:a,displayType:b})});else{var y;t=a.title?(0,g.jsx)(s.EmojiText,{text:a.title,selectable:a.isTrusted(),direction:a.dir,dirMismatch:a.rtl!==d.default.isRTL(),inferLinesDirection:!0,xstyle:[r.uiMargin.bottom6,_.headerTitle]}):null,n=null===(y=a.nativeFlowButtons)||void 0===y?void 0:y.map((e=>{var t,n;return{label:null!==(t=null===(n=e.buttonText)||void 0===n?void 0:n.displayText)&&void 0!==t?t:"",onClick:()=>(0,m.default)()}}))}return(0,g.jsx)(u.default,{msg:a,displayAuthor:v,displayFooter:a.nativeFlowName!==c.default.ORDER_STATUS,header:t,displayType:b,actions:n})};var r=n(28298),i=n(48360),o=a(n(56720)),s=n(65417),l=n(33444),u=a(n(41381)),d=a(n(14296)),c=a(n(5165)),f=a(n(96251)),h=n(34841),p=n(88998),m=a(n(56635)),g=n(85893);const _={headerSpacing:{marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"ngycyvoj",marginStart:"heai6z19"},headerTitle:{fontSize:"bze30y65",fontWeight:"hnx8ox4h"}}},81624:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{amount:t,quantity:n,orderId:a,thumbnail:p,text:m,isSentByMe:g,xstyle:_,numberOfItems:v}=e;return(0,f.jsxs)(s.FlexColumn,{xstyle:[h.header,r.uiPadding.top6,r.uiPadding.bottom8,r.uiPadding.horiz8,g?h.bubbleOut:h.bubbleIn,_],children:[(0,f.jsx)(d.TextDiv,{color:"secondary",weight:"medium",xstyle:h.orderId,size:"10",children:l.default.t(539,{order:a})}),(0,f.jsx)("div",{className:(0,o.default)(h.hr,r.uiMargin.top4,r.uiMargin.bottom8)}),(0,f.jsxs)(s.FlexRow,{align:"center",className:(0,o.default)(h.orderInfoWrapper),children:[p?(0,f.jsx)("div",{className:(0,o.default)(h.media,r.uiMargin.end8),style:{backgroundImage:`url(${p})`}}):null,(0,f.jsxs)("div",{className:(0,o.default)(h.orderInfo),children:[(0,f.jsx)(c.default,{maxLines:1,children:m}),(0,f.jsx)(d.TextParagraph,{size:"12",color:"secondary",children:(0,u.getOrderDetailItemLabel)(v,n)})]})]}),(0,f.jsx)("div",{className:(0,o.default)(h.hr,r.uiMargin.vert8)}),(0,f.jsxs)(s.FlexRow,{xstyle:h.total,justify:"all",children:[(0,f.jsx)(d.TextParagraph,{size:"15",children:i.fbt._("Total",null,{hk:"1692RT"})}),(0,f.jsx)(d.TextParagraph,{size:"15",weight:"medium",children:t})]})]})};var r=n(28298),i=n(48360),o=a(n(56720)),s=n(29623),l=a(n(14296)),u=n(30699),d=n(13923),c=a(n(71688)),f=n(85893);const h={header:{boxSizing:"cm280p3y",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf"},bubbleIn:{backgroundColor:"rrq4r3yd"},bubbleOut:{backgroundColor:"s0eflmyh"},orderId:{textTransform:"ofejerhi",letterSpacing:"nlxcpvin",lineHeight:"hzeshm6i"},orderInfo:{overflowX:"gfz4du6o",overflowY:"r7fjleex"},orderInfoWrapper:{width:"ln8gz9je"},hr:{width:"ln8gz9je",borderTop:"g0j88qvc"},media:{minWidth:"nucpke6t",height:"m3o1wsh7",maxHeight:"ibyb1pgl",backgroundPosition:"t3g6t33p",backgroundSize:"qnwaluaf",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},total:{width:"ln8gz9je"}}},16785:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(73679),i=n(81572),o=n(41455),s=n(14597),l=n(15461),u=a(n(89867)),d=n(45454),c=n(62054),f=n(48360),h=n(67294),p=a(n(56720)),m=n(35461),g=n(72345),_=n(69951),v=n(19380),b=a(n(43250)),y=a(n(4061)),C=n(10081),S=n(65417),E=a(n(49763)),x=a(n(81412)),T=a(n(58688)),M=n(26722),k=a(n(64650)),w=a(n(14296)),A=n(41566),P=a(n(11339)),j=a(n(39992)),I=a(n(70666)),O=a(n(32162)),N=n(33210),R=n(18146),D=a(n(23217)),L=n(85893);const B={icon:{display:"l7jjieqr",marginEnd:"mw4yctpw",verticalAlign:"mr0xwlll"},iconE2EIconSupportGroupbizInfo:{display:"l7jjieqr",marginTop:"qt60bha0",marginEnd:"mw4yctpw",verticalAlign:"fewfhwl7"},iconE2EColor:{color:"kzrzzy77"},notificationInfoIconColor:{color:"m35p33ho"},iconMissColor:{color:"mvxzr2tb"}};function F(e,t){(0,m.useOptionalModelValues)(e.contact,["id","isEnterprise","isContactBlocked","verifiedLevel","verifiedName"]);const n=(0,h.useRef)(null),a=(0,m.useModelValues)(e.msg,["id","body","chat","from","type","subtype","templateParams","ephemeralDuration"]),F=()=>{var e;null===(e=n.current)||void 0===e||e.click()};let G,V,W,H;switch((0,h.useImperativeHandle)(t,(()=>({handleKeyActivation:F}))),a.type){case l.MSG_TYPE.NOTIFICATION:V=a.body;break;case l.MSG_TYPE.E2E_NOTIFICATION:const e=(0,R.unproxy)(a);V=(0,x.default)(e);const t=a.subtype,n=a.body?(0,d.createWid)(a.body):null,h=a.id.remote;H=()=>{!function(e,t,n,a){if("e2e_identity_unavailable"===e)return;if("encrypt"===e&&(0,A.isPrivacyNarrativeV1Enabled)()&&(0,N.shouldShowNewE2eInfoModal)(null==a?void 0:a.chat)){const e=(0,N.securityUrl)();return void s.ModalManager.open((0,L.jsx)(C.E2eInfoModalV2,{highlightSurface:(0,N.getHighlightSurfaceForGoldenBox)(n),url:e}))}const r="encrypt"===e?(0,N.getHighlightSurfaceForGoldenBox)(n):void 0;s.ModalManager.open((0,L.jsx)(y.default,{highlightSurface:r,e2eSubtype:e,jid:t,chatId:n,msg:a}))}(t,n,h,a)},G=function(e){if("encrypt"===e.subtype&&(0,r.isSupportGroupOrSupportAdmin)(e.chat))return(0,L.jsx)("div",{className:(0,p.default)(B.iconE2EIconSupportGroupbizInfo,B.notificationInfoIconColor),children:(0,L.jsx)(D.default,{name:"info-filled",width:12,height:15})});if("encrypt"===e.subtype||"encrypt_now"===e.subtype)return(0,L.jsx)("div",{className:(0,p.default)(B.iconE2EIconSupportGroupbizInfo,B.iconE2EColor),children:(0,L.jsx)(D.default,{name:"lock-small"})})}(e);break;case l.MSG_TYPE.CALL_LOG:const m="miss_video"===a.subtype||"miss_group_video"===a.subtype;G=(0,L.jsx)("div",{className:(0,p.default)(B.icon),children:m?(0,L.jsx)(D.default,{name:"miss_video",xstyle:B.iconMissColor}):(0,L.jsx)(D.default,{name:"miss",xstyle:B.iconMissColor})}),V=(0,E.default)((0,R.unproxy)(a.unsafe()),!0);break;case l.MSG_TYPE.NOTIFICATION_TEMPLATE:if("change_number"===a.subtype){const e=a.templateParams[0],t=a.templateParams[1],n=v.ContactCollection.get(e),r=(null==n?void 0:n.isMyContact)?n.formattedName:(0,c.widToFormattedUser)(e),i=u.default.equals(a.chat.id,e);V=i?f.fbt._("{name} changed their phone number to a new number. Click to message the new number.",[f.fbt._param("name",r)],{hk:"2H91y3"}):f.fbt._("{name} changed their phone number. You're currently chatting with their new number.",[f.fbt._param("name",r)],{hk:"3G9LoK"}),i&&(H=()=>function(e,t){(0,g.onChangeNumberNotificationClick)(e,t)}(t,e))}else if(V=(0,k.default)((0,R.unproxy)(a.unsafe())),"disappearing_mode"===a.subtype)H=()=>{(0,A.isDefaultDisappearingMessagesEnabled)()?o.DrawerManager.openDrawerLeft((0,L.jsx)(b.default,{onClose:()=>o.DrawerManager.closeDrawerLeft(),entryPoint:P.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.SYSTEM_MESSAGE})):(0,I.default)()},G=(0,L.jsx)("div",{className:(0,p.default)(B.icon),children:(0,L.jsx)(D.default,{name:"disappearing",width:16,height:16})});else if(W=(0,M.formatNotificationTemplateModalText)((0,R.unproxy)(a.unsafe())),null!=W){const e=(0,j.default)(a.subtype);H=()=>{(0,O.default)(W,e)}}Y=a.type,z=a.subtype,Y===l.MSG_TYPE.NOTIFICATION_TEMPLATE&&U.has(z)&&(G=(0,L.jsx)("div",{className:(0,p.default)(B.iconE2EIconSupportGroupbizInfo,B.notificationInfoIconColor),children:(0,L.jsx)(D.default,{name:"info-filled",width:12,height:15})}));break;case l.MSG_TYPE.PROTOCOL:if("ephemeral_setting"===a.subtype){var q;const e=a.from,t=a.id.remote,n=_.ChatCollection.gadd(t),r=null!==(q=a.ephemeralDuration)&&void 0!==q?q:0;V=(0,T.default)(r,e,t),H=()=>{!function(e){i.Cmd.ephemeralDrawer(e,!1,P.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.SYSTEM_MESSAGE)}(n)},G=(0,L.jsx)("div",{className:(0,p.default)(B.icon),children:(0,L.jsx)(D.default,{name:"disappearing",width:16,height:16})})}}var Y,z;const K=(0,L.jsxs)("span",{children:[G,(0,L.jsx)(S.EmojiText,{direction:w.default.isRTL()?"rtl":"ltr",text:V})]});return H?(0,L.jsx)("div",{role:"button",ref:n,onClick:H,children:K}):(0,L.jsx)("span",{children:K})}var G=(0,h.forwardRef)(F);t.default=G;const U=new Set(["blue_msg_bsp_fb_unverified","blue_msg_bsp_fb_verified","blue_msg_bsp_premise_unverified","blue_msg_bsp_premise_verified","blue_msg_self_fb_unverified","blue_msg_self_fb_verified","biz_privacy_mode_init_fb","biz_privacy_mode_init_bsp","biz_privacy_mode_to_fb","biz_privacy_mode_to_bsp"])},70666:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,s.jsx)(o.default,{onOK:()=>r.ModalManager.close(),okText:i.fbt._("Close",null,{hk:"19Jpec"}),children:i.fbt._("Setting your default message timer from web/desktop is not yet available. You can set this timer from your mobile device by going to Settings > Privacy > Disappearing messages.",null,{hk:"1ChROe"})});r.ModalManager.open(e)};var r=n(14597),i=n(48360),o=a(n(52665)),s=n(85893)},32162:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const a=(0,c.jsx)(o.default,{href:t,onClick:e=>{e.preventDefault(),r.ModalManager.close("none"),setTimeout((()=>(0,l.openExternalLink)(t)),10)},children:null!=n?n:u.default.t(397)}),f=(0,c.jsxs)(s.default,{onOK:()=>r.ModalManager.close(),okText:i.fbt._("OK",null,{hk:"2KEeHb"}),type:d.ModalTheme.Multiline,children:[e," ",a]});r.ModalManager.open(f)};var r=n(14597),i=n(48360),o=a(n(99360)),s=a(n(52665)),l=n(12591),u=a(n(14296)),d=n(57224),c=n(85893)},41826:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayAuthor:n}=e;return(0,u.jsxs)(l.default,{msg:t,displayAuthor:n,children:[(0,u.jsx)("div",{className:(0,r.default)(d),children:(0,u.jsx)(s.default,{name:"unknown"})}),(0,u.jsx)("div",{className:(0,r.default)(c),children:(0,u.jsx)(o.default,{msg:t.unsafe(),theme:"placeholder",children:(0,i.default)(t.unsafe())})})]})};var r=a(n(56720)),i=a(n(57130)),o=a(n(54703)),s=a(n(23217)),l=a(n(12209)),u=n(85893);const d={display:"l7jjieqr",float:"kpdgp91a",marginRight:"efjhou1r",color:"o3jcrxmo"},c={marginTop:"kiiy14zj",marginLeft:"aga1he8v"}},16369:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.formatAmount1000ToParts)(e.currency,e.amount1000);return(0,s.jsxs)("div",{className:(0,r.default)(o.default.amount,{[o.default.isQuoted]:e.isQuoted}),children:[(0,s.jsx)("span",{className:o.default.amountCurrency,children:t.symbol}),(0,s.jsx)("span",{className:o.default.amountInteger,children:t.integer}),(0,s.jsx)("span",{className:o.default.amountDecimal,children:t.decimal})]})};var r=a(n(94184)),i=n(39519),o=a(n(65450)),s=n(85893)},31729:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,l.useState)(),[a,m]=(0,l.useState)(),v=function(){var t=(0,r.default)((function*(){if(!e.background)return;const{background:t}=e;if(yield(0,s.detectWebpSupport)()){const e=yield _(t);null!=e&&n(e)}else{const e=yield(0,c.getPaymentMessageBackgroundImageBuffer)(t),{id:n=""}=t;if(e){g.has(n)||g.set(n,yield(0,u.default)(e));const t=g.get(n);t&&m(t)}}}));return function(){return t.apply(this,arguments)}}();(0,l.useEffect)((()=>{(0,i.paymentBackgroundEnabled)()?v():__LOG__(3)`Payment backgrounds support not enabled`}),[]);const b=(0,i.paymentBackgroundEnabled)()?((e,t,n)=>{if(!e)return null;const a=p(e.placeholderArgb),r=p(e.textArgb);if(null!=a&&null!=r){const i={backgroundColor:a,color:r};return i.backgroundColor=a,null!=n&&(i.backgroundImage=`url(${n})`),!0!==t&&(null!=e.width&&(i.minWidth=e.width),null!=e.height&&(i.minHeight=e.height)),i}return null})(e.background,e.isQuoted,t):null;return(0,h.jsx)("div",{className:(0,o.default)(d.default.container,{[d.default.isQuoted]:e.isQuoted,[d.default.isQuotedInComposeBox]:e.isQuotedInComposeBox}),children:(0,h.jsxs)("div",{"data-testid":"payment-background-thumb",className:(0,o.default)(d.default.thumb,{"bg-payments":!e.isQuoted},d.default.backgroundContainer),style:b,children:[(0,h.jsx)("div",{className:d.default.foregroundData,children:e.children}),a&&(0,h.jsx)(f.default,{rgbaBuffer:a.rgbaBuffer,height:a.height,width:a.width,className:d.default.rgbaCanvas})]})})};var r=a(n(48926)),i=n(8139),o=a(n(94184)),s=n(61498),l=n(67294),u=a(n(93915)),d=a(n(70955)),c=n(23094),f=a(n(61146)),h=n(85893);const p=e=>null==e?null:`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${e>>24&255})`,m=new Map,g=new Map,_=function(){var e=(0,r.default)((function*(e){if(null==e.id)return __LOG__(4,void 0,new Error,!0)`Payment background does not have a Id`,void SEND_LOGS("Payment background does not have a Id");const{id:t}=e;if(m.has(t))return m.get(t);const n=yield(0,c.getPaymentMessageBackgroundImageBuffer)(e);if(!n)return;const a=new Blob([n],{type:"image/webp"});if(!a)return;const r=window.URL.createObjectURL(a);return m.set(t,r),r}));return function(){return e.apply(this,arguments)}}()},43309:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{currency:t,subtype:n,paymentStatus:a,paymentTxnStatus:d,isCompact:c}=e;const f=(0,i.formatLocalSymbol)(t),h=null!=d?function(e){switch(null!=e?e:l.PaymentInfoTxnStatus.UNKNOWN){case l.PaymentInfoTxnStatus.SUCCESS:case l.PaymentInfoTxnStatus.COMPLETED:return o.default.success;case l.PaymentInfoTxnStatus.FAILED:case l.PaymentInfoTxnStatus.FAILED_RISK:case l.PaymentInfoTxnStatus.FAILED_DA_FINAL:case l.PaymentInfoTxnStatus.REFUNDED_TXN:case l.PaymentInfoTxnStatus.REFUND_FAILED:case l.PaymentInfoTxnStatus.REFUND_FAILED_PROCESSING:case l.PaymentInfoTxnStatus.REFUND_FAILED_DA:case l.PaymentInfoTxnStatus.AUTH_CANCELED:case l.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED_PROCESSING:case l.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED:case l.PaymentInfoTxnStatus.COLLECT_FAILED:case l.PaymentInfoTxnStatus.COLLECT_FAILED_RISK:return o.default.failed;default:return o.default.pending}}(d):function(e){switch(null!=e?e:l.PaymentInfoStatus.UNKNOWN_STATUS){case l.PaymentInfoStatus.COMPLETE:return o.default.success;case l.PaymentInfoStatus.CANCELLED:case l.PaymentInfoStatus.COULD_NOT_COMPLETE:case l.PaymentInfoStatus.REFUNDED:case l.PaymentInfoStatus.EXPIRED:case l.PaymentInfoStatus.REJECTED:return o.default.failed;default:return o.default.pending}}(a),p="send"===n?(0,u.jsx)(s.default,{name:"payment-send"}):(0,u.jsx)(s.default,{name:"payment-request"});return(0,u.jsxs)("div",{"data-testid":"payment-icon-container",className:(0,r.default)(o.default.icon,h,{[o.default.compact]:c}),children:[(0,u.jsx)("div",{className:(0,r.default)(o.default.iconSymbol,o.default[t]),children:f}),p]})};var r=a(n(94184)),i=n(39519),o=a(n(74789)),s=a(n(23217)),l=n(21224),u=n(85893)},15292:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;const{paymentStatus:a,paymentTxnStatus:g,expiryTimestamp:_}=e,[v,b]=(0,i.useState)(!1),y=e=>{e&&b(e.getBoundingClientRect().height>20)},C=(0,r.default)({[u.default.bubbleOut]:e.isSentByMe,[u.default.bubbleIn]:!e.isSentByMe}),S=null!=g&&g!==p.PaymentInfoTxnStatus.UNKNOWN||null!=a&&a!==p.PaymentInfoStatus.UNKNOWN_STATUS;let E;if(e.hasCaption)E=(0,m.jsxs)("div",{ref:y,children:[(0,m.jsx)("div",{children:(0,m.jsx)(f.default,{subtype:e.subtype,receiverJid:e.receiverJid})}),(0,m.jsx)(c.default,{paymentStatus:a,paymentTxnStatus:g,expiryTimestamp:_})]});else if(S){var x;E=(0,m.jsxs)("div",{ref:y,children:[(0,m.jsx)("div",{children:(0,m.jsx)(f.default,{subtype:e.subtype,receiverJid:e.receiverJid})}),(0,m.jsx)(h.default,{msg:null===(x=e.msg)||void 0===x?void 0:x.unsafe(),children:(0,m.jsx)(c.default,{paymentStatus:a,paymentTxnStatus:g,expiryTimestamp:_})})]})}else{var T;E=(0,m.jsx)(h.default,{msg:null===(T=e.msg)||void 0===T?void 0:T.unsafe(),children:(0,m.jsx)("span",{ref:y,children:(0,m.jsx)(f.default,{subtype:e.subtype,receiverJid:e.receiverJid})})})}return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)(s.default,{background:null===(t=e.msg)||void 0===t?void 0:t.paymentBackground,children:(0,m.jsx)(o.default,{currency:e.currency,amount1000:e.amount1000})}),(0,m.jsxs)("div",{className:u.default.body,children:[(0,m.jsx)("div",{className:(0,r.default)(u.default.bodyIcon,{[u.default.bodyIconMultiline]:v}),children:(0,m.jsx)(l.default,{currency:e.currency,subtype:e.subtype,paymentStatus:a,paymentTxnStatus:g})}),(0,m.jsx)("div",{className:u.default.bodyText,children:E})]}),(null===(n=e.msg)||void 0===n?void 0:n.paymentNoteMsg)?(0,m.jsx)(d.default,{msg:e.msg}):null]})};var r=a(n(94184)),i=n(67294),o=a(n(16369)),s=a(n(31729)),l=a(n(43309)),u=a(n(91215)),d=a(n(49073)),c=a(n(64557)),f=a(n(74066)),h=a(n(21595)),p=n(21224),m=n(85893)},49073:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e;if(t.paymentNoteMsg&&t.paymentNoteMsg.type===r.MSG_TYPE.STICKER){const e=t.paymentNoteMsg;if(e){const t=new o.StickerModel({id:e.filehash,mimetype:e.mimetype,width:e.width,height:e.height,filehash:e.filehash,encFilehash:e.encFilehash,directPath:e.directPath,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,deprecatedMms3Url:e.deprecatedMms3Url});return(0,l.jsx)("div",{className:(0,i.default)(u),children:(0,l.jsx)(s.default,{sticker:t})})}}return null};var r=n(15461),i=a(n(56720)),o=n(99718),s=a(n(52146)),l=n(85893);const u={alignSelf:"o2es7gts",textAlign:"qfejxiq4"}},64557:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,n,{paymentStatus:a,paymentTxnStatus:i,expiryTimestamp:l}=e;(function(){const e=(0,d.default)();(0,c.default)(e,1e3,{immediate:!0})})(),({str:t,themeClassName:n}=null!=i?function(e,t){let n=null,a=null;if(null!=e)switch(e){case h.PaymentInfoTxnStatus.UNKNOWN:n=null,a=null;break;case h.PaymentInfoTxnStatus.PENDING_SETUP:n=g(t),a="pending";break;case h.PaymentInfoTxnStatus.PENDING_RECEIVER_SETUP:case h.PaymentInfoTxnStatus.COLLECT_INIT:n=s.fbt._("Pending",null,{hk:"1bHrjJ"}),a="pending";break;case h.PaymentInfoTxnStatus.INIT:case h.PaymentInfoTxnStatus.FAILED_PROCESSING:case h.PaymentInfoTxnStatus.FAILED_RECEIVER_PROCESSING:case h.PaymentInfoTxnStatus.FAILED_DA:n=s.fbt._("Processing",null,{hk:"1K7bOb"}),a="pending";break;case h.PaymentInfoTxnStatus.SUCCESS:case h.PaymentInfoTxnStatus.COMPLETED:n=s.fbt._("Completed",null,{hk:"1q50Hp"}),a="success";break;case h.PaymentInfoTxnStatus.FAILED:case h.PaymentInfoTxnStatus.FAILED_RISK:case h.PaymentInfoTxnStatus.FAILED_DA_FINAL:case h.PaymentInfoTxnStatus.REFUNDED_TXN:case h.PaymentInfoTxnStatus.REFUND_FAILED:case h.PaymentInfoTxnStatus.REFUND_FAILED_PROCESSING:case h.PaymentInfoTxnStatus.REFUND_FAILED_DA:case h.PaymentInfoTxnStatus.AUTH_CANCELED:case h.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED_PROCESSING:case h.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED:case h.PaymentInfoTxnStatus.COLLECT_FAILED:case h.PaymentInfoTxnStatus.COLLECT_FAILED_RISK:case h.PaymentInfoTxnStatus.REVERSAL_SUCCESS:case h.PaymentInfoTxnStatus.REVERSAL_PENDING:case h.PaymentInfoTxnStatus.REFUND_PENDING:n=s.fbt._("Failed",null,{hk:"3NoLR4"}),a="failed";break;case h.PaymentInfoTxnStatus.EXPIRED_TXN:case h.PaymentInfoTxnStatus.COLLECT_EXPIRED:n=s.fbt._("Expired",null,{hk:"4AFoGy"}),a="pending";break;case h.PaymentInfoTxnStatus.COLLECT_SUCCESS:n=g(t),a="pending";break;case h.PaymentInfoTxnStatus.COLLECT_REJECTED:n=s.fbt._("Declined",null,{hk:"3g28V2"}),a="pending";break;case h.PaymentInfoTxnStatus.COLLECT_CANCELED:case h.PaymentInfoTxnStatus.COLLECT_CANCELLING:n=s.fbt._("Canceled",null,{hk:"EomV7"}),a="pending";break;case h.PaymentInfoTxnStatus.IN_REVIEW:n=s.fbt._("In Review",null,{hk:"2JCNVS"}),a="pending"}return{str:n,themeClassName:a}}(i,l):function(e,t){let n=null,a=null;if(null!=e)switch(e){case h.PaymentInfoStatus.PROCESSING:n=s.fbt._("Processing",null,{hk:"1K7bOb"}),a="pending";break;case h.PaymentInfoStatus.COMPLETE:n=s.fbt._("Completed",null,{hk:"1q50Hp"}),a="success";break;case h.PaymentInfoStatus.SENT:n=s.fbt._("Pending",null,{hk:"1bHrjJ"}),a="pending";break;case h.PaymentInfoStatus.NEED_TO_ACCEPT:n=g(t),a="pending";break;case h.PaymentInfoStatus.COULD_NOT_COMPLETE:case h.PaymentInfoStatus.REFUNDED:n=s.fbt._("Failed",null,{hk:"3NoLR4"}),a="failed";break;case h.PaymentInfoStatus.EXPIRED:n=s.fbt._("Expired",null,{hk:"4AFoGy"}),a="failed";break;case h.PaymentInfoStatus.REJECTED:n=s.fbt._("Declined",null,{hk:"3g28V2"}),a="failed";break;case h.PaymentInfoStatus.CANCELLED:n=s.fbt._("Canceled",null,{hk:"EomV7"}),a="failed";break;case h.PaymentInfoStatus.WAITING_FOR_PAYER:case h.PaymentInfoStatus.WAITING:n=g(t),a="pending";break;case h.PaymentInfoStatus.UNKNOWN_STATUS:n=null,a=null}return{str:n,themeClassName:a}}(a,l));if(null==t)return null;const f=!!n&&m[n];return(0,p.jsx)("span",{"data-testid":"payment-status","data-a8n":r.default.key(n),className:(0,u.default)(m.status,o.hasEdgeFix&&m.statusEdgeFix,f),children:t})};var r=a(n(99964)),i=n(40234),o=n(77144),s=n(48360),l=a(n(30381)),u=a(n(56720)),d=a(n(59312)),c=a(n(70393)),f=a(n(14296)),h=n(21224),p=n(85893);const m={status:{fontWeight:"hnx8ox4h"},statusEdgeFix:{fontWeight:"sy6s5v3r"},failed:{color:"g0bfn8tw"},pending:{color:"de33c33s"},success:{color:"hb09shpw"}};function g(e){if(null==e)return s.fbt._("Pending",null,{hk:"1bHrjJ"});const t=1e3*i.Clock.globalUnixTime(),n=1e3*e;if(n-t>6e4){const e=(0,l.default)(t).to((0,l.default)(n));return f.default.t(814,{timeSpan:e})}return n-t>0?s.fbt._("Pending (expires in less than 1 minute)",null,{hk:"2GaCP1"}):s.fbt._("Pending (expiring)",null,{hk:"2YLDil"})}},74066:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;if("invite"===e.subtype&&e.msgKey)t=(0,l.formatPaymentInviteMessageText)(e.msgKey);else if("send"===e.subtype){const n=h(e.receiverJid);null!=n&&(t=(0,f.jsx)(u.default,{id:813,params:{receiverName:n}}))}else if("request"===e.subtype){const n=h(e.receiverJid);null!=n&&(t=(0,f.jsx)(u.default,{id:806,params:{receiverName:n}}))}return t?(0,f.jsx)("span",{className:(0,i.default)(c.default.container,{[c.default.isQuoted]:e.isQuoted}),children:t}):null};var r=n(62054),i=a(n(94184)),o=n(48360),s=n(19380),l=n(2177),u=a(n(56074)),d=n(12176),c=a(n(66802)),f=n(85893);function h(e){if(!e)return null;const t=s.ContactCollection.get(e);return(0,f.jsx)("span",{className:c.default.name,children:t?t.isMe?o.fbt._("You",null,{hk:"3cspS5"}):(0,f.jsx)(d.Name,{contact:t,showNotifyName:!0}):(0,r.widToFormattedUser)(e)})}},54806:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{displayAuthor:t,displayType:n,quotedMsg:a}=e,f=(0,o.useModelValues)(e.msg,["paymentAmount1000","paymentCurrency","id","isSentByMe","paymentNoteMsg","paymentStatus","paymentTxnStatus","paymentExpiryTimestamp","paymentInviteServiceType","paymentMessageReceiverJid","paymentBackground","subtype"]);if(!r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.PAYMENTS))return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:n,quotedMsg:a});{var h;const e=!!(null===(h=f.paymentNoteMsg)||void 0===h?void 0:h.body);if("invite"===f.subtype&&null!=f.paymentInviteServiceType)return(0,c.jsx)(l.default,{msg:f,displayAuthor:t,displayType:n,serviceType:f.paymentInviteServiceType});if(!(f.paymentAmount1000&&f.paymentCurrency))return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:n,quotedMsg:a});const r=(0,c.jsx)(s.default,{isSentByMe:f.isSentByMe,currency:f.paymentCurrency,amount1000:f.paymentAmount1000,receiverJid:f.paymentMessageReceiverJid,paymentStatus:f.paymentStatus,paymentTxnStatus:f.paymentTxnStatus,expiryTimestamp:f.paymentExpiryTimestamp,subtype:f.subtype,hasCaption:e,msg:f});switch(f.subtype){case"ciphertext":return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:n,quotedMsg:a,paymentInfo:r,placeholderText:i.fbt._("Waiting for this payment message's note. This may take a while.",null,{hk:"4EzoLe"})});case"futureproof":return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:n,quotedMsg:a,paymentInfo:r,placeholderText:i.fbt._("This payment message has a note but your version of WhatsApp doesn't support viewing it.",null,{hk:"2rWw9k"})});case"send":case"request":return(0,c.jsx)(d.default,{msg:f,displayAuthor:t,displayType:n,quotedMsg:a,paymentInfo:r});default:return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:n,quotedMsg:a})}}};var r=n(38184),i=n(48360),o=n(35461),s=a(n(15292)),l=a(n(82230)),u=a(n(81076)),d=a(n(86123)),c=n(85893)},82230:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useModelValues)(e.msg,["rtl","dir","isSentByMe","paymentInviteServiceType","isGroupMsg","isPSA","senderObj","paymentNoteMsg","id","to","from"]),n=(0,r.default)({[f.default.bubbleOut]:t.isSentByMe,[f.default.bubbleIn]:!t.isSentByMe}),a=(0,h.jsx)("div",{className:f.default.caption,children:(0,h.jsx)(c.default,{msg:t.unsafe(),children:(0,h.jsx)(s.EmojiText,{text:(0,l.formatPaymentInviteMessageText)(t.id),selectable:!0,dirMismatch:t.rtl!==u.default.isRTL(),direction:t.dir})})});return(0,h.jsx)(d.default,{displayAuthor:e.displayAuthor,displayType:e.displayType,hasCaption:!!a,msg:t,children:(0,h.jsxs)("div",{className:n,children:[(0,h.jsx)("div",{className:(0,r.default)(f.default.inviteBackground,"bg-payments"),children:(0,h.jsx)("div",{className:(0,r.default)(f.default.inviteImage,p(t.paymentInviteServiceType))})}),(0,h.jsx)("div",{className:f.default.body,children:(0,h.jsx)("div",{className:f.default.bodyText,children:a})})]})})};var r=a(n(94184)),i=n(35461),o=n(24808),s=n(65417),l=n(2177),u=a(n(14296)),d=a(n(1238)),c=a(n(54703)),f=a(n(59417)),h=n(85893);const p=e=>{if(null==e)return"";switch(e){case o.Message$PaymentInviteMessageServiceType.UPI:return"payments-invite-upi";default:return""}}},81076:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const n=(0,o.useModelValues)(e.msg,["rtl","dir","isSentByMe","isGroupMsg","isPSA","senderObj","paymentNoteMsg"]);let a;const g=null===(t=n.paymentNoteMsg)||void 0===t?void 0:t.body;if(g){const e=(0,s.Conversation)({mentions:n.mentionMap(),links:n.getLinks(),phoneNumbers:n.getPhoneNumbers(),trusted:n.isTrusted(),fromMe:n.id.fromMe});a=(0,m.jsx)(d.default,{msg:n.unsafe(),children:(0,m.jsx)(l.EmojiText,{text:g,selectable:!0,formatters:e,dirMismatch:n.rtl!==u.default.isRTL(),direction:n.dir})})}let _,v;if(e.quotedMsg){const t=(0,r.default)(h.default.quote,{[h.default.hasAuthor]:e.displayAuthor,[h.default.forwarded]:(0,f.showForwarded)(n)});_=(0,m.jsx)("div",{className:t,children:e.quotedMsg})}let b=i.fbt._("Payment message • Amount unavailable",null,{hk:"3SAp3h"});e.placeholderText&&(v="ciphertext",b=e.placeholderText);const y=(0,r.default)({[h.default.hasText]:a,[h.default.noText]:!a});return(0,m.jsxs)(p.default,{msg:n,displayAuthor:e.displayAuthor,children:[_,e.paymentInfo,(0,m.jsx)("div",{className:y,children:(0,m.jsx)(c.default,{hasCaption:!!a,iconName:v,msg:n.unsafe(),children:b})}),a]})};var r=a(n(94184)),i=n(48360),o=n(35461),s=n(74331),l=n(65417),u=a(n(14296)),d=a(n(54703)),c=a(n(99422)),f=n(63132),h=a(n(13651)),p=a(n(12209)),m=n(85893)},74790:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(64331),i=a(n(99964)),o=n(81572),s=a(n(64369)),l=n(5177),u=n(14597),d=n(15461),c=a(n(94184)),f=n(67294),h=a(n(56720)),p=n(35461),m=a(n(72655)),g=a(n(85559)),_=a(n(6725)),v=n(21504),b=a(n(11740)),y=a(n(14703)),C=n(29565),S=a(n(20668)),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(41124)),x=n(58668),T=a(n(20553)),M=n(42316),k=a(n(11339)),w=n(63132),A=a(n(34949)),P=a(n(75315)),j=n(18146),I=a(n(95839)),O=a(n(2749)),N=n(85893);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function D(e){e.stopPropagation()}const L={bubble:{boxSizing:"cm280p3y",maxWidth:"f4q7vbcz",paddingTop:"ocd2b0bc",paddingEnd:"folpon7g",paddingBottom:"aa0kojfi",paddingStart:"snweb893",position:"g0rxnol2",zIndex:"jnl3jror"},bubbleAlumb:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"},bubblePortrait:{maxWidth:"kbtdaxqp"},bubblePreview:{maxWidth:"laorhtua"},thumbBody:{transition:"jciay5ix",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c"},thumbBodyPreview:{filter:"fsmudgz7"},ctwaContext:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"kzyzudjh",marginStart:"svoq16ka"},author:{paddingBottom:"bxcbqipq",paddingStart:"mhcwslh8",paddingTop:"ocd2b0bc"},authorForwared:{paddingBottom:"przvwfww"},forwardedIndicator:{paddingTop:"ocd2b0bc",paddingEnd:"f9ovudaz",paddingBottom:"aa0kojfi",paddingStart:"mhcwslh8"},forwardedIndicatorHasAuthor:{paddingTop:"i5tg98hk"},overlay:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",maxWidth:"tthqcax0",position:"g0rxnol2","::before":{background:"rnzbggcn",borderTopStartRadius:"gaz0s4oj",borderTopEndRadius:"faao65il",borderBottomEndRadius:"o9exb5zn",borderBottomStartRadius:"bl44g9bl",content:"ckfn5qle",height:"flcm9zni",position:"jiaumjzp",width:"evuypb09",zIndex:"dgw4ccbq"}},overlayAlbumText:{alignItems:"gndfcl4n",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf",cursor:"ajgl1lbb",display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",justifyContent:"ac2vgrno",maxWidth:"tthqcax0",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2"},meta:{bottom:"dpkuihx7",position:"lhggkp7q",end:"j2mzdvlq",zIndex:"b9fczbqn"},metaHasCaption:{end:"fz4q5utg",bottom:"lrw9n60e"},metaAlbum:{end:"en6yos0k",bottom:"lrw9n60e"},caption:{boxSizing:"cm280p3y",maxWidth:"cbjz30lg",paddingTop:"esbfogcw",paddingEnd:"jfqm35v0",paddingBottom:"bxcbqipq",paddingStart:"mhcwslh8"},captionPortrait:{maxWidth:"r1vzeywj"},captionPSA:{paddingBottom:"l5xxxszt"},quote:{boxSizing:"cm280p3y",marginBottom:"kzyzudjh",maxWidth:"cbjz30lg"},quotePortrait:{maxWidth:"r1vzeywj"},thumb:{alignItems:"gndfcl4n",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf",cursor:"ajgl1lbb",display:"p357zi0d",justifyContent:"ac2vgrno",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2"},thumbAlbum:{maxHeight:"fgslzg21",minHeight:"ofrvpfun",position:"g0rxnol2"},thumbGallery:{maxHeight:"tvsw1x19"}};function B(e){let{isPreview:t=!1,imgRef:n,mediaData:a,caption:r,bubbleWidth:i,bubbleHeight:o,src:s}=e;const{fullHeight:l,fullWidth:u}=a,d=(0,h.default)(L.thumbBody,t&&L.thumbBodyPreview),c=(0,v.getImgStyle)(u||i,l||o,i,o);return(0,N.jsx)("img",{alt:r,src:s,className:d,style:c,ref:n})}function F(e){let{imgRef:t,mediaData:n,bubbleWidth:a,bubbleHeight:r,caption:i}=e;return(0,N.jsx)(B,{imgRef:t,mediaData:n,caption:i,bubbleWidth:a,bubbleHeight:r,isPreview:!0,src:n.preview instanceof A.default?n.preview.url():null})}function G(e,t){var n;const{contentContainerClassName:a,captionComponent:A,thumbClassName:R,onThumbClick:G,theme:U,overlayContent:V,displayType:W,displayAuthor:H,isMsgVisible:q,albumMsgs:Y,zoomMsg:z,hideMeta:K,maxWidth:$}=e,Q=(0,f.useRef)(null),X=(0,p.useModelValues)(e.msg,["ack","caption","dir","footer","isFromTemplate","id","isFailed","isGroupMsg","isPSA","isSentByMe","rtl","senderObj","type","supportsMessageFooter","text"]),J=(0,p.useModelValues)(e.mediaData,["aspectRatio","preview","mediaStage","fullWidth","fullHeight","size","progressiveStage"]),Z=()=>X.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:k.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1});(0,f.useEffect)((()=>{Z()}),[]);const ee=()=>{u.ModalManager.open((0,N.jsx)(S.default,{msg:X.unsafe()}))},te=e=>{if(!q)return null;const t=q(e);return t?t.getImgNode&&t.getImgNode():null},ne=()=>{X.forceDownloadMediaEvenIfExpensive()},ae=()=>{X.cancelDownload()},re=()=>{X.cancelUpload()},ie=()=>{X.resumeUpload()},oe=()=>{X.resumeRemoteUpload()},se=()=>X.type===d.MSG_TYPE.IMAGE&&X.caption?X.caption:void 0,le=()=>Q.current;(0,f.useImperativeHandle)(t,(()=>({getImgNode:le})));const ue=e=>{if(e&&e.stopPropagation(),U===C.DisplayTheme.Album){const e=new Set((Y||[]).map((e=>e.id.toString())));o.Cmd.mediaViewerModal({msg:(0,j.unproxy)((z||X).unsafe()),getZoomNode:te,highlightedMsgIds:e})}else o.Cmd.mediaViewerModal({msg:(0,j.unproxy)(X.unsafe()),getZoomNode:te})},de=(0,r.numCodepoints)(null!==(n=X.text)&&void 0!==n?n:"")>s.default.MAX_PORTRAIT_MEDIA_CAPTION_LENGTH,{bubbleWidth:ce,bubbleHeight:fe}=(0,v.getBubbleDimension)(X.type,X.isFromTemplate,J.aspectRatio,U,W,de,$),he=se(),pe=he?null:(0,N.jsx)(O.default,{}),me=ce<fe&&(0,v.canUseCustomCropping)(X.type,U,W),ge=he?(0,N.jsx)("div",{className:(0,h.default)(L.caption,me&&L.captionPortrait,X.isPSA&&L.captionPSA),children:(0,N.jsx)(_.default,{msg:X.unsafe(),trusted:e.trusted,spacer:!(X.supportsMessageFooter&&X.footer)})}):null;let _e=null,ve=null;if(null!=V)ve=G||ue;else{const{mediaStage:e,progressiveStage:t}=J;switch(e){case x.MEDIA_DATA_STAGE.RESOLVED:case x.MEDIA_DATA_STAGE.PROGRESSIVE_READY:ve=G||ue;break;case x.MEDIA_DATA_STAGE.FETCHING:_e=(0,N.jsx)(E.Pending,{cancelable:!0}),ve=ae;break;case x.MEDIA_DATA_STAGE.INIT:case x.MEDIA_DATA_STAGE.EXISTS:case x.MEDIA_DATA_STAGE.NEED_POKE:_e=(0,N.jsx)(E.Download,{filesize:J.size}),ve=ne;break;case x.MEDIA_DATA_STAGE.UPLOADING:case x.MEDIA_DATA_STAGE.FINALIZING:case x.MEDIA_DATA_STAGE.REUPLOADING:_e=(0,N.jsx)(E.Pending,{cancelable:!0}),ve=re;break;case x.MEDIA_DATA_STAGE.NEED_UPLOAD:_e=(0,N.jsx)(E.Upload,{filesize:J.size}),ve=ie;break;case x.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:_e=(0,N.jsx)(E.Upload,{filesize:J.size}),ve=oe;break;case x.MEDIA_DATA_STAGE.ERROR_MISSING:ve=G||ee;break;case x.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:_e=(0,N.jsx)(E.Download,{filesize:J.size}),ve=G||ue;break;case x.MEDIA_DATA_STAGE.SENDING:X.isFailed||(_e=(0,N.jsx)(E.Pending,{}));break;case x.MEDIA_DATA_STAGE.DECRYPTING:null==t&&(_e=(0,N.jsx)(E.Pending,{cancelable:!0}));break;case x.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:__LOG__(4,void 0,new Error,!0)`Images should be copied in memory when selected`,SEND_LOGS("media-image-not-readable-error"),ve=P.default;break;case x.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case x.MEDIA_DATA_STAGE.PREPARING:case x.MEDIA_DATA_STAGE.REMOTE_UPLOADING:_e=(0,N.jsx)(E.Pending,{})}}const be=(0,w.showForwarded)(X)&&e.theme!==C.DisplayTheme.Album,ye=U===C.DisplayTheme.Album,Ce=(0,h.default)(L.bubble,me&&L.bubblePortrait,ye&&L.bubbleAlumb),Se=e.displayType===l.DISPLAY_TYPE.MSG_INFO||e.displayType===l.DISPLAY_TYPE.STARRED_MSGS,Ee=(0,c.default)(Ce,(0,h.default)(Se&&L.bubblePreview)),xe=H?(0,N.jsx)("div",{className:(0,h.default)(L.author,be&&L.authorForwared),children:(0,N.jsx)(m.default,{msg:X,contact:X.senderObj})}):null,Te=be?(0,N.jsx)(y.default,{msg:X.unsafe(),className:(0,h.default)(L.forwardedIndicator,H&&L.forwardedIndicatorHasAuthor)}):null,Me=e.quotedMsg?(0,N.jsx)("div",{className:(0,h.default)(L.quote,me&&L.quotePortrait),children:e.quotedMsg}):null,ke=e.displayType===l.DISPLAY_TYPE.GALLERY,we=(0,h.default)(L.thumb,Boolean(V)&&L.overlay,ye&&L.thumbAlbum,ke&&L.thumbGallery);let Ae;null!=V||K||(Ae=(0,N.jsx)("div",{className:(0,h.default)(L.meta,Boolean(he)&&L.metaHasCaption,ye&&L.metaAlbum),children:(0,N.jsx)(M.Meta,{msg:X})}));let Pe=(0,N.jsxs)("div",{className:a,children:[xe,Te,Me,(0,N.jsx)(b.default,{msg:X.unsafe(),wrapperClass:(0,h.default)(L.ctwaContext)}),(0,N.jsxs)("div",{role:"button","data-a8n":i.default.key("image-thumb"),className:R||we,onClick:ve,style:{width:ce,height:fe},children:[_e,(0,N.jsx)(T.default,{mediaData:J,placeholderRenderer:()=>(0,N.jsx)(F,{imgRef:Q,mediaData:J,caption:se(),bubbleWidth:ce,bubbleHeight:fe}),downloadMedia:Z,renderProgressively:!0,children:(e,t)=>(0,N.jsx)(B,{isPreview:t,imgRef:Q,mediaData:J,caption:se(),bubbleWidth:ce,bubbleHeight:fe,src:e})}),pe]}),A||ge,(0,N.jsx)(I.default,{dir:X.dir,footer:X.footer,isShown:X.supportsMessageFooter,msg:X.unsafe(),rtl:X.rtl,trusted:e.trusted,type:X.type}),Ae]});return ge?(0,N.jsx)(g.default,{contact:X.senderObj,msg:X.unsafe(),className:Ee,onClick:D,children:Pe}):(null!=V&&(Pe=(0,N.jsxs)("div",{className:(0,h.default)(L.overlayAlbumText),children:[Pe,V]})),(0,N.jsx)("div",{className:Ee,onClick:D,children:Pe}))}var U=(0,f.forwardRef)(G);t.default=U},19218:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{playbackRate:t,onClick:n}=e,a=()=>{s.PttPrefs.delayClearPlaybackRateControl(),n()};return(0,l.jsx)("div",{role:"button","aria-hidden":!0,className:(0,o.default)(u),tabIndex:"0",onClick:a,onKeyPress:e=>{e.key!==r.KEYBOARD_EVENT_KEY_VALUE.ENTER&&e.key!==r.KEYBOARD_EVENT_KEY_VALUE.SPACE||(e.preventDefault(),e.stopPropagation(),a())},children:(0,l.jsx)("div",{className:(0,o.default)(d),children:c(t)})})};var r=n(38069),i=n(48360),o=a(n(56720)),s=n(56989),l=n(85893);const u={position:"lhggkp7q",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",userSelect:"rkxvyd19"},d={boxSizing:"cm280p3y",minWidth:"nucpke6t",paddingTop:"ppypbuwx",paddingEnd:"lnjlmjd6",paddingBottom:"s8gyl5p1",paddingStart:"mc6o24uu",fontSize:"ovllcyds",fontWeight:"hnx8ox4h",color:"kuml4n87",textAlign:"qfejxiq4",backgroundColor:"pbzwqulz",borderTopStartRadius:"oer0kere",borderTopEndRadius:"ikqwvqb4",borderBottomEndRadius:"afb5cxhb",borderBottomStartRadius:"nlio6qai",transform:"etdxpurf"};function c(e){switch(e){case 1:return i.fbt._("1×",null,{hk:"P4fmA"});case 1.5:return i.fbt._("1.5×",null,{hk:"6zgHM"});case 2:return i.fbt._("2×",null,{hk:"4wp8yT"})}}},19639:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayAuthor:n,trusted:a,displayType:u,quotedMsg:m}=e;const P=o.fbt._("Vote",null,{hk:"CD9tF"}),I=o.fbt._("Change vote",null,{hk:"2w0LE7"}),{pollName:O}=(0,c.useModelValues)(t,["pollName"]),N=(0,k.usePollResults)(t),R=function(e){const{id:t}=(0,c.useModelValues)(e,["id"]),n=E.PollVoteCollection.getForParent(t);return(0,d.default)(n,"add remove reset",(()=>n.toArray())).some((t=>t.pollCreationMsgKey.equals(e.id)&&t.senderObj.id.equals((0,i.getMeUser)())))}(t),[D,L]=(0,s.useState)(R),[B,F]=(0,s.useState)(!R),[G,U]=(0,s.useState)((()=>new Set));D!==R&&(L(R),F(!R));const V=O.slice(0,500),W=(0,f.default)();return(0,w.jsx)(M.default,{msg:t,displayType:u,displayAuthor:n,hideMeta:!0,useFixedWidth:t.isDynamicReplyButtonsMsg,children:(0,w.jsxs)(p.default,{contact:t.senderObj,msg:t.unsafe(),xstyle:R&&!B?A.cursor:void 0,onClick:R&&!B?e=>{e.isDefaultPrevented()||r.DrawerManager.openDrawerRight((0,w.jsx)(S.PollDetailsFlow,{msg:t},t.id.toString()),"slide-left",W)}:void 0,children:[!t.ctwaContext&&(0,w.jsx)(T.SuspiciousLabel,{msg:t.unsafe(),displayType:u}),(0,w.jsxs)(y.default,{msg:t.unsafe(),spacer:!0,"data-id":t.id,children:[(0,w.jsx)(v.default,{text:V,textLimit:t.initialPageSize,children:e=>{let{textLimit:n}=e;const r=(0,g.Conversation)({mentions:t.mentionMap(),links:t.getLinks(n),phoneNumbers:t.getPhoneNumbers(n),selectable:true,trusted:!0===a,fromMe:t.id.fromMe});return(0,w.jsx)(_.EmojiText,{text:V,dirMismatch:t.rtl!==b.default.isRTL(),direction:t.dir,inferLinesDirection:!0,formatters:r,selectable:true,textLimit:n})}}),(0,w.jsx)("div",{className:(0,l.default)(A.meta),children:(0,w.jsx)(C.Meta,{msg:t})})]}),(0,w.jsx)(j,{msg:t,options:N,checkedOptionLocalIds:G,isVoting:B,onOptionToggle:e=>{U((t=>{const n=new Set(t);return t.has(e)?n.delete(e):n.add(e),n}))}}),(0,w.jsx)(h.default,{items:[B?{label:P,onClick:e=>{e.preventDefault(),(0,x.sendVote)(t,G)},title:P,disabled:0===G.size}:{label:I,onClick:e=>{F(!0),e.preventDefault()},title:I}]})]})})};var r=n(41455),i=n(78820),o=n(48360),s=n(67294),l=a(n(56720)),u=n(71946),d=a(n(96570)),c=n(35461),f=a(n(95402)),h=a(n(58286)),p=a(n(85559)),m=n(16593),g=n(74331),_=n(65417),v=a(n(17080)),b=a(n(14296)),y=a(n(54703)),C=n(42316),S=n(53991),E=n(90585),x=n(30871),T=n(7538),M=a(n(12209)),k=n(81409),w=n(85893);const A={meta:{position:"lhggkp7q",end:"ebjesfe0",bottom:"pgz13gmm"},cursor:{cursor:"ajgl1lbb"}};const P={marginTop:"opp68qpq",paddingTop:"emrlamx0",borderTop:"ei53l81b"};function j(e){let{msg:t,options:n,checkedOptionLocalIds:a,isVoting:r,onOptionToggle:i}=e;const o=0===t.pollSelectableOptionsCount?t.pollOptions.length:t.pollSelectableOptionsCount;return(0,w.jsx)("div",{className:(0,l.default)(P),children:Array.from(n.entries()).map(((e,n)=>{let[s,l]=e;const u=a.has(s.localId);return(0,w.jsx)(O,{msg:t,option:s,result:l,index:n,onOptionToggle:i,checked:u,selectable:u||a.size<o,isVoting:r},n)}))})}const I={optionRowContainer:{width:"ln8gz9je",height:"epwkujcx",display:"p357zi0d",alignItems:"gndfcl4n",paddingTop:"qomlamqu",paddingBottom:"bxcbqipq"},nonFirstOptionRowContainer:{marginTop:"hw1jvu6y"},checkBoxContainer:{marginStart:"akljc1zx",marginEnd:"spjzgwxb",height:"ppled2lx"},rightContainer:{width:"ln8gz9je",height:"ppled2lx"},top:{display:"p357zi0d"},voteCountContainer:{minWidth:"c59meja3",textAlign:"e65innqk",marginStart:"isfiuinm"},voteCount:{fontSize:"dsh4tgtl"},option:{marginStart:"p3lsiedt"}};function O(e){let{msg:t,option:n,result:a,index:r,checked:i,selectable:o,isVoting:s,onOptionToggle:d}=e;const{name:c,localId:f}=n,{isVotedForByMe:h,votes:p}=a,g=0===(v=p.length)?"":v>=1e3?`${(v/1e3).toFixed(1)}K`:`${v}`;var v;const b=`${t.id.toString()}-option-${f}`,y=(0,u.useElectronTextSize)();return(0,w.jsxs)("div",{className:(0,l.default)(I.optionRowContainer,0!==r&&I.nonFirstOptionRowContainer),children:[s&&(0,w.jsx)("div",{className:(0,l.default)(I.checkBoxContainer),children:(0,w.jsx)(m.CheckBox,{checked:i,id:b,disabled:!o,onChange:()=>{d(f)}})}),(0,w.jsxs)("div",{className:(0,l.default)(I.rightContainer),children:[(0,w.jsx)("label",{htmlFor:b,children:(0,w.jsxs)("div",{className:(0,l.default)(I.top),children:[(0,w.jsx)("div",{className:(0,l.default)(I.option,y),children:(0,w.jsx)(_.EmojiText,{text:h?`${c} ✔️`:c,selectable:!0})}),(0,w.jsx)("div",{className:(0,l.default)(I.voteCountContainer),children:(0,w.jsx)("span",{className:(0,l.default)(I.voteCount),children:g})})]})}),(0,w.jsx)(D,{result:a})]})]})}const N={width:"ln8gz9je",height:"gm0rsm7k",marginTop:"dj1c3cmq",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",backgroundColor:"e0dxy0tq",overflowX:"gfz4du6o",overflowY:"r7fjleex"},R={height:"ppled2lx",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",backgroundColor:"dobu07u5",transitionProperty:"sa467clc",transitionDuration:"p4t1lx4y"};function D(e){let{result:t}=e;const{percentageOfMostVotedForOption:n}=t;return(0,w.jsx)("div",{className:(0,l.default)(N),children:(0,w.jsx)("div",{className:(0,l.default)(R),style:{width:100*n+"%"}})})}},81409:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.usePollResults=function(e){const{id:t,pollOptions:n}=(0,l.useModelValues)(e,["id","pollOptions"]),a=u.PollVoteCollection.getForParent(t),d=(0,s.default)(a,"add remove reset",(()=>a.toArray()));return(0,o.useMemo)((()=>function(e,t){const n=new Map,a=(0,i.getMeUser)();let o=0,s=0;for(const e of t)n.set(e,{isVotedForByMe:!1,percentageOfAll:0,percentageOfMostVotedForOption:0,votes:[]});for(const i of e)for(const e of i.selectedOptionLocalIds){const l=t[e],u=(0,r.default)(n.get(l),`Option with local ID ${e} not found`);u.votes.push(i),o=Math.max(o,u.votes.length),s+=1,i.senderObj.id.equals(a)&&(u.isVotedForByMe=!0)}for(const e of n.values())e.percentageOfMostVotedForOption=0===o?0:e.votes.length/o,e.percentageOfAll=0===s?0:e.votes.length/s;return n}(d,n)),[d,n])};var r=a(n(45095)),i=n(78820),o=n(67294),s=a(n(96570)),l=n(35461),u=(n(88258),n(90585))},87543:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{theme:t,wid:n}=e,[a,m]=(0,o.useState)(null),[g,_]=(0,o.useState)(null),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(e.img)},b=(0,l.default)();if((0,o.useEffect)((()=>{n&&f.ProfilePicThumbCollection.find(n).then((e=>(0,r.delayMs)(0).then((()=>e)))).then((e=>{b.aborted||(_(e),v(e))})).catch((()=>{}))}),[]),(0,s.useListener)(g,"change:img",v),a&&e.wid)return(0,p.jsx)(u.DetailImage,{id:e.wid,quoted:e.quoted,size:e.size,shape:e.shape,border:e.border});let y;y="number"==typeof e.size&&0!==e.size||"number"!=typeof e.size&&null!=e.size?e.size:u.DetailImageSize.Small;const C=(0,u.getSize)(y)||void 0,S=e.thumbs?e.thumbs:[e.thumb],E=S.map(((t,n)=>{if(t)return(0,p.jsx)("img",{className:c.default.image,src:t,alt:""},n);const a=C&&C/(S.length>2&&n>0?2:1);return(0,p.jsx)(d.FlexRow,{className:c.default.default,justify:"center",align:"center",children:(0,p.jsx)(h.default,{name:e.quoted?"default-user-square":"default-user",style:{width:a,height:a},className:c.default.icon})},n)}));let x;x=1===E.length?E[0]:2===E.length?(0,p.jsxs)(d.FlexRow,{className:c.default.row,justify:"stretch",align:"stretch",children:[E[0],E[1]]}):(0,p.jsxs)(d.FlexRow,{className:c.default.row,justify:"stretch",align:"stretch",children:[E[0],(0,p.jsxs)(d.FlexColumn,{className:c.default.col,justify:"stretch",align:"stretch",children:[E[1],E[2]]})]});return(0,p.jsx)(d.FlexRow,{className:(0,i.default)(c.default.container,{[c.default.square]:e.shape===u.DetailImageShape.Square,[c.default.hasBorder]:e.border,[c.default.hasInnerBorder]:"voip"===t||"voip-dimmed"===t,[c.default.hasLargeInnerBorder]:"voip-large"===t||"voip-large-dimmed"===t,[c.default.dimmed]:"voip-dimmed"===t||"voip-large-dimmed"===t}),style:{width:C,height:C},children:x})};var r=n(13959),i=a(n(94184)),o=n(67294),s=n(87550),l=a(n(3409)),u=n(88984),d=n(29623),c=a(n(23766)),f=(n(93836),n(82039)),h=a(n(23217)),p=n(85893)},32570:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35470),i=n(67294),o=n(35461),s=a(n(90850)),l=a(n(1195)),u=a(n(72655)),d=n(88984),c=a(n(11339)),f=a(n(6507)),h=n(85893);const p=(e,t)=>{const n=(0,o.useModelValues)(e.msg,["ack","isSentByMe","senderObj","id"]),a=(0,i.useRef)(null);(0,i.useEffect)((()=>{e.msg.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:c.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[e.msg]),(0,i.useImperativeHandle)(t,(()=>({handleKeyActivation:e=>{var t;null===(t=a.current)||void 0===t||t.handleKeyActivation(e)}})));const p=e.displayAuthor?(0,h.jsx)(u.default,{msg:n,contact:n.senderObj}):null;return(0,h.jsx)(s.default,{msg:n,quotedMsg:e.quotedMsg,author:p,status:(0,h.jsx)(f.default,{played:n.ack===r.ACK.PLAYED,isSentByMe:n.isSentByMe}),player:(0,h.jsx)(l.default,{ref:a,msg:e.msg,mediaData:e.mediaData,displayType:e.displayType,getSequentialMsg:e.getSequentialMsg}),avatar:(0,h.jsx)(d.DetailImage,{id:n.senderObj.id,size:55}),displayType:e.displayType})};var m=(0,i.forwardRef)(p);t.default=m},98113:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.playEndPttTone=function(){u(l)},t.playMidPttTone=function(){u(s)};var r=n(72472),i=a(n(91720)),o=a(n(39181));const s=new window.Audio(o.default),l=new window.Audio(i.default);function u(e){r.MuteCollection.getGlobalSounds()&&e.play()}},6507:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.default)(l.icon,function(e){let{played:t,isSentByMe:n}=e;return t?l.blue:n?l.gray:l.green}(e),{[l.outgoing]:e.isSentByMe,[l.incoming]:!e.isSentByMe});return(0,s.jsx)("div",{className:i.default.wrapper,children:(0,s.jsx)("div",{className:t,children:(0,s.jsx)(o.default,{name:"ptt-status"})})})};var r=a(n(94184)),i=a(n(4947)),o=a(n(23217)),s=n(85893);const l={incoming:i.default.incoming,outgoing:i.default.outgoing,green:i.default.green,blue:i.default.blue,gray:i.default.gray,icon:i.default.icon}},20559:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,theme:n}=e,{type:a,productListHeaderImage:r}=(0,l.useModelValues)(t,["type","productListHeaderImage"]);if(t.isViewOnce)return null;let N;switch(t.type){case y:case C:case E:case M:const o=(0,c.isMediaTypeWithImage)(a),{preview:l,fullPreviewData:R}=t.mediaData;(o||null!=l||null!=R)&&(N=(0,v.jsx)(c.MediaMsgPreview,{mediaData:t.mediaData}));break;case j:if(t.headerType===d.Message$ButtonsMessageHeaderType.IMAGE){const{mediaData:e}=t;null==e.preview&&null==e.fullPreviewData||(N=(0,v.jsx)(c.MediaMsgPreview,{mediaData:e}))}break;case S:t.body&&(N=(0,v.jsx)(O,{source:t.body}));break;case b:t.thumbnail&&(N=(0,v.jsx)(O,{source:t.thumbnail}));break;case P:const{mediaType:D,thumbnail:L}=t.interactiveHeader||{};if(null!=D){const{mediaData:e}=t;null==e.preview&&null==e.fullPreviewData||(N=(0,v.jsx)(c.MediaMsgPreview,{mediaData:t.mediaData}))}else null!=L&&(N=(0,v.jsx)(O,{source:L}));break;case x:N=(0,v.jsx)(m.default,{wid:g.ProfilePicThumbCollection.getThumbnailWidFromVcard(t.vcard),thumb:(0,i.vcardThumbnail)(t.vcard),quoted:!0,shape:u.DetailImageShape.Square,size:I(e.theme)});break;case T:N=(0,v.jsx)(m.default,{size:I(e.theme),shape:u.DetailImageShape.Square,quoted:!0});break;case k:(0,s.isNonZeroNumber)(t.paymentAmount1000)&&t.paymentCurrency&&(N=(0,v.jsx)(p.default,{background:t.paymentBackground,isQuoted:!0,isQuotedInComposeBox:"composeBox"===n,children:(0,v.jsx)(h.default,{currency:t.paymentCurrency,amount1000:t.paymentAmount1000,isQuoted:!0})}));break;case w:t.thumbnail&&(N=(0,v.jsx)("div",{className:_.default.image,style:{backgroundImage:`url("data:image/jpeg;base64,${t.thumbnail}")`}}));break;case A:r&&(N=(0,v.jsx)("div",{className:_.default.image,style:{backgroundImage:`url("${(0,f.convertToDataURI)(r)}")`}}))}const R=(0,o.default)(_.default.imageWrapper,{[_.default.composeBox]:"composeBox"===n,[_.default.statusV3]:"statusV3"===n,[_.default.isPayment]:t.type===k});return N?(0,v.jsx)("div",{className:R,children:(0,v.jsx)("div",{className:_.default.msgImage,children:N})}):null};var r=n(15461),i=n(93778),o=a(n(94184)),s=n(29984),l=n(35461),u=n(88984),d=n(24808),c=n(63547),f=n(81309),h=a(n(16369)),p=a(n(31729)),m=a(n(87543)),g=n(82039),_=a(n(66076)),v=n(85893);const{CHAT:b,IMAGE:y,VIDEO:C,LOCATION:S,DOCUMENT:E,VCARD:x,MULTI_VCARD:T,PRODUCT:M,PAYMENT:k,ORDER:w,LIST:A,INTERACTIVE:P,NATIVE_FLOW:j}=r.MSG_TYPE;function I(e){return["conversation","starred","msgInfo"].includes(e)?58:79}function O(e){let{source:t}=e;return(0,v.jsx)("div",{"data-testid":"msgImage",style:{backgroundImage:`url(data:image/jpeg;base64,${t})`},className:_.default.image})}},35072:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,displayType:a,chat:F,rootMsg:G,composeQuotedMsgRemoteJid:U,t:V}=e,W=(0,y.default)(),H=(0,b.default)((()=>new P.ProductCatalogSession)),[q,Y]=(0,v.useState)(!1),z=!q&&!!G;(0,v.useEffect)((()=>{const e=t.asProductInquiry;if(null==e)return;e.businessOwnerJid&&(0,m.createWid)(e.businessOwnerJid)&&(null!=V&&(e.t=V),S.CatalogCollection.addMsgAsProduct((0,R.unproxy)(e.unsafe())))}),[]);const K=(0,l.getAssignedColor)(F,t.sender),$=[d.DISPLAY_TYPE.CONVERSATION,d.DISPLAY_TYPE.STARRED_MSGS].includes(a),Q=U||(null==G?void 0:G.quotedRemoteJid),X=$?"button":null,J=(0,B.jsx)(C.default,{msg:t,contact:t.senderObj,role:X,chat:F,displaySelf:(0,p.isMeAccount)(t.sender),quotedRemoteJid:Q,disableClick:!0}),Z=(0,g.default)(O.default.quotedMsg,{[O.default.statusV3QuotedMsg]:"statusV3"===e.theme,[O.default.composeBoxQuotedMsg]:"composeBox"===e.theme,[O.default.hover]:q}),ee=(0,B.jsxs)("div",{className:O.default.msgText,children:[J,(0,B.jsx)(N.default,{msg:t,theme:e.theme})]}),te=a===d.DISPLAY_TYPE.STARRED_MSGS?"starred":e.theme;return(0,B.jsx)("div",{"data-a8n":o.default.key("quotted-message"),className:O.default.container,onMouseOver:$?()=>{z&&Y(!0)}:null,onMouseEnter:$?()=>{z&&Y(!0)}:null,onMouseLeave:$?()=>{q&&Y(!1)}:null,children:(0,B.jsxs)("div",{className:Z,role:X,onClick:$?()=>{if(t.isStatusV3)return void(G&&G.isQuotedMsgAvailable?D.StatusV3Collection.find(t.sender).then((e=>{const{QuotedStatusV3FlowLoadable:a}=n(98633);f.ModalManager.openMedia((0,B.jsx)(a,{removeTopDrawer:!1,statusV3:e,msgKey:t.id,onMsgNotFound:()=>{G&&(G.isQuotedMsgAvailable=!1)}}),{transition:"quoted-status-v3-modal"})})):h.ToastManager.open((0,B.jsx)(L.Toast,{msg:_.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,L.genId)()})));if(null!=t.asProductInquiry)return(e=>{const t=e.businessOwnerJid&&(0,m.createWid)(e.businessOwnerJid);if(!t)return;const n=S.CatalogCollection.get(t);if(!n)return;const a=e.productId&&n.productCollection.get(e.productId),r=e.productId&&n.msgProductCollection.get(e.productId);if(!a&&!r)return;let i=r;if(a&&null!=V&&a.t>=V&&(i=a,r&&n.productCollection.remove(r)),!i)return;const o=(0,A.buildProductCatalogContext)(H.current,(0,E.getMaybeBizPlatformForLogging)(e.businessOwnerJid),k.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE);return(0,T.logProductInquiryClick)({product:(0,R.unproxy)(i),catalogContext:o}),(0,M.qplStartProductView)("Message"),c.DrawerManager.openDrawerRight((0,B.jsx)(j.ProductDetailsFlowLoadable,{product:i,chat:e.chat,refreshCarousel:!0}),"slide-left",W,o)})(t.asProductInquiry);if(G&&!G.isQuotedMsgAvailable)return void h.ToastManager.open((0,B.jsx)(L.Toast,{msg:x.default.t(467),id:(0,L.genId)()}));const e=t.id,a=t.chat,o=w.MsgCollection.get(e),l=a.getSearchContext(o||e,null==G?void 0:G.unsafe());l&&(l.slideToMsg=!0),u.Cmd.openChatAt(a,l).then((e=>{if(!e)return;const n=w.MsgCollection.get(t.id);n&&(0,i.delayMs)(500).then((()=>{u.Cmd.openMediaViewerForAlbumMedia((0,R.unproxy)(n))}))})),o||l.collection.loadAroundPromise.catch((0,r.filteredCatch)(s.E404,(()=>{const e=null==G?void 0:G.unsafe(),t=null==e?void 0:e.chat;null!=e&&null!=t&&u.Cmd.openChatAt(t,t.getSearchContext(e))})))}:null,children:[(0,B.jsx)("span",{className:(0,g.default)(`bg-color-${K}`,O.default.colorBar)}),(0,B.jsx)("div",{className:O.default.msgBody,dir:$?null:t.dir,children:ee}),(0,B.jsx)(I.default,{msg:t.unsafe(),theme:te})]})})};var r=n(50796),i=n(13959),o=a(n(99964)),s=n(92574),l=n(39814),u=n(81572),d=n(5177),c=n(41455),f=n(14597),h=n(94816),p=n(78820),m=n(45454),g=a(n(94184)),_=n(48360),v=n(67294),b=a(n(16223)),y=a(n(95402)),C=a(n(72655)),S=n(99989),E=n(62632),x=a(n(14296)),T=n(77975),M=n(82145),k=a(n(11339)),w=n(59871),A=n(97567),P=n(9153),j=n(67455),I=a(n(20559)),O=a(n(777)),N=a(n(74729)),R=n(18146),D=n(59387),L=n(50452),B=n(85893)},74729:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,theme:n}=e,a=(0,c.default)();(0,d.useEffect)((()=>{t.type===A&&t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:g.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1}),t.type===o.MSG_TYPE.DOCUMENT&&t.isVcardOverMmsDocument&&(!t.mediaData||!t.mediaData.mediaBlob)&&t.isTrusted()&&t.size<=1024*S.ServerProps.mmsVcardAutodownloadSizeKb&&t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:g.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1}).then((()=>(0,r.delayMs)(0)))}),[]),(0,f.useListener)(t.type===o.MSG_TYPE.DOCUMENT&&t.mediaData&&t.isVcardOverMmsDocument?t.mediaData:null,"change:parsedVcards",(()=>{a()}));const I=()=>t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:g.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1}),O=[];t.hasSymbol()&&t.type!==A&&t.type!==j&&O.push((0,x.jsx)(_.default,{msg:t.unsafe(),viewOnceStatic:!0},"msg-symbol"));(t.type!==k||t.isGif||t.caption||t.isViewOnce)&&t.type!==w||O.push(i.Clock.durationStr(Number(t.duration))+" ");const N=p.Configuration.QuotedMention({mentions:t.mentionMap()});if(t.type===T||t.type===M||t.type===k||t.isFromTemplate||t.isDynamicReplyButtonsMsg){var R;let e;e=(null===(R=t.asViewOnce)||void 0===R?void 0:R.isViewOnce)?t.type===M?l.fbt._("Photo",null,{hk:"SBkDD"}):l.fbt._("Video",null,{hk:"2SOGaJ"}):t.isFromTemplate&&t.type===o.MSG_TYPE.CHAT&&t.title?"*"+t.title+"*\n"+t.body:(0,m.default)(t.unsafe(),{stripFormatting:!1}),O.push((0,x.jsx)(h.EmojiText,{formatters:N,className:"quoted-mention",text:e,textLimit:t.initialPageSize,direction:"auto"},"status"))}else if(A===t.type){const n="composeBox"===e.theme?"composeBoxQuoted":"quoted";O.push((0,x.jsx)(E.default,{mediaData:t.mediaData,theme:n,downloadMedia:I},"sticker"))}else t.type===P?(0,u.isNonZeroNumber)(t.paymentAmount1000)&&t.paymentCurrency||"invite"===t.subtype?O.push((0,x.jsx)(b.default,{msgKey:t.id,subtype:t.subtype,receiverJid:t.paymentMessageReceiverJid,isQuoted:!0},"payment")):O.push(l.fbt._("Payment message • Amount unavailable",null,{hk:"3SAp3h"})):t.type===j?O.push((0,x.jsx)(v.OrderDescription,{msg:t.unsafe(),showMessage:!0},"order")):O.push((0,x.jsx)(h.EmojiText,{formatters:N,className:"quoted-mention",text:(0,C.formatQuotedMsg)(t),textLimit:t.initialPageSize,direction:"auto"},"status"));const D=(0,s.default)(y.default.messageText,{[y.default.composeBoxQuotedMsg]:"composeBox"===e.theme}),L="conversation"===n||"starred"===n?"button":null;return(0,x.jsx)("div",{className:D,dir:t.dir,role:L,children:O})};var r=n(13959),i=n(40234),o=n(15461),s=a(n(94184)),l=n(48360),u=n(29984),d=n(67294),c=a(n(59312)),f=n(87550),h=n(65417),p=n(30695),m=a(n(57130)),g=a(n(11339)),_=a(n(32281)),v=n(36707),b=a(n(74066)),y=a(n(15149)),C=n(65510),S=n(64551),E=a(n(12064)),x=n(85893);const{CHAT:T,IMAGE:M,VIDEO:k,AUDIO:w,STICKER:A,PAYMENT:P,ORDER:j}=o.MSG_TYPE},65510:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatMultiVcardText=m,t.formatProductText=_,t.formatQuotedMsg=function(e){switch(e.type){case i.MSG_TYPE.DOCUMENT:return e.isVcardOverMmsDocument?g(e):(0,d.default)(e.unsafe());case i.MSG_TYPE.MULTI_VCARD:return m(e);case i.MSG_TYPE.PRODUCT:return _(e);case i.MSG_TYPE.NATIVE_FLOW:case i.MSG_TYPE.INTERACTIVE:return e.nativeFlowName===f.default.ORDER_DETAILS?function(e){const t=(0,h.getOrderInfo)(e);if(null==t)return"";return t.title+"\n"+s.fbt._("Quantity {order_items_quantity} • {order_total_price}",[s.fbt._param("order_items_quantity",t.quantity),s.fbt._param("order_total_price",u.formatAmount(t.currency,t.totalAmount))],{hk:"1x9ZOx"}).toString()}(e):(0,d.default)(e.unsafe());default:return(0,d.default)(e.unsafe())}},t.formatVcardOverMmsText=g;var r=a(n(39138)),i=n(15461),o=n(93778),s=n(48360),l=n(64481),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(39519)),d=a(n(57130)),c=a(n(14296)),f=a(n(5165)),h=n(34841);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){const t=e.vcardList.length;return t>0?c.default.t(485,{count:t,_plural:t}):s.fbt._("No contacts",null,{hk:"1p56oN"})}function g(e){var t;if(e.mediaData.parsedVcards){const{parsedVcards:t}=e.mediaData;return t.length>1?c.default.t(485,{count:t.length,_plural:t.length}):(0,o.vcardGetNameFromParsed)(t[0])||c.default.t(711)}return null!=e.pageCount?c.default.t(485,{count:e.pageCount,_plural:e.pageCount}):(null===(t=e.mediaData)||void 0===t?void 0:t.filename)||c.default.t(713)}function _(e){let t,{title:n,description:a,currencyCode:i,priceAmount1000:o,salePriceAmount1000:s}=e;if(null!=i&&null!=o){const e=e=>u.formatAmount1000(i,e);t=null!=s?`${e(s)} ~${e(o)}~`:e(o)}else a&&(t=(0,r.default)(a,{length:l.MAX_REPLY_PRODUCT_DESC_LENGTH}));return[(0,r.default)(n,{length:l.MAX_REPLY_PRODUCT_TITLE_LENGTH}),t].filter(Boolean).join("\n")}},51906:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.QuotedMsgAdminGroupName=void 0;var r=n(81572),i=a(n(94184)),o=n(67294),s=n(69951),l=n(65417),u=n(50101),d=a(n(14296)),c=a(n(58821)),f=n(85893);function h(e,t){const{isComposePreview:n,quotedGroupJid:a,quotedGroupSubject:h}=e,[p,m]=(0,o.useState)(!1),g=()=>!p&&!n;(0,o.useImperativeHandle)(t,(()=>({hoverable:g})));const _=null!=h?h:(()=>{const e=s.ChatCollection.get(a);return null==e?void 0:e.formattedTitle})();if(!_)return null;const v=(0,i.default)(c.default.quotedMsg,{[c.default.hover]:p,[c.default.composeBoxQuotedMsg]:!!n});return(0,f.jsx)("div",{onMouseOver:()=>{m(!0)},onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},className:v,children:(0,f.jsxs)("div",{className:c.default.msg,role:n?"none":"button",onClick:()=>{(0,u.findChat)(a).then((e=>r.Cmd.openChatBottom(e)))},children:[(0,f.jsx)("span",{className:c.default.colorBar}),(0,f.jsx)("div",{className:c.default.msgBody,children:(0,f.jsx)(l.EmojiText,{className:"quoted-mention",text:d.default.t(551,{groupName:_}),direction:"auto"},"status")})]})})}const p=(0,o.forwardRef)(h);t.QuotedMsgAdminGroupName=p},27339:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(52013)),i=n(8139),o=n(67811),s=n(48360),l=n(67294),u=a(n(56720)),d=n(35461),c=a(n(95402)),f=a(n(44356)),h=n(88984),p=n(65417),m=n(29623),g=a(n(48846)),_=n(29424),v=a(n(61537)),b=n(9157),y=n(21357),C=n(85893);const S={tilded:{"::before":{content:"f76rftwh"}},reactionAndMediaThumbContainer:{paddingTop:"fbgy3m38",paddingEnd:"ft2m32mm",paddingBottom:"oq31bsqd",paddingStart:"nu34rnf1",marginEnd:"q471nw87"}};function E(e,t){let{reaction:n,onCloseDetailsPane:a,isAggregated:E=!1}=e;const x=(0,l.useRef)(null),[T,M]=(0,l.useState)(!1),k=()=>{r.default.focus(x.current),M(!0)},{parentMsg:w,reactionText:A,senderObj:P}=n;(0,l.useImperativeHandle)(t,(()=>({focus:k})));const j=(0,d.useModelValues)(P,["id","isMe","name","formattedName","notifyName"]),{id:I,isMe:O,name:N,formattedName:R,notifyName:D}=j,L=(0,c.default)(),B=()=>{(0,o.canRevokeReaction)()&&O&&(0,y.sendReactionToMsg)(w,o.REVOKED_REACTION_TEXT).catch((()=>{L&&L.requestDismiss()}))};let F=null;!N&&D&&(F=(0,C.jsx)(p.EmojiText,{className:(0,u.default)(S.tilded),direction:"auto",text:D}));let G=(0,o.reactionBubbleAriaLabelOneReaction)(R,A);O&&(G=`${G.toString()} ${s.fbt._("Click to remove",null,{hk:"oSIOf"}).toString()}`);const U=E&&w.isMedia&&(0,i.reactionsMediaAggregateThumbsEnabled)(),V=U?(0,C.jsx)(g.default,{xstyle:S.reactionAndMediaThumbContainer,a8nText:"reaction-and-media-thumb",children:(0,C.jsx)(v.default,{msg:w,reactionText:A,role:"button",onCloseDetailsPane:a})}):null;return(0,C.jsx)(_.HotKeys,{role:O?"button":"listitem","aria-label":G,handlers:{enter:B,space:B},ref:x,onBlur:()=>{M(!1)},children:(0,C.jsxs)(m.FlexRow,{align:"center",children:[(0,C.jsx)(g.default,{grow:2,children:(0,C.jsx)(f.default,{idle:!O,image:(0,C.jsx)(h.DetailImage,{id:I,size:40}),primary:R,onClick:B,secondary:O?s.fbt._("Click to remove",null,{hk:"oSIOf"}):F,detail:!U&&(0,C.jsx)(b.ReactionEmoji,{scale:"list",size:"large",reaction:A}),theme:"reaction",active:T})}),V]})})}var x=(0,l.forwardRef)(E);t.default=x},61537:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,reactionText:n,onCloseDetailsPane:a,role:v}=e;const b=(0,g.jsx)("div",{className:(0,u.default)(_.reactionBadge),children:(0,g.jsx)(f.ReactionEmoji,{scale:"reactionDetailsCellThumb",size:"small",reaction:n})}),y=(0,g.jsx)("div",{className:(0,u.default)(_.placeholderContainer),children:(0,g.jsx)(p.default,{iconXstyle:_.placeholderIcon,name:t.type===o.MSG_TYPE.IMAGE?"img-placeholder":"video-placeholder"})},"default");return(0,g.jsxs)("div",{className:(0,u.default)(_.thumbContainer),role:v||"",onClickCapture:e=>{e.stopPropagation(),e.preventDefault();const n=t.id,o=t.chat,u=c.MsgCollection.get(n),d=o.getSearchContext(u||n,null==t?void 0:t.unsafe());d&&(d.slideToMsg=!0),a(),i.Cmd.openChatAt(o,d).then((e=>{if(!e)return;const n=c.MsgCollection.get(t.id);n&&(0,r.delayMs)(500).then((()=>{i.Cmd.openMediaViewerForAlbumMedia((0,h.unproxy)(n))}))})),u||s.ToastManager.open((0,g.jsx)(m.Toast,{msg:l.fbt._("Couldn't find message",null,{hk:"46pDt7"}),id:(0,m.genId)()}))},children:[(0,g.jsx)(d.default,{msg:t,thumbnailPlaceholder:y,childClassName:(0,u.default)(_.thumbContainer,_.thumb)}),b]})};var r=n(13959),i=n(81572),o=n(15461),s=n(94816),l=n(48360),u=a(n(56720)),d=a(n(4293)),c=n(59871),f=n(9157),h=n(18146),p=a(n(23217)),m=n(50452),g=n(85893);const _={thumbContainer:{width:"tknnhhou",height:"sai7fuui",borderTopStartRadius:"jurscu57",borderTopEndRadius:"kbbm54z3",borderBottomEndRadius:"rb7qr1uw",borderBottomStartRadius:"bki4ijb8"},thumb:{overflowX:"gfz4du6o",overflowY:"r7fjleex",backgroundRepeat:"sxl192xd",backgroundPosition:"t3g6t33p",backgroundSize:"qnwaluaf"},placeholderContainer:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},placeholderIcon:{width:"ln8gz9je",height:"ppled2lx"},reactionBadge:{position:"g0rxnol2",bottom:"ixyrs4lz",end:"dwwuhpkj",height:"hpdpob1j",width:"dh5rsm73"}}},67112:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(74691)),i=n(67294),o=a(n(56720)),s=n(47915),l=a(n(44942)),u=n(29424),d=a(n(27339)),c=n(85893);const f={width:"ln8gz9je",maxHeight:"iod7fm94",minHeight:"o404977b",overflowX:"i44ccddp",overflowY:"ag5g9lrv",paddingTop:"fbgy3m38"};function h(e,t){const n=(0,i.useRef)(new Map),a=(0,i.useRef)(null),[h,p]=(0,i.useState)(0),m=t=>{const a=e.senders[t];if(a){var r;const e=a.id.toString(),t=n.current.get(e);null==t||null===(r=t.current)||void 0===r||r.focus()}},g=t=>(0,r.default)(t,0,e.senders.length-1),_=()=>{m(g(h))},v=()=>{var e;return(null===(e=a.current)||void 0===e?void 0:e.contains(document.activeElement))||!1};return(0,i.useImperativeHandle)(t,(()=>({focus:_,hasFocus:v}))),(0,i.useEffect)((()=>{p(0)}),[e.senders]),(0,c.jsx)(l.default,{ref:a,className:(0,o.default)(f),flatListControllers:[e.flatListController],children:(0,c.jsx)(u.HotKeys,{role:"list",tabIndex:null,handlers:{up:e=>{e.preventDefault();const t=g(h-1);p(t),m(t)},down:e=>{const t=g(h+1);e.preventDefault(),p(t),m(t)}},children:(0,c.jsx)(s.FlatList,{flatListController:e.flatListController,direction:"vertical",defaultItemHeight:53,data:e.senders.map((e=>({itemKey:e.id.toString(),sender:e}))),renderItem:t=>{const a=(0,i.createRef)();return n.current.set(t.itemKey,a),(0,c.jsx)(d.default,{ref:a,reaction:t.sender,isAggregated:e.isAggregated,onCloseDetailsPane:e.onCloseDetailsPane},t.itemKey)},forceConsistentRenderCount:!1})})})}var p=(0,i.forwardRef)(h);t.default=p},3816:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(82729)),i=a(n(29521)),o=a(n(33856)),s=n(67811),l=n(67294),u=a(n(56720)),d=a(n(16223)),c=a(n(64827)),f=n(65417),h=a(n(30855)),p=n(29623),m=a(n(48846)),g=n(29424),_=a(n(14296)),v=a(n(69995)),b=a(n(67112)),y=n(9157),C=(n(81130),a(n(46603))),S=n(96213),E=n(85893);const x={divider:{backgroundColor:"n45ix5k8",height:"kanlod6e"},emojiCount:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",display:"l7jjieqr",height:"bvcnfjzh",fontSize:"bze30y65",lineHeight:"r5qsrrlp"},emoji:{color:"tviruh8d",marginEnd:"kjemk6od",imageRendering:"bd96tnyg"},all:{color:"tviruh8d",marginEnd:"claouzo6"},count:{color:"pm5hny62",marginEnd:"cgpjrhzi"},buttonStyle:{width:"hj839x6e"},willChange:{willChange:"exvbdj68"}},T="_all_",M=(e,t)=>{var n,a,r;(null===(n=e.current)||void 0===n?void 0:n.hasFocus())?null===(a=t.current)||void 0===a||a.focus():null===(r=e.current)||void 0===r||r.focus()},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=(0,o.default)(e,t,((e,t)=>e.isEqual(t))),a=(0,i.default)(t,e,((e,t)=>e.isEqual(t)));return n.concat(...a)};function w(e){let{tab:t}=e;const{emoji:n,reactions:a}=t;return(0,E.jsx)(p.FlexRow,{align:"center",justify:"center",children:(0,E.jsxs)(m.default,{xstyle:x.willChange,children:[n===T?(0,E.jsx)("div",{className:(0,u.default)(x.emojiCount,x.all),children:(0,E.jsx)(f.EmojiText,{text:_.default.t(552,{_plural:a.length})})}):(0,E.jsx)("div",{className:(0,u.default)(x.emojiCount,x.emoji,y.tabScale),children:(0,E.jsx)(y.ReactionEmoji,{reaction:n})}),(0,E.jsx)("div",{className:(0,u.default)(x.emojiCount,x.count),children:_.default.n(a.length)})]})})}var A=function(e){const[t,n]=(0,l.useState)(0),[a,i]=(0,l.useState)(0),o=(0,d.default)((()=>new h.default)),f=(0,l.useRef)(null),m=(0,l.useRef)(null),_=(0,l.useRef)(null),y=(0,C.default)();(0,l.useEffect)((()=>{var e,t;i(null!==(e=null===(t=_.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0)}),[]);const A=(e,t)=>{var n,a;const i=(0,s.getReactionAggregates)(e),o=[],l=[],u=[],d=(e,t)=>{const{reactionSenders:n}=e;if(n.length){const a=k(t,n);a.forEach((e=>{(0,s.isReactionByMe)(e.senderUserJid)?l.push(e):o.push(e)})),u.push({emoji:(0,s.getReactionForDisplay)(e),reactions:a})}};null==t||t.forEach((e=>{const t=(0,r.default)(i,(t=>t.reactionAggregate===e.emoji))[0];t&&d(t,e.reactions)})),i.forEach((e=>{d(e)}));const c=k(null!==(n=null==t||null===(a=t[0])||void 0===a?void 0:a.reactions)&&void 0!==n?n:[],o);return c.unshift(...l),c.length&&u.unshift({emoji:T,reactions:c}),u},[P,j]=(0,l.useState)(A(e.reactionsModels));if((0,S.useReactions)(e.msgIds,(e=>{var a;const r=y&&!!(null===(a=f.current)||void 0===a?void 0:a.hasFocus()),i=A(e,P);var o;(i.length<P.length&&n(Math.max(0,t-1)),j(i),r)&&(null===(o=f.current)||void 0===o||o.focus())})),(0,l.useEffect)((()=>{var t;0===P.length&&(null===(t=e.onEmpty)||void 0===t||t.call(e))}),[e,P]),0===P.length)return null;const I=P[t].reactions,O={};return a&&(O.height=a),(0,E.jsxs)(g.HotKeys,{handlers:{"shift+tab":e=>{e.preventDefault(),M(m,f)},tab:e=>{e.preventDefault(),M(m,f)}},tabIndex:null,children:[(0,E.jsx)(v.default,{ref:m,numItems:P.length,onItemClick:e=>{n(e),o.current.setScrollFromStart(0)},renderItem:e=>(0,E.jsx)(w,{tab:P[e]}),selectedIndex:t,className:c.default.reaction,buttonStyle:x.buttonStyle}),(0,E.jsx)("div",{className:(0,u.default)(x.divider)}),(0,E.jsx)(p.FlexColumn,{ref:_,style:O,children:(0,E.jsx)(b.default,{ref:f,senders:I,flatListController:o.current,onCloseDetailsPane:e.onCloseDetailsPane?e.onCloseDetailsPane:()=>{},isAggregated:e.isAggregated})})]})};t.default=A},9157:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.tabScale=t.ReactionEmoji=void 0;var r=a(n(56720)),i=n(67247),o=a(n(84636)),s=n(85893);const l={tofu:{color:"tviruh8d"},listScale:{transform:"hda1r0l0"},imageRendering:{imageRendering:"bd96tnyg"},bubbleScale:{transform:"p83aruvr"},bubbleScale1PxSmaller:{transform:"eipqoq80"},reactionDetailsCellThumbScale:{transform:"slzs0jzd"},tabScale:{transform:"rbxsf3hm"},tray:{transform:"lidvm163"},trayScale2PxSmaller:{transform:"mob44t3l"}},u=l.tabScale;t.tabScale=u;t.ReactionEmoji=e=>{let{reaction:t,size:n,scale:a}=e;const u=i.EmojiUtil.normalizeEmojiFromString(t),d=i.EmojiUtil.getHeartEmojis().some((e=>i.EmojiUtil.normalizeEmoji(e)===u));return u?(0,s.jsx)(o.default,{className:(0,r.default)("tray"!==a&&l.imageRendering,"list"===a&&l.listScale,"bubble"===a&&l.bubbleScale,"tray"===a&&l.tray,"reactionDetailsCellThumb"===a&&l.reactionDetailsCellThumbScale,d&&"tray"===a&&l.trayScale2PxSmaller,d&&"bubble"===a&&l.bubbleScale1PxSmaller),size:n,emoji:u},"low-res"):(0,s.jsx)("span",{className:(0,r.default)(l.tofu),children:i.OPEN_BOX_CHAR})}},60752:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ANIMATION_REMOVE_LENGTH=void 0,t.ReactionEmojiAnimated=function(e){let{reaction:t,shouldAnimate:n,removeAnimation:a}=e;const d=(0,i.useRef)(null);return(0,i.useEffect)((()=>{!0===(null==a?void 0:a.shouldRemoveAnimation)&&null!=d.current&&(0,r.default)(d.current,{scale:[0,1]},{duration:70,easing:[.83,0,.17,1]}).then((()=>{a.animationFinished()}))}),[a,d]),(0,l.jsx)("div",{ref:d,className:(0,o.default)(n&&!0!==(null==a?void 0:a.shouldRemoveAnimation)&&u.animateReaction),children:(0,l.jsx)(s.ReactionEmoji,{reaction:t,scale:"bubble"})})};var r=a(n(62831)),i=n(67294),o=a(n(56720)),s=n(9157),l=n(85893);t.ANIMATION_REMOVE_LENGTH=70;const u={animateReaction:{animationName:"jc2at2x4",animationDuration:"pext2d22",animationTimingFunction:"mjl5wphb",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0",willChange:"lia7vegv"}}},56979:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionSendFailButton=void 0;var r=a(n(18446)),i=n(5177),o=n(14597),s=n(67811),l=n(48360),u=n(67294),d=a(n(56720)),c=n(87550),f=a(n(3409)),h=n(67247),p=a(n(87350)),m=a(n(14296)),g=a(n(4850)),_=n(96213),v=n(85893);const b={container:{position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",height:"ppled2lx",width:"i94gqilv"},notFromMe:{start:"dkaqw61n"}};function y(e){let{msgIds:t,fromMe:n}=e;const a=(0,f.default)(),[r,y]=(0,u.useState)([]),[C,S]=(0,u.useState)([]),E=()=>{o.ModalManager.open((0,v.jsx)(g.default,{reactionUpdates:C}))};(0,_.useReactions)(t,(e=>{const t=[],n=e.filter((e=>null!=e.reactionByMe)),r=[];n.forEach((e=>{if(e.reactionByMe){const{senderUserJid:n,reactionText:a}=e.reactionByMe,i=h.EmojiUtil.getEmojiAggregate(a),o=e.reactions.get(i),l=null==o?void 0:o.senders.findFirst((e=>e.senderUserJid===n));if(null!=l&&(r.push(l),l.isFailed)){const e=(0,s.reactionSenderToReactionUpdate)(l);t.push(e)}}})),a.aborted||(S(t),y(r))}));const x=(0,u.useCallback)((()=>{const e=[];r.forEach((t=>{if(t.isFailed){const n=(0,s.reactionSenderToReactionUpdate)(t);e.push(n)}})),a.aborted||S(e)}),[r,a]);(0,c.useListeners)(r.map((e=>({source:e,eventOrEvents:"change:isFailed",callback:()=>x(e)}))));const T=C.length>0,M=C.map((e=>e.reactionText)).join(m.default.t(257)),k=C.length>2?m.default.t(553,{count:m.default.n(C.length),_plural:C.length}):l.fbt._({"*":"Your {reactions} reactions weren't sent",_1:"Your {reactions} reaction was not sent"},[l.fbt._plural(C.length),l.fbt._param("reactions",M)],{hk:"K3Fmi"});return T?(0,v.jsx)("div",{className:(0,d.default)([b.container,!n&&b.notFromMe]),children:(0,v.jsx)(p.default,{displayType:i.DISPLAY_TYPE.CONVERSATION,fromMe:n,tooltip:k,onClick:E})}):null}function C(e,t){return(0,r.default)(e,t)}const S=(0,u.memo)(y,C);t.ReactionSendFailButton=S},18366:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(18446)),i=a(n(70735)),o=n(8139),s=n(67811),l=n(67294),u=a(n(56720)),d=a(n(51799)),c=a(n(37453)),f=n(46428),h=a(n(3409)),p=n(29623),m=a(n(48846)),g=a(n(14296)),_=n(60752),v=a(n(53689)),b=n(85893);const y={reactionContainer:{height:"bmot90v7",paddingTop:"i5tg98hk",paddingEnd:"jfqm35v0",paddingBottom:"przvwfww",paddingStart:"bdbt56hn",borderTopStartRadius:"r18xjin9",borderTopEndRadius:"pz6oj2k2",borderBottomEndRadius:"sa2xs5zj",borderBottomStartRadius:"n58sa971",backgroundColor:"jht8oeb6",boxShadow:"fahkg6u0",borderTop:"hcpeg58q",borderEnd:"p6ubcsnv",borderBottom:"avd5zzxf",borderStart:"qqik71jn"},reactionItem:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",textAlign:"qfejxiq4",fontSize:"enbbiyaj",lineHeight:"r5qsrrlp"},reactionCounter:{textAlign:"qfejxiq4",alignItems:"gndfcl4n",color:"ce5kru2g"},animateBubble:{height:"bmot90v7",paddingTop:"i5tg98hk",paddingEnd:"jfqm35v0",paddingBottom:"przvwfww",paddingStart:"bdbt56hn",minWidth:"akk8kuog",":before":{position:"oxaw94s0",height:"o0bwohyy",width:"cvxgn1dw",paddingTop:"r4xl2n04",paddingEnd:"asu8qs9d",paddingBottom:"c0bbmqe2",paddingStart:"ajr0z13z",borderTopStartRadius:"sa9sd5it",borderTopEndRadius:"pts78uye",borderBottomEndRadius:"lvfi4jc9",borderBottomStartRadius:"aa3thtin",zIndex:"otswzj8x",backgroundColor:"s24c542q",boxShadow:"e9cl6z7p",borderTop:"hwm8yfef",borderEnd:"e1cue241",borderBottom:"edpn7icu",borderStart:"sx64hb76",content:"lij4d1x3",animationName:"dg973b83",animationDuration:"grpxnwfq",animationTimingFunction:"f0gwgpfb",animationFillMode:"r1v61bue",backfaceVisibility:"e10y1bxp",willChange:"tvgeahmr"}}};function C(e){let{reactions:t,reactionsAgregateCount:n,isFirstData:a}=e;const C=(0,l.useRef)(null),S=(0,l.useRef)(t),E=(0,l.useRef)(!0),x=(0,c.default)(t),[T,M]=(0,l.useState)([]),[k,w]=(0,l.useState)([]),A=(0,h.default)(),[P,j]=(0,l.useState)([]),I=(0,l.useRef)(null);null==C.current&&(C.current=x),null==I.current&&(I.current=n),S.current=t;const[O,N]=(0,f.useTimeout)((()=>{w(S.current)}),_.ANIMATION_REMOVE_LENGTH+1),R=(0,d.default)((()=>{if(A.aborted)return;const{added:e,removed:t}=(o=C.current,s=S.current,{added:(0,i.default)(s||[],o||[],(e=>e.reactionAggregate)),removed:(0,i.default)(o||[],s||[],(e=>e.reactionAggregate))});var o,s;const l=null!=I.current&&I.current>n;I.current=null,(0,r.default)(t,P)||!1!==a||j(t);let u=[];if(!(0,r.default)(e,T)&&!1===a&&!l){const t=function(e){const t={timestamp:0,reactionAgg:""};return e.forEach((e=>{e.reactionSenders.forEach((n=>{t.timestamp<n.timestamp&&(t.timestamp=n.timestamp,t.reactionAgg=e.reactionAggregate)}))})),t}(S.current);e.forEach((e=>{e.reactionAggregate===t.reactionAgg&&u.push(e)}))}l||S.current.forEach((e=>{var t;const n=null===(t=C.current)||void 0===t?void 0:t.find((t=>t.reactionAggregate===e.reactionAggregate));!1===a&&e.reactionByMe&&null==n&&(u=[e])})),0===t.length?w(S.current):O(),M(u),C.current=null,E.current=!1}),100);(0,o.reactionsAnimationsEnabled)()&&!(0,r.default)(x,t)&&R(),(0,l.useEffect)((()=>{(0,o.reactionsAnimationsEnabled)()&&!0===a&&w(t)}),[]);const D=((0,o.reactionsAnimationsEnabled)()?k:t).map((e=>{const t=(0,o.reactionsAnimationsEnabled)()&&P.includes(e),n=t?{shouldRemoveAnimation:t,animationFinished:()=>{N(),w(S.current)}}:null,a=(0,s.getReactionForDisplay)(e),r=(0,o.reactionsAnimationsEnabled)()&&T.includes(e);return(0,b.jsx)(m.default,{xstyle:[y.reactionItem],children:(0,b.jsx)(_.ReactionEmojiAnimated,{reaction:a,shouldAnimate:r,removeAnimation:n})},a)})),L=n>999?"999+":n;let B=null;(0,o.reactionsAnimationsEnabled)()?B=(0,b.jsx)(v.default,{counter:n,shouldAnimate:!1===a,rollerCounterOptions:{showAggregateMax:!0,showOneToTwoAnimation:!0}}):n>=2&&(B=(0,b.jsx)(m.default,{align:"center",children:(0,b.jsx)("span",{className:(0,u.default)(y.reactionCounter),children:g.default.n(L)})},"reactionCounter"));const F=!1===a&&(0,o.reactionsAnimationsEnabled)()&&E.current;return(0,b.jsxs)(p.FlexRow,{className:(0,u.default)(F?y.animateBubble:y.reactionContainer),align:"center",justify:"center",children:[D,B]})}function S(e,t){return(0,r.default)(e,t)}var E=(0,l.memo)(C,S);t.default=E},52500:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(18446)),i=n(15461),o=n(67811),s=a(n(94184)),l=n(67294),u=a(n(56720)),d=n(60811),c=n(29424),f=a(n(14296)),h=n(1041),p=n(59871),m=a(n(3816)),g=n(76332),_=a(n(18366)),v=n(94270),b=n(18644),y=a(n(24717)),C=n(96213),S=n(85893);const E={reactionBubbleContainer:{position:"g0rxnol2",bottom:"blj1rie1",zIndex:"px10qoeu",width:"ltyqj8pj",maxWidth:"n8sohn9f",height:"dhq51u3o"},reactionBubbleLeft:{left:"qpocut9d",float:"kpdgp91a"},reactionBubbleRight:{right:"bfbxj8tr",float:"faxx4fbg"},reactionBubbleOverrideLeft:{left:"ptatjang",right:"gy96ms01"},reactionBubbleOverrideRight:{right:"ackpuwnh",left:"fe33t0ud"},reactionBubbleAlbumItemLeft:{position:"lhggkp7q",right:"ackpuwnh",bottom:"cogk65jn",left:"fe33t0ud"},reactionBubbleAlbumItemRight:{position:"lhggkp7q",left:"ptatjang",bottom:"cogk65jn",right:"gy96ms01"},reactionContainerRelative:{position:"g0rxnol2"},reactionEmptyContainer:{height:"dhq51u3o"},reactionImagePosition:{bottom:"cvsrm5e1"}};function x(e){let{msgIds:t,isSentByMe:n,reactionBubbleType:a,reactionBubbleVisible:r=!0,hasReaction:x}=e;const[T,M]=(0,l.useState)(),{reactionArrayEmojis:k,numberOfSenderReactions:w,reactionsModels:A,isFirstData:P}=(0,C.useReactions)(t,(e=>{e.forEach((e=>{(0,g.markReactionsAsRead)(e.unreadSenders())})),a!==v.ReactionBubbleType.MEDIA_ITEM&&(0,o.lastMessageReactionChange)(t)}));let j=f.default.isRTL()?E.reactionBubbleRight:E.reactionBubbleLeft;n&&(j=f.default.isRTL()?E.reactionBubbleLeft:E.reactionBubbleRight);const I=f.default.isRTL()?E.reactionBubbleOverrideLeft:E.reactionBubbleOverrideRight,O=f.default.isRTL()?E.reactionBubbleAlbumItemRight:E.reactionBubbleAlbumItemLeft;if(0===w||!r)return null!=x&&!0===x?(0,S.jsx)("div",{className:(0,u.default)(E.reactionEmptyContainer)}):null;let N=null;if(1===t.length){const e=p.MsgCollection.get(t[0]);if(null!=e&&!(0,o.canHaveReactions)(e.type))return null;(null==e?void 0:e.type)===i.MSG_TYPE.IMAGE&&v.ReactionBubbleType.MEDIA_ITEM!==a&&(N=E.reactionImagePosition)}const R=()=>{M(null)},D=e=>{e.preventDefault(),e.stopPropagation();const a=(0,S.jsx)(m.default,{onCloseDetailsPane:R,onEmpty:R,msgIds:t,reactionsModels:A,isAggregated:t.length>1});M({menu:a,dirY:d.DirY.BOTTOM,dirX:n?d.DirX.LEFT:d.DirX.RIGHT,type:d.MenuType.ReactionDetailsPane,anchor:e.target,flipOnRtl:!0})},L=(0,o.reactionBubbleAriaLabelString)(w,k);return(0,S.jsxs)("div",{className:(0,u.default)(E.reactionContainerRelative),children:[(0,S.jsx)(c.HotKeys,{"data-a8n":"reaction-bubble",onClick:D,onDoubleClick:e=>{e.preventDefault(),e.stopPropagation()},handlers:{enter:D,space:D},component:"button","aria-haspopup":!0,"aria-label":L,className:(0,s.default)((0,u.default)([E.reactionBubbleContainer,j,v.ReactionBubbleType.STICKER===a&&I,v.ReactionBubbleType.MEDIA_ITEM===a&&O,N]),h.LIST_FOCUSABLE_ITEM_CLASS_NAME),children:(0,S.jsx)(_.default,{reactions:k,reactionsAgregateCount:w,isFirstData:P})}),T&&(0,S.jsx)(b.UIE,{displayName:"DetailsPane",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:R,children:(0,S.jsx)(y.default,{contextMenu:T})})]})}function T(e,t){return(0,r.default)(e,t)}var M=(0,l.memo)(x,T);t.default=M},6088:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msgIds:t,onReactionChange:n}=e;return(0,a.useReactions)(t,n),null};var a=n(96213)},25365:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionsPanel=function(e){let{msgId:t,onSelection:n}=e;const a=(0,l.useSelectedReaction)(t);return(0,u.jsx)(s.default.Provider,{value:a,children:(0,u.jsx)(o.EmojiPanel,{onEmoji:e=>{let t=e;e===a&&(t=r.REVOKED_REACTION_TEXT),n(t)},displayLocation:i.DisplayLocation.Reactions})})};var r=n(67811),i=n(28325),o=n(30424),s=a(n(88857)),l=n(63060),u=n(85893)},88857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n(67294).createContext)("");t.default=a},4850:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{reactionUpdates:t}=e;return(0,l.jsx)(o.default,{onOK:()=>{t.forEach((e=>{(0,s.resendUpdateFailedPropsForSentReactionsDBAndModel)(e)})),r.ModalManager.close()},okText:i.fbt._("Try Again",null,{hk:"1UTnaS"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>r.ModalManager.close(),children:i.fbt._("Could not deliver message",null,{hk:"YbK1b"})})};var r=n(14597),i=n(48360),o=a(n(52665)),s=n(76332),l=n(85893)},61761:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MORE_REACTIONS=t.DEFAULT_REACTIONS_SIZE=void 0,t.SendReactionsTray=function(e){let{reactions:t,showMoreOption:n=!1,selectedCallback:a,selectedIndex:T,isParentMsgSentByMe:M}=e;const k=(0,i.useRef)(null),w=d.default.isRTL()?M:!M,A=d.default.isRTL()?!w:w,[P,j]=(0,i.useState)(!1),[I,O]=(0,i.useState)(0),N=t.length>6||n;(0,i.useEffect)((()=>{var e;null===(e=k.current)||void 0===e||e.focusFirst()}),[]);let R=4,D=R.toString()+"px",L=A?v.reactionItemsAnimateLeft:v.reactionItemsAnimateRight;n&&!1===A&&(L=v.reactionItemsAnimateRightMoreOptions);const B=t.map(((e,t)=>{const n=null!=T&&t===T,i=P&&t===I;let s,u;(0,r.reactionsAnimationsEnabled)()&&(P?i&&!n?(s=S,u=v.reactionItemAnimateSelected):n&&(s=i?E:C):n&&(s=y));const f=d.default.isRTL()?{right:D}:{left:D},p=(0,m.jsx)(l.default,{xstyle:[g.reactionFlexItem,(0,r.reactionsAnimationsEnabled)()&&v.reactionItem,(0,r.reactionsAnimationsEnabled)()&&!u&&L,u],style:f,children:(0,m.jsx)(h.Round,{a8nText:`reactions-option-${t}`,hideBackground:!!(0,r.reactionsAnimationsEnabled)()||!n,theme:(0,r.reactionsAnimationsEnabled)()||!n?h.RoundTheme.NoShadow:h.RoundTheme.SVGGrayButton,className:(0,o.default)(b,s),onClick:()=>{(0,r.reactionsAnimationsEnabled)()?((e=>{j(!0),O(e)})(t),t===T?setTimeout((()=>a(e)),80):setTimeout((()=>a(e)),250)):a(e)},children:(0,m.jsx)(c.ReactionEmoji,{reaction:e,size:"large",scale:"tray"})})},t);return R+=42,D=R.toString()+"px",p}));if(n&&6===t.length){const e=`${R+10}px`,t=d.default.isRTL()?{right:e}:{left:e},n=(0,m.jsx)(l.default,{xstyle:[g.reactionFlexItem,(0,r.reactionsAnimationsEnabled)()&&v.reactionItem,(0,r.reactionsAnimationsEnabled)()&&L],style:t,children:(0,m.jsx)(h.Round,{a8nText:"reactions-show-more",theme:h.RoundTheme.ReactionPickerButton,small:!0,onClick:()=>{a(x)},children:(0,m.jsx)(p.default,{color:"gray",width:18,name:"add-alt-2"})})},"show-more");B.push(n)}return(0,m.jsx)(u.HotKeys,{handlers:{"shift+tab":e=>{e.preventDefault(),e.stopPropagation()},tab:e=>{e.preventDefault(),e.stopPropagation()}},tabIndex:null,children:(0,m.jsx)(f.default,{ref:k,children:(0,m.jsx)(s.FlexRow,{className:(0,o.default)((0,r.reactionsAnimationsEnabled)()?_.reactionTray:g.reactionTray,N&&g.isExtendedTray,(0,r.reactionsAnimationsEnabled)()&&w?_.reactionTrayAnimateLeft:_.reactionTrayAnimateRight),align:"center",justify:"around",children:B})})})};var r=n(8139),i=n(67294),o=a(n(56720)),s=n(29623),l=a(n(48846)),u=n(29424),d=a(n(14296)),c=n(9157),f=a(n(2953)),h=n(82857),p=a(n(23217)),m=n(85893);const g={reactionTray:{backgroundColor:"sq2b5du4",height:"q1n4p668",width:"f4vvi1mq",maxWidth:"bz50z0yh",boxShadow:"s9sijotg",borderTopStartRadius:"cmyqziiq",borderTopEndRadius:"gjbifnr8",borderBottomEndRadius:"fq9ss6rg",borderBottomStartRadius:"osjwm8xx",paddingTop:"i5tg98hk",paddingEnd:"jfqm35v0",paddingBottom:"przvwfww",paddingStart:"bdbt56hn",position:"g0rxnol2"},isExtendedTray:{width:"rtue7xhx",maxWidth:"j216idpa",":before":{width:"rd85shf7",maxWidth:"ssu9o2eo"}},reactionFlexItem:{position:"lhggkp7q"}},_={reactionTray:{height:"q1n4p668",width:"f4vvi1mq",maxWidth:"bz50z0yh",position:"g0rxnol2",backgroundColor:"thr4l2wc",paddingTop:"i5tg98hk",paddingEnd:"jfqm35v0",paddingBottom:"przvwfww",paddingStart:"bdbt56hn",":before":{backgroundColor:"ga96p4vz",boxShadow:"b5q10lpa",zIndex:"otswzj8x",content:"lij4d1x3",paddingTop:"r4xl2n04",paddingEnd:"asu8qs9d",paddingBottom:"c0bbmqe2",paddingStart:"ajr0z13z",borderTopStartRadius:"e8mfq481",borderTopEndRadius:"rl2cs7re",borderBottomEndRadius:"k0x1nux4",borderBottomStartRadius:"thgejxps",position:"oxaw94s0",start:"e8y0iqoj",top:"a8g7dr2m",width:"e05q9v5p",maxWidth:"t1e0qc4e",height:"m6f3ikd5",animationFillMode:"r1v61bue",transform:"tobsugo9",willChange:"gtx3tadu",animationName:"t0e2b0ov",animationDuration:"ryfqqswh",animationTimingFunction:"bha6utru"}},reactionTrayAnimateLeft:{"::before":{transformOrigin:"ns36z7zv"}},reactionTrayAnimateRight:{"::before":{transformOrigin:"kq7zil7g"}}},v={reactionItemsAnimateLeft:{":nth-child(1)":{animationDelay:"dc9pxb7p"},":nth-child(2)":{animationDelay:"heuvjs6j"},":nth-child(3)":{animationDelay:"o04j5cds"},":nth-child(4)":{animationDelay:"kwb1nczx"},":nth-child(5)":{animationDelay:"qwbhdnx1"},":nth-child(6)":{animationDelay:"n4ocl5sr"},":nth-child(7)":{animationDelay:"n9b0ado8"}},reactionItemsAnimateRight:{":nth-child(6)":{animationDelay:"hxte1zbr"},":nth-child(5)":{animationDelay:"sf9ilnrw"},":nth-child(4)":{animationDelay:"mfdt667m"},":nth-child(3)":{animationDelay:"qr6bg16l"},":nth-child(2)":{animationDelay:"mtkupoln"},":nth-child(1)":{animationDelay:"rwtgomn0"}},reactionItemsAnimateRightMoreOptions:{":nth-child(7)":{animationDelay:"mpyszoyv"},":nth-child(6)":{animationDelay:"oxe1zlk6"},":nth-child(5)":{animationDelay:"kqjy5z83"},":nth-child(4)":{animationDelay:"kwb1nczx"},":nth-child(3)":{animationDelay:"fv5qzaj9"},":nth-child(2)":{animationDelay:"pbiji778"},":nth-child(1)":{animationDelay:"r4zq3v0s"}},reactionItem:{backfaceVisibility:"ou3430m0",transform:"bglikw2g",animationFillMode:"a21kwdn3",animationName:"mmx92utk",animationDuration:"joup3a2m",animationTimingFunction:"esbg2say"},reactionItemAnimateSelected:{animationName:"ddamih75",animationDuration:"gzzbkayp",animationTimingFunction:"gs65objp"}},b={position:"g0rxnol2","::before":{position:"jiaumjzp",content:"ckfn5qle",width:"ekwltmu8",height:"o1rppbag",backgroundColor:"g9lbsnvk",transform:"kq7idzux",opacity:"jpisi10r",borderTopStartRadius:"s0ncokgg",borderTopEndRadius:"dgvzf84s",borderBottomEndRadius:"qs89ku6w",borderBottomStartRadius:"ja8s2tk6"}},y={"::before":{transform:"ecn6b8u2"}},C={"::before":{transform:"kq7idzux"}},S={"::before":{animationFillMode:"badepdzx",animationName:"o38lwax9",animationDuration:"egohdep1",animationDelay:"qvdn5vl1",animationTimingFunction:"k2u5p2o8"}},E={"::before":{animationFillMode:"badepdzx",animationName:"f6m8gik5",animationDuration:"f6d3q6r3",animationTimingFunction:"k2u5p2o8"}},x="__more_reactions__";t.MORE_REACTIONS=x;t.DEFAULT_REACTIONS_SIZE=6},13228:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.REACTIONS_DEFAULT_SENDING_TRAY=void 0,t.SendReactionsTrayContainer=function(e){var t;let{selectedCallback:n,msg:a,onMouseEnter:s,onMouseOver:p,onMouseLeave:m}=e;(0,o.useEffect)((()=>{new l.default.ReactionActions({mediaType:a.getWamMediaType(),messageType:a.getWamMessageType(),reactionAction:l.default.REACTION_ACTION_TYPE.OPEN_TRAY}).commit()}),[a]);const[g,_]=(0,o.useState)(null),{reactionsModels:v}=(0,d.useReactions)([a.id.toString()],(e=>{var t,n;const a=e[0];if(!a)return void _(null);const r=null!==(t=null===(n=a.reactionByMe)||void 0===n?void 0:n.reactionText)&&void 0!==t?t:"",i=h(a.reactionByMe).indexOf(r);_(-1!==i?i:null)})),b=h(null===(t=v[0])||void 0===t?void 0:t.reactionByMe),y=b.length>f.length;return(0,c.jsx)("div",{onMouseEnter:s,onMouseOver:p,onMouseLeave:m,children:(0,c.jsx)(u.SendReactionsTray,{selectedIndex:g,selectedCallback:e=>{var t;v[0]&&e===(null===(t=v[0].reactionByMe)||void 0===t?void 0:t.reactionText)?n(i.REVOKED_REACTION_TEXT):n(e)},reactions:b,showMoreOption:(0,r.moreReactionsOption)()&&!y,isParentMsgSentByMe:a.isSentByMe})})};var r=n(8139),i=n(67811),o=n(67294),s=n(67247),l=a(n(11339)),u=(n(17304),n(61761)),d=n(96213),c=n(85893);const f=["👍","❤️","😂","😮","😢","🙏"];function h(e){if(null==e)return f;const t=[];return f.forEach((n=>{n===s.EmojiUtil.getEmojiAggregate(e.reactionText)?t.push(e.reactionText):t.push(n)})),f.includes(s.EmojiUtil.getEmojiAggregate(e.reactionText))||t.push(e.reactionText),t}t.REACTIONS_DEFAULT_SENDING_TRAY=f},96213:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useReactions=function(e,t){const[n,a]=(0,o.useState)([]),[c,f]=(0,o.useState)([]),[h,p]=(0,o.useState)(0),m=(0,l.default)(t),g=(0,u.default)(),_=(0,o.useRef)(!0),v=(0,o.useCallback)((e=>{const t=(0,i.getReactionEmojisAndSum)(e);f(t.reactionArrayEmojis),p(t.numberOfSenderReactions),_.current=!1,m(e)}),[m]),b=null==e?void 0:e.join("-");return(0,o.useEffect)((()=>{(0,r.default)((function*(){if(!e)return;const t=[],n=e.map((e=>d.ReactionsCollection.find(e).then((e=>{null!=e&&t.push(e)})).catch((e=>{__LOG__(3)`Could not get reactions for message: ${e}`}))));yield Promise.all(n),g.aborted||(a(t),v(t))}))()}),[b,v]),(0,s.useListeners)(n.map((e=>{let{reactions:t}=e;return{source:t,eventOrEvents:"add remove reset change:senders",callback:()=>v(n)}}))),{reactionArrayEmojis:c,numberOfSenderReactions:h,reactionsModels:n,isFirstData:_.current}};var r=a(n(48926)),i=n(67811),o=n(67294),s=n(87550),l=a(n(89113)),u=a(n(3409)),d=(n(81130),n(57162))},63060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSelectedReaction=function(e){const{reactionsModels:t}=(0,a.useReactions)([e],r);var n;return t[0]?null===(n=t[0].reactionByMe)||void 0===n?void 0:n.reactionText:null};var a=n(96213);const r=()=>{}},1662:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e,n=(0,r.default)(i.ContactCollection,["add","remove","change:name"],(()=>(0,l.formatRevokedMsg)(t)));return(0,f.jsx)(c.default,{msg:t,displayAuthor:!t.isSentByMe&&t.isGroupMsg,children:(0,f.jsxs)(o.FlexRow,{children:[(0,f.jsx)(s.default,{xstyle:h.icon,children:(0,f.jsx)(d.default,{name:"recalled"})}),(0,f.jsx)(s.default,{xstyle:h.text,children:(0,f.jsx)(u.default,{msg:t.unsafe(),theme:"placeholder",children:n})})]})})};a(n(56720));var r=a(n(96570)),i=n(19380),o=n(29623),s=a(n(48846)),l=n(96206),u=a(n(54703)),d=a(n(23217)),c=a(n(12209)),f=n(85893);const h={icon:{display:"l7jjieqr",color:"a6r0u4sv",minWidth:"mhp1pqu9",marginStart:"bx0vhl82",marginEnd:"ntr8esoy"},text:{marginTop:"kiiy14zj",marginBottom:"j4enbv94"}}},56060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=a.Clock.durationStr(e.currentTime)+" / "+a.Clock.durationStr(e.duration);return(0,i.jsx)(r.SmoothRangeInput,{value:e.currentTime,valueText:t,min:0,max:e.duration,smallSkip:1,largeSkip:10,onChange:e.onSeek,onCommit:e.onCommit,disabled:e.disabled,theme:o(e)})};var a=n(40234),r=n(95739),i=n(85893);function o(e){let{outgoing:t,played:n}=e;return t?n?r.SmoothRangeInputTheme.AUDIO_OUTGOING_PLAYED:r.SmoothRangeInputTheme.AUDIO_OUTGOING_UNPLAYED:n?r.SmoothRangeInputTheme.AUDIO_INCOMING_PLAYED:r.SmoothRangeInputTheme.AUDIO_INCOMING_UNPLAYED}},86123:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const n=(0,r.useModelValues)(e.msg,["rtl","dir","isGroupMsg","isPSA","isSentByMe","senderObj","paymentNoteMsg"]),a=null===(t=n.paymentNoteMsg)||void 0===t?void 0:t.body;let h,p=null;if(a){const e=(0,i.Conversation)({mentions:n.mentionMap(),phoneNumbers:n.getPhoneNumbers(),links:n.getLinks(),trusted:n.isTrusted(),fromMe:n.id.fromMe});p=(0,f.jsx)("div",{className:c.default.caption,children:(0,f.jsx)(u.default,{msg:n.unsafe(),children:(0,f.jsx)(o.EmojiText,{text:a,selectable:!0,formatters:e,dirMismatch:n.rtl!==s.default.isRTL(),direction:n.dir})})})}else h=(0,f.jsx)("div",{className:c.default.meta,children:(0,f.jsx)(d.Meta,{msg:n})});return(0,f.jsxs)(l.default,{displayAuthor:e.displayAuthor,displayType:e.displayType,hasCaption:!!p,msg:n,quotedMsg:e.quotedMsg,hideMeta:!a,children:[e.paymentInfo,h,p]})};var r=n(35461),i=n(74331),o=n(65417),s=a(n(14296)),l=a(n(1238)),u=a(n(54703)),d=n(42316),c=a(n(63459)),f=n(85893)},95739:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SmoothRangeInput=function(e){const{value:t,valueText:n,min:a,max:c,smallSkip:f,largeSkip:h,onChange:p,onCommit:m,disabled:g,theme:_}=e,[v,b]=(0,o.useState)(null),y=(0,o.useCallback)((e=>{b(e),null==p||p(e)}),[b,p]),C=(0,o.useCallback)((e=>{b(null),null==m||m(e)}),[b,m]),S=null!=v?v:t,E=100*(0,r.default)((S-a)/(c-a),0,1),x=(0,i.default)(l.default.container,function(e){switch(e){case d.AUDIO_OUTGOING_UNPLAYED:return l.default.containerOutgoingUnplayed;case d.AUDIO_OUTGOING_PLAYED:return l.default.containerOutgoingPlayed;case d.AUDIO_INCOMING_UNPLAYED:return l.default.containerIncomingUnplayed;case d.AUDIO_INCOMING_PLAYED:return l.default.containerIncomingPlayed}}(_),{[l.default.containerDisabled]:g});return(0,u.jsx)(s.default,{value:t,valueText:n,min:0,max:c,smallSkip:f,largeSkip:h,onChange:y,onCommit:C,disabled:g,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{className:l.default.track}),(0,u.jsx)("span",{className:l.default.progress,style:{width:`${E}%`}}),(0,u.jsx)("div",{className:l.default.thumbTravelContainer,children:(0,u.jsx)("div",{className:l.default.thumbContainer,style:{transform:`translateX(${E}%)`},children:(0,u.jsx)("div",{className:l.default.thumb})})})]})})},t.SmoothRangeInputTheme=void 0;var r=a(n(74691)),i=a(n(94184)),o=n(67294),s=a(n(31718)),l=a(n(6455)),u=n(85893);const d=n(76672).Mirrored(["AUDIO_OUTGOING_UNPLAYED","AUDIO_OUTGOING_PLAYED","AUDIO_INCOMING_UNPLAYED","AUDIO_INCOMING_PLAYED"]);t.SmoothRangeInputTheme=d},21595:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t,xstyle:n,children:a}=e,d=(0,s.useOptionalModelValues)(e.msg,["broadcast","isEphemeral","isSentByMe","labels","star"]);if(!d)return __LOG__(4,void 0,new Error,!0)`Missing msg model for SpacerText component`,SEND_LOGS("missing-msg-model"),(0,u.jsx)(u.Fragment,{children:a});const c=[d.broadcast,d.isSentByMe,d.labels&&d.labels.length>0&&(0,r.canDisplayLabel)(),d.star].filter(Boolean).length,f=[l.default.icons1,l.default.icons2,l.default.icons3,l.default.icons4],h=c>0?f[c-1]:"";return(0,u.jsxs)("span",{className:(0,i.default)(t,(0,o.default)(n)),children:[a,(0,u.jsx)("span",{className:(0,i.default)(l.default.spacer,h)})]})};var r=n(8139),i=a(n(94184)),o=a(n(56720)),s=n(35461),l=a(n(5511)),u=n(85893)},35563:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=n(40234),o=n(5177),s=a(n(52013)),l=n(62054),u=n(67294),d=n(87550),c=n(19380),f=n(88984),h=n(65417),p=a(n(23296)),m=n(29424),g=a(n(14296)),_=n(87931),v=n(78756),b=a(n(61948)),y=a(n(23217)),C=n(58827),S=n(85893);function E(e,t){const{msg:n,selectedMessages:a,displayType:E,currSelection:x,activeSelection:T,onClickMsg:M}=e,k=(0,u.useRef)(null),w=(0,u.useRef)(null),A=(0,u.useRef)(null),[P,j]=(0,u.useState)(!1),[I,O]=(0,u.useState)((()=>!!x&&x.value===n)),[N,R]=(0,u.useState)((()=>!!T&&T.value===n)),[D,L]=(0,u.useState)(!1);(0,d.useListener)(x,n.id.toString(),((e,t)=>{const n="focus"===e;if(n){const e=A.current;e&&(s.default.focus(e),t&&(0,v.scrollIntoViewIfNeeded)(e))}O(n)})),(0,d.useListener)(T,n.id.toString(),((e,t)=>{if("focus"===e){const e=A.current;e&&(s.default.focus(e),t&&(0,v.scrollIntoViewIfNeeded)(e))}R(!!e)}));const B=()=>k.current,F=()=>(0,r.default)(A.current,"hotKeysRef.current");(0,u.useImperativeHandle)(t,(()=>({getContainerElement:F,getWrapperRef:B})));const G=n.senderObj.formattedName,U=n.chat.isUser?c.ContactCollection.assertGet(n.to).formattedName?c.ContactCollection.assertGet(n.to).formattedName:(0,l.widToFormattedUser)(n.to):n.chat.title(),V=E===o.DISPLAY_TYPE.GALLERY?null:(0,S.jsxs)("div",{className:b.default.title,children:[(0,S.jsxs)("div",{className:b.default.titleMain,children:[(0,S.jsx)("div",{className:b.default.avatar,children:(0,S.jsx)(f.DetailImage,{id:n.senderObj.id,size:26})}),(0,S.jsx)(h.EmojiText,{className:b.default.author,text:G,direction:"auto",titlify:!0}),(0,S.jsx)("span",{className:b.default.divider}),(0,S.jsx)(h.EmojiText,{className:b.default.chat,text:U,direction:"auto",titlify:!0})]}),(0,S.jsx)("div",{className:b.default.meta,dir:"auto",children:i.Clock.relativeStr(n.t)}),(0,S.jsx)("div",{className:b.default.chevron,children:(0,S.jsx)(y.default,{name:"chevron-right-alt",directional:!0})})]}),W={enter:e=>{e.stopPropagation(),e.preventDefault(),null==M||M(n)}};W[g.default.LR("right","left")]=()=>{var e;null===(e=k.current)||void 0===e||e.openContextMenu()};const H=e.selectable||P&&E===o.DISPLAY_TYPE.GALLERY;return(0,S.jsx)(m.HotKeys,{ref:A,handlers:W,onFocus:()=>{var e;L(!0),null===(e=w.current)||void 0===e||e.indicateFocus()},onBlur:()=>{L(!1)},children:(0,S.jsxs)(p.default,{ref:w,hover:P,current:I&&D,active:N,onClick:()=>e.onClickMsg&&e.onClickMsg(n,a&&!a.isSelected(n)),onMouseEnter:P?null:()=>{P||j(!0)},onMouseOver:P?null:()=>{P||j(!0)},onMouseLeave:P?()=>{P&&j(!1)}:null,children:[V,(0,S.jsx)(C.Wrapper,{msg:n,ref:k,current:I&&D,displayType:E||o.DISPLAY_TYPE.STARRED_MSGS,isMsgVisible:e.isMsgVisible,selectable:H,selectedMessages:a,onMessageSelect:e.onMessageSelect,position:_.MsgPosition.END,tailOverride:"left",onProductClick:e.onProductClick,onMessageClick:e.onMessageClick},n.id.toString())]})})}var x=(0,u.forwardRef)(E);t.default=x},24871:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t}=e;const{ack:n,isMedia:a,isViewOnce:f,caption:h,type:p,loc:m,isLive:g}=(0,l.useModelValues)(t,["ack","isMedia","isViewOnce","caption","type","loc","isLive"]),_=a&&!h&&!f&&p!==i.MSG_TYPE.AUDIO||p===i.MSG_TYPE.LOCATION&&!m&&!g;let v,b,y;n<r.ACK.SENT?(v="msg-time",b=s.fbt._("Pending",null,{hk:"3rTXIk"})):n===r.ACK.SENT?(v="msg-check",b=s.fbt._("Sent",null,{hk:"xgkjk"})):n===r.ACK.RECEIVED?(v="msg-dblcheck",b=s.fbt._("Delivered",null,{hk:"2VFqLn"})):(v="msg-dblcheck",b=s.fbt._("Read",null,{hk:"45eIFk"}),y=u.default.ackBlue);return(0,c.jsx)(d.default,{"aria-label":` ${b.toString()} `,name:v,className:(0,o.default)(y,{[u.default.light]:_})})};var r=n(35470),i=n(15461),o=a(n(94184)),s=n(48360),l=n(35461),u=a(n(61871)),d=a(n(23217)),c=n(85893)},1539:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,u.useModelValues)(e.msg,["id","isNewMsg","isSentByMe","isGroupMsg","senderObj","quotedMsg","ctwaContext","hasReaction"]);(0,l.useEffect)((()=>{t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:m.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[]);const n=e.displayAuthor?(0,S.jsx)("div",{className:y.default.author,children:(0,S.jsx)(d.default,{msg:t,contact:t.senderObj})}):null,a=e.quotedMsg?(0,S.jsx)("div",{className:y.default.quote,children:e.quotedMsg}):null,E=(0,s.default)(y.default.bubble,{[y.default.hasAuthor]:e.displayAuthor,[y.default.isFirst]:e.position===h.MsgPosition.FRONT||e.position===h.MsgPosition.SINGLE,[y.default.isTransparent]:!t.quotedMsg&&!t.ctwaContext});let x=null;(0,o.receiveReactionsEnabled)()&&!e.quotedMsg&&e.displayType===i.DISPLAY_TYPE.CONVERSATION&&(x=(0,S.jsx)("div",{className:y.default.reactionBubbleContainer,children:(0,S.jsx)(g.default,{msgIds:[t.id.toString()],isSentByMe:t.isSentByMe,reactionBubbleType:_.ReactionBubbleType.STICKER,hasReaction:t.hasReaction})}));return(0,S.jsxs)("div",{className:E,onClick:e=>{e.stopPropagation()},children:[n,a,(0,S.jsx)(c.default,{msg:t.unsafe(),wrapperClass:y.default.ctwaContext}),(0,S.jsxs)("div",{className:y.default.body,children:[(0,S.jsx)(C.default,{mediaData:e.mediaData,msg:t,children:(0,S.jsx)(b.default,{ref:e.forwardRef,mediaData:e.mediaData,theme:"conversation",isNewMsg:t.isNewMsg,downloadMedia:()=>t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:m.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1}),animateOnView:e.animateOnView,onClick:n=>{n.stopPropagation(),r.Cmd.mediaViewerModal({msg:(0,v.unproxy)(t.unsafe()),getZoomNode:()=>{var t,n;return null===(t=e.forwardRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.getImgNode()}})}})}),(0,S.jsxs)(f.FlexColumn,{children:[(0,S.jsx)("div",{className:y.default.meta,children:(0,S.jsx)(p.Meta,{msg:t})}),x]})]})]})};var r=n(81572),i=n(5177),o=n(8139),s=a(n(94184)),l=n(67294),u=n(35461),d=a(n(72655)),c=a(n(11740)),f=n(29623),h=n(87931),p=n(42316),m=a(n(11339)),g=a(n(52500)),_=n(94270),v=n(18146),b=a(n(12064)),y=a(n(92269)),C=a(n(67014)),S=n(85893)},67014:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e,n=(0,s.useModelValues)(e.mediaData,["mediaStage","size"]),a=()=>{r.ModalManager.open((0,f.jsx)(l.default,{msg:t.unsafe()}))},h=()=>{t.forceDownloadMediaEvenIfExpensive()},m=()=>{t.cancelDownload()},g=()=>{t.cancelUpload()},_=()=>{t.resumeUpload()},v=()=>{t.resumeRemoteUpload()};let b,y;const{mediaStage:C}=n;switch(C){case d.MEDIA_DATA_STAGE.RESOLVED:b=null,y=null;break;case d.MEDIA_DATA_STAGE.FETCHING:b=m,y=(0,f.jsx)(u.Pending,{cancelable:!0});break;case d.MEDIA_DATA_STAGE.NEED_POKE:b=h,y=(0,f.jsx)(u.Download,{filesize:n.size});break;case d.MEDIA_DATA_STAGE.FINALIZING:case d.MEDIA_DATA_STAGE.UPLOADING:b=g,y=(0,f.jsx)(u.Pending,{cancelable:!0});break;case d.MEDIA_DATA_STAGE.NEED_UPLOAD:b=_,y=(0,f.jsx)(u.Upload,{filesize:n.size});break;case d.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:b=v,y=(0,f.jsx)(u.Upload,{filesize:n.size});break;case d.MEDIA_DATA_STAGE.ERROR_MISSING:b=a,y=(0,f.jsx)(u.Upload,{filesize:n.size});break;case d.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:b=a,y=(0,f.jsx)(u.Download,{filesize:n.size});break;case d.MEDIA_DATA_STAGE.SENDING:case d.MEDIA_DATA_STAGE.DECRYPTING:case d.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case d.MEDIA_DATA_STAGE.INIT:case d.MEDIA_DATA_STAGE.PREPARING:case d.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case d.MEDIA_DATA_STAGE.REUPLOADING:case d.MEDIA_DATA_STAGE.EXISTS:y=(0,f.jsx)(u.Pending,{});break;case d.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:case d.MEDIA_DATA_STAGE.PROGRESSIVE_READY:throw new Error(`invalid value for sticker mediaStage '${C}'`)}return(0,f.jsxs)("div",{className:(0,i.default)((0,o.default)(p),c.default.container),onClick:b,children:[y,e.children]})};var r=n(14597),i=a(n(94184)),o=a(n(56720)),s=n(35461),l=a(n(20668)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(41124)),d=n(58668),c=a(n(5138)),f=n(85893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const p={alignItems:"gndfcl4n",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf",cursor:"ajgl1lbb",display:"p357zi0d",justifyContent:"ac2vgrno",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2"}},39812:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(40436)),i=n(67294),o=n(65417),s=a(n(47336)),l=n(58827),u=n(85893);function d(e,t){let n;const[a,d]=(0,i.useState)(void 0),[c,f]=(0,i.useState)(!0),h=e=>{d(e)},p=e=>{f(e)};return(0,i.useImperativeHandle)(t,(()=>({updateDateMarkerText:h,setVisibility:p}))),a&&c&&(n=(0,u.jsx)("div",{className:s.default.sticky,children:(0,u.jsx)(l.SystemBubble,{theme:"sticky",children:(0,u.jsx)(o.EmojiText,{direction:"auto",text:a})})})),(0,u.jsx)(r.default,{transitionName:"slide-down-date",children:n})}var c=(0,i.forwardRef)(d);t.default=c},2284:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,n,a,R,D,{msg:L,displayAuthor:B,trusted:F,displayType:G,quotedMsg:U}=e;if(F&&(L.linkPreview||L.ctwaContext)){const e=(0,k.default)(L);if(L.ctwaContext)t=(0,N.jsx)(f.default,{msg:L.unsafe(),wrapperClass:P.default.linkPreview});else if(e)t=(0,N.jsx)("div",{className:P.default.linkPreview,children:(0,N.jsx)(O.default,{msg:L.unsafe()})});else{const e=(0,M.parseAPICmd)(L.matchedText);if(e.resultType===s.APICmd.GROUP_INVITE){if(t=(0,N.jsx)("div",{className:P.default.linkPreview,children:(0,N.jsx)(y.default,{msg:L.unsafe(),displayType:G,isInvite:!0})}),G!==r.DISPLAY_TYPE.GALLERY){var V;const e=(0,I.getGroupInviteActionText)(L.isSentByMe,null!==(V=L.inviteGrpType)&&void 0!==V?V:_.GroupType.DEFAULT);n=(0,N.jsx)(l.default,{items:[{label:e,onClick:()=>{const e=L.matchedText;(0,g.openExternalLink)(e)}}]})}}else if(e.resultType===s.APICmd.CATALOG){if(t=(0,N.jsx)("div",{className:P.default.linkPreview,children:(0,N.jsx)(d.default,{msg:L.unsafe()})}),G!==r.DISPLAY_TYPE.GALLERY){const e=o.fbt._("View catalog",null,{hk:"1bDXja"});n=(0,N.jsx)(l.default,{items:[{label:e,onClick:()=>{const e=L.matchedText;(0,g.openExternalLink)(e)}}]})}}else{const e=L.asUrl;if(e){let n;if((0,C.displayHighQualityLinkPreview)(L.unsafe(),G)&&null!=e.thumbnailHeight&&null!=e.thumbnailWidth){const t=e.thumbnailHeight/e.thumbnailWidth;a=t>=1?"portrait":"landscape",n="high-quality"}t=(0,N.jsx)("div",{className:P.default.linkPreview,children:(0,N.jsx)(y.default,{msg:L.unsafe(),displayType:G,theme:n})})}}}}const W=h.EmojiUtil.matchLargeEmojiPattern(L.body);if(W){const e=1===W.length&&h.EmojiUtil.getHeartEmojis().some((e=>h.EmojiUtil.normalizeEmoji(e)===h.EmojiUtil.normalizeEmoji(W[0])));R=(0,N.jsx)(T.default,{animation:e,emojis:W}),D=!0}else{const e=!0;R=(0,N.jsx)(m.default,{text:L.body,textLimit:L.initialPageSize,children:t=>{let{textLimit:n}=t;const a=(0,c.Conversation)({mentions:L.mentionMap(),links:L.getLinks(n),phoneNumbers:L.getPhoneNumbers(n),selectable:e,trusted:!0===F,fromMe:L.id.fromMe});return(0,N.jsx)(p.EmojiText,{text:L.body,className:G===r.DISPLAY_TYPE.GALLERY?"message-text-link":"",dirMismatch:L.rtl!==b.default.isRTL(),direction:L.dir,inferLinesDirection:!0,formatters:a,selectable:e,textLimit:n})}})}let H,q;if(L.supportsMessageFooter){const{formatters:e,selectable:t}=L.isDynamicReplyButtonsMsg?(0,v.enableHeaderAndFooterFormatting)(L.getHeaderLinks(),!0===F):{};H=L.title?(0,N.jsx)("div",{className:P.default.title,children:(0,N.jsx)(p.EmojiText,{text:L.title,dirMismatch:L.rtl!==b.default.isRTL(),direction:L.dir,selectable:t,formatters:e})}):null,q=(0,N.jsx)(A.default,{dir:L.dir,footer:L.footer,isShown:L.supportsMessageFooter,msg:L.unsafe(),rtl:L.rtl,trusted:F,type:L.type})}const Y=G!==r.DISPLAY_TYPE.GALLERY&&!L.isPSA&&!D;let z;U&&(z=(0,N.jsx)("div",{className:P.default.quote,children:U}));const K=(0,x.showForwarded)(L),$=L.getSuspiciousLinks().length>0,Q=!!n||!!L.hasTemplateButtons||!!L.isDynamicReplyButtonsMsg;let X;Q&&(X=(0,N.jsx)("div",{className:P.default.meta,children:(0,N.jsx)(E.Meta,{msg:L})}));return(0,N.jsx)(j.default,{msg:L,displayType:G,displayAuthor:B,hideMeta:Q,theme:a,useFixedWidth:L.isDynamicReplyButtonsMsg,children:(0,N.jsxs)(u.default,{className:(0,i.default)({[P.default.hasAuthor]:B,[P.default.forwarded]:K,[P.default.hasSuspiciousLinks]:$}),contact:L.senderObj,msg:L.unsafe(),children:[z,!L.ctwaContext&&(0,N.jsx)(w.SuspiciousLabel,{msg:L.unsafe(),displayType:G}),t,(0,N.jsxs)(S.default,{msg:L.unsafe(),spacer:L.isFromTemplate||L.isDynamicReplyButtonsMsg?Y&&!L.footer:Y,"data-id":L.id,children:[H,R,q,X]}),n]})})};var r=n(5177),i=a(n(94184)),o=n(48360),s=n(51650),l=a(n(58286)),u=a(n(85559)),d=a(n(18941)),c=n(74331),f=a(n(11740)),h=n(67247),p=n(65417),m=a(n(17080)),g=n(12591),_=n(55981),v=n(9412),b=a(n(14296)),y=a(n(36588)),C=n(32554),S=a(n(54703)),E=n(42316),x=n(63132),T=a(n(68272)),M=n(81093),k=a(n(77807)),w=n(7538),A=a(n(95839)),P=a(n(52246)),j=a(n(12209)),I=n(5646),O=a(n(85476)),N=n(85893)},12209:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)(d.default.bubble,{[d.default.isPSA]:e.msg.isPSA,[d.default.portrait]:"portrait"===e.theme,[d.default.landscape]:"landscape"===e.theme,[d.default.fixedWidth]:e.useFixedWidth}),n=!1!==e.displayAuthor&&(!e.msg.isSentByMe&&e.msg.isGroupMsg)?(0,c.jsx)(o.default,{msg:e.msg,contact:e.msg.senderObj}):null,a=(0,u.showForwarded)(e.msg)?(0,c.jsx)(s.default,{msg:e.msg.unsafe()}):null,f=e.displayType===r.DISPLAY_TYPE.GALLERY||e.hideMeta?null:(0,c.jsx)("div",{className:d.default.meta,children:(0,c.jsx)(l.Meta,{msg:e.msg})});return(0,c.jsxs)("div",{className:t,children:[n,a,e.children,f]})};var r=n(5177),i=a(n(94184)),o=a(n(72655)),s=a(n(14703)),l=n(42316),u=n(63132),d=a(n(20562)),c=n(85893)},2749:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.jsx)("div",{className:(0,r.default)(o)})};var r=a(n(56720)),i=n(85893);const o={position:"lhggkp7q",bottom:"jxacihee",start:"tkdu00h0",zIndex:"b9fczbqn",width:"ln8gz9je",height:"he7yjufn",backgroundImage:"e1lnay39"}},29565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayTheme=void 0;const a=n(76672).Mirrored(["Album"]);t.DisplayTheme=a},70449:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=a(n(14296)),o=n(1041),s=a(n(38537)),l=n(85893);t.default=e=>{let{count:t,textContainerRef:n}=e;const a=i.default.t(631,{count:i.default.n(t),_plural:t});return(0,l.jsx)("div",{className:(0,r.default)(s.default.msgUnread,o.LIST_FOCUSABLE_ITEM_CLASS_NAME),ref:n,tabIndex:-1,children:(0,l.jsx)("span",{className:s.default.msgUnreadBody,"aria-live":"polite",children:a})})}},83236:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayAuthor:n,displayType:a,hideUpdateButton:r=!1}=e;return(0,p.jsx)(c.default,{msg:t,displayAuthor:n,children:(0,p.jsxs)(d.default,{iconName:"unknown",msg:t.unsafe(),children:[(0,u.default)(t.unsafe())," ",r?null:(0,p.jsx)(_,{msg:t})]})})};var r=n(88555),i=n(94816),o=n(48360),s=a(n(56720)),l=n(54793),u=a(n(57130)),d=a(n(99422)),c=a(n(12209)),f=n(50452),h=n(83023),p=n(85893);const m={color:"seuajalt"};function g(){i.ToastManager.open((0,p.jsx)(f.Toast,{msg:o.fbt._("Updating WhatsApp",null,{hk:"1SyEpq"}),id:(0,f.genId)()})),h.Updater.update().then((e=>{e===l.DownloadState.UPDATE_NOT_AVAILABLE?(__LOG__(3)`Got unsupported message but no newer release found`,i.ToastManager.open((0,p.jsx)(f.Toast,{msg:o.fbt._("No update found",null,{hk:"NiZO5"}),id:(0,f.genId)()}))):e===l.DownloadState.UPDATE_DOWNLOADED?h.Updater.restart():__LOG__(3)`Got unsupported message but updater errored`}))}function _(e){let{msg:t}=e;return(0,r.isMDBackend)()&&"fanout"===t.subtype?null:t.isSentByMe||!t.subtype?(0,p.jsx)("span",{className:(0,s.default)(m),role:"button",onClick:g,children:o.fbt._("Click here to update.",null,{hk:"mDvEI"})}):null}window.updater=h.Updater},93137:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{downloadMedia:t,mediaStage:a,vcard:_,onMessageClick:E}=e,F=(0,g.useModelValues)(e.msg.unsafe(),["vcardFormattedName","rtl","dir","isSentByMe","isGroupMsg","senderObj","chat","isVcardOverMmsDocument","type"]),z=(e,t,a)=>{const r=a&&t;r&&(0,P.qplStartProfileView)("VCard"),(0,k.findChat)(e,a).then((e=>{null==E||E(),c.ModalManager.close(),s.Cmd.openChatFromUnread(e).then((a=>{if(a){if(t){const{InfoFlowLoadable:t}=n(23831);u.DrawerManager.openDrawerRight((0,H.jsx)(t,{chat:e,profileEntryPoint:N.default.PROFILE_ENTRY_POINT.CONTACT_CARD},`info-${e.id.toString()}`),"slide-left",U.UIM.Manager.getTop())}C.ComposeBoxActions.focus(e)}else r&&(0,P.qplEndProfileView)(L.QuickLogActionType.FAIL)})).catch((()=>{r&&(0,P.qplEndProfileView)(L.QuickLogActionType.FAIL)}))})).catch((()=>{r&&(0,P.qplEndProfileView)(L.QuickLogActionType.FAIL)}))},K=e=>{if(!_)return;const t=(0,h.vcardWids)(_),n=(0,h.vcardIsBiz)(_);t.length>1?c.ModalManager.open((0,H.jsx)(W.default,{icon:(0,H.jsx)(G.default,{name:"chat",className:V.default.icon,directional:!0}),vcard:_,onCancel:()=>c.ModalManager.close(),onSelect:t=>z(t,e,n)})):t.length>0&&z(t[0],e,n)},Q=(e,t)=>{const n={label:m.fbt._("Message",null,{hk:"mZ5DE"}),onClick:()=>K(!1),title:e?m.fbt._("Message {author}",[m.fbt._param("author",e)],{hk:"1kM7Cg"}):m.fbt._("Message",null,{hk:"mZ5DE"})};if(t){return[n,{label:m.fbt._("View business",null,{hk:"4BEiPi"}),onClick:()=>K(!0)}]}return[n,{label:A.default.t(130),onClick:()=>{!function(e){const t=(0,h.vcardWids)(e);t.length>1&&e?c.ModalManager.open((0,H.jsx)(W.default,{icon:(0,H.jsx)(G.default,{name:"add-user",directional:!0}),vcard:e,onCancel:()=>c.ModalManager.close(),onSelect:$})):t.length>0&&$(t[0])}(_)}}]},X=()=>{c.ModalManager.open((0,H.jsx)(j.default,{msg:F.unsafe()}))};let J,Z,ee;if(_){J=(0,h.vcardWids)(_);const e=F.type===f.MSG_TYPE.VCARD?F.vcardFormattedName:null;Z=(0,i.default)(e||(0,h.vcardGetNameFromParsed)(_)||A.default.t(139),{length:120,omission:A.default.t(549)}),J.length>0&&(ee=(0,H.jsx)(b.default,{items:Q(Z,(0,h.vcardIsBiz)(_))}))}const te=e.displayAuthor?(0,H.jsx)("div",{className:V.default.author,children:(0,H.jsx)(v.default,{msg:F.safe(),contact:F.senderObj})}):null,ne=e.quotedMsg?(0,H.jsx)("div",{className:V.default.quote,children:e.quotedMsg}):null,ae=(0,p.default)(V.default.bubble,{[V.default.hasAuthor]:te,[V.default.hasQuote]:ne,[V.default.isPreview]:e.displayType===l.DISPLAY_TYPE.MSG_INFO,[V.default.isGallery]:e.displayType===l.DISPLAY_TYPE.STARRED_MSGS||e.displayType===l.DISPLAY_TYPE.CONTACT_CARD||e.displayType===l.DISPLAY_TYPE.GALLERY}),re=F.type===f.MSG_TYPE.DOCUMENT&&F.isVcardOverMmsDocument&&a===I.MEDIA_DATA_STAGE.ERROR_MISSING,ie=re||!e.placeholder&&(_||F.chat.isTrusted()),oe=ie?re?X:()=>{_?c.ModalManager.open((0,H.jsx)(x.default,{vcard:_})):c.ModalManager.open((0,H.jsx)(S.default,{onCancel:()=>c.ModalManager.close(),onOK:()=>{c.ModalManager.close(),d.FileSaver.initDownload((0,B.unproxy)(F.unsafe()))},okText:m.fbt._("Download",null,{hk:"1g5Jix"}),cancelText:m.fbt._("Cancel",null,{hk:"H0gNq"}),title:m.fbt._("Download contact?",null,{hk:"THELh"}),children:m.fbt._("This contact can't be displayed in WhatsApp Web. Download it to open it with another app on your computer?",null,{hk:"3Ii3sv"})}))}:()=>{},se=w.Configuration.Compatibility({selectable:true}),le=e.placeholder?(0,H.jsx)(q,{downloadMedia:t,mediaStage:a}):(0,H.jsx)(R.default,{size:49,thumb:(0,h.vcardThumbnail)(_),wid:D.ProfilePicThumbCollection.getThumbnailWidFromVcard(_)}),ue=e.placeholder?(0,H.jsx)(Y,{mediaStage:a}):(0,H.jsx)(M.EmojiText,{text:Z,element:"div",className:V.default.name,selectable:true,dirMismatch:F.rtl!==A.default.isRTL(),direction:F.dir,formatters:se});e.placeholder&&(ee=a===I.MEDIA_DATA_STAGE.ERROR_MISSING?(0,H.jsx)(b.default,{items:Q().map((e=>(0,r.default)((0,r.default)({},e),{},{onClick:X})))}):(0,H.jsx)(b.default,{items:[],placeholder:!0}));return(0,H.jsxs)(y.default,{className:ae,contact:F.senderObj,msg:F.unsafe(),children:[te,ne,(0,H.jsx)(T.default,{msg:F.unsafe(),wrapperClass:V.default.ctwaContext}),(0,H.jsxs)("div",{className:V.default.vcard,"data-a8n":o.default.key("vcard-msg"),role:ie?"button":null,onClick:oe,children:[(0,H.jsx)("div",{className:V.default.avatar,children:le}),(0,H.jsx)("div",{className:V.default.body,children:ue}),(0,H.jsx)("div",{className:V.default.meta,children:(0,H.jsx)(O.Meta,{msg:F.safe()})})]}),ee]})};var r=a(n(81109)),i=a(n(39138)),o=a(n(99964)),s=n(81572),l=n(5177),u=n(41455),d=n(21634),c=n(14597),f=n(15461),h=n(93778),p=a(n(94184)),m=n(48360),g=n(35461),_=n(40936),v=a(n(72655)),b=a(n(58286)),y=a(n(85559)),C=n(88172),S=a(n(52665)),E=n(19380),x=a(n(4317)),T=a(n(11740)),M=n(65417),k=n(50101),w=n(30695),A=a(n(14296)),P=n(56057),j=a(n(20668)),I=n(58668),O=n(42316),N=a(n(11339)),R=a(n(87543)),D=n(82039),L=n(48870),B=n(18146),F=a(n(38932)),G=a(n(23217)),U=n(89618),V=a(n(18082)),W=a(n(21915)),H=n(85893);function q(e){const{downloadMedia:t,mediaStage:n}=e;if(!n)return(0,H.jsx)(K,{downloadMedia:t});switch(n){case I.MEDIA_DATA_STAGE.NEED_POKE:case I.MEDIA_DATA_STAGE.INIT:return(0,H.jsx)(K,{downloadMedia:t});case I.MEDIA_DATA_STAGE.FETCHING:case I.MEDIA_DATA_STAGE.REUPLOADING:case I.MEDIA_DATA_STAGE.DECRYPTING:return(0,H.jsx)(z,{animate:!0,type:"profileImage"});case I.MEDIA_DATA_STAGE.RESOLVED:return(0,H.jsx)(z,{type:"profileImage"});case I.MEDIA_DATA_STAGE.ERROR_MISSING:return(0,H.jsx)(K,{downloadMedia:()=>{}});default:return(0,H.jsx)(z,{animate:!0,type:"profileImage"})}}function Y(e){const{mediaStage:t}=e;if(!t)return(0,H.jsx)(z,{type:"body"});switch(t){case I.MEDIA_DATA_STAGE.NEED_POKE:case I.MEDIA_DATA_STAGE.INIT:return(0,H.jsx)(z,{type:"body"});case I.MEDIA_DATA_STAGE.FETCHING:case I.MEDIA_DATA_STAGE.REUPLOADING:case I.MEDIA_DATA_STAGE.DECRYPTING:return(0,H.jsx)(z,{animate:!0,type:"body"});case I.MEDIA_DATA_STAGE.RESOLVED:case I.MEDIA_DATA_STAGE.ERROR_MISSING:default:return(0,H.jsx)(z,{type:"body"})}}function z(e){const{animate:t,type:n}=e,a=[V.default.placeholder,"profileImage"===n?V.default.placeholderImage:V.default.placeholderText,t?V.default.placeholderAnimation:null].filter(Boolean);return(0,H.jsx)("div",{className:(0,p.default)(a)})}function K(e){const{downloadMedia:t}=e;return(0,H.jsx)(F.default,{"aria-label":m.fbt._("Download",null,{hk:"1g5Jix"}),name:"audio-download",className:V.default.vcardDownloadStageIcon,onClick:()=>{null==t||t()}})}const $=e=>{E.ContactCollection.find(e).then((e=>{c.ModalManager.open((0,H.jsx)(_.AddContactToGroupFlowLoadable,{contact:e}),{transition:"modal-flow"})}))}},98723:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{displayAuthor:n,displayType:a,onMessageClick:p,msg:m}=e,g=(0,s.useModelValues)(e.mediaData,["mediaBlob","mediaStage","parsedVcards","size"]),_=()=>{m.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:u.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})};(0,o.useEffect)((()=>{m.isTrusted()&&g.size<=1024*c.ServerProps.mmsVcardAutodownloadSizeKb&&_()}),[]);const v=(0,o.useCallback)((0,r.default)((e=>{let{parsedVcards:t}=e;return t?t.map((e=>({parsedVcard:e,displayName:(0,i.vcardGetNameFromParsed)(e)||l.default.t(139),isMultiVcard:!1,vcard:""}))):[]})),[]),{parsedVcards:b}=g;if(b)return b.length>1?(0,h.jsx)(d.default,{msg:m,vcardList:v({parsedVcards:b}),quotedMsg:e.getQuotedMsg(),displayType:a,displayAuthor:n}):(0,h.jsx)(f.default,{msg:m,vcard:b[0],quotedMsg:e.getQuotedMsg(),displayType:a,displayAuthor:n,onMessageClick:p});return(0,h.jsx)(f.default,{mediaStage:null===(t=m.mediaData)||void 0===t?void 0:t.mediaStage,msg:m,vcard:null,quotedMsg:e.getQuotedMsg(),displayType:a,displayAuthor:n,onMessageClick:p,downloadMedia:m.isTrusted()?_:null,placeholder:!0})};var r=a(n(82594)),i=n(93778),o=n(67294),s=n(35461),l=a(n(14296)),u=a(n(11339)),d=a(n(85851)),c=n(64551),f=a(n(93137)),h=n(85893)},83681:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(99964)),i=n(81572),o=n(14597),s=n(48360),l=n(67294),u=a(n(56720)),d=n(35461),c=a(n(52665)),f=a(n(68466)),h=n(29623),p=a(n(48846)),m=a(n(14296)),g=n(58668),_=a(n(47049)),v=a(n(54703)),b=a(n(5511)),y=n(42316),C=a(n(11339)),S=n(18146),E=a(n(38932)),x=a(n(23217)),T=n(13923),M=a(n(12209)),k=a(n(1784)),w=a(n(72306)),A=n(84728),P=n(85893);const j={buttonContainer:{position:"g0rxnol2",display:"p357zi0d",alignItems:"elxb2u3l",minWidth:"llkbrke6",height:"smoo1fur",color:"gtscxtjd",textAlign:"tffp5ko5",cursor:"ajgl1lbb"},statusIcon:{color:"mymavskd",height:"bmot90v7"},statusDone:{color:"a6r0u4sv"},content:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"r15c9g6i",maxHeight:"ruh8h8mp",paddingEnd:"btzf6ewn"},unviewedBubble:{boxSizing:"cm280p3y",paddingTop:"eujn52yf",paddingEnd:"jfqm35v0",paddingBottom:"ckm995li",paddingStart:"bdbt56hn"},deepContainerContent:{boxSizing:"cm280p3y",minWidth:"hwyr1eu5",height:"smoo1fur",paddingTop:"i5tg98hk",paddingEnd:"abxuf49s",paddingBottom:"przvwfww",paddingStart:"rppts313",overflowX:"gfz4du6o",overflowY:"r7fjleex"},accentIconSvg:{color:"crm5a8gb"},nonSpinnerIcon:{display:"l7jjieqr",minWidth:"mhp1pqu9",marginTop:"tt8xd2xn",marginEnd:"mw4yctpw",marginBottom:"mpdn4nr2",marginStart:"bx0vhl82"},nonSpinnerIconSvg:{width:"i94gqilv",height:"bmot90v7"},contentMeta:{color:"hp667wtd"},labelContainer:{minWidth:"kr606f8j"},labelText:{userSelect:"rkxvyd19"},labelActive:{color:"pm5hny62"},labelInactive:{fontStyle:"h432zind",color:"hp667wtd"},labelRetry:{fontWeight:"hnx8ox4h",color:"pm5hny62"},quote:{marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"ngycyvoj",marginStart:"heai6z19"},meta:{position:"lhggkp7q",end:"b4u6kxhc",bottom:"blj1rie1"},dialogTitle:{marginBottom:"or9x5nie"}};function I(e){e.stopPropagation(),e.preventDefault()}function O(e,t){let{displayAuthor:n,displayType:a,mediaData:O,msg:N,trusted:R,quotedMsg:D}=e;const{mediaStage:L,size:B}=(0,d.useModelValues)(O,["mediaStage","size"]),F=(0,d.useModelValues)(N,["ack","isGroupMsg","isFailed","isPSA","isSentByMe","senderObj","type"]),G=function(e,t){return(0,l.useMemo)((()=>{const n=t.type===g.OUTWARD_TYPES.IMAGE,a=n?s.fbt._("Photo",null,{hk:"SBkDD"}):s.fbt._("Video",null,{hk:"2SOGaJ"});if((0,A.isViewed)(t))return{type:"complete",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once-viewed"}),label:s.fbt._("Opened",null,{hk:"4eZcUM"}),labelStyle:j.labelInactive};if((0,A.isExpired)(t)&&!t.isSentByMe)return{type:"unviewed",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once"}),handleClick:()=>{const e=t.senderObj.displayName,a=n?s.fbt._("Photo expired",null,{hk:"hKfZf"}):s.fbt._("Video expired",null,{hk:"3GxyJh"}),r=n?m.default.t(657,{name:e}):m.default.t(658,{name:e});o.ModalManager.open((0,P.jsx)(c.default,{onOK:()=>o.ModalManager.close(),children:(0,P.jsxs)(h.FlexColumn,{children:[(0,P.jsx)(T.TextHeader,{xstyle:j.dialogTitle,theme:"popup-title",children:a}),(0,P.jsx)(T.TextParagraph,{color:"secondary",children:r})]})}))},label:a};switch(e){case g.MEDIA_DATA_STAGE.RESOLVED:case g.MEDIA_DATA_STAGE.PROGRESSIVE_READY:return t.isSentByMe?{type:"complete",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once"}),label:a,labelStyle:j.labelActive}:{type:"unviewed",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once"}),handleClick:function(){i.Cmd.mediaViewerModal({msg:(0,S.unproxy)(t.unsafe())})},label:a};case g.MEDIA_DATA_STAGE.FETCHING:return t.isSentByMe?{type:"complete",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once"}),label:a,labelStyle:j.labelActive}:{type:"unviewed",icon:(0,P.jsx)(w.default,{}),handleClick:e=>{I(e),t.cancelDownload()},label:a};case g.MEDIA_DATA_STAGE.NEED_POKE:return{type:"unviewed",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once-download"}),handleClick:e=>{I(e),t.forceDownloadMediaEvenIfExpensive()},label:a};case g.MEDIA_DATA_STAGE.FINALIZING:case g.MEDIA_DATA_STAGE.UPLOADING:return{type:"complete",icon:(0,P.jsx)(w.default,{onClick:e=>{I(e),t.cancelUpload()}}),label:a,labelStyle:j.labelActive};case g.MEDIA_DATA_STAGE.NEED_UPLOAD:return{type:"complete",icon:(0,P.jsx)(E.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once-retry",onClick:e=>{I(e),t.resumeUpload()},"aria-label":s.fbt._("Retry",null,{hk:"2jS9Tg"})}),label:s.fbt._("Retry",null,{hk:"2jS9Tg"}),labelStyle:j.labelRetry};case g.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:return{type:"complete",icon:(0,P.jsx)(E.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once-retry",onClick:e=>{I(e),t.resumeRemoteUpload()},"aria-label":s.fbt._("Retry",null,{hk:"2jS9Tg"})}),label:s.fbt._("Retry",null,{hk:"2jS9Tg"}),labelStyle:j.labelRetry};case g.MEDIA_DATA_STAGE.SENDING:return{type:"complete",icon:(0,P.jsx)(w.default,{}),label:a,labelStyle:j.labelActive};case g.MEDIA_DATA_STAGE.ERROR_MISSING:return{type:"complete",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once-viewed"}),label:s.fbt._("Expired",null,{hk:"3HKvpZ"}),labelStyle:j.labelInactive};case g.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:case g.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case g.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:return __LOG__(4,void 0,new Error,!0)`Unsupported/too large/not readable view once media message`,SEND_LOGS("view-once-hook-error"),{type:"complete",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once-viewed"}),label:a,labelStyle:j.labelActive};case g.MEDIA_DATA_STAGE.INIT:case g.MEDIA_DATA_STAGE.PREPARING:case g.MEDIA_DATA_STAGE.DECRYPTING:case g.MEDIA_DATA_STAGE.EXISTS:if(!t.isSentByMe)return{type:"unviewed",icon:(0,P.jsx)(w.default,{}),handleClick:I,label:a};case g.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case g.MEDIA_DATA_STAGE.REUPLOADING:return{type:"complete",icon:(0,P.jsx)(x.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once"}),label:a,labelStyle:j.labelActive}}}),[e,t])}(L,F);(0,l.useImperativeHandle)(t,(()=>({handleKeyActivation(e){R&&null!=G.handleClick&&G.handleClick(e)}}))),(0,l.useEffect)((()=>{!F.isSentByMe&&(0,A.isUnviewed)(F)&&F.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:C.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[F]);const U=N.type===g.OUTWARD_TYPES.IMAGE?s.fbt._("View once photo",null,{hk:"2obYts"}):s.fbt._("View once video",null,{hk:"3nw2h1"});let V;if("complete"===G.type){const{label:e,labelStyle:t,icon:a}=G,i=(0,A.isUnviewed)(N)?U:[e,U].join(" - ");V=(0,P.jsxs)(M.default,{msg:N,displayAuthor:n,children:[null!=D?(0,P.jsx)("div",{className:(0,u.default)(j.quote),children:D}):null,(0,P.jsxs)(h.FlexRow,{align:"center",xstyle:j.labelContainer,a8nText:r.default.key("view-once-complete"),"aria-label":i,children:[(0,P.jsx)(p.default,{xstyle:[j.statusIcon,(0,A.isViewed)(F)&&j.statusDone],grow:0,children:a}),(0,P.jsx)(p.default,{grow:1,children:(0,P.jsx)(v.default,{className:(0,u.default)(t,j.labelText),msg:F.unsafe(),children:e})})]})]})}else{const{handleClick:e,label:t,icon:i}=G,o=L===g.MEDIA_DATA_STAGE.NEED_POKE||L===g.MEDIA_DATA_STAGE.FETCHING?m.default.filesize(B):null;V=(0,P.jsx)(_.default,{displayType:a,hideCaption:!0,hideMeta:!0,msg:N,quotedMsg:D,showAuthor:n,trusted:R,children:(0,P.jsx)(k.default,{a8nText:r.default.key("view-once-unviewed"),xstyle:j.buttonContainer,onClick:R?e:()=>{},"aria-label":U,children:(0,P.jsx)(f.default,{outgoingMsg:F.isSentByMe,children:(0,P.jsxs)(h.FlexRow,{xstyle:j.deepContainerContent,align:"center",children:[(0,P.jsx)(p.default,{xstyle:j.statusIcon,grow:0,children:i}),(0,P.jsxs)(p.default,{xstyle:j.content,grow:1,children:[(0,P.jsx)(T.TextHeader,{color:"secondary",level:"3",weight:"medium",size:"15",children:t}),null!=o?(0,P.jsx)(T.TextParagraph,{xstyle:j.contentMeta,size:"10",children:o}):null]}),(0,P.jsx)(p.default,{grow:0,children:(0,P.jsx)("div",{className:b.default.spacer,children:(0,P.jsx)("div",{className:(0,u.default)(j.meta),children:(0,P.jsx)(y.Meta,{msg:N})})})})]})})})})}return(0,P.jsx)("div",{className:(0,u.default)("unviewed"===G.type&&j.unviewedBubble),children:V})}var N=(0,l.forwardRef)(O);t.default=N},72306:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClick:t}=e;const[n,a]=(0,s.default)(t),h=null!=t?a:{};return(0,f.jsxs)("div",(0,r.default)((0,r.default)({className:(0,i.default)({[c.default.container]:!0,[c.default.inactive]:null==t}),ref:n,"aria-label":o.fbt._("Cancel",null,{hk:"H0gNq"})},h),{},{children:[(0,f.jsx)("div",{className:c.default.icon,children:(0,f.jsx)(d.default,{name:"x-soft"})}),(0,f.jsx)(l.FlexRow,{className:c.default.spinner,align:"center",justify:"center",children:(0,f.jsx)(u.Spinner,{color:"accent",size:18,stroke:5})})]}))};var r=a(n(81109)),i=a(n(94184)),o=n(48360),s=a(n(34470)),l=n(29623),u=n(11054),d=a(n(23217)),c=a(n(20699)),f=n(85893)},58827:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageContainer=function(e){const t=(0,b.default)(Me.default.msgContainer,{"message-out":e.isSentByMe,"message-in":!e.isSentByMe}),n=(0,b.default)(Me.default.message,Me.default.hasTail,"tail-override-left");return(0,we.jsx)("div",{className:t,children:(0,we.jsx)("div",{className:n,children:(0,we.jsxs)("div",{className:Me.default.messageBackground,children:[(0,we.jsx)("div",{className:Me.default.tail,children:(0,we.jsx)(ye.default,{name:De(Ae)})}),e.children]})})})},t.Wrapper=t.SystemBubble=void 0,t.getTailName=De;var r=a(n(48926)),i=a(n(45095)),o=a(n(99964)),s=n(73679),l=n(81572),u=n(15022),d=n(5177),c=n(21634),f=a(n(45120)),h=a(n(52013)),p=n(8139),m=n(14597),g=n(15461),_=n(67811),v=a(n(40436)),b=a(n(94184)),y=n(48360),C=n(67294),S=a(n(51799)),E=a(n(96570)),x=a(n(59312)),T=a(n(16223)),M=n(87550),k=n(35461),w=a(n(64471)),A=a(n(89113)),P=n(55712),j=n(63967),I=n(69185),O=a(n(28414)),N=n(69951),R=n(4841),D=n(88172),L=a(n(52665)),B=a(n(47022)),F=n(60811),G=n(71174),U=n(49885),V=a(n(51099)),W=n(50101),H=n(75362),q=a(n(45152)),Y=n(29424),z=n(20427),K=n(79259),$=a(n(14296)),Q=n(1041),X=n(47809),J=a(n(34377)),Z=n(87931),ee=a(n(20485)),te=n(23512),ne=a(n(8235)),ae=n(54676),re=n(56989),ie=n(27798),oe=n(56979),se=a(n(52500)),le=n(94270),ue=n(25365),de=a(n(32231)),ce=n(55051),fe=n(82857),he=n(78756),pe=n(21357),me=n(61761),ge=n(13228),_e=n(64551),ve=a(n(77807)),be=n(18146),ye=a(n(23217)),Ce=a(n(257)),Se=n(18644),Ee=a(n(24717)),xe=a(n(46603)),Te=a(n(25033)),Me=a(n(1961)),ke=n(82573),we=n(85893);const Ae=!1,Pe=!0,je=75,Ie=(0,C.forwardRef)(((e,t)=>{var n;const{position:a,displayType:Ie=d.DISPLAY_TYPE.CONVERSATION,selectedMessages:Ne,isFocusable:Le,selectable:Be,isMsgVisible:Fe,onMessageSelect:Ge,getSequentialMsg:Ue,onProductClick:Ve,onMessageClick:We,current:He}=e;(0,w.default)({markerId:ie.QuickLogMarkerId.MESSAGE_RENDER,annotations:{string:{msgType:e.msg.type}}});const qe=(0,xe.default)(),Ye=(0,x.default)(),[ze]=(0,M.useAddListenerOnce)(),Ke=(0,k.useModelValues)(e.msg,["asMms","asPollCreation","asPttLike","asRevoked","author","body","chat","dir","ephemeralDuration","ephemeralOutOfSync","filehash","id","isBizNotification","isEphemeral","isFailed","isFrequentlyForwarded","isFutureproof","isGif","isGroupMsg","isLive","isMedia","isMdHistoryMsg","isNotification","isRTL","isSentByMe","isUnsentMedia","isViewOnce","linkPreview","list","mediaData","matchedText","quotedMsg","richPreviewType","sender","star","subtype","type","title","hasTemplateButtons","isQuickReply","isFromTemplate","doNotPlayInline","ctwaContext","bizPrivacyStatus","verifiedBizName","templateParams","dynamicReplyButtons","replyButtons","hasReaction","broadcastId","deprecatedMms3Url","keptBy"]),$e=(0,C.useRef)(null),Qe=(0,C.useRef)(null),Xe=(0,C.useRef)(null),Je=(0,C.useRef)(null),Ze=(0,C.useRef)(null),et=(0,C.useRef)(null),tt=(0,C.useRef)(null),nt=(0,T.default)((()=>(Ie===d.DISPLAY_TYPE.STARRED_MSGS||Ie===d.DISPLAY_TYPE.GALLERY||Ie===d.DISPLAY_TYPE.MSG_INFO||Ie===d.DISPLAY_TYPE.CONTACT_CARD)&&(Ke.isGif||Ke.type===g.MSG_TYPE.IMAGE))),at=(0,C.useRef)(void 0),[rt,it]=(0,C.useState)(null),[ot,st]=(0,C.useState)(null),[lt,ut]=(0,C.useState)(null),[dt,ct]=(0,C.useState)(!1),[ft,ht]=(0,C.useState)(!1),[pt,mt]=(0,C.useState)((()=>!!e.selectedMessages&&e.selectedMessages.isSelected((0,be.unproxy)(e.msg)))),[gt,_t]=(0,C.useState)(!1),[vt,bt]=(0,C.useState)(!1),[yt,Ct]=(0,C.useState)(!1);(0,C.useEffect)((()=>{nt.current&&Je.current&&(at.current=Je.current.offsetWidth,Ye())}),[]);const St=()=>{l.Cmd.msgInfoDrawer((0,be.unproxy)(Ke))},Et=()=>{(0,W.findChat)(Ke.author).then((function(e){l.Cmd.openChatFromUnread(e).then((t=>{t&&D.ComposeBoxActions.focus(e)}))}))},xt=()=>{m.ModalManager.open((0,we.jsx)(Te.default,{messageText:Ke.body}),{transition:"modal-flow"})},Tt=()=>{const e=Ke.ephemeralDuration||0;m.ModalManager.open((0,we.jsx)(L.default,{onOK:()=>{m.ModalManager.close()},children:(0,K.getDisappearingMessageOutOfSyncInfoString)(e)}),{transition:"modal-flow"})},Mt=()=>{const{bizPrivacyStatus:e}=Ke;null!=e&&m.ModalManager.open((0,we.jsx)(L.default,{onOK:()=>{m.ModalManager.close()},children:(0,I.getBizPrivacyInfoString)(e)}),{transition:"modal-flow"})},kt=()=>!Ke.isNotification&&Ie!==d.DISPLAY_TYPE.GALLERY&&Ie!==d.DISPLAY_TYPE.CONTACT_CARD,wt=e=>{e.buttons||dt||!kt()||ct(!0)},At=()=>{ct(!1)},Pt=()=>Ie===d.DISPLAY_TYPE.CONVERSATION,jt=(0,S.default)((()=>{Ct(Pt()&&(null==Be||!1===Be)&&(vt||null!=lt))}),je),It=()=>{bt(!0),jt()},Ot=()=>{bt(!1),jt()},Nt=()=>{m.ModalManager.open((0,we.jsx)(B.default,{chat:Ke.chat,msgList:[Ke].map(be.unproxy),isMsgVisible:Fe})),ce.UiRevokeActionHelper.startSession(),ce.UiRevokeActionHelper.messageSelected()},Rt=()=>{const e=(0,be.unproxy)(Ke),t=e.chat;t.composeQuotedMsg=e,t===N.ChatCollection.getActive()?D.ComposeBoxActions.focus(t):l.Cmd.openChatBottom(t)},Dt=()=>{const e=(0,be.unproxy)(Ke);(0,de.default)(e)},Lt=()=>{c.FileSaver.initDownload((0,be.unproxy)(Ke))},Bt=()=>{const e=(0,be.unproxy)(Ke);l.Cmd.sendStarMsgs(e.chat,[e])},Ft=()=>{const e=(0,be.unproxy)(Ke);l.Cmd.sendUnstarMsgs(e.chat,[e])},Gt=function(){var e=(0,r.default)((function*(){try{yield(0,j.runKeepInChatUX)((0,be.unproxy)(Ke))}catch(t){var e;__LOG__(2)`Keep operation not complete. Reason: ${null!==(e=t.reason)&&void 0!==e?e:"unknown"}`}}));return function(){return e.apply(this,arguments)}}(),Ut=function(){var e=(0,r.default)((function*(){try{yield(0,j.runUndoKeepInChatUX)((0,be.unproxy)(Ke))}catch(t){var e;__LOG__(2)`UndoKeep operation not complete. Reason: ${null!==(e=t.reason)&&void 0!==e?e:"unknown"}`}}));return function(){return e.apply(this,arguments)}}(),Vt=()=>{l.Cmd.addFavoriteSticker((0,be.unproxy)(Ke))},Wt=()=>{l.Cmd.removeFavoriteSticker((0,be.unproxy)(Ke))},Ht=(0,A.default)((()=>{it(null),qe&&ct(!1)})),qt=(0,A.default)((()=>{st(null),qe&&bt(!1)})),Yt=(0,A.default)((()=>{ut(null),qe&&bt(!1),jt()})),zt=e=>{ce.UiRevokeActionHelper.startSession(),e&&e.stopPropagation(),Ge?Ge((0,be.unproxy)(Ke),!pt,e):(__LOG__(4,void 0,new Error,!0)`no onMessageSelect`,SEND_LOGS("wrapper-onSelectClick"))},Kt=e=>{et.current&&h.default.focus(et.current,e)},$t=()=>(0,i.default)(et.current,"containerRef.current"),Qt=()=>{const e=Je.current,t=Xe.current;e&&(ht(!0),f.default.indicateFocus(e,Me.default.highlightAnimation),f.default.indicateFocus(t,Me.default.highlightAnimation),ze(e,"animationend",(()=>{ht(!1)})),Le&&Kt({preventScroll:!0}))},Xt=e=>{let t;if(Ke.type===g.MSG_TYPE.CIPHERTEXT?t=$.default.t(303):Ke.asRevoked?t=$.default.t(304):Ke.isUnsentMedia&&(t=$.default.t(302,{_plural:1})),t)m.ModalManager.open((0,we.jsx)(L.default,{title:$.default.t(305),onOK:()=>m.ModalManager.close(),okText:y.fbt._("OK",null,{hk:"2KEeHb"}),children:t}));else{if(e&&Ie===d.DISPLAY_TYPE.CONVERSATION)return void zt();m.ModalManager.open((0,we.jsx)(H.ForwardMessageFlowLoadable,{msgs:[(0,be.unproxy)(Ke)]}),{transition:"modal-flow"})}},Jt=()=>{Xt(!0)},Zt=(0,A.default)((e=>{(0,_.canReactToMessage)(e)&&st({dirY:F.DirY.BOTTOM,dirX:Ke.isSentByMe?F.DirX.LEFT:F.DirX.RIGHT,type:F.MenuType.ReactionPicker,menu:(0,we.jsx)(ue.ReactionsPanel,{msgId:Ke.id.toString(),onSelection:t=>{(0,pe.sendReactionToMsg)(e,t).catch((()=>{})),qt()}}),flipOnRTL:!0,anchor:tt.current})})),en=(0,A.default)((e=>{if(!(0,_.canReactToMessage)(e))return;const t=t=>{t!==me.MORE_REACTIONS?(0,pe.sendReactionToMsg)(e,t).catch((()=>{})):setTimeout((()=>{Zt(e,et.current)}),150),jt(),Yt()};setTimeout((()=>{ut({dirY:F.DirY.TOP,dirX:F.DirX.CENTER,type:F.MenuType.ReactionSendTray,menu:(0,we.jsx)(ge.SendReactionsTrayContainer,{selectedCallback:t,msg:e,onMouseEnter:It,onMouseOver:It,onMouseLeave:Ot}),flipOnRTL:!0,anchor:tt.current})}),50)})),tn=()=>{var e;return null===(e=$e.current)||void 0===e?void 0:e.getRef()},nn=e=>{var t,n;null===(t=tn())||void 0===t||null===(n=t.handleKeyActivation)||void 0===n||n.call(t,e)},an=(e,t)=>{if(t&&rt)return it(null),st(null),void ut(null);const n=t?Qe.current:e,a=(0,U.buildDropdownMenu)({msg:Ke,onKeepClick:Gt,onUndoKeepClick:Ut,displayType:Ie,onMsgInfoClick:St,onReplyClick:Rt,onPrivateReplyClick:Dt,onMessageDownloadClick:Lt,onStarClick:Bt,onUnstarClick:Ft,onFavoriteStickerClick:Vt,onUnfavoriteStickerClick:Wt,onEditLabelClick:()=>{Ie!==d.DISPLAY_TYPE.CONVERSATION?m.ModalManager.open((0,we.jsx)(X.ManageLabelFlowLoadable,{modelsToUpdate:[(0,be.unproxy)(Ke)]})):zt()},onMessageDeleteClick:Nt,onOpenContactChatClick:Et,onForwardClick:Jt,onCopyFavoriteStickerClick:e=>(0,u.copyImageToClipboard)(e),onOpenStickerPackClick:e=>l.Cmd.openStickerPack(e),onReactionClick:()=>en(Ke),onMoreReactionOptionsClick:()=>Zt(Ke,n)});it({menu:a,anchor:n,theme:G.ThemeOptions.COMPACT,autoFocus:qe})},rn=e=>{const t=(0,be.unproxy)(Ke);!t.canReply()||Be||Ie!==d.DISPLAY_TYPE.CONVERSATION||rt||lt||e.target instanceof HTMLElement&&((e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1})(Je.current,e.target)||(t.chat.composeQuotedMsg=t,D.ComposeBoxActions.focus(t.chat),Qt())},on=()=>{kt()&&(ct(!0),an(void 0,!0))},sn=e=>{pt!==e&&mt(e)},ln=(e,t)=>{et.current&&(0,he.scrollAt)(et.current,void 0,t).then(e)},un=()=>{Ke.resend().catch((function(e){__LOG__(2)`wrapper:resend failure: ${e}`}))},dn=()=>{et&&f.default.indicateFocus(et.current,Me.default.highlightMentionAnimation)};(0,C.useImperativeHandle)(t,(()=>({focus:Kt,openContextMenu:on,getContainerElement:$t,getMsgComponentRef:tn,resend:un})));const cn=(0,E.default)(Ke,"change",(()=>Ke.canQuickForward()));(0,M.useListener)(Ke,"revoked",(()=>{rt&&Ht(),lt&&Yt(),ot&&qt()})),(0,M.useListener)(window,"resize",Ye),(0,M.useListener)(document,"selectionchange",(()=>{var e,t;""!==(null!==(e=null===(t=document.getSelection())||void 0===t?void 0:t.toString())&&void 0!==e?e:"")&&At()})),(0,M.useListener)(l.Cmd,"media_viewer_modal",At);const fn=Ie===d.DISPLAY_TYPE.CONVERSATION,hn=function(e){let{msg:t,position:n,displayType:a}=e;if(t.isSentByMe||!t.isGroupMsg)return!1;if(t.type===g.MSG_TYPE.CHAT)return!(a===d.DISPLAY_TYPE.STARRED_MSGS||!t.quotedMsg)||(n!==Z.MsgPosition.MID&&n!==Z.MsgPosition.END||(a===d.DISPLAY_TYPE.GALLERY||(!!t.linkPreview||!!(0,z.isParsableOnlineVideoURL)(t.richPreviewType,t.matchedText,t.doNotPlayInline))));return!0}({msg:Ke,position:a,displayType:Ie});let pn;kt()&&!Be&&(dt&&!ft||He||rt)&&(pn=(0,we.jsx)(J.default,{msg:Ke,hasAuthor:hn,position:a,onToggle:e=>{an(e)}},"icon-context"));const mn=(0,we.jsx)("div",{className:Me.default.menuAnchor,ref:Qe});let gn=null;if(!Ke.isNotification&&e.selectable){const e=Ie===d.DISPLAY_TYPE.GALLERY?"gallery":null;gn=(0,we.jsx)(ee.default,{checked:!!pt,onClick:zt,msgTheme:e})}let _n=null;var vn;Ke.type===g.MSG_TYPE.STICKER&&e.selectable&&(_n=(0,we.jsx)("span",{children:(0,we.jsx)("div",{className:Me.default.stickerWrapperContainer,onMouseEnter:null===(vn=Ze.current)||void 0===vn?void 0:vn.startAnimation,onClick:zt})}));let bn=!1;if(Ke.type===g.MSG_TYPE.CHAT){const e=R.Code.match(Ke.body);bn=1===e.length&&e[0][4][0].length===Ke.body.length}const yn=null===(n=Ke.chat)||void 0===n?void 0:n.isPSA,Cn=!yn&&!Ke.isNotification&&!e.tailOverride&&(a===Z.MsgPosition.FRONT||a===Z.MsgPosition.SINGLE)||Ie===d.DISPLAY_TYPE.MSG_INFO||e.tailOverride,Sn=Re(Ke)&&(!hn||Ke.isSentByMe||!Ke.isGroupMsg&&!Ke.quotedMsg)&&(fn&&(a===Z.MsgPosition.FRONT||a===Z.MsgPosition.SINGLE)||!fn),En=!e.selectable&&(Ie===d.DISPLAY_TYPE.CONVERSATION||Ie===d.DISPLAY_TYPE.MSG_INFO||Ie===d.DISPLAY_TYPE.STARRED_MSGS),xn=Ke.ephemeralOutOfSync&&!Ke.isNotification&&!Ke.isFutureproof,Tn=En&&cn,Mn=En&&Ke.isFrequentlyForwarded&&Ke.type===g.MSG_TYPE.CHAT,kn=null!=Ke.bizPrivacyStatus;let wn=null;const An=fn?le.ReactionBubbleType.DEFAULT:le.ReactionBubbleType.NON_CONVERSATION;!Re(Ke)&&Ke&&(0,_.shouldShowReactionBubble)(Ke,An)&&(wn=(0,we.jsx)(se.default,{msgIds:[Ke.id.toString()],isSentByMe:Ke.isSentByMe,hasReaction:Ke.hasReaction}));const Pn=(0,b.default)(Me.default.msg,{[Me.default.msgContinuation]:!(a!==Z.MsgPosition.FRONT&&a!==Z.MsgPosition.MID||Ke.isFromTemplate&&Ke.isQuickReply),[Me.default.msgPSA]:Ie!==d.DISPLAY_TYPE.STARRED_MSGS&&yn,[Me.default.msgSystem]:Ke.isNotification,[Me.default.msgGallery]:Ie===d.DISPLAY_TYPE.STARRED_MSGS||Ie===d.DISPLAY_TYPE.CONTACT_CARD||Ie===d.DISPLAY_TYPE.GALLERY,[Me.default.msgInfo]:Ie===d.DISPLAY_TYPE.MSG_INFO,[Me.default.msgWithQuickAction]:kn||xn||Tn||Mn,"message-out":!Ke.isNotification&&Ke.isSentByMe||Ie===d.DISPLAY_TYPE.MSG_INFO,"message-in":!Ke.isNotification&&!Ke.isSentByMe,[Q.LIST_FOCUSABLE_ITEM_CLASS_NAME]:Le}),jn=(0,b.default)(Me.default.message,function(e){if(e.isViewOnce)return Me.default.messageChat;switch(e.type){case g.MSG_TYPE.NOTIFICATION_TEMPLATE:return Oe.includes(e.subtype)?Me.default.messageNonE2ENotification:e.isBizNotification?Me.default.messageBizNotification:void 0;case g.MSG_TYPE.E2E_NOTIFICATION:return"encrypt"===e.subtype&&(0,s.isSupportGroupOrSupportAdmin)(e.chat)?Me.default.messageNonE2ENotification:Me.default.messageE2ENotification;case g.MSG_TYPE.GROUPS_V4_INVITE:return Me.default.messageChat;case g.MSG_TYPE.CHAT:return(0,ve.default)(e)?Me.default.messageVideoLinkPreview:Me.default.messageChat;case g.MSG_TYPE.LOCATION:return e.isLive?Me.default.messageLiveLocation:Me.default.messageLocation;case g.MSG_TYPE.VCARD:return Me.default.messageVcard;case g.MSG_TYPE.CIPHERTEXT:return(0,b.default)(Me.default.messageChat,Me.default.messagePlaceholder);case g.MSG_TYPE.MULTI_VCARD:return Me.default.messageMultiVcard;case g.MSG_TYPE.IMAGE:return Me.default.messageImage;case g.MSG_TYPE.PRODUCT:return Me.default.messageProduct;case g.MSG_TYPE.STICKER:return Re(e)?Me.default.messageTransparent:Me.default.messageSticker;case g.MSG_TYPE.VIDEO:return e.mediaData.isGif?Me.default.messageGif:Me.default.messageVideo;case g.MSG_TYPE.AUDIO:return Me.default.messageAudio;case g.MSG_TYPE.PTT:return Me.default.messagePTT;case g.MSG_TYPE.DOCUMENT:return Me.default.messageDocument;case g.MSG_TYPE.TEMPLATE_BUTTON_REPLY:case g.MSG_TYPE.BUTTONS_RESPONSE:case g.MSG_TYPE.LIST_RESPONSE:return Me.default.messageChat;case g.MSG_TYPE.POLL_CREATION:return(0,b.default)(Me.default.messageChat,Me.default.pollMessage,(0,p.isPollsReceivingEnabled)()?null:Me.default.messagePlaceholder);case g.MSG_TYPE.ORDER:return Me.default.messageProduct;case g.MSG_TYPE.LIST:if((0,ae.listMsgCanRender)(e))return Me.default.messageList;case g.MSG_TYPE.UNKNOWN:return(0,b.default)(Me.default.messageChat,Me.default.messagePlaceholder);default:return}}(Ke),{[Me.default.messageSystem]:Ke.isNotification,[Me.default.messageCode]:bn,[Me.default.hasTail]:Cn,"tail-override-left":"left"===e.tailOverride,"tail-override-right":"right"===e.tailOverride,[Me.default.tailOverrideHide]:Sn}),In=(0,b.default)({[Me.default.messageBackground]:!Re(Ke),[Me.default.hasBorderBox]:!Ke.isNotification&&!Re(Ke),[Me.default.hasUrlCallButtons]:Ke.isFromTemplate&&Ke.hasTemplateButtons&&!Ke.isQuickReply});if(nt.current&&!Je.current)return(0,we.jsx)("div",{className:Me.default.placeholder,ref:Je});let On,Nn,Rn,Dn,Ln,Bn;On=rt?"none":Ke.isRTL?"pop-fast-reverse":"pop-fast",rt&&(Nn=(0,we.jsx)(Se.UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Ht,children:(0,we.jsx)(Ee.default,{contextMenu:rt})})),ot?Rn=(0,we.jsx)(Se.UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:qt,children:(0,we.jsx)(Ee.default,{contextMenu:ot})}):lt&&(Rn=(0,we.jsx)(Se.UIE,{displayName:"MsgReactionTray",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Yt,children:(0,we.jsx)(Ee.default,{contextMenu:lt})})),e.isFocusedMsg&&(Dn=(0,we.jsx)(ke.WhileFocusedListener,{parent:{scrollMsg:ln,highlight:Qt,highlightMention:dn}})),Ne&&(Ln=(0,we.jsx)(ke.SelectionListener,{parent:{onSelectChange:sn},msgId:Ke.id.toString(),selectedMessages:Ne}));const Fn=(0,b.default)(Me.default.quickActionButton,{[Me.default.wrapperButtonsTopOffset]:Ke.hasReaction});let Gn;xn?Bn=(0,we.jsx)("div",{title:(0,p.messageQuickReplyEnabled)()&&y.fbt._("Info",null,{hk:"yf7J1"}),className:Fn,onClick:Tt,role:"button",children:(0,we.jsx)(ye.default,{name:"info-alt"})}):kn?Bn=(0,we.jsx)("div",{title:(0,p.messageQuickReplyEnabled)()&&y.fbt._("Info",null,{hk:"21wSIT"}),className:Fn,onClick:Mt,role:"button",children:(0,we.jsx)(ye.default,{name:"info-alt"})}):Tn?Bn=(0,we.jsx)("div",{title:(0,p.messageQuickReplyEnabled)()&&y.fbt._("Forward",null,{hk:"AxUeS"}),className:Fn,onClick:()=>Xt(!1),role:"button",children:(0,we.jsx)(ye.default,{name:"forward-chat"})}):Mn&&(Bn=(0,we.jsx)("div",{title:(0,p.messageQuickReplyEnabled)()&&y.fbt._("Search Web",null,{hk:"1BRalt"}),className:Fn,onClick:xt,role:"button",children:(0,we.jsx)(ye.default,{name:"search"})}));const Un=(0,b.default)(Me.default.reactionButton,{[Me.default.reactionButtonWithQuickActions]:Bn,[Me.default.wrapperButtonsTopOffset]:Ke.hasReaction});let Vn,Wn,Hn;if((0,_.canReactToMessage)(Ke)){const e=!0===yt?(0,we.jsx)(fe.Round,{theme:fe.RoundTheme.ReactionsEntryPoint,onClick:()=>en(Ke),children:(0,we.jsx)(ye.default,{className:Me.default.reactionButtonColor,width:15,name:"react"})}):null;Gn=(0,we.jsx)("div",{ref:tt,title:(0,p.messageQuickReplyEnabled)()&&y.fbt._("React",null,{hk:"r6u1E"}),className:Un,children:e}),Pt()&&(Vn=(0,we.jsx)(oe.ReactionSendFailButton,{msgIds:[Ke.id.toString()],fromMe:Ke.isSentByMe}))}if(Ke.canReply()&&(0,p.messageQuickReplyEnabled)()){const e=(0,b.default)(Me.default.messageQuickReplyButton,{[Me.default.wrapperButtonsTopOffset]:Ke.hasReaction,[Me.default.messageQuickReplyButtonWithQuickActions]:Bn}),t=!0===yt?(0,we.jsx)(fe.Round,{theme:fe.RoundTheme.ReactionsEntryPoint,onClick:rn,children:(0,we.jsx)(ye.default,{className:Me.default.messageQuickReplyButtonColor,width:20,name:"reply"})}):null;Wn=(0,we.jsx)("div",{title:y.fbt._("Reply",null,{hk:"2W8swU"}),className:e,children:t})}Ke.mediaData&&(Hn=(0,we.jsx)(ke.MediaListener,{forceUpdate:Ye,mediaData:Ke.mediaData}));let qn,Yn,zn,Kn="msg-container";if(Ke.isNotification&&(Kn="msg-notification-container"),Cn){let t;t="left"===e.tailOverride?De(Ae):"right"===e.tailOverride?De(Pe):De(Ke.isSentByMe),qn=(0,we.jsx)(ye.default,{name:t,className:Me.default.tail,containerRef:Xe})}Ke.isFromTemplate&&Ke.hasTemplateButtons?Yn=(0,we.jsx)(Ce.default,{msg:Ke,chat:Ke.chat}):null!=Ke.dynamicReplyButtons&&Ke.dynamicReplyButtons.length>0&&Ie!==d.DISPLAY_TYPE.STARRED_MSGS&&(Yn=(0,we.jsx)(O.default,{msg:Ke})),Ke.isNotification||a===Z.MsgPosition.MID?zn=null:Ke.isSentByMe?zn=(0,we.jsx)(P.InvisibleLabel,{children:y.fbt._("You:",null,{hk:"23aeBt"})}):Ke.isGroupMsg||(zn=(0,we.jsx)(P.InvisibleLabel,{children:y.fbt._("{author}:",[y.fbt._param("author",Ke.displayName())],{hk:"4BX1T3"})}));let $n=null;return Ke.isEphemeral&&($n=(0,we.jsx)(P.InvisibleLabel,{children:y.fbt._("This is a disappearing message",null,{hk:"2ZKFVj"})})),(0,we.jsxs)(Y.HotKeys,{className:Pn,"data-id":Ke.id.toString(),handlers:(()=>{let e,t;return Ke.asPttLike&&_e.ServerProps.pttPlaybackSpeedEnabled&&(e=e=>{e.preventDefault(),e.stopPropagation(),re.PttPrefs.increasePlaybackRateFor(Ke.id)},t=e=>{e.preventDefault(),e.stopPropagation(),re.PttPrefs.decreasePlaybackRateFor(Ke.id)}),{enter:nn,space:nn,"shift+>":e,"shift+<":t}})(),onDoubleClick:rn,ref:et,tabIndex:-1,onMouseOver:It,onMouseEnter:It,onMouseLeave:Ot,children:[(0,we.jsx)(v.default,{transitionName:"delay-leave",children:gn}),(0,we.jsxs)("div",{"data-a8n":o.default.key(Kn),className:jn,onContextMenu:e=>{e.stopPropagation()},onMouseOver:wt,onMouseEnter:wt,onMouseLeave:()=>{kt()&&At()},children:[qn,(0,we.jsx)(ne.default,{displayType:Ie,msg:Ke}),Vn,_n,(0,we.jsxs)("div",{className:In,ref:Je,children:[zn,(Qn=hn,(0,we.jsx)(V.default,{reason:"msg",children:(0,we.jsx)(q.default.Provider,{value:Ke.chat.groupMetadata,children:(0,we.jsx)(te.MsgComponent,{chat:Ke.chat,displayAuthor:Qn,displayType:Ie,hover:dt,isMsgVisible:Fe,maxWidth:at.current,msg:Ke,ref:$e,position:a,getSequentialMsg:Ue,onProductClick:Ve,onMessageClick:We,forwardStickerRef:Ze})})})),(0,we.jsx)(v.default,{transitionName:On,children:pn}),mn]}),Wn,Gn,Bn,Yn,$n,wn]}),Rn,Nn,Dn,Ln,Hn]});var Qn}));t.Wrapper=Ie;const Oe=["biz_privacy_mode_init_fb","biz_privacy_mode_init_bsp","biz_privacy_mode_to_fb","biz_privacy_mode_to_bsp"];const Ne=(0,C.forwardRef)((function(e,t){const n=e.theme?Me.default[e.theme]:null,a=(0,b.default)(Me.default.msg,Me.default.msgSystem,n,{[Q.LIST_FOCUSABLE_ITEM_CLASS_NAME]:e.isFocusable}),r=(0,b.default)(Me.default.message,Me.default.messageSystem,{[Me.default.messageHidden]:e.hidden});return(0,we.jsx)("div",{className:a,tabIndex:-1,ref:t,children:(0,we.jsx)("div",{className:r,children:e.children})})}));function Re(e){return e.type===g.MSG_TYPE.STICKER&&!e.quotedMsg&&!e.ctwaContext}function De(e){return e?$.default.isRTL()?"tail-in":"tail-out":$.default.isRTL()?"tail-out":"tail-in"}t.SystemBubble=Ne,Ie.displayName="Wrapper"},82573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaListener=function(e){const{forceUpdate:t}=e,n=(0,o.useModelValues)(e.mediaData,["isGif"]);return(0,r.useEffect)((()=>{t()}),[n,t]),null},t.SelectionListener=function(e){const{msgId:t,selectedMessages:n,parent:a}=e;return(0,i.useListener)(n,t,(e=>{a.onSelectChange(e)})),null},t.WhileFocusedListener=function(e){const{parent:t}=e;return(0,i.useListener)(a.Cmd,"scroll_to_focused_msg",((e,n)=>{t.scrollMsg(e,n)})),(0,i.useListener)(a.Cmd,"flash_focused_msg",(()=>{var e;null===(e=t.highlight)||void 0===e||e.call(t)})),(0,i.useListener)(a.Cmd,"flash_mention_msg",(()=>{var e;null===(e=t.highlightMention)||void 0===e||e.call(t)})),null};var a=n(81572),r=n(67294),i=n(87550),o=n(35461)},81250:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ALBUM_PADDING=t.ALBUM_MIN_SIZE=t.ALBUM_MAX_SIZE=t.ALBUM_MAX_HEIGHT=void 0,t.canBeGroupedAsAlbum=function(e,t){return(e.isGroupMsg?r.default.equals(e.author,t.author):r.default.equals(e.from,t.from))&&e.isForwarded===t.isForwarded&&t.t-e.t<=600},t.canBeGroupedWithNext=function(e,t){if(e.isNotification||t.isNotification)return!1;if(e.isGroupMsg)return r.default.equals(e.author,t.author)&&e.isSentByMe===t.isSentByMe;return r.default.equals(e.from,t.from)};var r=a(n(89867));t.ALBUM_MIN_SIZE=4;t.ALBUM_MAX_SIZE=102;t.ALBUM_MAX_HEIGHT=168;t.ALBUM_PADDING=3},21783:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.startOfDaySkew;if(void 0!==t&&t>r.Clock.skew-30&&t<r.Clock.skew+30)return e.startOfDay;return e.startOfDaySkew=r.Clock.skew,e.startOfDay=i.default.unix(e.t+r.Clock.skew).startOf("day").unix()};var r=n(40234),i=a(n(30381))},8590:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a,l,u){let{msg:d,date:c,unread:f,album:h}=e;const p=[];let m,g=0;for(g=0;!m&&g<t.length;g++)m=t[g];g--;let _=!1,v=!1,b=m?(0,i.default)(m):0,y=0,C=g;for(;m;){const e=m;let E;v||p.push(c(e,y++)),e===a&&f&&p.push(f(l));let x,T,M,k=g+1;for(;!E&&k<t.length;k++)E=t[k];const w=[];let A,P=!1,j=!1,I=null;if(e.asGroupedSticker&&!o(e,u)){w.push(e.asGroupedSticker),j=e===n,I=0,C=g+1;const i=t[C];(null==i?void 0:i.asGroupedSticker)&&(0,r.canBeGroupedAsAlbum)(e,i)&&i!==a&&!o(i,u)&&(w.push(i.asGroupedSticker),E=t[C+1],P=!0,A=!0,i===n&&(j=!0,I=1))}if(e.asAlbumAsset&&!o(e,u)){w.push(e.asAlbumAsset);let i,s=m;for(j=m===n,C=g;C<t.length-1&&w.length<r.ALBUM_MAX_SIZE;C++){var S;if(s=t[C],i=t[C+1],!(null===(S=i)||void 0===S?void 0:S.asAlbumAsset)||!(0,r.canBeGroupedAsAlbum)(s,i)||i===a||o(i,u))break;w.push(i.asAlbumAsset),i===n&&(j=!0)}w.length>=r.ALBUM_MIN_SIZE&&(P=!0,A=!1,E=t[C+1])}if(E){const t=E;M=(0,i.default)(E),T=M===b,x=T&&(0,r.canBeGroupedWithNext)(e,t)&&E!==a}else x=!1,T=!1,M=0;if(P){let e;e=A?w.reduce(((e,t)=>`${e}-${t.id.toString()}`),"grouped-sticker-"):s(w),p.push(h(w,e,_,x,j,I)),g=C+1,m=t[g],_=x,v=T,b=M}else p.push(d(e,e===n,_,x)),g++,_=x,v=T,b=M,m=E}return p};var r=n(81250),i=a(n(21783));function o(e,t){return null==t||e.t>t.t}function s(e){const t=e.length;return`album-${e[0]?e[0].id.toString():""}-${e[t-1]?e[t-1].id.toString():""}-${t}`}},62685:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(6479)),i=a(n(48926)),o=a(n(13752)),s=a(n(45095)),l=n(81572),u=n(5177),d=n(15461),c=n(55715),f=a(n(94184)),h=n(48360),p=n(67294),m=a(n(94474)),g=a(n(12285)),_=a(n(3154)),v=a(n(8590)),b=a(n(14296)),y=n(1041),C=n(84387),S=a(n(16331)),E=n(87931),x=n(59871),T=a(n(70449)),M=n(58827),k=n(85893);const w=["msgs"],A=["msgs"];class P extends p.Component{constructor(e){var t;super(e),t=this,this._renderedMsgs={},this._renderedDateMarkers={},this._renderedAlbums={},this._renderedMsgToAlbum={},this._refUnread=(0,p.createRef)(),this._getRefUnread=()=>this._refUnread.current,this._handleRefreshMessages=()=>{this.forceUpdate()},this._handleOpenMediaViewerForAlbumMedia=e=>{const t=this._renderedMsgToAlbum[e.id.toString()];if(!t)return;if(t.isGroupedSticker())return;const n=t.props.msgs,a=new Set((n||[]).map((e=>e.id.toString()))),r=()=>{const n=t.refAlbumComponents[e.id.toString()];return null==n?void 0:n.getContainerElement()};this._renderedMsgToAlbum[e.id.toString()]&&l.Cmd.mediaViewerModal({msg:e,getZoomNode:r,highlightedMsgIds:a})},this._handleMsgKeyChange=e=>{let{newKey:t,oldKey:n}=e;const a=t.toString(),r=n.toString(),i=this._renderedMsgs[r];i&&(delete this._renderedMsgs[r],this._renderedMsgs[a]=i)},this._handleMsgRendered=(e,t)=>{e?this._renderedMsgs[t]=e:delete this._renderedMsgs[t]},this._rowRenderers={msg:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(((e,t,n,a)=>{const r=this.props;let i;i=a&&!n?E.MsgPosition.FRONT:a&&n?E.MsgPosition.MID:!a&&n?E.MsgPosition.END:E.MsgPosition.SINGLE;const o=e.type===d.MSG_TYPE.IMAGE||e.type===d.MSG_TYPE.VIDEO||e.type===d.MSG_TYPE.AUDIO;return(0,k.jsx)(M.Wrapper,{ref:t=>{this._handleMsgRendered(t,e.id.toString())},msg:e.unsafe(),displayType:u.DISPLAY_TYPE.CONVERSATION,isMsgVisible:o?r.isMsgVisible:()=>{},selectable:r.selectable,selectedMessages:r.selectedMessages,onMessageSelect:r.onMessageSelect,position:i,isFocusedMsg:t,getSequentialMsg:this.props.getSequentialMsg,isFocusable:!0},"msg-"+e.id.toString())})),album:(e,t,n,a,r,i)=>{const o=this.props;let s;return s=a&&!n?E.MsgPosition.FRONT:a&&n?E.MsgPosition.MID:!a&&n?E.MsgPosition.END:E.MsgPosition.SINGLE,(0,k.jsx)(g.default,{msgs:e,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((n=>{this._handleAlbumRendered(n,t,e)})),position:s,isMsgVisible:o.isMsgVisible,selectable:o.selectable,selectedMessages:o.selectedMessages,onMessageSelect:o.onMessageSelect,albumId:t,isFocusedAlbum:r,focusedMsgIndex:i,displayType:u.DISPLAY_TYPE.CONVERSATION,isFocusable:!0},"album-"+t)},date:(e,t)=>{const{isLoadingEarlierMsgs:n}=this.props;return(0,k.jsx)(_.default,{ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>{this._handleDateMarkerRendered(t,e)})),timestamp:e.t,isFocusable:!n||0!==t},"msg-"+e.id.toString()+"-date")},unread:()=>(0,k.jsx)(T.default,{count:this.props.unreadCount,textContainerRef:this._refUnread},"msg-unread")},this._openMsgContextMenu=e=>{if(e.target instanceof HTMLElement){var t,n;const a=null===(t=e.target.dataset)||void 0===t?void 0:t.id,r=this._renderedMsgs[a]||this._renderedAlbums[a];null==r||null===(n=r.openContextMenu)||void 0===n||n.call(r)}},this._handleBeforeEnd=(0,i.default)((function*(){yield l.Cmd.openChatBottom(t.props.chat)}));const{msgs:n}=e;this._latestMsgWhenChatOpen=n.length>0?n[n.length-1]:null}shouldComponentUpdate(e){const{msgs:t}=e,n=(0,r.default)(e,w),a=this.props,{msgs:i}=a,s=(0,r.default)(a,A);return!(0,m.default)(n,s)||!(0,o.default)(t,i)}getSnapshotBeforeUpdate(){var e;const t=this.props.getScrollContainer(),n=this.props.msgs.find((e=>this._renderedMsgs.hasOwnProperty(e.id)));if(null==n)return null;const a=n.id.toString();return{commonMessageId:a,commonMessageTop:(0,s.default)(null===(e=this.getMsgWrapperRef(a))||void 0===e?void 0:e.getContainerElement(),"this.getMsgWrapperRef(commonMessageId)?.getContainerElement()").offsetTop-t.scrollTop}}componentDidMount(){this.props.listeners.add(x.MsgCollection,"change:msgKey",this._handleMsgKeyChange),this.props.listeners.add(l.Cmd,"refresh_messages",this._handleRefreshMessages),this.props.listeners.add(l.Cmd,"open_media_viewer_for_album_media",this._handleOpenMediaViewerForAlbumMedia)}componentDidUpdate(e,t,n){const a=this.props.getScrollContainer();if(null!=n){var r;const{commonMessageId:e,commonMessageTop:t}=n,i=(0,s.default)(null===(r=this.getMsgWrapperRef(e))||void 0===r?void 0:r.getContainerElement(),"this.getMsgWrapperRef(commonMessageId)?.getContainerElement()");a.scrollTop=i.offsetTop-t}}getMsgVisibility(e){const t=this.props.getScrollContainer(),n=t.scrollTop,a=n+t.clientHeight,r=null==e?void 0:e.getContainerElement();return r?r.offsetTop+r.clientHeight<=n?{visibility:E.MSG_VISIBILITY.ABOVE,offset:r.offsetTop-n}:r.offsetTop>=a?{visibility:E.MSG_VISIBILITY.BELOW,offset:r.offsetTop-n}:{visibility:E.MSG_VISIBILITY.VISIBLE,offset:r.offsetTop-n}:(__LOG__(3)`getMsgVisibility on invalid ref: ${e}`,{visibility:E.MSG_VISIBILITY.VISIBLE,offset:0})}getMsgWrapperRef(e){return this._renderedMsgs[e]||this._renderedMsgToAlbum[e]}getMsgComponentRef(e){return this._renderedMsgs[e]?this._renderedMsgs[e].getMsgComponentRef():this._renderedMsgToAlbum[e]?this._renderedMsgToAlbum[e].refAlbumComponents[e]&&this._renderedMsgToAlbum[e].refAlbumComponents[e].getRef():void 0}getDateMarkerRef(e){return this._renderedDateMarkers[e]}_handleDateMarkerRendered(e,t){t?this._renderedDateMarkers[e]=t:delete this._renderedDateMarkers[e]}getRenderedDateMarkers(){return this._renderedDateMarkers}_handleAlbumRendered(e,t,n){e?(this._renderedAlbums[t]=e,n.forEach((t=>{this._renderedMsgToAlbum[t.id.toString()]=e}))):delete this._renderedAlbums[t]}render(){var e,t;const{msgs:n,focusedMsgCtx:a,unreadCount:r}=this.props;let i,o;a&&(i=a.msg,a.isUnreadDivider&&r>0&&(o=a.msg));const s=(0,f.default)(S.default.messageList,{[S.default.messageListSelectable]:this.props.selectable}),l={[`${b.default.LR("right","left")}`]:this._openMsgContextMenu},u=b.default.LR(h.fbt._("Message list. Press right arrow key on a message to open message context menu.",null,{hk:"liGkN"}),h.fbt._("Message list. Press left arrow key on a message to open message context menu.",null,{hk:"4FnAYZ"}));return(0,k.jsx)(y.ListHotKeys,{dataTab:c.TAB_ORDER.MESSAGE_LIST,className:s,getPriorityFocusItem:this._getRefUnread,onBeforeEnd:this._handleBeforeEnd,handlers:l,role:"region","aria-label":u,children:(0,v.default)(this._rowRenderers,n,null===(e=i)||void 0===e?void 0:e.safe(),null===(t=o)||void 0===t?void 0:t.safe(),r,this._latestMsgWhenChatOpen)})}}P.displayName="MessageList";const j=(0,C.ListenerHOC)(P);t.default=class extends j{getDateMarkerRef(e){return this.getComponent().getDateMarkerRef(e)}getMsgComponentRef(e){return this.getComponent().getMsgComponentRef(e)}getMsgWrapperRef(e){return this.getComponent().getMsgWrapperRef(e)}getMsgVisibility(e){return this.getComponent().getMsgVisibility(e)}getRenderedDateMarkers(){return this.getComponent().getRenderedDateMarkers()}}},22491:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,msgCollection:n,focusCtx:a,groupMetadata:j}=e,I=(0,s.useRef)(null);(0,A.default)(t),(0,E.default)(t),(0,k.default)(t),(0,C.default)(t,(()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.getRenderedMessageCount()})),(0,y.default)(),(0,M.default)(t),(0,l.useModelValues)(t,["isReadOnly","isAnnounceGrpRestrict"]);const[O,N]=(0,b.default)(t),{selectable:R,selectedMessages:D,handleSelectMessages:L,handleMessageSelect:B,handleCancelSelection:F}=(0,w.default)(t.msgs),[G,U]=(0,S.default)(t,{canCompose:O,onDragEnter:F}),{msgPanelRef:V,filler:W,handleComposeHeightChange:H}=(0,x.default)({canCompose:O,selectable:R,setScrollBottom:e=>{var t;return null===(t=I.current)||void 0===t?void 0:t.setScrollBottom(e)},getScrollBottom:()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.getScrollBottom()},onComposeHeightChange:e=>{var t;return null===(t=I.current)||void 0===t?void 0:t.onComposeHeightChange(e)}}),[q,Y]=(0,T.default)(t),z=e=>{var t;null===(t=I.current)||void 0===t||t.onPageUpDown(e)};let K,$,Q;q&&(null==j?void 0:j.displayedDesc)&&(Q=(0,P.jsx)(v.UIE,{displayName:"GroupDesc",escapable:!0,requestDismiss:Y,children:(0,P.jsx)(p.default,{onClose:Y,children:(0,P.jsx)(m.default,{chat:t,groupMetadata:j})})}));R?($=(0,P.jsx)(v.UIE,{displayName:"MultiSelect",escapable:!0,requestDismiss:F,children:(0,P.jsx)(_.default,{chat:t,selectedMessages:D,noSortOnForward:!1,onCancel:F})}),K=(0,P.jsx)("footer",{className:h.default.footer})):K=O?(0,P.jsx)(d.default,{chat:t,ref:G,onComposeHeightChange:H,onPageUpDown:z}):(0,P.jsx)("footer",{className:h.default.footer,children:(0,P.jsx)("div",{"data-a8n":i.default.key("block-message"),className:h.default.footerMessage,children:N})});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(c.default,{wallpaperColor:e.wallpaperColor,showDoodle:e.chatPreference.showDoodle}),(0,P.jsx)(g.default,{chat:t,contact:t.contact,onSelectMessages:L}),(0,P.jsx)(o.default,{transitionName:"butterbar",className:h.default.subheader,children:Q}),(0,P.jsx)("div",{className:h.default.subheader,children:(0,P.jsx)(u.ChangeNumberNotification,{chat:t})}),(0,P.jsx)("div",(0,r.default)((0,r.default)({className:h.default.body,ref:V},U),{},{children:(0,P.jsx)(f.default,{ref:I,chat:t,selectable:R,onMessageSelect:B,msgCollection:n,onSelectMessages:L,focusCtx:a,selectedMessages:D,notifyChatRendered:e.notifyChatRendered,updateOpenedChatInfo:e.updateOpenedChatInfo})})),W,K,(0,P.jsx)(o.default,{transitionName:"slide-up",children:$})]})};var r=a(n(81109)),i=a(n(99964)),o=a(n(40436)),s=n(67294),l=n(35461),u=n(72345),d=a(n(21518)),c=a(n(91050)),f=a(n(83028)),h=a(n(64406)),p=a(n(84518)),m=a(n(404)),g=a(n(48948)),_=a(n(16351)),v=n(18644),b=a(n(86381)),y=a(n(12083)),C=a(n(49395)),S=a(n(75284)),E=a(n(95002)),x=a(n(50335)),T=a(n(34106)),M=a(n(26598)),k=a(n(17466)),w=a(n(78112)),A=a(n(19877)),P=n(85893)},37623:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.animateConversationPanel=function(e,t){return(0,r.default)(e,{scaleX:[1,t]},{duration:300,easing:[.1,.82,.25,1]}),1!==t};var r=a(n(62831))},23527:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94184)),i=n(48360),o=n(67294),s=n(87550),l=n(35461),u=a(n(66034)),d=a(n(91050)),c=a(n(64406)),f=a(n(22491)),h=n(37623),p=a(n(4139)),m=a(n(51099)),g=a(n(97095)),_=n(18644),v=n(89618),b=n(78123),y=n(85893);function C(e,t){const{chat:n,msgCollection:a,focusCtx:C,notifyChatRendered:S,updateOpenedChatInfo:E,showPreview:x}=e,T=(0,o.useRef)(null),M=(0,l.useModelValues)(e.chatPreference,["wallpaperColor","showDoodle"]),[k,w]=(0,o.useState)(M.wallpaperColor),[A,P]=(0,o.useState)(M.wallpaperColor);(0,s.useListener)(u.default,"wallpaper_color_preview",(e=>{w(null!=e?e:u.default.assertGet("defaultPreference").wallpaperColor)}));const j=M.wallpaperColor;A!==j&&(w(j),P(j));const I=(e,t)=>{var n;const a=null===(n=T.current)||void 0===n?void 0:n.clientWidth;return null!=a&&e!==t&&(0,h.animateConversationPanel)(T.current,a/(e-t))},O=e=>!!T.current&&T.current.contains(e);(0,o.useImperativeHandle)(t,(()=>({animatePanel:I,containsDOMNode:O})));const N={};let R;return k!==b.DEFAULT_CHAT_WALLPAPER&&(N.backgroundColor=k),n&&a?R=(0,y.jsx)(f.default,{chat:n,groupMetadata:n.groupMetadata,chatPreference:u.default.assertGet("defaultPreference"),focusCtx:C,msgCollection:a,notifyChatRendered:S,updateOpenedChatInfo:E,wallpaperColor:k},n.id.toString()):x&&(R=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("header",{className:(0,r.default)(g.default.chatHeader,p.default.header),children:(0,y.jsx)("span",{className:(0,r.default)(p.default.title,g.default.chatTitle),children:i.fbt._("Wallpaper Preview",null,{hk:"1n00VC"})})}),(0,y.jsx)(d.default,{wallpaperColor:k,showDoodle:M.showDoodle}),(0,y.jsx)("footer",{className:c.default.footer})]})),(0,y.jsx)(m.default,{reason:"conversation-panel",children:(0,y.jsx)(_.UIE,{displayName:"ConversationPanel",uimState:v.UIMState.INACTIVE,children:(0,y.jsx)("div",{id:"main",className:(0,r.default)(p.default.pane,{[p.default.previewPane]:e.showPreview}),style:N,ref:T,"data-testid":"conversation-panel-wrapper",children:R})})})}var S=(0,o.forwardRef)(C);t.default=S},86381:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,s.useState)((()=>e.canSend&&!(0,r.isSuspendedGroup)(e)&&!(0,r.isTerminatedGroup)(e))),[a,d]=(0,s.useState)((()=>(0,C.jsx)(S,{chat:e}))),c=()=>{const t=e.canSend&&!(0,r.isSuspendedGroup)(e)&&!(0,r.isTerminatedGroup)(e);n(t),t||d((0,C.jsx)(S,{chat:e}))};return(0,l.useListener)(e,"change:canSend",c),(0,l.useListener)(e.groupMetadata,["change:suspended","change:terminated"],c),function(e,t){const n=(0,u.default)((()=>{if((0,h.shouldBlockByCountry)(e.contact)){var t;i.ModalManager.open((0,C.jsx)(f.default,{onOK:()=>i.ModalManager.close(),okText:m.default.t(531),children:o.fbt._("This business can’t chat with phone numbers with your country code.",null,{hk:"3iYe38"})}),{transition:"modal-flow"});const n=null===(t=e.previewMessage)||void 0===t?void 0:t.isSentByMe;new g.default.GatedChatOpened({chatGatedReason:g.default.CHAT_GATED_REASON.COUNTRY,selfInitiated:n}).commit()}else if((0,y.shouldBlockByTos)(e.contact)){const t=(0,y.shouldBlockByTosB2C)(e.contact,e.previewMessage);i.ModalManager.open((0,C.jsx)(b.default,{contact:e.contact,isB2C:t}),{transition:"modal-flow"});new g.default.GatedChatOpened({chatGatedReason:g.default.CHAT_GATED_REASON.TOS3,selfInitiated:!t}).commit()}}));(0,s.useEffect)(n,[n,t])}(e,t),[t,a]};var r=n(73679),i=n(14597),o=n(48360),s=n(67294),l=n(87550),u=a(n(89113)),d=a(n(90569)),c=a(n(2556)),f=a(n(52665)),h=n(47473),p=n(55981),m=a(n(14296)),g=a(n(11339)),_=a(n(83789)),v=a(n(39020)),b=a(n(88858)),y=n(37894),C=n(85893);function S(e){let{chat:t}=e;const{contact:n,mute:a,isGroup:i,isReadOnly:s,isAnnounceGrpRestrict:l,isPSA:u,groupMetadata:f}=t;return(0,h.shouldBlockByCountry)(n)?o.fbt._("This business can’t chat with phone numbers with your country code.",null,{hk:"3tFX8"}):(0,y.shouldBlockByTos)(n)?m.default.t(849,{contact:n.formattedName}):(0,r.shouldShowTerminatedGroupMsgBar)(t)?(0,C.jsx)(v.default,{}):i&&!(null==f?void 0:f.participants.iAmMember())?m.default.t(697):(0,r.isSuspendedGroup)(t)?(0,C.jsx)(_.default,{}):i&&f&&(null==f?void 0:f.groupType)===p.GroupType.DEFAULT_ANNOUNCEMENT_GROUP&&!(null==f?void 0:f.participants.iAmAdmin())?(0,C.jsx)(c.default,{groupMetadata:f}):i&&!s&&l&&f?(0,C.jsx)(d.default,{chat:t,groupMetadata:f,mute:a}):i&&(null==f?void 0:f.support)?m.default.t(697):u?m.default.t(826):m.default.t(698,{contact:n.formattedName})}},12083:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,f.default)(),t=(t,n)=>{s.DrawerManager.openDrawerLeft((0,B.jsx)(g.CommunityHome,{jid:t,hasFetchedSubgroups:n}),"slide-left",e)};(0,c.useListener)(o.Cmd,"chat_info_drawer",((t,n,a)=>{s.DrawerManager.openDrawerRight((0,B.jsx)(E.InfoFlowLoadable,{chat:t,showFullGroupDescription:n,scrollToParticipantList:a,profileEntryPoint:A.default.PROFILE_ENTRY_POINT.CHAT_MENU},`info-${t.id.toString()}`),"slide-left",e)})),(0,c.useListener)(o.Cmd,"msg_info_drawer",(t=>{N.Stream.displayInfo===N.StreamInfo.NORMAL?t.chat.kind===i.CHAT_KIND.CHAT?s.DrawerManager.openDrawerRight((0,B.jsx)(v.ContactMsgInfoFlowLoadable,{msg:t}),"slide-left",e):s.DrawerManager.openDrawerRight((0,B.jsx)(S.GroupMsgInfoFlowLoadable,{msg:t}),"slide-left",e):u.ToastManager.open((0,B.jsx)(R.Toast,{msg:d.fbt._("Couldn't display message info. Try again later.",null,{hk:"mRFf6"}),id:(0,R.genId)("msg_info_failed")}))})),(0,c.useListener)(o.Cmd,"chat_search",(t=>{s.DrawerManager.openDrawerRight((0,B.jsx)(m.default,{chat:t}),"slide-left",e)})),(0,c.useListener)(o.Cmd,"attach_media_drawer",(t=>{let{chat:n,attachments:a,animationName:i,initCaption:o,onComplete:l,fileOrigin:u,sendAsSticker:d}=t;const c=()=>{const e=n.attachMediaContents;e&&a&&(u?e.processAttachments(a,u):(__LOG__(3)`ChatActionListener:onAttachMediaDrawer fileOrigin is not specified, fallback to default`,e.processAttachments(a,A.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)))};s.DrawerManager.existsDrawerMid((t=>{if(t)return void c();n.attachMediaContents||n.setAttachMediaContents(new h.default({chatParticipantCount:n.getParticipantCount()}));const a=(0,r.default)(n.attachMediaContents,"chat.attachMediaContents");s.DrawerManager.openDrawerMid((0,B.jsx)(p.AttachMediaFlowLoadable,{chat:n,onComplete:l,initCaption:o,mediaCollection:a,sendAsSticker:d}),i||"slide-up",e,{noFocus:!0,onEnterAnimationComplete:c})}))})),(0,c.useListener)(o.Cmd,"verification_drawer",(t=>{s.DrawerManager.openDrawerRight((0,B.jsx)(D.VerificationDrawerLoadable,{contact:_.ContactCollection.assertGet(t),isFirstLevel:!0}),"slide-left",e)})),(0,c.useListener)(o.Cmd,"live_location_drawer",((t,n)=>{var a;(null===(a=t.liveLocation)||void 0===a?void 0:a.active)||s.DrawerManager.openDrawerRight((0,B.jsx)(x.LiveLocationDrawerLoadable,{chat:t,openFrom:n,isFirstLevel:!0}),"slide-left",e)})),(0,c.useListener)(o.Cmd,"media_viewer_modal",(t=>{const{msg:n,getZoomNode:a,currentTime:i,highlightedMsgIds:o}=t;P.MsgCollection.get(n.id)?l.ModalManager.openMedia((0,B.jsx)(k.MediaViewerFlowLoadable,{msg:n,startTime:i,getZoomNode:a,highlightedMsgIds:o}),{transition:"media-viewer",uim:(0,r.default)(e,"uim")}):l.ModalManager.open((0,B.jsx)(M.default,{msg:n}))})),(0,c.useListener)(o.Cmd,"expired_location_drawer",(t=>{s.DrawerManager.openDrawerRight((0,B.jsx)(x.ExpiredLocationDrawerLoadable,{msg:t}),"slide-left",e)})),(0,c.useListener)(o.Cmd,"ephemeral_drawer",((t,n,a)=>{const r=t.isGroup?A.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:A.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING;s.DrawerManager.openDrawerRight((0,B.jsx)(y.default,{chat:t,showNux:n,entryPoint:a,onDDMSettingsClick:()=>(t=>{s.DrawerManager.openDrawerRight((0,B.jsx)(b.default,{onClose:()=>s.DrawerManager.closeDrawerRight(),entryPoint:t}),"slide-left",e)})(r)}),"slide-left",e)})),(0,c.useListener)(o.Cmd,"voip_start_group_call",((e,t)=>{var n,a;const r=(null!==(n=null===(a=e.groupMetadata)||void 0===a?void 0:a.participants)&&void 0!==n?n:[]).map((e=>e.contact.id)),i=(0,B.jsx)(I.default,{isVideo:t,groupParticipants:r,onStartGroupCall:e=>L.Voip.groupCallStart(e,t)});l.ModalManager.open(i,{transition:"modal-flow"})})),(0,c.useListener)(o.Cmd,"merchant_details_drawer",(t=>{s.DrawerManager.openDrawerRight((0,B.jsx)(w.MerchantDetailsFlowLoadable,{contactId:t},"legal-entity-details"),"slide-left",e)})),(0,c.useListener)(o.Cmd,"open_sticker_pack",(t=>{s.DrawerManager.openDrawerRight((0,B.jsx)(O.StickerStoreFlowLoadable,{stickerPackId:t,onSticker:j.default}),"slide-left",e)})),(0,c.useListener)(o.Cmd,"open_community_home",t),(0,c.useListener)(o.Cmd,"open_community_home_manage_groups",(e=>{s.DrawerManager.openDrawerLeft((0,B.jsx)(T.ManageCommunityGroupsFlowLoadable,{parentGroupMetadata:C.default.assertGet(e),onBack:()=>t(e,!1)}))}))};var r=a(n(45095)),i=n(61957),o=n(81572),s=n(41455),l=n(14597),u=n(94816),d=n(48360),c=n(87550),f=a(n(95402)),h=a(n(14075)),p=n(30087),m=a(n(62857)),g=n(4903),_=n(19380),v=n(63463),b=a(n(43250)),y=a(n(30305)),C=a(n(63928)),S=n(64326),E=n(23831),x=n(74429),T=n(94205),M=a(n(20668)),k=n(11603),w=n(28629),A=a(n(11339)),P=n(59871),j=a(n(98248)),I=a(n(29535)),O=n(76626),N=n(8080),R=n(50452),D=n(49376),L=n(84356),B=n(85893)},49395:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=(0,r.default)((()=>new u.default.UiAction({uiActionType:u.default.UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0}))).current,a=(0,r.default)((()=>new u.default.WebcChatOpen({webcUnreadCount:e.unreadCount,webcWindowHeightFloat:(0,o.default)()}))).current,p=(0,r.default)((()=>f.QPL.markerStart(h.QuickLogMarkerId.CHAT_OPEN,{annotations:{int:{unreadMessageCount:e.unreadCount,windowHeight:(0,o.default)()}},closePreviousInstanceWithAction:f.QuickLogActionType.ABORTED,instanceKeyOption:f.QplInstanceKeyOptions.AUTO_INCREMENT}).instanceKey)).current;(0,i.default)({onMount(){var r;const i=t();if(null!=i&&(a.webcRenderedMessageCount=i),a.markWebcChatOpenT(),f.QPL.markerPoint(h.QuickLogMarkerId.CHAT_OPEN,"chat_open",{instanceKey:p}),e.isGroup&&null!=(null===(r=e.groupMetadata)||void 0===r?void 0:r.cachedDeviceSizeBucket)&&(n.sizeBucket=e.groupMetadata.cachedDeviceSizeBucket,Object.assign(n,(0,s.getGroupMetricsFromGroupMetadata)(e.groupMetadata))),n.markUiActionT(),n.commit(),(0,l.isPrivacyNarrativeV1Enabled)()&&(0,d.chatContainsGoldenBox)(e)){const t=(0,d.getHighlightSurfaceForGoldenBox)(e.id);null!=t&&new u.default.PrivacyHighlight({highlightCategory:"e2ee",highlightSurface:t,userActionType:u.default.USER_ACTION_TYPE.NARRATIVE_APPEAR}).commit()}(0,c.logUiActionShadowPrivateStatsTestEvents)()},onBeforePaint(){a.markWebcChatOpenBeforePaintT(),f.QPL.markerPoint(h.QuickLogMarkerId.CHAT_OPEN,"painted_start",{instanceKey:p})},onAfterPaint(){const e=t();null!=e&&(a.webcFinalRenderedMessageCount=e,f.QPL.markerAnnotate(h.QuickLogMarkerId.CHAT_OPEN,{int:{finalRenderedMessageCount:e}},{instanceKey:p})),a.markWebcChatOpenPaintedT(),f.QPL.markerPoint(h.QuickLogMarkerId.CHAT_OPEN,"painted_end",{instanceKey:p}),a.commit(),f.QPL.markerEnd(h.QuickLogMarkerId.CHAT_OPEN,f.QuickLogActionType.SUCCESS,{instanceKey:p})},onUnmount(){f.QPL.markerEnd(h.QuickLogMarkerId.CHAT_OPEN,f.QuickLogActionType.CANCEL,{instanceKey:p})},onError(){f.QPL.markerEnd(h.QuickLogMarkerId.CHAT_OPEN,f.QuickLogActionType.FAIL,{instanceKey:p})}})};var r=a(n(16223)),i=a(n(828)),o=a(n(21018)),s=n(42515),l=n(41566),u=a(n(11339)),d=n(33210),c=n(7595),f=n(48870),h=n(27798)},75284:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{canCompose:n,onDragEnter:a}=t,s=(0,i.useRef)(!1),l=(0,i.useRef)(null);return[l,{onDragStart:()=>{n&&(s.current=!0)},onDragEnd:()=>{n&&(s.current=!1)},onDragEnter:t=>{if(!n)return;a();const i=new o.default(t.dataTransfer),u=l.current;null!=u&&!s.current&&(i.hasType("Files")||i.hasType("text/uri-list")||i.hasType("text/html"))&&(u.flushSaveComposeContentDebounced(),r.Cmd.attachMediaDrawer({chat:e,initCaption:u.getCurrentComposeContent(),onComplete:u.updateTextAfterMediaDrawerClose}),t.stopPropagation(),t.preventDefault())}}]};var r=n(81572),i=n(67294),o=a(n(92726))},95002:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t]=(0,u.default)(o.NUX.EPHEMERAL);let n=null;t&&(e.isGroup&&null!=e.groupMetadata?n=e.groupMetadata:e.isUser&&(n=e));const a=()=>{t&&e.isEphemeralSettingOn()&&((0,c.isKeepInChatReadEnabled)()?i.ModalManager.open((0,h.jsx)(d.default,{})):r.Cmd.ephemeralDrawer(e,!0,f.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.EPHEMERAL_NUX))};(0,s.useEffect)(a,[]),(0,l.useListener)(n,"change:ephemeralDuration",a)};var r=n(81572),i=n(14597),o=n(71579),s=n(67294),l=n(87550),u=a(n(59732)),d=a(n(39911)),c=n(29805),f=a(n(11339)),h=n(85893)},50335:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{canCompose:t,selectable:n,setScrollBottom:r,getScrollBottom:h,onComposeHeightChange:m}=e,g=(0,d.useRef)(null),_=(0,d.useRef)(0),v=(0,d.useRef)(null),b=(0,d.useRef)(),y=(0,d.useRef)(!1);(0,d.useEffect)((()=>{t||(_.current=0)}),[t]);const C=()=>Math.max(0,_.current),S=()=>{const e=C();g.current&&(g.current.style.height=`${e}px`)};let E;n?E=(0,f.jsx)("div",{ref:g,className:(0,c.default)(p)}):t&&(E=(0,f.jsx)("div",{ref:g,style:{height:`${C()}px`},className:(0,c.default)(p)}));return{msgPanelRef:v,filler:E,handleComposeHeightChange:(e,t)=>{var n;let{input:d,overlay:c=0}=e;const f=v.current,p=h();if(!f||null==p)return;if(void 0!==d)return void m(d);if(t)return _.current=c,S(),void r(p);var g;(_.current+=c,c<0&&(S(),r(p)),b.current)&&(y.current=!0,null===(g=b.current)||void 0===g||g.controller.abort());const C=new a,E=C.signal,x=((null===(n=b.current)||void 0===n?void 0:n.promise)||Promise.resolve()).then((()=>(0,u.default)(f,{translateY:c>0?[-c,0]:[0,c]},{duration:300,easing:[.1,.82,.25,1]}))),T=(0,s.default)(x,E).catch((0,o.filteredCatch)(l.Unmount,(()=>{}))).then((()=>{if(E.aborted)throw new i.AbortError;c>0&&S(),f.style.transform="",c>0&&r(p)})).catch((0,i.catchAbort)((()=>{(0,u.default)(f,"finish",!0)}))).then((()=>{y.current?y.current=!1:b.current=void 0}));b.current={promise:T,controller:C}}}};var i=n(89385),o=n(50796),s=r(n(47259)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),u=r(n(62831)),d=n(67294),c=r(n(56720)),f=n(85893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const p={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",order:"e3u7tipa"}},34106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,i.useState)((()=>!(!e.isGroup||o.ServerProps.groupDescLength<=0||(0,r.getSeenGroupDesc)(e.id))&&((0,r.setSeenGroupDesc)(e.id),0===e.unreadCount?!e.msgs.some((e=>e.type!==a.MSG_TYPE.E2E_NOTIFICATION&&e.type!==a.MSG_TYPE.GP2)):!e.shouldShowUnreadDivider)));return[t,()=>{n(!1)}]};var a=n(15461),r=n(55452),i=n(67294),o=n(64551)},17466:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,s.default)(i.NUX.KEEP_IN_CHAT);(0,o.useEffect)((()=>{t&&e.isEphemeralSettingOn()&&(0,l.isKeepInChatReadEnabled)()&&r.ModalManager.open((0,d.jsx)(u.default,{viewNux:n}))}),[])};var r=n(14597),i=n(71579),o=n(67294),s=a(n(59732)),l=n(29805),u=a(n(56492)),d=n(85893)},78112:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,o.useState)(!1),a=(0,s.default)((()=>new i.default([],(e=>e.id.toString())))),d=(t,i,o)=>{n(!0);const s=a.current.getSelected().pop(),l=null==o?void 0:o.shiftKey;a.current.setVal(t,i,!0),i&&u.UiRevokeActionHelper.messageSelected(),l&&((t,n,i)=>{if(!t||!e)return;const o=e.indexOf(t);if(!o)return;let s=e.indexOf(n);const l=s>o?-1:1,u=o+(i?l:s<o?0:2*l);for(;s!==u;)a.current.setVal((0,r.default)(e.at(s),"msgCollection.at(currentSelectedIndex)").safe(),i,!0),s+=l})(s,t,i)};return(0,l.useListener)(e,"remove",(e=>{a.current.isSelected(e)&&d(e,!1)})),{selectable:t,selectedMessages:a.current,handleSelectMessages:()=>{u.UiRevokeActionHelper.startSession(),n(!0)},handleMessageSelect:d,handleCancelSelection:()=>{t&&(a.current.unsetAll(),n(!1))}}};var r=a(n(45095)),i=a(n(78931)),o=n(67294),s=a(n(16223)),l=n(87550),u=n(55051)},19877:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useSetModelValue)(e,"active");(0,o.useEffect)((()=>{const n=e.getReceivedVcardMsgs();if(n&&!n.isSynced&&n.sync(e),t(!0),e.attachMediaContents){const t=e.attachMediaContents.isStickerMaker;i.Cmd.attachMediaDrawer({chat:e,animationName:"noop",sendAsSticker:t})}return(0,r.isTerminatedGroupOrNotMember)(e)?(0,u.openTerminatedGroupOrNotMemberModal)():(0,r.isSuspendedGroup)(e)?(0,u.openSuspendedGroupModal)():(0,l.default)(e),()=>{e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),t(!1)}}),[])};var r=n(73679),i=n(81572),o=n(67294),s=n(1776),l=a(n(21959)),u=n(43745)},24317:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{recordingSession:t,onComplete:n}=e,a=(0,u.useRef)(),[o,j]=(0,u.useState)((()=>{switch(t.state){case C.RecordingSessionState.PAUSED:return T.PREVIEW;case C.RecordingSessionState.RECORDING:return T.RECORDER;default:throw new Error(`Invalid recording session state: ${t.state}`)}})),[D,L]=(0,u.useState)((()=>o===T.PREVIEW?t.getAudioForPlayback():null)),B=()=>{L(null),null==D||D.dispose()},F=null==D?void 0:D.getAudio(),G=(0,u.useRef)(),U=(0,u.useRef)(),V=(0,u.useRef)(t);V.current=t;const W=(0,c.default)(t,"change:duration",(()=>Math.floor(t.duration))),[H,q]=(0,u.useState)((()=>Math.floor((null==F?void 0:F.currentTime)||0))),[Y,z]=(0,u.useState)((()=>0===((null==F?void 0:F.currentTime)||0))),K=e=>{q(Math.floor(e)),z(0===e)};(0,f.useListener)(F,"timeupdate",(()=>{var e;K(null!==(e=null==F?void 0:F.currentTime)&&void 0!==e?e:0)}));const[$,Q]=(0,u.useState)(null),{exceedsMinDuration:X,isRecording:J}=(0,h.useModelValues)(t,["exceedsMinDuration","isRecording"]);(0,f.useListener)(t,"change:state",(()=>{t.state!==C.RecordingSessionState.STOPPED&&t.state!==C.RecordingSessionState.ERROR||n()}));const Z=(0,c.default)(F,["play","pause"],(()=>null!=F&&!F.paused)),ee=function(){const[e,t]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),250),n=()=>{t(!1),a()};window.addEventListener("mouseup",n);const a=()=>{window.removeEventListener("mouseup",n),clearTimeout(e)};return a}),[]),e}();(0,u.useEffect)((()=>{J&&setTimeout((()=>{var e;null===(e=G.current)||void 0===e||e.focus()}),100)}),[J]),(0,u.useEffect)((()=>{o===T.PREVIEW&&(V.current.markDraftPreviewSeen(),setTimeout((()=>{var e;null===(e=U.current)||void 0===e||e.focus()}),100))}),[o]),(0,p.default)((()=>{null==F||F.pause(),B(),t.pause()})),(0,f.useListener)(t,"change:isRecording",(()=>{if(t.isRecording)return;if(t.state!==C.RecordingSessionState.PAUSED)return;B();const e=t.getAudioForPlayback();L(e),K(0),j(T.PREVIEW)}));const te=()=>{t.incrementPauseButtonCount(),t.pause()},ne=()=>{t.incrementPauseButtonCount(),t.pause()},ae=()=>{(0,r.default)((function*(){null==F||F.pause(),j(T.RECORDER);(yield t.resume())||j(T.PREVIEW)}))()};(0,f.useListener)(F,"ended",(()=>{(0,i.default)(F,"audio").load()}));const re=(0,u.useCallback)((()=>{var e;return null!==(e=null==F?void 0:F.currentTime)&&void 0!==e?e:0}),[F]),ie=(0,m.default)((()=>t.getPreciseDuration())),oe=(0,m.default)((()=>t.duration)),se=(0,m.default)((()=>t.getLiveWaveformSamples())),le=(0,m.default)((()=>t.getCorrectedWaveformSamples())),ue=(0,m.default)((e=>{K(e),Q(null),(0,i.default)(F,"audio").currentTime=e,t.incrementDraftSeekCount()})),de=(0,m.default)((e=>{Q(Math.floor(e))}));let ce,fe;S.ServerProps.pttPausableEnabled?fe=(0,x.jsx)("div",{className:(0,d.default)(w),children:(0,x.jsx)(_.PttPauseAndResumeRecordingButton,{recording:o===T.RECORDER,confirmOnMouseUp:ee,onConfirm:o===T.RECORDER?ne:ae})}):ce=(0,x.jsx)("div",{className:(0,d.default)(w),children:(0,x.jsx)(y.PttStopButton,{confirmOnMouseUp:ee,onConfirm:te})});const he=(0,x.jsxs)("div",{className:(0,d.default)(A),children:[(0,x.jsx)(R,{time:W}),(0,x.jsx)("div",{className:(0,d.default)(I,O),children:(0,x.jsx)(E.Waveform,{location:E.WaveformLocation.DRAFT_PREVIEW,sampleRate:t.getWaveformSampleRate(),getSamples:se,getCurrentTime:re,getDuration:ie,live:J,mode:E.WaveformMode.RECORDER,onSeek:de,onSeekEnd:ue,tabIndex:s.TAB_ORDER.PTT_BUTTON})}),ce]}),pe=null!=$?$:Y?W:H,me=(0,x.jsxs)("div",{className:(0,d.default)(P),children:[(0,x.jsx)(v.PttPlayPauseButton,{ref:U,theme:"compose-box",paused:!Z,onConfirm:()=>{const e=(0,i.default)(F,"audio");e.paused?(e.play(),t.incrementDraftPlayCount()):e.pause()}}),(0,x.jsx)("div",{className:(0,d.default)(I,N),children:(0,x.jsx)(E.Waveform,{location:E.WaveformLocation.DRAFT_PREVIEW,sampleRate:t.getWaveformSampleRate(),getSamples:le,getCurrentTime:re,getDuration:oe,live:Z,mode:E.WaveformMode.PREVIEW,onSeek:de,onSeekEnd:ue,tabIndex:s.TAB_ORDER.PTT_BUTTON})}),(0,x.jsx)(R,{time:pe})]});return(0,x.jsxs)("div",{ref:a,className:(0,d.default)(M),children:[(0,x.jsx)(g.PttCancelButton,{ref:G,confirmOnMouseUp:ee,onConfirm:()=>{t.stop(C.RecordingSessionStopReason.CANCEL_BUTTON)}}),(0,x.jsx)("div",{className:(0,d.default)(k),children:(0,x.jsxs)(l.default,{transitionName:"fade",children:[o===T.RECORDER?he:null,o===T.PREVIEW?me:null]})}),fe,(0,x.jsx)(b.PttSendButton,{disabled:!X,confirmOnMouseUp:ee,onConfirm:()=>{t.send()}})]})};var r=a(n(48926)),i=a(n(45095)),o=n(40234),s=n(55715),l=a(n(40436)),u=n(67294),d=a(n(56720)),c=a(n(96570)),f=n(87550),h=n(35461),p=a(n(55010)),m=a(n(89113)),g=n(50270),_=n(90601),v=n(16538),b=n(91921),y=n(22234),C=n(70597),S=n(64551),E=n(89470),x=n(85893);const T=n(76672).Mirrored(["RECORDER","PREVIEW"]),M={display:"p357zi0d",alignItems:"gndfcl4n",width:"ln8gz9je",maxWidth:"ba1bgrqy"},k={position:"g0rxnol2",display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",alignItems:"gndfcl4n",height:"db4qzak4"},w={display:"p357zi0d",marginEnd:"oz083wsx"},A={position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",marginStart:"g9zvcdbd"},P={position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",marginEnd:"oz083wsx",marginStart:"tigrmefi",backgroundColor:"lbzzw5jd",borderTop:"b16c6ymn",borderEnd:"q1alctvk",borderBottom:"at9xyjjq",borderStart:"q568nw76",borderTopStartRadius:"tt8exp03",borderTopEndRadius:"jdimvq34",borderBottomEndRadius:"nnr224yo",borderBottomStartRadius:"g0zx2qg0",direction:"btzd6xh9",paddingRight:"n9ozkf7y",paddingLeft:"osvl0z4i"},j={minWidth:"rgvqn4sm",fontSize:"p9fp32ui"},I={display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",height:"stnyektq"},O={marginEnd:"spjzgwxb",marginStart:"qnz2jpws"},N={marginRight:"b0ysteiu",marginLeft:"ro9hr2xy"};function R(e){return(0,x.jsx)("div",{className:(0,d.default)(j),role:"timer",children:o.Clock.durationStr(e.time)})}},31718:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{ariaLabel:t,value:n,valueText:a,min:h,max:p,smallSkip:m,largeSkip:g,onChange:_,onCommit:v,disabled:b,children:y,tabIndex:C,inset:S=[0,0]}=e,E=(0,d.default)(),[x,T]=(0,s.useState)(!1),M=(0,s.useCallback)((()=>{T(!0)}),[T]),k=(0,s.useCallback)((()=>{T(!1)}),[T]),w=(0,s.useRef)(),A=(0,s.useRef)(),P=(0,s.useRef)(),j=e=>{const t=(0,i.default)(A.current,"minPxRef.current"),n=(0,i.default)(P.current,"maxPxRef.current"),a=e.clientX,o=(0,r.default)((a-t)/(n-t),0,1);return h+o*(p-h)},I=(0,u.default)((e=>{e.preventDefault(),null==_||_(j(e))})),O=(0,u.default)((e=>{if(0!==e.button)return;k();const t=j(e);null==_||_(t),v(t)}));return(0,s.useEffect)((()=>{if(x)return window.addEventListener("mousemove",I),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",O)}}),[I,O,x]),(0,c.jsx)("div",{ref:w,className:(0,l.default)(f.base,!0===b&&f.disabled,E&&f.isKeyboardUser),role:"slider","aria-label":t,"aria-valuenow":n,"aria-valuetext":a,"aria-valuemin":h,"aria-valuemax":p,"data-tab":C,tabIndex:"0",onMouseDown:e=>{var t;if(0!==e.button)return;if(b)return;e.preventDefault();const n=(0,i.default)(null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect(),"containerRef.current?.getBoundingClientRect()"),[a,r]=S;A.current=n.left+a,P.current=n.left+n.width-r,M(),null==_||_(j(e))},onKeyDown:e=>{if(b)return;let t;switch(e.key){case o.KEYBOARD_EVENT_KEY_VALUE.ARROW_RIGHT:case o.KEYBOARD_EVENT_KEY_VALUE.ARROW_UP:t=m;break;case o.KEYBOARD_EVENT_KEY_VALUE.ARROW_LEFT:case o.KEYBOARD_EVENT_KEY_VALUE.ARROW_DOWN:t=-m;break;case o.KEYBOARD_EVENT_KEY_VALUE.PAGE_UP:t=g;break;case o.KEYBOARD_EVENT_KEY_VALUE.PAGE_DOWN:t=-g}if(null!=t){e.preventDefault();const a=(0,r.default)(n+t,h,p);v(a)}},children:y})};var r=a(n(74691)),i=a(n(45095)),o=n(38069),s=n(67294),l=a(n(56720)),u=a(n(89113)),d=a(n(46603)),c=n(85893);const f={base:{cursor:"ajgl1lbb"},disabled:{cursor:"h2qzpyga"},isKeyboardUser:{":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"}}}},44693:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OpusRecorderState=t.OpusRecorder=void 0;var i=r(n(81109)),o=r(n(48926)),s=r(n(45095)),l=r(n(89350)),u=r(n(56624));const d={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},c=n(76672).Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]);t.OpusRecorderState=c;function f(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let a=0;for(const t of e)n.set(t,a),a+=t.length;return new Blob([n],{type:"audio/ogg; codecs=opus"})}function h(){return(h=(0,o.default)((function*(e,t,n,a){const r=yield e(a);if(a.aborted||null==r)return!1;const i=t.createMediaStreamSource(r);return n.forEach((e=>{i.connect(e)})),a.addEventListener("abort",(()=>{r.getTracks().forEach((e=>{e.stop()})),i.disconnect()}),{once:!0}),!0}))).apply(this,arguments)}t.OpusRecorder=class{constructor(e){if(this._duration=0,this._recordedPages=[],this._state=c.INACTIVE,this._isFirstBuffer=!1,this._requestCount=0,this._pendingFlushResolvers=new Map,this._handleEncoderMessage=e=>{const t=e.data;switch(t.message){case"page":this._storePage(t.page);break;case"flushed":this._handleFlushed(t.requestId);break;default:throw new Error(`Invalid message event type: ${t.message}`)}},!Boolean(window.AudioContext&&u.default))throw new Error("Recording is not supported in this browser");this._createStream=e.createStream,this._onDuration=e.onDuration,this._onPause=e.onPause,this._onResume=e.onResume,this._onStart=e.onStart,this._onStop=e.onStop,this._completeRecordingPromise=new Promise((e=>{this._resolveCompleteRecordingPromise=e})),this._audioContext=new AudioContext,this._encoderNode=this._audioContext.createScriptProcessor(d.bufferLength,d.numberOfChannels,d.numberOfChannels),this._encoderNode.onaudioprocess=e=>{this._encodeBuffers(e.inputBuffer)},this._monitorNode=this._audioContext.createGain()}getState(){return this._state}start(){var e=this;return(0,o.default)((function*(){var t,n;switch(e._state){case c.RECORDING:return!0;case c.STOPPED:return!1;case c.PAUSED:return e.resume();case c.INACTIVE:}e._recordedPages=[],e._isFirstBuffer=!0,e._duration=0;const a=new l.default;e._encoder=a,a.addEventListener("message",e._handleEncoderMessage);return!!(yield e._startRecording())&&(null===(t=e._onStart)||void 0===t||t.call(e),null===(n=e._onDuration)||void 0===n||n.call(e,e._duration),a.postMessage({command:"encode-init",config:(0,i.default)((0,i.default)({},d),{},{originalSampleRate:e._audioContext.sampleRate})}),e._encoderNode.connect(e._audioContext.destination),!0)}))()}stop(){var e,t;this._state!==c.STOPPED&&(this._state=c.STOPPED,null===(e=this._recordingAbortController)||void 0===e||e.abort(),this._audioContext.close&&this._audioContext.close(),this._monitorNode.disconnect(),this._encoderNode.disconnect(),null===(t=this._encoder)||void 0===t||t.postMessage({command:"encode-done"}))}pause(){var e,t;this._state===c.RECORDING&&(this._state=c.PAUSED,null===(e=this._recordingAbortController)||void 0===e||e.abort(),null===(t=this._onPause)||void 0===t||t.call(this))}resume(){var e=this;return(0,o.default)((function*(){var t;switch(e._state){case c.RECORDING:return!0;case c.STOPPED:return!1;case c.INACTIVE:throw new Error("Attempting to resume recording that hasn't started");case c.PAUSED:}return!!(yield e._startRecording())&&(null===(t=e._onResume)||void 0===t||t.call(e),!0)}))()}getDuration(){return this._duration}getMonitorNode(){return this._monitorNode}_encodeBuffers(e){var t;if(this._isFirstBuffer)return void(this._isFirstBuffer=!1);if(this._state!==c.RECORDING)return;const n=[];for(let t=0;t<e.numberOfChannels;t++)n[t]=e.getChannelData(t);(0,s.default)(this._encoder,"this._encoder").postMessage({command:"encode",buffers:n}),this._duration+=e.duration,null===(t=this._onDuration)||void 0===t||t.call(this,this._duration)}_getNextRequestId(){return this._requestCount++,this._requestCount}_startRecording(){var e=this;return(0,o.default)((function*(){e._state=c.RECORDING,e._recordingAbortController=new a;return!!(yield function(){return h.apply(this,arguments)}(e._createStream,e._audioContext,[e._encoderNode,e._monitorNode],e._recordingAbortController.signal))||(e.stop(),!1)}))()}_storePage(e){if(this._recordedPages.push(e),4&e[5]){var t;(0,s.default)(this._encoder,"this._encoder").removeEventListener("message",this._handleEncoderMessage),this._resolveCompleteRecordingPromise(f(this._recordedPages)),this._recordedPages=[],null===(t=this._onStop)||void 0===t||t.call(this)}}_handleFlushed(e){const t=(0,s.default)(this._pendingFlushResolvers.get(e),"this._pendingFlushResolvers.get(requestId)");this._pendingFlushResolvers.delete(e),t(f(this._recordedPages))}getPartialRecording(){const e=this._getNextRequestId(),t=new Promise((t=>{this._pendingFlushResolvers.set(e,t)}));return(0,s.default)(this._encoder,"this._encoder").postMessage({command:"flush",requestId:e}),t}getCompleteRecording(){return this._completeRecordingPromise}}},52039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{start(){this._startTime=Date.now()}stop(){this._stopTime=Date.now()}pause(){this.stop()}resume(){this._startTime=Date.now()-this.getTime(),this._stopTime=null}getTime(){var e;const t=this._startTime;if(null==t)return 0;return(null!==(e=this._stopTime)&&void 0!==e?e:Date.now())-t}}},69547:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=n(44693),o=a(n(27574));t.default=class{constructor(e){this._handleOpusRecorderDuration=()=>{var e;this._waveformRecorder.commitSamples(this.getDuration()),null===(e=this._onDuration)||void 0===e||e.call(this,this.getDuration())},this._onDuration=e.onDuration,this._opusRecorder=new i.OpusRecorder({createStream:e.createStream,onDuration:this._handleOpusRecorderDuration}),this._waveformRecorder=new o.default(this._opusRecorder.getMonitorNode(),e.waveformSampleRate)}start(){var e=this;return(0,r.default)((function*(){return!!(yield e._opusRecorder.start())&&(e._waveformRecorder.start(),!0)}))()}stop(){this._opusRecorder.stop(),this._waveformRecorder.stop()}pause(){this._opusRecorder.pause(),this._waveformRecorder.pause()}resume(){var e=this;return(0,r.default)((function*(){return!!(yield e._opusRecorder.resume())&&(e._waveformRecorder.resume(),!0)}))()}getDuration(){return this._opusRecorder.getDuration()}getPreciseDuration(){var e;return null!==(e=this._waveformRecorder.getDuration())&&void 0!==e?e:0}getLiveWaveformSamples(){return this._waveformRecorder.getSamples()}getCorrectedWaveformSamples(){return this._waveformRecorder.getCorrectedSamples()}getPartialRecording(){return this._opusRecorder.getPartialRecording()}getCompleteRecording(){return this._opusRecorder.getCompleteRecording()}}},27574:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=a(n(73540)),o=a(n(52039)),s=a(n(40958));t.default=class{constructor(e,t){this._durationTimer=new o.default,this._samples=[],this._correctedSamples=[],this._pendingAmplitude=0,this._updateSamples=()=>{this._pendingAmplitude=Math.max(this._pendingAmplitude,this._getCurrentAmplitude());const e=this._samples.length/this._sampleRate,t=Math.floor((this.getDuration()-e)*this._sampleRate);if(0!==t){for(let e=0;e<t;e++)this._samples.push(this._pendingAmplitude);this._pendingAmplitude=0}},this._committedSamplesRangeEnd=0,this._analyserNode=function(e){const t=e.context.createAnalyser();return t.fftSize=32,t.smoothingTimeConstant=0,t.minDecibels=-60,t.maxDecibels=-10,t}(e),e.connect(this._analyserNode),this._sampleRate=t}start(){this._durationTimer.start(),this._startSamplesUpdater()}stop(){var e;this._durationTimer.stop(),null===(e=this._stopSamplesUpdater)||void 0===e||e.call(this)}pause(){var e;this._durationTimer.pause(),null===(e=this._stopSamplesUpdater)||void 0===e||e.call(this)}resume(){this._durationTimer.resume(),this._startSamplesUpdater()}_startSamplesUpdater(){this._stopSamplesUpdater=(0,i.default)(this._updateSamples)}_getCurrentAmplitude(){var e;const t=(0,r.default)(this._analyserNode,"this._analyserNode");this._analyserData=null!==(e=this._analyserData)&&void 0!==e?e:new Uint8Array(t.frequencyBinCount);const n=this._analyserData;return t.getByteFrequencyData(n),Math.max(...Array.from(n))/255}commitSamples(e){const t=Math.floor(e*this._sampleRate)-this._correctedSamples.length,n=this._samples.length-this._committedSamplesRangeEnd;if(0===t||0===n)return;const a=this._samples.slice(this._committedSamplesRangeEnd,this._samples.length),r=(0,s.default)(a,t);for(const e of r)this._correctedSamples.push(e);this._committedSamplesRangeEnd=this._samples.length}getSamples(){return this._samples}getDuration(){var e;return(null!==(e=this._durationTimer.getTime())&&void 0!==e?e:0)/1e3}getCorrectedSamples(){return this._correctedSamples}}},70597:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RecordingSessionStopReason=t.RecordingSessionState=t.RecordingSession=t.AudioResource=void 0,t.createRecordingSession=function(e){return new G({_chat:e.chat})};var r=a(n(48926)),i=a(n(59854)),o=n(89385),s=n(50796),l=a(n(45095)),u=a(n(47259)),d=n(22712),c=n(72541),f=n(92574),h=N(n(35232)),p=n(14597),m=a(n(34475)),g=n(48360),_=a(n(41143)),v=n(11290),b=n(60868),y=a(n(52665)),C=n(18671),S=n(78986),E=N(n(61849)),x=n(16737),T=a(n(11339)),M=a(n(34949)),k=n(371),w=n(67880),A=a(n(69547)),P=a(n(40958)),j=n(64551),I=n(85893);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}const R=n(76672).Mirrored(["NOT_STARTED","RECORDING","PAUSED","STOPPED","ERROR"]);t.RecordingSessionState=R;const D=n(76672).Mirrored(["CANCEL_BUTTON","PTT_TOO_SHORT","SENT","OTHER"]);t.RecordingSessionStopReason=D;class L extends v.BaseModel{constructor(){super(...arguments),this.duration=(0,v.prop)(0),this.exceedsMinDuration=(0,v.prop)(!1),this.state=(0,v.prop)(R.NOT_STARTED),this._draftPreviewSeen=(0,v.prop)(!1),this._draftPlayCount=(0,v.prop)(0),this._draftSeekCount=(0,v.prop)(0),this._pauseCount=(0,v.prop)(0),this._stopTapCount=(0,v.prop)(0),this.isRecording=(0,v.derived)((function(){return this.state===R.RECORDING}),["state"])}initialize(){super.initialize();let e=null;this.on("change:isRecording",(()=>{var t;this.isRecording?(e=d.MainAudioChannel.claim(this,(()=>{this.pause()})),(0,k.markRecording)(this._chat)):(null===(t=e)||void 0===t||t(),(0,k.markPaused)(this._chat))}))}start(){var e=this;return(0,r.default)((function*(){switch(e.state){case R.NOT_STARTED:break;case R.RECORDING:return!0;case R.PAUSED:return e.resume();case R.STOPPED:case R.ERROR:throw new Error(`Can't start recording from state ${e.state}`)}e.state=R.RECORDING;try{e._recorder=new A.default({createStream:U,waveformSampleRate:e.getWaveformSampleRate(),onDuration:t=>{e.duration=t,e.exceedsMinDuration=t>=1}});if(yield e._recorder.start())return n(68315).PresenceCollection.update(e._chat.presence.id).catch((0,s.filteredCatch)(f.WebdDrop,(()=>{}))),(0,w.incrementPttDailyCount)(w.PttDailyCountKind.RECORD,(0,l.default)(e._chat.kind,"_this._chat.kind")),!0}catch(e){__LOG__(4,void 0,new Error)`PTT Recording Error\n${(0,m.default)(e)}`}return e._endSession(),e.state=R.ERROR,!1}))()}getLiveWaveformSamples(){var e,t;return null!==(e=null===(t=this._recorder)||void 0===t?void 0:t.getLiveWaveformSamples())&&void 0!==e?e:[]}getCorrectedWaveformSamples(){var e,t;return null!==(e=null===(t=this._recorder)||void 0===t?void 0:t.getCorrectedWaveformSamples())&&void 0!==e?e:[]}getScaledWaveformSamples(){return(0,P.default)(this.getCorrectedWaveformSamples(),64).map((e=>Math.floor(100*e)))}getPreciseDuration(){var e,t;return null!==(e=null===(t=this._recorder)||void 0===t?void 0:t.getPreciseDuration())&&void 0!==e?e:0}_endSession(){var e;null===(e=this._recorder)||void 0===e||e.stop()}pause(){if(this.state!==R.RECORDING)return;if(!this.exceedsMinDuration)return void this.stop(D.PTT_TOO_SHORT);this.state=R.PAUSED;(0,l.default)(this._recorder,"this._recorder").pause()}resume(){var e=this;return(0,r.default)((function*(){switch(e.state){case R.RECORDING:return!0;case R.PAUSED:break;case R.NOT_STARTED:case R.STOPPED:case R.ERROR:throw new Error(`Can't resume recording from state ${e.state}`)}e.state=R.RECORDING;try{const t=(0,l.default)(e._recorder,"_this2._recorder");return!!(yield t.resume())||(e.state=R.PAUSED,!1)}catch(t){return e.state=R.ERROR,__LOG__(4,void 0,new Error)`Error resuming recording session\n${(0,m.default)(t)}`,!1}}))()}stop(e){if(this.state===R.STOPPED)return;if(this.state=R.STOPPED,this._endSession(),null==this._recorder)return;e===D.SENT?(0,w.incrementPttDailyCount)(w.PttDailyCountKind.SEND,(0,l.default)(this._chat.kind,"this._chat.kind")):this.duration>1&&(0,w.incrementPttDailyCount)(w.PttDailyCountKind.CANCEL,(0,l.default)(this._chat.kind,"this._chat.kind"));const t=function(e){switch(e){case D.SENT:return T.default.PTT_RESULT_TYPE.SENT;case D.PTT_TOO_SHORT:return T.default.PTT_RESULT_TYPE.TOO_SHORT;case D.CANCEL_BUTTON:return T.default.PTT_RESULT_TYPE.CANCELLED;case D.OTHER:return null}}(e);null!=t&&this._sendPttWamEvent(t)}_getDataForSending(){var e=this;return(0,r.default)((function*(){const t=(0,l.default)(e._recorder,"_this3._recorder"),n=yield t.getCompleteRecording();return M.default.createFromData(n,n.type)}))()}_getDataForPlayback(){var e=this;return(0,r.default)((function*(){const t=(0,l.default)(e._recorder,"_this4._recorder"),n=yield t.getPartialRecording(),a=yield(0,x.transcode)(n);return M.default.createFromData(a,a.type)}))()}getAudioForPlayback(){return new W((()=>this._getDataForPlayback()))}getWaveformSampleRate(){return 8.5}send(){var e=this;return(0,r.default)((function*(){const t=(0,l.default)(e._recorder,"_this5._recorder"),n=e._chat,a=(0,u.default)(e._getDataForSending(),n.deleteSignal),r=n.getComposeContents().ctwaContext||void 0;(0,S.prepRawMedia)(a,{isPtt:!0,precomputedFields:{duration:Math.floor(t.getDuration()),waveform:new Uint8Array(e.getScaledWaveformSamples())}}).sendToChat(n,{quotedMsg:n.composeQuotedMsg||void 0,addEvenWhilePreparing:!0,ctwaContext:r}),n.composeQuotedMsg=null,e.stop(D.SENT),yield a.catch((0,o.catchAbort)((()=>{})))}))()}_sendPttWamEvent(e){var t=this;return(0,r.default)((function*(){var n;const a=(0,l.default)(t._recorder,"_this6._recorder"),r=yield a.getCompleteRecording();new T.default.Ptt({pttSource:T.default.PTT_SOURCE_TYPE.FROM_CONVERSATION,pttResult:e,pttDuration:1e3*Math.round(t.duration),pttSize:(0,i.default)(null!==(n=r.size)&&void 0!==n?n:0,-3),pttStop:t._draftPreviewSeen,pttDraftPlayCnt:t._draftPlayCount,pttDraftSeekCnt:t._draftSeekCount,pttPauseCnt:t._pauseCount,pttStopTapCnt:t._stopTapCount}).commit()}))()}markDraftPreviewSeen(){this._draftPreviewSeen||(this._draftPreviewSeen=!0,(0,w.incrementPttDailyCount)(w.PttDailyCountKind.DRAFT_REVIEW,(0,l.default)(this._chat.kind,"this._chat.kind")))}incrementDraftPlayCount(){this._draftPlayCount++}incrementDraftSeekCount(){this._draftSeekCount++}incrementPauseButtonCount(){j.ServerProps.pttPausableEnabled?(this._pauseCount++,1===this._pauseCount&&(0,w.incrementPttDailyCount)(w.PttDailyCountKind.PAUSED_RECORD,(0,l.default)(this._chat.kind,"this._chat.kind"))):(this._stopTapCount++,(0,_.default)(1===this._stopTapCount,"User interaction should stop the recording a max of one time"),(0,w.incrementPttDailyCount)(w.PttDailyCountKind.STOP_TAP,(0,l.default)(this._chat.kind,"this._chat.kind")))}}function B(){return F.apply(this,arguments)}function F(){return(F=(0,r.default)((function*(){return!0}))).apply(this,arguments)}L.Proxy="recordingSession";const G=(0,v.defineModel)(L);function U(){return V.apply(this,arguments)}function V(){return(V=(0,r.default)((function*(e){if(!(yield B())||e.aborted)return null;if(b.CallCollection.activeCall)return p.ModalManager.open((0,I.jsx)(y.default,{onOK:()=>p.ModalManager.close(),children:g.fbt._("Can’t record voice messages during a WhatsApp call.",null,{hk:"3ODyzJ"})})),null;const{disposeStream:t,asyncStream:n}=E.start("microphone");e.addEventListener("abort",(()=>{t()}),{once:!0});try{return yield n}catch(e){if(e instanceof h.GUM.NotAllowedError)return p.ModalManager.open((0,I.jsx)(C.GuidePopup,{messaging:C.Messaging.MIC_FAIL,type:C.TYPE.GUIDE_UNBLOCK})),null;if(e instanceof h.GUM.GUMError)return p.ModalManager.open((0,I.jsx)(C.GuidePopup,{messaging:C.Messaging.MIC_MISSING,type:C.TYPE.GUIDE_NONE})),null;throw e}}))).apply(this,arguments)}t.RecordingSession=G;class W{constructor(e){var t=this;this._opaqueDataPromise=e();const n=c.AudioManager.createAudioProxy();this._audio=n,this._unregisterFromAudioChannel=d.MainAudioChannel.registerMedia(n),(0,r.default)((function*(){const e=yield t._opaqueDataPromise,n=t._audio;null!=n&&(n.src=e.url())}))()}getAudio(){return(0,_.default)(null!=this._audio,"Audio used after disposal"),this._audio}dispose(){var e=this;null!=this._audio&&(this._unregisterFromAudioChannel(),this._audio=null,(0,r.default)((function*(){(yield e._opaqueDataPromise).autorelease()}))())}}t.AudioResource=W},40958:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t===e.length?e:0===t?[]:0===e.length?new Array(t).fill(0):t>e.length?function(e,t){let n;if((0,r.default)(t>e.length,`${t} not greater than ${e.length}`),1===e.length)n=0;else{const a=(t-e.length)/(e.length-1);n=1/(1+a)}const a=[];t>=1&&a.push(e[0]);for(let r=1;r<t-1;r++){const t=r*n,s=Math.floor(t);a.push((i=e[s],o=e[Math.ceil(t)],i+(o-i)*(t-s)))}var i,o;t>=2&&a.push(e[e.length-1]);return a}(e,t):function(e,t){(0,r.default)(t<e.length,`${t} not less than ${e.length}`);const n=[],a=t/e.length;let i=0,o=0,s=0;for(const t of e)i+=t,s+=1,o+=a,o>=1&&(n.push(i/s),s=0,i=0,o-=1);s>0&&n.push(i/s);return n}(e,t)};var r=a(n(41143))},89470:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Waveform=function(e){const[t,{width:n,height:a}]=(0,m.default)(),i=0===n||0===a?null:(0,b.jsx)(x,(0,r.default)((0,r.default)({},e),{},{width:n,height:a}));return(0,b.jsx)("div",{ref:t,className:(0,d.default)(S),children:(0,b.jsx)("div",{className:(0,d.default)(E),children:i})})},t.WaveformMode=t.WaveformLocation=void 0;var r=a(n(81109)),i=a(n(88306)),o=a(n(82594)),s=a(n(45095)),l=n(40234),u=n(67294),d=a(n(56720)),c=a(n(65789)),f=a(n(51799)),h=a(n(74744)),p=a(n(16223)),m=a(n(48711)),g=a(n(31718)),_=a(n(40958)),v=n(97628),b=n(85893);const y=n(76672).Mirrored(["DRAFT_PREVIEW","INCOMING_UNPLAYED_MESSAGE","INCOMING_PLAYED_MESSAGE","OUTGOING_UNPLAYED_MESSAGE","OUTGOING_PLAYED_MESSAGE"]);t.WaveformLocation=y;const C=n(76672).Mirrored(["RECORDER","PREVIEW"]);t.WaveformMode=C;const S={position:"g0rxnol2",flexGrow:"ggj6brxn"},E={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0"};const x=e=>{const t=(0,u.useRef)(),{getSamples:n,sampleRate:a,width:r,height:i,getCurrentTime:d,getDuration:m,live:y,location:S,mode:E,onSeek:x,onSeekEnd:N,disabled:R,tabIndex:D,skipThumb:L}=e,B=(0,h.default)(),{theme:F}=(0,u.useContext)(v.ThemeContext),G=O(F,S),[U,V]=(0,u.useState)(null),[W,H]=(0,u.useState)({value:d(),max:m()}),q=(0,f.default)((()=>{H({value:d(),max:m()})}),500),Y=(0,u.useCallback)((()=>{q(),q.flush()}),[q]);(0,u.useEffect)((()=>{E===C.PREVIEW&&Y()}),[E,Y]);const z=(0,p.default)((()=>{const e=(0,o.default)((e=>{let{samples:t,inputSize:n,desiredSize:a}=e;return(0,_.default)(t,a)}));return(t,n)=>e({samples:t,inputSize:t.length,desiredSize:n})})),K=(0,u.useCallback)((()=>{q(),function(e){const{canvas:t,width:n,height:a,currentTime:r,duration:i,sampleRate:o,colors:s,mode:l,pixelRatio:u,scaleSamples:d}=e;let c,f,h,p;const m=0===i?0:r/i;if(l===C.RECORDER){c=e.samples;const t=n-i*o*k;f=t>0?0:Math.floor(-t/k),h=t+f*k,p=n}else{c=d(e.samples,j(n));const[t,a]=I(n);h=t-1.25-M,f=0;const r=t-1.25;p=r+m*(n-a+1.25-r)}const g=t.getContext("2d");g.lineCap="round",g.setTransform(u,0,0,u,0,0),g.clearRect(0,0,n,a);for(let e=f;e<c.length;e++){const t=h+(e-f)*k+M;let r;if(l===C.PREVIEW)r=1;else{const e=t,a=n-(t+T);r=P(e<a?Math.min(1,e/7):Math.min(1,a/14))}const i=Math.max(0,r*(w+c[e]*(a-w)));A(g,s,t,(a-i)/2,T,i,p)}if(l===C.PREVIEW&&!e.skipThumb){const[e,t]=I(n);!function(e,t,n,a){e.beginPath(),e.arc(t,n,6,0,2*Math.PI,!1),e.fillStyle=a,e.fill()}(g,e+m*(n-t-e),a/2,s.thumb)}}({canvas:(0,s.default)(t.current,"canvasRef.current"),samples:n(),width:r,height:i,currentTime:null!=U?U:d(),duration:m(),sampleRate:a,colors:G,mode:E,pixelRatio:B,scaleSamples:z.current,skipThumb:null!=L&&L})}),[t,n,r,i,d,U,m,a,G,E,q,B,z,L]);(0,c.default)(K,{active:y}),(0,u.useEffect)((()=>{y||K()}),[y,K]);const $=(0,u.useCallback)((e=>{null==x||x(e),V(e),K()}),[V,x,K]),Q=(0,u.useCallback)((e=>{V(null),null==x||x(e),N(e),K(),Y()}),[V,x,N,K,Y]),X=(0,b.jsx)("canvas",{ref:t,width:B*r,height:B*i,style:{width:`${r}px`,height:`${i}px`}});if(E===C.RECORDER)return X;const{value:J,max:Z}=W,ee=l.Clock.durationStr(J)+"/"+l.Clock.durationStr(Z);return(0,b.jsx)(g.default,{value:J,valueText:ee,min:0,max:Z,smallSkip:1,largeSkip:10,onChange:$,onCommit:Q,disabled:R,tabIndex:D,inset:I(r),children:X})},T=2.5,M=.9,k=4.3,w=T;function A(e,t,n,a,r,i,o){if(0===r||0===i)return;const s=Math.min(r/2,i/2),l=o>=n+r?t.barColorPlayed:t.barColorUnplayed;i<=r?(e.fillStyle=l,e.beginPath(),e.arc(n+r/2,a+i/2,s,0,2*Math.PI),e.fill()):(e.strokeStyle=l,e.lineWidth=2*s,e.beginPath(),e.moveTo(n+r/2,a+s),e.lineTo(n+r/2,a+i-s),e.stroke()),o>n&&o<n+r&&(e.globalCompositeOperation="source-atop",e.fillStyle=t.barColorPlayed,e.rect(n,a,o-n,i),e.fill(),e.globalCompositeOperation="source-over")}function P(e){return e<.5?4*e*e*e:1-(-2*e+2)**3/2}function j(e){return Math.floor((e-12)/k)}function I(e){const t=(e-k*(j(e)-1))/2;return[t,t]}const O=(0,i.default)(((e,t)=>({barColorUnplayed:N("barColorUnplayed",t),barColorPlayed:N("barColorPlayed",t),thumb:N("thumb",t)})),((e,t)=>`${e} ${t}`));function N(e,t){return getComputedStyle((0,s.default)(document.body,"document.body")).getPropertyValue((0,s.default)(R.get(t),"CSS_VARIABLE_NAMES.get(location)")[e]).trim()}const R=new Map([[y.DRAFT_PREVIEW,{barColorUnplayed:"--ptt-waveform-preview-unplayed",barColorPlayed:"--ptt-waveform-preview-played",thumb:"--ptt-draft-thumb"}],[y.INCOMING_UNPLAYED_MESSAGE,{barColorUnplayed:"--ptt-waveform-incoming-unplayed",barColorPlayed:"--ptt-waveform-incoming-played",thumb:"--ptt-thumb-incoming-unplayed"}],[y.INCOMING_PLAYED_MESSAGE,{barColorUnplayed:"--ptt-waveform-incoming-unplayed",barColorPlayed:"--ptt-waveform-incoming-played",thumb:"--ptt-thumb-incoming-played"}],[y.OUTGOING_UNPLAYED_MESSAGE,{barColorUnplayed:"--ptt-waveform-outgoing-unplayed",barColorPlayed:"--ptt-waveform-outgoing-played",thumb:"--ptt-thumb-outgoing-unplayed"}],[y.OUTGOING_PLAYED_MESSAGE,{barColorUnplayed:"--ptt-waveform-outgoing-unplayed",barColorPlayed:"--ptt-waveform-outgoing-played",thumb:"--ptt-thumb-outgoing-played"}]])},63639:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{onConfirm:n}=e,a=null!==(t=e.disabled)&&void 0!==t&&t;return(0,d.jsx)("button",{"data-a8n":r.default.key("ptt-ready-btn"),className:l.default.btnPtt,onMouseDown:e=>{0===e.button&&n()},onKeyPress:e=>{e.key!==i.KEYBOARD_EVENT_KEY_VALUE.ENTER&&e.key!==i.KEYBOARD_EVENT_KEY_VALUE.SPACE||(e.preventDefault(),e.stopPropagation(),n())},disabled:a,"aria-label":s.fbt._("Voice message",null,{hk:"3xevvy"}),"data-tab":a?void 0:o.TAB_ORDER.PTT_BUTTON,children:(0,d.jsx)(u.default,{name:"ptt"})})};var r=a(n(99964)),i=n(38069),o=n(55715),s=n(48360),l=a(n(45086)),u=a(n(23217)),d=n(85893)},40639:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,u.default)(),n=(0,c.useModelValues)(e.chat,["id","isPSA","shouldAppearInList","trusted","isGroup","vcardDismissed"]),a=(0,c.useModelValues)(e.contact,["id","isBusiness","isSupportAccount","verifiedLevel","formattedName","businessProfile"]);(0,d.useListener)(p.BlocklistCollection,["add","remove","reset"],t);const w=()=>{(0,S.sendSpamReport)(n,s.SpamFlow.Chat),o.ModalManager.close()},A=()=>{(0,S.sendSpamExitClear)(n,s.SpamFlow.Block),o.ModalManager.close()},P=()=>{(0,S.sendSpamBlockClear)(n,s.SpamFlow.Block),o.ModalManager.close()},j=()=>{o.ModalManager.open((0,T.jsx)(C.default,{isGroupChat:!0,onReport:w,onReportExitClear:A,onCancel:()=>o.ModalManager.close()}))},I=()=>{r.Cmd.deleteOrExitChat(n)},O=()=>{o.ModalManager.open((0,T.jsx)(C.default,{isBusiness:a.isBusiness,isGroupChat:!1,onReport:w,onReportBlockClear:P,onCancel:()=>o.ModalManager.close()}))},N=()=>{(0,f.blockContact)(a).catch((()=>{})),o.ModalManager.close()},R=()=>{(0,S.sendSpamReport)(n,s.SpamFlow.Block),(0,f.blockContact)(a).catch((()=>{})),o.ModalManager.close()},D=()=>{(0,S.sendNotSpam)(n,!0).catch((()=>{}))},L=()=>{o.ModalManager.open((0,T.jsx)(h.default,{contact:a,onCancel:()=>o.ModalManager.close(),onBlock:N,onReportSpamBlock:R}))},B=()=>{(0,f.unblockContact)(a).catch((()=>{})),o.ModalManager.close()},F=()=>{o.ModalManager.open((0,T.jsx)(v.default,{okText:b.default.t(626),onOK:B,cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>o.ModalManager.close(),children:b.default.t(627,{contact:a.formattedName})}))},G=()=>{i.DrawerManager.openDrawerLeft((0,T.jsx)(y.PrivacyVisibilityEditDrawer,{onClose:()=>i.DrawerManager.closeDrawerLeft(),category:"groupAdd"}))};if(n.isPSA||!n.shouldAppearInList||n.trusted||a.isSupportAccount)return null;const U=p.BlocklistCollection.get(n.id);let V,W;const H=[];if(n.isGroup)V=b.default.t(332),W=l.fbt._("You can control who can add you to groups in your {=m2}",[l.fbt._implicitParam("=m2",(0,T.jsx)(_.default,{onClick:G,children:l.fbt._("privacy settings",null,{hk:"sfNLn"})}))],{hk:"1piCbA"}),H.push((0,T.jsx)("div",{className:E.default.button,children:(0,T.jsxs)(g.default,{type:"plain-white",onClick:j,children:[(0,T.jsx)(x.default,{name:"thumbs-down",width:16,height:16,display:"inline",xstyle:M.icon}),l.fbt._("Report",null,{hk:"18ssTb"})]})},"report_spam")),H.push((0,T.jsx)("div",{className:E.default.button,children:(0,T.jsxs)(g.default,{type:"plain-white",onClick:I,children:[(0,T.jsx)(x.default,{name:"exit",width:16,height:16,display:"inline",xstyle:M.icon}),l.fbt._("Exit group",null,{hk:"4BkPNr"})]})},"exit_group")),H.push((0,T.jsx)(k,{onClick:D}));else{if(V=(0,T.jsx)("div",{className:E.default.text,children:b.default.t(603)}),a.isBusiness){const e=a.verifiedLevel===m.VERIFIED_LEVEL.HIGH?l.fbt._("This official business account is not in your contact list.",null,{hk:"4B5PLS"}):l.fbt._("This business account is not in your contact list.",null,{hk:"3VQ61G"});V=(0,T.jsx)("div",{className:E.default.text,children:e})}H.push((0,T.jsx)("div",{className:E.default.button,children:(0,T.jsxs)(g.default,{type:"plain-white",onClick:O,children:[(0,T.jsx)(x.default,{name:"thumbs-down",width:16,height:16,display:"inline",xstyle:M.icon}),l.fbt._("Report",null,{hk:"18ssTb"})]})},"report_spam")),U?H.push((0,T.jsx)("div",{className:E.default.button,children:(0,T.jsx)(g.default,{onClick:F,type:"plain-white",children:b.default.t(626)})},"unblock")):H.push((0,T.jsx)("div",{className:E.default.button,children:(0,T.jsxs)(g.default,{onClick:L,type:"plain-white",children:[(0,T.jsx)(x.default,{name:"settings-blocked",width:16,height:16,display:"inline",xstyle:M.icon}),b.default.t(148)]})},"block")),H.push((0,T.jsx)(k,{onClick:D}))}return(0,T.jsxs)("div",{className:E.default.spam,children:[V,(0,T.jsx)("div",{className:E.default.controls,children:H}),W]})};var r=n(81572),i=n(41455),o=n(14597),s=n(87674),l=n(48360),u=(a(n(56720)),a(n(59312))),d=n(87550),c=n(35461),f=n(80140),h=a(n(58836)),p=n(32826),m=n(93170),g=a(n(39770)),_=a(n(99360)),v=a(n(52665)),b=a(n(14296)),y=n(39828),C=a(n(30934)),S=n(19569),E=a(n(41975)),x=a(n(23217)),T=n(85893);const M={icon:{marginEnd:"q471nw87"}};function k(e){let{onClick:t}=e;return(0,T.jsx)("div",{className:E.default.button,children:(0,T.jsxs)(g.default,{onClick:t,type:"plain-white",children:[(0,T.jsx)(x.default,{name:"round-send-inv",width:16,height:16,display:"inline",xstyle:M.icon}),l.fbt._("OK",null,{hk:"2KEeHb"})]})},"not_spam")}},43745:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SUSPENDED_GROUP_SUPPORT_TAG=void 0,t.openSuspendedGroupModal=function(){const e=()=>{},t=()=>{};i.ModalManager.open((0,c.jsxs)(d.default,{title:o.fbt._("Group unavailable",null,{hk:"3XmS1y"}),onSupportClicked:()=>{i.ModalManager.close(),i.ModalManager.open((0,c.jsx)(s.default,{onCancel:e,onSend:t,supportTag:f}),{transition:"modal-flow"})},onDismissClicked:()=>{i.ModalManager.close()},showSupportBtn:!0,children:[o.fbt._("This group is no longer available. Please contact WhatsApp Support for help.",null,{hk:"Al9PB"})," ",h]}),{transition:"modal-flow"})},t.openTerminatedGroupOrNotMemberModal=function(){i.ModalManager.open((0,c.jsxs)(d.default,{title:o.fbt._("Group unavailable",null,{hk:"3XmS1y"}),onDismissClicked:()=>{i.ModalManager.close()},showSupportBtn:!1,children:[o.fbt._("This group is no longer available.",null,{hk:"1mhNss"})," ",h]}),{transition:"modal-flow"})};var r=n(21310),i=n(14597),o=n(48360),s=a(n(50485)),l=n(12591),u=a(n(14296)),d=a(n(27021)),c=n(85893);const f="group-suspend-appeal";t.SUSPENDED_GROUP_SUPPORT_TAG=f;const h=(0,c.jsx)(l.ExternalLink,{href:`${r.FAQ_BASE_URL}/cxt/?entrypointid=group-no-longer-available&platform=web&lang=${u.default.getLocale()}`,children:o.fbt._("Learn more",null,{hk:"2JIdcX"})})},64099:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{dismissVcardPanel:t}=e,n=(0,o.useModelValues)(e.chat,["receivedVcardMsgs"]),a=(0,s.default)(),h=n.receivedVcardMsgs;return(0,f.jsxs)("div",{className:c.default.vcard,children:[(0,f.jsx)(d.default,{id:321,plural:h.length}),(0,f.jsxs)("div",{className:c.default.controls,children:[(0,f.jsx)(l.default,{onClick:()=>{r.DrawerManager.openDrawerRight((0,f.jsx)(u.default,{chat:n}),"slide-left",a)},type:"plain-white",children:(0,f.jsx)(d.default,{id:656,plural:h.length})}),(0,f.jsx)(l.default,{onClick:t,type:"plain-white",children:i.fbt._("No thanks",null,{hk:"1k76zP"})})]})]})};var r=n(41455),i=n(48360),o=n(35461),s=a(n(95402)),l=a(n(39770)),u=a(n(96464)),d=a(n(56074)),c=a(n(27311)),f=n(85893)},66035:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SMILEYS_PEOPLE:["😀","😃","😄","😁","😆","🥹","😅","😂","🤣","🥲","☺️","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🥸","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😶‍🌫️","😱","😨","😰","😥","😓","🤗","🤔","🫣","🤭","🫢","🫡","🤫","🫠","🤥","😶","🫥","😐","🫤","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😮‍💨","😵","😵‍💫","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🫶","🤲","👐","🙌","👏","🤝","👍","👎","👊","✊","🤛","🤜","🤞","✌️","🫰","🤟","🤘","👌","🤌","🤏","🫳","🫴","👈","👉","👆","👇","☝️","✋","🤚","🖐️","🖖","👋","🤙","🫲","🫱","💪","🦾","🖕","✍️","🙏","🫵","🦶","🦵","🦿","💄","💋","👄","🫦","🦷","👅","👂","🦻","👃","👣","👁️","👀","🫀","🫁","🧠","🗣️","👤","👥","🫂","👶","👧","🧒","👦","👩","🧑","👨","👩‍🦱","🧑‍🦱","👨‍🦱","👩‍🦰","🧑‍🦰","👨‍🦰","👱‍♀️","👱","👱‍♂️","👩‍🦳","🧑‍🦳","👨‍🦳","👩‍🦲","🧑‍🦲","👨‍🦲","🧔‍♀️","🧔","🧔‍♂️","👵","🧓","👴","👲","👳‍♀️","👳","👳‍♂️","🧕","👮‍♀️","👮","👮‍♂️","👷‍♀️","👷","👷‍♂️","💂‍♀️","💂","💂‍♂️","🕵️‍♀️","🕵️","🕵️‍♂️","👩‍⚕️","🧑‍⚕️","👨‍⚕️","👩‍🌾","🧑‍🌾","👨‍🌾","👩‍🍳","🧑‍🍳","👨‍🍳","👩‍🎓","🧑‍🎓","👨‍🎓","👩‍🎤","🧑‍🎤","👨‍🎤","👩‍🏫","🧑‍🏫","👨‍🏫","👩‍🏭","🧑‍🏭","👨‍🏭","👩‍💻","🧑‍💻","👨‍💻","👩‍💼","🧑‍💼","👨‍💼","👩‍🔧","🧑‍🔧","👨‍🔧","👩‍🔬","🧑‍🔬","👨‍🔬","👩‍🎨","🧑‍🎨","👨‍🎨","👩‍🚒","🧑‍🚒","👨‍🚒","👩‍✈️","🧑‍✈️","👨‍✈️","👩‍🚀","🧑‍🚀","👨‍🚀","👩‍⚖️","🧑‍⚖️","👨‍⚖️","👰‍♀️","👰","👰‍♂️","🤵‍♀️","🤵","🤵‍♂️","👸","🫅","🤴","🥷","🦸‍♀️","🦸","🦸‍♂️","🦹‍♀️","🦹","🦹‍♂️","🤶","🧑‍🎄","🎅","🧙‍♀️","🧙","🧙‍♂️","🧝‍♀️","🧝","🧝‍♂️","🧌","🧛‍♀️","🧛","🧛‍♂️","🧟‍♀️","🧟","🧟‍♂️","🧞‍♀️","🧞","🧞‍♂️","🧜‍♀️","🧜","🧜‍♂️","🧚‍♀️","🧚","🧚‍♂️","👼","🤰","🫄","🫃","🤱","👩‍🍼","🧑‍🍼","👨‍🍼","🙇‍♀️","🙇","🙇‍♂️","💁‍♀️","💁","💁‍♂️","🙅‍♀️","🙅","🙅‍♂️","🙆‍♀️","🙆","🙆‍♂️","🙋‍♀️","🙋","🙋‍♂️","🧏‍♀️","🧏","🧏‍♂️","🤦‍♀️","🤦","🤦‍♂️","🤷‍♀️","🤷","🤷‍♂️","🙎‍♀️","🙎","🙎‍♂️","🙍‍♀️","🙍","🙍‍♂️","💇‍♀️","💇","💇‍♂️","💆‍♀️","💆","💆‍♂️","🧖‍♀️","🧖","🧖‍♂️","💅","🤳","💃","🕺","👯‍♀️","👯","👯‍♂️","🕴️","👩‍🦽","🧑‍🦽","👨‍🦽","👩‍🦼","🧑‍🦼","👨‍🦼","🚶‍♀️","🚶","🚶‍♂️","👩‍🦯","🧑‍🦯","👨‍🦯","🧎‍♀️","🧎","🧎‍♂️","🏃‍♀️","🏃","🏃‍♂️","🧍‍♀️","🧍","🧍‍♂️","👫","👭","👬","👩‍❤️‍👨","👩‍❤️‍👩","💑","👨‍❤️‍👨","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","💏","👨‍❤️‍💋‍👨","👨‍👩‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧‍👧","👨‍👨‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧‍👧","👩‍👦","👩‍👧","👩‍👧‍👦","👩‍👦‍👦","👩‍👧‍👧","👨‍👦","👨‍👧","👨‍👧‍👦","👨‍👦‍👦","👨‍👧‍👧","🪢","🧶","🧵","🪡","🧥","🥼","🦺","👚","👕","👖","🩲","🩳","👔","👗","👙","🩱","👘","🥻","🩴","🥿","👠","👡","👢","👞","👟","🥾","🧦","🧤","🧣","🎩","🧢","👒","🎓","⛑️","🪖","👑","💍","👝","👛","👜","💼","🎒","🧳","👓","🕶️","🥽","🌂"],ANIMALS_NATURE:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐻‍❄️","🐨","🐯","🦁","🐮","🐷","🐽","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🪱","🐛","🦋","🐌","🐞","🐜","🪰","🪲","🪳","🦟","🦗","🕷️","🕸️","🦂","🐢","🐍","🦎","🦖","🦕","🐙","🦑","🦐","🦞","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🦭","🐊","🐅","🐆","🦓","🦍","🦧","🦣","🐘","🦛","🦏","🐪","🐫","🦒","🦘","🦬","🐃","🐂","🐄","🐎","🐖","🐏","🐑","🦙","🐐","🦌","🐕","🐩","🦮","🐕‍🦺","🐈","🐈‍⬛","🪶","🐓","🦃","🦤","🦚","🦜","🦢","🦩","🕊️","🐇","🦝","🦨","🦡","🦫","🦦","🦥","🐁","🐀","🐿️","🦔","🐾","🐉","🐲","🌵","🎄","🌲","🌳","🌴","🪵","🌱","🌿","☘️","🍀","🎍","🪴","🎋","🍃","🍂","🍁","🪺","🪹","🍄","🐚","🪸","🪨","🌾","💐","🌷","🌹","🥀","🪷","🌺","🌸","🌼","🌻","🌞","🌝","🌛","🌜","🌚","🌕","🌖","🌗","🌘","🌑","🌒","🌓","🌔","🌙","🌎","🌍","🌏","🪐","💫","⭐","🌟","✨","⚡","☄️","💥","🔥","🌪️","🌈","☀️","🌤️","⛅","🌥️","☁️","🌦️","🌧️","⛈️","🌩️","🌨️","❄️","☃️","⛄","🌬️","💨","💧","💦","🫧","☔","☂️","🌊","🌫️"],FOOD_DRINK:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🫑","🌽","🥕","🫒","🧄","🧅","🥔","🍠","🥐","🥯","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🫓","🥪","🥙","🧆","🌮","🌯","🫔","🥗","🥘","🫕","🥫","🫙","🍝","🍜","🍲","🍛","🍣","🍱","🥟","🦪","🍤","🍙","🍚","🍘","🍥","🥠","🥮","🍢","🍡","🍧","🍨","🍦","🥧","🧁","🍰","🎂","🍮","🍭","🍬","🍫","🍿","🍩","🍪","🌰","🥜","🫘","🍯","🥛","🫗","🍼","🫖","☕","🍵","🧃","🥤","🧋","🍶","🍺","🍻","🥂","🍷","🥃","🍸","🍹","🧉","🍾","🧊","🥄","🍴","🍽️","🥣","🥡","🥢","🧂"],ACTIVITY:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🪃","🥅","⛳","🪁","🛝","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛼","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️‍♀️","🏋️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸","🤸‍♂️","⛹️‍♀️","⛹️","⛹️‍♂️","🤺","🤾‍♀️","🤾","🤾‍♂️","🏌️‍♀️","🏌️","🏌️‍♂️","🏇","🧘‍♀️","🧘","🧘‍♂️","🏄‍♀️","🏄","🏄‍♂️","🏊‍♀️","🏊","🏊‍♂️","🤽‍♀️","🤽","🤽‍♂️","🚣‍♀️","🚣","🚣‍♂️","🧗‍♀️","🧗","🧗‍♂️","🚵‍♀️","🚵","🚵‍♂️","🚴‍♀️","🚴","🚴‍♂️","🏆","🥇","🥈","🥉","🏅","🎖️","🏵️","🎗️","🎫","🎟️","🎪","🤹‍♀️","🤹","🤹‍♂️","🎭","🩰","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🪘","🎷","🎺","🪗","🎸","🪕","🎻","🎲","♟️","🎯","🎳","🎮","🎰","🧩"],TRAVEL_PLACES:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🛻","🚚","🚛","🚜","🦯","🦽","🦼","🩼","🛴","🚲","🛵","🏍️","🛺","🛞","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","🛟","⚓","🪝","⛽","🚧","🚦","🚥","🚏","🗺️","🗿","🗽","🗼","🏰","🏯","🏟️","🎡","🎢","🎠","⛲","⛱️","🏖️","🏝️","🏜️","🌋","⛰️","🏔️","🗻","🏕️","⛺","🛖","🏠","🏡","🏘️","🏚️","🏗️","🏭","🏢","🏬","🏣","🏤","🏥","🏦","🏨","🏪","🏫","🏩","💒","🏛️","⛪","🕌","🕍","🛕","🕋","⛩️","🛤️","🛣️","🗾","🎑","🏞️","🌅","🌄","🌠","🎇","🎆","🌇","🌆","🏙️","🌃","🌌","🌉","🌁"],OBJECTS:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🪫","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","🪙","💰","💳","🪪","💎","⚖️","🪜","🧰","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🪤","🧱","⛓️","🧲","🔫","💣","🧨","🪓","🔪","🗡️","⚔️","🛡️","🚬","⚰️","🪦","⚱️","🏺","🔮","📿","🧿","🪬","💈","⚗️","🔭","🔬","🕳️","🩻","🩹","🩺","💊","💉","🩸","🧬","🦠","🧫","🧪","🌡️","🧹","🪠","🧺","🧻","🚽","🚰","🚿","🛁","🛀","🧼","🪥","🪒","🧽","🪣","🧴","🛎️","🔑","🗝️","🚪","🪑","🛋️","🛏️","🛌","🧸","🪆","🖼️","🪞","🪟","🛍️","🛒","🎁","🎈","🎏","🎀","🪄","🪅","🎊","🎉","🎎","🏮","🎐","🪩","🧧","✉️","📩","📨","📧","💌","📥","📤","📦","🏷️","🪧","📪","📫","📬","📭","📮","📯","📜","📃","📄","📑","🧾","📊","📈","📉","🗒️","🗓️","📆","📅","🗑️","📇","🗃️","🗳️","🗄️","📋","📁","📂","🗂️","🗞️","📰","📓","📔","📒","📕","📗","📘","📙","📚","📖","🔖","🧷","🔗","📎","🖇️","📐","📏","🧮","📌","📍","✂️","🖊️","🖋️","✒️","🖌️","🖍️","📝","✏️","🔍","🔎","🔏","🔐","🔒","🔓"],SYMBOLS:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❤️‍🔥","❤️‍🩹","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🛗","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🆓","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔢","#️⃣","*️⃣","⏏️","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","⏫","⏬","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","🔀","🔁","🔂","🔄","🔃","🎵","🎶","➕","➖","➗","✖️","🟰","♾️","💲","💱","™️","©️","®️","👁️‍🗨️","🔚","🔙","🔛","🔝","🔜","〰️","➰","➿","✔️","☑️","🔘","🔴","🟠","🟡","🟢","🔵","🟣","⚫","⚪","🟤","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","🟥","🟧","🟨","🟩","🟦","🟪","⬛","⬜","🟫","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","💬","💭","🗯️","♠️","♣️","♥️","♦️","🃏","🎴","🀄","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧"],FLAGS:["🏳️","🏴","🏴‍☠️","🏁","🚩","🏳️‍🌈","🏳️‍⚧️","🇺🇳","🇦🇫","🇦🇽","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇨🇻","🇧🇶","🇰🇾","🇨🇫","🇹🇩","🇮🇴","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇨🇮","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇸🇿","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇯🇲","🇯🇵","🎌","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇰🇵","🇲🇰","🇲🇵","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇻🇮","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🇺🇸","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]}},62019:(e,t)=>{"use strict";t.Z=void 0;t.Z={"#️⃣":1,"":1,"*️⃣":2,"0️⃣":3,"":3,"1️⃣":4,"":4,"2️⃣":5,"":5,"3️⃣":6,"":6,"4️⃣":7,"":7,"5️⃣":8,"":8,"6️⃣":9,"":9,"7️⃣":10,"":10,"8️⃣":11,"":11,"9️⃣":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":69,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":93,"":94,"":95,"":96,"":97,"":100,"":109,"":110,"":116,"":117,"":118,"":121,"":127,"":130,"":131,"":133,"":154,"":155,"":156,"":158,"":160,"":166,"":177,"":190,"":191,"":192,"":195,"":197,"":198,"":199,"":200,"":202,"":208,"":210,"":213,"":214,"":215,"":218,"":219,"":221,"":222,"":223,"":224,"":226,"":227,"":228,"":229,"":230,"":232,"":234,"":235,"":237,"":239,"":240,"":289,"":299,"":312,"":320,"":322,"":356,"":360,"":368,"":437,"":481,"🇺🇲":481,"":499,"":500,"":501,"":502,"":504,"":506,"":507,"":508,"":509,"":510,"":511,"":512,"":514,"":516,"":517,"":518,"":519,"":520,"":521,"":522,"":524,"":539,"":545,"":564,"":565,"":567,"":568,"":569,"":570,"":571,"":574,"":576,"":577,"":578,"":579,"":581,"":582,"":585,"":586,"":590,"":595,"":596,"":600,"":601,"":602,"":603,"":604,"":605,"":606,"":607,"":609,"":610,"":611,"":614,"":615,"":624,"":625,"":626,"":627,"":628,"":629,"":630,"":632,"":634,"":635,"":640,"":641,"":642,"":643,"":644,"":645,"":651,"":652,"":653,"":654,"":657,"":658,"":659,"":660,"":661,"":662,"":663,"":664,"":673,"":674,"":676,"":677,"":678,"":679,"":680,"":681,"":683,"":684,"":687,"":688,"":689,"":693,"":694,"":695,"":696,"":698,"":702,"":703,"":704,"":705,"":712,"":730,"":749,"":756,"":758,"":831,"":833,"":834,"":836,"":837,"":838,"":839,"":840,"":841,"":842,"":843,"":844,"":846,"":847,"🇽🇪":853,"🇽🇸":854,"🇽🇼":855,"":880,"":881,"":884,"":885,"":887,"":891,"":892,"":893,"":894,"":895,"":899,"":900,"":904,"":906,"":907,"":908,"":911,"":912,"":913,"":914,"":915,"":916,"":917,"":919,"":920,"":921,"":922,"":923,"":924,"":925,"":926,"":927,"":933,"":936,"":942,"":948,"":950,"":956,"":962,"":968,"":974,"":980,"":986,"":992,"":998,"":1004,"":1010,"":1016,"":1017,"":1019,"":1020,"":1022,"":1023,"":1024,"":1027,"":1030,"":1031,"":1032,"":1033,"":1034,"":1037,"":1043,"":1049,"":1286,"":1591,"":1609,"":1627,"":1648,"":1666,"":1672,"":1690,"":1696,"":1702,"":1708,"":1726,"":1734,"":1735,"":1741,"":1742,"":1743,"":1744,"":1745,"":1763,"":1781,"":1787,"":1788,"":1794,"":1812,"":1830,"":1831,"":1832,"":1833,"":1835,"":1836,"":1837,"":1843,"":1844,"":1850,"":1851,"":1852,"":1855,"":1856,"":1857,"":1858,"":1859,"":1860,"":1861,"":1863,"":1865,"":1866,"":1867,"":1868,"":1870,"":1872,"":1873,"":1874,"":1885,"":1886,"":1894,"":1895,"":1896,"":1897,"":1898,"":1900,"":1901,"":1923,"":1930,"":1933,"":1934,"":1935,"":1936,"":1942,"":1944,"":1947,"":1950,"":1951,"":1952,"":1953,"":1955,"":1956,"":1959,"":1960,"":1961,"":1974,"":1977,"":1981,"":1982,"":1983,"":1984,"":1993,"":1994,"":2001,"":2004,"":2007,"":2011,"":2012,"":2013,"":2014,"":2015,"":2016,"":2032,"":2033,"":2034,"":2035,"":2036,"":2037,"":2038,"":2039,"":2040,"":2041,"":2042,"":2043,"":2137,"":2138,"":2139,"":2143,"":2144,"":2145,"":2146,"":2151,"":2152,"":2154,"":2155,"":2157,"":2160,"":2161,"":2162,"":2164,"":2166,"":2168,"":2170,"":2171,"":2172,"":2174,"":2175,"":2176,"":2177,"":2179,"":2182,"":2184,"":2187,"":2191,"":2192,"":2193,"":2194,"":2200,"":2214,"":2232,"":2250,"":2289,"":2331,"":2337,"":2340,"":2341,"":2342,"":2344,"":2346,"":2349,"":2352,"":2354,"":2355,"":2356,"":2358,"":2360,"":2362,"":2363,"":2371,"":2390,"":2391,"":2393,"":2398,"":2399,"":2404,"":2442,"":2462,"":2463,"":2464,"":2465,"":2466,"":2467,"":2469}},73743:(e,t)=>{"use strict";t.Z=void 0;t.Z=["","#️⃣","*️⃣","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","©️","®️","‼️","⁉️","™️","ℹ️","↔️","↕️","↖️","↗️","↘️","↙️","↩️","↪️","⌚","⌛","⌨️","⏏️","⏩","⏪","⏫","⏬","⏭️","⏮️","⏯️","⏰","⏱️","⏲️","⏳","⏸️","⏹️","⏺️","Ⓜ️","▪️","▫️","▶️","◀️","◻️","◼️","◽","◾","☀️","☁️","☂️","☃️","☄️","☎️","☑️","☔","☕","☘️","☝🏻","☝🏼","☝🏽","☝🏾","☝🏿","☝️","☠️","☢️","☣️","☦️","☪️","☮️","☯️","☸️","☹️","☺️","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","♟️","♠️","♣️","♥️","♦️","♨️","♻️","♾️","♿","⚒️","⚓","⚔️","⚖️","⚗️","⚙️","⚛️","⚜️","⚠️","⚡","⚧️","⚪","⚫","⚰️","⚱️","⚽","⚾","⛄","⛅","⛈️","⛎","⛏️","⛑️","⛓️","⛔","⛩️","⛪","⛰️","⛱️","⛲","⛳","⛴️","⛵","⛷️","⛸️","⛹🏻","⛹🏻‍♀️","⛹🏻‍♂️","⛹🏼","⛹🏼‍♀️","⛹🏼‍♂️","⛹🏽","⛹🏽‍♀️","⛹🏽‍♂️","⛹🏾","⛹🏾‍♀️","⛹🏾‍♂️","⛹🏿","⛹🏿‍♀️","⛹🏿‍♂️","⛹️","⛹️‍♀️","⛹️‍♂️","⛺","⛽","✂️","✅","✈️","✉️","✊","✊🏻","✊🏼","✊🏽","✊🏾","✊🏿","✋","✋🏻","✋🏼","✋🏽","✋🏾","✋🏿","✌🏻","✌🏼","✌🏽","✌🏾","✌🏿","✌️","✍🏻","✍🏼","✍🏽","✍🏾","✍🏿","✍️","✏️","✒️","✔️","✖️","✝️","✡️","✨","✳️","✴️","❄️","❇️","❌","❎","❓","❔","❕","❗","❣️","❤️","❤️‍🔥","❤️‍🩹","➕","➖","➗","➡️","➰","➿","⤴️","⤵️","⬅️","⬆️","⬇️","⬛","⬜","⭐","⭕","〰️","〽️","㊗️","㊙️","🀄","🃏","🅰️","🅱️","🅾️","🅿️","🆎","🆑","🆒","🆓","🆔","🆕","🆖","🆗","🆘","🆙","🆚","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇲","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇦🇿","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇷","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇾","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇦","🇪🇨","🇪🇪","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇪","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇰🇿","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇹","🇱🇺","🇱🇻","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇳","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇺","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇯","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇦","🇺🇬","🇺🇲","🇺🇳","🇺🇸","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼","🈁","🈂️","🈚","🈯","🈲","🈳","🈴","🈵","🈶","🈷️","🈸","🈹","🈺","🉐","🉑","🌀","🌁","🌂","🌃","🌄","🌅","🌆","🌇","🌈","🌉","🌊","🌋","🌌","🌍","🌎","🌏","🌐","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌝","🌞","🌟","🌠","🌡️","🌤️","🌥️","🌦️","🌧️","🌨️","🌩️","🌪️","🌫️","🌬️","🌭","🌮","🌯","🌰","🌱","🌲","🌳","🌴","🌵","🌶️","🌷","🌸","🌹","🌺","🌻","🌼","🌽","🌾","🌿","🍀","🍁","🍂","🍃","🍄","🍅","🍆","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🍎","🍏","🍐","🍑","🍒","🍓","🍔","🍕","🍖","🍗","🍘","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧","🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍶","🍷","🍸","🍹","🍺","🍻","🍼","🍽️","🍾","🍿","🎀","🎁","🎂","🎃","🎄","🎅","🎅🏻","🎅🏼","🎅🏽","🎅🏾","🎅🏿","🎆","🎇","🎈","🎉","🎊","🎋","🎌","🎍","🎎","🎏","🎐","🎑","🎒","🎓","🎖️","🎗️","🎙️","🎚️","🎛️","🎞️","🎟️","🎠","🎡","🎢","🎣","🎤","🎥","🎦","🎧","🎨","🎩","🎪","🎫","🎬","🎭","🎮","🎯","🎰","🎱","🎲","🎳","🎴","🎵","🎶","🎷","🎸","🎹","🎺","🎻","🎼","🎽","🎾","🎿","🏀","🏁","🏂","🏂🏻","🏂🏼","🏂🏽","🏂🏾","🏂🏿","🏃","🏃‍♀️","🏃‍♂️","🏃🏻","🏃🏻‍♀️","🏃🏻‍♂️","🏃🏼","🏃🏼‍♀️","🏃🏼‍♂️","🏃🏽","🏃🏽‍♀️","🏃🏽‍♂️","🏃🏾","🏃🏾‍♀️","🏃🏾‍♂️","🏃🏿","🏃🏿‍♀️","🏃🏿‍♂️","🏄","🏄‍♀️","🏄‍♂️","🏄🏻","🏄🏻‍♀️","🏄🏻‍♂️","🏄🏼","🏄🏼‍♀️","🏄🏼‍♂️","🏄🏽","🏄🏽‍♀️","🏄🏽‍♂️","🏄🏾","🏄🏾‍♀️","🏄🏾‍♂️","🏄🏿","🏄🏿‍♀️","🏄🏿‍♂️","🏅","🏆","🏇","🏇🏻","🏇🏼","🏇🏽","🏇🏾","🏇🏿","🏈","🏉","🏊","🏊‍♀️","🏊‍♂️","🏊🏻","🏊🏻‍♀️","🏊🏻‍♂️","🏊🏼","🏊🏼‍♀️","🏊🏼‍♂️","🏊🏽","🏊🏽‍♀️","🏊🏽‍♂️","🏊🏾","🏊🏾‍♀️","🏊🏾‍♂️","🏊🏿","🏊🏿‍♀️","🏊🏿‍♂️","🏋🏻","🏋🏻‍♀️","🏋🏻‍♂️","🏋🏼","🏋🏼‍♀️","🏋🏼‍♂️","🏋🏽","🏋🏽‍♀️","🏋🏽‍♂️","🏋🏾","🏋🏾‍♀️","🏋🏾‍♂️","🏋🏿","🏋🏿‍♀️","🏋🏿‍♂️","🏋️","🏋️‍♀️","🏋️‍♂️","🏌🏻","🏌🏻‍♀️","🏌🏻‍♂️","🏌🏼","🏌🏼‍♀️","🏌🏼‍♂️","🏌🏽","🏌🏽‍♀️","🏌🏽‍♂️","🏌🏾","🏌🏾‍♀️","🏌🏾‍♂️","🏌🏿","🏌🏿‍♀️","🏌🏿‍♂️","🏌️","🏌️‍♀️","🏌️‍♂️","🏍️","🏎️","🏏","🏐","🏑","🏒","🏓","🏔️","🏕️","🏖️","🏗️","🏘️","🏙️","🏚️","🏛️","🏜️","🏝️","🏞️","🏟️","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏮","🏯","🏰","🏳️","🏳️‍⚧️","🏳️‍🌈","🏴","🏴‍☠️","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🏵️","🏷️","🏸","🏹","🏺","🏻","🏼","🏽","🏾","🏿","🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐈‍⬛","🐉","🐊","🐋","🐌","🐍","🐎","🐏","🐐","🐑","🐒","🐓","🐔","🐕","🐕‍🦺","🐖","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞","🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐪","🐫","🐬","🐭","🐮","🐯","🐰","🐱","🐲","🐳","🐴","🐵","🐶","🐷","🐸","🐹","🐺","🐻","🐻‍❄️","🐼","🐽","🐾","🐿️","👀","👁️","👁️‍🗨️","👂","👂🏻","👂🏼","👂🏽","👂🏾","👂🏿","👃","👃🏻","👃🏼","👃🏽","👃🏾","👃🏿","👄","👅","👆","👆🏻","👆🏼","👆🏽","👆🏾","👆🏿","👇","👇🏻","👇🏼","👇🏽","👇🏾","👇🏿","👈","👈🏻","👈🏼","👈🏽","👈🏾","👈🏿","👉","👉🏻","👉🏼","👉🏽","👉🏾","👉🏿","👊","👊🏻","👊🏼","👊🏽","👊🏾","👊🏿","👋","👋🏻","👋🏼","👋🏽","👋🏾","👋🏿","👌","👌🏻","👌🏼","👌🏽","👌🏾","👌🏿","👍","👍🏻","👍🏼","👍🏽","👍🏾","👍🏿","👎","👎🏻","👎🏼","👎🏽","👎🏾","👎🏿","👏","👏🏻","👏🏼","👏🏽","👏🏾","👏🏿","👐","👐🏻","👐🏼","👐🏽","👐🏾","👐🏿","👑","👒","👓","👔","👕","👖","👗","👘","👙","👚","👛","👜","👝","👞","👟","👠","👡","👢","👣","👤","👥","👦","👦🏻","👦🏼","👦🏽","👦🏾","👦🏿","👧","👧🏻","👧🏼","👧🏽","👧🏾","👧🏿","👨","👨‍⚕️","👨‍⚖️","👨‍✈️","👨‍❤️‍👨","👨‍❤️‍💋‍👨","👨‍🌾","👨‍🍳","👨‍🍼","👨‍🎓","👨‍🎤","👨‍🎨","👨‍🏫","👨‍🏭","👨‍👦","👨‍👦‍👦","👨‍👧","👨‍👧‍👦","👨‍👧‍👧","👨‍👨‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👧‍👧","👨‍👩‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👧‍👧","👨‍💻","👨‍💼","👨‍🔧","👨‍🔬","👨‍🚀","👨‍🚒","👨‍🦯","👨‍🦰","👨‍🦱","👨‍🦲","👨‍🦳","👨‍🦼","👨‍🦽","👨🏻","👨🏻‍⚕️","👨🏻‍⚖️","👨🏻‍✈️","👨🏻‍❤️‍👨🏻","👨🏻‍❤️‍👨🏼","👨🏻‍❤️‍👨🏽","👨🏻‍❤️‍👨🏾","👨🏻‍❤️‍👨🏿","👨🏻‍❤️‍💋‍👨🏻","👨🏻‍❤️‍💋‍👨🏼","👨🏻‍❤️‍💋‍👨🏽","👨🏻‍❤️‍💋‍👨🏾","👨🏻‍❤️‍💋‍👨🏿","👨🏻‍🌾","👨🏻‍🍳","👨🏻‍🍼","👨🏻‍🎓","👨🏻‍🎤","👨🏻‍🎨","👨🏻‍🏫","👨🏻‍🏭","👨🏻‍💻","👨🏻‍💼","👨🏻‍🔧","👨🏻‍🔬","👨🏻‍🚀","👨🏻‍🚒","👨🏻‍🤝‍👨🏼","👨🏻‍🤝‍👨🏽","👨🏻‍🤝‍👨🏾","👨🏻‍🤝‍👨🏿","👨🏻‍🦯","👨🏻‍🦰","👨🏻‍🦱","👨🏻‍🦲","👨🏻‍🦳","👨🏻‍🦼","👨🏻‍🦽","👨🏼","👨🏼‍⚕️","👨🏼‍⚖️","👨🏼‍✈️","👨🏼‍❤️‍👨🏻","👨🏼‍❤️‍👨🏼","👨🏼‍❤️‍👨🏽","👨🏼‍❤️‍👨🏾","👨🏼‍❤️‍👨🏿","👨🏼‍❤️‍💋‍👨🏻","👨🏼‍❤️‍💋‍👨🏼","👨🏼‍❤️‍💋‍👨🏽","👨🏼‍❤️‍💋‍👨🏾","👨🏼‍❤️‍💋‍👨🏿","👨🏼‍🌾","👨🏼‍🍳","👨🏼‍🍼","👨🏼‍🎓","👨🏼‍🎤","👨🏼‍🎨","👨🏼‍🏫","👨🏼‍🏭","👨🏼‍💻","👨🏼‍💼","👨🏼‍🔧","👨🏼‍🔬","👨🏼‍🚀","👨🏼‍🚒","👨🏼‍🤝‍👨🏻","👨🏼‍🤝‍👨🏽","👨🏼‍🤝‍👨🏾","👨🏼‍🤝‍👨🏿","👨🏼‍🦯","👨🏼‍🦰","👨🏼‍🦱","👨🏼‍🦲","👨🏼‍🦳","👨🏼‍🦼","👨🏼‍🦽","👨🏽","👨🏽‍⚕️","👨🏽‍⚖️","👨🏽‍✈️","👨🏽‍❤️‍👨🏻","👨🏽‍❤️‍👨🏼","👨🏽‍❤️‍👨🏽","👨🏽‍❤️‍👨🏾","👨🏽‍❤️‍👨🏿","👨🏽‍❤️‍💋‍👨🏻","👨🏽‍❤️‍💋‍👨🏼","👨🏽‍❤️‍💋‍👨🏽","👨🏽‍❤️‍💋‍👨🏾","👨🏽‍❤️‍💋‍👨🏿","👨🏽‍🌾","👨🏽‍🍳","👨🏽‍🍼","👨🏽‍🎓","👨🏽‍🎤","👨🏽‍🎨","👨🏽‍🏫","👨🏽‍🏭","👨🏽‍💻","👨🏽‍💼","👨🏽‍🔧","👨🏽‍🔬","👨🏽‍🚀","👨🏽‍🚒","👨🏽‍🤝‍👨🏻","👨🏽‍🤝‍👨🏼","👨🏽‍🤝‍👨🏾","👨🏽‍🤝‍👨🏿","👨🏽‍🦯","👨🏽‍🦰","👨🏽‍🦱","👨🏽‍🦲","👨🏽‍🦳","👨🏽‍🦼","👨🏽‍🦽","👨🏾","👨🏾‍⚕️","👨🏾‍⚖️","👨🏾‍✈️","👨🏾‍❤️‍👨🏻","👨🏾‍❤️‍👨🏼","👨🏾‍❤️‍👨🏽","👨🏾‍❤️‍👨🏾","👨🏾‍❤️‍👨🏿","👨🏾‍❤️‍💋‍👨🏻","👨🏾‍❤️‍💋‍👨🏼","👨🏾‍❤️‍💋‍👨🏽","👨🏾‍❤️‍💋‍👨🏾","👨🏾‍❤️‍💋‍👨🏿","👨🏾‍🌾","👨🏾‍🍳","👨🏾‍🍼","👨🏾‍🎓","👨🏾‍🎤","👨🏾‍🎨","👨🏾‍🏫","👨🏾‍🏭","👨🏾‍💻","👨🏾‍💼","👨🏾‍🔧","👨🏾‍🔬","👨🏾‍🚀","👨🏾‍🚒","👨🏾‍🤝‍👨🏻","👨🏾‍🤝‍👨🏼","👨🏾‍🤝‍👨🏽","👨🏾‍🤝‍👨🏿","👨🏾‍🦯","👨🏾‍🦰","👨🏾‍🦱","👨🏾‍🦲","👨🏾‍🦳","👨🏾‍🦼","👨🏾‍🦽","👨🏿","👨🏿‍⚕️","👨🏿‍⚖️","👨🏿‍✈️","👨🏿‍❤️‍👨🏻","👨🏿‍❤️‍👨🏼","👨🏿‍❤️‍👨🏽","👨🏿‍❤️‍👨🏾","👨🏿‍❤️‍👨🏿","👨🏿‍❤️‍💋‍👨🏻","👨🏿‍❤️‍💋‍👨🏼","👨🏿‍❤️‍💋‍👨🏽","👨🏿‍❤️‍💋‍👨🏾","👨🏿‍❤️‍💋‍👨🏿","👨🏿‍🌾","👨🏿‍🍳","👨🏿‍🍼","👨🏿‍🎓","👨🏿‍🎤","👨🏿‍🎨","👨🏿‍🏫","👨🏿‍🏭","👨🏿‍💻","👨🏿‍💼","👨🏿‍🔧","👨🏿‍🔬","👨🏿‍🚀","👨🏿‍🚒","👨🏿‍🤝‍👨🏻","👨🏿‍🤝‍👨🏼","👨🏿‍🤝‍👨🏽","👨🏿‍🤝‍👨🏾","👨🏿‍🦯","👨🏿‍🦰","👨🏿‍🦱","👨🏿‍🦲","👨🏿‍🦳","👨🏿‍🦼","👨🏿‍🦽","👩","👩‍⚕️","👩‍⚖️","👩‍✈️","👩‍❤️‍👨","👩‍❤️‍👩","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍🌾","👩‍🍳","👩‍🍼","👩‍🎓","👩‍🎤","👩‍🎨","👩‍🏫","👩‍🏭","👩‍👦","👩‍👦‍👦","👩‍👧","👩‍👧‍👦","👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👧‍👧","👩‍💻","👩‍💼","👩‍🔧","👩‍🔬","👩‍🚀","👩‍🚒","👩‍🦯","👩‍🦰","👩‍🦱","👩‍🦲","👩‍🦳","👩‍🦼","👩‍🦽","👩🏻","👩🏻‍⚕️","👩🏻‍⚖️","👩🏻‍✈️","👩🏻‍❤️‍👨🏻","👩🏻‍❤️‍👨🏼","👩🏻‍❤️‍👨🏽","👩🏻‍❤️‍👨🏾","👩🏻‍❤️‍👨🏿","👩🏻‍❤️‍👩🏻","👩🏻‍❤️‍👩🏼","👩🏻‍❤️‍👩🏽","👩🏻‍❤️‍👩🏾","👩🏻‍❤️‍👩🏿","👩🏻‍❤️‍💋‍👨🏻","👩🏻‍❤️‍💋‍👨🏼","👩🏻‍❤️‍💋‍👨🏽","👩🏻‍❤️‍💋‍👨🏾","👩🏻‍❤️‍💋‍👨🏿","👩🏻‍❤️‍💋‍👩🏻","👩🏻‍❤️‍💋‍👩🏼","👩🏻‍❤️‍💋‍👩🏽","👩🏻‍❤️‍💋‍👩🏾","👩🏻‍❤️‍💋‍👩🏿","👩🏻‍🌾","👩🏻‍🍳","👩🏻‍🍼","👩🏻‍🎓","👩🏻‍🎤","👩🏻‍🎨","👩🏻‍🏫","👩🏻‍🏭","👩🏻‍💻","👩🏻‍💼","👩🏻‍🔧","👩🏻‍🔬","👩🏻‍🚀","👩🏻‍🚒","👩🏻‍🤝‍👨🏼","👩🏻‍🤝‍👨🏽","👩🏻‍🤝‍👨🏾","👩🏻‍🤝‍👨🏿","👩🏻‍🤝‍👩🏼","👩🏻‍🤝‍👩🏽","👩🏻‍🤝‍👩🏾","👩🏻‍🤝‍👩🏿","👩🏻‍🦯","👩🏻‍🦰","👩🏻‍🦱","👩🏻‍🦲","👩🏻‍🦳","👩🏻‍🦼","👩🏻‍🦽","👩🏼","👩🏼‍⚕️","👩🏼‍⚖️","👩🏼‍✈️","👩🏼‍❤️‍👨🏻","👩🏼‍❤️‍👨🏼","👩🏼‍❤️‍👨🏽","👩🏼‍❤️‍👨🏾","👩🏼‍❤️‍👨🏿","👩🏼‍❤️‍👩🏻","👩🏼‍❤️‍👩🏼","👩🏼‍❤️‍👩🏽","👩🏼‍❤️‍👩🏾","👩🏼‍❤️‍👩🏿","👩🏼‍❤️‍💋‍👨🏻","👩🏼‍❤️‍💋‍👨🏼","👩🏼‍❤️‍💋‍👨🏽","👩🏼‍❤️‍💋‍👨🏾","👩🏼‍❤️‍💋‍👨🏿","👩🏼‍❤️‍💋‍👩🏻","👩🏼‍❤️‍💋‍👩🏼","👩🏼‍❤️‍💋‍👩🏽","👩🏼‍❤️‍💋‍👩🏾","👩🏼‍❤️‍💋‍👩🏿","👩🏼‍🌾","👩🏼‍🍳","👩🏼‍🍼","👩🏼‍🎓","👩🏼‍🎤","👩🏼‍🎨","👩🏼‍🏫","👩🏼‍🏭","👩🏼‍💻","👩🏼‍💼","👩🏼‍🔧","👩🏼‍🔬","👩🏼‍🚀","👩🏼‍🚒","👩🏼‍🤝‍👨🏻","👩🏼‍🤝‍👨🏽","👩🏼‍🤝‍👨🏾","👩🏼‍🤝‍👨🏿","👩🏼‍🤝‍👩🏻","👩🏼‍🤝‍👩🏽","👩🏼‍🤝‍👩🏾","👩🏼‍🤝‍👩🏿","👩🏼‍🦯","👩🏼‍🦰","👩🏼‍🦱","👩🏼‍🦲","👩🏼‍🦳","👩🏼‍🦼","👩🏼‍🦽","👩🏽","👩🏽‍⚕️","👩🏽‍⚖️","👩🏽‍✈️","👩🏽‍❤️‍👨🏻","👩🏽‍❤️‍👨🏼","👩🏽‍❤️‍👨🏽","👩🏽‍❤️‍👨🏾","👩🏽‍❤️‍👨🏿","👩🏽‍❤️‍👩🏻","👩🏽‍❤️‍👩🏼","👩🏽‍❤️‍👩🏽","👩🏽‍❤️‍👩🏾","👩🏽‍❤️‍👩🏿","👩🏽‍❤️‍💋‍👨🏻","👩🏽‍❤️‍💋‍👨🏼","👩🏽‍❤️‍💋‍👨🏽","👩🏽‍❤️‍💋‍👨🏾","👩🏽‍❤️‍💋‍👨🏿","👩🏽‍❤️‍💋‍👩🏻","👩🏽‍❤️‍💋‍👩🏼","👩🏽‍❤️‍💋‍👩🏽","👩🏽‍❤️‍💋‍👩🏾","👩🏽‍❤️‍💋‍👩🏿","👩🏽‍🌾","👩🏽‍🍳","👩🏽‍🍼","👩🏽‍🎓","👩🏽‍🎤","👩🏽‍🎨","👩🏽‍🏫","👩🏽‍🏭","👩🏽‍💻","👩🏽‍💼","👩🏽‍🔧","👩🏽‍🔬","👩🏽‍🚀","👩🏽‍🚒","👩🏽‍🤝‍👨🏻","👩🏽‍🤝‍👨🏼","👩🏽‍🤝‍👨🏾","👩🏽‍🤝‍👨🏿","👩🏽‍🤝‍👩🏻","👩🏽‍🤝‍👩🏼","👩🏽‍🤝‍👩🏾","👩🏽‍🤝‍👩🏿","👩🏽‍🦯","👩🏽‍🦰","👩🏽‍🦱","👩🏽‍🦲","👩🏽‍🦳","👩🏽‍🦼","👩🏽‍🦽","👩🏾","👩🏾‍⚕️","👩🏾‍⚖️","👩🏾‍✈️","👩🏾‍❤️‍👨🏻","👩🏾‍❤️‍👨🏼","👩🏾‍❤️‍👨🏽","👩🏾‍❤️‍👨🏾","👩🏾‍❤️‍👨🏿","👩🏾‍❤️‍👩🏻","👩🏾‍❤️‍👩🏼","👩🏾‍❤️‍👩🏽","👩🏾‍❤️‍👩🏾","👩🏾‍❤️‍👩🏿","👩🏾‍❤️‍💋‍👨🏻","👩🏾‍❤️‍💋‍👨🏼","👩🏾‍❤️‍💋‍👨🏽","👩🏾‍❤️‍💋‍👨🏾","👩🏾‍❤️‍💋‍👨🏿","👩🏾‍❤️‍💋‍👩🏻","👩🏾‍❤️‍💋‍👩🏼","👩🏾‍❤️‍💋‍👩🏽","👩🏾‍❤️‍💋‍👩🏾","👩🏾‍❤️‍💋‍👩🏿","👩🏾‍🌾","👩🏾‍🍳","👩🏾‍🍼","👩🏾‍🎓","👩🏾‍🎤","👩🏾‍🎨","👩🏾‍🏫","👩🏾‍🏭","👩🏾‍💻","👩🏾‍💼","👩🏾‍🔧","👩🏾‍🔬","👩🏾‍🚀","👩🏾‍🚒","👩🏾‍🤝‍👨🏻","👩🏾‍🤝‍👨🏼","👩🏾‍🤝‍👨🏽","👩🏾‍🤝‍👨🏿","👩🏾‍🤝‍👩🏻","👩🏾‍🤝‍👩🏼","👩🏾‍🤝‍👩🏽","👩🏾‍🤝‍👩🏿","👩🏾‍🦯","👩🏾‍🦰","👩🏾‍🦱","👩🏾‍🦲","👩🏾‍🦳","👩🏾‍🦼","👩🏾‍🦽","👩🏿","👩🏿‍⚕️","👩🏿‍⚖️","👩🏿‍✈️","👩🏿‍❤️‍👨🏻","👩🏿‍❤️‍👨🏼","👩🏿‍❤️‍👨🏽","👩🏿‍❤️‍👨🏾","👩🏿‍❤️‍👨🏿","👩🏿‍❤️‍👩🏻","👩🏿‍❤️‍👩🏼","👩🏿‍❤️‍👩🏽","👩🏿‍❤️‍👩🏾","👩🏿‍❤️‍👩🏿","👩🏿‍❤️‍💋‍👨🏻","👩🏿‍❤️‍💋‍👨🏼","👩🏿‍❤️‍💋‍👨🏽","👩🏿‍❤️‍💋‍👨🏾","👩🏿‍❤️‍💋‍👨🏿","👩🏿‍❤️‍💋‍👩🏻","👩🏿‍❤️‍💋‍👩🏼","👩🏿‍❤️‍💋‍👩🏽","👩🏿‍❤️‍💋‍👩🏾","👩🏿‍❤️‍💋‍👩🏿","👩🏿‍🌾","👩🏿‍🍳","👩🏿‍🍼","👩🏿‍🎓","👩🏿‍🎤","👩🏿‍🎨","👩🏿‍🏫","👩🏿‍🏭","👩🏿‍💻","👩🏿‍💼","👩🏿‍🔧","👩🏿‍🔬","👩🏿‍🚀","👩🏿‍🚒","👩🏿‍🤝‍👨🏻","👩🏿‍🤝‍👨🏼","👩🏿‍🤝‍👨🏽","👩🏿‍🤝‍👨🏾","👩🏿‍🤝‍👩🏻","👩🏿‍🤝‍👩🏼","👩🏿‍🤝‍👩🏽","👩🏿‍🤝‍👩🏾","👩🏿‍🦯","👩🏿‍🦰","👩🏿‍🦱","👩🏿‍🦲","👩🏿‍🦳","👩🏿‍🦼","👩🏿‍🦽","👪","👫","👫🏻","👫🏼","👫🏽","👫🏾","👫🏿","👬","👬🏻","👬🏼","👬🏽","👬🏾","👬🏿","👭","👭🏻","👭🏼","👭🏽","👭🏾","👭🏿","👮","👮‍♀️","👮‍♂️","👮🏻","👮🏻‍♀️","👮🏻‍♂️","👮🏼","👮🏼‍♀️","👮🏼‍♂️","👮🏽","👮🏽‍♀️","👮🏽‍♂️","👮🏾","👮🏾‍♀️","👮🏾‍♂️","👮🏿","👮🏿‍♀️","👮🏿‍♂️","👯","👯‍♀️","👯‍♂️","👰","👰‍♀️","👰‍♂️","👰🏻","👰🏻‍♀️","👰🏻‍♂️","👰🏼","👰🏼‍♀️","👰🏼‍♂️","👰🏽","👰🏽‍♀️","👰🏽‍♂️","👰🏾","👰🏾‍♀️","👰🏾‍♂️","👰🏿","👰🏿‍♀️","👰🏿‍♂️","👱","👱‍♀️","👱‍♂️","👱🏻","👱🏻‍♀️","👱🏻‍♂️","👱🏼","👱🏼‍♀️","👱🏼‍♂️","👱🏽","👱🏽‍♀️","👱🏽‍♂️","👱🏾","👱🏾‍♀️","👱🏾‍♂️","👱🏿","👱🏿‍♀️","👱🏿‍♂️","👲","👲🏻","👲🏼","👲🏽","👲🏾","👲🏿","👳","👳‍♀️","👳‍♂️","👳🏻","👳🏻‍♀️","👳🏻‍♂️","👳🏼","👳🏼‍♀️","👳🏼‍♂️","👳🏽","👳🏽‍♀️","👳🏽‍♂️","👳🏾","👳🏾‍♀️","👳🏾‍♂️","👳🏿","👳🏿‍♀️","👳🏿‍♂️","👴","👴🏻","👴🏼","👴🏽","👴🏾","👴🏿","👵","👵🏻","👵🏼","👵🏽","👵🏾","👵🏿","👶","👶🏻","👶🏼","👶🏽","👶🏾","👶🏿","👷","👷‍♀️","👷‍♂️","👷🏻","👷🏻‍♀️","👷🏻‍♂️","👷🏼","👷🏼‍♀️","👷🏼‍♂️","👷🏽","👷🏽‍♀️","👷🏽‍♂️","👷🏾","👷🏾‍♀️","👷🏾‍♂️","👷🏿","👷🏿‍♀️","👷🏿‍♂️","👸","👸🏻","👸🏼","👸🏽","👸🏾","👸🏿","👹","👺","👻","👼","👼🏻","👼🏼","👼🏽","👼🏾","👼🏿","👽","👾","👿","💀","💁","💁‍♀️","💁‍♂️","💁🏻","💁🏻‍♀️","💁🏻‍♂️","💁🏼","💁🏼‍♀️","💁🏼‍♂️","💁🏽","💁🏽‍♀️","💁🏽‍♂️","💁🏾","💁🏾‍♀️","💁🏾‍♂️","💁🏿","💁🏿‍♀️","💁🏿‍♂️","💂","💂‍♀️","💂‍♂️","💂🏻","💂🏻‍♀️","💂🏻‍♂️","💂🏼","💂🏼‍♀️","💂🏼‍♂️","💂🏽","💂🏽‍♀️","💂🏽‍♂️","💂🏾","💂🏾‍♀️","💂🏾‍♂️","💂🏿","💂🏿‍♀️","💂🏿‍♂️","💃","💃🏻","💃🏼","💃🏽","💃🏾","💃🏿","💄","💅","💅🏻","💅🏼","💅🏽","💅🏾","💅🏿","💆","💆‍♀️","💆‍♂️","💆🏻","💆🏻‍♀️","💆🏻‍♂️","💆🏼","💆🏼‍♀️","💆🏼‍♂️","💆🏽","💆🏽‍♀️","💆🏽‍♂️","💆🏾","💆🏾‍♀️","💆🏾‍♂️","💆🏿","💆🏿‍♀️","💆🏿‍♂️","💇","💇‍♀️","💇‍♂️","💇🏻","💇🏻‍♀️","💇🏻‍♂️","💇🏼","💇🏼‍♀️","💇🏼‍♂️","💇🏽","💇🏽‍♀️","💇🏽‍♂️","💇🏾","💇🏾‍♀️","💇🏾‍♂️","💇🏿","💇🏿‍♀️","💇🏿‍♂️","💈","💉","💊","💋","💌","💍","💎","💏","💏🏻","💏🏼","💏🏽","💏🏾","💏🏿","💐","💑","💑🏻","💑🏼","💑🏽","💑🏾","💑🏿","💒","💓","💔","💕","💖","💗","💘","💙","💚","💛","💜","💝","💞","💟","💠","💡","💢","💣","💤","💥","💦","💧","💨","💩","💪","💪🏻","💪🏼","💪🏽","💪🏾","💪🏿","💫","💬","💭","💮","💯","💰","💱","💲","💳","💴","💵","💶","💷","💸","💹","💺","💻","💼","💽","💾","💿","📀","📁","📂","📃","📄","📅","📆","📇","📈","📉","📊","📋","📌","📍","📎","📏","📐","📑","📒","📓","📔","📕","📖","📗","📘","📙","📚","📛","📜","📝","📞","📟","📠","📡","📢","📣","📤","📥","📦","📧","📨","📩","📪","📫","📬","📭","📮","📯","📰","📱","📲","📳","📴","📵","📶","📷","📸","📹","📺","📻","📼","📽️","📿","🔀","🔁","🔂","🔃","🔄","🔅","🔆","🔇","🔈","🔉","🔊","🔋","🔌","🔍","🔎","🔏","🔐","🔑","🔒","🔓","🔔","🔕","🔖","🔗","🔘","🔙","🔚","🔛","🔜","🔝","🔞","🔟","🔠","🔡","🔢","🔣","🔤","🔥","🔦","🔧","🔨","🔩","🔪","🔫","🔬","🔭","🔮","🔯","🔰","🔱","🔲","🔳","🔴","🔵","🔶","🔷","🔸","🔹","🔺","🔻","🔼","🔽","🕉️","🕊️","🕋","🕌","🕍","🕎","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧","🕯️","🕰️","🕳️","🕴🏻","🕴🏼","🕴🏽","🕴🏾","🕴🏿","🕴️","🕵🏻","🕵🏻‍♀️","🕵🏻‍♂️","🕵🏼","🕵🏼‍♀️","🕵🏼‍♂️","🕵🏽","🕵🏽‍♀️","🕵🏽‍♂️","🕵🏾","🕵🏾‍♀️","🕵🏾‍♂️","🕵🏿","🕵🏿‍♀️","🕵🏿‍♂️","🕵️","🕵️‍♀️","🕵️‍♂️","🕶️","🕷️","🕸️","🕹️","🕺","🕺🏻","🕺🏼","🕺🏽","🕺🏾","🕺🏿","🖇️","🖊️","🖋️","🖌️","🖍️","🖐🏻","🖐🏼","🖐🏽","🖐🏾","🖐🏿","🖐️","🖕","🖕🏻","🖕🏼","🖕🏽","🖕🏾","🖕🏿","🖖","🖖🏻","🖖🏼","🖖🏽","🖖🏾","🖖🏿","🖤","🖥️","🖨️","🖱️","🖲️","🖼️","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","🗜️","🗝️","🗞️","🗡️","🗣️","🗨️","🗯️","🗳️","🗺️","🗻","🗼","🗽","🗾","🗿","😀","😁","😂","😃","😄","😅","😆","😇","😈","😉","😊","😋","😌","😍","😎","😏","😐","😑","😒","😓","😔","😕","😖","😗","😘","😙","😚","😛","😜","😝","😞","😟","😠","😡","😢","😣","😤","😥","😦","😧","😨","😩","😪","😫","😬","😭","😮","😮‍💨","😯","😰","😱","😲","😳","😴","😵","😵‍💫","😶","😶‍🌫️","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙁","🙂","🙃","🙄","🙅","🙅‍♀️","🙅‍♂️","🙅🏻","🙅🏻‍♀️","🙅🏻‍♂️","🙅🏼","🙅🏼‍♀️","🙅🏼‍♂️","🙅🏽","🙅🏽‍♀️","🙅🏽‍♂️","🙅🏾","🙅🏾‍♀️","🙅🏾‍♂️","🙅🏿","🙅🏿‍♀️","🙅🏿‍♂️","🙆","🙆‍♀️","🙆‍♂️","🙆🏻","🙆🏻‍♀️","🙆🏻‍♂️","🙆🏼","🙆🏼‍♀️","🙆🏼‍♂️","🙆🏽","🙆🏽‍♀️","🙆🏽‍♂️","🙆🏾","🙆🏾‍♀️","🙆🏾‍♂️","🙆🏿","🙆🏿‍♀️","🙆🏿‍♂️","🙇","🙇‍♀️","🙇‍♂️","🙇🏻","🙇🏻‍♀️","🙇🏻‍♂️","🙇🏼","🙇🏼‍♀️","🙇🏼‍♂️","🙇🏽","🙇🏽‍♀️","🙇🏽‍♂️","🙇🏾","🙇🏾‍♀️","🙇🏾‍♂️","🙇🏿","🙇🏿‍♀️","🙇🏿‍♂️","🙈","🙉","🙊","🙋","🙋‍♀️","🙋‍♂️","🙋🏻","🙋🏻‍♀️","🙋🏻‍♂️","🙋🏼","🙋🏼‍♀️","🙋🏼‍♂️","🙋🏽","🙋🏽‍♀️","🙋🏽‍♂️","🙋🏾","🙋🏾‍♀️","🙋🏾‍♂️","🙋🏿","🙋🏿‍♀️","🙋🏿‍♂️","🙌","🙌🏻","🙌🏼","🙌🏽","🙌🏾","🙌🏿","🙍","🙍‍♀️","🙍‍♂️","🙍🏻","🙍🏻‍♀️","🙍🏻‍♂️","🙍🏼","🙍🏼‍♀️","🙍🏼‍♂️","🙍🏽","🙍🏽‍♀️","🙍🏽‍♂️","🙍🏾","🙍🏾‍♀️","🙍🏾‍♂️","🙍🏿","🙍🏿‍♀️","🙍🏿‍♂️","🙎","🙎‍♀️","🙎‍♂️","🙎🏻","🙎🏻‍♀️","🙎🏻‍♂️","🙎🏼","🙎🏼‍♀️","🙎🏼‍♂️","🙎🏽","🙎🏽‍♀️","🙎🏽‍♂️","🙎🏾","🙎🏾‍♀️","🙎🏾‍♂️","🙎🏿","🙎🏿‍♀️","🙎🏿‍♂️","🙏","🙏🏻","🙏🏼","🙏🏽","🙏🏾","🙏🏿","🚀","🚁","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚋","🚌","🚍","🚎","🚏","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚢","🚣","🚣‍♀️","🚣‍♂️","🚣🏻","🚣🏻‍♀️","🚣🏻‍♂️","🚣🏼","🚣🏼‍♀️","🚣🏼‍♂️","🚣🏽","🚣🏽‍♀️","🚣🏽‍♂️","🚣🏾","🚣🏾‍♀️","🚣🏾‍♂️","🚣🏿","🚣🏿‍♀️","🚣🏿‍♂️","🚤","🚥","🚦","🚧","🚨","🚩","🚪","🚫","🚬","🚭","🚮","🚯","🚰","🚱","🚲","🚳","🚴","🚴‍♀️","🚴‍♂️","🚴🏻","🚴🏻‍♀️","🚴🏻‍♂️","🚴🏼","🚴🏼‍♀️","🚴🏼‍♂️","🚴🏽","🚴🏽‍♀️","🚴🏽‍♂️","🚴🏾","🚴🏾‍♀️","🚴🏾‍♂️","🚴🏿","🚴🏿‍♀️","🚴🏿‍♂️","🚵","🚵‍♀️","🚵‍♂️","🚵🏻","🚵🏻‍♀️","🚵🏻‍♂️","🚵🏼","🚵🏼‍♀️","🚵🏼‍♂️","🚵🏽","🚵🏽‍♀️","🚵🏽‍♂️","🚵🏾","🚵🏾‍♀️","🚵🏾‍♂️","🚵🏿","🚵🏿‍♀️","🚵🏿‍♂️","🚶","🚶‍♀️","🚶‍♂️","🚶🏻","🚶🏻‍♀️","🚶🏻‍♂️","🚶🏼","🚶🏼‍♀️","🚶🏼‍♂️","🚶🏽","🚶🏽‍♀️","🚶🏽‍♂️","🚶🏾","🚶🏾‍♀️","🚶🏾‍♂️","🚶🏿","🚶🏿‍♀️","🚶🏿‍♂️","🚷","🚸","🚹","🚺","🚻","🚼","🚽","🚾","🚿","🛀","🛀🏻","🛀🏼","🛀🏽","🛀🏾","🛀🏿","🛁","🛂","🛃","🛄","🛅","🛋️","🛌","🛌🏻","🛌🏼","🛌🏽","🛌🏾","🛌🏿","🛍️","🛎️","🛏️","🛐","🛑","🛒","🛕","🛖","🛗","🛝","🛞","🛟","🛠️","🛡️","🛢️","🛣️","🛤️","🛥️","🛩️","🛫","🛬","🛰️","🛳️","🛴","🛵","🛶","🛷","🛸","🛹","🛺","🛻","🛼","🟠","🟡","🟢","🟣","🟤","🟥","🟦","🟧","🟨","🟩","🟪","🟫","🟰","🤌","🤌🏻","🤌🏼","🤌🏽","🤌🏾","🤌🏿","🤍","🤎","🤏","🤏🏻","🤏🏼","🤏🏽","🤏🏾","🤏🏿","🤐","🤑","🤒","🤓","🤔","🤕","🤖","🤗","🤘","🤘🏻","🤘🏼","🤘🏽","🤘🏾","🤘🏿","🤙","🤙🏻","🤙🏼","🤙🏽","🤙🏾","🤙🏿","🤚","🤚🏻","🤚🏼","🤚🏽","🤚🏾","🤚🏿","🤛","🤛🏻","🤛🏼","🤛🏽","🤛🏾","🤛🏿","🤜","🤜🏻","🤜🏼","🤜🏽","🤜🏾","🤜🏿","🤝","🤝🏻","🤝🏼","🤝🏽","🤝🏾","🤝🏿","🤞","🤞🏻","🤞🏼","🤞🏽","🤞🏾","🤞🏿","🤟","🤟🏻","🤟🏼","🤟🏽","🤟🏾","🤟🏿","🤠","🤡","🤢","🤣","🤤","🤥","🤦","🤦‍♀️","🤦‍♂️","🤦🏻","🤦🏻‍♀️","🤦🏻‍♂️","🤦🏼","🤦🏼‍♀️","🤦🏼‍♂️","🤦🏽","🤦🏽‍♀️","🤦🏽‍♂️","🤦🏾","🤦🏾‍♀️","🤦🏾‍♂️","🤦🏿","🤦🏿‍♀️","🤦🏿‍♂️","🤧","🤨","🤩","🤪","🤫","🤬","🤭","🤮","🤯","🤰","🤰🏻","🤰🏼","🤰🏽","🤰🏾","🤰🏿","🤱","🤱🏻","🤱🏼","🤱🏽","🤱🏾","🤱🏿","🤲","🤲🏻","🤲🏼","🤲🏽","🤲🏾","🤲🏿","🤳","🤳🏻","🤳🏼","🤳🏽","🤳🏾","🤳🏿","🤴","🤴🏻","🤴🏼","🤴🏽","🤴🏾","🤴🏿","🤵","🤵‍♀️","🤵‍♂️","🤵🏻","🤵🏻‍♀️","🤵🏻‍♂️","🤵🏼","🤵🏼‍♀️","🤵🏼‍♂️","🤵🏽","🤵🏽‍♀️","🤵🏽‍♂️","🤵🏾","🤵🏾‍♀️","🤵🏾‍♂️","🤵🏿","🤵🏿‍♀️","🤵🏿‍♂️","🤶","🤶🏻","🤶🏼","🤶🏽","🤶🏾","🤶🏿","🤷","🤷‍♀️","🤷‍♂️","🤷🏻","🤷🏻‍♀️","🤷🏻‍♂️","🤷🏼","🤷🏼‍♀️","🤷🏼‍♂️","🤷🏽","🤷🏽‍♀️","🤷🏽‍♂️","🤷🏾","🤷🏾‍♀️","🤷🏾‍♂️","🤷🏿","🤷🏿‍♀️","🤷🏿‍♂️","🤸","🤸‍♀️","🤸‍♂️","🤸🏻","🤸🏻‍♀️","🤸🏻‍♂️","🤸🏼","🤸🏼‍♀️","🤸🏼‍♂️","🤸🏽","🤸🏽‍♀️","🤸🏽‍♂️","🤸🏾","🤸🏾‍♀️","🤸🏾‍♂️","🤸🏿","🤸🏿‍♀️","🤸🏿‍♂️","🤹","🤹‍♀️","🤹‍♂️","🤹🏻","🤹🏻‍♀️","🤹🏻‍♂️","🤹🏼","🤹🏼‍♀️","🤹🏼‍♂️","🤹🏽","🤹🏽‍♀️","🤹🏽‍♂️","🤹🏾","🤹🏾‍♀️","🤹🏾‍♂️","🤹🏿","🤹🏿‍♀️","🤹🏿‍♂️","🤺","🤼","🤼‍♀️","🤼‍♂️","🤽","🤽‍♀️","🤽‍♂️","🤽🏻","🤽🏻‍♀️","🤽🏻‍♂️","🤽🏼","🤽🏼‍♀️","🤽🏼‍♂️","🤽🏽","🤽🏽‍♀️","🤽🏽‍♂️","🤽🏾","🤽🏾‍♀️","🤽🏾‍♂️","🤽🏿","🤽🏿‍♀️","🤽🏿‍♂️","🤾","🤾‍♀️","🤾‍♂️","🤾🏻","🤾🏻‍♀️","🤾🏻‍♂️","🤾🏼","🤾🏼‍♀️","🤾🏼‍♂️","🤾🏽","🤾🏽‍♀️","🤾🏽‍♂️","🤾🏾","🤾🏾‍♀️","🤾🏾‍♂️","🤾🏿","🤾🏿‍♀️","🤾🏿‍♂️","🤿","🥀","🥁","🥂","🥃","🥄","🥅","🥇","🥈","🥉","🥊","🥋","🥌","🥍","🥎","🥏","🥐","🥑","🥒","🥓","🥔","🥕","🥖","🥗","🥘","🥙","🥚","🥛","🥜","🥝","🥞","🥟","🥠","🥡","🥢","🥣","🥤","🥥","🥦","🥧","🥨","🥩","🥪","🥫","🥬","🥭","🥮","🥯","🥰","🥱","🥲","🥳","🥴","🥵","🥶","🥷","🥷🏻","🥷🏼","🥷🏽","🥷🏾","🥷🏿","🥸","🥹","🥺","🥻","🥼","🥽","🥾","🥿","🦀","🦁","🦂","🦃","🦄","🦅","🦆","🦇","🦈","🦉","🦊","🦋","🦌","🦍","🦎","🦏","🦐","🦑","🦒","🦓","🦔","🦕","🦖","🦗","🦘","🦙","🦚","🦛","🦜","🦝","🦞","🦟","🦠","🦡","🦢","🦣","🦤","🦥","🦦","🦧","🦨","🦩","🦪","🦫","🦬","🦭","🦮","🦯","🦰","🦱","🦲","🦳","🦴","🦵","🦵🏻","🦵🏼","🦵🏽","🦵🏾","🦵🏿","🦶","🦶🏻","🦶🏼","🦶🏽","🦶🏾","🦶🏿","🦷","🦸","🦸‍♀️","🦸‍♂️","🦸🏻","🦸🏻‍♀️","🦸🏻‍♂️","🦸🏼","🦸🏼‍♀️","🦸🏼‍♂️","🦸🏽","🦸🏽‍♀️","🦸🏽‍♂️","🦸🏾","🦸🏾‍♀️","🦸🏾‍♂️","🦸🏿","🦸🏿‍♀️","🦸🏿‍♂️","🦹","🦹‍♀️","🦹‍♂️","🦹🏻","🦹🏻‍♀️","🦹🏻‍♂️","🦹🏼","🦹🏼‍♀️","🦹🏼‍♂️","🦹🏽","🦹🏽‍♀️","🦹🏽‍♂️","🦹🏾","🦹🏾‍♀️","🦹🏾‍♂️","🦹🏿","🦹🏿‍♀️","🦹🏿‍♂️","🦺","🦻","🦻🏻","🦻🏼","🦻🏽","🦻🏾","🦻🏿","🦼","🦽","🦾","🦿","🧀","🧁","🧂","🧃","🧄","🧅","🧆","🧇","🧈","🧉","🧊","🧋","🧌","🧍","🧍‍♀️","🧍‍♂️","🧍🏻","🧍🏻‍♀️","🧍🏻‍♂️","🧍🏼","🧍🏼‍♀️","🧍🏼‍♂️","🧍🏽","🧍🏽‍♀️","🧍🏽‍♂️","🧍🏾","🧍🏾‍♀️","🧍🏾‍♂️","🧍🏿","🧍🏿‍♀️","🧍🏿‍♂️","🧎","🧎‍♀️","🧎‍♂️","🧎🏻","🧎🏻‍♀️","🧎🏻‍♂️","🧎🏼","🧎🏼‍♀️","🧎🏼‍♂️","🧎🏽","🧎🏽‍♀️","🧎🏽‍♂️","🧎🏾","🧎🏾‍♀️","🧎🏾‍♂️","🧎🏿","🧎🏿‍♀️","🧎🏿‍♂️","🧏","🧏‍♀️","🧏‍♂️","🧏🏻","🧏🏻‍♀️","🧏🏻‍♂️","🧏🏼","🧏🏼‍♀️","🧏🏼‍♂️","🧏🏽","🧏🏽‍♀️","🧏🏽‍♂️","🧏🏾","🧏🏾‍♀️","🧏🏾‍♂️","🧏🏿","🧏🏿‍♀️","🧏🏿‍♂️","🧐","🧑","🧑‍⚕️","🧑‍⚖️","🧑‍✈️","🧑‍🌾","🧑‍🍳","🧑‍🍼","🧑‍🎄","🧑‍🎓","🧑‍🎤","🧑‍🎨","🧑‍🏫","🧑‍🏭","🧑‍💻","🧑‍💼","🧑‍🔧","🧑‍🔬","🧑‍🚀","🧑‍🚒","🧑‍🤝‍🧑","🧑‍🦯","🧑‍🦰","🧑‍🦱","🧑‍🦲","🧑‍🦳","🧑‍🦼","🧑‍🦽","🧑🏻","🧑🏻‍⚕️","🧑🏻‍⚖️","🧑🏻‍✈️","🧑🏻‍❤️‍💋‍🧑🏼","🧑🏻‍❤️‍💋‍🧑🏽","🧑🏻‍❤️‍💋‍🧑🏾","🧑🏻‍❤️‍💋‍🧑🏿","🧑🏻‍❤️‍🧑🏼","🧑🏻‍❤️‍🧑🏽","🧑🏻‍❤️‍🧑🏾","🧑🏻‍❤️‍🧑🏿","🧑🏻‍🌾","🧑🏻‍🍳","🧑🏻‍🍼","🧑🏻‍🎄","🧑🏻‍🎓","🧑🏻‍🎤","🧑🏻‍🎨","🧑🏻‍🏫","🧑🏻‍🏭","🧑🏻‍💻","🧑🏻‍💼","🧑🏻‍🔧","🧑🏻‍🔬","🧑🏻‍🚀","🧑🏻‍🚒","🧑🏻‍🤝‍🧑🏻","🧑🏻‍🤝‍🧑🏼","🧑🏻‍🤝‍🧑🏽","🧑🏻‍🤝‍🧑🏾","🧑🏻‍🤝‍🧑🏿","🧑🏻‍🦯","🧑🏻‍🦰","🧑🏻‍🦱","🧑🏻‍🦲","🧑🏻‍🦳","🧑🏻‍🦼","🧑🏻‍🦽","🧑🏼","🧑🏼‍⚕️","🧑🏼‍⚖️","🧑🏼‍✈️","🧑🏼‍❤️‍💋‍🧑🏻","🧑🏼‍❤️‍💋‍🧑🏽","🧑🏼‍❤️‍💋‍🧑🏾","🧑🏼‍❤️‍💋‍🧑🏿","🧑🏼‍❤️‍🧑🏻","🧑🏼‍❤️‍🧑🏽","🧑🏼‍❤️‍🧑🏾","🧑🏼‍❤️‍🧑🏿","🧑🏼‍🌾","🧑🏼‍🍳","🧑🏼‍🍼","🧑🏼‍🎄","🧑🏼‍🎓","🧑🏼‍🎤","🧑🏼‍🎨","🧑🏼‍🏫","🧑🏼‍🏭","🧑🏼‍💻","🧑🏼‍💼","🧑🏼‍🔧","🧑🏼‍🔬","🧑🏼‍🚀","🧑🏼‍🚒","🧑🏼‍🤝‍🧑🏻","🧑🏼‍🤝‍🧑🏼","🧑🏼‍🤝‍🧑🏽","🧑🏼‍🤝‍🧑🏾","🧑🏼‍🤝‍🧑🏿","🧑🏼‍🦯","🧑🏼‍🦰","🧑🏼‍🦱","🧑🏼‍🦲","🧑🏼‍🦳","🧑🏼‍🦼","🧑🏼‍🦽","🧑🏽","🧑🏽‍⚕️","🧑🏽‍⚖️","🧑🏽‍✈️","🧑🏽‍❤️‍💋‍🧑🏻","🧑🏽‍❤️‍💋‍🧑🏼","🧑🏽‍❤️‍💋‍🧑🏾","🧑🏽‍❤️‍💋‍🧑🏿","🧑🏽‍❤️‍🧑🏻","🧑🏽‍❤️‍🧑🏼","🧑🏽‍❤️‍🧑🏾","🧑🏽‍❤️‍🧑🏿","🧑🏽‍🌾","🧑🏽‍🍳","🧑🏽‍🍼","🧑🏽‍🎄","🧑🏽‍🎓","🧑🏽‍🎤","🧑🏽‍🎨","🧑🏽‍🏫","🧑🏽‍🏭","🧑🏽‍💻","🧑🏽‍💼","🧑🏽‍🔧","🧑🏽‍🔬","🧑🏽‍🚀","🧑🏽‍🚒","🧑🏽‍🤝‍🧑🏻","🧑🏽‍🤝‍🧑🏼","🧑🏽‍🤝‍🧑🏽","🧑🏽‍🤝‍🧑🏾","🧑🏽‍🤝‍🧑🏿","🧑🏽‍🦯","🧑🏽‍🦰","🧑🏽‍🦱","🧑🏽‍🦲","🧑🏽‍🦳","🧑🏽‍🦼","🧑🏽‍🦽","🧑🏾","🧑🏾‍⚕️","🧑🏾‍⚖️","🧑🏾‍✈️","🧑🏾‍❤️‍💋‍🧑🏻","🧑🏾‍❤️‍💋‍🧑🏼","🧑🏾‍❤️‍💋‍🧑🏽","🧑🏾‍❤️‍💋‍🧑🏿","🧑🏾‍❤️‍🧑🏻","🧑🏾‍❤️‍🧑🏼","🧑🏾‍❤️‍🧑🏽","🧑🏾‍❤️‍🧑🏿","🧑🏾‍🌾","🧑🏾‍🍳","🧑🏾‍🍼","🧑🏾‍🎄","🧑🏾‍🎓","🧑🏾‍🎤","🧑🏾‍🎨","🧑🏾‍🏫","🧑🏾‍🏭","🧑🏾‍💻","🧑🏾‍💼","🧑🏾‍🔧","🧑🏾‍🔬","🧑🏾‍🚀","🧑🏾‍🚒","🧑🏾‍🤝‍🧑🏻","🧑🏾‍🤝‍🧑🏼","🧑🏾‍🤝‍🧑🏽","🧑🏾‍🤝‍🧑🏾","🧑🏾‍🤝‍🧑🏿","🧑🏾‍🦯","🧑🏾‍🦰","🧑🏾‍🦱","🧑🏾‍🦲","🧑🏾‍🦳","🧑🏾‍🦼","🧑🏾‍🦽","🧑🏿","🧑🏿‍⚕️","🧑🏿‍⚖️","🧑🏿‍✈️","🧑🏿‍❤️‍💋‍🧑🏻","🧑🏿‍❤️‍💋‍🧑🏼","🧑🏿‍❤️‍💋‍🧑🏽","🧑🏿‍❤️‍💋‍🧑🏾","🧑🏿‍❤️‍🧑🏻","🧑🏿‍❤️‍🧑🏼","🧑🏿‍❤️‍🧑🏽","🧑🏿‍❤️‍🧑🏾","🧑🏿‍🌾","🧑🏿‍🍳","🧑🏿‍🍼","🧑🏿‍🎄","🧑🏿‍🎓","🧑🏿‍🎤","🧑🏿‍🎨","🧑🏿‍🏫","🧑🏿‍🏭","🧑🏿‍💻","🧑🏿‍💼","🧑🏿‍🔧","🧑🏿‍🔬","🧑🏿‍🚀","🧑🏿‍🚒","🧑🏿‍🤝‍🧑🏻","🧑🏿‍🤝‍🧑🏼","🧑🏿‍🤝‍🧑🏽","🧑🏿‍🤝‍🧑🏾","🧑🏿‍🤝‍🧑🏿","🧑🏿‍🦯","🧑🏿‍🦰","🧑🏿‍🦱","🧑🏿‍🦲","🧑🏿‍🦳","🧑🏿‍🦼","🧑🏿‍🦽","🧒","🧒🏻","🧒🏼","🧒🏽","🧒🏾","🧒🏿","🧓","🧓🏻","🧓🏼","🧓🏽","🧓🏾","🧓🏿","🧔","🧔‍♀️","🧔‍♂️","🧔🏻","🧔🏻‍♀️","🧔🏻‍♂️","🧔🏼","🧔🏼‍♀️","🧔🏼‍♂️","🧔🏽","🧔🏽‍♀️","🧔🏽‍♂️","🧔🏾","🧔🏾‍♀️","🧔🏾‍♂️","🧔🏿","🧔🏿‍♀️","🧔🏿‍♂️","🧕","🧕🏻","🧕🏼","🧕🏽","🧕🏾","🧕🏿","🧖","🧖‍♀️","🧖‍♂️","🧖🏻","🧖🏻‍♀️","🧖🏻‍♂️","🧖🏼","🧖🏼‍♀️","🧖🏼‍♂️","🧖🏽","🧖🏽‍♀️","🧖🏽‍♂️","🧖🏾","🧖🏾‍♀️","🧖🏾‍♂️","🧖🏿","🧖🏿‍♀️","🧖🏿‍♂️","🧗","🧗‍♀️","🧗‍♂️","🧗🏻","🧗🏻‍♀️","🧗🏻‍♂️","🧗🏼","🧗🏼‍♀️","🧗🏼‍♂️","🧗🏽","🧗🏽‍♀️","🧗🏽‍♂️","🧗🏾","🧗🏾‍♀️","🧗🏾‍♂️","🧗🏿","🧗🏿‍♀️","🧗🏿‍♂️","🧘","🧘‍♀️","🧘‍♂️","🧘🏻","🧘🏻‍♀️","🧘🏻‍♂️","🧘🏼","🧘🏼‍♀️","🧘🏼‍♂️","🧘🏽","🧘🏽‍♀️","🧘🏽‍♂️","🧘🏾","🧘🏾‍♀️","🧘🏾‍♂️","🧘🏿","🧘🏿‍♀️","🧘🏿‍♂️","🧙","🧙‍♀️","🧙‍♂️","🧙🏻","🧙🏻‍♀️","🧙🏻‍♂️","🧙🏼","🧙🏼‍♀️","🧙🏼‍♂️","🧙🏽","🧙🏽‍♀️","🧙🏽‍♂️","🧙🏾","🧙🏾‍♀️","🧙🏾‍♂️","🧙🏿","🧙🏿‍♀️","🧙🏿‍♂️","🧚","🧚‍♀️","🧚‍♂️","🧚🏻","🧚🏻‍♀️","🧚🏻‍♂️","🧚🏼","🧚🏼‍♀️","🧚🏼‍♂️","🧚🏽","🧚🏽‍♀️","🧚🏽‍♂️","🧚🏾","🧚🏾‍♀️","🧚🏾‍♂️","🧚🏿","🧚🏿‍♀️","🧚🏿‍♂️","🧛","🧛‍♀️","🧛‍♂️","🧛🏻","🧛🏻‍♀️","🧛🏻‍♂️","🧛🏼","🧛🏼‍♀️","🧛🏼‍♂️","🧛🏽","🧛🏽‍♀️","🧛🏽‍♂️","🧛🏾","🧛🏾‍♀️","🧛🏾‍♂️","🧛🏿","🧛🏿‍♀️","🧛🏿‍♂️","🧜","🧜‍♀️","🧜‍♂️","🧜🏻","🧜🏻‍♀️","🧜🏻‍♂️","🧜🏼","🧜🏼‍♀️","🧜🏼‍♂️","🧜🏽","🧜🏽‍♀️","🧜🏽‍♂️","🧜🏾","🧜🏾‍♀️","🧜🏾‍♂️","🧜🏿","🧜🏿‍♀️","🧜🏿‍♂️","🧝","🧝‍♀️","🧝‍♂️","🧝🏻","🧝🏻‍♀️","🧝🏻‍♂️","🧝🏼","🧝🏼‍♀️","🧝🏼‍♂️","🧝🏽","🧝🏽‍♀️","🧝🏽‍♂️","🧝🏾","🧝🏾‍♀️","🧝🏾‍♂️","🧝🏿","🧝🏿‍♀️","🧝🏿‍♂️","🧞","🧞‍♀️","🧞‍♂️","🧟","🧟‍♀️","🧟‍♂️","🧠","🧡","🧢","🧣","🧤","🧥","🧦","🧧","🧨","🧩","🧪","🧫","🧬","🧭","🧮","🧯","🧰","🧱","🧲","🧳","🧴","🧵","🧶","🧷","🧸","🧹","🧺","🧻","🧼","🧽","🧾","🧿","🩰","🩱","🩲","🩳","🩴","🩸","🩹","🩺","🩻","🩼","🪀","🪁","🪂","🪃","🪄","🪅","🪆","🪐","🪑","🪒","🪓","🪔","🪕","🪖","🪗","🪘","🪙","🪚","🪛","🪜","🪝","🪞","🪟","🪠","🪡","🪢","🪣","🪤","🪥","🪦","🪧","🪨","🪩","🪪","🪫","🪬","🪰","🪱","🪲","🪳","🪴","🪵","🪶","🪷","🪸","🪹","🪺","🫀","🫁","🫂","🫃","🫃🏻","🫃🏼","🫃🏽","🫃🏾","🫃🏿","🫄","🫄🏻","🫄🏼","🫄🏽","🫄🏾","🫄🏿","🫅","🫅🏻","🫅🏼","🫅🏽","🫅🏾","🫅🏿","🫐","🫑","🫒","🫓","🫔","🫕","🫖","🫗","🫘","🫙","🫠","🫡","🫢","🫣","🫤","🫥","🫦","🫧","🫰","🫰🏻","🫰🏼","🫰🏽","🫰🏾","🫰🏿","🫱","🫱🏻","🫱🏻‍🫲🏼","🫱🏻‍🫲🏽","🫱🏻‍🫲🏾","🫱🏻‍🫲🏿","🫱🏼","🫱🏼‍🫲🏻","🫱🏼‍🫲🏽","🫱🏼‍🫲🏾","🫱🏼‍🫲🏿","🫱🏽","🫱🏽‍🫲🏻","🫱🏽‍🫲🏼","🫱🏽‍🫲🏾","🫱🏽‍🫲🏿","🫱🏾","🫱🏾‍🫲🏻","🫱🏾‍🫲🏼","🫱🏾‍🫲🏽","🫱🏾‍🫲🏿","🫱🏿","🫱🏿‍🫲🏻","🫱🏿‍🫲🏼","🫱🏿‍🫲🏽","🫱🏿‍🫲🏾","🫲","🫲🏻","🫲🏼","🫲🏽","🫲🏾","🫲🏿","🫳","🫳🏻","🫳🏼","🫳🏽","🫳🏾","🫳🏿","🫴","🫴🏻","🫴🏼","🫴🏽","🫴🏾","🫴🏿","🫵","🫵🏻","🫵🏼","🫵🏽","🫵🏾","🫵🏿","🫶","🫶🏻","🫶🏼","🫶🏽","🫶🏾","🫶🏿"]},67262:(e,t)=>{"use strict";t.Z=void 0;t.Z={SMILEYS_PEOPLE:["😀","😃","😄","😁","😆","🥹","😅","😂","🤣","🥲","☺️","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🥸","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😶‍🌫️","😱","😨","😰","😥","😓","🤗","🤔","🫣","🤭","🫢","🫡","🤫","🫠","🤥","😶","🫥","😐","🫤","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😮‍💨","😵","😵‍💫","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🫶","🤲","👐","🙌","👏","🤝","👍","👎","👊","✊","🤛","🤜","🤞","✌️","🫰","🤟","🤘","👌","🤌","🤏","🫳","🫴","👈","👉","👆","👇","☝️","✋","🤚","🖐️","🖖","👋","🤙","🫲","🫱","💪","🦾","🖕","✍️","🙏","🫵","🦶","🦵","🦿","💄","💋","👄","🫦","🦷","👅","👂","🦻","👃","👣","👁️","👀","🫀","🫁","🧠","🗣️","👤","👥","🫂","👶","👧","🧒","👦","👩","🧑","👨","👩‍🦱","🧑‍🦱","👨‍🦱","👩‍🦰","🧑‍🦰","👨‍🦰","👱‍♀️","👱‍♂️","👩‍🦳","🧑‍🦳","👨‍🦳","👩‍🦲","🧑‍🦲","👨‍🦲","🧔‍♀️","🧔","👵","🧓","👴","👲","👳‍♀️","👳‍♂️","🧕","👮‍♀️","👮‍♂️","👷‍♀️","👷‍♂️","💂‍♀️","💂‍♂️","🕵️‍♀️","🕵️‍♂️","👩‍⚕️","🧑‍⚕️","👨‍⚕️","👩‍🌾","🧑‍🌾","👨‍🌾","👩‍🍳","🧑‍🍳","👨‍🍳","👩‍🎓","🧑‍🎓","👨‍🎓","👩‍🎤","🧑‍🎤","👨‍🎤","👩‍🏫","🧑‍🏫","👨‍🏫","👩‍🏭","🧑‍🏭","👨‍🏭","👩‍💻","🧑‍💻","👨‍💻","👩‍💼","🧑‍💼","👨‍💼","👩‍🔧","🧑‍🔧","👨‍🔧","👩‍🔬","🧑‍🔬","👨‍🔬","👩‍🎨","🧑‍🎨","👨‍🎨","👩‍🚒","🧑‍🚒","👨‍🚒","👩‍✈️","🧑‍✈️","👨‍✈️","👩‍🚀","🧑‍🚀","👨‍🚀","👩‍⚖️","🧑‍⚖️","👨‍⚖️","👰‍♀️","👰","👰‍♂️","🤵‍♀️","🤵","🤵‍♂️","👸","🫅","🤴","🥷","🦸‍♀️","🦸‍♂️","🦹‍♀️","🦹‍♂️","🤶","🧑‍🎄","🎅","🧙‍♀️","🧙‍♂️","🧝‍♀️","🧝‍♂️","🧌","🧛‍♀️","🧛‍♂️","🧟‍♀️","🧟‍♂️","🧞‍♀️","🧞‍♂️","🧜‍♀️","🧜‍♂️","🧚‍♀️","🧚‍♂️","👼","🤰","🫄","🫃","🤱","👩‍🍼","🧑‍🍼","👨‍🍼","🙇‍♀️","🙇‍♂️","💁‍♀️","💁‍♂️","🙅‍♀️","🙅‍♂️","🙆‍♀️","🙆‍♂️","🙋‍♀️","🙋‍♂️","🧏‍♀️","🧏","🧏‍♂️","🤦‍♀️","🤦‍♂️","🤷‍♀️","🤷‍♂️","🙎‍♀️","🙎‍♂️","🙍‍♀️","🙍‍♂️","💇‍♀️","💇‍♂️","💆‍♀️","💆‍♂️","🧖‍♀️","🧖","🧖‍♂️","💅","🤳","💃","🕺","👯‍♀️","👯‍♂️","🕴️","👩‍🦽","🧑‍🦽","👨‍🦽","👩‍🦼","🧑‍🦼","👨‍🦼","🚶‍♀️","🚶","🚶‍♂️","👩‍🦯","🧑‍🦯","👨‍🦯","🧎‍♀️","🧎","🧎‍♂️","🏃‍♀️","🏃","🏃‍♂️","🧍‍♀️","🧍","🧍‍♂️","👫","👭","👬","👩‍❤️‍👨","👩‍❤️‍👩","💑","👨‍❤️‍👨","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","💏","👨‍❤️‍💋‍👨","👨‍👩‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧‍👧","👨‍👨‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧‍👧","👩‍👦","👩‍👧","👩‍👧‍👦","👩‍👦‍👦","👩‍👧‍👧","👨‍👦","👨‍👧","👨‍👧‍👦","👨‍👦‍👦","👨‍👧‍👧","🪢","🧶","🧵","🪡","🧥","🥼","🦺","👚","👕","👖","🩲","🩳","👔","👗","👙","🩱","👘","🥻","🩴","🥿","👠","👡","👢","👞","👟","🥾","🧦","🧤","🧣","🎩","🧢","👒","🎓","⛑️","🪖","👑","💍","👝","👛","👜","💼","🎒","🧳","👓","🕶️","🥽","🌂"],ANIMALS_NATURE:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐻‍❄️","🐨","🐯","🦁","🐮","🐷","🐽","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🪱","🐛","🦋","🐌","🐞","🐜","🪰","🪲","🪳","🦟","🦗","🕷️","🕸️","🦂","🐢","🐍","🦎","🦖","🦕","🐙","🦑","🦐","🦞","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🦭","🐊","🐅","🐆","🦓","🦍","🦧","🦣","🐘","🦛","🦏","🐪","🐫","🦒","🦘","🦬","🐃","🐂","🐄","🐎","🐖","🐏","🐑","🦙","🐐","🦌","🐕","🐩","🦮","🐕‍🦺","🐈","🐈‍⬛","🪶","🐓","🦃","🦤","🦚","🦜","🦢","🦩","🕊️","🐇","🦝","🦨","🦡","🦫","🦦","🦥","🐁","🐀","🐿️","🦔","🐾","🐉","🐲","🌵","🎄","🌲","🌳","🌴","🪵","🌱","🌿","☘️","🍀","🎍","🪴","🎋","🍃","🍂","🍁","🪺","🪹","🍄","🐚","🪸","🪨","🌾","💐","🌷","🌹","🥀","🪷","🌺","🌸","🌼","🌻","🌞","🌝","🌛","🌜","🌚","🌕","🌖","🌗","🌘","🌑","🌒","🌓","🌔","🌙","🌎","🌍","🌏","🪐","💫","⭐","🌟","✨","⚡","☄️","💥","🔥","🌪️","🌈","☀️","🌤️","⛅","🌥️","☁️","🌦️","🌧️","⛈️","🌩️","🌨️","❄️","☃️","⛄","🌬️","💨","💧","💦","🫧","☔","☂️","🌊","🌫️"],FOOD_DRINK:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🫑","🌽","🥕","🫒","🧄","🧅","🥔","🍠","🥐","🥯","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🫓","🥪","🥙","🧆","🌮","🌯","🫔","🥗","🥘","🫕","🥫","🫙","🍝","🍜","🍲","🍛","🍣","🍱","🥟","🦪","🍤","🍙","🍚","🍘","🍥","🥠","🥮","🍢","🍡","🍧","🍨","🍦","🥧","🧁","🍰","🎂","🍮","🍭","🍬","🍫","🍿","🍩","🍪","🌰","🥜","🫘","🍯","🥛","🫗","🍼","🫖","☕","🍵","🧃","🥤","🧋","🍶","🍺","🍻","🥂","🍷","🥃","🍸","🍹","🧉","🍾","🧊","🥄","🍴","🍽️","🥣","🥡","🥢","🧂"],ACTIVITY:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🪃","🥅","⛳","🪁","🛝","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛼","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️‍♀️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸","🤸‍♂️","⛹️‍♀️","⛹️","⛹️‍♂️","🤺","🤾‍♀️","🤾","🤾‍♂️","🏌️‍♀️","🏌️","🏌️‍♂️","🏇","🧘‍♀️","🧘","🧘‍♂️","🏄‍♀️","🏄","🏄‍♂️","🏊‍♀️","🏊","🏊‍♂️","🤽‍♀️","🤽","🤽‍♂️","🚣‍♀️","🚣","🚣‍♂️","🧗‍♀️","🧗","🧗‍♂️","🚵‍♀️","🚵","🚵‍♂️","🚴‍♀️","🚴","🚴‍♂️","🏆","🥇","🥈","🥉","🏅","🎖️","🏵️","🎗️","🎫","🎟️","🎪","🤹‍♀️","🤹‍♂️","🎭","🩰","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🪘","🎷","🎺","🪗","🎸","🪕","🎻","🎲","♟️","🎯","🎳","🎮","🎰","🧩"],TRAVEL_PLACES:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🛻","🚚","🚛","🚜","🦯","🦽","🦼","🩼","🛴","🚲","🛵","🏍️","🛺","🛞","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","🛟","⚓","🪝","⛽","🚧","🚦","🚥","🚏","🗺️","🗿","🗽","🗼","🏰","🏯","🏟️","🎡","🎢","🎠","⛲","⛱️","🏖️","🏝️","🏜️","🌋","⛰️","🏔️","🗻","🏕️","⛺","🛖","🏠","🏡","🏘️","🏚️","🏗️","🏭","🏢","🏬","🏣","🏤","🏥","🏦","🏨","🏪","🏫","🏩","💒","🏛️","⛪","🕌","🕍","🛕","🕋","⛩️","🛤️","🛣️","🗾","🎑","🏞️","🌅","🌄","🌠","🎇","🎆","🌇","🌆","🏙️","🌃","🌌","🌉","🌁"],OBJECTS:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🪫","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","🪙","💰","💳","🪪","💎","⚖️","🪜","🧰","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🪤","🧱","⛓️","🧲","🔫","💣","🧨","🪓","🔪","🗡️","⚔️","🛡️","🚬","⚰️","🪦","⚱️","🏺","🔮","📿","🧿","🪬","💈","⚗️","🔭","🔬","🕳️","🩻","🩹","🩺","💊","💉","🩸","🧬","🦠","🧫","🧪","🌡️","🧹","🪠","🧺","🧻","🚽","🚰","🚿","🛁","🛀","🧼","🪥","🪒","🧽","🪣","🧴","🛎️","🔑","🗝️","🚪","🪑","🛋️","🛏️","🛌","🧸","🪆","🖼️","🪞","🪟","🛍️","🛒","🎁","🎈","🎏","🎀","🪄","🪅","🎊","🎉","🎎","🏮","🎐","🪩","🧧","✉️","📩","📨","📧","💌","📥","📤","📦","🏷️","🪧","📪","📫","📬","📭","📮","📯","📜","📃","📄","📑","🧾","📊","📈","📉","🗒️","🗓️","📆","📅","🗑️","📇","🗃️","🗳️","🗄️","📋","📁","📂","🗂️","🗞️","📰","📓","📔","📒","📕","📗","📘","📙","📚","📖","🔖","🧷","🔗","📎","🖇️","📐","📏","🧮","📌","📍","✂️","🖊️","🖋️","✒️","🖌️","🖍️","📝","✏️","🔍","🔎","🔏","🔐","🔒","🔓"],SYMBOLS:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❤️‍🔥","❤️‍🩹","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🛗","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🆓","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔢","#️⃣","*️⃣","⏏️","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","⏫","⏬","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","🔀","🔁","🔂","🔄","🔃","🎵","🎶","➕","➖","➗","✖️","🟰","♾️","💲","💱","™️","©️","®️","👁️‍🗨️","🔚","🔙","🔛","🔝","🔜","〰️","➰","➿","✔️","☑️","🔘","🔴","🟠","🟡","🟢","🔵","🟣","⚫","⚪","🟤","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","🟥","🟧","🟨","🟩","🟦","🟪","⬛","⬜","🟫","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","💬","💭","🗯️","♠️","♣️","♥️","♦️","🃏","🎴","🀄","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧"],FLAGS:["🏳️","🏴","🏴‍☠️","🏁","🚩","🏳️‍🌈","🏳️‍⚧️","🏳‍🟧‍⬛‍🟧","🇺🇳","🇦🇫","🇦🇽","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇨🇻","🇧🇶","🇰🇾","🇨🇫","🇹🇩","🇮🇴","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇨🇮","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇸🇿","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇯🇲","🇯🇵","🎌","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇰🇵","🇲🇰","🇲🇵","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇻🇮","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🇺🇸","🏴󠁵󠁳󠁴󠁸󠁿","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]}},68048:(e,t)=>{"use strict";t.Z=void 0;t.Z={"#️⃣":1,"":1,"*️⃣":2,"0️⃣":3,"":3,"1️⃣":4,"":4,"2️⃣":5,"":5,"3️⃣":6,"":6,"4️⃣":7,"":7,"5️⃣":8,"":8,"6️⃣":9,"":9,"7️⃣":10,"":10,"8️⃣":11,"":11,"9️⃣":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":69,"":79,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":92,"":93,"":95,"":96,"":97,"":98,"":99,"":102,"":112,"":113,"":119,"":120,"":121,"":124,"":130,"":133,"":134,"":136,"":152,"":153,"":154,"":156,"":158,"":164,"":175,"":188,"":189,"":190,"":193,"":195,"":196,"":197,"":198,"":200,"":206,"":208,"":211,"":212,"":213,"":216,"":217,"":219,"":220,"":221,"":222,"":224,"":225,"":226,"":227,"":228,"":230,"":232,"":233,"":235,"":237,"":238,"":287,"":297,"":310,"":318,"":320,"":354,"":358,"":366,"":435,"":479,"🇺🇲":479,"":497,"":498,"":499,"":500,"":502,"":504,"":505,"":506,"":507,"":508,"":509,"":510,"":512,"":514,"":515,"":516,"":517,"":518,"":519,"":520,"":522,"":537,"":543,"":562,"":563,"":565,"":566,"":567,"":568,"":569,"":572,"":574,"":575,"":576,"":577,"":579,"":580,"":583,"":584,"":588,"":593,"":594,"":598,"":599,"":600,"":601,"":602,"":603,"":604,"":605,"":607,"":608,"":609,"":612,"":613,"":622,"":623,"":624,"":625,"":626,"":627,"":628,"":630,"":632,"":633,"":638,"":639,"":640,"":641,"":642,"":643,"":649,"":650,"":651,"":652,"":655,"":656,"":657,"":658,"":659,"":660,"":661,"":662,"":671,"":672,"":674,"":675,"":676,"":677,"":678,"":679,"":681,"":682,"":685,"":686,"":687,"":691,"":692,"":693,"":694,"":696,"":700,"":701,"":702,"":703,"":705,"":718,"":732,"":739,"":741,"":798,"":800,"":801,"":803,"":804,"":805,"":806,"":807,"":808,"":809,"":810,"":811,"":813,"":814,"🇽🇪":821,"🇽🇸":822,"🇽🇼":823,"🇽🇹":824,"":849,"":850,"":853,"":854,"":856,"":860,"":861,"":862,"":863,"":864,"":868,"":869,"":873,"":875,"":876,"":877,"":880,"":881,"":882,"":883,"":884,"":885,"":886,"":888,"":889,"":890,"":891,"":892,"":893,"":894,"":895,"":896,"":902,"":905,"":911,"":917,"":919,"":925,"":931,"":937,"":943,"":949,"":955,"":961,"":967,"":973,"":979,"":985,"":986,"":988,"":989,"":991,"":992,"":993,"":996,"":999,"":1e3,"":1001,"":1002,"":1003,"":1006,"":1012,"":1018,"":1255,"":1560,"":1632,"":1650,"":1656,"":1662,"":1680,"":1688,"":1689,"":1695,"":1696,"":1697,"":1698,"":1723,"":1729,"":1730,"":1760,"":1761,"":1762,"":1763,"":1765,"":1766,"":1767,"":1773,"":1774,"":1780,"":1781,"":1782,"":1785,"":1786,"":1787,"":1788,"":1789,"":1790,"":1791,"":1793,"":1795,"":1796,"":1797,"":1798,"":1800,"":1802,"":1803,"":1804,"":1815,"":1816,"":1824,"":1825,"":1826,"":1827,"":1828,"":1830,"":1831,"":1853,"":1860,"":1863,"":1864,"":1865,"":1866,"":1872,"":1874,"":1877,"":1880,"":1881,"":1882,"":1883,"":1885,"":1886,"":1889,"":1890,"":1891,"":1904,"":1907,"":1911,"":1912,"":1913,"":1914,"":1923,"":1924,"":1931,"":1934,"":1937,"":1941,"":1942,"":1943,"":1944,"":1945,"":1946,"":1962,"":1963,"":1964,"":1965,"":1966,"":1967,"":1968,"":1969,"":1970,"":1971,"":1972,"":1973,"":2061,"":2062,"":2063,"":2067,"":2068,"":2069,"":2070,"":2075,"":2076,"":2078,"":2079,"":2081,"":2084,"":2085,"":2086,"":2088,"":2090,"":2092,"":2094,"":2095,"":2096,"":2098,"":2099,"":2100,"":2101,"":2103,"":2106,"":2108,"":2111,"":2115,"":2116,"":2117,"":2118,"":2124,"":2189,"":2219,"":2225,"":2228,"":2229,"":2230,"":2232,"":2234,"":2237,"":2240,"":2242,"":2243,"":2244,"":2246,"":2248,"":2250,"":2251,"":2259,"":2273,"":2274,"":2276,"":2281,"":2282,"":2287,"":2315,"":2330,"":2331,"":2332,"":2333,"":2334,"":2335,"":2337,"":1579,"":1590,"":1621,"":1639,"":1669,"":1699,"":1712,"":1736,"":1748,"":2138,"":2150,"":2163}},15848:(e,t)=>{"use strict";t.Z=void 0;t.Z=["","#️⃣","*️⃣","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","©️","®️","‼️","⁉️","™️","ℹ️","↔️","↕️","↖️","↗️","↘️","↙️","↩️","↪️","⌚","⌛","⌨️","⏏️","⏩","⏪","⏫","⏬","⏭️","⏮️","⏯️","⏰","⏱️","⏲️","⏳","⏸️","⏹️","⏺️","Ⓜ️","▪️","▫️","▶️","◀️","◻️","◼️","◽","◾","☀️","☁️","☂️","☃️","☄️","☎️","☑️","☔","☕","☘️","☝🏻","☝🏼","☝🏽","☝🏾","☝🏿","☝️","☠️","☢️","☣️","☦️","☪️","☮️","☯️","☸️","☹️","☺️","♀️","♂️","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","♟️","♠️","♣️","♥️","♦️","♨️","♻️","♾️","♿","⚒️","⚓","⚔️","⚕️","⚖️","⚗️","⚙️","⚛️","⚜️","⚠️","⚡","⚧️","⚪","⚫","⚰️","⚱️","⚽","⚾","⛄","⛅","⛈️","⛎","⛏️","⛑️","⛓️","⛔","⛩️","⛪","⛰️","⛱️","⛲","⛳","⛴️","⛵","⛷️","⛸️","⛹🏻‍♀️",["⛹🏻‍♂️","⛹🏻"],"⛹🏼‍♀️",["⛹🏼‍♂️","⛹🏼"],"⛹🏽‍♀️",["⛹🏽‍♂️","⛹🏽"],"⛹🏾‍♀️",["⛹🏾‍♂️","⛹🏾"],"⛹🏿‍♀️",["⛹🏿‍♂️","⛹🏿"],"⛹️","⛹️‍♀️","⛹️‍♂️","⛺","⛽","✂️","✅","✈️","✉️","✊","✊🏻","✊🏼","✊🏽","✊🏾","✊🏿","✋","✋🏻","✋🏼","✋🏽","✋🏾","✋🏿","✌🏻","✌🏼","✌🏽","✌🏾","✌🏿","✌️","✍🏻","✍🏼","✍🏽","✍🏾","✍🏿","✍️","✏️","✒️","✔️","✖️","✝️","✡️","✨","✳️","✴️","❄️","❇️","❌","❎","❓","❔","❕","❗","❣️","❤️","❤️‍🔥","❤️‍🩹","➕","➖","➗","➡️","➰","➿","⤴️","⤵️","⬅️","⬆️","⬇️","⬛","⬜","⭐","⭕","〰️","〽️","㊗️","㊙️","🀄","🃏","🅰️","🅱️","🅾️","🅿️","🆎","🆑","🆒","🆓","🆔","🆕","🆖","🆗","🆘","🆙","🆚","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇲","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇦🇿","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇷","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇾","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇦","🇪🇨","🇪🇪","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇪","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇰🇿","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇹","🇱🇺","🇱🇻","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇳","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇺","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇯","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇦","🇺🇬","🇺🇲","🇺🇳","🇺🇸","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼","🈁","🈂️","🈚","🈯","🈲","🈳","🈴","🈵","🈶","🈷️","🈸","🈹","🈺","🉐","🉑","🌀","🌁","🌂","🌃","🌄","🌅","🌆","🌇","🌈","🌉","🌊","🌋","🌌","🌍","🌎","🌏","🌐","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌝","🌞","🌟","🌠","🌡️","🌤️","🌥️","🌦️","🌧️","🌨️","🌩️","🌪️","🌫️","🌬️","🌭","🌮","🌯","🌰","🌱","🌲","🌳","🌴","🌵","🌶️","🌷","🌸","🌹","🌺","🌻","🌼","🌽","🌾","🌿","🍀","🍁","🍂","🍃","🍄","🍅","🍆","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🍎","🍏","🍐","🍑","🍒","🍓","🍔","🍕","🍖","🍗","🍘","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧","🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍶","🍷","🍸","🍹","🍺","🍻","🍼","🍽️","🍾","🍿","🎀","🎁","🎂","🎃","🎄","🎅","🎅🏻","🎅🏼","🎅🏽","🎅🏾","🎅🏿","🎆","🎇","🎈","🎉","🎊","🎋","🎌","🎍","🎎","🎏","🎐","🎑","🎒","🎓","🎖️","🎗️","🎙️","🎚️","🎛️","🎞️","🎟️","🎠","🎡","🎢","🎣","🎤","🎥","🎦","🎧","🎨","🎩","🎪","🎫","🎬","🎭","🎮","🎯","🎰","🎱","🎲","🎳","🎴","🎵","🎶","🎷","🎸","🎹","🎺","🎻","🎼","🎽","🎾","🎿","🏀","🏁","🏂","🏃","🏃‍♀️","🏃‍♂️","🏃🏻‍♀️",["🏃🏻‍♂️","🏃🏻"],"🏃🏼‍♀️",["🏃🏼‍♂️","🏃🏼"],"🏃🏽‍♀️",["🏃🏽‍♂️","🏃🏽"],"🏃🏾‍♀️",["🏃🏾‍♂️","🏃🏾"],"🏃🏿‍♀️",["🏃🏿‍♂️","🏃🏿"],"🏄","🏄‍♀️","🏄‍♂️","🏄🏻‍♀️",["🏄🏻‍♂️","🏄🏻"],"🏄🏼‍♀️",["🏄🏼‍♂️","🏄🏼"],"🏄🏽‍♀️",["🏄🏽‍♂️","🏄🏽"],"🏄🏾‍♀️",["🏄🏾‍♂️","🏄🏾"],"🏄🏿‍♀️",["🏄🏿‍♂️","🏄🏿"],"🏅","🏆","🏇","🏇🏻","🏇🏼","🏇🏽","🏇🏾","🏇🏿","🏈","🏉","🏊","🏊‍♀️","🏊‍♂️","🏊🏻‍♀️",["🏊🏻‍♂️","🏊🏻"],"🏊🏼‍♀️",["🏊🏼‍♂️","🏊🏼"],"🏊🏽‍♀️",["🏊🏽‍♂️","🏊🏽"],"🏊🏾‍♀️",["🏊🏾‍♂️","🏊🏾"],"🏊🏿‍♀️",["🏊🏿‍♂️","🏊🏿"],"🏋🏻‍♀️",["🏋🏻‍♂️","🏋🏻"],"🏋🏼‍♀️",["🏋🏼‍♂️","🏋🏼"],"🏋🏽‍♀️",["🏋🏽‍♂️","🏋🏽"],"🏋🏾‍♀️",["🏋🏾‍♂️","🏋🏾"],"🏋🏿‍♀️",["🏋🏿‍♂️","🏋🏿"],"🏋️‍♀️",["🏋️‍♂️","🏋️"],"🏌🏻‍♀️",["🏌🏻‍♂️","🏌🏻"],"🏌🏼‍♀️",["🏌🏼‍♂️","🏌🏼"],"🏌🏽‍♀️",["🏌🏽‍♂️","🏌🏽"],"🏌🏾‍♀️",["🏌🏾‍♂️","🏌🏾"],"🏌🏿‍♀️",["🏌🏿‍♂️","🏌🏿"],"🏌️","🏌️‍♀️","🏌️‍♂️","🏍️","🏎️","🏏","🏐","🏑","🏒","🏓","🏔️","🏕️","🏖️","🏗️","🏘️","🏙️","🏚️","🏛️","🏜️","🏝️","🏞️","🏟️","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏮","🏯","🏰","🏳‍🟧‍⬛‍🟧","🏳️","🏳️‍⚧️","🏳️‍🌈","🏴","🏴‍☠️","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🏴󠁵󠁳󠁴󠁸󠁿","🏵️","🏷️","🏸","🏹","🏺","🏻","🏼","🏽","🏾","🏿","🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐈‍⬛","🐉","🐊","🐋","🐌","🐍","🐎","🐏","🐐","🐑","🐒","🐓","🐔","🐕","🐕‍🦺","🐖","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞","🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐪","🐫","🐬","🐭","🐮","🐯","🐰","🐱","🐲","🐳","🐴","🐵","🐶","🐷","🐸","🐹","🐺","🐻","🐻‍❄️","🐼","🐽","🐾","🐿️","👀","👁️","👁️‍🗨️","👂","👂🏻","👂🏼","👂🏽","👂🏾","👂🏿","👃","👃🏻","👃🏼","👃🏽","👃🏾","👃🏿","👄","👅","👆","👆🏻","👆🏼","👆🏽","👆🏾","👆🏿","👇","👇🏻","👇🏼","👇🏽","👇🏾","👇🏿","👈","👈🏻","👈🏼","👈🏽","👈🏾","👈🏿","👉","👉🏻","👉🏼","👉🏽","👉🏾","👉🏿","👊","👊🏻","👊🏼","👊🏽","👊🏾","👊🏿","👋","👋🏻","👋🏼","👋🏽","👋🏾","👋🏿","👌","👌🏻","👌🏼","👌🏽","👌🏾","👌🏿","👍","👍🏻","👍🏼","👍🏽","👍🏾","👍🏿","👎","👎🏻","👎🏼","👎🏽","👎🏾","👎🏿","👏","👏🏻","👏🏼","👏🏽","👏🏾","👏🏿","👐","👐🏻","👐🏼","👐🏽","👐🏾","👐🏿","👑","👒","👓","👔","👕","👖","👗","👘","👙","👚","👛","👜","👝","👞","👟","👠","👡","👢","👣","👤","👥","👦","👦🏻","👦🏼","👦🏽","👦🏾","👦🏿","👧","👧🏻","👧🏼","👧🏽","👧🏾","👧🏿","👨","👨‍⚕️","👨‍⚖️","👨‍✈️","👨‍❤️‍👨","👨‍❤️‍💋‍👨","👨‍🌾","👨‍🍳","👨‍🍼","👨‍🎓","👨‍🎤","👨‍🎨","👨‍🏫","👨‍🏭","👨‍👦","👨‍👦‍👦","👨‍👧","👨‍👧‍👦","👨‍👧‍👧","👨‍👨‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👧‍👧","👨‍👩‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👧‍👧","👨‍💻","👨‍💼","👨‍🔧","👨‍🔬","👨‍🚀","👨‍🚒","👨‍🦯","👨‍🦰","👨‍🦱","👨‍🦲","👨‍🦳","👨‍🦼","👨‍🦽","👨🏻","👨🏻‍⚕️","👨🏻‍⚖️","👨🏻‍✈️","👨🏻‍❤️‍👨🏻","👨🏻‍❤️‍👨🏼","👨🏻‍❤️‍👨🏽","👨🏻‍❤️‍👨🏾","👨🏻‍❤️‍👨🏿","👨🏻‍❤️‍💋‍👨🏻","👨🏻‍❤️‍💋‍👨🏼","👨🏻‍❤️‍💋‍👨🏽","👨🏻‍❤️‍💋‍👨🏾","👨🏻‍❤️‍💋‍👨🏿","👨🏻‍🌾","👨🏻‍🍳","👨🏻‍🍼","👨🏻‍🎓","👨🏻‍🎤","👨🏻‍🎨","👨🏻‍🏫","👨🏻‍🏭","👨🏻‍💻","👨🏻‍💼","👨🏻‍🔧","👨🏻‍🔬","👨🏻‍🚀","👨🏻‍🚒","👨🏻‍🤝‍👨🏼","👨🏻‍🤝‍👨🏽","👨🏻‍🤝‍👨🏾","👨🏻‍🤝‍👨🏿","👨🏻‍🦯","👨🏻‍🦰","👨🏻‍🦱","👨🏻‍🦲","👨🏻‍🦳","👨🏻‍🦼","👨🏻‍🦽","👨🏼","👨🏼‍⚕️","👨🏼‍⚖️","👨🏼‍✈️","👨🏼‍❤️‍👨🏻","👨🏼‍❤️‍👨🏼","👨🏼‍❤️‍👨🏽","👨🏼‍❤️‍👨🏾","👨🏼‍❤️‍👨🏿","👨🏼‍❤️‍💋‍👨🏻","👨🏼‍❤️‍💋‍👨🏼","👨🏼‍❤️‍💋‍👨🏽","👨🏼‍❤️‍💋‍👨🏾","👨🏼‍❤️‍💋‍👨🏿","👨🏼‍🌾","👨🏼‍🍳","👨🏼‍🍼","👨🏼‍🎓","👨🏼‍🎤","👨🏼‍🎨","👨🏼‍🏫","👨🏼‍🏭","👨🏼‍💻","👨🏼‍💼","👨🏼‍🔧","👨🏼‍🔬","👨🏼‍🚀","👨🏼‍🚒","👨🏼‍🤝‍👨🏻","👨🏼‍🤝‍👨🏽","👨🏼‍🤝‍👨🏾","👨🏼‍🤝‍👨🏿","👨🏼‍🦯","👨🏼‍🦰","👨🏼‍🦱","👨🏼‍🦲","👨🏼‍🦳","👨🏼‍🦼","👨🏼‍🦽","👨🏽","👨🏽‍⚕️","👨🏽‍⚖️","👨🏽‍✈️","👨🏽‍❤️‍👨🏻","👨🏽‍❤️‍👨🏼","👨🏽‍❤️‍👨🏽","👨🏽‍❤️‍👨🏾","👨🏽‍❤️‍👨🏿","👨🏽‍❤️‍💋‍👨🏻","👨🏽‍❤️‍💋‍👨🏼","👨🏽‍❤️‍💋‍👨🏽","👨🏽‍❤️‍💋‍👨🏾","👨🏽‍❤️‍💋‍👨🏿","👨🏽‍🌾","👨🏽‍🍳","👨🏽‍🍼","👨🏽‍🎓","👨🏽‍🎤","👨🏽‍🎨","👨🏽‍🏫","👨🏽‍🏭","👨🏽‍💻","👨🏽‍💼","👨🏽‍🔧","👨🏽‍🔬","👨🏽‍🚀","👨🏽‍🚒","👨🏽‍🤝‍👨🏻","👨🏽‍🤝‍👨🏼","👨🏽‍🤝‍👨🏾","👨🏽‍🤝‍👨🏿","👨🏽‍🦯","👨🏽‍🦰","👨🏽‍🦱","👨🏽‍🦲","👨🏽‍🦳","👨🏽‍🦼","👨🏽‍🦽","👨🏾","👨🏾‍⚕️","👨🏾‍⚖️","👨🏾‍✈️","👨🏾‍❤️‍👨🏻","👨🏾‍❤️‍👨🏼","👨🏾‍❤️‍👨🏽","👨🏾‍❤️‍👨🏾","👨🏾‍❤️‍👨🏿","👨🏾‍❤️‍💋‍👨🏻","👨🏾‍❤️‍💋‍👨🏼","👨🏾‍❤️‍💋‍👨🏽","👨🏾‍❤️‍💋‍👨🏾","👨🏾‍❤️‍💋‍👨🏿","👨🏾‍🌾","👨🏾‍🍳","👨🏾‍🍼","👨🏾‍🎓","👨🏾‍🎤","👨🏾‍🎨","👨🏾‍🏫","👨🏾‍🏭","👨🏾‍💻","👨🏾‍💼","👨🏾‍🔧","👨🏾‍🔬","👨🏾‍🚀","👨🏾‍🚒","👨🏾‍🤝‍👨🏻","👨🏾‍🤝‍👨🏼","👨🏾‍🤝‍👨🏽","👨🏾‍🤝‍👨🏿","👨🏾‍🦯","👨🏾‍🦰","👨🏾‍🦱","👨🏾‍🦲","👨🏾‍🦳","👨🏾‍🦼","👨🏾‍🦽","👨🏿","👨🏿‍⚕️","👨🏿‍⚖️","👨🏿‍✈️","👨🏿‍❤️‍👨🏻","👨🏿‍❤️‍👨🏼","👨🏿‍❤️‍👨🏽","👨🏿‍❤️‍👨🏾","👨🏿‍❤️‍👨🏿","👨🏿‍❤️‍💋‍👨🏻","👨🏿‍❤️‍💋‍👨🏼","👨🏿‍❤️‍💋‍👨🏽","👨🏿‍❤️‍💋‍👨🏾","👨🏿‍❤️‍💋‍👨🏿","👨🏿‍🌾","👨🏿‍🍳","👨🏿‍🍼","👨🏿‍🎓","👨🏿‍🎤","👨🏿‍🎨","👨🏿‍🏫","👨🏿‍🏭","👨🏿‍💻","👨🏿‍💼","👨🏿‍🔧","👨🏿‍🔬","👨🏿‍🚀","👨🏿‍🚒","👨🏿‍🤝‍👨🏻","👨🏿‍🤝‍👨🏼","👨🏿‍🤝‍👨🏽","👨🏿‍🤝‍👨🏾","👨🏿‍🦯","👨🏿‍🦰","👨🏿‍🦱","👨🏿‍🦲","👨🏿‍🦳","👨🏿‍🦼","👨🏿‍🦽","👩","👩‍⚕️","👩‍⚖️","👩‍✈️","👩‍❤️‍👨","👩‍❤️‍👩","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍🌾","👩‍🍳","👩‍🍼","👩‍🎓","👩‍🎤","👩‍🎨","👩‍🏫","👩‍🏭","👩‍👦","👩‍👦‍👦","👩‍👧","👩‍👧‍👦","👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👧‍👧","👩‍💻","👩‍💼","👩‍🔧","👩‍🔬","👩‍🚀","👩‍🚒","👩‍🦯","👩‍🦰","👩‍🦱","👩‍🦲","👩‍🦳","👩‍🦼","👩‍🦽","👩🏻","👩🏻‍⚕️","👩🏻‍⚖️","👩🏻‍✈️","👩🏻‍❤️‍👨🏻","👩🏻‍❤️‍👨🏼","👩🏻‍❤️‍👨🏽","👩🏻‍❤️‍👨🏾","👩🏻‍❤️‍👨🏿","👩🏻‍❤️‍👩🏻","👩🏻‍❤️‍👩🏼","👩🏻‍❤️‍👩🏽","👩🏻‍❤️‍👩🏾","👩🏻‍❤️‍👩🏿","👩🏻‍❤️‍💋‍👨🏻","👩🏻‍❤️‍💋‍👨🏼","👩🏻‍❤️‍💋‍👨🏽","👩🏻‍❤️‍💋‍👨🏾","👩🏻‍❤️‍💋‍👨🏿","👩🏻‍❤️‍💋‍👩🏻","👩🏻‍❤️‍💋‍👩🏼","👩🏻‍❤️‍💋‍👩🏽","👩🏻‍❤️‍💋‍👩🏾","👩🏻‍❤️‍💋‍👩🏿","👩🏻‍🌾","👩🏻‍🍳","👩🏻‍🍼","👩🏻‍🎓","👩🏻‍🎤","👩🏻‍🎨","👩🏻‍🏫","👩🏻‍🏭","👩🏻‍💻","👩🏻‍💼","👩🏻‍🔧","👩🏻‍🔬","👩🏻‍🚀","👩🏻‍🚒","👩🏻‍🤝‍👨🏼","👩🏻‍🤝‍👨🏽","👩🏻‍🤝‍👨🏾","👩🏻‍🤝‍👨🏿","👩🏻‍🤝‍👩🏼","👩🏻‍🤝‍👩🏽","👩🏻‍🤝‍👩🏾","👩🏻‍🤝‍👩🏿","👩🏻‍🦯","👩🏻‍🦰","👩🏻‍🦱","👩🏻‍🦲","👩🏻‍🦳","👩🏻‍🦼","👩🏻‍🦽","👩🏼","👩🏼‍⚕️","👩🏼‍⚖️","👩🏼‍✈️","👩🏼‍❤️‍👨🏻","👩🏼‍❤️‍👨🏼","👩🏼‍❤️‍👨🏽","👩🏼‍❤️‍👨🏾","👩🏼‍❤️‍👨🏿","👩🏼‍❤️‍👩🏻","👩🏼‍❤️‍👩🏼","👩🏼‍❤️‍👩🏽","👩🏼‍❤️‍👩🏾","👩🏼‍❤️‍👩🏿","👩🏼‍❤️‍💋‍👨🏻","👩🏼‍❤️‍💋‍👨🏼","👩🏼‍❤️‍💋‍👨🏽","👩🏼‍❤️‍💋‍👨🏾","👩🏼‍❤️‍💋‍👨🏿","👩🏼‍❤️‍💋‍👩🏻","👩🏼‍❤️‍💋‍👩🏼","👩🏼‍❤️‍💋‍👩🏽","👩🏼‍❤️‍💋‍👩🏾","👩🏼‍❤️‍💋‍👩🏿","👩🏼‍🌾","👩🏼‍🍳","👩🏼‍🍼","👩🏼‍🎓","👩🏼‍🎤","👩🏼‍🎨","👩🏼‍🏫","👩🏼‍🏭","👩🏼‍💻","👩🏼‍💼","👩🏼‍🔧","👩🏼‍🔬","👩🏼‍🚀","👩🏼‍🚒","👩🏼‍🤝‍👨🏻","👩🏼‍🤝‍👨🏽","👩🏼‍🤝‍👨🏾","👩🏼‍🤝‍👨🏿","👩🏼‍🤝‍👩🏻","👩🏼‍🤝‍👩🏽","👩🏼‍🤝‍👩🏾","👩🏼‍🤝‍👩🏿","👩🏼‍🦯","👩🏼‍🦰","👩🏼‍🦱","👩🏼‍🦲","👩🏼‍🦳","👩🏼‍🦼","👩🏼‍🦽","👩🏽","👩🏽‍⚕️","👩🏽‍⚖️","👩🏽‍✈️","👩🏽‍❤️‍👨🏻","👩🏽‍❤️‍👨🏼","👩🏽‍❤️‍👨🏽","👩🏽‍❤️‍👨🏾","👩🏽‍❤️‍👨🏿","👩🏽‍❤️‍👩🏻","👩🏽‍❤️‍👩🏼","👩🏽‍❤️‍👩🏽","👩🏽‍❤️‍👩🏾","👩🏽‍❤️‍👩🏿","👩🏽‍❤️‍💋‍👨🏻","👩🏽‍❤️‍💋‍👨🏼","👩🏽‍❤️‍💋‍👨🏽","👩🏽‍❤️‍💋‍👨🏾","👩🏽‍❤️‍💋‍👨🏿","👩🏽‍❤️‍💋‍👩🏻","👩🏽‍❤️‍💋‍👩🏼","👩🏽‍❤️‍💋‍👩🏽","👩🏽‍❤️‍💋‍👩🏾","👩🏽‍❤️‍💋‍👩🏿","👩🏽‍🌾","👩🏽‍🍳","👩🏽‍🍼","👩🏽‍🎓","👩🏽‍🎤","👩🏽‍🎨","👩🏽‍🏫","👩🏽‍🏭","👩🏽‍💻","👩🏽‍💼","👩🏽‍🔧","👩🏽‍🔬","👩🏽‍🚀","👩🏽‍🚒","👩🏽‍🤝‍👨🏻","👩🏽‍🤝‍👨🏼","👩🏽‍🤝‍👨🏾","👩🏽‍🤝‍👨🏿","👩🏽‍🤝‍👩🏻","👩🏽‍🤝‍👩🏼","👩🏽‍🤝‍👩🏾","👩🏽‍🤝‍👩🏿","👩🏽‍🦯","👩🏽‍🦰","👩🏽‍🦱","👩🏽‍🦲","👩🏽‍🦳","👩🏽‍🦼","👩🏽‍🦽","👩🏾","👩🏾‍⚕️","👩🏾‍⚖️","👩🏾‍✈️","👩🏾‍❤️‍👨🏻","👩🏾‍❤️‍👨🏼","👩🏾‍❤️‍👨🏽","👩🏾‍❤️‍👨🏾","👩🏾‍❤️‍👨🏿","👩🏾‍❤️‍👩🏻","👩🏾‍❤️‍👩🏼","👩🏾‍❤️‍👩🏽","👩🏾‍❤️‍👩🏾","👩🏾‍❤️‍👩🏿","👩🏾‍❤️‍💋‍👨🏻","👩🏾‍❤️‍💋‍👨🏼","👩🏾‍❤️‍💋‍👨🏽","👩🏾‍❤️‍💋‍👨🏾","👩🏾‍❤️‍💋‍👨🏿","👩🏾‍❤️‍💋‍👩🏻","👩🏾‍❤️‍💋‍👩🏼","👩🏾‍❤️‍💋‍👩🏽","👩🏾‍❤️‍💋‍👩🏾","👩🏾‍❤️‍💋‍👩🏿","👩🏾‍🌾","👩🏾‍🍳","👩🏾‍🍼","👩🏾‍🎓","👩🏾‍🎤","👩🏾‍🎨","👩🏾‍🏫","👩🏾‍🏭","👩🏾‍💻","👩🏾‍💼","👩🏾‍🔧","👩🏾‍🔬","👩🏾‍🚀","👩🏾‍🚒","👩🏾‍🤝‍👨🏻","👩🏾‍🤝‍👨🏼","👩🏾‍🤝‍👨🏽","👩🏾‍🤝‍👨🏿","👩🏾‍🤝‍👩🏻","👩🏾‍🤝‍👩🏼","👩🏾‍🤝‍👩🏽","👩🏾‍🤝‍👩🏿","👩🏾‍🦯","👩🏾‍🦰","👩🏾‍🦱","👩🏾‍🦲","👩🏾‍🦳","👩🏾‍🦼","👩🏾‍🦽","👩🏿","👩🏿‍⚕️","👩🏿‍⚖️","👩🏿‍✈️","👩🏿‍❤️‍👨🏻","👩🏿‍❤️‍👨🏼","👩🏿‍❤️‍👨🏽","👩🏿‍❤️‍👨🏾","👩🏿‍❤️‍👨🏿","👩🏿‍❤️‍👩🏻","👩🏿‍❤️‍👩🏼","👩🏿‍❤️‍👩🏽","👩🏿‍❤️‍👩🏾","👩🏿‍❤️‍👩🏿","👩🏿‍❤️‍💋‍👨🏻","👩🏿‍❤️‍💋‍👨🏼","👩🏿‍❤️‍💋‍👨🏽","👩🏿‍❤️‍💋‍👨🏾","👩🏿‍❤️‍💋‍👨🏿","👩🏿‍❤️‍💋‍👩🏻","👩🏿‍❤️‍💋‍👩🏼","👩🏿‍❤️‍💋‍👩🏽","👩🏿‍❤️‍💋‍👩🏾","👩🏿‍❤️‍💋‍👩🏿","👩🏿‍🌾","👩🏿‍🍳","👩🏿‍🍼","👩🏿‍🎓","👩🏿‍🎤","👩🏿‍🎨","👩🏿‍🏫","👩🏿‍🏭","👩🏿‍💻","👩🏿‍💼","👩🏿‍🔧","👩🏿‍🔬","👩🏿‍🚀","👩🏿‍🚒","👩🏿‍🤝‍👨🏻","👩🏿‍🤝‍👨🏼","👩🏿‍🤝‍👨🏽","👩🏿‍🤝‍👨🏾","👩🏿‍🤝‍👩🏻","👩🏿‍🤝‍👩🏼","👩🏿‍🤝‍👩🏽","👩🏿‍🤝‍👩🏾","👩🏿‍🦯","👩🏿‍🦰","👩🏿‍🦱","👩🏿‍🦲","👩🏿‍🦳","👩🏿‍🦼","👩🏿‍🦽","👪","👫","👫🏻","👫🏼","👫🏽","👫🏾","👫🏿","👬","👬🏻","👬🏼","👬🏽","👬🏾","👬🏿","👭","👭🏻","👭🏼","👭🏽","👭🏾","👭🏿","👮‍♀️",["👮‍♂️","👮"],"👮🏻‍♀️",["👮🏻‍♂️","👮🏻"],"👮🏼‍♀️",["👮🏼‍♂️","👮🏼"],"👮🏽‍♀️",["👮🏽‍♂️","👮🏽"],"👮🏾‍♀️",["👮🏾‍♂️","👮🏾"],"👮🏿‍♀️",["👮🏿‍♂️","👮🏿"],["👯‍♀️","👯"],"👯‍♂️","👯🏻‍♀️","👯🏻‍♂️","👯🏼‍♀️","👯🏼‍♂️","👯🏽‍♀️","👯🏽‍♂️","👯🏾‍♀️","👯🏾‍♂️","👯🏿‍♀️","👯🏿‍♂️","👰","👰‍♀️","👰‍♂️","👰🏻","👰🏻‍♀️","👰🏻‍♂️","👰🏼","👰🏼‍♀️","👰🏼‍♂️","👰🏽","👰🏽‍♀️","👰🏽‍♂️","👰🏾","👰🏾‍♀️","👰🏾‍♂️","👰🏿","👰🏿‍♀️","👰🏿‍♂️","👱‍♀️",["👱‍♂️","👱"],"👱🏻‍♀️",["👱🏻‍♂️","👱🏻"],"👱🏼‍♀️",["👱🏼‍♂️","👱🏼"],"👱🏽‍♀️",["👱🏽‍♂️","👱🏽"],"👱🏾‍♀️",["👱🏾‍♂️","👱🏾"],"👱🏿‍♀️",["👱🏿‍♂️","👱🏿"],"👲","👲🏻","👲🏼","👲🏽","👲🏾","👲🏿","👳‍♀️",["👳‍♂️","👳"],"👳🏻‍♀️",["👳🏻‍♂️","👳🏻"],"👳🏼‍♀️",["👳🏼‍♂️","👳🏼"],"👳🏽‍♀️",["👳🏽‍♂️","👳🏽"],"👳🏾‍♀️",["👳🏾‍♂️","👳🏾"],"👳🏿‍♀️",["👳🏿‍♂️","👳🏿"],"👴","👴🏻","👴🏼","👴🏽","👴🏾","👴🏿","👵","👵🏻","👵🏼","👵🏽","👵🏾","👵🏿","👶","👶🏻","👶🏼","👶🏽","👶🏾","👶🏿","👷‍♀️",["👷‍♂️","👷"],"👷🏻‍♀️",["👷🏻‍♂️","👷🏻"],"👷🏼‍♀️",["👷🏼‍♂️","👷🏼"],"👷🏽‍♀️",["👷🏽‍♂️","👷🏽"],"👷🏾‍♀️",["👷🏾‍♂️","👷🏾"],"👷🏿‍♀️",["👷🏿‍♂️","👷🏿"],"👸","👸🏻","👸🏼","👸🏽","👸🏾","👸🏿","👹","👺","👻","👼","👼🏻","👼🏼","👼🏽","👼🏾","👼🏿","👽","👾","👿","💀",["💁‍♀️","💁"],"💁‍♂️",["💁🏻‍♀️","💁🏻"],"💁🏻‍♂️",["💁🏼‍♀️","💁🏼"],"💁🏼‍♂️",["💁🏽‍♀️","💁🏽"],"💁🏽‍♂️",["💁🏾‍♀️","💁🏾"],"💁🏾‍♂️",["💁🏿‍♀️","💁🏿"],"💁🏿‍♂️","💂‍♀️",["💂‍♂️","💂"],"💂🏻‍♀️",["💂🏻‍♂️","💂🏻"],"💂🏼‍♀️",["💂🏼‍♂️","💂🏼"],"💂🏽‍♀️",["💂🏽‍♂️","💂🏽"],"💂🏾‍♀️",["💂🏾‍♂️","💂🏾"],"💂🏿‍♀️",["💂🏿‍♂️","💂🏿"],"💃","💃🏻","💃🏼","💃🏽","💃🏾","💃🏿","💄","💅","💅🏻","💅🏼","💅🏽","💅🏾","💅🏿",["💆‍♀️","💆"],"💆‍♂️",["💆🏻‍♀️","💆🏻"],"💆🏻‍♂️",["💆🏼‍♀️","💆🏼"],"💆🏼‍♂️",["💆🏽‍♀️","💆🏽"],"💆🏽‍♂️",["💆🏾‍♀️","💆🏾"],"💆🏾‍♂️",["💆🏿‍♀️","💆🏿"],"💆🏿‍♂️",["💇‍♀️","💇"],"💇‍♂️",["💇🏻‍♀️","💇🏻"],"💇🏻‍♂️",["💇🏼‍♀️","💇🏼"],"💇🏼‍♂️",["💇🏽‍♀️","💇🏽"],"💇🏽‍♂️",["💇🏾‍♀️","💇🏾"],"💇🏾‍♂️",["💇🏿‍♀️","💇🏿"],"💇🏿‍♂️","💈","💉","💊","💋","💌","💍","💎","💏","💏🏻","💏🏼","💏🏽","💏🏾","💏🏿","💐","💑","💑🏻","💑🏼","💑🏽","💑🏾","💑🏿","💒","💓","💔","💕","💖","💗","💘","💙","💚","💛","💜","💝","💞","💟","💠","💡","💢","💣","💤","💥","💦","💧","💨","💩","💪","💪🏻","💪🏼","💪🏽","💪🏾","💪🏿","💫","💬","💭","💮","💯","💰","💱","💲","💳","💴","💵","💶","💷","💸","💹","💺","💻","💼","💽","💾","💿","📀","📁","📂","📃","📄","📅","📆","📇","📈","📉","📊","📋","📌","📍","📎","📏","📐","📑","📒","📓","📔","📕","📖","📗","📘","📙","📚","📛","📜","📝","📞","📟","📠","📡","📢","📣","📤","📥","📦","📧","📨","📩","📪","📫","📬","📭","📮","📯","📰","📱","📲","📳","📴","📵","📶","📷","📸","📹","📺","📻","📼","📽️","📿","🔀","🔁","🔂","🔃","🔄","🔅","🔆","🔇","🔈","🔉","🔊","🔋","🔌","🔍","🔎","🔏","🔐","🔑","🔒","🔓","🔔","🔕","🔖","🔗","🔘","🔙","🔚","🔛","🔜","🔝","🔞","🔟","🔠","🔡","🔢","🔣","🔤","🔥","🔦","🔧","🔨","🔩","🔪","🔫","🔬","🔭","🔮","🔯","🔰","🔱","🔲","🔳","🔴","🔵","🔶","🔷","🔸","🔹","🔺","🔻","🔼","🔽","🕉️","🕊️","🕋","🕌","🕍","🕎","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧","🕯️","🕰️","🕳️","🕴🏻","🕴🏼","🕴🏽","🕴🏾","🕴🏿","🕴️","🕵🏻‍♀️",["🕵🏻‍♂️","🕵🏻"],"🕵🏼‍♀️",["🕵🏼‍♂️","🕵🏼"],"🕵🏽‍♀️",["🕵🏽‍♂️","🕵🏽"],"🕵🏾‍♀️",["🕵🏾‍♂️","🕵🏾"],"🕵🏿‍♀️",["🕵🏿‍♂️","🕵🏿"],"🕵️‍♀️",["🕵️‍♂️","🕵️"],"🕶️","🕷️","🕸️","🕹️","🕺","🕺🏻","🕺🏼","🕺🏽","🕺🏾","🕺🏿","🖇️","🖊️","🖋️","🖌️","🖍️","🖐🏻","🖐🏼","🖐🏽","🖐🏾","🖐🏿","🖐️","🖕","🖕🏻","🖕🏼","🖕🏽","🖕🏾","🖕🏿","🖖","🖖🏻","🖖🏼","🖖🏽","🖖🏾","🖖🏿","🖤","🖥️","🖨️","🖱️","🖲️","🖼️","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","🗜️","🗝️","🗞️","🗡️","🗣️","🗨️","🗯️","🗳️","🗺️","🗻","🗼","🗽","🗾","🗿","😀","😁","😂","😃","😄","😅","😆","😇","😈","😉","😊","😋","😌","😍","😎","😏","😐","😑","😒","😓","😔","😕","😖","😗","😘","😙","😚","😛","😜","😝","😞","😟","😠","😡","😢","😣","😤","😥","😦","😧","😨","😩","😪","😫","😬","😭","😮","😮‍💨","😯","😰","😱","😲","😳","😴","😵","😵‍💫","😶","😶‍🌫️","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙁","🙂","🙃","🙄",["🙅‍♀️","🙅"],"🙅‍♂️",["🙅🏻‍♀️","🙅🏻"],"🙅🏻‍♂️",["🙅🏼‍♀️","🙅🏼"],"🙅🏼‍♂️",["🙅🏽‍♀️","🙅🏽"],"🙅🏽‍♂️",["🙅🏾‍♀️","🙅🏾"],"🙅🏾‍♂️",["🙅🏿‍♀️","🙅🏿"],"🙅🏿‍♂️",["🙆‍♀️","🙆"],"🙆‍♂️",["🙆🏻‍♀️","🙆🏻"],"🙆🏻‍♂️",["🙆🏼‍♀️","🙆🏼"],"🙆🏼‍♂️",["🙆🏽‍♀️","🙆🏽"],"🙆🏽‍♂️",["🙆🏾‍♀️","🙆🏾"],"🙆🏾‍♂️",["🙆🏿‍♀️","🙆🏿"],"🙆🏿‍♂️","🙇‍♀️",["🙇‍♂️","🙇"],"🙇🏻‍♀️",["🙇🏻‍♂️","🙇🏻"],"🙇🏼‍♀️",["🙇🏼‍♂️","🙇🏼"],"🙇🏽‍♀️",["🙇🏽‍♂️","🙇🏽"],"🙇🏾‍♀️",["🙇🏾‍♂️","🙇🏾"],"🙇🏿‍♀️",["🙇🏿‍♂️","🙇🏿"],"🙈","🙉","🙊",["🙋‍♀️","🙋"],"🙋‍♂️",["🙋🏻‍♀️","🙋🏻"],"🙋🏻‍♂️",["🙋🏼‍♀️","🙋🏼"],"🙋🏼‍♂️",["🙋🏽‍♀️","🙋🏽"],"🙋🏽‍♂️",["🙋🏾‍♀️","🙋🏾"],"🙋🏾‍♂️",["🙋🏿‍♀️","🙋🏿"],"🙋🏿‍♂️","🙌","🙌🏻","🙌🏼","🙌🏽","🙌🏾","🙌🏿",["🙍‍♀️","🙍"],"🙍‍♂️",["🙍🏻‍♀️","🙍🏻"],"🙍🏻‍♂️",["🙍🏼‍♀️","🙍🏼"],"🙍🏼‍♂️",["🙍🏽‍♀️","🙍🏽"],"🙍🏽‍♂️",["🙍🏾‍♀️","🙍🏾"],"🙍🏾‍♂️",["🙍🏿‍♀️","🙍🏿"],"🙍🏿‍♂️",["🙎‍♀️","🙎"],"🙎‍♂️",["🙎🏻‍♀️","🙎🏻"],"🙎🏻‍♂️",["🙎🏼‍♀️","🙎🏼"],"🙎🏼‍♂️",["🙎🏽‍♀️","🙎🏽"],"🙎🏽‍♂️",["🙎🏾‍♀️","🙎🏾"],"🙎🏾‍♂️",["🙎🏿‍♀️","🙎🏿"],"🙎🏿‍♂️","🙏","🙏🏻","🙏🏼","🙏🏽","🙏🏾","🙏🏿","🚀","🚁","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚋","🚌","🚍","🚎","🚏","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚢","🚣","🚣‍♀️","🚣‍♂️","🚣🏻‍♀️",["🚣🏻‍♂️","🚣🏻"],"🚣🏼‍♀️",["🚣🏼‍♂️","🚣🏼"],"🚣🏽‍♀️",["🚣🏽‍♂️","🚣🏽"],"🚣🏾‍♀️",["🚣🏾‍♂️","🚣🏾"],"🚣🏿‍♀️",["🚣🏿‍♂️","🚣🏿"],"🚤","🚥","🚦","🚧","🚨","🚩","🚪","🚫","🚬","🚭","🚮","🚯","🚰","🚱","🚲","🚳","🚴","🚴‍♀️","🚴‍♂️","🚴🏻‍♀️",["🚴🏻‍♂️","🚴🏻"],"🚴🏼‍♀️",["🚴🏼‍♂️","🚴🏼"],"🚴🏽‍♀️",["🚴🏽‍♂️","🚴🏽"],"🚴🏾‍♀️",["🚴🏾‍♂️","🚴🏾"],"🚴🏿‍♀️",["🚴🏿‍♂️","🚴🏿"],"🚵","🚵‍♀️","🚵‍♂️","🚵🏻‍♀️",["🚵🏻‍♂️","🚵🏻"],"🚵🏼‍♀️",["🚵🏼‍♂️","🚵🏼"],"🚵🏽‍♀️",["🚵🏽‍♂️","🚵🏽"],"🚵🏾‍♀️",["🚵🏾‍♂️","🚵🏾"],"🚵🏿‍♀️",["🚵🏿‍♂️","🚵🏿"],"🚶","🚶‍♀️","🚶‍♂️","🚶🏻‍♀️",["🚶🏻‍♂️","🚶🏻"],"🚶🏼‍♀️",["🚶🏼‍♂️","🚶🏼"],"🚶🏽‍♀️",["🚶🏽‍♂️","🚶🏽"],"🚶🏾‍♀️",["🚶🏾‍♂️","🚶🏾"],"🚶🏿‍♀️",["🚶🏿‍♂️","🚶🏿"],"🚷","🚸","🚹","🚺","🚻","🚼","🚽","🚾","🚿","🛀","🛀🏻","🛀🏼","🛀🏽","🛀🏾","🛀🏿","🛁","🛂","🛃","🛄","🛅","🛋️","🛌","🛌🏻","🛌🏼","🛌🏽","🛌🏾","🛌🏿","🛍️","🛎️","🛏️","🛐","🛑","🛒","🛕","🛖","🛗","🛝","🛞","🛟","🛠️","🛡️","🛢️","🛣️","🛤️","🛥️","🛩️","🛫","🛬","🛰️","🛳️","🛴","🛵","🛶","🛷","🛸","🛹","🛺","🛻","🛼","🟠","🟡","🟢","🟣","🟤","🟥","🟦","🟧","🟨","🟩","🟪","🟫","🟰","🤌","🤌🏻","🤌🏼","🤌🏽","🤌🏾","🤌🏿","🤍","🤎","🤏","🤏🏻","🤏🏼","🤏🏽","🤏🏾","🤏🏿","🤐","🤑","🤒","🤓","🤔","🤕","🤖","🤗","🤘","🤘🏻","🤘🏼","🤘🏽","🤘🏾","🤘🏿","🤙","🤙🏻","🤙🏼","🤙🏽","🤙🏾","🤙🏿","🤚","🤚🏻","🤚🏼","🤚🏽","🤚🏾","🤚🏿","🤛","🤛🏻","🤛🏼","🤛🏽","🤛🏾","🤛🏿","🤜","🤜🏻","🤜🏼","🤜🏽","🤜🏾","🤜🏿","🤝","🤝🏻","🤝🏼","🤝🏽","🤝🏾","🤝🏿","🤞","🤞🏻","🤞🏼","🤞🏽","🤞🏾","🤞🏿","🤟","🤟🏻","🤟🏼","🤟🏽","🤟🏾","🤟🏿","🤠","🤡","🤢","🤣","🤤","🤥","🤦‍♀️",["🤦‍♂️","🤦"],"🤦🏻‍♀️",["🤦🏻‍♂️","🤦🏻"],"🤦🏼‍♀️",["🤦🏼‍♂️","🤦🏼"],"🤦🏽‍♀️",["🤦🏽‍♂️","🤦🏽"],"🤦🏾‍♀️",["🤦🏾‍♂️","🤦🏾"],"🤦🏿‍♀️",["🤦🏿‍♂️","🤦🏿"],"🤧","🤨","🤩","🤪","🤫","🤬","🤭","🤮","🤯","🤰","🤰🏻","🤰🏼","🤰🏽","🤰🏾","🤰🏿","🤱","🤱🏻","🤱🏼","🤱🏽","🤱🏾","🤱🏿","🤲","🤲🏻","🤲🏼","🤲🏽","🤲🏾","🤲🏿","🤳","🤳🏻","🤳🏼","🤳🏽","🤳🏾","🤳🏿","🤴","🤴🏻","🤴🏼","🤴🏽","🤴🏾","🤴🏿","🤵","🤵‍♀️","🤵‍♂️","🤵🏻","🤵🏻‍♀️","🤵🏻‍♂️","🤵🏼","🤵🏼‍♀️","🤵🏼‍♂️","🤵🏽","🤵🏽‍♀️","🤵🏽‍♂️","🤵🏾","🤵🏾‍♀️","🤵🏾‍♂️","🤵🏿","🤵🏿‍♀️","🤵🏿‍♂️","🤶","🤶🏻","🤶🏼","🤶🏽","🤶🏾","🤶🏿",["🤷‍♀️","🤷"],"🤷‍♂️",["🤷🏻‍♀️","🤷🏻"],"🤷🏻‍♂️",["🤷🏼‍♀️","🤷🏼"],"🤷🏼‍♂️",["🤷🏽‍♀️","🤷🏽"],"🤷🏽‍♂️",["🤷🏾‍♀️","🤷🏾"],"🤷🏾‍♂️",["🤷🏿‍♀️","🤷🏿"],"🤷🏿‍♂️","🤸","🤸‍♀️","🤸‍♂️","🤸🏻‍♀️",["🤸🏻‍♂️","🤸🏻"],"🤸🏼‍♀️",["🤸🏼‍♂️","🤸🏼"],"🤸🏽‍♀️",["🤸🏽‍♂️","🤸🏽"],"🤸🏾‍♀️",["🤸🏾‍♂️","🤸🏾"],"🤸🏿‍♀️",["🤸🏿‍♂️","🤸🏿"],"🤹‍♀️",["🤹‍♂️","🤹"],"🤹🏻‍♀️",["🤹🏻‍♂️","🤹🏻"],"🤹🏼‍♀️",["🤹🏼‍♂️","🤹🏼"],"🤹🏽‍♀️",["🤹🏽‍♂️","🤹🏽"],"🤹🏾‍♀️",["🤹🏾‍♂️","🤹🏾"],"🤹🏿‍♀️",["🤹🏿‍♂️","🤹🏿"],"🤺","🤼","🤼‍♀️","🤼‍♂️","🤽","🤽‍♀️","🤽‍♂️","🤽🏻‍♀️",["🤽🏻‍♂️","🤽🏻"],"🤽🏼‍♀️",["🤽🏼‍♂️","🤽🏼"],"🤽🏽‍♀️",["🤽🏽‍♂️","🤽🏽"],"🤽🏾‍♀️",["🤽🏾‍♂️","🤽🏾"],"🤽🏿‍♀️",["🤽🏿‍♂️","🤽🏿"],"🤾","🤾‍♀️","🤾‍♂️",["🤾🏻‍♀️","🤾🏻"],"🤾🏻‍♂️",["🤾🏼‍♀️","🤾🏼"],"🤾🏼‍♂️",["🤾🏽‍♀️","🤾🏽"],"🤾🏽‍♂️",["🤾🏾‍♀️","🤾🏾"],"🤾🏾‍♂️",["🤾🏿‍♀️","🤾🏿"],"🤾🏿‍♂️","🤿","🥀","🥁","🥂","🥃","🥄","🥅","🥇","🥈","🥉","🥊","🥋","🥌","🥍","🥎","🥏","🥐","🥑","🥒","🥓","🥔","🥕","🥖","🥗","🥘","🥙","🥚","🥛","🥜","🥝","🥞","🥟","🥠","🥡","🥢","🥣","🥤","🥥","🥦","🥧","🥨","🥩","🥪","🥫","🥬","🥭","🥮","🥯","🥰","🥱","🥲","🥳","🥴","🥵","🥶","🥷","🥷🏻","🥷🏼","🥷🏽","🥷🏾","🥷🏿","🥸","🥹","🥺","🥻","🥼","🥽","🥾","🥿","🦀","🦁","🦂","🦃","🦄","🦅","🦆","🦇","🦈","🦉","🦊","🦋","🦌","🦍","🦎","🦏","🦐","🦑","🦒","🦓","🦔","🦕","🦖","🦗","🦘","🦙","🦚","🦛","🦜","🦝","🦞","🦟","🦠","🦡","🦢","🦣","🦤","🦥","🦦","🦧","🦨","🦩","🦪","🦫","🦬","🦭","🦮","🦯","🦴","🦵","🦵🏻","🦵🏼","🦵🏽","🦵🏾","🦵🏿","🦶","🦶🏻","🦶🏼","🦶🏽","🦶🏾","🦶🏿","🦷","🦸‍♀️","🦸‍♂️","🦸🏻‍♀️","🦸🏻‍♂️","🦸🏼‍♀️","🦸🏼‍♂️","🦸🏽‍♀️","🦸🏽‍♂️","🦸🏾‍♀️","🦸🏾‍♂️","🦸🏿‍♀️","🦸🏿‍♂️","🦹‍♀️","🦹‍♂️","🦹🏻‍♀️","🦹🏻‍♂️","🦹🏼‍♀️","🦹🏼‍♂️","🦹🏽‍♀️","🦹🏽‍♂️","🦹🏾‍♀️","🦹🏾‍♂️","🦹🏿‍♀️","🦹🏿‍♂️","🦺","🦻","🦻🏻","🦻🏼","🦻🏽","🦻🏾","🦻🏿","🦼","🦽","🦾","🦿","🧀","🧁","🧂","🧃","🧄","🧅","🧆","🧇","🧈","🧉","🧊","🧋","🧌","🧍","🧍‍♀️","🧍‍♂️","🧍🏻","🧍🏻‍♀️","🧍🏻‍♂️","🧍🏼","🧍🏼‍♀️","🧍🏼‍♂️","🧍🏽","🧍🏽‍♀️","🧍🏽‍♂️","🧍🏾","🧍🏾‍♀️","🧍🏾‍♂️","🧍🏿","🧍🏿‍♀️","🧍🏿‍♂️","🧎","🧎‍♀️","🧎‍♂️","🧎🏻","🧎🏻‍♀️","🧎🏻‍♂️","🧎🏼","🧎🏼‍♀️","🧎🏼‍♂️","🧎🏽","🧎🏽‍♀️","🧎🏽‍♂️","🧎🏾","🧎🏾‍♀️","🧎🏾‍♂️","🧎🏿","🧎🏿‍♀️","🧎🏿‍♂️","🧏","🧏‍♀️","🧏‍♂️","🧏🏻","🧏🏻‍♀️","🧏🏻‍♂️","🧏🏼","🧏🏼‍♀️","🧏🏼‍♂️","🧏🏽","🧏🏽‍♀️","🧏🏽‍♂️","🧏🏾","🧏🏾‍♀️","🧏🏾‍♂️","🧏🏿","🧏🏿‍♀️","🧏🏿‍♂️","🧐","🧑","🧑‍⚕️","🧑‍⚖️","🧑‍✈️","🧑‍🌾","🧑‍🍳","🧑‍🍼","🧑‍🎄","🧑‍🎓","🧑‍🎤","🧑‍🎨","🧑‍🏫","🧑‍🏭","🧑‍💻","🧑‍💼","🧑‍🔧","🧑‍🔬","🧑‍🚀","🧑‍🚒","🧑‍🤝‍🧑","🧑‍🦯","🧑‍🦰","🧑‍🦱","🧑‍🦲","🧑‍🦳","🧑‍🦼","🧑‍🦽","🧑🏻","🧑🏻‍⚕️","🧑🏻‍⚖️","🧑🏻‍✈️","🧑🏻‍❤️‍💋‍🧑🏼","🧑🏻‍❤️‍💋‍🧑🏽","🧑🏻‍❤️‍💋‍🧑🏾","🧑🏻‍❤️‍💋‍🧑🏿","🧑🏻‍❤️‍🧑🏼","🧑🏻‍❤️‍🧑🏽","🧑🏻‍❤️‍🧑🏾","🧑🏻‍❤️‍🧑🏿","🧑🏻‍🌾","🧑🏻‍🍳","🧑🏻‍🍼","🧑🏻‍🎄","🧑🏻‍🎓","🧑🏻‍🎤","🧑🏻‍🎨","🧑🏻‍🏫","🧑🏻‍🏭","🧑🏻‍💻","🧑🏻‍💼","🧑🏻‍🔧","🧑🏻‍🔬","🧑🏻‍🚀","🧑🏻‍🚒","🧑🏻‍🤝‍🧑🏻","🧑🏻‍🤝‍🧑🏼","🧑🏻‍🤝‍🧑🏽","🧑🏻‍🤝‍🧑🏾","🧑🏻‍🤝‍🧑🏿","🧑🏻‍🦯","🧑🏻‍🦰","🧑🏻‍🦱","🧑🏻‍🦲","🧑🏻‍🦳","🧑🏻‍🦼","🧑🏻‍🦽","🧑🏼","🧑🏼‍⚕️","🧑🏼‍⚖️","🧑🏼‍✈️","🧑🏼‍❤️‍💋‍🧑🏻","🧑🏼‍❤️‍💋‍🧑🏽","🧑🏼‍❤️‍💋‍🧑🏾","🧑🏼‍❤️‍💋‍🧑🏿","🧑🏼‍❤️‍🧑🏻","🧑🏼‍❤️‍🧑🏽","🧑🏼‍❤️‍🧑🏾","🧑🏼‍❤️‍🧑🏿","🧑🏼‍🌾","🧑🏼‍🍳","🧑🏼‍🍼","🧑🏼‍🎄","🧑🏼‍🎓","🧑🏼‍🎤","🧑🏼‍🎨","🧑🏼‍🏫","🧑🏼‍🏭","🧑🏼‍💻","🧑🏼‍💼","🧑🏼‍🔧","🧑🏼‍🔬","🧑🏼‍🚀","🧑🏼‍🚒","🧑🏼‍🤝‍🧑🏻","🧑🏼‍🤝‍🧑🏼","🧑🏼‍🤝‍🧑🏽","🧑🏼‍🤝‍🧑🏾","🧑🏼‍🤝‍🧑🏿","🧑🏼‍🦯","🧑🏼‍🦰","🧑🏼‍🦱","🧑🏼‍🦲","🧑🏼‍🦳","🧑🏼‍🦼","🧑🏼‍🦽","🧑🏽","🧑🏽‍⚕️","🧑🏽‍⚖️","🧑🏽‍✈️","🧑🏽‍❤️‍💋‍🧑🏻","🧑🏽‍❤️‍💋‍🧑🏼","🧑🏽‍❤️‍💋‍🧑🏾","🧑🏽‍❤️‍💋‍🧑🏿","🧑🏽‍❤️‍🧑🏻","🧑🏽‍❤️‍🧑🏼","🧑🏽‍❤️‍🧑🏾","🧑🏽‍❤️‍🧑🏿","🧑🏽‍🌾","🧑🏽‍🍳","🧑🏽‍🍼","🧑🏽‍🎄","🧑🏽‍🎓","🧑🏽‍🎤","🧑🏽‍🎨","🧑🏽‍🏫","🧑🏽‍🏭","🧑🏽‍💻","🧑🏽‍💼","🧑🏽‍🔧","🧑🏽‍🔬","🧑🏽‍🚀","🧑🏽‍🚒","🧑🏽‍🤝‍🧑🏻","🧑🏽‍🤝‍🧑🏼","🧑🏽‍🤝‍🧑🏽","🧑🏽‍🤝‍🧑🏾","🧑🏽‍🤝‍🧑🏿","🧑🏽‍🦯","🧑🏽‍🦰","🧑🏽‍🦱","🧑🏽‍🦲","🧑🏽‍🦳","🧑🏽‍🦼","🧑🏽‍🦽","🧑🏾","🧑🏾‍⚕️","🧑🏾‍⚖️","🧑🏾‍✈️","🧑🏾‍❤️‍💋‍🧑🏻","🧑🏾‍❤️‍💋‍🧑🏼","🧑🏾‍❤️‍💋‍🧑🏽","🧑🏾‍❤️‍💋‍🧑🏿","🧑🏾‍❤️‍🧑🏻","🧑🏾‍❤️‍🧑🏼","🧑🏾‍❤️‍🧑🏽","🧑🏾‍❤️‍🧑🏿","🧑🏾‍🌾","🧑🏾‍🍳","🧑🏾‍🍼","🧑🏾‍🎄","🧑🏾‍🎓","🧑🏾‍🎤","🧑🏾‍🎨","🧑🏾‍🏫","🧑🏾‍🏭","🧑🏾‍💻","🧑🏾‍💼","🧑🏾‍🔧","🧑🏾‍🔬","🧑🏾‍🚀","🧑🏾‍🚒","🧑🏾‍🤝‍🧑🏻","🧑🏾‍🤝‍🧑🏼","🧑🏾‍🤝‍🧑🏽","🧑🏾‍🤝‍🧑🏾","🧑🏾‍🤝‍🧑🏿","🧑🏾‍🦯","🧑🏾‍🦰","🧑🏾‍🦱","🧑🏾‍🦲","🧑🏾‍🦳","🧑🏾‍🦼","🧑🏾‍🦽","🧑🏿","🧑🏿‍⚕️","🧑🏿‍⚖️","🧑🏿‍✈️","🧑🏿‍❤️‍💋‍🧑🏻","🧑🏿‍❤️‍💋‍🧑🏼","🧑🏿‍❤️‍💋‍🧑🏽","🧑🏿‍❤️‍💋‍🧑🏾","🧑🏿‍❤️‍🧑🏻","🧑🏿‍❤️‍🧑🏼","🧑🏿‍❤️‍🧑🏽","🧑🏿‍❤️‍🧑🏾","🧑🏿‍🌾","🧑🏿‍🍳","🧑🏿‍🍼","🧑🏿‍🎄","🧑🏿‍🎓","🧑🏿‍🎤","🧑🏿‍🎨","🧑🏿‍🏫","🧑🏿‍🏭","🧑🏿‍💻","🧑🏿‍💼","🧑🏿‍🔧","🧑🏿‍🔬","🧑🏿‍🚀","🧑🏿‍🚒","🧑🏿‍🤝‍🧑🏻","🧑🏿‍🤝‍🧑🏼","🧑🏿‍🤝‍🧑🏽","🧑🏿‍🤝‍🧑🏾","🧑🏿‍🤝‍🧑🏿","🧑🏿‍🦯","🧑🏿‍🦰","🧑🏿‍🦱","🧑🏿‍🦲","🧑🏿‍🦳","🧑🏿‍🦼","🧑🏿‍🦽","🧒","🧒🏻","🧒🏼","🧒🏽","🧒🏾","🧒🏿","🧓","🧓🏻","🧓🏼","🧓🏽","🧓🏾","🧓🏿","🧔","🧔‍♀️","🧔🏻","🧔🏻‍♀️","🧔🏼","🧔🏼‍♀️","🧔🏽","🧔🏽‍♀️","🧔🏾","🧔🏾‍♀️","🧔🏿","🧔🏿‍♀️","🧕","🧕🏻","🧕🏼","🧕🏽","🧕🏾","🧕🏿","🧖","🧖‍♀️","🧖‍♂️","🧖🏻‍♀️",["🧖🏻‍♂️","🧖🏻"],"🧖🏼‍♀️",["🧖🏼‍♂️","🧖🏼"],"🧖🏽‍♀️",["🧖🏽‍♂️","🧖🏽"],"🧖🏾‍♀️",["🧖🏾‍♂️","🧖🏾"],"🧖🏿‍♀️",["🧖🏿‍♂️","🧖🏿"],"🧗","🧗‍♀️","🧗‍♂️",["🧗🏻‍♀️","🧗🏻"],"🧗🏻‍♂️",["🧗🏼‍♀️","🧗🏼"],"🧗🏼‍♂️",["🧗🏽‍♀️","🧗🏽"],"🧗🏽‍♂️",["🧗🏾‍♀️","🧗🏾"],"🧗🏾‍♂️",["🧗🏿‍♀️","🧗🏿"],"🧗🏿‍♂️","🧘","🧘‍♀️","🧘‍♂️",["🧘🏻‍♀️","🧘🏻"],"🧘🏻‍♂️",["🧘🏼‍♀️","🧘🏼"],"🧘🏼‍♂️",["🧘🏽‍♀️","🧘🏽"],"🧘🏽‍♂️",["🧘🏾‍♀️","🧘🏾"],"🧘🏾‍♂️",["🧘🏿‍♀️","🧘🏿"],"🧘🏿‍♂️",["🧙‍♀️","🧙"],"🧙‍♂️",["🧙🏻‍♀️","🧙🏻"],"🧙🏻‍♂️",["🧙🏼‍♀️","🧙🏼"],"🧙🏼‍♂️",["🧙🏽‍♀️","🧙🏽"],"🧙🏽‍♂️",["🧙🏾‍♀️","🧙🏾"],"🧙🏾‍♂️",["🧙🏿‍♀️","🧙🏿"],"🧙🏿‍♂️",["🧚‍♀️","🧚"],"🧚‍♂️",["🧚🏻‍♀️","🧚🏻"],"🧚🏻‍♂️",["🧚🏼‍♀️","🧚🏼"],"🧚🏼‍♂️",["🧚🏽‍♀️","🧚🏽"],"🧚🏽‍♂️",["🧚🏾‍♀️","🧚🏾"],"🧚🏾‍♂️",["🧚🏿‍♀️","🧚🏿"],"🧚🏿‍♂️",["🧛‍♀️","🧛"],"🧛‍♂️",["🧛🏻‍♀️","🧛🏻"],"🧛🏻‍♂️",["🧛🏼‍♀️","🧛🏼"],"🧛🏼‍♂️",["🧛🏽‍♀️","🧛🏽"],"🧛🏽‍♂️",["🧛🏾‍♀️","🧛🏾"],"🧛🏾‍♂️",["🧛🏿‍♀️","🧛🏿"],"🧛🏿‍♂️",["🧜‍♀️","🧜"],"🧜‍♂️",["🧜🏻‍♀️","🧜🏻"],"🧜🏻‍♂️",["🧜🏼‍♀️","🧜🏼"],"🧜🏼‍♂️",["🧜🏽‍♀️","🧜🏽"],"🧜🏽‍♂️",["🧜🏾‍♀️","🧜🏾"],"🧜🏾‍♂️",["🧜🏿‍♀️","🧜🏿"],"🧜🏿‍♂️","🧝‍♀️",["🧝‍♂️","🧝"],"🧝🏻‍♀️",["🧝🏻‍♂️","🧝🏻"],"🧝🏼‍♀️",["🧝🏼‍♂️","🧝🏼"],"🧝🏽‍♀️",["🧝🏽‍♂️","🧝🏽"],"🧝🏾‍♀️",["🧝🏾‍♂️","🧝🏾"],"🧝🏿‍♀️",["🧝🏿‍♂️","🧝🏿"],["🧞‍♀️","🧞"],"🧞‍♂️",["🧟‍♀️","🧟"],"🧟‍♂️","🧠","🧡","🧢","🧣","🧤","🧥","🧦","🧧","🧨","🧩","🧪","🧫","🧬","🧭","🧮","🧯","🧰","🧱","🧲","🧳","🧴","🧵","🧶","🧷","🧸","🧹","🧺","🧻","🧼","🧽","🧾","🧿","🩰","🩱","🩲","🩳","🩴","🩸","🩹","🩺","🩻","🩼","🪀","🪁","🪂","🪃","🪄","🪅","🪆","🪐","🪑","🪒","🪓","🪔","🪕","🪖","🪗","🪘","🪙","🪚","🪛","🪜","🪝","🪞","🪟","🪠","🪡","🪢","🪣","🪤","🪥","🪦","🪧","🪨","🪩","🪪","🪫","🪬","🪰","🪱","🪲","🪳","🪴","🪵","🪶","🪷","🪸","🪹","🪺","🫀","🫁","🫂","🫃","🫃🏻","🫃🏼","🫃🏽","🫃🏾","🫃🏿","🫄","🫄🏻","🫄🏼","🫄🏽","🫄🏾","🫄🏿","🫅","🫅🏻","🫅🏼","🫅🏽","🫅🏾","🫅🏿","🫐","🫑","🫒","🫓","🫔","🫕","🫖","🫗","🫘","🫙","🫠","🫡","🫢","🫣","🫤","🫥","🫦","🫧","🫰","🫰🏻","🫰🏼","🫰🏽","🫰🏾","🫰🏿","🫱","🫱🏻","🫱🏻‍🫲🏼","🫱🏻‍🫲🏽","🫱🏻‍🫲🏾","🫱🏻‍🫲🏿","🫱🏼","🫱🏼‍🫲🏻","🫱🏼‍🫲🏽","🫱🏼‍🫲🏾","🫱🏼‍🫲🏿","🫱🏽","🫱🏽‍🫲🏻","🫱🏽‍🫲🏼","🫱🏽‍🫲🏾","🫱🏽‍🫲🏿","🫱🏾","🫱🏾‍🫲🏻","🫱🏾‍🫲🏼","🫱🏾‍🫲🏽","🫱🏾‍🫲🏿","🫱🏿","🫱🏿‍🫲🏻","🫱🏿‍🫲🏼","🫱🏿‍🫲🏽","🫱🏿‍🫲🏾","🫲","🫲🏻","🫲🏼","🫲🏽","🫲🏾","🫲🏿","🫳","🫳🏻","🫳🏼","🫳🏽","🫳🏾","🫳🏿","🫴","🫴🏻","🫴🏼","🫴🏽","🫴🏾","🫴🏿","🫵","🫵🏻","🫵🏼","🫵🏽","🫵🏾","🫵🏿","🫶","🫶🏻","🫶🏼","🫶🏽","🫶🏾","🫶🏿"]},17136:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,c.emojiSearch)(e,(0,l.default)(g,"Emoji Trie expected to be loaded."))};var r=a(n(48926)),i=a(n(44908)),o=a(n(13752)),s=n(80284),l=a(n(45095)),u=n(13959),d=n(4352),c=n(86379),f=a(n(14296)),h=n(8080),p=a(n(35609));const m=new Set(["ar","bn","cs","de","en","es","fa","fr","gu","he","hi","hu","id","it","mr","ms","nl","pl","pt","pt-BR","ro","ru","sk","th","tr","uk","ur","zh-CN","zh-TW","zh-HK"]);let g=null;let _=null,v=[];function b(){const e=(0,i.default)(["en",f.default.getLocale()]).filter((e=>m.has(e)));if((0,o.default)(v,e))return;v=e;const t=Promise.all(e.map((e=>function(e){return(0,d.promiseLoop)(function(){var t=(0,r.default)((function*(t,a,r){const i=(0,u.delayMs)((0,s.expBackoff)(r,12e4,1e3,.1));let o=yield n(26299)(`./${e}`);try{const[,,e]=yield o.default();return t(e)}catch(e){return i}}));return function(){return t.apply(this,arguments)}}()).catch((()=>({})))}(e)))).then((e=>{_===t&&(g=(0,c.emojiLocaleDictsToTrie)(e))})).catch((()=>{})).finally((()=>{_===t&&(_=null)}));_=t}f.default.on("locale_change",(()=>{b()})),(0,p.default)(h.Stream,"change:mode",(()=>h.Stream.mode===h.StreamMode.MAIN)).then((()=>{b()}))},86379:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.emojiLocaleDictsToTrie=function(e){let t=e[0];e.length>1&&(t=(0,r.default)((0,r.default)({},t),e[1]));return function(e,t){const n=h.default.fromForwardsStrings(e.map((e=>e[t])),e);return{getMatches:e=>n.search(e)}}((0,i.default)(t,((e,t)=>{const n=t.toLowerCase(),a=n.substring(0,5);return{value:e,keyword:n,shortKeyword:a}})),"shortKeyword")},t.emojiSearch=function(e,t){let n=[];if(e){const a=function(e,t){const n=function(e,t){if(!t)return[];if(e.length<=5)return t.getMatches(e);const n=e.substring(0,5).trim();let a=t.getMatches(n);return a=(0,d.default)(a,(t=>t.keyword.startsWith(e))),a}(e,t),a=_((0,u.default)(n,(e=>e.value))),r=_((0,u.default)(n.filter((t=>t.keyword===e)),(e=>e.value))),i=(0,l.default)(_(p.RecentEmojiCollection.map((e=>e.id))),a),o=(0,l.default)(_(m),a),c=(0,l.default)((0,s.default)(i,o),r);return(0,s.default)(c,b(r),i,o,b(a))}(e.toLowerCase(),t);n=(0,c.default)(a)}return n};var r=a(n(81109)),i=a(n(35161)),o=a(n(51463)),s=a(n(93386)),l=a(n(25325)),u=a(n(94654)),d=a(n(63105)),c=a(n(44908)),f=n(67247),h=a(n(55205)),p=n(92671);const m=["😂","🤣","❤","🥺","🥰","😘","😭","😍","😁","🙏","😅","😆","😊","🙂","😔","🥳","😒","☺","🎂","👍","💖","😢","🙄","😏","😎","💋","😞","😉","👏","🙃","😡","😀","😄","😇","🤩","😌","🤔","🌹","😋","💗","🤗","💕","💔","😚","☹","😃","🎉","🔥","🥴","😳"],g=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS","VARIATION"];function _(e){return e.map(f.EmojiUtil.normalizeEmoji).filter(Boolean)}const v=(0,o.default)((()=>{const e=new Map;let t=0;for(const n of g){const a=f.EmojiUtil.getEmojisInCategory(n);for(const n of a)e.set(n,t),t++}return e}));function b(e){const t=v();return[...e].sort(((e,n)=>{var a,r;return(null!==(a=t.get(e))&&void 0!==a?a:Number.MAX_SAFE_INTEGER)-(null!==(r=t.get(n))&&void 0!==r?r:Number.MAX_SAFE_INTEGER)}))}},16876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e===i)return;i=e;const[t,o,s]=e===a.EMOJI_TYPE.APPLE?[n(73743).Z,n(62019).Z,n(66035).default]:[n(15848).Z,n(68048).Z,n(67262).Z];r.EmojiUtil.configure({emojiType:e,orderedEmojis:t,legacyToEmoji:o,categorizedEmojis:s})};var a=n(13045),r=n(67247);let i},61585:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OpenChatFlow=void 0,t.clearChatIdCorrectionCache=function(){x.clear()};var i=r(n(48926)),o=n(89385),s=n(13959),l=n(81572),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(95726)),d=r(n(79264)),c=n(78820),f=n(48360),h=n(88172),p=r(n(52665)),m=n(50101),g=r(n(32973)),_=n(5956),v=r(n(14296)),b=r(n(13702)),y=n(57547),C=n(11054),S=n(85893);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const x=new Map;function T(){return(T=(0,i.default)((function*(e){if(!e.isUser())return e;const t=x.get(e.user);if(t)return t;const n=yield(0,y.queryExists)(e),a=null==n?e:n.wid;return x.set(e.user,a),a}))).apply(this,arguments)}class M extends g.default{constructor(){super(...arguments),this._cancel=()=>{this._queryChat&&this._queryChat.controller.abort(),this._queryChat=void 0,this.end()},this.error=()=>{this.push((0,S.jsx)(p.default,{onOK:()=>this.end(),okText:f.fbt._("OK",null,{hk:"2KEeHb"}),children:v.default.t(482)}))}}componentDidMount(){var e=this;return(0,i.default)((function*(){let t=!1;const n=new a;(0,s.delayMs)(250).then((()=>{if(n.signal.aborted)throw new o.AbortError;t=!0,e.push((0,S.jsx)(p.default,{title:f.fbt._("Starting chat",null,{hk:"NHBK3"}),onCancel:e._cancel,cancelText:f.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,S.jsx)("div",{className:b.default.spinner,children:(0,S.jsx)(C.Spinner,{stroke:6,size:24})})}))})).catch((0,o.catchAbort)((()=>{})));const r=Date.now(),l=new a,u=l.signal,c=yield e.getChatWid();if(null==c){const{fallbackURL:t}=e.props;return null!=t&&d.default.open(t),void e.end()}const h=function(){return T.apply(this,arguments)}(c).then((e=>(0,m.findChat)(e,!0))).then(function(){var a=(0,i.default)((function*(a){if(u.aborted)throw new o.AbortError;t||n.abort();const i=Date.now()-r,l=t?Math.max(750-i,0):0;e.openChat(a),yield(0,s.delayMs)(l),e.end(),e.props.onSuccess(a)}));return function(){return a.apply(this,arguments)}}()).catch((0,o.catchAbort)((()=>{}))).catch((()=>{n.abort(),e.error()}));e._queryChat={controller:l,promise:h}}))()}getChatWid(){var e=this;return(0,i.default)((function*(){const{chatId:t,customURL:n}=e.props;if(null!=t)return t;if(null!=n){return yield(0,_.getWidfromPath)(n)}__LOG__(4,void 0,new Error)`OpenChatFlow chatWid couldn't be created from provided props.`}))()}openChat(e){let{msgText:t,ctwaContextLinkData:n}=this.props;if(n){const e=u.findLink(n.sourceUrl||"",!1,(0,c.getMaybeMeUser)());(null==e?void 0:e.suspiciousCharacters)&&e.suspiciousCharacters.size>0&&(n=null)}n&&(t=n.icebreaker),e.active&&t?(h.ComposeBoxActions.paste(e,t),n&&h.ComposeBoxActions.setCtwaContextLinkData(e,n)):(t&&e.setComposeContents({text:t}),l.Cmd.openChatFromUnread(e).then((t=>{t&&(h.ComposeBoxActions.focus(e),n&&h.ComposeBoxActions.setCtwaContextLinkData(e,n))}))),null!=this.props.sendLogAttributes&&h.ComposeBoxActions.addMsgSendingLogAttributes(e,this.props.sendLogAttributes)}}t.OpenChatFlow=M,M.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},53991:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PollDetailsFlow=function(e){const{msg:t}=e,[n,a]=(0,o.useFlow)(d.Details),[c,f]=(0,i.useState)(null);if(null==a.step)return null;let h;switch(a.step){case d.Details:h=(0,u.jsx)(s.PollDetailsDrawer,{msg:t,onClose:()=>{a.pop()},onViewAllVotes:e=>{f(e),a.push(d.ViewAll)}});break;case d.ViewAll:h=(0,u.jsx)(l.PollViewAllVotesDrawer,{msg:t,optionLocalId:(0,r.default)(c,"activeOptionLocalId"),onBack:()=>{a.pop()}})}return(0,u.jsx)(n,{flow:a,children:h})};var r=a(n(45095)),i=n(67294),o=n(59083),s=n(13043),l=n(39870),u=n(85893);const d=n(76672).Mirrored(["Details","ViewAll"])},68706:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(70735)),o=n(92574),s=n(94816),l=n(45454),u=n(48360),d=n(19380),c=a(n(32973)),f=a(n(14296)),h=n(61319),p=n(56728),m=n(18963),g=n(94646),_=n(39434),v=n(50452),b=n(85893);function y(e){switch(e){case"about":return u.fbt._("Hide About from...",null,{hk:"1MC2Uy"});case"profilePicture":return u.fbt._("Hide Profile photo from...",null,{hk:"1j0ovi"});case"lastSeen":return u.fbt._("Hide Last seen from...",null,{hk:"1bZFrJ"});case"groupAdd":return u.fbt._("My contacts except...",null,{hk:"2tCWPL"})}}class C extends c.default{constructor(){var e;super(...arguments),e=this,this._excludedContacts=[],this._handleConfirm=function(){var t=(0,r.default)((function*(t,n){const a=e._excludedContacts.map((e=>e.id)),r=t.map((e=>e.id)),l=[...(0,i.default)(r,a,(e=>e.toString())).map((e=>({action:g.PrivacyUserAction.Add,wid:e}))),...(0,i.default)(a,r,(e=>e.toString())).map((e=>({action:g.PrivacyUserAction.Remove,wid:e})))],d=(0,_.privacyWebNameToServerName)(e.props.category);if("readreceipts"===d)throw new Error("select_contacts_except_flow: name can not be readreceipts");try{yield(0,_.setPrivacyForOneCategory)({value:"contact_blacklist",users:l,dhash:n,name:d},r),e.props.onConfirm()}catch(e){e instanceof o.ServerStatusCodeError&&409===e.statusCode||(__LOG__(3,void 0,void 0,!0)`select_contacts_except_flow: set visiblity option failed ${e.stack}`,SEND_LOGS("select_contacts_except_flow: set visiblity option failed")),s.ToastManager.open((0,b.jsx)(v.Toast,{id:(0,v.genId)(),msg:u.fbt._("Failed to update privacy settings. Please try again.",null,{hk:"h89q3"})}))}e.pop()}));return function(){return t.apply(this,arguments)}}()}componentDidMount(){this._pushSelectModalToFlow()}_pushSelectModalToFlow(){var e=this;return(0,r.default)((function*(){const{category:t}=e.props;let n=null;try{const a=yield(0,h.getTable)().get(function(e){switch(e){case"about":return h.PrivacyDisallowedListType.About;case"profilePicture":return h.PrivacyDisallowedListType.ProfilePicture;case"lastSeen":return h.PrivacyDisallowedListType.LastSeen;case"groupAdd":return h.PrivacyDisallowedListType.GroupAdd}}(t));null!=a&&(e._excludedContacts=a.disallowedList.map((e=>d.ContactCollection.gadd((0,l.createWid)(e)))),n=a.dhash)}catch(t){return __LOG__(4,void 0,new Error,!0)`error: ${String(t.stack)}`,SEND_LOGS("SelectContactsExceptFlow:failed to get privacyDisallowedList"),s.ToastManager.open((0,b.jsx)(v.Toast,{id:(0,v.genId)(),msg:u.fbt._("Failed to get contacts except list. Please try again.",null,{hk:"1OErrO"})})),void e.pop()}const a=new Set(e._excludedContacts.map((e=>e.id.toString())));e.push((0,b.jsx)(p.SelectModal,{title:y(t),onCancel:()=>e.pop(),onConfirm:t=>{e._handleConfirm(t,n)},getInitialItems:()=>e._excludedContacts,listType:p.ListType.CONTACT_SELECT_MODAL,maxItems:64e3,singleSelectionFooterType:m.FooterType.CONFIRM,multipleSelectionFooterType:m.FooterType.CONFIRM,useAllContacts:!0,filter:e=>a.has(e.id.toString())||d.ContactCollection.isFilteredContact(e),getSelectionSummary:S,enableSelectAll:!0,activeWithoutSelection:!0}))}))()}}function S(e){const t=e.length;return f.default.t(545,{count:t,_plural:t})}t.default=C},10121:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(32973)),i=a(n(61752)),o=n(85893);class s extends r.default{constructor(){super(...arguments),this.closeStatusViewer=()=>{this.end()}}componentDidMount(){this.push((0,o.jsx)(i.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}t.default=s},74331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UntrustedGroupDesc=t.TrustedGroupDesc=t.StatusV3Text=t.StatusV3Caption=t.SearchName=t.Search=t.RawNotification=t.RawGroupNotification=t.QuotedMention=t.QuickReply=t.LastMessage=t.LargeEmojiOnly=t.HeaderAndFooter=t.FormattedNotification=t.FormattedGroupNotification=t.Format=t.FTSMessage=t.EmojiOnly=t.Conversation=t.ComposeBox=t.Compatibility=t.BoldedContactName=void 0;n(10206);var a=n(8139),r=n(65375);t.EmojiOnly=function(){let{selectable:e,emojiXstyle:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Emoji,{selectable:e,emojiXstyle:t}]]]};t.LargeEmojiOnly=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Emoji,{selectable:e,size:"large"}]]]};t.StatusV3Text=function(){let{links:e,selectable:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:t}]],[[(0,a.statusV3LinkPreviewEnabled)()?r.StatusLink:r.Link,{links:e,selectable:t}]],[[r.Bold,{selectable:t}],[r.Italic,{selectable:t}],[r.Strikethrough,{selectable:t}]],[[r.Emoji,{selectable:t,size:"xlarge"}]]]};t.StatusV3Caption=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoji,{selectable:e}]]]};t.Compatibility=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Emoji,{selectable:e}]]]};t.Conversation=function(){let{mentions:e,links:t,phoneNumbers:n,selectable:i,trusted:o,fromMe:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=o&&(0,a.hyperlinkedPhoneNumbersEnabled)()&&n.length>0?[[r.PhoneNumber,{phoneNumbers:n,selectable:i,fromMe:s}]]:null;return[[[r.Code,{selectable:i}]],null,null,o?[[r.Link,{links:t,selectable:i}]]:null,e?[[r.Mention,{mentions:e,selectable:i}]]:null,null,l,[[r.Bold,{selectable:i}],[r.Italic,{selectable:i}],[r.Strikethrough,{selectable:i}]],[[r.Emoji,{selectable:i}]]].filter(Boolean)};t.Search=e=>{let{boundary:t,terms:n,selectable:a,mentions:i}=e;return[[[r.TextMention,{mentions:i,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Highlight,{terms:n,boundary:t,selectable:a,ignoreDiacritics:!0}]],[[r.Emoji,{selectable:a}]]]};t.SearchName=e=>{let{terms:t}=e;return[[[r.Highlight,{terms:t,ignoreDiacritics:!0}]],[[r.Emoji,{selectable:!1}]]]};t.LastMessage=function(){let{mentions:e,selectable:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:t}]],null,null,e?[[r.TextMention,{mentions:e,selectable:t}]]:null,[[r.Bold,{selectable:t}],[r.Italic,{selectable:t}],[r.Strikethrough,{selectable:t}]],[[r.Emoji,{selectable:t}]]].filter(Boolean)};t.FTSMessage=e=>{let{boundary:t,mentions:n,terms:a,selectable:i}=e;return[[[r.Code,{selectable:i}]],[[r.TextMention,{mentions:n,selectable:i}]],[[r.Bold,{selectable:i}],[r.Italic,{selectable:i}],[r.Strikethrough,{selectable:i}]],[[r.Highlight,{terms:a,boundary:t,selectable:i}]],[[r.Emoji,{selectable:i}]]]};t.QuickReply=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoji,{selectable:e}]]]};t.Format=e=>{let{mentions:t,selectable:n}=e;return[[[r.Code,{selectable:n}]],null,null,[[r.TextMention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]].filter(Boolean)};t.QuotedMention=e=>{let{mentions:t,selectable:n}=e;return[[[r.Code,{selectable:n}]],null,null,[[r.TextMention,{mentions:t,selectable:n,theme:{quoted:!0}}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]].filter(Boolean)};t.ComposeBox=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:e}]],[[r.Link,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoticon,{selectable:e}]]]};t.RawNotification=e=>{let{mentions:t,selectable:n}=e;return[[[r.RawMention,{mentions:t,selectable:n}]]]};t.FormattedNotification=e=>{let{mentions:t,selectable:n}=e;return[[[r.Code,{selectable:n}]],null,null,[[r.RawMention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]]].filter(Boolean)};t.RawGroupNotification=e=>{let{mentions:t,selectable:n,groupMetadata:a}=e;return[[[r.RawGroupMention,{mentions:t,selectable:n,groupMetadata:a}]]]};t.FormattedGroupNotification=e=>{let{mentions:t,selectable:n,groupMetadata:a}=e;return[[[r.Code,{selectable:n}]],null,null,[[r.RawGroupMention,{mentions:t,selectable:n,groupMetadata:a}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]]].filter(Boolean)};t.TrustedGroupDesc=e=>{let{links:t}=e;const n=!0;return[[[r.Code,{selectable:n}]],[[r.Link,{links:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],null,[[r.Emoji,{selectable:n}]]].filter(Boolean)};t.UntrustedGroupDesc=()=>{const e=!0;return[[[r.Code,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],null,[[r.Emoji,{selectable:e}]]].filter(Boolean)};t.HeaderAndFooter=function(){let{links:e,selectable:t,trusted:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[n?[[r.Link,{links:e,selectable:t}]]:null,[[r.Emoji,{selectable:t}]]].filter(Boolean)};t.BoldedContactName=e=>{let{selectable:t}=e;return[[[r.BoldFirstWord,{selectable:t}]],[[r.Emoji,{selectable:t}]]]}},13699:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.RICH_TEXT)?(0,i.default)(e,l,s.default):e};var r=n(38184),i=a(n(80691)),o=n(30695),s=a(n(37848));const l=o.Configuration.ComposeBox()},80691:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;return(0,i.default)(n,(0,r.parse)(e,t,o),a)};var r=n(35303),i=a(n(21659))},69188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){const a=2*e.length+t[1].length,r=t[0].length-a;return r>0&&(t.index+=r,t[0]=t[0].slice(r)),n.lastIndex--,t}}},9412:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableHeaderAndFooterFormatting=function(e,t){return{formatters:(0,a.HeaderAndFooter)({links:e,selectable:!0,trusted:t}),selectable:!0}};var a=n(74331)},52084:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return class extends i.default{static match(a){return(0,r.default)(a,e,t,n)}}};var r=a(n(44512)),i=a(n(94718))},27229:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{index:n}=e,[a]=e,r=n+a.length-1,i=[n,n,r,r,e];if(t){const r=e[t];i[1]=n+a.indexOf(r),i[2]=i[1]+r.length-1}return i}},44512:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;const i=[];let o;t.lastIndex=0;for(;(o=t.exec(e))&&t.lastIndex>0;)a&&(o=a(o,t)),o&&i.push((0,r.default)(o,n));return i};var r=a(n(27229))},30695:(e,t,n)=>{"use strict";function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;const r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(74331));t.Configuration=r},57130:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;let{stripFormatting:a=!0,formatAsLastMsg:u=!1,formatAsSearchResult:f=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const S=e.safe();if((0,o.isMDBackend)()&&e.mdDowngrade&&u)return c.fbt._("This message couldn’t be delivered",null,{hk:"9jfod"});switch(S.type){case P.BUTTONS_RESPONSE:case P.TEMPLATE_BUTTON_REPLY:case P.HSM:return a?(0,k.default)(e,e.body):e.body;case P.CIPHERTEXT:return"fanout"===e.subtype?c.fbt._("Waiting for this message. Check your phone.",null,{hk:"3bM8te"}):T.default.t(543);case P.REVOKED:return(0,E.formatRevokedMsg)(S).toString();case P.CHAT:if(e.isFromTemplate)return e.title?a?(0,k.default)(e,e.title+" "+e.body):"*"+e.title+"* "+e.body:a?(0,k.default)(e,e.body):e.body;if(e.isDynamicReplyButtonsMsg&&e.title){const t=j(e.body,e);if(null!=t)return a?(0,k.default)(e,e.title+"\n"+t):`*${e.title}*\n${t}`}return a?(0,k.default)(e,e.body):e.body;case P.IMAGE:if(S.isViewOnce)return(0,w.isViewed)(S)?c.fbt._("Opened",null,{hk:"4eZcUM"}):c.fbt._("Photo",null,{hk:"SBkDD"});const o=j(e.caption,e);return null!=o?a?(0,k.default)(e,o):o:T.default.t(714);case P.VIDEO:if(S.isViewOnce)return(0,w.isViewed)(S)?c.fbt._("Opened",null,{hk:"4eZcUM"}):c.fbt._("Video",null,{hk:"2SOGaJ"});const R=j(e.caption,e);return null!=R?a?(0,k.default)(e,R):R:e.isGif?"GIF":T.default.t(716);case P.STICKER:return c.fbt._("Sticker",null,{hk:"3gWjqH"});case P.PTT:const D=s.Clock.durationStr(e.duration);return D||T.default.t(717);case P.AUDIO:return T.default.t(710);case P.LOCATION:if(e.isFromTemplate||e.isDynamicReplyButtonsMsg){const t=j(e.caption,e);return null!=t?a?(0,k.default)(e,t):t:e.loc||T.default.t(715)}return e.isLive?e.comment||c.fbt._("Live location",null,{hk:"4hn7as"}):e.loc||T.default.t(715);case P.GROUP_NOTIFICATION:case P.GP2:return(0,_.default)(e,u);case P.BROADCAST_NOTIFICATION:return(0,h.default)(e);case P.NOTIFICATION:return e.body;case P.VCARD:return e.vcardFormattedName||T.default.t(711);case P.GROUPS_V4_INVITE:return c.fbt._("WhatsApp group invite",null,{hk:"Yox1t"});case P.MULTI_VCARD:return(0,d.getNameString)(e.vcardList);case P.DOCUMENT:if(e.isFromTemplate||e.isDynamicReplyButtonsMsg){const t=e.pageCount>0?T.default.t(712,{count:e.pageCount+"",_plural:e.pageCount}):null,n=j(e.caption,e);return null!=n?a?(0,k.default)(e,n):n:(0,r.default)([n||T.default.t(713),t]).join(" • ")}if(e.isVcardOverMmsDocument&&e.mediaData.parsedVcards)return O(e.mediaData.parsedVcards);const L=e.pageCount>0?T.default.t(712,{count:e.pageCount+"",_plural:e.pageCount}):null;return(0,r.default)([e.mediaData.filename||T.default.t(713),L]).join(" • ");case P.E2E_NOTIFICATION:return(0,m.default)(S);case P.CALL_LOG:return(0,p.default)(e,!1);case P.PRODUCT:const B=[e.text,e.caption,e.footer].filter(Boolean).join(" ");return B.length?a?(0,k.default)(e,B):B:c.fbt._("Product",null,{hk:"1H4J4r"});case P.OVERSIZED:return(0,C.formatOversizedMsgText)(e);case P.INTERACTIVE:return(0,v.formatInteractive)(e,{formatAsSearchResult:f});case P.INTERACTIVE_RESPONSE:return e.body||"";case P.UNKNOWN:return(0,x.formatUnknownMsgText)(e);case P.PAYMENT:return I(e);case P.NOTIFICATION_TEMPLATE:return(0,y.default)(e).toString();case P.PROTOCOL:return"ephemeral_setting"===e.subtype?(0,g.default)(e.ephemeralDuration||0,e.from,e.id.remote):"";case P.ORDER:return e.message||"";case P.LIST:var A,N;return(0,M.listMsgCanRender)(e)?[null===(A=e.list)||void 0===A?void 0:A.title,null===(N=e.list)||void 0===N?void 0:N.description,e.footer].filter(Boolean).join("\n"):(0,x.formatUnknownMsgText)(e);case P.LIST_RESPONSE:return`${(null===(t=e.listResponse)||void 0===t?void 0:t.title)||""} ${(null===(n=e.listResponse)||void 0===n?void 0:n.description)||""}`;case P.REACTION:return(0,l.sendReactionsEnabled)(),(0,x.formatUnknownMsgText)(e);case P.NATIVE_FLOW:return(0,b.formatNFMTextPreview)(e);case P.POLL_CREATION:return(0,l.isPollsReceivingEnabled)()?(0,i.default)(e.pollName,"msg.pollName"):(0,x.formatUnknownMsgText)(e);default:return""}};var r=a(n(39693)),i=a(n(45095)),o=n(88555),s=n(40234),l=n(8139),u=n(15461),d=n(93778),c=n(48360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(39519)),h=a(n(57733)),p=a(n(49763)),m=a(n(81412)),g=a(n(58688)),_=a(n(46953)),v=n(37899),b=n(63448),y=a(n(64650)),C=n(57196),S=n(2177),E=n(96206),x=n(10240),T=a(n(14296)),M=n(54676),k=a(n(60238)),w=n(84728);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const P=u.MSG_TYPE;function j(e,t){if(null==e)return null;const n=!0===t.isDynamicReplyButtonsMsg;return t.footer&&n?`${e}\n${t.footer}`:e}function I(e){var t,n;switch(e.subtype){case"ciphertext":return c.fbt._("Waiting for this payment message's note. This may take a while.",null,{hk:"4EzoLe"});case"futureproof":return c.fbt._("This payment message has a note but your version of WhatsApp doesn't support viewing it.",null,{hk:"2rWw9k"});case"send":const a=(null===(t=e.paymentNoteMsg)||void 0===t?void 0:t.body)?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?f.formatAmount1000(e.paymentCurrency,e.paymentAmount1000):c.fbt._("Payment",null,{hk:"96zjD"}).toString())+a;case"request":const r=(null===(n=e.paymentNoteMsg)||void 0===n?void 0:n.body)?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?f.formatAmount1000(e.paymentCurrency,e.paymentAmount1000):c.fbt._("Payment",null,{hk:"96zjD"}).toString())+r;case"invite":return(0,S.formatPaymentInviteMessageText)(e.id);default:return c.fbt._("Payment message. Open WhatsApp on your phone to view.",null,{hk:"3VcAwk"})}}function O(e){if(e.length>1){const t=e.map((e=>(0,d.vcardGetNameFromParsed)(e))).filter(Boolean);return(0,d.getNameStringFromNames)(t)}return(0,d.vcardGetNameFromParsed)(e[0])||T.default.t(139)}},57196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatOversizedMsgNotification=function(){return r.fbt._("This message can't be viewed in WhatsApp Web. View it on your phone instead.",null,{hk:"2Cf4Ej"})},t.formatOversizedMsgText=function(){return a.UA.isElectron?r.fbt._("This message can't be viewed in WhatsApp Desktop. View it on your phone instead.",null,{hk:"3rLTDP"}):r.fbt._("This message can't be viewed in WhatsApp Web. View it on your phone instead.",null,{hk:"2Cf4Ej"})};var a=n(26741),r=n(48360)},2177:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatPaymentInviteMessageText=function(e){const t=(0,i.default)(e.remote);if(e.fromMe)return r.default.t(804,{otherUser:t});return r.default.t(805,{otherUser:t})};var r=a(n(14296)),i=a(n(73977))},96206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRevokedMsg=function(e){var t;switch(null!==(t=e.subtype)&&void 0!==t?t:"sender"){case"sender":return e.isSentByMe?r.fbt._("You deleted this message",null,{hk:"E892D"}):r.fbt._("This message was deleted",null,{hk:"19qvYd"});case"admin":return e.isRevokedByMe?r.fbt._("You deleted this message as admin",null,{hk:"oMWPt"}):null==e.revokeSender?r.fbt._("This message was deleted by an admin",null,{hk:"28rFSm"}):r.fbt._("This message was deleted by admin {admin}",[r.fbt._param("admin",o(e.revokeSender))],{hk:"3Nu81j"})}};var a=n(62054),r=n(48360),i=n(19380);const o=e=>{const t=i.ContactCollection.get(e);return t?t.shortName||t.name||t.displayName:(0,a.widToFormattedUser)(e)}},10240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUnknownMsgNotification=function(e){switch(e.subtype){case"phone":return r.fbt._("You received a message, but your version of WhatsApp doesn't support it.",null,{hk:"3WD27"});case"phone_only_feature":return r.fbt._("This message can't be shown on WhatsApp Web. Open WhatsApp on your phone to view.",null,{hk:"FDBoF"});case"reaction":return r.fbt._("You received a reaction. Update your version of WhatsApp to see reactions.",null,{hk:"2TMRfc"});default:return r.fbt._("You received a message on your phone, but your version of WhatsApp Web doesn't support it.",null,{hk:"4mqP2W"})}},t.formatUnknownMsgText=function(e){if(e.isSentByMe)switch(e.type){case"reaction":return r.fbt._("You sent a reaction. Update your version of WhatsApp to see reactions.",null,{hk:"3In1kc"});default:switch(e.subtype){case"reaction":return r.fbt._("You sent a reaction. Update your version of WhatsApp to see reactions.",null,{hk:"3In1kc"});default:return r.fbt._("You sent a message from your phone, but your version of WhatsApp Web doesn't support it.",null,{hk:"4jbsbU"})}}switch(e.subtype){case"phone":return r.fbt._("You received a message, but your version of WhatsApp doesn't support it.",null,{hk:"3WD27"});case"phone_only_feature":return a.UA.isElectron?r.fbt._("This message can't be shown on WhatsApp Desktop. Open WhatsApp on your phone to view.",null,{hk:"1zBLXU"}):r.fbt._("This message can't be shown on WhatsApp Web. Open WhatsApp on your phone to view.",null,{hk:"FDBoF"});case"reaction":return r.fbt._("You received a reaction. Update your version of WhatsApp to see reactions.",null,{hk:"2TMRfc"});default:return a.UA.isElectron?r.fbt._("You received a message on your phone, but your version of WhatsApp Desktop doesn't support it.",null,{hk:"mhBjl"}):r.fbt._("You received a message on your phone, but your version of WhatsApp Web doesn't support it.",null,{hk:"4mqP2W"})}};var a=n(26741),r=n(48360)},94718:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n{static match(){throw new Error("Subclasses of `Mutator` must override `match()`")}static mutate(e){return e}}t.default=n,n.nestable=()=>!0,n.format=!0,n.fragment=!1,n.compatibility=!1,n.mutates=!1},38189:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(69188)),i=a(n(34357)),o=a(n(52084)),s=n(85893);const l=(0,r.default)("*"),u=(0,o.default)(/(?:^|[\s\W_])\*([^\s\u20e3]|[^\s\u20e3][^\n]*?\S)\*(?=$|[[\s\W_])/g,1,l);t.default=class extends u{static jsx(e,t,n){let{selectable:a=!1}=n;return(0,s.jsx)(i.default,{selectable:a,children:e})}}},39037:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(34357)),i=a(n(52084)),o=n(85893);const s=(0,i.default)(/^(\w*)\b/g);t.default=class extends s{static jsx(e,t,n){let{selectable:a=!1}=n;return(0,o.jsx)(r.default,{selectable:a,children:e})}}},4841:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.removeCodeBlocks=t.isInsideCodeBlock=t.Code=void 0;var r=a(n(87253)),i=a(n(52084)),o=n(85893);const s=/```([\s\S]*?\S[\s\S]*?)```/g,l=(0,i.default)(s,1),u=new Set(["ListItem","List"]);class d extends l{static jsx(e,t,n){let{selectable:a=!1}=n;return(0,o.jsx)(r.default,{selectable:a,children:e})}}t.Code=d,d.nestable=e=>u.has(e),d.format=!1;t.isInsideCodeBlock=e=>{const t=e.split(s).pop();return/```/.test(t)};t.removeCodeBlocks=e=>e.replace(s," ")},34357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(52596),r=n(85893);function i(e){let{children:t,selectable:n}=e;return(0,r.jsx)(a.SelectableStrong,{selectable:n,appTextTemplate:"*${appText}*",children:t})}i.defaultProps={children:""};var o=i;t.default=o},39147:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,theme:n,selectable:a}=e,f=(0,o.useModelValues)(e.contact,["id","displayName"]),h=f.id,p=!!n&&n.quoted,m=f.displayName,g=(0,r.dir)(m)||"auto",_=(0,l.default)(m,[[[s.default,{selectable:a}]]],u.default,void 0,1/0);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(d.SelectableSpan,{"data-jid":h.toString(),"data-display":m,className:(0,i.default)("matched-mention",{"quoted-mention":p,"inactive-mention":!t||p}),onClick:t,plainText:`@${m}`,selectable:a,selectAll:!0,appTextTemplate:`​${h.toString()}​`,children:[(0,c.jsx)("span",{className:"at-symbol",children:"@"}),(0,c.jsx)("span",{dir:g,children:_})]})})};var r=n(93131),i=a(n(94184)),o=n(35461),s=a(n(76781)),l=a(n(80691)),u=a(n(10577)),d=n(52596),c=n(85893)},87253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t="",selectable:n}=e;return(0,r.jsx)(a.SelectableCode,{selectable:n,appTextTemplate:"```${appText}```",children:t})};var a=n(52596),r=n(85893)},6859:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(84636)),i=n(73770),o=n(85893);t.default=e=>{let{emoji:t,selectable:n,size:a,xstyle:s}=e;return"xlarge"===a?(0,o.jsx)(i.LargeEmoji,{emoji:t,xstyle:s,size:i.SIZE.XLARGE,element:"span",selectable:n}):(0,o.jsx)(r.default,{emoji:t,xstyle:s,selectable:n,size:a})}},89442:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,theme:n,selectable:a}=e,h=(0,o.useModelValues)(e.contact,["id","displayName","shortName","isMyContact"]),p=(0,o.useModelValues)(e.groupMetadata,["uniqueShortNameMap"]),m=h.id,g=!!n&&n.quoted,_=(0,d.isDropLastNameEnabled)()&&p&&p.hasUniqueShortNameMention(h)?h.shortName:h.displayName,v=(0,r.dir)(_)||"auto",b=(0,l.default)(_,[[[s.default,{selectable:a}]]],u.default,void 0,1/0);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(c.SelectableSpan,{"data-jid":m.toString(),"data-display":_,className:(0,i.default)("matched-mention",{"quoted-mention":g,"inactive-mention":!t||g}),onClick:t,plainText:`@${_}`,selectable:a,selectAll:!0,appTextTemplate:`​${m.toString()}​`,children:[(0,f.jsx)("span",{className:"at-symbol",children:"@"}),(0,f.jsx)("span",{dir:v,children:b})]})})};var r=n(93131),i=a(n(94184)),o=n(35461),s=a(n(76781)),l=a(n(80691)),u=a(n(10577)),d=n(41566),c=n(52596),f=n(85893)},99697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(52596),r=n(85893);function i(e){let{children:t,selectable:n}=e;return(0,r.jsx)(a.SelectableSpan,{className:"matched-text",selectable:n,children:t})}i.defaultProps={children:""};var o=i;t.default=o},68730:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)(i.default,(0,r.default)((0,r.default)({},e),{},{children:e.children}))};var r=a(n(81109)),i=a(n(35150)),o=n(85893)},31117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(52596),r=n(85893);function i(e){let{children:t,selectable:n}=e;return(0,r.jsx)(a.SelectableEm,{selectable:n,appTextTemplate:"_${appText}_",children:t})}i.defaultProps={children:""};var o=i;t.default=o},35150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(52596),r=n(85893);function i(e){let{href:t,children:n,selectable:i}=e;return(0,r.jsx)(a.SelectableLink,{href:t,title:t,target:"_blank",rel:"noopener noreferrer",selectable:i,children:n})}i.defaultProps={children:""};var o=i;t.default=o},57770:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t="",inline:n,isAtStart:a,selectable:l}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.SelectableUl,{appTextTemplate:a?"${appText}":"\n${appText}",className:(0,r.default)({[i.default.inline]:n},i.default.ul),selectable:l,children:t})})};var r=a(n(94184)),i=a(n(91545)),o=n(52596),s=n(85893)},94296:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t="",inline:n,selectable:a}=e;return(0,s.jsx)("li",{className:(0,r.default)({[i.default.inline]:n}),children:(0,s.jsx)(o.SelectableSpan,{selectable:a,appTextTemplate:"* ${appText}",children:t})})};var r=a(n(94184)),i=a(n(89613)),o=n(52596),s=n(85893)},41013:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LongLink=function(e){let{link:t,children:n="",selectable:a}=e;return(0,u.jsx)(l.SelectableLink,{onClick:()=>{i.ModalManager.open((0,u.jsx)(s.LongLinkPopup,{link:t})),r.Cmd.openLongLinkModal()},selectable:a,className:(0,o.default)(d),children:n})};var r=n(81572),i=n(14597),o=a(n(56720)),s=n(21059),l=n(52596),u=n(85893);const d={cursor:"ajgl1lbb"}},42521:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{mentionMeta:t,theme:n,selectable:a}=e;return(0,i.jsx)(r.default,{contact:t.contact,theme:n,selectable:a})};var r=a(n(15775)),i=n(85893)},61154:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{phoneNumber:t,selectable:n,fromMe:a}=e;return(0,i.jsx)(r.default,{selectable:n,phoneNumber:t,fromMe:a})};var r=a(n(79505)),i=n(85893)},79505:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{selectable:t,phoneNumber:n,fromMe:a}=e;const[b,y]=(0,s.useState)(null),[C,S]=(0,s.useState)(null),[E,x]=(0,s.useState)(null);function T(e,t){const r=[];if(null==e?void 0:e.wid){const t=(0,i.formatPhone)(e.wid.user);r.push((0,_.jsx)(l.DropdownItem,{a8n:"mi-message-on-whatsapp",xstyle:v.menuItem,action:t=>(0,c.handleOpenChat)(t,e.wid,a),children:o.fbt._("Chat with {chat-with-phoneJid}",[o.fbt._param("chat-with-phoneJid",(0,_.jsx)("span",{dir:"ltr",children:t}))],{hk:"2zFU2R"})},"message-on-whatsapp"))}r.push((0,_.jsx)(l.DropdownItem,{a8n:"mi-copy-phone-number",xstyle:v.menuItem,action:()=>(0,c.handleCopyPhoneNumber)(n,null==e?void 0:e.wid,a),children:o.fbt._("Copy phone number",null,{hk:"CCcUf"})},"copy-phone-number")),y(null),y({menu:r,event:t}),x(null==e?void 0:e.wid),(0,c.logClickOnPhoneNumber)(null==e?void 0:e.wid,a)}let M=null;b&&(M=(0,_.jsx)(m.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{y(null),(0,c.logCloseDialog)(E,a)},children:(0,_.jsx)(g.default,{contextMenu:b})}));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(f.SelectableLink,{onClick:function(e){let t;function a(){return(a=(0,r.default)((function*(e,n){try{T(yield t.getOrRun(e),n)}catch(e){T(null,n),x(null),__LOG__(4,void 0,new Error,!0)`handlePhoneClick getUsync failed with exceptions ${e}`,SEND_LOGS("handlePhoneClick-getUsync")}}))).apply(this,arguments)}C&&C.isCached(n)?t=C:(t=(0,d.usyncContactCached)(),S(t)),t.isCached(n)||function(e){const t=(0,_.jsxs)(u.FlexColumn,{xstyle:v.spinnerContainer,align:"center",justify:"center",children:[(0,_.jsx)(h.Spinner,{size:50,stroke:4,color:"highlight"}),(0,_.jsx)(p.TextSpan,{xstyle:v.spinnerText,theme:"small",children:o.fbt._("Checking phone number...",null,{hk:"2cfR2e"})},"phone_number_wrapper_loading_text")]});y({menu:t,event:e})}(e),function(){a.apply(this,arguments)}(n,e)},selectable:t,style:{cursor:"pointer"},children:n}),M]})};var r=a(n(48926)),i=n(40277),o=n(48360),s=n(67294),l=(a(n(56720)),n(71174)),u=n(29623),d=n(75888),c=n(72768),f=n(52596),h=n(11054),p=n(13923),m=n(18644),g=a(n(24717)),_=n(85893);const v={spinnerContainer:{width:"snzbljq1",height:"ra71746h"},spinnerText:{marginTop:"eg3lofc5",paddingStart:"f78eapp6",paddingEnd:"kyc7k6mt",textAlign:"qfejxiq4"},menuItem:{paddingStart:"nqtxkp62",paddingEnd:"btzf6ewn"}}},51634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(52596),r=n(85893);function i(e){let{children:t,selectable:n}=e;return(0,r.jsx)(a.SelectableDel,{selectable:n,appTextTemplate:"~${appText}~",children:t})}i.defaultProps={children:""};var o=i;t.default=o},5438:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(14597),i=n(52596),o=a(n(82791)),s=n(85893);function l(e){let{link:t,children:n,selectable:a}=e;return(0,s.jsx)(i.SelectableLink,{onClick:()=>r.ModalManager.open((0,s.jsx)(o.default,{link:t})),selectable:a,style:{cursor:"pointer"},children:n})}l.defaultProps={children:""};var u=l;t.default=u},71809:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useContext)(s.default);if((0,u.isDropLastNameEnabled)()&&t)return(0,d.jsx)(l.default,(0,r.default)((0,r.default)({},e),{},{groupMetadata:t}));return(0,d.jsx)(o.default,(0,r.default)({},e))};var r=a(n(81109)),i=n(67294),o=a(n(39147)),s=a(n(45152)),l=a(n(89442)),u=n(41566),d=n(85893)},15775:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,theme:n,selectable:a}=e;const{isMe:u}=(0,i.useModelValues)(t,["id","isMe"]),d=u?void 0:()=>{(0,o.findChat)(t.id).then((e=>r.Cmd.openChatBottom(e)))};return(0,l.jsx)(s.default,{contact:t,theme:n,selectable:a,onClick:d})};var r=n(81572),i=n(35461),o=n(50101),s=a(n(71809)),l=n(85893)},76781:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(64331),i=n(67247),o=a(n(6859)),s=a(n(44512)),l=a(n(94718)),u=n(85893);class d extends l.default{static jsx(e,t,n){let[a]=t,{size:r,selectable:i=!1,emojiXstyle:s}=n;return(0,u.jsx)(o.default,{emoji:a,size:r,selectable:i,xstyle:s})}static match(e,t,n){const a=null!=n&&0!==n?n:e.length,o=(0,r.firstNCodepoints)(e,a);return(0,s.default)(o,i.EmojiUtil.emojiRegex(),0,c)}}function c(e){return i.EmojiUtil.getGlyphId(e[0])?e:null}t.default=d,d.compatibility=!0},74783:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(3522)),i=a(n(52084)),o=n(67247),s=n(13185);const l={"(y)":"👍","(n)":"👎",":-)":"🙂",":-(":"🙁",":-p":"😛",":-|":"😐",":-\\":"😕",":-d":"😀",":-*":"😘","<3":"❤","^_^":"😁",">_<":"😆",";-)":"😉"},u=Object.keys(l).map(r.default).join("|"),d=new RegExp(`(^|\\s|\`\`\`|[*_~])((?:${u})+)(?=$|\\s|\`\`\`|[*_~])`,"ig"),c=new RegExp(`(${u})`,"i"),f=(0,i.default)(d,2,(function(e){const[,t]=e;t&&(e.index+=t.length,e[0]=e[0].slice(t.length));return e}));class h extends f{static mutate(e){return e.split(c).map((e=>{const t=l[e.toLowerCase()];return t?o.EmojiUtil.getSkinToneBase(t)&&s.EmojiVariantCollection.getVariant(t)||t:e})).join("")}}t.default=h,h.fragment=!0,h.mutates=!0},10043:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(3522)),i=a(n(44512)),o=a(n(99697)),s=a(n(14296)),l=a(n(94718)),u=n(85893);class d extends l.default{static match(e,t){if(!t)return[];const{terms:n,boundary:a=!1,ignoreDiacritics:o=!1}=t;if(!n.length)return[];const l=o&&s.default.isLatinAlphabetLanguage(e)&&n.every((e=>s.default.isLatinAlphabetLanguage(e)))&&!s.default.isRTL(),u=l?s.default.removeAccents(e):e;return(0,i.default)(u,function(e,t,n){const a=(n?e.map((e=>s.default.removeAccents(e))):e).map(r.default).join("|");if(s.default.isRTL())return new RegExp(`${t?"(?:^|\\b)":""}(\\S+)?(${a})(\\S+)?`,"ig");return new RegExp(`${t?"(?:^|\\b)":""}(${a})`,"ig")}(n,a,l))}}t.default=d,d.jsx=(e,t,n)=>{let{selectable:a}=n;return(0,u.jsx)(o.default,{selectable:a,children:e})}},65375:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Bold",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"BoldFirstWord",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return o.Code}}),Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Emoticon",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Highlight",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Intern",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Italic",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"ListItem",{enumerable:!0,get:function(){return p.ListItem}}),Object.defineProperty(t,"Mention",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"PhoneNumber",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"RawGroupMention",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"RawMention",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"StatusLink",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"Strikethrough",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"TextMention",{enumerable:!0,get:function(){return b.default}});var r=a(n(39037)),i=a(n(38189)),o=n(4841),s=a(n(76781)),l=a(n(74783)),u=a(n(10043)),d=a(n(90347)),c=a(n(1890)),f=a(n(10275)),h=a(n(87169)),p=n(9272),m=a(n(48861)),g=a(n(78076)),_=a(n(64713)),v=a(n(6738)),b=a(n(2041)),y=a(n(64181)),C=a(n(74639))},90347:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(52084)),i=a(n(68730)),o=n(85893);const s=(0,r.default)(/(^|\b|\s)(((#|t|T|d|D|p|P|s|S)([0-9]{3,16}))|([0-9a-fA-F]{8,40}))(?=$|\b)/g,2,(function(e){const[,t,,,,,n]=e;if(n&&(!l.test(n)||!u.test(n)))return null;t&&(e.index+=t.length,e[0]=e[0].slice(t.length));return e}));t.default=class extends s{static jsx(e,t,n){let{selectable:a=!1}=n;const r=function(e){let[,,,,t,n,a]=e;if(a)return`${d}${a.toLowerCase()}`;switch(t){case"T":case"t":case"#":return`${c}${n}`;case"D":case"d":return`${f}${n}`;case"P":case"p":return`${h}${n}`;case"S":case"s":return`${p}${n}`;default:return`${m}${t}${n}`}}(t);return(0,o.jsx)(i.default,{href:r,selectable:a,children:e})}};const l=/[a-fA-F]/,u=/[0-9]/;const d="https://internalfb.com/intern/bunny/?q=hash%20",c="https://internalfb.com/intern/tasks/?t=",f="https://internalfb.com/intern/diff/D",h="https://internalfb.com/intern/paste/P",p="https://internalfb.com/intern/sevmanager/view/s/",m="https://internalfb.com/intern/"},1890:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(69188)),i=a(n(52084)),o=a(n(31117)),s=n(85893);const l=(0,r.default)("_"),u=(0,i.default)(/(?:^|\s|_|[^\w\\])_(\S|\S[^\n]*?\S)_(?=$|[[\s\W_])/g,1,l);t.default=class extends u{static jsx(e,t,n){let{selectable:a=!1}=n;return(0,s.jsx)(o.default,{selectable:a,children:e})}}},10275:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(38189)),i=a(n(1890)),o=a(n(35150)),s=a(n(94718)),l=a(n(6738)),u=a(n(5438)),d=n(85893);class c extends s.default{static jsx(e,t,n){let{selectable:a=!1}=n;const{href:r,suspiciousCharacters:i}=t;return(null==i?void 0:i.size)?(0,d.jsx)(u.default,{link:t,selectable:a,children:e}):(0,d.jsx)(o.default,{href:r,selectable:a,children:e})}}function f(e){const{index:t,url:n}=e,a=t+n.length-1;return[t,t,a,a,e]}function h(e,t){let n=0,a=0;for(;n<e.length&&a<t.length;){const r=t[a][3]-e[n][3];if(r>0)n++;else if(r<0)a++;else{e[n][2]--,e[n][3]--;const t=e[n][5];t.href=t.href.slice(0,-1),t.path=t.path&&t.path.slice(0,-1),t.url=t.url.slice(0,-1),a++,n++}}}t.default=c,c.format=!1,c.match=(e,t)=>{if(!t)return[];const{links:n=[]}=t;return n.map(f)},c.conflictResolvers=new Map([[r.default,h],[i.default,h],[l.default,h]])},87169:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(52084)),i=a(n(57770)),o=n(85893);const s=(0,r.default)(/((?:^)(?:\* (?:[^\n]+)(?:\n(?:\* [^\n]+)){0,})(?:\n|$))/gm,0);class l extends s{static jsx(e,t,n){let{selectable:a=!1,inline:r}=n;const s=0===t.index;return(0,o.jsx)(i.default,{inline:r,isAtStart:s,selectable:a,children:e})}}t.default=l,l.nestable=()=>!1},9272:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=t.LIST_ITEM_DELIMITER=t.LAST_LIST_ITEM_REGEX=void 0;var r=a(n(52084)),i=a(n(94296)),o=n(85893);t.LIST_ITEM_DELIMITER="* ";t.LAST_LIST_ITEM_REGEX=/(?:^|\n)\* [^\n]+$/;const s=(0,r.default)(/(?:^)\* ([^\n]+(?:$))/gm,1),l=new Set(["List"]);class u extends s{static jsx(e,t,n){let{selectable:a=!1,inline:r}=n;return(0,o.jsx)(i.default,{inline:r,selectable:a,children:e})}}t.ListItem=u,u.nestable=e=>l.has(e),u.unformatDecorations={pre:"• "}},48861:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(3522)),i=a(n(41609)),o=a(n(44512)),s=a(n(42521)),l=a(n(94718)),u=n(85893);class d extends l.default{static match(e,t){if(!t)return[];const{mentions:n,groupMetadata:a}=t;if(!n||(0,i.default)(n))return[];const s=function(e){const t=Object.keys(e).map(r.default).join("|");return new RegExp(`(${t})`,"g")}(n),l=(0,o.default)(e,s);for(let e=0;e<l.length;++e)l[e][4]={contact:n[l[e][4][0]],groupMetadata:a};return l}static jsx(e,t,n){let{selectable:a}=n;return(0,u.jsx)(s.default,{mentionMeta:t,selectable:a})}}t.default=d,d.format=!1},78076:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(94718)),i=a(n(61154)),o=n(85893);class s extends r.default{static jsx(e,t,n){let{selectable:a=!1,fromMe:r}=n;const{phone:s}=t;return(0,o.jsx)(i.default,{phoneNumber:s,selectable:a,fromMe:r})}}function l(e){const{index:t,phone:n}=e,a=t+n.length-1;return[t,t,a,a,e]}t.default=s,s.format=!1,s.match=(e,t)=>{if(!t)return[];const{phoneNumbers:n=[]}=t;return n.map(l)}},64181:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(41566),i=a(n(48861));class o extends i.default{}t.default=o,o.mutates=!0,o.mutate=(e,t)=>{const{contact:n,groupMetadata:a}=t;return(0,r.isDropLastNameEnabled)()&&a&&a.hasUniqueShortNameMention(n)?`@${n.shortName}`:`@${n.displayName}`}},64713:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48861));class i extends r.default{}t.default=i,i.mutates=!0,i.mutate=(e,t)=>{let{contact:n}=t;return`@${n.displayName}`}},74639:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(10275)),i=n(41013),o=n(85893);function s(e,t){return t.length>12||t.length+e.length>34?t.slice(0,function(e,t){const n=Math.min(t.length,Math.max(t.length-12,t.length+e.length-34));return t.length-n}(e,t)):t}class l extends r.default{static jsx(e,t,n){const{domain:a,path:r}=t,l=a.replace(/^www\./,""),u=null==r||1===r.length?"":r,d=function(e,t){const n=s(e,t),a=e+(1===n.length?"":n);return(a.length>34?`...${a.slice(a.length-34)}`:a)+(t!==n?"...":"")}(l,null!=r?r:"");var c;return d!==l+u?(0,o.jsx)(i.LongLink,{selectable:null!==(c=n.selectable)&&void 0!==c&&c,link:t,children:d}):super.jsx([l+u],t,n)}}t.default=l},6738:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(69188)),i=a(n(52084)),o=a(n(51634)),s=n(85893);const l=(0,r.default)("_"),u=(0,i.default)(/(?:^|[\s\W_])~(\S|\S[^\n]*?\S)~(?=$|[[\s\W_])/g,1,l);t.default=class extends u{static jsx(e,t,n){let{selectable:a}=n;return(0,s.jsx)(o.default,{selectable:a,children:e})}}},2041:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48861)),i=a(n(71809)),o=n(85893);class s extends r.default{static jsx(e,t,n){let{contact:a}=t,{selectable:r,theme:s}=n;return(0,o.jsx)(i.default,{contact:a,selectable:r,theme:s})}}t.default=s},21829:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(1===e.length)return e;const n=[];let a;for(;a=e.pop();){const[e,,,r,i]=a,[{nestable:o,compatibility:s},,l]=t[i];let u=!0;const{length:d}=n;for(let a=d-1;a>=0;--a){const[,,i,d,c]=n[a];if(e>d)break;const[{mutates:f,format:h,compatibility:p,name:m},,g]=t[c];if(r>i){if(l<g&&n.splice(a,1))continue;u=!1;break}if(f&&!(u=!1))break;if(s)break;if((o(m)||p||!(l<g)||!n.splice(a,1))&&(!s&&!h)){u=!1;break}}u&&n.push(a)}return n}},50008:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[];for(let n=0;n<e.length;++n)for(let a=0;a<e[n].length;++a){const[r,i]=e[n][a];t.push([r,i,n])}return t}},35303:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t._parse=u,t.parse=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return u(e,(0,o.default)(t),n)};var r=n(64331),i=a(n(21829)),o=a(n(50008)),s=a(n(58899)),l=a(n(79175));function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const a=(0,s.default)(e,t,n),o=a.length?(0,l.default)(e,(0,i.default)(a,t),t):{children:[{type:"text",value:e}]},u=(0,r.numCodepoints)(e);return n<u&&d(o,{limit:n}),o}function d(e,t){if(t.limit<=0)return;if(e.type&&"text"===e.type){if(e.value.length>=t.limit){let n=(0,r.toArray)(e.value);n.length>=t.limit&&(n=n.slice(0,t.limit)),e.value=n.join(""),t.limit=t.limit-n.length}else t.limit=t.limit-e.value.length;return}if(e.type&&"delimiter"===e.type)return;let n=0;for(;n<e.children.length&&(d(e.children[n],t),!(t.limit<=0));)n++;e.children=e.children.slice(0,n+1)}},58899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const a=[];for(let r=0;r<t.length;++r){const[i,o]=t[r],s=i.match(e,o,n),l=[],{length:u}=s;for(let e=0,t=s[e];e<u;t=s[++e])l[e]=[t[0],t[1],t[2],t[3],r,t[4]];l.length&&a.push(l)}for(let e=0;e<a.length;e++){const{conflictResolvers:n}=t[a[e][0][4]][0];if(n)for(let r=0;r<a.length;r++){const i=t[a[r][0][4]][0],o=n.get(i);null==o||o(a[e],a[r])}}const r=[];for(let e=0;e<a.length;++e)r[e]=a[e].length-1;const i=[];let o=0;for(;a.length;){for(let e=0,t=-1;e<a.length;++e)a[e][r[e]][0]>t&&(o=e,t=a[e][r[e]][0]);i.push(a[o][r[o]]),--r[o]<0&&(a.splice(o,1),r.splice(o,1))}return i}},79175:(e,t,n)=>{"use strict";function a(e,t,n){let{format:a}=e;const r=[],i=function(e){let t=e;const n=[];do{t.mutator&&n.push(t.mutator)}while(t.parent&&(t=t.parent));return n}(n);for(let e=0;e<t.length;++e)(a||t[e][0].compatibility)&&(i.includes(t[e][0])||r.push(t[e]));return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const i={children:[]};let o=0,s=i,l=0;for(let i=0;i<t.length;++i){const u=t[i],[d,c]=u;for(;s.parent&&d>(l=s.match[2]);){if(o<=l&&s.children.push({type:"text",value:e.substring(o,l+1)}),o=s.match[3]+1,s.mutator.fragment){const{children:e}=s.parent;e.pop(),e.push.apply(e,s.children)}l!==s.match[3]&&s.parent.children.push({type:"delimiter",value:e.substring(l+1,o)}),s=s.parent}o<d&&s.children.push({type:"text",value:e.substring(o,d)});const[f,h]=r[u[4]],{mutates:p}=f;o=c,d!==c&&s.children.push({type:"delimiter",value:e.substring(d,c)});const m={children:[],match:u,mutator:f,opts:h,parent:s};if(p){const t=e.substring(u[1],u[2]+1),i=f.mutate(t,u[5]),s=a(f,r,m),l=(0,n(35303)._parse)(i,s);m.children=l.children,o=u[2]+1}s.children.push(m),s=m}do{if(!s.match)continue;const[,,t,n]=s.match;if(o<=t&&s.children.push({type:"text",value:e.substring(o,t+1)}),o=n+1,s.mutator.fragment){const{children:e}=s.parent;e.pop(),e.push.apply(e,s.children)}t!==n&&s.parent.children.push({type:"delimiter",value:e.substring(t+1,o)})}while(s.parent&&(s=s.parent)&&s.parent);o!==e.length&&s.children.push({type:"text",value:e.substring(o)});return i}},21659:(e,t)=>{"use strict";function n(e,t,a){return t.reduce(((t,r)=>(t.push(function(e,t,a){if(t.type){const{value:n}=t;switch(t.type){case"text":return e.onText(n,a);case"delimiter":return e.onDelimiter(n,a);default:throw new Error("Invalid node type")}}return e.onMutator(t.mutator,n(e,t.children,a),t.match[5],t.opts,a)}(e,r,a)),t)),[])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return e.onRoot(n(e,t.children,a),a)}},83415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static onMutator(){throw new Error("Subclasses of `Serializer` must override `onMutator()`")}static onRoot(){throw new Error("Subclasses of `Serializer` must override `onRoot()`")}static onText(){throw new Error("Subclasses of `Serializer` must override `onText()`")}static onDelimiter(){throw new Error("Subclasses of `Serializer` must override `onDelimiter()`")}}},10577:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=a(n(19173)),o=a(n(83415));class s extends o.default{}function l(e){const t=[];for(let n=0;n<e.length;n++){const a=e[n];if(void 0===a)continue;if("string"==typeof a){t.push(a);continue}const i=`jsx-child-${n}`;t.push((0,r.cloneElement)(a,{key:i}))}return t}t.default=s,s.onText=i.default,s.onDelimiter=()=>{},s.onRoot=e=>l(e),s.onMutator=(e,t,n,a)=>e.jsx(l(t),n,a)},19173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>e},37848:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(83415));class i extends r.default{}t.default=i,i.onDelimiter=e=>e,i.onMutator=(e,t)=>t.join(""),i.onRoot=e=>e.join(""),i.onText=e=>e},39949:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(83415));class i extends r.default{}function o(e){return e.filter(Boolean).join("")}t.default=i,i.onDelimiter=()=>{},i.onMutator=(e,t)=>null!=e.unformatDecorations?o([e.unformatDecorations.pre,...t,e.unformatDecorations.post]):o(t),i.onRoot=e=>o(e),i.onText=e=>e},73938:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,a,o,O;let N,D,L="",B="";const F=e.dir,G=e.safe(),U=!(null===(n=G.asViewOnce)||void 0===n?void 0:n.isViewOnce)&&w.MuteCollection.getGlobalPreviews();!(0,l.getMaybeMeUser)().equals(e.from)&&e.isGroupMsg&&(B=e.displayName());const{senderUserJid:V,reactionText:W,timestamp:H}=null!=t?t:{};if(e.isGroupMsg&&t){const t=P.ReactionsCollection.get(e.id.toString());if(t){const{reactionSenderModel:e}=P.ReactionsCollection.getAggregateEmojiAndSender(t,V),n=null==e?void 0:e.senderObj;var q;if(n)B=null!==(q=n.name)&&void 0!==q?q:(0,d.widToFormattedUser)(n.id)}else __LOG__(3)`as_desktop_notification: Reaction model not found`}let Y=Boolean(t);switch(G.type){case R.CHAT:if(U)L=(0,j.default)(e,e.body);else if(e.isGroupMsg)t&&B?(L=c.fbt._("a message",null,{hk:"2NfqqW"}),Y=!1):(L=B?M.default.t(371,{author:B}):c.fbt._("New Message",null,{hk:"4v8IAJ"}),B="");else if(t)L=c.fbt._("a message",null,{hk:"OWh0L"}),Y=!1;else{const t=e.chat;L=M.default.t(372,{unreadCount:M.default.n(t.unreadCount),_plural:t.unreadCount})}break;case R.IMAGE:N="",s.UA.hasEmoji&&(N=G.isViewOnce?"1️⃣ ":"📷 "),L=N+(U&&(0,j.default)(e,e.caption)||M.default.t(714));break;case R.PRODUCT:N=s.UA.hasEmoji?"🛒 ":"",L=N+(e.text&&(0,j.default)(e,e.text)||c.fbt._("Product",null,{hk:"1H4J4r"}).toString());break;case R.INTERACTIVE:if(e.interactiveType===T.default.SHOPS_STOREFRONT){var z;N=s.UA.hasEmoji?"🛍️  ":"",L=N+(0,j.default)(e,e.body||(null===(z=e.interactiveHeader)||void 0===z?void 0:z.title))||"";break}if(e.interactiveType===T.default.NATIVE_FLOW&&e.nativeFlowName===A.default.ORDER_DETAILS){var K;N=s.UA.hasEmoji?"📃  ":"",L=N+((0,b.formatOrderDetailsMessagePreview)(e)||(null!==(K=e.caption)&&void 0!==K?K:""));break}if(e.interactiveType===T.default.NATIVE_FLOW&&e.nativeFlowName===A.default.ORDER_STATUS){var $;L=(0,b.formatOrderStatusMessage)(e)||(null!==($=e.caption)&&void 0!==$?$:"");break}return __LOG__(3)`asDesktopNotification: Unrecognized type ${e.type}`,"";case R.NATIVE_FLOW:if(e.nativeFlowName===A.default.ORDER_DETAILS){var Q;N=s.UA.hasEmoji?"📃  ":"",L=N+((0,y.formatNFMTextPreview)(e)||(null!==(Q=e.caption)&&void 0!==Q?Q:""));break}return __LOG__(3)`asDesktopNotification: Unrecognized type ${e.type}`,"";case R.STICKER:N=s.UA.hasEmoji?"💟 ":"",L=N+c.fbt._("Sticker",null,{hk:"3gWjqH"}).toString();break;case R.VIDEO:e.isGif?(N=s.UA.hasEmoji?"👾 ":"",D=U&&(0,j.default)(e,e.caption)||"GIF"):(N="",s.UA.hasEmoji&&(N=G.isViewOnce?"1️⃣ ":"🎥 "),D=U&&(0,j.default)(e,e.caption)||M.default.t(716),G.isViewOnce||(D=`${D} (${i.Clock.durationStr(e.duration)})`)),L=`${N}${D}`;break;case R.PTT:N=s.UA.hasEmoji?"🎤 ":"",L=`${N} ${M.default.t(717)} (${i.Clock.durationStr(e.duration)})`;break;case R.AUDIO:N=s.UA.hasEmoji?"🎵 ":"",L=`${N} ${M.default.t(710)} (${i.Clock.durationStr(e.duration)})`;break;case R.LOCATION:N=s.UA.hasEmoji?"📍 ":"",D=e.isLive?U&&(0,j.default)(e,e.comment)||c.fbt._("Live location",null,{hk:"4hn7as"}).toString():U&&e.loc||M.default.t(715),L=`${N} ${D}`;break;case R.GROUPS_V4_INVITE:L=c.fbt._("WhatsApp group invite",null,{hk:"Yox1t"});break;case R.GROUP_NOTIFICATION:case R.GP2:L=(0,v.default)(e,!0),B="";break;case R.BROADCAST_NOTIFICATION:L=(0,m.default)(e);break;case R.NOTIFICATION:L=e.body;break;case R.VCARD:N=s.UA.hasEmoji?"👤 ":"",L=N+(e.subtype||M.default.t(711));break;case R.MULTI_VCARD:N=s.UA.hasEmoji?"👥 ":"",L=N+(0,u.getNameString)(e.vcardList).toString();break;case R.DOCUMENT:if(e.isVcardOverMmsDocument){N=s.UA.hasEmoji?"👤 ":"",L=N+(e.filename||M.default.t(485,{count:e.pageCount,_plural:e.pageCount}));break}N=s.UA.hasEmoji?"📄 ":"",L=N+M.default.t(713);break;case R.E2E_NOTIFICATION:L=(0,_.default)(G);break;case R.CALL_LOG:L=(0,g.default)(e,!1);break;case R.CIPHERTEXT:L=M.default.t(543);break;case R.REVOKED:L=(0,E.formatRevokedMsg)(G);break;case R.PAYMENT:L=function(e){if("invite"===e.subtype)return(0,S.formatPaymentInviteMessageText)(e.id);if(!e.paymentCurrency||!e.paymentAmount1000)return c.fbt._("Payment message • Amount unavailable",null,{hk:"3SAp3h"});if("send"!==e.subtype&&"request"!==e.subtype)return c.fbt._("Payment message. Open WhatsApp on your phone to view.",null,{hk:"3VcAwk"});let t;const n=h.formatAmount1000(e.paymentCurrency,e.paymentAmount1000),a=(0,I.default)(e.sender),r=(0,I.default)(e.paymentMessageReceiverJid),i=f.ContactCollection.get(e.paymentMessageReceiverJid),o={senderName:a,receiverName:r,amount:n,_plural:e.paymentAmount1000/1e3};t="send"===e.subtype?e.isGroupMsg?(null==i?void 0:i.isMe)?M.default.t(811,o):M.default.t(812,o):M.default.t(810,o):e.isGroupMsg?(null==i?void 0:i.isMe)?M.default.t(808,o):M.default.t(809,o):M.default.t(807,o);return t}(e);break;case R.OVERSIZED:L=(0,C.formatOversizedMsgNotification)(e);break;case R.UNKNOWN:L=(0,x.formatUnknownMsgNotification)(e);break;case R.LIST:if((0,k.listMsgCanRender)(G)){var X,J;L=`${(null===(X=e.list)||void 0===X?void 0:X.title)||""} ${(null===(J=e.list)||void 0===J?void 0:J.description)||""}`;break}return __LOG__(3)`asDesktopNotification: Unrecognized type ${e.type}`,"";case R.LIST_RESPONSE:L=`${(null===(a=e.listResponse)||void 0===a?void 0:a.title)||""} ${(null===(o=e.listResponse)||void 0===o?void 0:o.description)||""}`;break;case R.POLL_CREATION:N=s.UA.hasEmoji?"📊 ":"",L=`${N}${(0,j.default)(e,e.pollName)}`;break;default:return __LOG__(3)`asDesktopNotification: Unrecognized type ${e.type}`,""}L=String(null!==(O=L)&&void 0!==O?O:"");const Z=M.default.isRTL()?"rtl":"ltr";let ee,te=i.Clock.relativeStr(e.t).toString(),ne="";if(t){var ae;ee=null!==(ae=p.EmojiUtil.normalizeEmojiFromString(W))&&void 0!==ae?ae:p.OPEN_BOX_CHAR,Y&&(L=c.fbt._('"{body}"',[c.fbt._param("body",L)],{hk:"2V1d5w"}).toString()),te=i.Clock.relativeStr(H).toString(),ne=c.fbt._("Reacted {emoji} to",[c.fbt._param("emoji",ee)],{hk:"4177kz"}).toString(),ne="ltr"===Z?M.default.isolateLTR(ne):M.default.isolateRTL(ne)}if(B){const e=r.dir(B);return"ltr"!==Z||F&&"ltr"!==F||e&&"ltr"!==e?"ltr"!==Z||F&&"ltr"!==F?"ltr"!==Z||e&&"ltr"!==e?"ltr"===Z?(te&&(te=`- ‪${te}‬‬`),t?`‫${B}‏: ${ne} ${L}‏${te}`:`‫${B}‏: ${L}‏${te}`):F&&"rtl"!==F||e&&"rtl"!==e?F&&"rtl"!==F?e&&"rtl"!==e?(te&&(te=`- ‫${te}‬‬`),t?`‪${B}‎: ${ne} ${L}‎${te}`:`‪${B}‎: ${L}‎${te}`):(te&&(te=` - ${te}`),t?`${B}‏: ${ne}‏ ‪${L}‬‏`:`${B}‏: ‪${L}‬‏`):(te&&(te=` - ${te}`),t?`‏‪${B}‬: ${ne}‏ ${L}‏`:`‏‪${B}‬: ${L}‏`):(te&&(te=` - ${te}`),t?`${B}‏: ${ne}‏ ${L}‏`:`${B}‏: ${L}‏`):(te&&(te=` - ${te}`),t?`${B}‎: ${ne}‎ ‫${L}‬‎`:`${B}‎: ‫${L}‬‎`):(te&&(te=` - ${te}`),t?`‎‫${B}‬: ${ne}‎ ${L}‎`:`‎‫${B}‬: ${L}‎`):(te&&(te=` - ${te}`),t?`${B}‎: ${ne}‎ ${L}‎`:`${B}‎: ${L}‎`)}if(te)return t?"ltr"===Z?`${ne} ${L}‎‏ - ‪${te}‬`:`${ne} ${L}‏‎ - ‫${te}‬`:"ltr"===Z?`${L}‎‏ - ‪${te}‬`:`${L}‏‎ - ‫${te}‬`;if(t)return`${ne} ${L}`;return L};var r=N(n(93131)),i=n(40234),o=n(15461),s=n(26741),l=n(78820),u=n(93778),d=n(62054),c=n(48360),f=n(19380),h=N(n(39519)),p=n(67247),m=a(n(57733)),g=a(n(49763)),_=a(n(81412)),v=a(n(46953)),b=n(37899),y=n(63448),C=n(57196),S=n(2177),E=n(96206),x=n(10240),T=a(n(84064)),M=a(n(14296)),k=n(54676),w=n(72472),A=a(n(5165)),P=n(57162),j=a(n(60238)),I=a(n(73977));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}const R=o.MSG_TYPE},72930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=a.ContactCollection.get(e),r=null==n?void 0:n.name;return!r||r===t};var a=n(19380)},57733:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{subtype:t,body:n,recipients:a}=e;if("create"===t){const e=parseInt(n,10);return i.default.t(860,{_plural:e,count:e})}if("add"===t){const e=a.length;return i.default.t(775,{_plural:e,name:(0,r.getFormattedNames)(a,!0)})}if("remove"===t){const e=a.length;return i.default.t(776,{_plural:e,name:(0,r.getFormattedNames)(a,!0)})}return""};var r=n(16961),i=a(n(14296))},49763:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n="";switch(e.subtype){case"miss":n=t?o.default.t(790,{time:r.Clock.timestampStr(e.t),_plural:r.Clock.timestampHour(e.t)}):o.default.t(789);break;case"miss_video":n=t?o.default.t(788,{time:r.Clock.timestampStr(e.t),_plural:r.Clock.timestampHour(e.t)}):o.default.t(787);break;case"miss_group":n=t?o.default.t(786,{time:r.Clock.timestampStr(e.t),_plural:r.Clock.timestampHour(e.t)}):i.fbt._("Missed group voice call",null,{hk:"nrsOB"});break;case"miss_group_video":n=t?o.default.t(785,{time:r.Clock.timestampStr(e.t),_plural:r.Clock.timestampHour(e.t)}):i.fbt._("Missed group video call",null,{hk:"2nThzV"})}return n};var r=n(40234),i=n(48360),o=a(n(14296))},81412:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e.subtype){case"identity":{const t=null==e.body?null:l.ContactCollection.get(e.body);if(null==t?void 0:t.isMe){__LOG__(4,void 0,new Error,!0)`formatE2ENotification: receive identity notification of self`,SEND_LOGS("SelfIdentityNotificationError");const t=e.chat;if(t.isUser){const e=t.contact?t.contact.formattedName:(0,o.widToFormattedUser)(t.id);return c.default.t(831,{contactName:e})}return t.isGroup?s.fbt._("Your security code with all participants changed. Click to learn more.",null,{hk:"243dFE"}):t.isBroadcast?s.fbt._("Your security code with all recipients changed. Click to learn more.",null,{hk:"44wyW0"}):""}const n=t?t.formattedName:(0,o.widToFormattedUser)(e.body);return c.default.t(831,{contactName:n})}case"device":return(0,u.default)(e);case"encrypt":{const t=e.id.remote;if(i.default.isGroup(t))return(0,r.isSupportGroup)(e.chat)?s.fbt._("This chat is with the official account of WhatsApp Support. Click to learn more.",null,{hk:"1jqzBh"}):(0,f.isGroupCallEnabled)()?s.fbt._("Messages and calls are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"3ioH5m"}):s.fbt._("Messages are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"4xlCJY"});if((0,d.default)(t.user))return s.fbt._("This chat is with the official account of WhatsApp Support. Click to learn more.",null,{hk:"1jqzBh"});if(i.default.isBroadcast(t))return s.fbt._("Messages you send to this broadcast list are secured with end-to-end encryption. Click to learn more.",null,{hk:"2fA0mg"});return(0,f.isVoiceCallEnabled)()||(0,f.isVideoCallEnabled)()?s.fbt._("Messages and calls are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"ZvZfE"}):s.fbt._("Messages are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"2rOEit"})}case"encrypt_now":return s.fbt._("Messages and calls are now end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"2ayMYf"});case"e2e_identity_unavailable":return s.fbt._("Security code notifications are no longer available for this chat.",null,{hk:"3mV4bQ"});default:return""}};var r=n(73679),i=a(n(89867)),o=n(62054),s=n(48360),l=n(19380),u=a(n(30344)),d=a(n(78542)),c=a(n(14296)),f=n(69594)},30344:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o.default)("device"===e.subtype,"Shouldn't call this function if msg is not a device notification msg");let a,u=e.body?s.ContactCollection.get(e.body):null;const d=1===e.devicesAdded&&0===e.devicesRemoved,c=0===e.devicesAdded&&1===e.devicesRemoved,f=!d&&!c;if(null===(t=u)||void 0===t?void 0:t.isMe){const t=e.chat;if(t.isUser){const r=t.contact.formattedName;n?d?a=e.isThisDeviceAdded?l.default.t(692,{contactName:r}):l.default.t(691,{contactName:r}):c?a=l.default.t(830,{contactName:r}):f&&(a=l.default.t(700,{contactName:r})):a=l.default.t(831,{contactName:r})}else t.isGroup?n?d?a=e.isThisDeviceAdded?i.fbt._('Your security code with all participants changed because there was a login on this device. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"1f7ZHl"}):i.fbt._('Your security code with all participants changed because there was a login on a new device of yours. To verify a contact\'s security code, open their Contact Info page and click "Encryption"',null,{hk:"23SIhV"}):c?a=i.fbt._('Your security code with all participants changed because there was a logout from one of your devices. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"1nWFei"}):f&&(a=i.fbt._('Your security code with all participants changed because there was a login or logout from one or more of your devices. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"3BjNsP"})):a=i.fbt._("Your security code with all participants changed. Click to learn more.",null,{hk:"243dFE"}):t.isBroadcast&&(n?d?a=e.isThisDeviceAdded?i.fbt._('Your security code with all recipients changed because there was a login on this device. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"2NYcSl"}):i.fbt._('Your security code with all recipients changed because there was a login on a new device of yours. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"3kx0ZZ"}):c?a=i.fbt._('Your security code with all recipients changed because there was a logout from one of your devices. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"sSoLo"}):f&&(a=i.fbt._('Your security code with all recipients changed because there was a login or logout from one or more of your devices. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"34hVX2"})):a=i.fbt._("Your security code with all recipients changed. Click to learn more.",null,{hk:"44wyW0"}))}else{const t=e.body;u=null==t?null:s.ContactCollection.get(t);const i=u?u.formattedName:(0,r.widToFormattedUser)(t);n?d?a=l.default.t(689,{contactName:i}):c?a=l.default.t(829,{contactName:i}):f&&(a=l.default.t(699,{contactName:i})):a=l.default.t(831,{contactName:i})}return(0,o.default)(null!=a,"text shouldn't be null in the end"),a};var r=n(62054),i=n(48360),o=a(n(41143)),s=n(19380),l=a(n(14296))},58688:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a;const d=s.ChatCollection.gadd(n),c=d.shouldShowEphemeralSetting()&&(i.default.isUser(n)||(null===(a=d.groupMetadata)||void 0===a?void 0:a.canSetEphemeralSetting()));if(!t)return c?(0,u.getDisappearingMessageSettingUnknownAsAdminString)(e):(0,u.getDisappearingMessageSettingUnknownString)(e);const f=l.ContactCollection.gadd(t);if((0,r.isMePrimary)(t))return c?(0,u.getDisappearingMessageSettingYouAsAdminString)(e):(0,u.getDisappearingMessageSettingYouString)(e);const h=(null==f?void 0:f.isMyContact)?f.formattedName:(0,o.widToFormattedUser)(t);if(c)return(0,u.getDisappearingMessageSettingOthersAsAdminString)(e,h);return(0,u.getDisappearingMessageSettingOthersString)(e,h)};var r=n(78820),i=a(n(89867)),o=n(62054),s=n(69951),l=n(19380),u=n(79259)},46953:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n="";const a=e.get("type"),h=e.get("subtype"),p=e.displayName(),m=e.get("author"),g=e.get("body");let _,v;const b=""===p||null==p;if("group_notification"===a)switch(h){case"add":n=(0,i.isMeAccount)(m)?s.fbt._("You were added",null,{hk:"4x0xHD"}):f.default.t(749,{name:p});break;case"remove":n=(0,i.isMeAccount)(m)?s.fbt._("You were removed",null,{hk:"2gyTSa"}):f.default.t(757,{name:p});break;case"leave":n=null!=m?(0,i.isMeAccount)(m)?s.fbt._("You left",null,{hk:"3mSR6P"}):f.default.t(755,{name:p}):s.fbt._("This group has ended.",null,{hk:"C2izu"});break;case"picture":n="remove"===g?(0,i.isMeAccount)(m)?f.default.t(824):f.default.t(823,{name:p}):(0,i.isMeAccount)(m)?f.default.t(822):f.default.t(821,{name:p});break;case"subject":n=(0,i.isMeAccount)(m)?f.default.t(770,{subject:g}):b?f.default.t(769,{subject:g}):f.default.t(768,{name:p,subject:g});break;case"modify":_=(0,o.widToFormattedUser)(e.get("author")),v=(0,o.widToFormattedUser)(g),n=_===p?f.default.t(751,{name:p,new_number:v}):f.default.t(750,{name:p});break;default:__LOG__(2)`wa:formatGroupNotification:unknown message subtype: ${h}`}else if("gp2"===a){const a=e.recipients||[],y=(0,c.getFormattedNames)(a,!0),C=a[0],S=C?l.ContactCollection.get(C):void 0,E=S?S.get("formattedName"):C?(0,o.widToFormattedUser)(C):"";let x;switch(h){case"add":n=m?(0,i.isMeAccount)(m)?f.default.t(764,{participants:y}):(0,i.isMeAccount)(C)?b?s.fbt._("A participant added you",null,{hk:"LtOH1"}):f.default.t(759,{name:p}):b?f.default.t(762,{participants:y}):f.default.t(758,{name:p,participants:y}):(0,i.isMeAccount)(C)?s.fbt._("You were added",null,{hk:"4x0xHD"}):f.default.t(749,{name:E});break;case"remove":n=!(0,i.isMeAccount)(C)||!(0,i.isMeAccount)(m)&&m?(0,i.isMeAccount)(C)&&m?b?s.fbt._("A participant removed you",null,{hk:"3MXPgr"}):f.default.t(761,{name:p}):(0,i.isMeAccount)(m)?f.default.t(765,{participants:y}):m?b?f.default.t(763,{participants:y}):f.default.t(760,{name:p,participants:y}):f.default.t(757,{name:E}):s.fbt._("You were removed",null,{hk:"2gyTSa"});break;case"leave":n=(0,i.isMeAccount)(C)?s.fbt._("You left",null,{hk:"3mSR6P"}):f.default.t(755,{name:y});break;case"picture":n="remove"===g?(0,i.isMeAccount)(m)?f.default.t(824):f.default.t(823,{name:p}):(0,i.isMeAccount)(m)?f.default.t(822):f.default.t(821,{name:p});break;case"subject":n=(0,i.isMeAccount)(m)?f.default.t(770,{subject:g}):b?f.default.t(769,{subject:g}):f.default.t(768,{name:p,subject:g});break;case"modify":_=(0,o.widToFormattedUser)(m),v=(0,o.widToFormattedUser)(C),n=_===p?f.default.t(751,{name:p,new_number:v}):f.default.t(750,{name:p});break;case"create":n=(0,i.isMeAccount)(m)?g?f.default.t(728,{subject:g}):f.default.t(729):g?b?f.default.t(727,{subject:g}):f.default.t(725,{name:p,subject:g}):b?s.fbt._("An admin created this group",null,{hk:"4GaP6B"}):f.default.t(726,{name:p});break;case"delete":n=(0,r.isSupportGroup)(e.chat)?s.fbt._("This chat has been closed",null,{hk:"4v1FVm"}):s.fbt._("This group has ended",null,{hk:"3LCAzO"});break;case"promote":x=a.length,n=1===x&&(0,i.isMeAccount)(C)?s.fbt._("You're now an admin",null,{hk:"3kNNwA"}):f.default.t(756,{participants:y,_plural:x});break;case"demote":x=a.length,n=1===x&&(0,i.isMeAccount)(C)?s.fbt._("You're no longer an admin",null,{hk:"4b22N8"}):f.default.t(752,{participants:y,_plural:x});break;case"invite":n=(0,i.isMeAccount)(C)?f.default.t(754):f.default.t(753,{name:E});break;case"revoke_invite":n=(0,i.isMeAccount)(m)?s.fbt._("You reset this group's invite link. Click to view the new invite link.",null,{hk:"27k9Gu"}):f.default.t(746,{name:p});break;case"description":const l=t?b?s.fbt._("A participant changed the group description.",null,{hk:"3YXEnz"}):f.default.t(745,{name:p}):b?s.fbt._("A participant changed the group description. Click to view.",null,{hk:"2V9oO8"}):f.default.t(744,{name:p});n=(0,i.isMeAccount)(m)?s.fbt._("You changed the group description. Click to view.",null,{hk:"44K01H"}):l;break;case"announce":n="on"===g?(0,i.isMeAccount)(m)?s.fbt._("You allowed only admins to send messages to this group",null,{hk:"w9ZN5"}):f.default.t(724,{name:p}):(0,i.isMeAccount)(m)?s.fbt._("You changed this group's settings to allow all participants to send messages to this group.",null,{hk:"3Oj0Tj"}):f.default.t(723,{name:p});break;case"restrict":n="on"===g?(0,i.isMeAccount)(m)?s.fbt._("You changed this group's settings to allow only admins to edit this group's info.",null,{hk:"2ywD8F"}):f.default.t(767,{name:p}):(0,i.isMeAccount)(m)?s.fbt._("You changed this group's settings to allow all participants to edit this group's info.",null,{hk:"1dWmtw"}):f.default.t(766,{name:p});break;case"no_frequently_forwarded":n="on"===g?(0,i.isMeAccount)(m)?s.fbt._("You changed this group's settings to not allow messages that have been forwarded many times.",null,{hk:"16hyEI"}):f.default.t(748,{name:p}):(0,i.isMeAccount)(m)?s.fbt._("You changed this group's settings to allow messages that have been forwarded many times.",null,{hk:"3Ib1Hu"}):f.default.t(747,{name:p});break;case"announce_msg_bounce":n=s.fbt._("Only admins can message this group.",null,{hk:"O3Va5"});break;case"v4_add_invite_sent":n=f.default.t(651,{participants:y,_plural:a.length});break;case"v4_add_invite_join":n=f.default.t(650,{participants:y,_plural:a.length});break;case"ephemeral":const c=parseInt(e.templateParams[0],10)||0,S=e.templateParams[1],T=e.id.remote;return(0,u.default)(c,S,T);case"linked_group_join":return(0,d.formatLinkNotifAsFbt)(h,C,e.templateParams);case"parent_group_link":case"sibling_group_link":case"sub_group_link":case"parent_group_unlink":case"sibling_group_unlink":case"sub_group_unlink":case"community_create":return(0,d.formatLinkNotifAsFbt)(h,m,e.templateParams);default:__LOG__(2)`wa:formatGroupNotification:unknown message subtype: ${h}`}}f.default.isRTL()&&(n=f.default.forceRTL(String(n)));return n};var r=n(73679),i=n(78820),o=n(62054),s=n(48360),l=n(19380),u=a(n(58688)),d=n(51382),c=n(16961),f=a(n(14296))},51382:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatLinkNotifAsFbt=function(e,t,n){return h(e,t,n,!1)},t.formatLinkNotification=h;var r=a(n(89867)),i=n(48360),o=n(78820),s=n(16961),l=a(n(14296)),u=a(n(56074)),d=n(85893);const c=e=>e instanceof r.default&&(0,o.isMeAccount)(e);function f(e){return!e}function h(e,t,n,a){const r=t?(0,s.getFormattedName)(t,!a):null;switch(e){case"parent_group_link":{let e=(0,s.getFormattedCommunityName)(n[0],!a);return null==e&&(e=n[1]),!f(e)&&c(t)?i.fbt._('You added this group and its participants to the community "{community}"',[i.fbt._param("community",e)],{hk:"LrNfE"}):f(e)&&c(t)?i.fbt._("You added this group and its participants to a community",null,{hk:"2WbR5d"}):f(e)||null==t?f(e)||null!=t?f(e)&&null!=t?i.fbt._("{author} added this group and its participants to a community",[i.fbt._param("author",r)],{hk:"8zlZu"}):i.fbt._("This group and its participants were added to a community",null,{hk:"3cwk3U"}):i.fbt._('This group and its participants were added to the community "{community}"',[i.fbt._param("community",e)],{hk:"3QVhXn"}):i.fbt._('{author} added this group and its participants to the community "{community}"',[i.fbt._param("author",r),i.fbt._param("community",e)],{hk:"1wTEt7"})}case"sibling_group_link":{const[...e]=n,o=(0,s.getFormattedGroupListForCommunity)(e,!a),f=Array.isArray(o)?o.length:1;return c(t)?null==o?i.fbt._({"*":"You added {count} groups",_1:"You added 1 group"},[i.fbt._plural(f,"count")],{hk:"3cCNOS"}):i.fbt._({"*":"You added the groups {groups}",_1:"You added the group {groups}"},[i.fbt._plural(f),i.fbt._param("groups",o)],{hk:"1Zksob"}):null!=t?null==o?i.fbt._({"*":"{author} added {count} groups",_1:"{author} added 1 group"},[i.fbt._plural(f,"count"),i.fbt._param("author",r)],{hk:"1EO4eV"}):i.fbt._({"*":"{author} added the groups {groups}",_1:"{author} added the group {groups}"},[i.fbt._plural(f),i.fbt._param("author",r),i.fbt._param("groups",o)],{hk:"3YHozc"}):null==o?i.fbt._({"*":"{count} groups were added",_1:"1 group was added"},[i.fbt._plural(f,"count")],{hk:"3IvJQz"}):a?(0,d.jsx)(u.default,{id:190,plural:f,params:{count:f,formattedNames:o}}):l.default.t(190,{formattedNames:o,_plural:f})}case"sub_group_link":break;case"parent_group_unlink":{const[...e]=n,o=(0,s.getFormattedCommunityName)(e[0],!a);return null!=o&&c(t)?i.fbt._('You removed this group and its participants from the community "{community}"',[i.fbt._param("community",o)],{hk:"32Yyn1"}):null==o&&c(t)?i.fbt._("You removed this group and its participants from a community",null,{hk:"42Lzwr"}):null!=o&&null!=t?i.fbt._('{author} removed this group and its participants from the community "{community}"',[i.fbt._param("author",r),i.fbt._param("community",o)],{hk:"DYjNA"}):null!=o&&null==t?i.fbt._('This group and its participants were removed from the community "{community}"',[i.fbt._param("community",o)],{hk:"30Sg4y"}):null==o&&null!=t?i.fbt._("{author} removed this group and its participants from a community",[i.fbt._param("author",r)],{hk:"1tZ6Vx"}):i.fbt._("This group and its participants were removed from a community",null,{hk:"4ts4FX"})}case"sibling_group_unlink":{const[...e]=n,o=(0,s.getFormattedGroupListForCommunity)(e,!a),f=Array.isArray(o)?o.length:1;return c(t)?null==o?i.fbt._({"*":"You removed {count} groups",_1:"You removed 1 group"},[i.fbt._plural(f,"count")],{hk:"2g1AXG"}):i.fbt._({"*":"You removed the groups {groups}",_1:"You removed the group {groups}"},[i.fbt._plural(f),i.fbt._param("groups",o)],{hk:"1WgaUC"}):null!=t?null==o?i.fbt._({"*":"{author} removed {count} groups",_1:"{author} removed 1 group"},[i.fbt._plural(f,"count"),i.fbt._param("author",r)],{hk:"3x3BWq"}):i.fbt._({"*":"{author} removed the groups {groups}",_1:"{author} removed the group {groups}"},[i.fbt._plural(f),i.fbt._param("author",r),i.fbt._param("groups",o)],{hk:"mXINd"}):null==o?i.fbt._({"*":"{count} groups were removed",_1:"1 group was removed"},[i.fbt._plural(f,"count")],{hk:"1nLis2"}):a?(0,d.jsx)(u.default,{id:191,plural:f,params:{count:f,formattedNames:o}}):l.default.t(191,{formattedNames:o,_plural:f})}case"sub_group_unlink":break;case"community_create":{var o;const[...e]=n,l=null!==(o=(0,s.getFormattedCommunityName)(e[0],!a))&&void 0!==o?o:n[1];return!f(l)&&c(t)?(h=l,i.fbt._('You created the community "{community_name}"',[i.fbt._param("community_name",h)],{hk:"1aYDAG"})):f(l)&&c(t)?i.fbt._("You created the community",null,{hk:"4qa2zp"}):f(l)||null==r?f(l)&&null!=r?function(e){return i.fbt._("{author} created the community",[i.fbt._param("author",e)],{hk:"1REjtL"})}(r):f(l)?i.fbt._("The community was created",null,{hk:"3JaIbm"}):function(e){return i.fbt._('The community "{community_name}" was created',[i.fbt._param("community_name",e)],{hk:"2LF0t"})}(l):function(e,t){return i.fbt._('{author} created the community "{community_name}"',[i.fbt._param("author",e),i.fbt._param("community_name",t)],{hk:"2BQlCF"})}(r,l)}case"linked_group_join":return c(t)?i.fbt._("You joined from the community",null,{hk:"2Dw6An"}):i.fbt._("{author} joined from the community",[i.fbt._param("author",r)],{hk:"XjW5z"});default:__LOG__(2)`wa:formatLinkNotification:unknown message subtype: ${e}`}var h}},26722:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatBspModalText=h,t.formatFbModalText=f,t.formatNotificationTemplateModalText=function(e){const{id:t}=e;switch(e.subtype){case"non_verified_transition":return u.default.t(791,{businessName:(0,s.default)(e)});case"unverified_transition":return u.default.t(852,{businessName:(0,s.default)(e)});case"verified_transition":return u.default.t(855,{businessName:(0,s.default)(e)});case"verified_low_unknown":return u.default.t(854,{businessName:(0,s.default)(e)});case"verified_high":return u.default.t(853,{businessName:(0,s.default)(e)});case"verified_initial_unknown":return u.default.t(838,{businessName:e.displayName()});case"verified_initial_low":return i.fbt._('WhatsApp has made changes to the business account types. "Confirmed Business" will now be labeled as "Business Account".',null,{hk:"48HVkg"});case"verified_initial_high":return i.fbt._('WhatsApp has made changes to the business account types. "Verified Business" will now be labeled as "Official Business Account".',null,{hk:"3y1yjN"});case"verified_transition_any_to_none":return i.fbt._("This account was previously a business account and has now registered as a standard account. It may no longer belong to the business.",null,{hk:"iKnlG"});case"verified_transition_any_to_high":return i.fbt._('WhatsApp has made changes to the business account types. "Verified Business" will now be labeled as "Official Business Account".',null,{hk:"1gfHmP"});case"verified_transition_high_to_low":return u.default.t(841,{businessName:(0,s.default)(e)});case"verified_transition_high_to_unknown":return u.default.t(843,{businessName:(0,s.default)(e)});case"verified_transition_unknown_to_low":return i.fbt._('WhatsApp has made changes to the business account types. This "Confirmed Business" will now be labeled as "Business Account".',null,{hk:"2RO5Xf"});case"verified_transition_low_to_unknown":return u.default.t(845,{businessName:(0,s.default)(e)});case"verified_transition_none_to_low":return u.default.t(846,{businessName:(0,s.default)(e)});case"verified_transition_none_to_unknown":return u.default.t(847,{businessName:e.displayName()});case"biz_verified_transition_top_to_bottom":return i.fbt._('WhatsApp is no longer able to verify that this is the official business account of "{businessName}".',[i.fbt._param("businessName",(0,s.default)(e))],{hk:"TtuFv"});case"biz_verified_transition_bottom_to_top":return i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}".',[i.fbt._param("businessName",(0,s.default)(e))],{hk:"CIwer"});case"biz_intro_top":{const n=(0,s.default)(e),a=r.default.isOfficialBizAccount(t.remote);return(0,o.default)(t.remote,n)?a?i.fbt._('This is the official business account of "WhatsApp".',null,{hk:"3Oudrr"}):i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}".',[i.fbt._param("businessName",n)],{hk:"mx1Ah"}):a?i.fbt._('This is the official business account of "WhatsApp". This account is saved with a different name in your address book.',null,{hk:"2QPmzI"}):i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}". This account is saved with a different name in your address book.',[i.fbt._param("businessName",n)],{hk:"s52gx"})}case"biz_intro_bottom":return i.fbt._('"{businessName}" registered as a business account, but WhatsApp hasn’t verified their name yet.',[i.fbt._param("businessName",(0,d.default)(t.remote))],{hk:"220kAG"});case"biz_name_change":return i.fbt._('WhatsApp has verified that this official business account changed its name and now uses the name "{businessName}".',[i.fbt._param("businessName",(0,s.default)(e))],{hk:"1IAfpu"});case"biz_move_to_consumer_app":return i.fbt._("This account was previously a business account but has now registered as a standard account and may no longer belong to the business.",null,{hk:"nbUPf"});case"biz_two_tier_migration_top":{const n=(0,s.default)(e);return(0,o.default)(t.remote,n)?i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}".',[i.fbt._param("businessName",n)],{hk:"26nFGU"}):i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}". This account is saved with a different name in your address book.',[i.fbt._param("businessName",n)],{hk:"4EwqTR"})}case"biz_two_tier_migration_bottom":return i.fbt._('"{businessName}" registered as a business account, but WhatsApp hasn’t verified their name yet.',[i.fbt._param("businessName",(0,d.default)(t.remote))],{hk:"26jT9r"});case"blue_msg_bsp_fb_to_bsp_premise":case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":case"blue_msg_bsp_premise_unverified":case"blue_msg_bsp_premise_verified":case"blue_msg_consumer_to_bsp_premise_unverified":case"blue_msg_self_fb_to_bsp_premise":case"blue_msg_self_fb_unverified_to_bsp_premise_verified":case"blue_msg_self_fb_verified_to_bsp_premise_unverified":case"blue_msg_self_premise_to_bsp_premise":case"blue_msg_unverified_to_bsp_premise_verified":case"blue_msg_verified_to_bsp_premise_unverified":return i.fbt._("WhatsApp secures messages while they're being delivered to and from the companies that store and manage this chat for {businessName}. Contact {businessName} for more information on their privacy practices.",[i.fbt._param("businessName",(0,s.default)(e))],{hk:"IO6XA"});case"blue_msg_consumer_to_self_premise_unverified":return i.fbt._("This chat is with a business account.",null,{hk:"39HnTA"});case"blue_msg_bsp_fb_to_self_fb":case"blue_msg_bsp_fb_unverified":case"blue_msg_bsp_fb_unverified_to_self_fb_verified":case"blue_msg_bsp_fb_verified":case"blue_msg_bsp_fb_verified_to_self_fb_unverified":case"blue_msg_consumer_to_bsp_fb_unverified":case"blue_msg_consumer_to_self_fb_unverified":case"blue_msg_self_fb_unverified":case"blue_msg_to_bsp_fb":case"blue_msg_to_self_fb":case"blue_msg_unverified_to_bsp_fb_verified":case"blue_msg_unverified_to_self_fb_verified":case"blue_msg_verified_to_bsp_fb_unverified":case"blue_msg_verified_to_self_fb_unverified":return i.fbt._("WhatsApp secures messages while they're being delivered to and from Facebook, where this chat is stored and managed for {businessName}. Contact {businessName} for more information on their privacy practices.",[i.fbt._param("businessName",(0,s.default)(e))],{hk:"3a6lZG"});case"blue_msg_self_fb_verified":const n=(0,l.getIsInternalNumber)(e.chat.id.user),a=(0,s.default)(e);return n?i.fbt._("WhatsApp secures messages while they're being delivered to and from Facebook, where this chat is stored and managed for {businessName}.",[i.fbt._param("businessName",a)],{hk:"4agYvQ"}):i.fbt._("WhatsApp secures messages while they're being delivered to and from Facebook, where this chat is stored and managed for {businessName}. Contact {businessName} for more information on their privacy practices.",[i.fbt._param("businessName",a)],{hk:"3a6lZG"});case"blue_msg_self_premise_unverified":return i.fbt._("{businessName} is registered as a business account.",[i.fbt._param("businessName",(0,s.default)(e))],{hk:"1kOspT"});case"blue_msg_self_premise_verified":{const n=(0,s.default)(e);return(0,o.default)(t.remote,n)?i.fbt._("{businessName} is registered as an official business account.",[i.fbt._param("businessName",n)],{hk:"3l7ere"}):i.fbt._("{businessName} is registered as an official business account. The business is saved as a different name in your contacts.",[i.fbt._param("businessName",n)],{hk:"164TVi"})}case"blue_msg_bsp_fb_verified_to_self_premise_unverified":case"blue_msg_bsp_premise_verified_to_self_premise_unverified":case"blue_msg_self_fb_verified_to_self_premise_unverified":case"blue_msg_verified_to_unverified":return i.fbt._("{businessName} is now registered as a business account, instead of an official business account.",[i.fbt._param("businessName",(0,s.default)(e))],{hk:"2ZxUyL"});case"blue_msg_bsp_fb_unverified_to_self_premise_verified":case"blue_msg_bsp_premise_unverified_to_self_premise_verified":case"blue_msg_self_fb_unverified_to_self_premise_verified":case"blue_msg_unverified_to_verified":{const n=(0,s.default)(e);return(0,o.default)(t.remote,n)?i.fbt._("This chat is with the official business account of {businessName}.",[i.fbt._param("businessName",n)],{hk:"2bAocp"}):i.fbt._("This chat is with the official business account of {businessName}. The business is saved as a different name in your contacts.",[i.fbt._param("businessName",n)],{hk:"3H9EF"})}case"biz_privacy_mode_init_fb":case"biz_privacy_mode_to_fb":return f();case"biz_privacy_mode_init_bsp":case"biz_privacy_mode_to_bsp":return h();default:return null}};var r=a(n(89867)),i=n(48360),o=a(n(72930)),s=a(n(69721)),l=n(17478),u=a(n(14296)),d=a(n(73977)),c=n(85893);function f(){return(0,c.jsxs)(c.Fragment,{children:[i.fbt._("You are always in control of the conversation. You can stop chatting with this business or block them at any time.",null,{hk:"47gPiG"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),i.fbt._("WhatsApp secures your messages and calls with this business.",null,{hk:"3dAXlL"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),i.fbt._("For details about how this chat is secured, click Learn More.",null,{hk:"1yOc3i"})]})}function h(){return(0,c.jsxs)(c.Fragment,{children:[i.fbt._("You are always in control of the conversation. You can stop chatting with this business or block them at any time.",null,{hk:"47gPiG"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),i.fbt._("WhatsApp secures your messages and calls with this business.",null,{hk:"3dAXlL"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),i.fbt._("For details about how this chat is secured, click Learn More.",null,{hk:"1yOc3i"})]})}},64650:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{templateParams:t,id:n}=e;switch(e.subtype){case"non_verified_transition":return u.fbt._("The business account you were chatting with is now a standard account. Click for more info.",null,{hk:"yLpjx"});case"unverified_transition":return u.fbt._("The business account you're chatting with is now unverified. Click for more info.",null,{hk:"1XWyaA"});case"verified_transition":return u.fbt._("The business account you're chatting with is now verified. Click for more info.",null,{hk:"39seL2"});case"verified_low_unknown":return u.fbt._("This chat is with an unverified business account. Click for more info.",null,{hk:"1VMDKu"});case"verified_high":return u.fbt._("This chat is with a verified business account. Click for more info.",null,{hk:"2VqWpM"});case"verified_initial_unknown":return u.fbt._("This chat may be with a business account. Click for more info.",null,{hk:"1O95s1"});case"verified_initial_low":return m.default.t(837,{businessName:(0,h.default)(e)});case"verified_initial_high":return m.default.t(836,{businessName:(0,h.default)(e)});case"verified_transition_any_to_none":return u.fbt._("This business account has now registered as a standard account. Click for more info.",null,{hk:"16Zzqr"});case"verified_transition_any_to_high":return m.default.t(839,{businessName:(0,h.default)(e)});case"verified_transition_high_to_low":return m.default.t(840,{businessName:(0,h.default)(e)});case"verified_transition_high_to_unknown":return m.default.t(842,{businessName:(0,h.default)(e)});case"verified_transition_unknown_to_low":return m.default.t(848,{businessName:(0,h.default)(e)});case"verified_transition_low_to_unknown":return m.default.t(844,{businessName:(0,h.default)(e)});case"verified_transition_none_to_low":return u.fbt._("This account has registered as a business account. Click for more info.",null,{hk:"2j3bow"});case"verified_transition_none_to_unknown":return u.fbt._("This chat may be with a business account. Click for more info.",null,{hk:"10JcC"});case"change_number":const a=t[0],v=d.ContactCollection.get(a),b=(null==v?void 0:v.isMyContact)?v.formattedName:(0,l.widToFormattedUser)(a);return s.default.equals(e.chat.id,a)?u.fbt._("{name} changed their phone number to a new number.",[u.fbt._param("name",b)],{hk:"2D0P7f"}):u.fbt._("{name} changed their phone number. You're currently chatting with their new number.",[u.fbt._param("name",b)],{hk:"3G9LoK"});case"payment_transaction_status_update_failed":return m.default.t(817,{receiverName:(0,_.default)(t[0]),relativeTime:r.Clock.paymentTimestampStr(e.t)});case"payment_transaction_request_cancelled":{const n=t[0],a=(0,_.default)(n),r=t[1],i=parseInt(t[2],10),o=c.formatAmount1000(r,i),s={contactName:a,currencyAndAmount:o,_plural:i/1e3};return e.id.fromMe?m.default.t(796,s):m.default.t(795,s)}case"payment_transaction_status_update_refunded":return m.default.t(819,{receiverName:(0,_.default)(t[0]),relativeTime:r.Clock.paymentTimestampStr(e.t)});case"payment_transaction_status_update_refund_failed":return m.default.t(818,{receiverName:(0,_.default)(t[0]),relativeTime:r.Clock.paymentTimestampStr(e.t)});case"payment_transaction_status_receiver_pending_setup":{const e=t[0],n=(0,_.default)(e),a=t[1],r=parseInt(t[2],10),i=c.formatAmount1000(a,r);return m.default.t(815,{senderName:n,currencyAndAmount:i,_plural:r/1e3})}case"payment_transaction_status_receiver_success_after_hiccup":return m.default.t(816,{senderName:(0,_.default)(t[0]),relativeTime:r.Clock.paymentTimestampStr(e.t)});case"payment_action_account_setup_reminder":return m.default.t(794,{senderName:(0,_.default)(t[0])});case"payment_action_send_payment_reminder":return m.default.t(802,{receiverName:(0,_.default)(t[0])});case"payment_action_send_payment_invitation":return m.default.t(801,{receiverName:(0,_.default)(t[0])});case"payment_action_request_declined":{const n=t[0],a=(0,_.default)(n),r=t[1],i=parseInt(t[2],10),o=c.formatAmount1000(r,i),s={contactName:a,currencyAndAmount:o,_plural:i/1e3};return e.id.fromMe?m.default.t(798,s):m.default.t(797,s)}case"payment_action_request_expired":{const e=t[0],n=(0,_.default)(e),a=t[1],r=(0,_.default)(a),i=t[2],s=parseInt(t[3],10),l=c.formatAmount1000(i,s);return(0,o.isMeAccount)(e)?m.default.t(800,{receiverName:r,currencyAndAmount:l,_plural:s/1e3}):m.default.t(799,{senderName:n,currencyAndAmount:l,_plural:s/1e3})}case"payment_invite_account_set_up":const y=t[0];return m.default.t(803,{invitee:(0,_.default)(y)});case"biz_verified_transition_top_to_bottom":return u.fbt._('This chat is no longer with the official business account of "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"15cVpy"});case"biz_verified_transition_bottom_to_top":return u.fbt._('This chat is now with the official business account of "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2t2lXH"});case"biz_intro_top":const C=e.id.remote;return s.default.isOfficialBizAccount(C)?u.fbt._('This chat is with the official business account of "WhatsApp". Click for more info.',null,{hk:"1nWt8Z"}):u.fbt._('This chat is with the official business account of "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"KRO22"});case"biz_intro_bottom":return u.fbt._("This chat is with a business account. Click for more info.",null,{hk:"NOsnP"});case"biz_name_change":return u.fbt._('This official business account changed its name to "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3ACt4d"});case"biz_move_to_consumer_app":return u.fbt._("This business account has now registered as a standard account. Click for more info.",null,{hk:"1k39GT"});case"biz_two_tier_migration_top":return u.fbt._('This chat is with the official business account of "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"jDir7"});case"biz_two_tier_migration_bottom":return u.fbt._("This chat is with a business account. Click for more info.",null,{hk:"jSYUU"});case"blue_msg_bsp_fb_to_bsp_premise":return u.fbt._("{businessName} no longer uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"dcaPK"});case"blue_msg_bsp_fb_to_self_fb":return u.fbt._("{businessName} now only uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"44oTS3"});case"blue_msg_bsp_fb_to_self_premise":return u.fbt._("{businessName} no longer uses Facebook or other companies to manage its WhatsApp conversations.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"PHES2"});case"blue_msg_bsp_fb_unverified":return u.fbt._("This chat is with a business account that uses Facebook and other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",null,{hk:"2xddIM"});case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":{const t=(0,h.default)(e);return(0,f.default)(n.remote,t)?u.fbt._("{businessName} is now registered as an official business account. This business no longer uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1OexG0"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business no longer uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"4arvoG"})}case"blue_msg_bsp_fb_unverified_to_self_fb_verified":{const t=(0,h.default)(e);return(0,f.default)(n.remote,t)?u.fbt._("{businessName} is now registered as an official business account that only uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"297aTJ"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business only uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"3iPREE"})}case"blue_msg_bsp_fb_unverified_to_self_premise_verified":return u.fbt._("{businessName} is now registered as an official business account. This business no longer uses Facebook or other companies to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3xdlPw"});case"blue_msg_bsp_fb_verified":{const t=(0,h.default)(e);return(0,f.default)(n.remote,t)?u.fbt._("This chat is with the official business account of {businessName}. This business uses Facebook and other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"26Ni9o"}):u.fbt._("This chat is with the official business account of {businessName}, but it's saved as a different name in your contacts. This business uses Facebook and other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"4sL2ht"})}case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it no longer uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"4l3wy7"});case"blue_msg_bsp_fb_verified_to_self_fb_unverified":return u.fbt._("{businessName} is no longer an official business account and it now only uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2E4Cr2"});case"blue_msg_bsp_fb_verified_to_self_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it no longer uses Facebook or other companies to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3yeAJD"});case"blue_msg_bsp_premise_to_self_premise":return u.fbt._("{businessName} no longer uses other companies to manage its WhatsApp conversations.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"BwSEx"});case"blue_msg_bsp_premise_unverified":return u.fbt._("This chat is with a business account that uses other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",null,{hk:"196kMD"});case"blue_msg_bsp_premise_unverified_to_self_premise_verified":return u.fbt._("{businessName} is now registered as an official business account. This business no longer uses other companies to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1rY5J2"});case"blue_msg_bsp_premise_verified":{const t=(0,h.default)(e);return(0,f.default)(n.remote,t)?u.fbt._("This chat is with the official business account of {businessName}. This business uses other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"RnZGQ"}):u.fbt._("This chat is with the official business account of {businessName}, but it's saved as a different name in your contacts. This business uses other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1mJ4O4"})}case"blue_msg_bsp_premise_verified_to_self_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it no longer uses other companies to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3vyb9n"});case"blue_msg_consumer_to_bsp_fb_unverified":return u.fbt._("{businessName} is now registered as a business account that uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1mplAw"});case"blue_msg_consumer_to_bsp_premise_unverified":return u.fbt._("{businessName} is now registered as a business account that uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1Lg2Ln"});case"blue_msg_consumer_to_self_fb_unverified":return u.fbt._("{businessName} is now registered as a business account that uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"fVfG9"});case"blue_msg_consumer_to_self_premise_unverified":return u.fbt._("{businessName} is now registered as a business account. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"25gNuS"});case"blue_msg_self_fb_to_bsp_premise":return u.fbt._("{businessName} now uses other companies instead of Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3goxbh"});case"blue_msg_self_fb_to_self_premise":return u.fbt._("{businessName} no longer uses Facebook to manage its WhatsApp conversations.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"22ka0Y"});case"blue_msg_self_fb_unverified":return u.fbt._("This chat is with a business account that uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",null,{hk:"BnVcY"});case"blue_msg_self_fb_unverified_to_bsp_premise_verified":{const t=(0,h.default)(e);return(0,f.default)(n.remote,t)?u.fbt._("{businessName} is now registered as an official business account. This business now uses other companies instead of Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"2PMRlL"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business now uses other companies instead of Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"27sgHC"})}case"blue_msg_self_fb_unverified_to_self_premise_verified":return u.fbt._("{businessName} is now registered as an official business account. This business no longer uses Facebook to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2BxZaJ"});case"blue_msg_self_fb_verified":{const t=(0,h.default)(e),a=(0,p.getIsInternalNumber)(e.chat.id.user);return(0,f.default)(n.remote,t)?a?u.fbt._("This chat is with the official account of {businessName}. This account uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"2khRW"}):u.fbt._("This chat is with the official business account of {businessName}. This business uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"2eH8ov"}):a?u.fbt._("This chat is with the official account of {businessName}, but it's saved as a different name in your contacts. This account uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"3avPYT"}):u.fbt._("This chat is with the official business account of {businessName}, but it's saved as a different name in your contacts. This business uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1v1qGq"})}case"blue_msg_self_fb_verified_to_bsp_premise_unverified":return u.fbt._("{businessName} is no longer an official business account. This business uses other companies instead of Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2pw2kX"});case"blue_msg_self_fb_verified_to_self_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it no longer uses Facebook to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"20NrmG"});case"blue_msg_self_premise_to_bsp_premise":return u.fbt._("{businessName} now uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3Kt1r4"});case"blue_msg_self_premise_unverified":return u.fbt._("This chat is with a business account. Click to learn more.",null,{hk:"2dhxdN"});case"blue_msg_self_premise_verified":return u.fbt._("This chat is with the official business account of {businessName}. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3xYVEJ"});case"blue_msg_to_bsp_fb":return u.fbt._("{businessName} now uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3moaZo"});case"blue_msg_to_consumer":return u.fbt._("{businessName} is no longer registered as a business account.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1qYJk3"});case"blue_msg_to_self_fb":return u.fbt._("{businessName} now uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"FFVKC"});case"blue_msg_unverified_to_bsp_fb_verified":{const t=(0,h.default)(e);return(0,f.default)(n.remote,t)?u.fbt._("{businessName} is now registered as an official business account that uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"2ADBSN"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1RYriC"})}case"blue_msg_unverified_to_bsp_premise_verified":{const t=(0,h.default)(e);return(0,f.default)(n.remote,t)?u.fbt._("{businessName} is now registered as an official business account that uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"4vY8TF"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"4Asief"})}case"blue_msg_unverified_to_self_fb_verified":{const t=(0,h.default)(e);return(0,f.default)(n.remote,t)?u.fbt._("{businessName} is now registered as an official business account that uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1B2Vda"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"rRdk0"})}case"blue_msg_unverified_to_verified":return u.fbt._("{businessName} is now registered as an official business account. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2tnxMX"});case"blue_msg_verified_to_bsp_fb_unverified":return u.fbt._("{businessName} is no longer an official business account. This business now uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"458O0M"});case"blue_msg_verified_to_bsp_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it now uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3A3koW"});case"blue_msg_verified_to_self_fb_unverified":return u.fbt._("{businessName} is no longer an official business account and it now uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1StTSm"});case"blue_msg_verified_to_unverified":return u.fbt._("{businessName} is no longer registered as an official business account. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1Agjw1"});case"biz_privacy_mode_init_fb":return u.fbt._("This business uses a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"3wvGOC"});case"biz_privacy_mode_to_fb":return u.fbt._("This business is now using a secure service from Meta to manage this chat. Click to learn more.",null,{hk:"BRJIE"});case"biz_privacy_mode_init_bsp":return u.fbt._("This business works with other companies to manage this chat. Click to learn more.",null,{hk:"VbOOZ"});case"biz_privacy_mode_to_bsp":return u.fbt._("This business is now working with other companies to manage this chat. Click to learn more.",null,{hk:"2vEnTy"});case"block_contact":return"true"===t[0]?u.fbt._("You blocked this contact",null,{hk:"4GeKEc"}):u.fbt._("You unblocked this contact",null,{hk:"1cRMeM"});case"disappearing_mode":const S=t[0],E=parseInt(S,10)||0,x=t[1];if((0,o.isMeAccount)(x))return(0,g.getDisappearingModeYouString)(E);const T=d.ContactCollection.gadd(x);return(0,g.getDisappearingModeOtherString)(E,T.formattedName);default:return i.UA.isElectron?u.fbt._("You received a message on your phone, but your version of WhatsApp Desktop doesn't support it.",null,{hk:"mhBjl"}):u.fbt._("You received a message on your phone, but your version of WhatsApp Web doesn't support it.",null,{hk:"4mqP2W"})}};var r=n(40234),i=n(26741),o=n(78820),s=a(n(89867)),l=n(62054),u=n(48360),d=n(19380),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(39519)),f=a(n(72930)),h=a(n(69721)),p=n(17478),m=a(n(14296)),g=n(79259),_=a(n(73977));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}},16961:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedCommunityName=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=s.ContactCollection.get(e.toString()))return g(e,t,h(e));return null},t.getFormattedGroupListForCommunity=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.unFlattenPairList)(e).map((e=>{let[n,a]=e;const r=p(n,t);return""!==r&&null!=r?r:a}));return(0,u.default)(n,t,"group_list")},t.getFormattedName=m,t.getFormattedNames=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return m(e,t);const n=e.map((e=>m(e,t)));return(0,u.default)(n,t)};var r=n(81572),i=n(56952),o=n(88172),s=n(19380),l=n(50101),u=a(n(88793)),d=a(n(73213)),c=n(85893);function f(e){return t=>{t&&(t.preventDefault(),t.stopPropagation()),(0,l.findChat)(e).then((e=>{r.Cmd.openChatFromUnread(e).then((t=>{t&&o.ComposeBoxActions.focus(e)}))}))}}function h(e){return t=>{t&&(t.preventDefault(),t.stopPropagation()),r.Cmd.communityHome(e)}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=s.ContactCollection.get(e.toString()))return g(e,t,f(e));const n=d.default.get(e.toString());return(null==n?void 0:n.subject)?n.subject:null}function m(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g(e,t,f(e))}function g(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;const r=s.ContactCollection.gadd(e,{silent:!0}),i=t?void 0:a,{Name:o}=n(12176);return t?r.formattedUser:(0,c.jsx)(o,{contact:r,onClick:i})}},69721:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return null!==(t=null===(n=e.templateParams[0])||void 0===n?void 0:n.toString())&&void 0!==t?t:(0,r.default)(e.id.remote)};var r=a(n(73977))},39992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case"non_verified_transition":return(0,a.getNonVerifiedTransitionFaqUrl)();case"unverified_transition":return(0,a.getUnverifiedTransitionFaqUrl)();case"verified_transition":return(0,a.getVerifiedTransitionFaqUrl)();case"verified_low_unknown":return(0,a.getVerifiedLowUnknownFaqUrl)();case"verified_high":return(0,a.getVerifiedHighFaqUrl)();case"biz_intro_top":case"biz_intro_bottom":case"biz_two_tier_migration_bottom":case"biz_name_change":case"biz_verified_transition_top_to_bottom":case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":return(0,a.getBusinessFaqUrl)();case"blue_msg_bsp_fb_to_bsp_premise":case"blue_msg_bsp_fb_to_self_fb":case"blue_msg_bsp_fb_to_self_premise":case"blue_msg_bsp_fb_unverified":case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":case"blue_msg_bsp_fb_unverified_to_self_fb_verified":case"blue_msg_bsp_fb_unverified_to_self_premise_verified":case"blue_msg_bsp_fb_verified":case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":case"blue_msg_bsp_fb_verified_to_self_fb_unverified":case"blue_msg_bsp_fb_verified_to_self_premise_unverified":case"blue_msg_bsp_premise_to_self_premise":case"blue_msg_bsp_premise_unverified":case"blue_msg_bsp_premise_unverified_to_self_premise_verified":case"blue_msg_bsp_premise_verified":case"blue_msg_bsp_premise_verified_to_self_premise_unverified":case"blue_msg_consumer_to_bsp_fb_unverified":case"blue_msg_consumer_to_bsp_premise_unverified":case"blue_msg_consumer_to_self_fb_unverified":case"blue_msg_consumer_to_self_premise_unverified":case"blue_msg_self_fb_to_bsp_premise":case"blue_msg_self_fb_to_self_premise":case"blue_msg_self_fb_unverified":case"blue_msg_self_fb_unverified_to_bsp_premise_verified":case"blue_msg_self_fb_unverified_to_self_premise_verified":case"blue_msg_self_fb_verified":case"blue_msg_self_fb_verified_to_bsp_premise_unverified":case"blue_msg_self_fb_verified_to_self_premise_unverified":case"blue_msg_self_premise_to_bsp_premise":case"blue_msg_self_premise_unverified":case"blue_msg_self_premise_verified":case"blue_msg_to_bsp_fb":case"blue_msg_to_consumer":case"blue_msg_to_self_fb":case"blue_msg_unverified_to_bsp_fb_verified":case"blue_msg_unverified_to_bsp_premise_verified":case"blue_msg_unverified_to_self_fb_verified":case"blue_msg_unverified_to_verified":case"blue_msg_verified_to_bsp_fb_unverified":case"blue_msg_verified_to_bsp_premise_unverified":case"blue_msg_verified_to_self_fb_unverified":case"blue_msg_verified_to_unverified":return(0,a.getE2EEnterpriseFaqUrl)();case"biz_privacy_mode_init_fb":case"biz_privacy_mode_to_fb":case"biz_privacy_mode_init_bsp":case"biz_privacy_mode_to_bsp":return(0,a.getE2EEnterpriseFaqUrl)();default:return(0,a.getFaqUrl)()}};var a=n(21310)},60238:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=null!=t?t:"",a=e.mentionMap();if(!a)return function(e){return r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.RICH_TEXT)?(0,i.default)(e,u,l.default):e}(n);if((0,s.isDropLastNameEnabled)()&&e.chat.groupMetadata){const t=e.chat.groupMetadata,s=r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.RICH_TEXT)?o.Configuration.FormattedGroupNotification({mentions:a,groupMetadata:t}):o.Configuration.RawGroupNotification({mentions:a,groupMetadata:t});return(0,i.default)(n,s,l.default)}const d=r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.RICH_TEXT)?o.Configuration.FormattedNotification({mentions:a}):o.Configuration.RawNotification({mentions:a});return(0,i.default)(n,d,l.default)};var r=n(38184),i=a(n(80691)),o=n(30695),s=n(41566),l=a(n(39949));const u=o.Configuration.Format({mentions:{}})},73977:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=r.ContactCollection.get(e);return t?t.formattedName:(0,a.widToFormattedUser)(e)};var a=n(62054),r=n(19380)},32973:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=a(n(40436)),o=n(67294),s=a(n(42438)),l=n(18644),u=a(n(2773)),d=n(85893);class c extends o.Component{constructor(){var e;super(...arguments),e=this,this.state={_stack:[],_transition:"default",_activeKey:0,_ended:!1,isPushed:!1},this.setRefUIE=e=>{this.refUIE=e},this.getElement=()=>{var e;return null===(e=this.refUIE)||void 0===e?void 0:e.getNode()},this.popAndUpdate=(e,t)=>{const n=this.state._stack;if(n.length<2)return void this.pop(t);const a=(0,o.cloneElement)(n[n.length-2],e);n[n.length-2]=a,this.pop(t)},this.push=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props.pushTransition;e.setState((e=>({_stack:e._stack.concat(t),_transition:n,_activeKey:++e._activeKey,_ended:!1,isPushed:!0})))},this.pop=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.popTransition;const n=e.state._stack.slice(0,-1);n.length?e.setState((e=>({_stack:n,_transition:t,_activeKey:--e._activeKey,isPushed:!1}))):e.state._ended||e.setState({_ended:!0},e.end)},this.end=e=>{this.props.onEnd?this.props.onEnd(e):(0,r.default)(this.context,"this.context").requestDismiss(e)},this.stackSize=()=>this.state._stack.length,this.requestFocus=()=>{this.props.requestFocus&&this.props.requestFocus()}}handleRequestDismiss(){this.pop()}render(){const{_stack:e,_transition:t,_activeKey:n,isPushed:a}=this.state;if(0===e.length)return null;let r=e[e.length-1];return r=(0,o.cloneElement)(r,{isPushed:a}),r=(0,d.jsx)(l.UIE,{displayName:`FlowDrawer${n}`,escapable:!0,ref:this.setRefUIE,requestFocus:this.requestFocus,requestDismiss:this.handleRequestDismiss.bind(this),children:r},n),(0,d.jsx)(i.default,{transitionName:t,className:s.default.container,children:this.props.removeTopDrawer?r:e})}}t.default=c,c.contextType=u.default,c.defaultProps={removeTopDrawer:!0,pushTransition:"flow-transition-drawer-push",popTransition:"flow-transition-drawer-pop"},c.displayName="FlowComponent"},65932:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a;const u=(0,o.default)(e);t||n||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS(`StateHOC wrapping class with no concerns, check ${u}`));const d=[];if(t)for(const e in t)d.push(new i.default(u,e,t[e],!0));if(n)for(const e in n)t&&t.hasOwnProperty(e)&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS(`Component has marked "${e}" as both a normal and weak concern, check ${u}`)),d.push(new i.default(u,e,n[e],!1));return(a=class t extends s.WrappedComponent{constructor(e){super(e),this._rr=(e,t)=>{this.setState((n=>({proxies:(0,r.default)((0,r.default)({},n.proxies),{},{[e.name]:e.createProxy(t)})})))};const n={};let a=!1;for(let r=0;r<d.length;r++){const i=d[r],o=i.name,s=i.getModelAndValidate(t._getModelOrProxy(o,e));if(s){const e=i.createProxy(s);i.attachConcern(s,e.proxyBitMask,this._rr),n[o]=e}else a=!0}this.state={props:e,proxies:n,hasBroken:a}}static _getModelOrProxy(e,t){return t[e]}static getDerivedStateFromProps(e,n){const a=(0,r.default)({},n.proxies);let i=!1;if(!n.hasBroken){const r=n.props;for(let n=0;n<d.length;n++){const o=d[n],s=o.name,l=o.getModel(t._getModelOrProxy(s,r)),u=o.getModelAndValidate(t._getModelOrProxy(s,e));l!==u&&(u?a[s]=o.createProxy(u):i=!0)}}return{props:e,proxies:a,hasBroken:i}}componentDidUpdate(e){if(!this.state.hasBroken)for(let n=0;n<d.length;n++){const a=d[n],r=a.name,i=a.getModel(t._getModelOrProxy(r,e)),o=a.getModelAndValidate(t._getModelOrProxy(r,this.props));if(i!==o&&(a.detachConcern(i,this._rr),o)){const e=this.state.proxies[r];a.attachConcern(o,e.proxyBitMask,this._rr)}}}componentWillUnmount(){if(!this.state.hasBroken)for(let e=0;e<d.length;e++){const n=d[e];n.detachConcern(n.getModel(t._getModelOrProxy(n.name,this.props)),this._rr)}}_getComponent(){return s._getComponent.call(this)}render(){const{proxies:t,hasBroken:n,hasError:a}=this.state;return n||a?null:(0,l.jsx)(e,(0,r.default)((0,r.default)({ref:this.setComponent},this.props),t))}}).displayName=`State(${u})`,a.wrappedComponent=null,a};var r=a(n(81109)),i=a(n(87541)),o=a(n(38701)),s=n(7128),l=n(85893)},4478:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;return(t=class extends l.WrappedComponent{constructor(){var e;super(...arguments),e=this,this._timers=new Map,this._timerId=0,this._unmounted=!1,this.setInterval=(e,t)=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Setting interval after unmount"));const n=++this._timerId,a=window.setInterval(e,t);return this._timers.set(n,(()=>{window.clearInterval(a),this._timers.delete(n)})),n},this.clearInterval=e=>{const t=this._timers.get(e);t&&t()},this.setTimeout=(e,t)=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Setting timeout after unmount"));const[n,a]=this._cbWrapper(e),r=window.setTimeout(a,t);return this._timers.set(n,(()=>{window.clearTimeout(r),this._timers.delete(n)})),n},this.clearTimeout=e=>{const t=this._timers.get(e);t&&t()},this.requestAnimationFrame=e=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Requesting animation frame after unmount"));const[t,n]=this._cbWrapper(e),a=window.requestAnimationFrame(n);return this._timers.set(t,(()=>{window.cancelAnimationFrame(a),this._timers.delete(t)})),t},this.cancelAnimationFrame=e=>{const t=this._timers.get(e);t&&t()},this.throttle=(t,n,a)=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Throttling after unmount"));const[r,i]=this._cbWrapper(t),s=(0,o.default)(i,n,a),l=s.cancel.bind(s);s.cancel=()=>{l(),this._timers.delete(r)};const u=function(){e._unmounted||(e._timers.set(r,s.cancel),s(...arguments))};return u.cancel=s.cancel,u.flush=s.flush,u},this.debounce=(t,n,a)=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Debouncing after unmount"));const[r,o]=this._cbWrapper(t),s=(0,i.default)(o,n,a),l=s.cancel.bind(s),u=s.flush.bind(s);s.cancel=()=>{l(),this._timers.delete(r)},s.flush=()=>{u()};const d=function(){e._unmounted||(e._timers.set(r,s.cancel),s(...arguments))};return d.cancel=s.cancel,d.flush=s.flush,d},this._cbWrapper=t=>{const n=++this._timerId;return[n,function(){e._timers.delete(n),t(...arguments)}]}}_getComponent(){return l._getComponent.call(this)}componentWillUnmount(){this._unmounted=!0,this._timers.forEach((e=>e()))}render(){return this.state.hasError?null:(0,u.jsx)(e,(0,r.default)({ref:this.setComponent,setInterval:this.setInterval,clearInterval:this.clearInterval,setTimeout:this.setTimeout,clearTimeout:this.clearTimeout,requestAnimationFrame:this.requestAnimationFrame,cancelAnimationFrame:this.cancelAnimationFrame,debounce:this.debounce,throttle:this.throttle},this.props))}}).displayName=`Timer(${(0,s.default)(e)})`,t.wrappedComponent=null,t};var r=a(n(81109)),i=a(n(23279)),o=a(n(23493)),s=a(n(38701)),l=n(7128),u=n(85893)},77214:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const a=null!=n?n:n=>(null==e?void 0:e.getter(n))===t,l=(0,i.useRef)(),[u,d]=(0,i.useState)(!1),c=null!=(null==e?void 0:e.value)&&a(e.value);u!==c&&d(c);return(0,o.useListener)(e,t,((e,t)=>{if("focus"===e){const e=l.current;e&&(r.default.focus(e),t&&(0,s.scrollIntoViewIfNeeded)(e))}d(!!e)})),[l,u]};var r=a(n(52013)),i=n(67294),o=n(87550),s=n(78756)},65789:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{active:n=!1,delay:a=0}=null!=t?t:{},o=(0,i.useRef)(e);o.current=e;const s=(0,i.useRef)();(0,i.useEffect)((()=>{const e=e=>o.current(e),t=()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.call(s)};return t(),n&&(s.current=(0,r.default)(e,{delay:a})),t}),[n,a])};var r=a(n(73540)),i=n(67294)},16031:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.default)(e);return(0,i.useMemo)((()=>(0,r.default)(t)),[t])};var r=a(n(51463)),i=n(67294),o=a(n(89113))},18063:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const[t,n]=(0,r.useState)(void 0),a=(0,i.default)((e=>{n(e)}),e);return[t,a]};var r=n(67294),i=a(n(51799))},74744:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,i.useState)((()=>o().getValue()));return(0,i.useEffect)((()=>o().subscribe((e=>{t(e)}))),[]),e};var r=a(n(51463)),i=n(67294);const o=(0,r.default)((()=>new s));class s{constructor(){this._subscribers=new Set}subscribe(e){if(this._subscribers.has(e))throw new Error("Callback can only be added once.");return this._subscribers.add(e),this._updateListener(),()=>{this._subscribers.delete(e),this._updateListener()}}getValue(){var e;return null!==(e=window.devicePixelRatio)&&void 0!==e?e:1}_updateListener(){var e;if(0===this._subscribers.size)return void(null===(e=this._destroyListener)||void 0===e||e.call(this));if(null!=this._destroyListener)return;const t=matchMedia(`(resolution: ${this.getValue()}dppx)`),n=()=>{var e;null===(e=this._destroyListener)||void 0===e||e.call(this);const t=this.getValue();this._subscribers.forEach((e=>{e(t)})),this._updateListener()};t.addListener(n),this._destroyListener=()=>{t.removeListener(n),this._destroyListener=null}}}},71946:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useElectronTextSize=function(){return(0,o.default)(r.Cmd,"textsize_change",(()=>(0,s.getTextSizeForScale)(i.default.get().textsize)))};var r=n(81572),i=a(n(38224)),o=a(n(96570)),s=n(3198)},96570:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const s=(0,r.useRef)(!0),l=(0,o.default)((()=>n())),[u,d]=(0,r.useState)((()=>l()));return(0,i.useListener)(e,t,(()=>{d(l())})),(0,r.useEffect)((()=>{s.current?s.current=!1:d(l())}),[e,l,...a]),u};var r=n(67294),i=n(87550),o=a(n(89113))},59083:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useFlow=function(e,t){const n=(0,d.default)(),{pushTransition:a=m,popTransition:r=g,onEnd:o}=t||{},[l,c]=(0,s.useReducer)(v,{initialStep:e,initialTransition:a},_),f=(0,s.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;c({type:"push",payload:{step:e,transition:t}})}),[a]),h=(0,s.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;c({type:"pop",payload:{transition:e}})}),[r]),b=(0,u.default)((e=>{o?o(e):(0,i.default)(n,"uim").requestDismiss(e)})),y=(0,u.default)((()=>l.stack.length));(0,s.useEffect)((()=>{l.ended&&b()}),[b,l.ended]);const C={push:f,pop:h,end:b,stackSize:y,step:l.stack[l.stack.length-1],transition:l.transition,activeKey:l.activeKey,isPushed:l.isPushed};return[p,C]};var r=a(n(81109)),i=a(n(45095)),o=a(n(40436)),s=n(67294),l=a(n(56720)),u=a(n(89113)),d=a(n(95402)),c=n(18644),f=n(85893);const h={height:"ppled2lx",start:"tkdu00h0",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"lhggkp7q",top:"qq0sjtgm",width:"ln8gz9je"},p=(0,s.forwardRef)(((e,t)=>{const{flow:n,children:a}=e,{pop:r,transition:i,activeKey:s}=n;return null==a?null:(0,f.jsx)(o.default,{transitionName:i,className:(0,l.default)(h),children:(0,f.jsx)(c.UIE,{ref:t,displayName:`FlowDrawer${s}`,escapable:!0,requestFocus:()=>{e.requestFocus&&e.requestFocus()},requestDismiss:t=>{e.requestDismiss?e.requestDismiss(t):r()},children:a},s)})}));p.displayName="FlowComponent";const m="flow-transition-drawer-push",g="flow-transition-drawer-pop";function _(e){let{initialStep:t,initialTransition:n}=e;return null==t?{stack:[],transition:"default",activeKey:0,ended:!1,isPushed:!1}:{stack:[t],transition:null!=n?n:m,activeKey:1,ended:!1,isPushed:!0}}function v(e,t){var n,a,i;switch(t.type){case"push":return null==(null===(n=t.payload)||void 0===n?void 0:n.step)?e:(0,r.default)((0,r.default)({},e),{},{stack:e.stack.concat(t.payload.step),transition:null!==(a=null===(i=t.payload)||void 0===i?void 0:i.transition)&&void 0!==a?a:e.transition,activeKey:e.activeKey+1,ended:!1,isPushed:!0});case"pop":const l=e.stack.slice(0,-1);var o,s;return l.length>=1?(0,r.default)((0,r.default)({},e),{},{stack:l,transition:null!==(o=null===(s=t.payload)||void 0===s?void 0:s.transition)&&void 0!==o?o:e.transition,activeKey:e.activeKey-1,isPushed:!1}):e.ended?e:(0,r.default)((0,r.default)({},e),{},{ended:!0});default:return e}}},67662:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.useMemo)((()=>function(e){return t=>{e&&("function"==typeof e?e(t):e.current=t)}}(e)),[e])};var a=n(67294)},44692:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,l.useState)(null),[a,r]=(0,l.useState)(d),i=h(e);return(0,l.useEffect)((()=>{if(t)return c().observe(t,r,e)}),[t,i]),[n,a]};var r=a(n(81109)),i=a(n(51463)),o=a(n(32176)),s=a(n(45095)),l=n(67294);const u={root:null,rootMargin:"0px",threshold:0},d={intersectionRatio:0,isIntersecting:!1};const c=(0,i.default)((()=>new f));class f{constructor(){this._observers=new Map,this._getObserver=e=>{const t=h(e);if(!this._observers.has(t)){const n=new Map,a=new IntersectionObserver((e=>{for(const t of e){const e=n.get(t.target),{intersectionRatio:a,isIntersecting:r}=t;null==e||e({intersectionRatio:a,isIntersecting:r})}}),e);this._observers.set(t,{observer:a,callbacks:n})}return(0,s.default)(this._observers.get(t),"this._observers.get(key)")},this._cleanup=e=>{const t=h(e);this._observers.delete(t)},this.observe=(e,t,n)=>{const{observer:a,callbacks:r}=this._getObserver(n);if(r.has(e))throw new Error("You can't observe the same element twice.");return r.set(e,t),a.observe(e),()=>{a.unobserve(e),r.delete(e),0===r.size&&(a.disconnect(),this._cleanup(n))}}}}function h(e){const{root:t,rootMargin:n,threshold:a}=(0,r.default)((0,r.default)({},u),e);return[t,n,a].map((e=>(0,o.default)(e))).join("-")}},48711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,a.useState)(null),[n,o]=(0,a.useState)(i);return(0,a.useLayoutEffect)((()=>{if(e)return(0,r.observe)(e,o)}),[e]),[t,n]};var a=n(67294),r=n(91665);const i={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0}},35461:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StateHookMissingModelError=void 0,t.useModelValues=function(e,t,n){if(null==e)throw __LOG__(4,void 0,new Error,!0)`useModelValues hook received an unexpected \`null\` model`,SEND_LOGS("state-hook-null-model"),new u("Unknown");const a=d(e,t,n);return(0,i.default)(a,"values")},t.useOptionalModelValues=d;var r=n(40265),i=a(n(45095)),o=n(67294),s=a(n(87541)),l=n(18146);class u extends((0,r.customError)("StateHookMissingModelError")){constructor(e){super(`Received a null value for model key: ${e}`)}}function d(e,t,n){const{isStrong:a=!0,componentName:r}=null!=n?n:{},i=e?(0,l.unproxy)(e):null,u=(0,o.useRef)();function d(){if(null==u.current){if(!i)return null;u.current=new s.default(null!=r?r:"Hook(useModelValues)",i.proxyName,t,a,!0)}return u.current}const[c,f]=(0,o.useState)((()=>{const e=d();if(!e)return null;const t=e.getModelAndValidate(i);return t?e.createProxy(t):null})),h=(0,o.useCallback)(((e,t)=>{const n=e.getModelAndValidate(t);f(n?e.createProxy(n):null)}),[]);(0,o.useEffect)((()=>{const e=d();if(!e||!c)return;const t=e.getModel(i);return e.attachConcern(t,c.proxyBitMask,h),()=>{e.detachConcern(t,h)}}),[i,c,h]);const[p,m]=(0,o.useState)(i),g=d();if(p!==i&&g){p&&g.detachConcern(p,h);const e=g.getModelAndValidate(i);m(e),f(e?g.createProxy(e):null)}return c}t.StateHookMissingModelError=u},59732:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,r.useState)((()=>(0,a.shouldShowNUX)(e)));(0,r.useEffect)((()=>{null==(0,a.getNUX)(e)&&((0,a.setNUX)(e,{views:0}),n((0,a.shouldShowNUX)(e)),a.NuxPrefsEvent.handleNuxChange(e))}),[e]);const s=(0,r.useCallback)((()=>{(0,o.viewNux)(e),n((0,a.shouldShowNUX)(e)),a.NuxPrefsEvent.handleNuxChange(e)}),[e]);return(0,i.useListener)(a.NuxPrefsEvent,e,(()=>{n((0,a.shouldShowNUX)(e))})),[t,s,()=>{(0,o.dismissNux)(e),n((0,a.shouldShowNUX)(e)),a.NuxPrefsEvent.handleNuxChange(e)}]};var a=n(74315),r=n(67294),i=n(87550),o=n(67774)},828:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useRef)(null),n=(0,u.default)(),a=(0,l.default)(e.onDOMCommit),d=(0,l.default)(e.onMount),c=(0,l.default)(e.onBeforePaint),f=(0,l.default)(e.onAfterPaint),h=(0,l.default)(e.onUnmount),p=(0,l.default)(e.onError);(0,s.useEffect)((()=>(d(),t.current=requestAnimationFrame((()=>{t.current=null,c()})),(0,o.documentFlushed)({signal:n}).then((()=>{n.aborted||f()})).catch((0,i.filteredCatch)(r.AbortError,p)),()=>{null!=t.current&&cancelAnimationFrame(t.current),h()})),[d,c,f,h,p,n]),(0,s.useLayoutEffect)((()=>{a()}),[a])};var r=n(89385),i=n(50796),o=n(98159),s=n(67294),l=a(n(89113)),u=a(n(3409))},64471:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useRef)(!1),n=(0,i.default)((()=>{const n=new u.RenderMarker(e);return document.hasFocus()||t.current||(n.commit(l.QuickLogActionType.CANCEL),t.current=!0),n}));(0,o.useListener)(document,"blur",(()=>{t.current||(n.current.commit(l.QuickLogActionType.CANCEL),t.current=!0)})),(0,s.default)({onDOMCommit:()=>{t.current||n.current.markDOMCommit()},onMount:()=>{t.current||n.current.markMounted()},onBeforePaint:()=>{t.current||n.current.markPaintedStart()},onAfterPaint:()=>{t.current||(n.current.markPaintedEnd(),n.current.commit(l.QuickLogActionType.SUCCESS),t.current=!0)},onError:()=>{t.current||(n.current.commit(l.QuickLogActionType.FAIL),t.current=!0)},onUnmount:()=>{t.current||(n.current.commit(l.QuickLogActionType.CANCEL),t.current=!0)}})};var r=n(67294),i=a(n(16223)),o=n(87550),s=a(n(828)),l=n(48870),u=n(83792)},1776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetStateHookMissingModelPropertyError=void 0,t.useSetModelValue=function(e,t){const n=(0,r.unproxy)(e),s=n.proxyName;null==o[s]&&(o[s]=new Set([...n.__props,...n.__session]));if(!o[s].has(t))throw new i(e.proxyName,t);return(0,a.useCallback)((e=>{if("function"==typeof e){const a=n.get(t);n.set(t,e(a))}else n.set(t,e)}),[t,n])};var a=n(67294),r=n(18146);class i extends Error{constructor(e,t){super(`The model "${e}" has no property/sessions "${t}" defined`),this.name="SetStateHookMissingModelPropertyError"}}t.SetStateHookMissingModelPropertyError=i;const o={}},90886:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const a=(0,o.default)(e),{leading:s,trailing:l}=null!=n?n:{},u=(0,i.useMemo)((()=>(0,r.default)(a,t,n)),[t,s,l,a]);return(0,i.useEffect)((()=>u.cancel),[u]),u};var r=a(n(23493)),i=n(67294),o=a(n(89113))},27698:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=(0,i.default)(t),[a,o]=(0,r.useState)(e),s=(0,r.useCallback)((()=>o((e=>{const t=!e;return n(t),t}))),[n]);return[a,s]};var r=n(67294),i=a(n(89113))},74570:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e]=(0,l.useAddListenerOnce)(),t=(0,u.default)();return(0,s.useCallback)((n=>{i.Cmd.uiBusy?e(i.Cmd,"ui_idle",n):(0,o.documentFlushed)({signal:t}).then((()=>{n()})).catch((0,r.catchAbort)((()=>{})))}),[e,t])};var r=n(89385),i=n(81572),o=n(98159),s=n(67294),l=n(87550),u=a(n(3409))},87778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,a.useState)(r());function n(){t(r())}return(0,a.useEffect)((()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)})),[]),e};var a=n(67294);function r(){return{width:window.innerWidth,height:window.innerHeight}}},40936:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AddContactToGroupFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(14296)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,83192))).default})),"AddContactToGroupFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:o.default.t(772),error:Boolean(e.error)})});t.AddContactToGroupFlowLoadable=c},78457:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ArchivedFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(9488),n.e(7205)]).then(n.bind(n,42237))).default})),"ArchivedFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.ArchivedFlowLoadable=d},30087:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AttachMediaFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,93259))).default})),"AttachMediaFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.AttachMediaFlowLoadable=d},85874:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AttachPollModalLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,9237))).default})),"AttachPollModal");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Poll",null,{hk:"1PlYYp"}),error:Boolean(e.error)})});t.AttachPollModalLoadable=c},7156:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AttachVcardsFlowLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,91037))).default})),"AttachVcardsFlow");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Send contacts",null,{hk:"9ZMyz"}),error:Boolean(e.error)})});t.AttachVcardsFlowLoadable=c},59638:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AttachProductModalLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,44090))).default})),"AttachProductModal");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Send products",null,{hk:"3C7pQj"}),error:Boolean(e.error)})});t.AttachProductModalLoadable=c},95568:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.CartFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(58267)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,92246))).default})),"CartFlowLoadable");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.CartFlowLoadable=d},87912:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogManagementFlowLoadable=void 0,t.createCatalogManagementFlowObject=b,t.openCatalogManagementFlow=function(e,t){b(((n,a)=>{const r=(0,f.buildProductCatalogContext)(new h.ProductCatalogSession,(0,d.getMaybeBizPlatformForLogging)(n.toString()),t);i.DrawerManager.openDrawerLeft((0,g.jsx)(v,{catalog:a,catalogId:n,product:e}),void 0,void 0,r,m.FocusType.TABBABLE)}))},t.requireBundle=void 0;var r=a(n(48926)),i=n(41455),o=n(78820),s=n(48360),l=a(n(68356)),u=n(99989),d=n(62632),c=a(n(16866)),f=n(97567),h=n(9153),p=a(n(15334)),m=n(87956),g=n(85893);const _=(0,p.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,86704))).default})),"CatalogManagementFlow");t.requireBundle=_;const v=(0,l.default)({loader:_,loading:e=>(0,g.jsx)(c.default,{title:s.fbt._("Catalog",null,{hk:"3QDkTE"}),error:Boolean(e.error)})});function b(e){const t=(0,o.getMeUser)(),n=u.CatalogCollection.get(t);null==n?u.CatalogCollection.find(t).then((n=>{e(t,n)})).catch((()=>{e(t)})):(n.stale=!0,n.markProductCollectionOld(),e(t,n))}t.CatalogManagementFlowLoadable=v},90878:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.LabelFlowLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(16866)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,77467))).default})),"LabelFlow");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Labels",null,{hk:"t1hII"}),error:Boolean(e.error)})});t.LabelFlowLoadable=c},47809:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ManageLabelFlowLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,51095))).default})),"ManageLabelFlow");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Label items",null,{hk:"2xOVMD"}),error:Boolean(e.error)})});t.ManageLabelFlowLoadable=c},28629:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.MerchantDetailsFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(9488),n.e(7205)]).then(n.bind(n,90727))).default})),"MerchantDetails");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.MerchantDetailsFlowLoadable=d},67700:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(2790),n.e(3770)]).then(n.bind(n,63770))).default})),"OrderCreationFlow");var d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.default=d},17085:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,62643))).default})),"OrderManagementFlow");var d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.default=d},67455:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ProductDetailsFlowLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(16866)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,82554))).default})),"ProductDetailsFlow");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Details",null,{hk:"1hLRT1"}),error:Boolean(e.error)})});t.ProductDetailsFlowLoadable=c},54712:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendProductModalLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,66123))).default})),"SendProductModal");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Send message to",null,{hk:"2kkuQs"}),error:Boolean(e.error)})});t.SendProductModalLoadable=c},38205:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.CadminPromotionNotificationFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(50860)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,32387))).default})),"CadminPromotionNotificationFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.CadminPromotionNotificationFlowLoadable=d},49946:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.CaptureMediaDrawerLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,33704))).default})),"CaptureMediaDrawer");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.CaptureMediaDrawerLoadable=d},81178:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.CommunityTabFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,94070))).default})),"CommunityTabFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.CommunityTabFlowLoadable=d},56512:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ComposeBoxPanelsLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(49575)),s=a(n(15334)),l=a(n(60425)),u=n(85893);const d=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(9488),n.e(7205)]).then(n.bind(n,60425))).default})),"ComposeBoxPanels");t.requireBundle=d;(0,i.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{error:Boolean(e.error)})});const c=l.default;t.ComposeBoxPanelsLoadable=c},63463:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ContactMsgInfoFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(14296)),s=a(n(16866)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,87971))).default})),"ContactMsgInfoFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:o.default.t(459),error:Boolean(e.error)})});t.ContactMsgInfoFlowLoadable=c},24390:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ContactUsModalLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(14296)),l=a(n(81791)),u=a(n(15334)),d=n(85893);const c=(0,u.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,42769))).default})),"ContactUsModal");t.requireBundle=c;const f=(0,o.default)({loader:c,loading:e=>(0,d.jsx)(l.default,{title:i.fbt._("Contact us",null,{hk:"1FJ2cU"}),okText:s.default.t(590),error:Boolean(e.error)})});t.ContactUsModalLoadable=f},70174:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.EditCaptureFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,53135))).default})),"EditCaptureFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.EditCaptureFlowLoadable=d},75362:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ForwardMessageFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(14296)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,22587))).default})),"ForwardMessageFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:o.default.t(319,{_plural:1}),error:Boolean(e.error)})});t.ForwardMessageFlowLoadable=c},88280:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.GroupInviteLinkDrawerLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(16866)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,61703))).default})),"GroupInviteLinkDrawer");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Invite to group via link",null,{hk:"3vDtFL"}),error:Boolean(e.error)})});t.GroupInviteLinkDrawerLoadable=c},64326:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.GroupMsgInfoFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,85916))).default})),"GroupMsgInfoFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.GroupMsgInfoFlowLoadable=d},18685:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.GroupV4InviteFlowLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(81791)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,7335))).default})),"GroupV4InviteFlow");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{okText:i.fbt._("Invite to group",null,{hk:"FbMSO"}),error:Boolean(e.error)})});t.GroupV4InviteFlowLoadable=c},23831:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.InfoFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(9488),n.e(7205)]).then(n.bind(n,4782))).default})),"InfoFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.InfoFlowLoadable=d},88240:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.LicensesPopupLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(81791)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,87027))).default})),"LicensesPopup");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Licenses",null,{hk:"39PWhp"}),okText:i.fbt._("OK",null,{hk:"2KEeHb"}),error:Boolean(e.error)})});t.LicensesPopupLoadable=c},74429:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.LiveLocationDrawerLoadable=t.ExpiredLocationDrawerLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(16866)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){const e=yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,85905));return{LiveLocationDrawer:e.LiveLocationDrawer,ExpiredLocationDrawer:e.ExpiredLocationDrawer}})),"LiveLocationDrawer");t.requireBundle=d;const c=(0,o.default)({loader:(f=(0,r.default)((function*(){return(yield d()).LiveLocationDrawer})),function(){return f.apply(this,arguments)}),loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Live Location",null,{hk:"1LvIwY"}),error:Boolean(e.error)})});var f;t.LiveLocationDrawerLoadable=c;const h=(0,o.default)({loader:(p=(0,r.default)((function*(){return(yield d()).ExpiredLocationDrawer})),function(){return p.apply(this,arguments)}),loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Expired Location",null,{hk:"2bVGaN"}),error:Boolean(e.error),retry:e.retry})});var p;t.ExpiredLocationDrawerLoadable=h},67019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requireVoipCommonDisabled=t.requireVoip=t.requireStickerPackCollection=t.requireStatusV3Collection=t.requireSetHandlers=t.requireMsgCollection=t.requireMain=t.requireLoadProtoVersions=t.requireLabelCollection=t.requireHandleVideoStreamingRequest=t.requireHandleSocketMessage=t.requireEmojiConfig=t.requireEmojiAssetMapCreator=t.requireContactCollection=t.requireClearAppStates=t.requireChatCollection=t.requireCallCollection=void 0;t.requireMain=()=>n(73481).Z;t.requireContactCollection=()=>n(19380).ContactCollection;t.requireLoadProtoVersions=()=>({features:n(76342).Z,17:n(90826).Z});t.requireHandleSocketMessage=()=>n(67938).default;t.requireEmojiConfig=()=>({APPLE:{UNICODE_TO_EMOJI:n(73743).Z,SELECTOR:"apple"},WHATSAPP:{UNICODE_TO_EMOJI:n(15848).Z,SELECTOR:"wa"}});t.requireEmojiAssetMapCreator=()=>n(14315).emojiAssetMapCreator;t.requireStatusV3Collection=()=>n(59387).StatusV3Collection;t.requireClearAppStates=()=>n(4641).Z;t.requireHandleVideoStreamingRequest=()=>n(70437).handleVideoStreamingRequest;t.requireLabelCollection=()=>n(16770).LabelCollection;t.requireChatCollection=()=>n(69951).ChatCollection;t.requireMsgCollection=()=>n(59871).MsgCollection;t.requireStickerPackCollection=()=>n(66299).StickerPackCollection;t.requireCallCollection=()=>n(60868).CallCollection;t.requireVoip=()=>n(84356).Voip;t.requireVoipCommonDisabled=()=>n(61748);t.requireSetHandlers=()=>n(3155).y},58267:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)("div",{children:(0,i.jsx)(r.default,{error:e.error})})};var r=a(n(2875)),i=n(85893)},2875:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{error:t,text:n=r.fbt._("There was an unexpected error, please click to reload the application.",null,{hk:"3olAtj"}),retry:a=(()=>window.location.reload())}=e;return(0,l.jsx)("div",{className:o.default.container,onClick:t?a:null,children:t?(0,l.jsx)(u,{text:n}):(0,l.jsx)(i.Loading,{})})};var r=n(48360),i=n(85600),o=a(n(25879)),s=a(n(23217)),l=n(85893);function u(e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:o.default.circle,children:(0,l.jsx)(s.default,{name:"live-location-refresh"})}),(0,l.jsx)("div",{className:o.default.text,children:e.text})]})}},49575:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)({[u.default.panelBodyError]:e.error},u.default.panelBody);return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:s.default.container}),(0,f.jsxs)("div",{className:u.default.gifPanel,children:[(0,f.jsx)("div",{className:(0,o.default)(c.styles.barContainer)}),(0,f.jsx)("div",{className:u.default.bodyContainer,children:(0,f.jsx)("div",{className:t,children:(0,f.jsx)("div",{className:l.default.noResults,children:(0,f.jsx)(d.default,(0,r.default)({},e))})})})]})]})};var r=a(n(81109)),i=a(n(94184)),o=a(n(56720)),s=a(n(64827)),l=a(n(1659)),u=a(n(91258)),d=a(n(2875)),c=n(99951),f=n(85893)},81791:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(i.default,{title:e.title,onOK:()=>{},okText:e.okText,okDisabled:!0,onCancel:()=>r.ModalManager.close(),children:(0,l.jsx)("div",{className:s.default.container,children:(0,l.jsx)(o.default,{error:e.error})})})};var r=n(14597),i=a(n(52665)),o=a(n(2875)),s=a(n(86690)),l=n(85893)},16866:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{title:t,headerType:n=u.DRAWER_HEADER_TYPE.SMALL}=e,a=(0,i.default)(e,f),h=(0,o.default)();return(0,c.jsxs)(s.default,{children:[(0,c.jsx)(u.DrawerHeader,{title:t,type:n,onCancel:()=>{null==h||h.requestDismiss()}}),(0,c.jsx)(l.default,{children:(0,c.jsx)(d.default,(0,r.default)({},a))})]})};var r=a(n(81109)),i=a(n(6479)),o=a(n(95402)),s=a(n(60453)),l=a(n(69637)),u=n(94790),d=a(n(2875)),c=n(85893);const f=["title","headerType"]},92350:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)("overlay",u.default.mediaViewer),n=()=>r.ModalManager.closeMedia();return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:t,"data-animate-media-viewer":!0,children:[(0,f.jsxs)("div",{className:l.default.mediaPanelHeader,children:[(0,f.jsx)("div",{className:l.default.info}),(0,f.jsx)("div",{className:l.default.mediaPanelTools,children:(0,f.jsx)(d.MenuBar,{theme:"strong",children:(0,f.jsx)(d.MenuBarItem,{a8nText:"btn-close",icon:(0,f.jsx)(c.default,{name:"x-viewer"}),title:o.fbt._("Close",null,{hk:"19Jpec"}),onClick:n})},"media-panel-header")})]}),(0,f.jsx)("div",{className:u.default.mediaContent,dir:"ltr",onClick:n,children:(0,f.jsx)("div",{className:u.default.media,children:(0,f.jsx)(s.default,{error:e.error})})})]})})};var r=n(14597),i=a(n(94184)),o=n(48360),s=a(n(2875)),l=a(n(77375)),u=a(n(80674)),d=n(46346),c=a(n(23217)),f=n(85893)},50860:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(s.Modal,{type:s.ModalTheme.Tower,children:(0,l.jsx)(o.default,(0,r.default)({headerType:i.DRAWER_HEADER_TYPE.POPUP},e))})};var r=a(n(81109)),i=n(94790),o=a(n(16866)),s=n(57224),l=n(85893)},77148:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=null!=e.svgName?(0,s.jsx)("div",{className:o.default.defaultIcon}):void 0;return(0,s.jsx)("div",{className:o.default.container,children:(0,s.jsxs)("div",{className:o.default.body,dir:"ltr",children:[(0,s.jsx)("div",{className:o.default.imageContainer,children:t}),e.error?(0,s.jsx)(i.LazyLoadRetry,{xstyle:l.lazyLoadRetry,onClick:e.retry}):(0,s.jsx)(r.default,{})]})})};a(n(56720));var r=a(n(46918)),i=n(85600),o=a(n(40134)),s=n(85893);const l={lazyLoadRetry:{position:"lhggkp7q",top:"qq0sjtgm",left:"tukmaf4q",zIndex:"g2bpp9au",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",color:"k17s6i4e",backgroundColor:"epdck8xl",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"}}},19572:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{error:t,text:n,retry:a}=e,c=(0,i.default)(s.default.closeButton,l.default.v3X,{}),f=(0,i.default)(s.default.closeButton,l.default.backIcon,{}),h=()=>r.ModalManager.closeMedia();return(0,d.jsxs)("div",{className:l.default.viewer,"data-animate-status-v3-viewer":!0,children:[(0,d.jsx)("button",{className:c,onClick:h,children:(0,d.jsx)(u.default,{name:"x-viewer"})}),(0,d.jsx)("button",{className:f,onClick:h,children:(0,d.jsx)(u.default,{name:"back",directional:!0})}),(0,d.jsx)(o.default,{error:t,text:n,retry:a})]})};var r=n(14597),i=a(n(94184)),o=a(n(2875)),s=a(n(69872)),l=a(n(7497)),u=a(n(23217)),d=n(85893)},20910:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.default)(u.default.closeButton,c.default.v3_x,{});return(0,p.jsx)("div",{className:c.default.modalBackground,"data-animate-status-v3-modal-background":!0,children:(0,p.jsxs)("div",{className:c.default.mainWrapper,children:[(0,p.jsx)("div",{className:d.default.listPanel,children:(0,p.jsxs)("div",{className:d.default.panelHeader,children:[(0,p.jsx)("div",{className:d.default.headerButtonsPrimary}),(0,p.jsx)("div",{className:d.default.headerText,children:(0,p.jsx)("span",{className:d.default.primaryHeaderText,children:s.fbt._("My Status",null,{hk:"225G1q"})})}),(0,p.jsx)("div",{className:d.default.headerButtonsSecondary})]})}),(0,p.jsx)("div",{className:f.default.outStatusPanel,children:(0,p.jsx)(l.default,(0,r.default)({},e))}),(0,p.jsx)("button",{className:t,onClick:()=>i.ModalManager.closeMedia(),children:(0,p.jsx)(h.default,{name:"x-viewer"})})]})})};var r=a(n(81109)),i=n(14597),o=a(n(94184)),s=n(48360),l=(a(n(14296)),a(n(2875))),u=a(n(69872)),d=a(n(26185)),c=a(n(18442)),f=a(n(89683)),h=a(n(23217)),p=n(85893)},47645:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.LottieAnimation=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(2875)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,60195))).default})),"LottieAnimation");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.LottieAnimation=d},94205:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ManageCommunityGroupsFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,37926))).default})),"ManageCommunityGroupsFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.ManageCommunityGroupsFlowLoadable=d},11603:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.MediaViewerFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(92350)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(9488),n.e(7205)]).then(n.bind(n,12642))).default})),"MediaViewerFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.MediaViewerFlowLoadable=d},92507:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.NewChatFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,3884))).default})),"NewChatFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.NewChatFlowLoadable=d},23620:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.NewCommunityFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,81971))).default})),"NewCommunityFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.NewCommunityFlowLoadable=d},26489:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.NewGroupFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,66960))).default})),"NewGroupFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.NewGroupFlowLoadable=d},33646:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoPickerLoadable=function(e){switch(e.type){case l.default.GROUP:case l.default.DEFAULT_ANNOUNCEMENT_GROUP:return(0,d.jsx)(h,(0,r.default)((0,r.default)({},e),{},{a8nText:"group-pic-picker"}));case l.default.COMMUNITY:return(0,d.jsx)(p,(0,r.default)((0,r.default)({},e),{},{a8nText:"community-pic-picker"}));case l.default.PROFILE:return(0,d.jsx)(f,(0,r.default)((0,r.default)({},e),{},{a8nText:"profile-pic-picker"}));case l.default.COVER_PHOTO:return(0,d.jsx)(m,(0,r.default)((0,r.default)({},e),{},{a8nText:"cover-photo-picker"}))}},t.requireBundle=void 0;var r=a(n(81109)),i=a(n(48926)),o=a(n(68356)),s=a(n(77148)),l=a(n(43556)),u=a(n(15334)),d=n(85893);const c=(0,u.default)((0,i.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,82541))).default})),"PhotoPicker");t.requireBundle=c;const f=(0,o.default)({loader:c,loading:e=>(0,d.jsx)(s.default,{svgName:"default-user",error:Boolean(e.error),retry:e.retry})}),h=(0,o.default)({loader:c,loading:e=>(0,d.jsx)(s.default,{svgName:"default-group",error:Boolean(e.error),retry:e.retry})}),p=(0,o.default)({loader:c,loading:e=>(0,d.jsx)(s.default,{svgName:"default-group",error:Boolean(e.error),retry:e.retry})}),m=(0,o.default)({loader:c,loading:e=>(0,d.jsx)(s.default,{error:Boolean(e.error),retry:e.retry})})},46588:(e,t,n)=>{"use strict";var a=n(95318);t.Z=function(){return V.apply(this,arguments)};var r=a(n(48926)),i=n(8139),o=n(40936),s=n(78457),l=n(30087),u=n(59638),d=n(7156),c=n(38205),f=n(49946),h=n(95568),p=n(81178),m=n(63463),g=n(70174),_=n(75362),v=n(88280),b=n(64326),y=n(18685),C=n(23831),S=n(90878),E=n(74429),x=n(47645),T=n(94205),M=n(47809),k=n(11603),w=n(92507),A=n(23620),P=n(26489),j=n(33646),I=n(67455),O=n(77117),N=n(98633),R=n(11234),D=n(66040),L=n(49824),B=n(54712),F=n(45383),G=n(82364),U=n(78781);function V(){return(V=(0,r.default)((function*(){try{const e=[(0,k.requireBundle)(),(0,C.requireBundle)()];yield Promise.all(e);const t=[(0,O.requireBundle)(),(0,j.requireBundle)(),(0,E.requireBundle)(),(0,G.requireBundle)(),(0,l.requireBundle)(),(0,f.requireBundle)(),(0,g.requireBundle)(),(0,b.requireBundle)(),(0,w.requireBundle)(),(0,P.requireBundle)(),(0,A.requireBundle)(),(0,B.requireBundle)(),(0,u.requireBundle)(),(0,R.requireBundle)(),(0,L.requireBundle)(),(0,_.requireBundle)(),(0,d.requireBundle)(),(0,I.requireBundle)(),(0,h.requireBundle)(),(0,S.requireBundle)(),(0,M.requireBundle)(),(0,o.requireBundle)(),(0,F.requireBundle)(),(0,v.requireBundle)(),(0,U.requireBundle)(),(0,N.requireBundle)(),(0,m.requireBundle)(),(0,D.requireBundle)(),(0,y.requireBundle)(),(0,s.requireBundle)(),(0,x.requireBundle)()];(0,i.communitiesEnabled)()&&t.push((0,T.requireBundle)(),(0,p.requireBundle)()),(0,i.cadminSelfDemoteEnabled)()&&t.push((0,c.requireBundle)()),yield Promise.all(t)}catch(e){__LOG__(3)`Error prefetching loadables: ${e.stack}`}}))).apply(this,arguments)}},77117:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ProfileDrawerFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,30579))).default})),"ProfileDrawer");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.ProfileDrawerFlowLoadable=d},15334:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=function(e){return(t,n)=>{__LOG__(3)`Loadable error: ${t.stack}`;const a=n>1?"s":"";__LOG__(4,void 0,new Error,!0)`Failed to load a component`,SEND_LOGS(`loadable:${e} failed to load after [${n}] attempt${a}`)}}(t);let a,s="INIT",l=0;return function u(){switch(s){case"INIT":case"FAILURE":return s="INFLIGHT",a=e().then((e=>(e||n(new Error("Lazyload response is empty"),l),s="SUCCESS",e))).catch(function(){var e=(0,r.default)((function*(e){if(__LOG__(3)`Lazyload failure for component ${t}`,s="FAILURE",l++,l<=10)return yield(0,o.delayMs)(1e3*l),u();throw n(e,l),e}));return function(){return e.apply(this,arguments)}}()),a;case"INFLIGHT":case"SUCCESS":return(0,i.default)(a,"inflightPromise");default:return Promise.reject(new Error("retriable_promise_hoc:promiseStatus is invalid"))}}};var r=a(n(48926)),i=a(n(45095)),o=n(13959)},11234:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendGroupInviteFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(14296)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,89495))).default})),"SendGroupInviteFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:o.default.t(344),error:Boolean(e.error)})});t.SendGroupInviteFlowLoadable=c},66040:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendLogsPopupLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(14296)),s=a(n(81791)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,74943))).default})),"SendLogsPopup");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:o.default.t(599),okText:o.default.t(590),error:Boolean(e.error)})});t.SendLogsPopupLoadable=c},49824:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendMsgMultiModalLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(50860)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,39524))).default})),"SendMsgMultiModal");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Send message to",null,{hk:"2kkuQs"}),error:Boolean(e.error)})});t.SendMsgMultiModalLoadable=c},45383:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SettingsFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(14296)),s=a(n(16866)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,77248))).default})),"SettingsFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:o.default.t(604),error:Boolean(e.error)})});t.SettingsFlowLoadable=c},82364:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StarredDrawerLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,50517))).default})),"StarredDrawer");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.StarredDrawerLoadable=d},98633:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.QuotedStatusV3FlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(19572)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,10121))).default})),"QuotedStatusV3Flow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.QuotedStatusV3FlowLoadable=d},78781:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StatusV3FlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(20910)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,540))).default})),"StatusV3Flow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.StatusV3FlowLoadable=d},76626:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StickerStoreFlowLoadable=void 0;var r=a(n(48926)),i=a(n(68356)),o=a(n(16866)),s=a(n(15334)),l=n(85893);const u=(0,s.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,86245))).default})),"StickerStoreFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(o.default,{error:Boolean(e.error)})});t.StickerStoreFlowLoadable=d},49376:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.VerificationDrawerLoadable=void 0;var r=a(n(48926)),i=n(48360),o=a(n(68356)),s=a(n(16866)),l=a(n(15334)),u=n(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([n.e(8295),n.e(1702),n.e(9488),n.e(2790),n.e(275)]).then(n.bind(n,45925))).default})),"VerificationDrawer");t.requireBundle=d;const c=(0,o.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{title:i.fbt._("Verify Security Code",null,{hk:"1vTVgt"}),error:Boolean(e.error)})});t.VerificationDrawerLoadable=c},14828:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,o.useState)(null),a=()=>{r.ModalManager.close()},d=e.msg.list;if(!d)return null;const f=()=>{t&&((0,m.default)(e.msg,t),a())};let b;t&&(b=(0,_.jsxs)("div",{className:c.default.controlsSummary,children:[t.title,(0,_.jsx)("div",{className:c.default.btnActive,children:(0,_.jsx)(p.Round,{large:!0,onClick:f,children:(0,_.jsx)(g.default,{directional:!0,name:"send"})})})]}));return(0,_.jsx)(h.Modal,{type:h.ModalTheme.Tower,children:(0,_.jsxs)(s.default,{theme:"products",children:[(0,_.jsx)(u.DrawerHeader,{title:d.buttonText,type:u.DRAWER_HEADER_TYPE.POPUP,onCancel:a}),(0,_.jsx)(l.default,{theme:"padding",children:(0,_.jsx)(v,{list:d,onSelect:e=>{n(e)},selected:t})}),(0,_.jsx)(i.default,{transitionName:"slide-up-down-footer",className:c.default.container,children:b})]})})};var r=n(14597),i=a(n(40436)),o=n(67294),s=a(n(60453)),l=a(n(69637)),u=n(94790),d=a(n(33308)),c=a(n(72681)),f=a(n(86506)),h=n(57224),p=n(82857),m=a(n(13164)),g=a(n(23217)),_=n(85893);function v(e){let{list:t,onSelect:n,selected:a}=e;return t.sections.map(((e,t)=>(0,_.jsx)(d.default,{title:e.title,theme:"list-section",shadow:!1,children:e.rows.map(((e,t)=>(0,_.jsx)(f.default,{row:e,onSelect:n.bind(null,e),selected:e===a},t)))},t)))}},86506:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)(r.default,{primary:e.row.title,secondary:e.row.description,theme:"list-msg",onClick:e.onSelect,detail:(0,o.jsx)(i.default,{checked:e.selected,hover:!1,radio:!0,onChange:e.onSelect,systemUncheckedColor:!0})})};var r=a(n(44356)),i=a(n(9275)),o=n(85893)},82145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplAnnotateCartView=function(e,t){a.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_CART_VIEW,{bool:{IsConsumer:e},int:{ProductsCount:t}})},t.qplAnnotateCatalogView=function(e){a.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_CATALOG_VIEW,{bool:{IsCached:e}})},t.qplAnnotateOrderView=function(e){a.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_ORDER_VIEW,{int:{ProductsCount:e}})},t.qplAnnotateProductView=function(e){a.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_PRODUCT_VIEW,{bool:{IsConsumer:e}})},t.qplAnnotateProfileCatsView=function(e){a.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_PROFILE_CATS_VIEW,{int:{CategoryCount:e}})},t.qplDropCatalogView=function(){a.QPL.markerDrop(r.QuickLogMarkerId.WHATSAPP_CATALOG_VIEW)},t.qplDropOrderView=function(){a.QPL.markerDrop(r.QuickLogMarkerId.WHATSAPP_ORDER_VIEW)},t.qplDropProductView=function(){a.QPL.markerDrop(r.QuickLogMarkerId.WHATSAPP_PRODUCT_VIEW)},t.qplEndCartView=function(e){a.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_CART_VIEW,e)},t.qplEndCatalogView=function(e){a.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_CATALOG_VIEW,e)},t.qplEndOrderCreate=function(e){a.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_ORDER_CREATE,e)},t.qplEndOrderView=function(e){a.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_ORDER_VIEW,e)},t.qplEndProductView=function(e){a.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_PRODUCT_VIEW,e)},t.qplEndProfileCatsView=function(e){a.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_PROFILE_CATS_VIEW,e)},t.qplEndProfileSave=function(e){a.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_PROFILE_SAVE,e)},t.qplStartCartView=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_CART_VIEW,{annotations:{string:{EntryPoint:e}}})},t.qplStartCatalogView=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_CATALOG_VIEW,{annotations:{string:{EntryPoint:e}}})},t.qplStartCollectionViewAll=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,{annotations:{string:{EntryPoint:e}}})},t.qplStartOrderCreate=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_ORDER_CREATE,{annotations:{int:{ProductsCount:e}}})},t.qplStartProductView=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_PRODUCT_VIEW,{annotations:{string:{EntryPoint:e}}})},t.qplStartProfileCatsView=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_PROFILE_CATS_VIEW,{annotations:{string:{EntryPoint:e}}})},t.qplStartProfileSave=function(e){a.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_PROFILE_SAVE,{annotations:{string:{Field:e}}})};var a=n(48870),r=n(27798)},52805:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MainComponent=function(e){const{animate:t}=e,n=(0,M.useContext)(re.ThemeContext),r=(0,M.useRef)(null),f=(0,M.useRef)(null),p=(0,M.useRef)(null),I=(0,M.useRef)(null),z=(0,M.useRef)(null),Ce=(0,M.useRef)(!1),Se=(0,M.useRef)(null),Ee=(0,M.useRef)(null),xe=(0,k.default)((()=>new c.ShiftTimer((()=>{if(document.activeElement!==document.body)return;const e=ue.UIM.Manager.getTop();null==e||e.requestFocus()})))),[Te,Me]=(0,M.useState)(!1),[ke,we]=(0,M.useState)(!1),[Ae,Pe]=(0,M.useState)(L.Conn.isVoipInitialized),je=()=>{var e,t;const n=null===(e=f.current)||void 0===e?void 0:e.getClientWidth();if(null==n)return!1;const a=null===(t=r.current)||void 0===t?void 0:t.clientWidth;return null!=a&&(!!p.current&&p.current.animatePanel(a,n))},Ie=()=>{switch(L.Conn.tos){case 1:case 2:v.ModalManager.open((0,ve.jsx)(se.default,{}),{blockClose:!0});break;case 3:__LOG__(2)`TOS (terms of service) stage number 3, logging out`,he.Socket.logout()}},Oe=()=>{L.Conn.smbTos&&v.ModalManager.open((0,ve.jsx)(ne.default,{}),{blockClose:!0})},Ne=()=>{_.LegacyPhoneFeatures.supportsFeature(_.LegacyPhoneFeatures.F.USER_NOTICE)&&(0,x.isNonZeroNumber)(K.default.noticeId)&&!0===K.default.blocking&&v.ModalManager.open((0,ve.jsx)(de.default,{notice:K.default}),{blockClose:!0})},Re=e=>{let t=e?6e4:0;I.current=new a;const n=I.current.signal;(0,d.promiseLoop)(function(){var e=(0,i.default)((function*(e){try{if(yield(0,u.delayMs)(t),n.aborted)throw new l.AbortError;if(ae.Stream.markUnavailable(3e4),yield new Promise((e=>{Ee.current=e})),n.aborted)throw new l.AbortError;document.hasFocus()&&ae.Stream.markAvailable(),t=6e4}catch(t){if(t.name!==l.ABORT_ERROR)throw t;e()}}));return function(){return e.apply(this,arguments)}}()).finally((()=>{I.current=null}))},De=()=>{z.current=h.default.setLocalTimeout((()=>{(0,X.queryServerProps)(),De()}),(0,T.default)().add(1,"days").valueOf())};(0,M.useEffect)((()=>{ae.Stream.uiActive=!0,ae.Stream.markAvailable();const{platform:e}=L.Conn;if((0,te.default)((0,G.getEmojiTypeFromPlatform)(e)),j.AssetLoader.setPlatform(e),W.default.menuBatchRenderWith((()=>{W.default.trigger(`${V.default.Event}:${V.default.Events.LOGGED_IN}`)})),Re(!0),De(),L.Conn.isSMB&&Oe(),Ie(),Ne(),y.UA.isSafari&&!U.default&&(0,S.shouldShowNUX)(b.NUX.SAFARI_LIMITED_SUPPORT)&&(setTimeout((()=>{v.ModalManager.open((0,ve.jsx)(D.default,{onOK:()=>v.ModalManager.close(),okText:H.default.t(531),children:(0,ve.jsx)(J.SafariLimitedText,{})}))}),250),(0,S.setNUX)(b.NUX.SAFARI_LIMITED_SUPPORT,{views:1})),Se.current=null==ye?void 0:ye.whenLessThan(1,((e,t)=>{new Y.default.WebcUiFreeze({webcUiFreezeFps:e,webcUiFreezeT:(0,o.default)(t,0)}).commit(),__LOG__(2)`Low FPS Tracker: ${(0,o.default)(e,2)}fps, ${(0,o.default)(t,3)/1e3}s since page open.`})),me.default.supported){const e=navigator.serviceWorker;(null==e?void 0:e.controller)&&_e.default.request(e.controller,ge.default.PRELOAD_LAZY_LOADED_BUNDLES).catch((()=>{}))}if(Z.ServerProps.wallpapersV2){const e=N.default.get(O.DEFAULT_PREFERENCE);if(e&&fe.DEFAULT_CHAT_WALLPAPER!==e.wallpaperColor){const t=n.theme;if(!(0,fe.colorExistsInTheme)(e.wallpaperColor,t)){const n="light"===t?"dark":"light";if((0,fe.colorExistsInTheme)(e.wallpaperColor,n)){const t=(0,fe.toggleWallpaperColor)(e.wallpaperColor,n);e.set("wallpaperColor",t)}}}}}),[]),(0,A.default)((()=>{var e,t;xe.current.cancel(),W.default.menuBatchRenderWith((()=>{W.default.trigger(`${V.default.Event}:${V.default.Events.LOGGED_OUT}`)})),C.default.canMuckHistory()&&window.history.back(),ae.Stream.uiActive=!1,null===(t=I.current)||void 0===t||t.abort(),h.default.clearTimeout(z.current),null===(e=Se.current)||void 0===e||e.call(Se)}));const Le=C.default.canMuckHistory();Le&&window.history.pushState({},"",window.location.href);(0,w.useListener)(Le?window:null,"popstate",be),(0,w.useListener)(L.Conn,"change:isVoipInitialized",(()=>{Pe(L.Conn.isVoipInitialized)})),(0,w.useListener)(L.Conn,"change:tos",Ie),(0,w.useListener)(L.Conn.isSMB?L.Conn:null,"change:smbTos",Oe),(0,w.useListener)(K.default,["change:blocking","change:noticeId"],Ne);(0,w.useListener)(null,"keydown",(e=>{if(e.ctrlKey&&!e.altKey&&!e.metaKey&&!e.shiftKey&&e.keyCode===s.default.EQUAL_SIGN){const e=ContentSettings.get();e.textsize<3&&(e.textsize=e.textsize+1),ContentSettings.set(e)}}));const Be=()=>{var e;null===(e=Ee.current)||void 0===e||e.call(Ee),Ee.current=null};(0,w.useListener)(document,["mousemove","scroll","keydown"],Be),(0,w.useListener)(window,["focus","resize"],Be);const Fe=(0,E.default)(q.default.app,{three:Te,two:!Te,"app-animating":ke,[q.default.noAnimation]:!t});let Ge=(0,ve.jsx)(ce.default,{});return(0,ve.jsx)(le.UIE,{uimState:ue.UIMState.INACTIVE,displayName:"Main",children:(0,ve.jsxs)(oe.default,{className:Fe,onBlur:()=>{xe.current.debounce(10)},ref:r,onShowKeyboardShortcuts:e=>{let{target:t}=e;for(let e=0;e<5;e++){if((n=t)&&n.getAttribute("contentEditable")||n instanceof HTMLInputElement)return;t=t.parentNode}var n;v.ModalManager.open((0,ve.jsx)(pe.default,{})),e.preventDefault()},skipNode:e=>{let t=!1;return g.DrawerManager.existsDrawerLeft((n=>{const a=f.current;t=t||n&&Boolean(null==a?void 0:a.containsDOMNode(e))})),g.DrawerManager.existsDrawerMid((n=>{const a=p.current;t=t||n&&Boolean(null==a?void 0:a.containsDOMNode(e))})),t},children:[(0,ve.jsx)($.default,{}),(0,ve.jsx)(P.default,{}),(0,ve.jsx)(Q.PiPManager,{}),(0,ve.jsx)(ie.default,{}),Ge,undefined,(0,ve.jsxs)("div",{className:q.default.drawerManager,children:[(0,ve.jsx)("div",{className:(0,E.default)(q.default.pane,q.default.paneOne),"data-testid":"drawer-left",children:(0,ve.jsx)(F.DrawerManagerComponent,{direction:F.Dir.LEFT})}),(0,ve.jsx)("div",{className:(0,E.default)(q.default.pane,q.default.paneTwo),"data-testid":"drawer-middle",children:(0,ve.jsx)(F.DrawerManagerComponent,{direction:F.Dir.MID})}),(0,ve.jsx)("div",{className:(0,E.default)(q.default.pane,q.default.paneThree),"data-testid":"drawer-right",children:(0,ve.jsx)(F.DrawerManagerComponent,{direction:F.Dir.RIGHT,onDrawerIn:()=>{Ce.current=!1,m.Cmd.onPanesWillChange(3),Me(!0),we(!0),m.Cmd.onPanesDidChange(3),je()},onDrawerOut:()=>{Ce.current=!0,we(!0);je()&&(m.Cmd.onPanesWillChange(2),Me(!1),m.Cmd.onPanesDidChange(2))},onDrawerAnimationComplete:()=>{we(!1),Te&&Ce.current&&Me(!1)}})})]}),(0,ve.jsx)("div",{className:(0,E.default)(q.default.pane,q.default.paneOne),children:(0,ve.jsx)(R.default,{ref:f,settings:ee.default})}),(0,ve.jsx)("div",{className:(0,E.default)(q.default.pane,q.default.paneTwo),children:(0,ve.jsx)(B.default,{animate:t,ref:p})}),!1]})})},t.hasPending=function(){if((0,p.isLegacyWebdBackend)()&&!L.Conn.connected)return!1;const e=n(29250).hasText,t=z.MsgCollection.some((e=>e.ack===f.ACK.CLOCK&&e.local&&e.isSentByMe)),a=I.ChatCollection.some((e=>!!e.composeContents.text));return t||a||e()};var i=r(n(48926)),o=r(n(59854)),s=r(n(57538)),l=n(89385),u=n(13959),d=n(4352),c=n(57319),f=n(35470),h=r(n(85074)),p=n(88555),m=(n(10206),n(81572)),g=n(41455),_=n(38184),v=n(14597),b=n(71579),y=n(26741),C=r(n(76139)),S=n(74315),E=r(n(94184)),x=n(29984),T=r(n(30381)),M=n(67294),k=r(n(16223)),w=n(87550),A=r(n(55010)),P=r(n(22402)),j=n(89721),I=n(69951),O=n(33929),N=r(n(66034)),R=r(n(47488)),D=r(n(52665)),L=n(17239),B=r(n(83001)),F=n(53277),G=n(14315),U=r(n(56624)),V=r(n(81021)),W=r(n(65134)),H=r(n(14296)),q=r(n(55334)),Y=r(n(11339)),z=n(59871),K=r(n(51783)),$=r(n(77156)),Q=n(92298),X=n(56018),J=n(20723),Z=n(64551),ee=r(n(68132)),te=r(n(16876)),ne=r(n(68862)),ae=n(8080),re=n(97628),ie=r(n(35166)),oe=r(n(33048)),se=r(n(29811)),le=n(18644),ue=n(89618),de=r(n(26132)),ce=r(n(54937)),fe=n(78123),he=n(65044),pe=r(n(57302)),me=r(n(92658)),ge=r(n(64237)),_e=r(n(25613)),ve=n(85893);function be(){window.history.pushState({},"",window.location.href)}const ye=Math.random()<.001?n(99441).I:null},87868:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{legalEntityDetails:t,onSave:n}=e;const[a,E]=(0,o.useState)(null==t?void 0:t.entityType),[x,T]=(0,o.useState)(null==t?void 0:t.entityTypeCustom),[M,k]=(0,o.useState)(null==t?void 0:t.isRegistered);(0,o.useEffect)((()=>{a!==(null==t?void 0:t.entityType)&&(T(""),k(!1))}),[a,null==t?void 0:t.entityType]);const w=(0,o.useCallback)((()=>{r.ModalManager.close(),n(a,x,M)}),[a,x,M,n]),A=(0,o.useCallback)((e=>{E(e.target.value)}),[]),P=(0,o.useCallback)((e=>k(e.target.checked)),[]),j=(0,y.jsx)(S,{value:M,label:i.fbt._("Registered Business",null,{hk:"3N1x9I"}),inputType:"checkbox",xstyle:C.indentedOption,onChange:P,"data-testid":"registered"});return(0,y.jsx)(v.Modal,{type:v.ModalTheme.Box,children:(0,y.jsxs)(f.default,{theme:"settings",children:[(0,y.jsx)(p.DrawerHeader,{title:i.fbt._("Business Type",null,{hk:"48J73B"}),type:p.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>r.ModalManager.close()}),(0,y.jsx)(h.default,{children:(0,y.jsx)("form",{className:(0,s.default)(C.form),children:(0,y.jsxs)("ol",{children:[(0,y.jsx)(S,{id:l.businessTypeOptions.limitedLiabilityPartnership,value:a,label:i.fbt._("Limited liability partnership",null,{hk:"2dwmwU"}),onChange:A,"data-testid":"limited-liability-partnership"}),(0,y.jsx)(S,{id:l.businessTypeOptions.soleProprietorship,value:a,label:i.fbt._("Sole proprietorship",null,{hk:"2N7jks"}),onChange:A,"data-testid":"sole-proprietorship"}),(0,y.jsx)(S,{id:l.businessTypeOptions.partnership,value:a,label:i.fbt._("Partnership",null,{hk:"ZeckL"}),onChange:A,"data-testid":"partnership"}),a===l.businessTypeOptions.partnership&&j,(0,y.jsx)(S,{id:l.businessTypeOptions.publicCompany,value:a,label:i.fbt._("Public Company",null,{hk:"1YuMvC"}),onChange:A,"data-testid":"public-company"}),(0,y.jsx)(S,{id:l.businessTypeOptions.privateCompany,value:a,label:i.fbt._("Private Company",null,{hk:"WL0uU"}),onChange:A,"data-testid":"private-company"}),(0,y.jsx)(S,{id:l.businessTypeOptions.other,value:a,label:i.fbt._("Other",null,{hk:"3zua5D"}),onChange:A,"data-testid":"other"}),a===l.businessTypeOptions.other&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:(0,s.default)(C.indentedOption),"data-testid":"other-input",children:(0,y.jsx)(b.TextInput,{value:x,editable:!0,maxLength:d.COMPLIANCE_INFO_LENGTH.ENTITY_TYPE_CUSTOM,inputPlaceholder:i.fbt._("Label",null,{hk:"3MRMvC"}),showRemaining:!0,onChange:T,theme:"text-input",lowProfile:!0})}),j]})]})})}),(0,y.jsx)(m.FlexRow,{justify:"end",xstyle:C.footer,children:(0,y.jsx)(g.default,{children:(0,y.jsx)(u.default,{type:"primary",onClick:w,disabled:a===l.businessTypeOptions.other&&!(0,c.existsFieldIgnoreHardEnforcement)(x),className:(0,s.default)(C.submitButton),children:_.default.t(567)})})})]})})};var r=n(14597),i=n(48360),o=n(67294),s=a(n(56720)),l=n(93170),u=a(n(39770)),d=n(33049),c=n(83657),f=a(n(60453)),h=a(n(69637)),p=n(94790),m=n(29623),g=a(n(48846)),_=a(n(14296)),v=n(57224),b=n(90011),y=n(85893);const C={inputWrapper:{display:"p357zi0d",alignSelf:"o2es7gts",paddingEnd:"iffbo4e8"},form:{paddingTop:"pxvlsfnc",paddingEnd:"bcymb0na",paddingBottom:"n3bptxsn",paddingStart:"e8k79tju"},label:{display:"f804f6gw",paddingTop:"emrlamx0",paddingEnd:"f9ovudaz",paddingBottom:"aiput80m",paddingStart:"gx1rr48f",fontSize:"fe5nidar"},footer:{paddingTop:"emrlamx0",paddingEnd:"itegkywt",paddingBottom:"aiput80m",paddingStart:"rppts313",backgroundColor:"lkjmyc96",borderTop:"swyb62mu"},submitButton:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},indentedOption:{marginStart:"dl2ettod"},cursorPointer:{cursor:"ajgl1lbb"}};function S(e){let{id:t,value:n,label:a,inputType:r="radio",xstyle:i,onChange:o,"data-testid":l="merchant-details-entity-type-option-popup"}=e;const u=t||a;return(0,y.jsx)("li",{className:(0,s.default)(C.cursorPointer,i),children:(0,y.jsxs)(m.FlexRow,{align:"center",children:[(0,y.jsx)(g.default,{xstyle:C.inputWrapper,children:(0,y.jsx)("input",{id:u,value:u,type:r,name:"entityType",checked:"radio"===r?n===u:n,className:(0,s.default)(C.cursorPointer),onChange:o})}),(0,y.jsx)(g.default,{grow:1,children:(0,y.jsx)("label",{htmlFor:u,className:(0,s.default)(C.label,C.cursorPointer),"data-testid":`${l}-label`,children:a})})]})})}},91468:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(50796),i=a(n(47259)),o=n(51737),s=n(92574),l=a(n(52013)),u=n(41906),d=n(78820),c=n(45454),f=n(67294),h=a(n(3409)),p=n(99989),m=n(64481),g=n(85600),_=n(47915),v=a(n(29796)),b=n(82145),y=a(n(62425)),C=n(48870),S=a(n(60809)),E=n(85893);function x(e,t){const{active:n,selections:a,onSelectionChanged:x,onProductsLoaded:T,flatListController:M}=e,k=(0,h.default)(),w=(0,f.useRef)(null),A=(0,f.useRef)(null),P=()=>{const e=(0,d.getMaybeMeUser)(),t=(0,o.isString)(e)?(0,c.createWid)(e):e;return p.CatalogCollection.get(t)},j=()=>{const e=P();return null!=e?e.productCollection.getProductModels():[]},[I,O]=(0,f.useState)(j),[N,R]=(0,f.useState)(!1),[D,L]=(0,f.useState)((()=>j().length)),[B,F]=(0,f.useState)(!0),[G,U]=(0,f.useState)(!0),V=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=P();if(!t)return;const a=!t.afterCursor||!B;if(e&&(0,b.qplAnnotateCatalogView)(a),a){const n=t.productCollection.getProductModels();O(n),R(!1),F(!1),T&&T(n),e&&(0,b.qplEndCatalogView)(C.QuickLogActionType.SUCCESS)}else R(!0),(0,i.default)(p.CatalogCollection.findNextProductPage(t.id,e),k).then((t=>{const a=t.length;O(t),R(!1),L(a),F(D!==a),T&&T(t),n.init(t),e&&(0,b.qplEndCatalogView)(C.QuickLogActionType.SUCCESS)})).catch((()=>{R(!1),F(!0),e&&(0,b.qplEndCatalogView)(C.QuickLogActionType.FAIL)}))};(0,f.useEffect)((()=>{n.init(I),R(!0),p.CatalogCollection.find((0,d.getMaybeMeUser)()).catch((0,r.filteredCatch)(s.ServerStatusCodeError,(()=>{R(!1),F(!1),U(!1),(0,b.qplDropCatalogView)()}))).then((()=>V(!0)))}),[]);const W=e=>{const t=e.currentTarget,{scrollTop:n,clientHeight:a,scrollHeight:r}=t;r-a-n<u.SCROLL_FUDGE&&!N&&V()},H=(e,t,r)=>{a.setVal(e,t,r),n.setVal(e,r),x&&x(e,t)},q=e=>{const t=a.isSelected(e);H(e,!t,!1)},Y=e=>{if(0===I.length)return;const t=I[0],n=!a.isSelected(t);H(t,n,e)},z=()=>{w.current&&l.default.focus(w.current)};return(0,f.useImperativeHandle)(t,(()=>({focus:z,toggleFirst:Y,updateForScrollEvent:W}))),(0,E.jsxs)(y.default,{active:e.active,onEnter:e=>{e.stopPropagation(),e.preventDefault(),n.value&&q(n.value)},onLeave:e.onLeaveList,ref:w,onIndexChange:e=>{var t;null===(t=A.current)||void 0===t||t.scrollIntoViewIfNeeded(e)},children:[0!==I.length||N||B?(0,E.jsx)(_.FlatList,{ref:A,direction:"vertical",forceConsistentRenderCount:!1,data:I.map((e=>({itemKey:e.id.toString(),data:e}))),renderItem:e=>{let{data:t}=e;return(0,E.jsx)(S.default,{product:t,selections:a,onClick:()=>q(t),active:n},t.id.toString())},flatListController:M,defaultItemHeight:m.PRODUCT_LIST_ITEM_HEIGHT}):(0,E.jsx)(g.ListProducts,{hasCatalog:G}),N&&(0,E.jsx)(v.default,{})]})}var T=(0,f.forwardRef)(x);t.default=T},39376:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(41455),i=n(71579),o=n(95670),s=n(78820),l=n(48360),u=n(57849),d=n(94010),c=n(17239),f=n(19380),h=a(n(95993)),p=a(n(11339)),m=a(n(25550)),g=n(77117),_=n(82039),v=n(46133),b=n(85893);const y=i.NuxKeyTypes.COOL_OFF_NUX.INCOMPLETE_BUSINESS_PROFILE_BANNER;class C extends m.default{render(){const{onInteract:e}=this.props,t=new o.CoolOffNux(y,p.default.BANNER_TYPES.SMB_EDIT_PROFILE);return(0,b.jsx)(h.default,{title:l.fbt._("Set up your profile",null,{hk:"3LUf0d"}),actionText:l.fbt._("Click to get started",null,{hk:"1oTaUx"}),onDismiss:e,onClick:()=>{!function(){const e=(0,s.getMaybeMeUser)(),t=v.StatusCollection.assertGet(e),n=_.ProfilePicThumbCollection.assertGet(e),a=f.ContactCollection.assertGet(e);r.DrawerManager.openDrawerLeft((0,b.jsx)(g.ProfileDrawerFlowLoadable,{status:t,profilePicThumb:n,contact:a,conn:c.Conn}))}(),null==e||e()},nuxManager:t,theme:"nuxGreen"})}static shouldShow(){const e=(0,s.getMaybeMeUser)(),t=f.ContactCollection.assertGet(e).businessProfile;return!!t&&(0,u.getABPropConfigValue)("web_abprop_business_profile_incomplete_nux_banner")&&c.Conn.isSMB&&!(0,d.isCompleteBizProfile)(t)&&(0,o.shouldShowNUX)(y)}}t.default=C,C.displayName="BusinessProfileBanner"},67161:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,o.default)(),t=(0,i.useMemo)((()=>u.BusinessProfileCollection.get((0,r.getMaybeMeUser)())),[]),[n,a]=(0,i.useState)((()=>null!=u.BusinessProfileCollection.getValid((0,r.getMaybeMeUser)())));(0,s.useListener)(d.Conn.isSMB?t:null,"change",(()=>{a(!0)}));const p=()=>{e()};return n&&(0,h.jsxs)(c.default,{children:[(0,h.jsx)(l.default,{onInteract:p}),(0,h.jsx)(f.default,{onInteract:p})]})};var r=n(78820),i=n(67294),o=a(n(59312)),s=n(87550),l=a(n(39376)),u=n(93581),d=n(17239),c=a(n(26293)),f=a(n(47955)),h=n(85893)},95993:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{title:t,subtitle:n,onDismiss:a,onClick:l,nuxManager:u,theme:d,actionText:c}=e;const[f,h]=(0,r.useState)(!0);u.show();const p=(0,s.jsxs)(s.Fragment,{children:[n," ",c&&(0,s.jsx)(i.default,{inline:!0,children:c})]});return(0,s.jsx)(s.Fragment,{children:f&&(0,s.jsx)(o.default,{type:d,title:t,text:p,onDismiss:e=>{e.preventDefault(),e.stopPropagation(),u.dismiss(),null==a||a(),h(!1)},action:()=>{u.click(),null==l||l()}})})};var r=n(67294),i=a(n(29237)),o=a(n(30508)),s=n(85893)},25550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294);class r extends a.Component{static shouldShow(){return!1}}t.default=r},26293:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t}=e;const n=i.Children.toArray(t).find((e=>e.type.shouldShow()));return(0,o.jsx)(r.default,{transitionName:"butterbar",children:n})};var r=a(n(40436)),i=n(67294),o=(a(n(25550)),n(85893))},47955:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(71579),i=n(95670),o=n(78820),s=n(48360),l=n(57849),u=n(93581),d=n(94010),c=n(87912),f=n(17239),h=a(n(95993)),p=a(n(11339)),m=a(n(25550)),g=n(64551),_=n(85893);const v=r.NuxKeyTypes.COOL_OFF_NUX.PRODUCT_CATALOG_BANNER;class b extends m.default{render(){const{onInteract:e}=this.props,t=new i.CoolOffNux(v,p.default.BANNER_TYPES.SMB_CATALOG);return(0,_.jsx)(h.default,{title:s.fbt._("Showcase your products",null,{hk:"1lP9kd"}),actionText:s.fbt._("Click to get started",null,{hk:"31Psjq"}),onDismiss:e,onClick:()=>{(0,c.openCatalogManagementFlow)(null,p.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_NUX),null==e||e()},nuxManager:t,theme:"nuxGreen"})}static shouldShow(){const e=(0,o.getMaybeMeUser)(),t=u.BusinessProfileCollection.get(e);return(0,l.getABPropConfigValue)("web_abprop_product_catalog_nux_banner")&&f.Conn.isSMB&&!function(){if(!f.Conn.isSMB||!g.ServerProps.shopsHeaderDropdownMenuItem)return!1;const e=u.BusinessProfileCollection.get((0,o.getMaybeMeUser)());return(0,d.hasShop)(e)}()&&!(0,d.hasCatalog)(t)&&(0,i.shouldShowNUX)(v)}}t.default=b,b.displayName="ProductCatalogBanner"},95042:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){const t=l.BusinessProfileCollection.get((0,o.getMaybeMeUser)());(0,u.goToCommerceManager)(t),e.onCommerceManagerClick&&e.onCommerceManagerClick()}function n(){i.ModalManager.close(),e.onCancelClick&&e.onCancelClick()}if((0,r.bannedShopsEnabled)()){const e=l.BusinessProfileCollection.get((0,o.getMaybeMeUser)());if((0,u.isShopBanned)(e))return(0,p.jsx)(c.default,{type:h.ModalTheme.ColumnButtons,title:s.fbt._("Shop disabled",null,{hk:"3ByeHz"}),onCancel:n,actions:(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.default,{type:"primary",onClick:t,children:s.fbt._("Commerce Manager",null,{hk:"2ZKedl"})})}),children:s.fbt._("This shop has been disabled for not complying with our policies. Learn more in Commerce Manager.",null,{hk:"3brNh"})})}return(0,p.jsx)(c.default,{type:h.ModalTheme.ColumnButtons,title:s.fbt._("Manage shop on Commerce Manager",null,{hk:"1S8OsB"}),onCancel:n,actions:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.default,{type:"primary",onClick:function(){const t=l.BusinessProfileCollection.get((0,o.getMaybeMeUser)());(0,u.goToShop)(t),e.onViewShopClick&&e.onViewShopClick()},children:s.fbt._("View Shop",null,{hk:"KjKGP"})}),(0,p.jsx)(d.default,{type:"primary",onClick:t,children:s.fbt._("Commerce Manager",null,{hk:"2ZKedl"})})]}),children:f.default.t(882)})};var r=n(8139),i=n(14597),o=n(78820),s=n(48360),l=n(93581),u=n(94010),d=a(n(39770)),c=a(n(40944)),f=a(n(14296)),h=n(57224),p=n(85893)},68862:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=i.fbt._("We are updating our WhatsApp Business Terms of Service. Agree to our new Terms on your phone to continue using WhatsApp Business.",null,{hk:"yakgm"});(0,o.useListener)(l.Conn,"change:smbTos",(()=>{l.Conn.smbTos||r.ModalManager.close()}));const t=u.default.t(446);return(0,f.jsxs)(s.default,{onOK:()=>{__LOG__(2)`SMB: terms of service modal, user clicked logout`,r.ModalManager.close(),c.Socket.logout()},okText:t,children:[e," ",(0,f.jsx)(d.default,{})]})};var r=n(14597),i=n(48360),o=n(87550),s=a(n(52665)),l=n(17239),u=a(n(14296)),d=a(n(31703)),c=n(65044),f=n(85893)},58836:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBlock:t,onCancel:n,onReportSpamBlock:a}=e,c=e=>{e.stopPropagation(),e.preventDefault(),t()},f=e=>{e.stopPropagation(),e.preventDefault(),n()},h=(0,d.jsx)(i.default,{a8nText:"popup-controls-block",type:"primary",onClick:c,children:s.default.t(148)},0),p=(0,d.jsx)(i.default,{a8nText:"popup-controls-report-spam",type:"secondary",onClick:e=>{e.stopPropagation(),e.preventDefault(),a()},children:r.fbt._("Report and block",null,{hk:"3KoRlr"})},1),m=(0,d.jsx)(i.default,{a8nText:"popup-controls-cancel",type:"secondary",onClick:f,children:r.fbt._("Cancel",null,{hk:"H0gNq"})},2),g=(0,d.jsx)(u.Name,{contact:e.contact}),_=r.fbt._("Block {contact}? Blocked contacts will no longer be able to call you or send you messages.",[r.fbt._param("contact",g)],{hk:"fQATz"});return(0,d.jsx)(o.HotKeys,{handlers:{enter:c,escape:f},children:(0,d.jsx)(l.Modal,{children:_,actions:[p,h,m]})})};var r=n(48360),i=a(n(39770)),o=n(29424),s=a(n(14296)),l=n(57224),u=n(12176),d=n(85893)},40944:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t){t.stopPropagation(),t.preventDefault(),e.onCancel&&e.onCancel()}const n=i.Children.count(e.actions)>0,a=e.onCancel?(0,u.jsx)(o.default,{a8nText:"popup-controls-cancel",type:n?"secondary":"primary",onClick:t,children:e.cancelText||r.fbt._("Cancel",null,{hk:"H0gNq"})}):null,d={escape:e.onCancel?t:()=>{}},c=(0,u.jsxs)(u.Fragment,{children:[e.actions,a]});return(0,u.jsx)(s.HotKeys,{handlers:d,children:(0,u.jsx)(l.Modal,{actions:c,children:e.children,cover:e.cover,onDragChange:e.onDragChange,onDrop:e.onDrop,type:e.type,title:e.title})})};var r=n(48360),i=n(67294),o=a(n(39770)),s=n(29424),l=n(57224),u=n(85893)},81681:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{editRestrictionText:n,a8n:a,emptyValuePlaceholder:M,showCreate:w=!0}=e,A=(0,m.useModelValues)(e.chat,["groupMetadata"]),P=(0,m.useModelValues)((0,i.default)(A.groupMetadata,"chat.groupMetadata"),["displayedDesc","owner","creation","restrict","participants","support"]),[j,I]=(0,f.useState)(P.displayedDesc),[O,N]=(0,f.useState)(!1),[R,D]=(0,f.useState)(e.showFullDescription||!(j&&j.length>30)),L=(0,g.default)();if((0,p.useListener)(P,"change:desc",(()=>{I(P.displayedDesc)})),C.ServerProps.groupDescLength<=0)return null;const B={textLimit:R?1/0:l.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,readMoreText:c.fbt._("Read more",null,{hk:"2pss9t"}),onReadMore:()=>{D(!0)},ellipsify:!0,multiline:!0,inferLinesDirection:!0,formatters:A.isTrusted()?y.Configuration.TrustedGroupDesc({links:u.findLinks(j)}):y.Configuration.UntrustedGroupDesc()},F=[x.TextInputCustomStyleThemes.groupInfoName,x.TextInputCustomStyleThemes.chatInfoDefaultText];let G,U=(0,T.jsx)("div",{className:(0,h.default)(k.inputWrapper),children:(0,T.jsx)(x.TextInput,{a8n:a,value:j,emptyValuePlaceholder:M,renderEmojiTextInLockMode:B,editable:P.canSetDescription(),pending:O,showRemaining:!0,maxLength:C.ServerProps.groupDescLength,onChange:e=>{I(e)},onSave:()=>{if(!P.canSetDescription())return;let e=j||"";const t=e.match(/\r\n/gm)?"\r\n":"\n",n=new RegExp(`^(${t}{2,})([^\n])`,"gm");e=e.replace(n,`${t}$2`);const a=(0,b.default)(e||"");if(a===P.displayedDesc)return I(a);N(!0),(0,o.default)((0,S.setGroupDesc)(A,a),L).catch((0,r.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`description_input:onSetDescription failed`})).finally((()=>{I(P.displayedDesc),N(!1)}))},onCancel:()=>{I(P.displayedDesc)},multiline:!0,editRestrictionInfo:P.canSetDescription()||P.isSuspendedOrTerminated()?void 0:()=>{d.ModalManager.open((0,T.jsx)(v.default,{onOK:()=>d.ModalManager.close(),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),children:n}))},supportsEmoji:!0,lockable:!0,lowProfile:!0,customStyleThemes:F,theme:"small",showEditOnHover:!0,constrainedWidth:!0})});j||P.canSetDescription()||(U=null);const V=P.owner&&(null===(t=P.participants.get(P.owner))||void 0===t?void 0:t.contact);V&&w&&(G=(0,T.jsx)(E.TextDiv,{theme:"muted",children:s.Clock.createdByStr(P.creation,V.formattedName,V.isMe)}));return U||G?(0,T.jsxs)(_.ChatInfoDrawerSection,{xstyle:k.chatInfoSection,children:[U,G]}):null};var r=n(89385),i=a(n(45095)),o=a(n(47259)),s=n(40234),l=a(n(64369)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(95726)),d=n(14597),c=n(48360),f=n(67294),h=a(n(56720)),p=n(87550),m=n(35461),g=a(n(3409)),_=n(98792),v=a(n(52665)),b=a(n(13699)),y=n(30695),C=n(64551),S=n(66155),E=n(13923),x=n(90011),T=n(85893);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const k={chatInfoSection:{paddingTop:"nlnf8xo7",paddingBottom:"r219jyu0"},inputWrapper:{whiteSpace:"bbv8nyr4"}}},44296:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;return(0,o.jsx)(i.default,(0,r.default)((0,r.default)({},e),{},{separator:null!==(t=e.separator)&&void 0!==t&&t,xstyle:[e.xstyle,s.container],blockXstyle:[e.blockXstyle,s.block]}))};var r=a(n(81109)),i=(a(n(56720)),a(n(35721))),o=n(85893);const s={container:{paddingStart:"gx1rr48f"},block:{paddingEnd:"f9ovudaz",borderTop:"cc8mgx9x"}}},75116:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{icon:n,title:a,secondaryTitle:p,side:m}=e,g=(0,i.default)(e,c);const _=null!==(t=h[n])&&void 0!==t?t:20,v=(0,d.jsx)(l.FlexRow,{xstyle:f.iconContainer,align:"center",justify:"center",children:(0,d.jsx)(u.default,{color:"secondary",name:n,height:_})});let b=null!=m?m:"";"chevron"===b&&(b=(0,d.jsx)(u.default,{color:"secondary",name:"chevron-right-alt",directional:!0}));return(0,d.jsxs)(s.default,(0,r.default)((0,r.default)({},g),{},{multiline:!0,children:[(0,d.jsxs)(l.FlexRow,{align:"center",justify:"start",children:[v,(0,d.jsx)("div",{className:(0,o.default)(f.content),children:a}),(0,d.jsx)(l.FlexRow,{align:"center",justify:"end",xstyle:f.drawerSide,children:b})]}),(0,d.jsx)("div",{className:(0,o.default)(f.secondaryTitleContainer),children:p})]}))};var r=a(n(81109)),i=a(n(6479)),o=a(n(56720)),s=a(n(44296)),l=n(29623),u=a(n(23217)),d=n(85893);const c=["icon","title","secondaryTitle","side"],f={iconContainer:{marginEnd:"bugiwsl0",width:"qssinsw9",height:"bmot90v7",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5"},content:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",minWidth:"ktfrpxia"},drawerSide:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",width:"baeo9xnf"},secondaryTitleContainer:{marginStart:"oybqnh0n",marginEnd:"lfum0007"}},h={settings:17}},98792:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST=t.INFO_DRAWER_MAX_ROWS=t.ChatInfoDrawerSection=t.ChatInfoDrawerListSection=t.ChatInfoDrawerButtonsSection=void 0;var r=a(n(81109)),i=n(67294),o=a(n(56720)),s=a(n(33308)),l=n(85893);t.INFO_DRAWER_MAX_ROWS=10;t.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST=11;const u={title:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginBottom:"or9x5nie"},titleText:{fontSize:"bze30y65",lineHeight:"a4ywakfo"},container:{paddingTop:"i4pc7asj",paddingEnd:"bcymb0na",paddingBottom:"myel2vfb",paddingStart:"e8k79tju"},containerWithoutTitle:{paddingTop:"i5tg98hk",paddingEnd:"bcymb0na",paddingBottom:"przvwfww",paddingStart:"e8k79tju",marginBottom:"mpdn4nr2"}},d=(0,i.forwardRef)(((e,t)=>(0,l.jsx)(s.default,(0,r.default)((0,r.default)({},e),{},{xstyle:[u.container,null==e.title&&u.containerWithoutTitle,e.xstyle],titleXStyle:u.title,titleTextXStyle:u.titleText,theme:"chat-info",ref:t,children:e.children}))));t.ChatInfoDrawerSection=d;const c={drawerSectionContainer:{paddingBottom:"przvwfww"},contentContainer:{marginTop:"tt8xd2xn",marginEnd:"dl6j7rsh",marginBottom:"mpdn4nr2",marginStart:"avk8rzj1"}},f=(0,i.forwardRef)(((e,t)=>(0,l.jsx)(d,(0,r.default)((0,r.default)({},e),{},{xstyle:c.drawerSectionContainer,ref:t,children:(0,l.jsx)("div",{className:(0,o.default)(c.contentContainer),children:e.children})}))));t.ChatInfoDrawerListSection=f;const h={drawerSectionContainer:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"}},p=(0,i.forwardRef)(((e,t)=>(0,l.jsx)(d,(0,r.default)((0,r.default)({},e),{},{xstyle:h.drawerSectionContainer,ref:t,children:e.children}))));t.ChatInfoDrawerButtonsSection=p},15908:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,l.useState)(null),[a,g]=(0,l.useState)(!1),[_,v]=(0,l.useState)(!1),b=function(){var a=(0,i.default)((function*(){if(v(!1),t&&t!==e.subject){g(!0);try{yield e.onSave(t)}finally{g(!1),n(null)}}else n(null)}));return function(){return a.apply(this,arguments)}}(),y=[h.TextInputCustomStyleThemes.groupInfoName,h.TextInputCustomStyleThemes.chatInfoLargeText];return(0,p.jsx)("div",{className:(0,u.default)(m.container,_&&m.editing),children:(0,p.jsx)(h.TextInput,(0,r.default)({a8n:"group-info-drawer-subject-input",value:null!=t?t:e.subject,pending:a,showRemaining:!0,validate:e=>!(!e||!e.trim()),maxLength:f.ServerProps.maxSubject,onBeginEdit:()=>{v(!0)},onChange:e=>{_&&n(e)},onSave:b,onError:()=>{o.ModalManager.open((0,p.jsx)(d.default,{onOK:()=>o.ModalManager.close(),okText:s.fbt._("OK",null,{hk:"2KEeHb"}),children:c.default.t(69)}))},onCancel:()=>{v(!1),n(null)},supportsEmoji:!0,lockable:!0,lowProfile:!0,constrainedWidth:!0,theme:"large",customStyleThemes:y,showEditOnHover:!0,showHighlightOnHover:!0},e.textInputProps))})};var r=a(n(81109)),i=a(n(48926)),o=n(14597),s=n(48360),l=n(67294),u=a(n(56720)),d=a(n(52665)),c=a(n(14296)),f=n(64551),h=n(90011),p=n(85893);const m={container:{textAlign:"qfejxiq4",maxWidth:"laorhtua"},editing:{width:"ln8gz9je",textAlign:"ljrqcn24","@media (max-width: 1441px)":{width:"o135me7o"}}}},62857:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(89385),o=r(n(47259)),s=n(57319),l=n(64331),u=n(92574),d=n(88555),c=n(61957),f=n(81572),h=r(n(45120)),p=r(n(52013)),m=n(41906),g=n(48360),_=n(67294),v=r(n(51799)),b=r(n(59312)),y=r(n(16223)),C=n(87550),S=r(n(90886)),E=r(n(95402)),x=r(n(3409)),T=r(n(49291)),M=n(88172),k=r(n(58654)),w=r(n(60453)),A=r(n(69637)),P=n(94790),j=n(85600),I=n(47915),O=r(n(30855)),N=n(80872),R=r(n(84937)),D=n(29424),L=r(n(41955)),B=r(n(14296)),F=r(n(48837)),G=r(n(99104)),U=r(n(88406)),V=n(11054),W=n(85893);function H(e,t){const{chat:n}=e,r=(0,b.default)(),H=(0,E.default)(),q=(0,x.default)(),[Y,z]=(0,_.useState)(""),[K,$]=(0,_.useState)(!1),[Q,X]=(0,_.useState)(!1),J=(0,y.default)((()=>new O.default)),Z=(0,y.default)((()=>new R.default(n))),ee=(0,_.useRef)(null),te=(0,y.default)((()=>new U.default([],(e=>e.id.toString())))),ne=(0,_.useRef)(!1),ae=(0,_.useRef)({}),re=(0,_.useRef)(null),ie=(0,_.useRef)(null),oe=(0,_.useRef)(null),se=(0,_.useRef)(null),le=(0,y.default)((()=>new s.ShiftTimer((()=>{const e=ae.current;void 0!==e.searchText&&z(e.searchText),void 0!==e.searching&&$(e.searching),void 0!==e.resultsUnavailable&&X(e.resultsUnavailable),ae.current={}})))),ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75;Object.assign(ae.current,e),le.current.debounce(t)},de=()=>{h.default.shouldIndicateFocus(),p.default.focus(ee.current)},ce=(0,v.default)((()=>{var e;ne.current=!1;const t=(Y||"").trim();if(!(0,L.default)(t))return;null===(e=se.current)||void 0===e||e.abort(),se.current=new a;const{signal:r}=se.current,s=Promise.resolve().then((()=>{(()=>{const e=ae.current;var t;return"searching"in e?null!==(t=e.searching)&&void 0!==t&&t:K})()||ue({searching:!0})})).then((()=>Z.current.search({chat:n,count:Math.round(window.innerHeight/I.DEFAULT_ITEM_HEIGHT)+1,searchTerm:t})));oe.current=(0,o.default)(s,r).then((e=>{if(q.aborted)throw new i.AbortError;e&&!e.canceled&&t===Y.trim()&&ue({searching:!1,resultsUnavailable:!1})})).catch((0,i.catchAbort)((()=>{}))).finally((()=>{oe.current=void 0,se.current=void 0})).catch((e=>{ne.current||ue({searching:!1,resultsUnavailable:e instanceof u.E404})}))}),N.FTS_TYPING_DELAY),fe=(0,S.default)((e=>{var t;!(null==(t=e.currentTarget)||!Z.current.hasMoreMsgs||ne.current||K||Z.current.searchPromise||(0,l.numCodepoints)(Y||"")<N.FTS_MIN_CHARS)&&t.scrollTop+m.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&(ce(),ne.current=!0)}),100);(0,_.useEffect)((()=>(de(),()=>{var e;ce.cancel(),Z.current.delete(!0),null===(e=se.current)||void 0===e||e.abort(),le.current.cancel()})),[]),(0,C.useListener)(Z.current,["bulk_remove"],r);const he=Z.current.toArray();let pe=(e=>{if(e.length)return null;const t=(Y||"").trim();return(0,l.numCodepoints)(t)>=N.FTS_MIN_CHARS?K?(0,W.jsx)(j.SearchingMessages,{}):Q?(0,W.jsx)(j.SearchMessagesUnavailable,{}):(0,W.jsx)(j.SearchMessages,{}):(0,j.BeforeSearchMessages)(n.title(),n.isGroup)})(he);if(null==pe){const e=Y?Y.trim():null;pe=(0,W.jsx)(G.default,{ref:re,flatListController:J.current,isSearching:!!e,searchText:e,ftsResult:he,selection:te.current,onFocusSearch:de})}const me=K&&he.length?(0,W.jsx)("div",{className:T.default.searchSpinner,children:(0,W.jsx)(V.Spinner,{stroke:6,size:24})}):null;let ge;if((0,d.isMDBackend)()&&e.chat.endOfHistoryTransferType===c.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||e.chat.endOfHistoryTransferType===c.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC){const e=(Y||"").trim();(0,l.numCodepoints)(e)>=N.FTS_MIN_CHARS&&(ge=(0,W.jsx)(k.default,{theme:"md-chat-search-list",children:g.fbt._("Use WhatsApp on your phone to search for older chats or messages.",null,{hk:"1nGygN"})}))}return(0,W.jsxs)(w.default,{ref:t,children:[(0,W.jsx)(P.DrawerHeader,{title:B.default.t(574),type:P.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{null==H||H.requestDismiss()}}),(0,W.jsx)(D.HotKeys,{handlers:{down:e=>{var t;e.repeat||re.current&&(ee.current&&!ee.current.cursorIsAtEnd()||(e.preventDefault(),e.stopPropagation(),h.default.shouldIndicateFocus(),null===(t=re.current)||void 0===t||t.focusFirst()))}},onFocus:()=>{h.default.maybeIndicateFocus(ie.current)},ref:ie,className:T.default.panelSearch,children:(0,W.jsx)(F.default,{ref:ee,type:"chat-msg-search",onSearch:e=>{if(!e)return ce.cancel(),Z.current.resetSearch(),Z.current.delete(),null===(t=se.current)||void 0===t||t.abort(),ne.current=!1,z(""),void $(!1);var t;e!==Y&&((e=>{const t=e.trim();var n;(0,L.default)(t)?(ce(),ne.current=!0,K||ue({searching:!0})):(ce.cancel(),Z.current.resetSearch(),Z.current.delete(),null===(n=se.current)||void 0===n||n.abort(),ne.current=!1,K&&ue({searching:!1,resultsUnavailable:!1}))})(e),z(e),ue({searchText:e,resultsUnavailable:!1}))},onEnter:e=>{e.preventDefault();const t=Z.current.head();if(!t)return;const n=t.chat,a=n.getSearchContext(t);M.ComposeBoxActions.focus(n),f.Cmd.openChatAt(n,a)},placeholder:B.default.t(569),loading:K})}),(0,W.jsxs)(A.default,{flatListControllers:[J.current],className:T.default.panelBody,onScroll:fe,id:"pane-side",children:[pe,me,ge]})]},"search-modal")}var q=(0,_.forwardRef)(H);t.default=q},13243:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Message=function(e){const{author:t,onClick:n}=e,a=(0,u.useModelValues)(e.msg,["id","chat","isSentByMe","senderObj","rtl","dir","type","t"]),_=(0,s.useRef)(null),v=(0,s.useRef)(null),[b,y]=(0,s.useState)((()=>!!e.active&&e.active.value===a));(0,l.useListener)(e.active,a.id.toString(),((e,t)=>{if("focus"===e){const e=v.current;o.default.focus(e),t&&e&&(0,h.scrollIntoViewIfNeeded)(e)}y(!!e)}));const C=e=>{if((0,r.isFunction)(n)){const t=a.chat,r=t.getSearchContext((0,p.unproxy)(a));r.msg=a,n(e,t,r)}},S=(0,g.jsx)(m.default,{msg:a}),E=(0,g.jsx)(f.default,{msg:a.safe(),msgType:"Search",author:t,searchQuery:e.searchText?[e.searchText]:[]});return(0,g.jsx)(c.HotKeys,{handlers:{enter:e=>{e.preventDefault(),e.stopPropagation(),i.default.shouldIndicateFocus(),C(e)}},onFocus:()=>{var e;null===(e=_.current)||void 0===e||e.indicateFocus()},ref:v,children:(0,g.jsx)(d.default,{ref:_,contextEnabled:()=>!1,theme:"chat-search",active:!!b,primaryDetail:S,secondary:E,primary:void 0,onClick:C})})};var r=n(51737),i=a(n(45120)),o=a(n(52013)),s=n(67294),l=n(87550),u=n(35461),d=a(n(49107)),c=n(29424),f=a(n(3982)),h=n(78756),p=n(18146),m=a(n(55364)),g=n(85893)},35109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,a.useModelValues)(e.msg,["id","chat"]),n=(0,a.useModelValues)(e.contact,["formattedShortName"]);return(0,i.jsx)(r.Message,{msg:t,chat:t.chat,author:n.formattedShortName,searchText:e.searchText,onClick:e.onClick,active:e.active},t.id.toString())};var a=n(35461),r=n(13243),i=n(85893)},99104:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(81572),i=n(55715),o=n(67294),s=a(n(95402)),l=n(72439),u=n(88172),d=n(50101),c=n(47915),f=n(29424),h=n(13243),p=a(n(35109)),m=n(85893);function g(e){let{selection:t,searchText:n,onClick:a,msg:r}=e;return r.sender&&r.isGroupMsg&&!r.isNotification&&!r.isSentByMe?(0,m.jsx)(p.default,{contact:r.senderObj,msg:r,chat:r.chat,searchText:n,onClick:a,active:t},r.id.toString()):(0,m.jsx)(h.Message,{msg:r,chat:r.chat,searchText:n,onClick:a,active:t},r.id.toString())}function _(e,t){const{selection:n,ftsResult:a,searchText:h,onFocusSearch:p}=e,_=(0,s.default)(),v=(0,o.useRef)(null),b=(e,t,n)=>{e.preventDefault(),e.stopPropagation(),(0,d.findChat)(t.id).then((e=>{2===l.Column.column&&(null==_||_.requestDismiss()),u.ComposeBoxActions.focus(e),r.Cmd.openChatAt(e,n)}))},y=()=>{n.reset(!0)},C=()=>{n.setFirst(!0)};return(0,o.useEffect)((()=>{n.init(a||[])}),[]),(0,o.useImperativeHandle)(t,(()=>({focusFirst:C,restoreFocus:y}))),(0,m.jsx)(f.HotKeys,{handlers:{down:e=>(e=>{e&&(e.preventDefault(),e.stopPropagation());const t=n.next();n.index!==t&&n.setNext(!0)})(e),up:e=>{return(t=e)&&(t.stopPropagation(),t.preventDefault()),void(n.prev()>-1?n.setPrev(!0):p());var t}},onFocus:e=>{e.target===v.current&&(n.index<0?C():n.reset(!0))},"data-tab":i.TAB_ORDER.CHAT_SEARCH_MSG_LIST,ref:v,children:(0,m.jsx)(c.FlatList,{flatListController:e.flatListController,direction:"vertical",data:a.map((e=>({itemKey:e.id.toString(),msg:e}))),renderItem:e=>{let{msg:t}=e;return(0,m.jsx)(g,{msg:t,selection:n,searchText:h,onClick:b})},forceConsistentRenderCount:!1})})}var v=(0,o.forwardRef)(_);t.default=v},90233:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,disabled:n,tabIndex:a,selections:h,model:p,checked:m,checkboxTheme:g,onClick:_=(()=>{})}=e,[v,b]=(0,i.useState)((()=>h.isSelected(p)||!!m));return(0,s.useListener)(h,p.id.toString(),(e=>{e!==v&&b(e)})),(0,d.jsxs)(u.default,{className:(0,o.default)(c),onClick:_,children:[(0,d.jsx)("div",{className:(0,o.default)(f),"data-a8n":r.default.key(e.a8nKey),children:(0,d.jsx)(l.CheckBox,{onChange:()=>{},checked:v,disabled:n,tabIndex:a,theme:g})}),t]})};var r=a(n(99964)),i=n(67294),o=a(n(56720)),s=n(87550),l=n(16593),u=a(n(1784)),d=n(85893);const c={position:"g0rxnol2",width:"ln8gz9je"},f={position:"lhggkp7q",start:"edqan5gp",zIndex:"mb8var44",display:"p357zi0d",alignItems:"gndfcl4n",height:"ppled2lx",pointerEvents:"m62443ks"}},9712:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t}=e,[n,a]=(0,d.useState)((()=>!(0,i.isMDBackend)())),S=()=>{l.ModalManager.close()},E=()=>{t.pendingAction++,(0,m.sendClear)(t,n).finally((()=>{t.pendingAction--})),l.ModalManager.close()},x=(0,d.useMemo)((()=>{switch(t.kind){case o.CHAT_KIND.GROUP:return u.fbt._("Clear this chat?",null,{hk:"2L0fh7"});case o.CHAT_KIND.CHAT:return u.fbt._("Clear this chat?",null,{hk:"RFq4U"});case o.CHAT_KIND.BROADCAST:return u.fbt._("Clear this chat?",null,{hk:"1TyQoK"});default:return""}}),[t.kind]),T=(0,_.jsxs)("div",{className:(0,c.default)(v),children:[(0,_.jsx)("div",{"data-a8n":r.default.key("menu-icon-clear-chat"),className:(0,c.default)(b),children:(0,_.jsx)(f.CheckBox,{onChange:()=>{a(!n)},checked:n,id:"menu-icon-clear-chat"})}),(0,_.jsx)("label",{htmlFor:"menu-icon-clear-chat",className:(0,c.default)(y),children:u.fbt._("Keep starred messages",null,{hk:"2KaiFp"})})]});if((0,i.isMDBackend)()){const e=(0,s.clearOrDeleteChatSyncEnabled)()?(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:(0,c.default)(C),children:(0,_.jsx)(g.TextParagraph,{theme:"muted",children:u.fbt._("Messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"4h8ZfM"})})}),T]}):(0,_.jsx)("div",{className:(0,c.default)(C),children:(0,_.jsx)(g.TextParagraph,{theme:"muted",children:u.fbt._("Messages will be removed from this device only.",null,{hk:"3Lzh5V"})})});return(0,_.jsx)(h.default,{title:x,onOK:E,okText:u.fbt._("Clear chat",null,{hk:"46a4GH"}),onCancel:S,children:e})}return(0,_.jsx)(h.default,{onOK:E,okText:u.fbt._("Clear chat",null,{hk:"46a4GH"}),onCancel:S,children:(0,_.jsxs)("div",{children:[(0,_.jsx)(p.EmojiText,{text:x}),T]})})};var r=a(n(99964)),i=n(88555),o=n(61957),s=n(8139),l=n(14597),u=n(48360),d=n(67294),c=a(n(56720)),f=n(16593),h=a(n(52665)),p=n(65417),m=n(83802),g=n(13923),_=n(85893);const v={display:"p357zi0d",paddingBottom:"przvwfww",marginTop:"iy2cu22y",marginEnd:"jnwc1y2a",fontSize:"f8jlpxt4",lineHeight:"amac7m9s"},b={display:"l7jjieqr",flex:"kk3akd72",marginEnd:"spjzgwxb",verticalAlign:"kbne4t5p",transition:"haigt2tc"},y={flex:"a1m9qzja",cursor:"ajgl1lbb",transition:"haigt2tc"},C={paddingTop:"b97gdkd1"}},4903:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityHome=function e(t){const n=(0,h.default)((()=>new O.default)),{jid:a,showFullDescription:V,callbacks:W,hasFetchedSubgroups:H=!1}=t,q=(0,m.default)();(0,d.useEffect)((()=>()=>{}),[]),(0,d.useEffect)((()=>{(0,B.queryAndUpdateGroupMetadataById)(a);const e=_.ChatCollection.get(a);(0,L.default)(e)}),[a]),(0,d.useEffect)((()=>{H||(0,F.queryAndUpdateSubgroupsMetadata)(a)}),[a,H]);const[Y,z]=(0,p.default)(l.NUX.COMMUNITY_HOME),K=(0,f.default)(_.ChatCollection,"add",(()=>_.ChatCollection.get(a)));if(null==K||null==K.groupMetadata)return(0,G.jsx)(j.Loading,{});const $=K.groupMetadata.participants.iAmAdmin(),Q=(null==W?void 0:W.onBack)?void 0:()=>s.DrawerManager.closeDrawerLeft(),X=(0,G.jsx)(x.default,{chat:K}),J=(0,G.jsx)(y.default,{chat:K,showFullDescription:V});function Z(){return ee.apply(this,arguments)}function ee(){return(ee=(0,r.default)((function*(e){const t=yield e;null==t||q.aborted||(0,I.findChat)(t).then((e=>{o.Cmd.openChatBottom(e).then((t=>{t&&M.ComposeBoxActions.focus(e)}))}))}))).apply(this,arguments)}const te=()=>{(null==W?void 0:W.onManageCommunityGroupsClick)?W.onManageCommunityGroupsClick(K):s.DrawerManager.openDrawerLeft((0,G.jsx)(R.ManageCommunityGroupsFlowLoadable,{parentGroupMetadata:(0,i.default)(K.groupMetadata,"chat.groupMetadata"),onBack:()=>{s.DrawerManager.openDrawerLeft((0,G.jsx)(e,{jid:a}))}}),"flow-transition-drawer-pop")},ne=$?(0,G.jsx)("div",{className:(0,c.default)(U.buttonBox),children:(0,G.jsx)(g.default,{type:"secondary",xstyle:U.button,onClick:te,children:u.fbt._("Manage Groups",null,{hk:"303RVW"})})}):null,ae=(0,G.jsxs)(b.ChatInfoDrawerSection,{a8nText:"section-invite-members",children:[$?(0,G.jsx)(v.default,{a8nText:"row-invite-members",side:"chevron",icon:"add-user",onClick:()=>{(null==W?void 0:W.onInviteMembersClick)?W.onInviteMembersClick(K):s.DrawerManager.openDrawerLeft((0,G.jsx)(N.GroupInviteLinkDrawerLoadable,{chat:K,groupMetadata:K.groupMetadata,onBack:()=>{s.DrawerManager.openDrawerLeft((0,G.jsx)(e,{jid:a}))},useLargeHeader:!0}),"flow-transition-drawer-pop")},title:u.fbt._("Invite members",null,{hk:"3xmr5p"})}):null,null]}),re=(0,G.jsx)(S.default,{chat:K,flatListController:n.current}),ie=(0,G.jsx)(T.default,{chat:K,flatListController:n.current,onAddNewGroupClick:()=>{if($)return te();(null==W?void 0:W.onAddNewGroupClick)?W.onAddNewGroupClick():s.DrawerManager.openDrawerLeft((0,G.jsx)(D.NewGroupFlowLoadable,{onCreateGroup:Z,parentGroupWid:a,onBack:()=>{s.DrawerManager.openDrawerLeft((0,G.jsx)(e,{jid:a}))}}),"flow-transition-drawer-pop")}}),oe=(0,G.jsxs)(P.default,{children:[ne,re,ie]}),se=Y&&(0,G.jsx)(E.default,{onDismiss:z}),le=(0,G.jsx)(C.default,{chat:K});return(0,G.jsxs)(k.default,{children:[(0,G.jsx)(A.DrawerHeader,{title:u.fbt._("Community info",null,{hk:"1jjsJ1"}),type:A.DRAWER_HEADER_TYPE.LARGE,onBack:null==W?void 0:W.onBack,onCancel:Q}),(0,G.jsx)(w.default,{flatListControllers:[n.current],children:(0,G.jsxs)("section",{className:(0,c.default)(U.body),children:[se,X,J,ae,oe,le]})})]})};var r=a(n(48926)),i=a(n(45095)),o=n(81572),s=n(41455),l=(n(14597),n(71579)),u=n(48360),d=n(67294),c=a(n(56720)),f=a(n(96570)),h=a(n(16223)),p=a(n(59732)),m=a(n(3409)),g=a(n(39770)),_=n(69951),v=a(n(75116)),b=n(98792),y=a(n(50743)),C=a(n(21440)),S=a(n(61402)),E=a(n(17323)),x=a(n(75055)),T=a(n(43037)),M=(a(n(39382)),n(88172)),k=a(n(60453)),w=a(n(69637)),A=n(94790),P=a(n(33308)),j=n(85600),I=n(50101),O=a(n(30855)),N=n(88280),R=n(94205),D=n(26489),L=a(n(21959)),B=n(74028),F=n(42906),G=n(85893);const U={body:{flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},buttonBox:{width:"ln8gz9je",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",textAlign:"qfejxiq4"},button:{marginTop:"mnhq3yws",marginEnd:"k1jo73ug",marginBottom:"ndlvrqf7",marginStart:"isfiuinm",width:"hqec7i8t"}}},50743:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)(i.default,{chat:e.chat,showFullDescription:e.showFullDescription,editRestrictionText:r.fbt._("Only admins can edit this community's info",null,{hk:"2ddKAP"}),a8n:"community-home-drawer-description-title-input",emptyValuePlaceholder:r.fbt._("Add community description",null,{hk:"sU1iu"}),showCreate:!1})};var r=n(48360),i=a(n(81681)),o=n(85893)},21440:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{chat:t}=e;const n=(0,f.jsx)(h,{chat:t});return(0,f.jsx)(s.ChatInfoDrawerButtonsSection,{children:n})};var r=n(14597),i=n(87674),o=n(48360),s=n(98792),l=a(n(64738)),u=a(n(30934)),d=n(19569),c=a(n(23217)),f=n(85893);function h(e){let{chat:t}=e;return(0,f.jsx)(l.default,{a8nText:"li-report-community-spam",color:"danger",icon:(0,f.jsx)(c.default,{name:"thumbs-down",directional:!0}),theme:"chat-info",onClick:()=>{const e=()=>{(0,d.sendSpamReport)(t,i.SpamFlow.CommunityHome),r.ModalManager.close()};r.ModalManager.open((0,f.jsx)(u.default,{isCommunity:!0,isGroupChat:!0,onReport:e,onReportExitClear:e,onCancel:()=>r.ModalManager.close()}))},children:o.fbt._("Report community",null,{hk:"eFuSU"})})}},61402:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,flatListController:n}=e,a=(0,s.default)();(0,l.useListener)(c.ChatCollection,["sort"],a);const{joinedSubgroups:i=[]}=(0,u.useOptionalModelValues)(t.groupMetadata,["joinedSubgroups"])||{};if(i.length<1)return null;return(0,g.jsx)(f.ChatInfoDrawerListSection,{a8nText:"section-your-groups",title:o.fbt._("",null,{hk:"1aodCa"}),children:(0,g.jsx)(p.FlatList,{flatListController:n,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=i.map((e=>e.toString()));return c.ChatCollection.filter((t=>e.includes(t.id.toString()))).sort(r.default).map((e=>{var t;const n=null===(t=e.groupMetadata)||void 0===t?void 0:t.groupType;return n?{itemKey:e.id.toString(),subChat:e,groupType:n,height:65}:null})).filter(Boolean)})(),renderItem:_})})};var r=a(n(80744)),i=n(81572),o=n(48360),s=a(n(59312)),l=n(87550),u=n(35461),d=n(65511),c=n(69951),f=n(98792),h=n(88172),p=n(47915),m=n(55981),g=n(85893);function _(e){const{subChat:t,groupType:n}=e;return(0,g.jsx)(d.Chat,{chat:t,theme:"subgroup",mode:d.Mode.LAST,onClick:()=>{i.Cmd.openChatFromUnread(t).then((e=>{e&&h.ComposeBoxActions.focus(t)}))},noContext:!0,smallUnread:!0,hidePin:!0,fakePin:n===m.GroupType.DEFAULT_ANNOUNCEMENT_GROUP},t.id.toString())}},17323:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,h.jsx)(c.default,{name:"communities-nux"}),n=i.fbt._("Introducing communities",null,{hk:"pvI8f"}),a=i.fbt._("A community brings your related groups together. Once added, you can join groups within a community and stay updated with admin announcements. {=m2}",[i.fbt._implicitParam("=m2",(0,h.jsx)(l.ExternalLink,{href:(0,r.getCommunityHomeNuxUrl)(),children:i.fbt._("Learn more",null,{hk:"4si2LP"})}))],{hk:"3qRk4z"}),m=i.fbt._("Your name and number are visible to community admins",null,{hk:"3Dwslg"});return(0,h.jsxs)(s.default,{className:(0,o.default)(p.main),children:[(0,h.jsx)(u.FlexRow,{align:"end",justify:"end",children:(0,h.jsx)(d.default,{children:(0,h.jsx)("button",{className:(0,o.default)(p.btnCloseDrawer),onClick:e.onDismiss,"aria-label":i.fbt._("Dismiss",null,{hk:"J2VOF"}),children:(0,h.jsx)(c.default,{name:"x"})})})}),(0,h.jsx)(u.FlexRow,{align:"center",justify:"center",children:(0,h.jsx)(d.default,{xstyle:p.badge,children:t})}),(0,h.jsx)(u.FlexRow,{align:"center",justify:"center",children:(0,h.jsx)(f.TextHeader,{xstyle:p.header,size:"24",color:"dark",weight:"bold",children:n})}),(0,h.jsx)("div",{className:(0,o.default)(p.infoArea),children:(0,h.jsxs)(u.FlexColumn,{xstyle:p.textArea,children:[(0,h.jsx)(f.TextParagraph,{children:a}),(0,h.jsx)(f.TextParagraph,{theme:"muted",xstyle:p.subText,children:m})]})})]})};var r=n(21310),i=n(48360),o=a(n(56720)),s=a(n(33308)),l=n(12591),u=n(29623),d=a(n(48846)),c=a(n(23217)),f=n(13923),h=n(85893);const p={main:{paddingBottom:"lnhl94cj"},badge:{borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",color:"qiqvuef5",fontSize:"rwfn434h",marginTop:"rek1qe2c",paddingTop:"eujn52yf",paddingEnd:"abxuf49s",paddingBottom:"ckm995li",paddingStart:"mhcwslh8",textTransform:"ofejerhi"},header:{marginTop:"rek1qe2c",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",maxWidth:"rbwhpyfn",textAlign:"qfejxiq4",lineHeight:"a4ywakfo"},textArea:{paddingStart:"bmj4fdax",paddingEnd:"aupsmrcl",textAlign:"qfejxiq4",paddingTop:"jvpa774f",lineHeight:"r5qsrrlp"},subText:{paddingTop:"jvpa774f"},infoArea:{display:"p357zi0d",marginTop:"mnhq3yws",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",maxWidth:"tmdfr0rs"},btnCloseDrawer:{color:"k06jqncy",cursor:"ajgl1lbb",marginTop:"rek1qe2c",marginEnd:"arnwls1b",marginBottom:"f37kyzdt",marginStart:"s0uh0b5x",paddingTop:"eujn52yf",paddingEnd:"jfqm35v0",paddingBottom:"ckm995li",paddingStart:"bdbt56hn"}}},75055:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,p.useModelValues)(e.chat,["groupMetadata","contact"]),{unjoinedSubgroups:n=[],joinedSubgroups:a=[]}=(0,p.useOptionalModelValues)(e.chat.groupMetadata,["joinedSubgroups","unjoinedSubgroups"])||{},r=n.length+a.length,i=c.fbt._("Community",null,{hk:"2youO2"});return(0,k.jsx)(_.default,{theme:"padding-large",children:(0,k.jsxs)(b.FlexColumn,{align:"center",children:[(0,k.jsx)(P,{chat:t,xstyle:A.photo}),(0,k.jsx)(j,{chat:t}),(0,k.jsx)("div",{className:(0,h.default)(A.groupSecondary),children:(0,k.jsx)(x.SelectableSpan,{dir:"auto",selectable:!0,children:(0,k.jsxs)(M.TextSpan,{size:"16",color:"secondary",children:[i," · ",c.fbt._({"*":"{count} Groups",_1:"1 Group"},[c.fbt._plural(r,"count")],{hk:"Ar6Pi"})]})})})]})})};var r=a(n(48926)),i=n(89385),o=n(50796),s=a(n(45095)),l=a(n(47259)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),d=n(14597),c=n(48360),f=n(67294),h=a(n(56720)),p=n(35461),m=a(n(3409)),g=a(n(52665)),_=a(n(33308)),v=a(n(13699)),b=n(29623),y=a(n(15908)),C=n(33646),S=a(n(43556)),E=n(71517),x=n(52596),T=n(50760),M=n(13923),k=n(85893);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const A={groupSecondary:{lineHeight:"a4ywakfo",marginTop:"ma4rpf0l"},photo:{marginBottom:"njub1g37"}};function P(e){const t=(0,p.useModelValues)(e.chat,["isReadOnly","groupMetadata","contact"]),n=(0,p.useModelValues)(t.contact,["id","profilePicThumb"]);n.getProfilePicThumb();const a=(0,p.useModelValues)(n.profilePicThumb,["imgFull"]),[r,s]=(0,f.useState)(!1),[d,c]=(0,f.useState)(!1),g=(0,m.default)(),_=t.isReadOnly||!a.canDelete()&&!a.canSet();return(0,k.jsx)("div",{className:(0,h.default)(e.xstyle),children:(0,k.jsx)(C.PhotoPickerLoadable,{type:S.default.COMMUNITY,id:n.id,attachToChat:!0,pending:d,startImage:a.imgFull,readOnly:_,onImageSet:(e,t)=>{let n;c(!0),n=e&&t?(0,E.setProfilePic)(a,e,t):(0,E.deleteProfilePic)(a),(0,l.default)(n,g).catch((0,i.catchAbort)((()=>{}))).catch((0,o.filteredCatch)(u.ActionError,(()=>{__LOG__(3)`CommunityInfoDrawer: failed to set/delete community image`,s(!r)}))).finally((()=>{c(!1)}))}},String(r))})}function j(e){const t=(0,p.useModelValues)(e.chat.contact,["name"]),n=(0,p.useModelValues)((0,s.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["creation","restrict"]),a=(0,m.default)(),o=function(){var n=(0,r.default)((function*(n){const r=(0,v.default)(n);r!==t.name&&(yield(0,l.default)((0,T.setGroupSubject)(e.chat,r),a).catch((0,i.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`community_home:onSetSubject failed`})))}));return function(){return n.apply(this,arguments)}}();return(0,k.jsx)(y.default,{subject:t.name,onSave:o,textInputProps:{editable:n.canSetSubject(),editRestrictionInfo:n.restrict?()=>{d.ModalManager.open((0,k.jsx)(g.default,{onOK:()=>d.ModalManager.close(),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),children:c.fbt._("Only admins can edit this community's info",null,{hk:"2ddKAP"})}))}:void 0}})}},43037:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{flatListController:t,chat:n,onAddNewGroupClick:a}=e,{unjoinedSubgroups:r=[]}=(0,s.useOptionalModelValues)(n.groupMetadata,["unjoinedSubgroups"])||{};return(0,o.useEffect)((()=>{(0,d.forceFetchProfilePics)(r)}),[r]),(0,v.jsxs)(u.ChatInfoDrawerListSection,{a8nText:"section-other-groups",title:i.fbt._("",null,{hk:"2cpltL"}),children:[(0,v.jsx)(b,{handleAddNewGroupClick:a}),(0,v.jsx)(h.FlatList,{flatListController:t,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=r.map((e=>e.toString()));return _.default.filter((t=>e.includes(t.id.toString()))).sort(g.default).map((e=>({itemKey:e.id.toString(),subgroupMetadata:e,height:65})))})(),renderItem:y})]})};var r=n(14597),i=n(48360),o=n(67294),s=n(35461),l=a(n(44356)),u=n(98792),d=n(6333),c=a(n(71878)),f=n(88984),h=n(47915),p=a(n(37756)),m=a(n(23217)),g=a(n(19331)),_=a(n(73213)),v=n(85893);function b(e){let{handleAddNewGroupClick:t}=e;return(0,v.jsx)(l.default,{theme:"subgroup",primary:i.fbt._("Add Group",null,{hk:"3d36OR"}),image:(0,v.jsx)(m.default,{name:"default-group",className:c.default.addNewGroupIcon}),onClick:t})}function y(e){const{subgroupMetadata:t}=e;if(null==t)return null;const{id:n,subject:a}=t;return(0,v.jsx)(l.default,{theme:"subgroup",primary:a,image:(0,v.jsx)(f.DetailImage,{size:40,id:n}),onClick:()=>{r.ModalManager.open((0,v.jsx)(p.default,{subgroupMetadata:t}))}})}},39382:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{parentChat:n}=e,a=(0,h.getCommunityAnnouncementGroup)(n),C=null==a?void 0:a.participants,S=Boolean(null===(t=n.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin());(0,l.useEffect)((()=>{a&&(0,m.queryAndUpdateGroupMetadataById)(a.id,"interactive")}),[a]);const E=(0,u.default)(C,["add","remove","reset","change:isAdmin","change:isSuperAdmin"],(()=>{var e;return null===(e=(0,g.sortCAGParticipants)(C))||void 0===e?void 0:e.map((e=>e.contact))})),[x,T]=(0,l.useState)(),M=(e,t)=>{const a=null==C?void 0:C.assertGet(t.id);if(!a)return;const r=[];(null==C?void 0:C.canPromote(a,!0))?r.push((0,y.jsx)(f.DropdownItem,{a8n:"mi-grp-promote-community-admin",action:()=>{i.ModalManager.open((0,y.jsx)(d.default,{title:s.fbt._("Make community admin?",null,{hk:"1Zv0M7"}),onOK:()=>(a.contact.pendingAction++,(0,p.promoteCommunityParticipants)(n,[a]).then((()=>{a.contact.pendingAction--})),void i.ModalManager.close()),onCancel:()=>i.ModalManager.close(),children:(0,y.jsx)(_.TextParagraph,{size:"16",children:s.fbt._("Community admins can send announcements, manage groups, edit community information and use other admin tools.",null,{hk:"2vBbEt"})})}))},children:s.fbt._("Make admin",null,{hk:"1eedeq"})},"promote-community-admin")):(null==C?void 0:C.canDemote(a))&&r.push((0,y.jsx)(f.DropdownItem,{a8n:"mi-grp-demote-community-admin",action:()=>{i.ModalManager.open((0,y.jsx)(d.default,{title:s.fbt._("Dismiss as community admin?",null,{hk:"26ASPh"}),onOK:()=>(a.contact.pendingAction++,(0,p.demoteCommunityParticipants)(n,[a]).then((()=>{a.contact.pendingAction--})),void i.ModalManager.close()),onCancel:()=>i.ModalManager.close(),children:(0,y.jsx)(_.TextParagraph,{size:"16",children:s.fbt._("They won’t be able to message the announcement group, manage community admins or edit community information.",null,{hk:"CsyPC"})})}))},children:s.fbt._("Dismiss as admin",null,{hk:"718YQ"})},"demote-community-admin")),T({contactId:t.id,menu:r,anchor:e.anchor,event:e.event})},k=()=>{T(null)};let w;x&&(w=(0,y.jsx)(v.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:k,children:(0,y.jsx)(b.default,{contextMenu:x})}));const A=S?s.fbt._("All community members may not be visible here",null,{hk:"3oZsMM"}):s.fbt._("Only community admins can see members",null,{hk:"4wtRmi"});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.default,{contacts:E,title:s.fbt._("Members",null,{hk:"38TSgc"}),filter:()=>!0,onCancel:()=>{i.ModalManager.close()},participantCollection:(0,r.default)(C,"participants"),listenForAdminChange:!0,isParentGroup:!0,showNotifyName:!0,onContext:(e,t)=>M(e,t),contextMenu:e=>(e=>!!x&&o.default.equals(e,x.contactId))(e),contextEnabled:e=>(e=>{const t=null==C?void 0:C.get(e);return!(!C||!t)&&(C.canPromote(t,!0)||C.canDemote(t))})(e),description:A}),w]})};var r=a(n(45095)),i=n(14597),o=a(n(89867)),s=n(48360),l=n(67294),u=a(n(96570)),d=a(n(52665)),c=a(n(29234)),f=n(71174),h=n(48865),p=n(89389),m=n(74028),g=n(45531),_=n(13923),v=n(18644),b=a(n(24717)),y=n(85893)},48865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommunityAnnouncementGroup=function(e){var t;const n=null===(t=e.groupMetadata)||void 0===t?void 0:t.getSubgroupsMetadata();let r;if(n)for(const e of n)e.groupType===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP&&(r=e);return r};var a=n(55981)},45531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortCAGParticipants=function(e){if(!e)return;let t,n;const a=[],r=[];e.forEach((e=>{e.contact.isMe?t=e:(null==e?void 0:e.isSuperAdmin)?n=e:(null==e?void 0:e.isAdmin)?a.push(e):r.push(e)}));let i=[];t&&i.push(t);n&&i.push(n);return i=i.concat(a,r),i}},96464:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5177),i=n(67294),o=a(n(95402)),s=a(n(55944)),l=a(n(60453)),u=a(n(69637)),d=n(94790),c=a(n(35563)),f=n(85893);function h(e,t){var n;const{onClose:a}=e,i=(0,o.default)(),h=()=>{a?a():null==i||i.requestDismiss()},p=e.chat.getReceivedVcardMsgs(),m=null!==(n=null==p?void 0:p.map((e=>(0,f.jsx)(c.default,{msg:e,displayType:r.DISPLAY_TYPE.CONTACT_CARD,onMessageClick:h},e.id.toString()))))&&void 0!==n?n:[];return(0,f.jsxs)(l.default,{ref:t,children:[(0,f.jsx)(d.DrawerHeader,{title:(0,f.jsx)(s.default,{count:p?p.length:0}),onBack:h,type:d.DRAWER_HEADER_TYPE.LARGE}),(0,f.jsx)(u.default,{children:m})]})}var p=(0,i.forwardRef)(h);t.default=p},55944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{count:t}=e;return a.fbt._({"*":"Contact cards",_1:"Contact card"},[a.fbt._plural(t)],{hk:"SuHZi"})};var a=n(48360)},50485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCancel:t,onSend:n,supportTag:u}=e,d=(0,r.useCallback)((e=>{a.ModalManager.open((0,l.jsx)(s.SendLogsPopupLoadable,{onCancel:t,onSend:n,description:null==e?void 0:e.description,supportTag:u}))}),[t,n,u]);if((0,o.isInAppSupportEnabled)())return(0,l.jsx)(i.ContactUsModalLoadable,{onEmail:d,onCancel:t,onFailure:d,supportTag:u});return(0,l.jsx)(s.SendLogsPopupLoadable,{onCancel:t,onSend:n,supportTag:u})};var a=n(14597),r=n(67294),i=n(24390),o=n(41566),s=n(66040),l=n(85893)},4317:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(14597),i=n(93778),o=a(n(60453)),s=a(n(69637)),l=n(94790),u=n(29424),d=a(n(14296)),c=n(57224),f=a(n(11976)),h=n(85893);t.default=e=>{const{vcard:t}=e;return(0,h.jsx)(c.Modal,{type:c.ModalTheme.Box,children:(0,h.jsxs)(o.default,{children:[(0,h.jsx)(l.DrawerHeader,{title:d.default.t(216),type:l.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>r.ModalManager.close()}),(0,h.jsx)(s.default,{children:(0,h.jsx)(u.HotKeys,{children:(0,h.jsx)(f.default,{parsedVcard:t,thumbnail:(0,i.vcardThumbnail)(t)})})})]},"vcard-modal")})}},29234:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=n(51737),o=a(n(97039)),s=n(67294),l=(a(n(56720)),a(n(18063))),u=a(n(59312)),d=a(n(16223)),c=n(87550),f=n(2732),h=n(19380),p=n(85600),m=n(47915),g=a(n(14296)),_=n(88631),v=a(n(67568)),b=a(n(11497)),y=a(n(88406)),C=n(13923),S=n(85893);const E={description:{backgroundColor:"lkjmyc96",paddingTop:"a4bywxmn",paddingEnd:"h1a80dm5",paddingBottom:"lzi2pvmc",paddingStart:"sta02ykp",textAlign:"qfejxiq4"}},x="HEADER",T="ROW",M="BUTTON",k="DESCRIPTION";function w(e){var t;let{data:n,contextMenu:a,onContext:o,openContextOnClick:s,filter:l,contextEnabled:u,onSelect:d,showNotifyName:c,listenForAdminChange:h,participantCollection:p,active:g,isParentGroup:v}=e;switch(n.type){case x:return(0,S.jsx)(b.default,{header:null!==(t=n.header)&&void 0!==t?t:""});case T:const e=(0,i.isString)(l(n.contact)),y=e?"group-modal":null,w=e?l(n.contact):null,A=o&&a&&u?{contextEnabled:()=>u(n.contact.id),contextMenu:a(n.contact.id),onContext:o}:{};return(0,S.jsx)(f.Contact,(0,r.default)((0,r.default)({contact:n.contact,active:g,theme:y,secondary:w,onClick:s&&o?o:e?void 0:d?()=>{d(n.contact)}:()=>{},waitIdle:!0,showNotifyName:c,listenForAdminChange:h,participantCollection:p},A),{},{isParentGroup:v}));case M:return(0,S.jsx)(_.ListButton,{active:g,id:n.itemKey,onClick:n.onClick,children:n.text});case k:return(0,S.jsx)(C.TextParagraph,{xstyle:E.description,size:"14",color:"secondary",children:n.text});default:throw new m.UnknownDataError(n)}}function A(e,t){const{title:n,onCancel:a,contacts:r,filter:i=(e=>h.ContactCollection.isFilteredContact(e)),onSelect:s,onContext:f,contextEnabled:m,contextMenu:b,openContextOnClick:C,showNotifyName:E,participantCollection:A,listenForAdminChange:P,button:j,isParentGroup:I,description:O}=e,N=(0,d.default)((()=>new y.default([],(e=>String(e.id))))),[R,D]=(0,l.default)(),L=(0,u.default)();return(0,c.useListener)(h.ContactCollection,["add","remove","change:name"],(()=>{r||L()})),(0,S.jsx)(v.default,{ref:t,title:n,data:(()=>{const e=g.default.accentFold(R),t=(0,o.default)(e),n=(r||h.ContactCollection).filter((n=>i(n)&&(!e||e&&n.searchMatch(e,t)))),a=n.filter((e=>!0===i(e)));j&&a.push({id:"button"}),N.current.init(a);const s=[];if(!n.length)return s;let l,u;const d=n.length>10&&!0!==I;for(let e=0;e<n.length;e++)l=n[e],d&&l.header!==u&&s.push({type:x,header:l.header,itemKey:`${l.header||""}_${e}`}),s.push({type:T,contact:l,itemKey:`${l.id.toString()}_${e}`}),u=l.header;if(j){const{text:e,onClick:t}=j;s.push({type:M,text:e,onClick:t,itemKey:"button",height:_.LIST_BUTTON_HEIGHT})}return null!=O&&s.push({type:k,text:O,itemKey:"description"}),s})(),renderItem:e=>(0,S.jsx)(w,{data:e,contextMenu:b,onContext:f,openContextOnClick:C,filter:i,contextEnabled:m,onSelect:s,showNotifyName:E,listenForAdminChange:P,participantCollection:A,active:N.current,isParentGroup:I}),emptyState:(0,S.jsx)(p.SearchContacts,{}),selection:N.current,onSearch:D,searchPlaceholder:g.default.t(570),onSelect:(e,t)=>{if(t.type!==T)return;const n=t.contact;!0===i(n)&&(null==s||s(n))},onCancel:a})}var P=(0,s.forwardRef)(A);t.default=P},77835:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{title:t,countryCode:n,countries:a,onSave:y}=e;const[C,S]=(0,i.useState)(""),[E,x]=(0,i.useState)(n||""),T=(0,i.useCallback)((()=>{r.ModalManager.close(),y(E)}),[E,y]),M=(0,i.useCallback)((e=>{x(e.target.value)}),[]);return(0,_.jsx)(m.Modal,{type:m.ModalTheme.Box,children:(0,_.jsxs)(l.default,{theme:"settings",children:[(0,_.jsx)(d.DrawerHeader,{title:t,type:d.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>r.ModalManager.close()}),(0,_.jsx)(u.default,{children:(0,_.jsxs)(c.FlexColumn,{align:"stretch",children:[(0,_.jsx)(f.default,{shrink:0,xstyle:v.search,children:(0,_.jsx)(h.IconSection,{icon:"search",theme:h.IconSectionTheme.NoMarginSmallGutter,content:(0,_.jsx)(g.TextInput,{value:C,editable:!0,inputPlaceholder:p.default.t(569),onChange:S,focusOnMount:!0,theme:"text-input",lowProfile:!0})})}),(0,_.jsx)(f.default,{xstyle:v.formWrapper,grow:1,children:(0,_.jsx)("form",{className:(0,o.default)(v.form),children:(0,_.jsx)("ol",{children:a.filter((e=>{let[t,n]=e;return t.toLowerCase().includes(C.toLowerCase())||n.toString().toLowerCase().includes(C.toLowerCase())})).map((e=>{let[t,n,a,r]=e;return(0,_.jsx)(b,{selectedCountryCode:E,countryCode:t,label:n,description:a,xstyle:r,onChange:M},t)}))})})})]})}),(0,_.jsx)(c.FlexRow,{justify:"end",xstyle:v.footer,children:(0,_.jsx)(f.default,{children:(0,_.jsx)(s.default,{type:"primary",onClick:T,className:(0,o.default)(v.submitButton),children:p.default.t(567)})})})]})})};var r=n(14597),i=n(67294),o=a(n(56720)),s=a(n(39770)),l=a(n(60453)),u=a(n(69637)),d=n(94790),c=n(29623),f=a(n(48846)),h=n(84287),p=a(n(14296)),m=n(57224),g=n(90011),_=n(85893);const v={inputWrapper:{display:"p357zi0d",alignSelf:"o2es7gts",paddingEnd:"iffbo4e8"},formWrapper:{overflowY:"ag5g9lrv"},form:{paddingTop:"qomlamqu",paddingEnd:"f9ovudaz",paddingBottom:"bxcbqipq",paddingStart:"gx1rr48f"},search:{backgroundColor:"amaavye1",paddingTop:"emrlamx0",paddingEnd:"bcymb0na",paddingBottom:"aiput80m",paddingStart:"e8k79tju"},option:{paddingTop:"emrlamx0",paddingEnd:"bcymb0na",paddingBottom:"aiput80m",paddingStart:"e8k79tju"},label:{display:"f804f6gw",fontSize:"fe5nidar"},description:{color:"hp667wtd",fontSize:"enbbiyaj",lineHeight:"t4tp0euv"},footer:{paddingTop:"emrlamx0",paddingEnd:"itegkywt",paddingBottom:"aiput80m",paddingStart:"rppts313",backgroundColor:"lkjmyc96",borderTop:"swyb62mu"},submitButton:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},cursorPointer:{cursor:"ajgl1lbb"}};function b(e){let{selectedCountryCode:t,countryCode:n,label:a,description:r,xstyle:i,"data-testid":s="country-selector-popup-option",onChange:l}=e;return(0,_.jsx)("li",{className:(0,o.default)(v.option,v.cursorPointer,i),children:(0,_.jsxs)(c.FlexRow,{align:"center",children:[(0,_.jsx)(f.default,{xstyle:v.inputWrapper,children:(0,_.jsx)("input",{id:n,value:n,type:"radio",name:"countryCode",checked:n===t,className:(0,o.default)(v.cursorPointer),onChange:l})}),(0,_.jsxs)(f.default,{grow:1,children:[(0,_.jsx)("label",{htmlFor:n,className:(0,o.default)(v.label,v.cursorPointer),"data-testid":`${s}-label`,children:a}),void 0!==r?(0,_.jsx)("label",{htmlFor:n,className:(0,o.default)(v.description,v.cursorPointer),children:r}):null]})]})})}},43250:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(40234),i=n(21310),o=n(14597),s=n(94816),l=n(78820),u=n(48360),d=n(67294),c=a(n(56720)),f=n(57849),h=a(n(99360)),p=a(n(85260)),m=a(n(60453)),g=a(n(69637)),_=n(94790),v=a(n(33308)),b=n(12591),y=n(29623),C=n(71206),S=n(28307),E=a(n(11339)),x=a(n(88183)),T=n(80132),M=n(65376),k=n(13923),w=n(50452),A=n(85893);const P={banner:{height:"ptxfukc7",width:"ln8gz9je",marginTop:"nylzjxre",marginEnd:"jnwc1y2a",marginBottom:"bvhm1occ",marginStart:"svoq16ka",backgroundSize:"hbhfgwk1",backgroundRepeat:"sxl192xd",backgroundPosition:"t3g6t33p"},header:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"j3oq2rgp"},paragraph:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"pm5hny62"},learnMoreLink:{display:"l7jjieqr",marginTop:"bddvio20"}};function j(e,t){let{onClose:n,entryPoint:a}=e;const j=(0,f.getABPropConfigValue)("disappearing_messages_chat_picker"),[I,O]=(0,d.useState)((()=>{var e,t,n,a;let r;const i=(0,l.getMaybeMeUser)();return i&&(r=(0,S.getDisappearingModeSettingForUser)(i)),{duration:null!==(e=null===(t=r)||void 0===t?void 0:t.duration)&&void 0!==e?e:0,settingTimestamp:null!==(n=null===(a=r)||void 0===a?void 0:a.settingTimestamp)&&void 0!==n?n:0}})),N=I.duration>0;function R(){new E.default.DisappearingModeSettingEvents({disappearingModeSettingEventName:E.default.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE.LEARN_MORE_CLICK}).commit()}return(0,d.useEffect)((()=>{new E.default.DisappearingModeSettingEvents({disappearingModeSettingEventName:E.default.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE.DEFAULT_MESSAGE_TIMER_OPEN}).commit()}),[]),(0,d.useEffect)((()=>{j&&N&&new E.default.DisappearingMessageChatPicker({dmChatPickerEntryPoint:E.default.DM_CHAT_PICKER_ENTRY_POINT_TYPE.DEFAULT_MODE_SETTING,dmChatPickerEventName:E.default.DM_CHAT_PICKER_EVENT_NAME_TYPE.CHAT_PICKER_LINK_IMPRESSION,ephemeralityDuration:I.duration}).commit()}),[j,N]),(0,A.jsxs)(m.default,{ref:t,testid:"ddm-drawer",children:[(0,A.jsx)(_.DrawerHeader,{a8n:"drawer-title-emphemerality",title:u.fbt._("Default message timer",null,{hk:"21k0OM"}),onBack:function(e){new E.default.DisappearingModeSettingEvents({disappearingModeSettingEventName:E.default.DISAPPEARING_MODE_SETTING_EVENT_NAME_TYPE.DEFAULT_MESSAGE_TIMER_EXIT}).commit(),n(e)},type:_.DRAWER_HEADER_TYPE.LARGE}),(0,A.jsx)(g.default,{children:(0,A.jsxs)(v.default,{theme:"padding-no-vertical",animation:!1,children:[(0,A.jsx)(y.FlexRow,{align:"center",justify:"center",children:(0,A.jsx)("div",{style:{backgroundImage:`url(${p.default})`},className:(0,c.default)(P.banner)})}),(0,A.jsx)(k.TextHeader,{xstyle:P.header,children:u.fbt._("Start new chats with disappearing messages",null,{hk:"4m2cun"})}),(0,C.getAllDurations)().map((e=>{let{value:t,label:n}=e;return(0,A.jsx)(T.RadioWithLabel,{name:"duration",value:t,label:n,checked:t===I.duration,onChange:()=>function(e){const t=I.duration,n=I.settingTimestamp;e!==t&&(O({duration:e,settingTimestamp:r.Clock.globalUnixTime()}),(0,M.setDisappearingMode)(e).then((()=>{new E.default.DisappearingModeSettingChange({disappearingModeEntryPoint:a,lastToggleTimestamp:n,newEphemeralityDuration:e,previousEphemeralityDuration:t}).commit()})).catch((()=>{__LOG__(4,void 0,new Error,!0)`DDM duration change failed. Entry: ${a} Previous: ${t} New: ${e}`,SEND_LOGS("DDM-change-fail"),O({duration:t,settingTimestamp:n}),s.ToastManager.open((0,A.jsx)(w.Toast,{id:(0,w.genId)(),msg:u.fbt._("Failed to change disappearing messages duration",null,{hk:"45xo8v"})}))})))}(t)},t)})),j?(0,A.jsxs)("div",{className:(0,c.default)(P.paragraph),children:[N&&(0,A.jsxs)(k.TextParagraph,{children:[u.fbt._("This does not affect your existing chats. Apply this message timer to existing chats {=m1}",[u.fbt._implicitParam("=m1",(0,A.jsx)(h.default,{onClick:function(){o.ModalManager.open((0,A.jsx)(x.default,{duration:I.duration,entryPoint:E.default.DM_CHAT_PICKER_ENTRY_POINT_TYPE.DEFAULT_MODE_SETTING}))},children:u.fbt._("by selecting them",null,{hk:"2eZti1"})}))],{hk:"4jIYIO"}),"."]}),(0,A.jsx)(b.ExternalLink,{href:(0,i.getEphemeralFaqUrl)(),xstyle:P.learnMoreLink,onClick:R,children:u.fbt._("Learn more",null,{hk:"3foPyp"})})]}):(0,A.jsxs)(k.TextParagraph,{xstyle:P.paragraph,children:[u.fbt._("When enabled, all new individual chats will start with disappearing messages set to the selected duration. This setting will not affect your existing chats.",null,{hk:"3SYIj1"})," ",(0,A.jsx)(b.ExternalLink,{href:(0,i.getEphemeralFaqUrl)(),onClick:R,children:u.fbt._("Learn more",null,{hk:"3foPyp"})})]})]})})]})}var I=(0,d.forwardRef)(j);t.default=I},65640:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteChatPopup=function(e){const{onCancel:t,onDeleteOrExit:n}=e,a=(0,u.useModelValues)(e.chat,["isReadOnly","isGroup","isUser","isBroadcast"]);return(0,p.jsx)(d.default,{title:m(a),onOK:()=>{let e;a.isGroup?e=a.isReadOnly?(0,c.sendDelete)(a):(0,f.sendExitGroup)(a):a.isUser||a.isBroadcast?e=(0,c.sendDelete)(a):__LOG__(3)`deleteChatPopup:onDelete Unsupported chat type`,e&&n(e),o.ModalManager.close()},okText:_(a),onCancel:()=>{o.ModalManager.close(),null==t||t()},children:(0,p.jsx)(h.TextDiv,{theme:"muted",children:g(a)})})},t.isDelete=v;var r=n(88555),i=n(8139),o=n(14597),s=n(79662),l=n(48360),u=n(35461),d=a(n(52665)),c=n(20052),f=n(5501),h=n(13923),p=n(85893);function m(e){return e.isGroup?e.isReadOnly?l.fbt._("Delete this group?",null,{hk:"2PlADN"}):l.fbt._("Exit this group?",null,{hk:"2sYjV0"}):e.isUser?l.fbt._("Delete this chat?",null,{hk:"3v4QBf"}):e.isBroadcast?l.fbt._("Delete broadcast list?",null,{hk:"Xp84E"}):void 0}function g(e){return(0,r.isMDBackend)()&&v(e)?(0,i.clearOrDeleteChatSyncEnabled)()?l.fbt._("Messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"4AXwej"}):l.fbt._("Messages will be removed from this device only.",null,{hk:"42siop"}):(0,s.silentGroupExitDialogEnabled)()?l.fbt._("Only you and group admins will be notified that you left the group.",null,{hk:"26O8WY"}):void 0}function _(e){return e.isGroup?e.isReadOnly?l.fbt._("Delete group",null,{hk:"Raajp"}):l.fbt._("Exit group",null,{hk:"wnp71"}):e.isUser||e.isBroadcast?l.fbt._("Delete chat",null,{hk:"w3dKM"}):void 0}function v(e){return e.isGroup&&e.isReadOnly||e.isUser||e.isBroadcast}},47022:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,msgList:n,toastPosition:a,isMsgVisible:r,onDelete:s,onEnd:l}=e,[d,c]=(0,p.useFlow)(R.DeleteRevoke,{pushTransition:"none",popTransition:"none"}),[f,h]=(0,g.default)(!0),_=function(e){return e.reduce(((e,t)=>{const n=t.canSenderRevoke(),a=t.canAdminRevoke(),r=e.sender+(n?1:0),i=e.admin+(a?1:0);return{sender:r,admin:i,canRevoke:e.canRevoke&&(n||a)&&i<=1}}),{sender:0,admin:0,canRevoke:!0})}(n),[v,b]=function(e){const[t,n]=(0,m.default)((0,x.isSenderRevokeWindowSenderEnabled)()?u.NUX.SENDER_REVOKE_LEGAL_DISCLAIMER_NUX_NEW:u.NUX.SENDER_REVOKE_LEGAL_DISCLAIMER_NUX),[a,r]=(0,m.default)(u.NUX.ADMIN_REVOKE_LEGAL_DISCLAIMER_NUX);let i,o=!1;if(e.canRevoke){let s=e.admin>0;!a&&e.sender&&(s=!1),[o,i]=s?[a,r]:[t,n]}return[o,i]}(_),y=()=>{i.Cmd.sendDeleteMsgs(t,n,f,null,a),o.DrawerManager.existsDrawerRight((e=>{e&&r&&n.forEach((e=>{r(e.id,!0)&&o.DrawerManager.closeDrawerRight()}))})),null==s||s(),null==l||l(),c.end()},C=()=>{_.admin>0&&k.UiRevokeActionHelper.revokeConfirmed(),n.length>0&&i.Cmd.sendRevokeMsgs(t,n,{clearMedia:f,toastPosition:a}),null==l||l(),v?c.push(R.RevokeNux):c.end()},S=()=>{0===_.admin&&_.sender>0?k.UiRevokeActionHelper.senderRevoke():_.admin>0&&0===_.sender?k.UiRevokeActionHelper.adminRevoke():k.UiRevokeActionHelper.adminAndSenderRevoke(),_.admin>0?c.push(R.RevokeConfirm):C()},E=()=>{null==b||b(),c.end()};if(!c.step)return;let T;switch(c.step){case R.DeleteRevoke:T=(0,A.jsx)(D,{msgList:n,revokable:_,clearMedia:f,onDelete:y,onRevoke:S,onCancel:c.end,onToggleClearMedia:h});break;case R.RevokeConfirm:T=(0,A.jsx)(L,{onConfirm:C,onCancel:()=>c.pop()});break;case R.RevokeNux:T=(0,A.jsx)(B,{revokable:_,onOk:E})}return(0,A.jsx)(d,{requestDismiss:()=>{k.UiRevokeActionHelper.endSession()},flow:c,children:T})};var r=a(n(99964)),i=n(81572),o=n(41455),s=n(21310),l=n(15461),u=n(71579),d=n(28298),c=n(48360),f=n(67294),h=a(n(56720)),p=n(59083),m=a(n(59732)),g=a(n(27698)),_=a(n(39770)),v=n(16593),b=a(n(52665)),y=n(19380),C=n(12591),S=n(29424),E=a(n(14296)),x=n(41566),T=n(57224),M=n(12176),k=n(55051),w=n(18644),A=n(85893);const P={display:"p357zi0d",flexDirection:"f8m0rgwh"},j={display:"p357zi0d",fontSize:"f8jlpxt4",lineHeight:"a4ywakfo",marginEnd:"jnwc1y2a",marginTop:"iy2cu22y",paddingBottom:"przvwfww"},I={display:"l7jjieqr",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginEnd:"spjzgwxb",verticalAlign:"kbne4t5p"},O={flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c"},N={transitionProperty:"cr6d9hz6",transitionDuration:"p4t1lx4y",transitionTimingFunction:"pu4k07i0"},R=n(76672).Mirrored(["DeleteRevoke","RevokeConfirm","RevokeNux"]);const D=(0,f.forwardRef)(((e,t)=>{const{msgList:n,revokable:a,clearMedia:i,onCancel:o,onRevoke:s,onDelete:u,onToggleClearMedia:f}=e;let p;n.some((e=>e.asMms&&e.type!==l.MSG_TYPE.STICKER))&&(p=(0,A.jsxs)("div",{className:(0,h.default)(j),onClick:f,children:[(0,A.jsx)("div",{"data-a8n":r.default.key("menu-icon-revoke-message"),className:(0,h.default)(I,N),children:(0,A.jsx)(v.CheckBox,{onChange:f,checked:i})}),(0,A.jsx)("div",{className:(0,h.default)(O,N),children:c.fbt._("Delete file from your phone",null,{hk:"2UUqlL"})})]},0));let m,g=null,b=null;if(a.canRevoke&&a.admin>0){const e=n.filter((e=>e.canAdminRevoke()))[0],t=y.ContactCollection.assertGet(e.sender);m=c.fbt._("Delete message from {name}?",[c.fbt._param("name",(0,A.jsx)(M.ContactName,{contact:t}))],{hk:"y3z6S"})}else m=c.fbt._({"*":"Delete messages?",_1:"Delete message?"},[c.fbt._plural(n.length)],{hk:"1LYizX"});const C=(0,A.jsx)(_.default,{a8nText:"popup-controls-delete",type:a.canRevoke?"secondary":"primary",onClick:u,children:c.fbt._("Delete for me",null,{hk:"3RtLsV"})},2),E=(0,A.jsx)(_.default,{type:"secondary",onClick:o,children:c.fbt._("Cancel",null,{hk:"H0gNq"})},0);return a.canRevoke&&(g=(0,A.jsx)(_.default,{a8nText:"popup-controls-revoke",type:"secondary",onClick:s,children:c.fbt._("Delete for everyone",null,{hk:"2McSeU"})},1)),b=g?(0,A.jsxs)("div",{className:(0,h.default)(P),children:[(0,A.jsx)("div",{children:g}),(0,A.jsx)("div",{className:(0,h.default)(d.uiMargin.top12),children:C}),(0,A.jsx)("div",{className:(0,h.default)(d.uiMargin.top12),children:E})]}):[E,C],(0,A.jsx)(S.HotKeys,{ref:t,handlers:{escape:o},children:(0,A.jsxs)(T.Modal,{actions:b,children:[m,p]})})})),L=(0,f.forwardRef)(((e,t)=>{let{onConfirm:n,onCancel:a}=e;return(0,A.jsx)(b.default,{ref:t,okText:c.fbt._("Delete for everyone",null,{hk:"2McSeU"}),onOK:n,cancelText:c.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:a,children:c.fbt._("As an admin, you are deleting someone else’s message for everyone in this chat. They will see that you deleted the message.",null,{hk:"uLkEY"})})})),B=(0,f.forwardRef)(((e,t)=>{let{revokable:n,onOk:a}=e;const r=[(0,A.jsx)(_.default,{type:"secondary",onClick:F,children:E.default.t(397)},1),(0,A.jsx)(_.default,{type:"primary",onClick:a,children:c.fbt._("OK",null,{hk:"2KEeHb"})},0)];let i;return 1===n.sender&&0===n.admin?i=c.fbt._("This message will be deleted for everyone in this chat on the latest version of WhatsApp.",null,{hk:"1ZHL3y"}):n.sender>1&&0===n.admin?i=c.fbt._("Messages you selected will be deleted for everyone on the latest version of WhatsApp in this chat.",null,{hk:"1kFtBh"}):0===n.sender&&1===n.admin?i=c.fbt._("This message will be deleted for everyone in this chat on the latest version of WhatsApp.",null,{hk:"1VfzfV"}):n.sender>0&&1===n.admin&&(i=c.fbt._("Messages you selected will be deleted for everyone on the latest version of WhatsApp in this chat.",null,{hk:"3bWKI0"})),(0,A.jsx)(w.UIE,{displayName:"MsgRevokeNuxModal",escapable:!1,children:(0,A.jsx)(S.HotKeys,{ref:t,handlers:{enter:a},children:(0,A.jsx)(T.Modal,{actions:r,children:(0,A.jsx)("div",{className:(0,h.default)(O,N),children:i})})})})}));function F(){(0,C.openExternalLink)((0,s.getRevokeFaqUrl)())}},60453:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=a(n(56720)),o=a(n(5354)),s=a(n(79592)),l=n(85893);const u={belowHeader:{height:"sh5ccnuw",marginTop:"dn3ua38v",position:"lhggkp7q",width:"ln8gz9je"},drawer:{backgroundColor:"g6kkip0l",display:"p357zi0d",flexDirection:"f8m0rgwh",height:"ppled2lx",start:"tkdu00h0",overflowX:"gfz4du6o",overflowY:"r7fjleex",pointerEvents:"jv8uhy2r",position:"lhggkp7q",top:"qq0sjtgm",width:"ln8gz9je"},drawerCapture:{backgroundColor:"ej3x2ktq"},drawerCatalog:{backgroundColor:"svpeipy5"},drawerEdit:{backgroundColor:"ej3x2ktq"},drawerGallery:{backgroundColor:"cumqsjf0"},drawerMedia:{backgroundColor:"ej3x2ktq"},striped:{backgroundColor:"se2m7z6i"},white:{backgroundColor:"ihvf49ua"}};function d(e,t){const{children:n,onDrop:a,onDragChange:d,theme:c,testid:f}=e,h=(0,r.useRef)(null),p=(0,i.default)(u.drawer,("invite"===c||"products"===c||"labels"===c||"settings"===c||"archived"===c||"sticker-store"===c)&&u.white,("capture-contain"===c||"capture-cover"===c)&&u.drawerCapture,"edit"===c&&u.drawerEdit,"media"===c&&u.drawerMedia,"gallery"===c&&u.drawerGallery,"catalog"===c&&u.drawerCatalog,"striped"===c&&u.striped,("capture-contain"===c||"media"===c)&&u.belowHeader,e.xstyle);return(0,l.jsxs)(o.default,{ref:t,className:p,style:e.style,onDragOver:e=>{var t;null===(t=h.current)||void 0===t||t.onDragOver(e)},onDragStart:e=>{var t;null===(t=h.current)||void 0===t||t.onDragStart(e)},onDragEnd:e=>{var t;null===(t=h.current)||void 0===t||t.onDragEnd(e)},testid:f,children:[a&&(0,l.jsx)(s.default,{ref:h,disableFromWithin:!0,onDragChange:d,onDrop:a}),n]})}var c=(0,r.forwardRef)(d);t.default=c},69637:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(6479)),o=a(n(94184)),s=n(67294),l=a(n(68276)),u=a(n(44942)),d=n(85893);const c=["overflow","flatListControllers","children","theme"];function f(e,t){const{overflow:n,flatListControllers:a,children:s,theme:f}=e,h=(0,i.default)(e,c),p=(0,o.default)(l.default.container,{[l.default.noscroll]:"hidden"===n,[l.default.centerItem]:"center-content"===f,[l.default.padding]:"padding"===f,[l.default.centerColumn]:"center-column"===f});return a&&a.length>0?(0,d.jsx)(u.default,(0,r.default)((0,r.default)({flatListControllers:a,className:p},h),{},{children:s})):(0,d.jsx)("div",(0,r.default)((0,r.default)({className:p,ref:t},h),{},{children:s}))}var h=(0,s.forwardRef)(f);t.default=h},64738:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,onClick:n,icon:a,className:h,theme:p,disabled:m=!1,testid:g,xstyle:_}=e,[v,b]=(0,l.default)(n,{disabled:m}),y=m?void 0:e.color,C=null!=a?(0,f.jsx)("div",{className:(0,o.default)(u.default.icon,{[u.default.danger]:"danger"===y,[u.default.success]:"success"===y}),children:a}):null,S=(0,o.default)(u.default.container,h,{[u.default.containerNoIcon]:!a,[u.default.disabled]:Boolean(m),[u.default.containerListAligned]:"list-aligned"===p,[u.default.themeChatInfo]:"chat-info"===p},(0,s.default)(_)),E=(0,d.isStringOrFbt)(t)?t:null;return(0,f.jsxs)("div",(0,r.default)((0,r.default)({},b),{},{className:S,"data-a8n":i.default.key(e.a8nText),"data-ignore-capture":"any","data-testid":g,ref:v,title:E,children:[C,(0,f.jsx)("div",{className:(0,o.default)(u.default.bodyContainer),children:(0,f.jsx)("div",{className:u.default.body,children:(0,f.jsx)(c.TextSpan,{theme:"title",color:y,children:t})})})]}))};var r=a(n(81109)),i=a(n(99964)),o=a(n(94184)),s=a(n(56720)),l=a(n(34470)),u=a(n(73858)),d=n(12733),c=n(13923),f=n(85893)},27394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerContext=void 0;const a=(0,n(67294).createContext)({type:null});t.DrawerContext=a},94790:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerHeader=t.DRAWER_HEADER_TYPE=void 0;var r=a(n(99964)),i=a(n(52013)),o=a(n(40436)),s=a(n(94184)),l=n(48360),u=n(67294),d=a(n(44117)),c=n(46346),f=a(n(23217)),h=n(13923),p=n(85893);const m={SMALL:"small",LARGE:"large",POPUP:"popup",OFFSET:"offset",MULTI_MEDIA_GALLERY:"multiMediaGallery",LABELS:"labels"};t.DRAWER_HEADER_TYPE=m;t.DrawerHeader=e=>{var t;const{title:n,onBack:a,onCancel:g,type:_,children:v,menu:b,headingLevel:y,focusBackOrCancel:C}=e,S=(0,u.useRef)(null);(0,u.useEffect)((()=>{C&&S.current&&i.default.focus(S.current)}),[C]);const E=a?(0,p.jsx)("button",{className:d.default.btnCloseDrawer,"data-a8n":r.default.key("btn-closer-drawer"),onClick:a,"aria-label":l.fbt._("Back",null,{hk:"JgQC7"}),ref:S,children:(0,p.jsx)(f.default,{name:"back",directional:!0})}):null,x=g?(0,p.jsx)("button",{className:d.default.btnCloseDrawer,"data-a8n":r.default.key("btn-closer-drawer"),onClick:g,"aria-label":l.fbt._("Close",null,{hk:"17RE2w"}),ref:S,children:(0,p.jsx)(f.default,{name:"x"})}):null,T=null!=b?(0,p.jsx)("span",{className:d.default.paneListControls,children:(0,p.jsx)(c.MenuBar,{theme:_!==m.SMALL?"inverse":null,children:(0,p.jsx)(o.default,{transitionName:"btn",children:b})},"drawer-header")}):null,M=(0,s.default)({[d.default.multiMediaGallery]:_===m.MULTI_MEDIA_GALLERY,[d.default.labels]:_===m.LABELS,[d.default.drawerHeader]:_===m.LARGE||_===m.MULTI_MEDIA_GALLERY||_===m.LABELS,[d.default.drawerHeaderSmall]:_===m.SMALL,[d.default.drawerHeaderOffset]:_===m.OFFSET||_===m.POPUP,[d.default.drawerHeaderPopup]:_===m.POPUP,[d.default.drawerHeaderMacRtlFix]:!1}),k=n&&null!=v?(0,p.jsx)("div",{className:d.default.side,children:v}):null;return(0,p.jsx)("header",{className:M,children:(0,p.jsxs)("div",{className:d.default.drawerTitle,"data-animate-drawer-title":!0,children:[(0,p.jsxs)("div",{className:d.default.drawerTitleAction,children:[E,x]}),(0,p.jsx)("div",{"data-a8n":r.default.key(null!==(t=e.a8n)&&void 0!==t?t:"drawer-title-body"),className:d.default.drawerTitleBody,children:(0,p.jsx)(h.TextHeader,{level:y,weight:"inherit",customSize:"inherit",children:n||v})}),k,T]})})}},70835:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(56720)),i=a(n(14296)),o=n(52596),s=n(85893);const l={item:{lineHeight:"r5qsrrlp",minHeight:"g4oj0cdv",paddingTop:"gaujl5hk"},itemBody:{borderBottom:"daad4uqs",paddingBottom:"p9a4hubg",textAlign:"ml4r5409"},itemBodyRTL:{textAlign:"cb8ormfa"},lastItemBody:{borderBottom:"thn59n0e"},main:{flex:"a1m9qzja"},primary:{color:"tviruh8d",fontSize:"bze30y65"},row:{alignItems:"gndfcl4n",display:"p357zi0d"},secondary:{color:"jq3rn4u7",fontSize:"f8jlpxt4",fontWeight:"bcr6az0x",lineHeight:"g2xi8p6r"},secondaryPrivacy:{color:"g4ti3y4y"},side:{color:"svlsagor",flex:"kk3akd72"}};var u=e=>{let{title:t,icon:n,onClick:a,children:u,isLastItem:d,theme:c="default",testid:f}=e;const h=(0,r.default)(l.itemBody,i.default.isRTL()&&l.itemBodyRTL,null!=n&&l.row,d&&l.lastItemBody),p=(0,r.default)(null!=n&&l.main),m=(0,r.default)(null!=n&&l.side);return(0,s.jsx)("div",{className:(0,r.default)(l.item),onClick:a,role:a?"button":"","data-testid":f,children:(0,s.jsxs)("div",{className:h,children:[(0,s.jsxs)("div",{className:p,dir:"auto",children:[(0,s.jsx)(o.SelectableDiv,{className:(0,r.default)(l.primary),selectable:!0,children:t}),(0,s.jsx)("div",{className:(0,r.default)(l.secondary,"privacy"===c&&l.secondaryPrivacy),children:u})]}),(0,s.jsx)("div",{className:m,children:n})]})})};t.default=u},53277:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Dir=void 0,t.DrawerManagerComponent=function(e){const{direction:t,onDrawerIn:n,onDrawerOut:a,onDrawerAnimationComplete:x}=e,T=(0,m.default)(),M=(0,c.useRef)(null),k=(0,c.useRef)(null),w=(0,c.useRef)(!1),[A,P]=(0,c.useState)(void 0),[j,I]=(0,c.useState)(null),[O,N]=(0,c.useState)((()=>E(e.direction))),[R,D]=(0,c.useState)(void 0),[L,B]=(0,c.useState)(void 0),[F,G]=(0,c.useState)(void 0),[U,V]=(0,c.useState)(_.FocusType.CUSTOM),W=e=>{e&&j!==e||A&&(a&&a(),w.current=!0,P(void 0),G(void 0),T((()=>{w.current=!1})))},H=()=>{if(!M.current)return;const e=M.current.getNode();e&&!e.contains(document.activeElement)&&u.default.focus(e)};(0,p.useListener)(l.DrawerManager,`open_drawer_${t}`,(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E(t),r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;const d=(0,o.default)(`DrawerManager${t}`);if(!w.current&&A){if(null!=A.key&&(0,i.default)(A.key,e.key))return;k.current=S.NONE,f.default.unstable_batchedUpdates((()=>{P(e),I(d),N(a),D(r),B(s),G(l),V(u)})),T((()=>{k.current=a}))}else n&&n(),f.default.unstable_batchedUpdates((()=>{P(e),I(d),N(a),D(r),B(s),G(l),V(u)}))})),(0,p.useListener)(l.DrawerManager,`exists_drawer_${t}`,(e=>{e(!0!==w.current&&!!A)})),(0,p.useListener)(l.DrawerManager,`close_drawer_${t}`,W),(0,p.useListener)(l.DrawerManager,`update_context_${t}`,(e=>{G(e)}));const q=k.current||O;let Y;A&&(Y=(0,y.jsx)(v.UIE,{displayName:`Drawer${(0,r.default)(t)}`,escapable:!0,ref:M,requestFocus:(null==L?void 0:L.noFocus)?null:H,requestDismiss:W.bind(null,j),children:(0,y.jsx)(_.RotateFocus,{style:{height:"100%"},focusType:U,children:F?(0,y.jsx)(g.DrawerContext.Provider,{value:F,children:A}):(0,y.jsx)(y.Fragment,{children:A})})},j));return(0,y.jsx)(b.default.Consumer,{children:e=>(0,y.jsx)(b.default.Provider,{value:R||e,children:(0,y.jsx)(d.default,{className:(0,h.default)(C),transitionName:q,onAnimationComplete:()=>{return e=j,x&&x(),void(L&&A&&e===j&&(0,s.isFunction)(L.onEnterAnimationComplete)&&L.onEnterAnimationComplete());var e},children:Y})})})},t.Transition=void 0;var r=a(n(11700)),i=a(n(18446)),o=a(n(73955)),s=n(51737),l=n(41455),u=a(n(52013)),d=a(n(40436)),c=n(67294),f=a(n(73935)),h=a(n(56720)),p=n(87550),m=a(n(74570)),g=n(27394),_=n(87956),v=n(18644),b=a(n(2773)),y=n(85893);const C={position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0"},S={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"};t.Transition=S;t.Dir={LEFT:"left",MID:"mid",RIGHT:"right"};const E=e=>S[e.toUpperCase()]},33308:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(99964)),i=a(n(94184)),o=n(67294),s=a(n(56720)),l=a(n(17764)),u=a(n(53145)),d=n(13923),c=n(85893);const f={paddingTop:"gaujl5hk",paddingEnd:"bcymb0na",paddingBottom:"p9a4hubg",paddingStart:"e8k79tju"};function h(e,t){let{children:n,title:a,titleXStyle:o,titleTextXStyle:h,subtitle:p,titleOnClick:m,a8nText:g,"data-list-scroll-offset":_,theme:v,animation:b=!0,className:y,xstyle:C,ellipsify:S=!0,shadow:E=!0}=e;const x=v?l.default[v]:null,T=(0,i.default)(l.default.container,{[l.default.animate]:b,[l.default.shadow]:E},x,y,(0,s.default)(C));let M;if(null!=a){let e="section-title";"list-section"===v||"title-larger"===v?e="section-title-larger":"chat-info"===v&&(e="chat-info-section-title"),M=(0,c.jsx)("div",{className:(0,i.default)(l.default.title,(0,s.default)(f,o)),"data-a8n":r.default.key(g),role:m?"button":null,onClick:m,children:(0,c.jsx)(u.default,{side:p,ellipsify:S,children:(0,c.jsx)(d.TextSpan,{xstyle:h,theme:e,children:a})})})}return(0,c.jsxs)("div",{ref:t,className:T,"data-list-scroll-offset":_,children:[M,n]})}var p=(0,o.forwardRef)(h);t.default=p},4061:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{e2eSubtype:t,chatId:n,chat:a,msg:j,highlightSurface:I,jid:O}=e;(0,m.useEffect)((()=>{if((0,r.isMDBackend)()){const e=(0,u.assertGetMe)(),n=O?[(0,c.createWid)(O.toString()),e]:[e];(0,b.getFanOutListJob)(n).then((e=>{(0,T.ensureE2ESessions)(e)})),["encrypt","info_encrypted"].includes(t)&&(0,x.isPrivacyNarrativeV1Enabled)()&&null!=I&&new M.default.PrivacyHighlight({highlightCategory:"e2ee",highlightSurface:I,userActionType:M.default.USER_ACTION_TYPE.DIALOG_APPEAR}).commit()}}),[]);const N=()=>{if(!O)return;const e=O.equals((0,u.getMeUser)())?n:O;l.ModalManager.close(),o.Cmd.verificationDrawer(e)};let R,D,L=null,B=null,F=null,G=null,U=E.default.t(397),V=null;switch(F=()=>l.ModalManager.close(),G=h.fbt._("OK",null,{hk:"2KEeHb"}),t){case"info_encrypted":D=(0,s.getE2EFaqUrl)(),d.default.isGroup(n)?(0,i.isSupportGroup)(a)?(R=h.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),U=h.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}),D=(0,s.getSupportChatSafetyFaqUrl)()):R=(0,A.isGroupCallEnabled)()?h.fbt._("Messages and calls to this group are secured with end-to-end encryption, which means WhatsApp and third parties can't read or listen to them.",null,{hk:"o6dGe"}):h.fbt._("Messages you send to this group are secured with end-to-end encryption, which means WhatsApp and third parties can't read them.",null,{hk:"2xYbHw"}):d.default.isBroadcast(n)&&(R=h.fbt._("Messages you send to this broadcast list are secured with end-to-end encryption, which means WhatsApp and third parties can't read them.",null,{hk:"27mjFa"}));break;case"identity":{const t=O&&v.ContactCollection.get(O);if(null==t?void 0:t.isMe)if(__LOG__(4,void 0,new Error,!0)`formatE2ENotification: receive identity notification of self`,SEND_LOGS("SelfIdentityNotificationError"),d.default.isGroup(n))R=h.fbt._('Your security code with all participants changed because there was a registration on a new device of yours. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"3CxdRh"});else if(d.default.isBroadcast(n))R=h.fbt._('Your security code with all recipients changed because there was a registration on a new device of yours. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"3vKS62"});else{const e=v.ContactCollection.get(n),t=e?e.formattedName:(0,f.widToFormattedUser)(n);R=E.default.t(833,{name:t})}else{const n=t?t.formattedName:(0,f.widToFormattedUser)(e.jid);R=E.default.t(832,{name:n})}(0,r.isMDBackend)()?(L=F,B=G,F=N,G=h.fbt._("Verify",null,{hk:"2u9OID"}),D=(0,s.getMDCodeChangeFaqUrl)()):(L=F,B=h.fbt._("Cancel",null,{hk:"H0gNq"}),D=(0,s.getCodeChangeFaqUrl)());break}case"device":{(0,p.default)(null!=j,"msg shouldn't be null");const e=(0,w.unproxy)(j);if(R=(0,C.default)(e,!0),(0,r.isMDBackend)()){L=F,B=G;const t=e.body?v.ContactCollection.get(e.body):null;(null==t?void 0:t.isMe)&&(n.isGroup()||n.isBroadcast())?(F=void 0,G=void 0):(F=N,G=h.fbt._("Verify",null,{hk:"2u9OID"})),D=(0,s.getMDCodeChangeFaqUrl)()}else L=F,B=h.fbt._("Cancel",null,{hk:"H0gNq"}),D=(0,s.getCodeChangeFaqUrl)();break}case"encrypt":case"encrypt_now":default:if(D=(0,k.securityUrl)(),d.default.isGroup(n))(0,i.isSupportGroup)(null==j?void 0:j.chat)?(R=h.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),U=h.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}),D=(0,s.getSupportChatSafetyFaqUrl)()):R=(0,A.isGroupCallEnabled)()?h.fbt._("WhatsApp secures your conversations with end-to-end encryption. This means your messages, calls and status updates stay between you and the people you choose. Not even WhatsApp can read or listen to them.",null,{hk:"1tJbs1"}):h.fbt._("WhatsApp secures your conversations with end-to-end encryption. This means your messages and status updates stay between you and the people you choose. Not even WhatsApp can read or listen to them.",null,{hk:"4cGcGP"});else if((0,S.default)(n.user))R=h.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),U=h.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}),D=(0,s.getSupportChatSafetyFaqUrl)();else if(d.default.isBroadcast(n))R=h.fbt._("WhatsApp secures your conversations with end-to-end encryption. This means your messages and status updates stay between you and the people you choose. Not even WhatsApp can read or listen to them.",null,{hk:"4cGcGP"});else{const e=(0,A.isVoiceCallEnabled)()||(0,A.isVideoCallEnabled)();V=h.fbt._("WhatsApp secures your conversations with end-to-end encryption.",null,{hk:"1y1wzm"}),R=e?h.fbt._("Your messages and calls stay between you and the people and businesses you choose. Not even WhatsApp can read or listen to them.",null,{hk:"1QdXdG"}):h.fbt._("Your messages stay between you and the people and businesses you choose. Not even WhatsApp can read or listen to them.",null,{hk:"4a0dhC"})}}const W=(0,P.jsx)(g.default,{onClick:()=>{["encrypt","info_encrypted"].includes(t)&&(0,x.isPrivacyNarrativeV1Enabled)()&&null!=I&&new M.default.PrivacyHighlight({highlightCategory:"e2ee",highlightSurface:I,userActionType:M.default.USER_ACTION_TYPE.DIALOG_SELECT}).commit(),(0,y.openExternalLink)(D)},children:U}),H=(0,P.jsxs)(P.Fragment,{children:[R," ",W]});return(0,P.jsx)(_.default,{title:V,onOK:F,okText:G,onCancel:L,cancelText:B,children:H})};var r=n(88555),i=n(73679),o=n(81572),s=n(21310),l=n(14597),u=n(78820),d=a(n(89867)),c=n(45454),f=n(62054),h=n(48360),p=a(n(41143)),m=n(67294),g=a(n(99360)),_=a(n(52665)),v=n(19380),b=n(26409),y=n(12591),C=a(n(30344)),S=a(n(78542)),E=a(n(14296)),x=n(41566),T=n(97398),M=a(n(11339)),k=n(33210),w=n(18146),A=n(69594),P=n(85893)},10081:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.E2eInfoModalV2=t.E2eInfoModalStatus=void 0;var r=n(14597),i=n(48360),o=n(67294),s=(a(n(56720)),a(n(52665))),l=n(62657),u=n(12591),d=a(n(11339)),c=n(85893);const f={containerE2eInfoModal:{marginTop:"opp68qpq",marginEnd:"mg7w9a8q",marginBottom:"brac1wpa",marginStart:"a6gmrtb7"},textAlignCenter:{textAlign:"qfejxiq4"}},h=e=>{(0,o.useEffect)((()=>{null!=e.highlightSurface&&new d.default.PrivacyHighlight({highlightCategory:"e2ee",highlightSurface:e.highlightSurface,userActionType:d.default.USER_ACTION_TYPE.DIALOG_APPEAR}).commit()}),[]);const t=i.fbt._("OK",null,{hk:"2KEeHb"}),n=i.fbt._("Learn More",null,{hk:"eSqcw"});return(0,c.jsx)(s.default,{onOK:()=>{(0,u.openExternalLink)(e.url),null!=e.highlightSurface&&new d.default.PrivacyHighlight({highlightCategory:"e2ee",highlightSurface:e.highlightSurface,userActionType:d.default.USER_ACTION_TYPE.DIALOG_SELECT}).commit(),r.ModalManager.close()},okText:n,onCancel:()=>r.ModalManager.close(),cancelText:t,children:e.children})};t.E2eInfoModalStatus=e=>{const t=i.fbt._("Your status and chats are private",null,{hk:"4lIt9q"}),n=i.fbt._("End-to-end encryption keeps your status updates and personal messages between you and the people you choose. Not even WhatsApp can see them. This includes your:",null,{hk:"1U4atl"});return(0,c.jsx)(h,{url:e.url,highlightSurface:e.highlightSurface,children:(0,c.jsx)(l.E2eSummary,{xstyle:f.containerE2eInfoModal,iconWidth:220,icon:"e2e-illustration",title:t,subTitle:n,textAlignment:f.textAlignCenter})})};t.E2eInfoModalV2=e=>{const t=i.fbt._("Your chats and calls are private",null,{hk:"2ZLoAl"}),n=i.fbt._("End-to-end encryption keeps your personal messages and calls between you and the people you choose. Not even WhatsApp can read or listen to them. This includes your:",null,{hk:"2wWXme"});return(0,c.jsx)(h,{url:e.url,highlightSurface:e.highlightSurface,children:(0,c.jsx)(l.E2eSummary,{iconWidth:220,icon:"e2e-illustration",xstyle:f.containerE2eInfoModal,title:t,subTitle:n,textAlignment:f.textAlignCenter})})}},51238:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronUpdatePopup=function(){return(0,h.jsx)(o.default,{okText:i.fbt._("Update",null,{hk:"3hV2E"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:p,onCancel:m,children:(0,h.jsxs)(l.FlexColumn,{align:"center",justify:"center",children:[(0,h.jsx)(d.default,{name:"light"===(0,f.getTheme)()?"logout-notice-light":"logout-notice-dark"}),(0,h.jsx)(c.TextDiv,{theme:"popup-title",className:u.default.upgradeModalTitle,children:i.fbt._("Logout Information",null,{hk:"2tycqT"})}),(0,h.jsx)(c.TextDiv,{theme:"small",className:u.default.upgradeModalText,children:i.fbt._("This update will log you out of WhatsApp. After the update, you can log in immediately with your phone.",null,{hk:"Hso8K"})})]})})};var r=n(14597),i=n(48360),o=a(n(52665)),s=n(12591),l=n(29623),u=a(n(31190)),d=a(n(23217)),c=n(13923),f=n(97628),h=n(85893);const p=()=>{(0,s.openExternalLink)(s.WINDOWS_STORE_URI)},m=()=>{r.ModalManager.close()}},30305:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=n(21310),o=a(n(81602)),s=n(71579),l=n(94816),u=n(48360),d=n(67294),c=a(n(56720)),f=a(n(59732)),h=a(n(55010)),p=a(n(95402)),m=a(n(39770)),g=n(23817),_=a(n(99360)),v=a(n(60453)),b=a(n(69637)),y=n(94790),C=a(n(33308)),S=a(n(70263)),E=a(n(92744)),x=n(12591),T=n(29623),M=n(71206),k=a(n(14296)),w=n(41566),A=n(47645),P=(a(n(11339)),n(80132)),j=n(13923),I=n(50452),O=n(85893);const N={animation:{height:"ptxfukc7",width:"hp5m5kpu",marginTop:"nylzjxre",marginEnd:"jnwc1y2a",marginBottom:"bvhm1occ",marginStart:"svoq16ka"},ddmLink:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"pm5hny62"},nux:{marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},nuxAction:{paddingTop:"emrlamx0",paddingEnd:"bcymb0na",paddingBottom:"aiput80m",paddingStart:"e8k79tju",marginBottom:"du8bjn1j",textAlign:"qfejxiq4"},header:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"j3oq2rgp"},paragraph:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"pm5hny62"}};function R(e,t){const{chat:n,entryPoint:a,showNux:R,onClose:D,onDDMSettingsClick:L}=e,B=(0,p.default)(),F=e=>e.getEphemeralSetting()||0,[G,U]=(0,d.useState)((()=>F(n))),V=function(){var e=(0,r.default)((function*(){const e=F(n);G!==e&&(o.default.online?yield(0,g.changeEphemeralDuration)(n,G,a):l.ToastManager.open((0,O.jsx)(I.Toast,{msg:u.fbt._("You can't change this setting because you're not connected to the Internet. Check your Internet and try again.",null,{hk:"3r2v54"}),id:(0,I.genId)()})))}));return function(){return e.apply(this,arguments)}}(),W=()=>{R||V(),D?D():null==B||B.requestDismiss()},H=e=>{const t=parseInt(e.target.value,10);U(t)},[q,Y]=(0,f.default)(s.NUX.EPHEMERAL);(0,h.default)((()=>{q&&Y()}));const z=(0,w.isDefaultDisappearingMessagesEnabled)();return(0,O.jsxs)(v.default,{theme:"gallery",ref:t,testid:"chat-dm-settings-drawer",children:[(0,O.jsx)(y.DrawerHeader,{title:u.fbt._("Disappearing messages",null,{hk:"384ocn"}),onBack:W,type:y.DRAWER_HEADER_TYPE.LARGE}),(0,O.jsx)(b.default,{children:e.showNux?(0,O.jsxs)(C.default,{animation:!1,children:[(0,O.jsx)("div",{className:(0,c.default)(N.nux),children:(0,O.jsx)(S.default,{fromMe:!1})}),(0,O.jsx)("div",{className:(0,c.default)(N.nuxAction),children:(0,O.jsx)(m.default,{type:"primary",onClick:W,children:u.fbt._("OK",null,{hk:"2KEeHb"})})})]}):(0,O.jsxs)(C.default,{animation:!1,theme:"padding-no-vertical",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(T.FlexRow,{align:"center",justify:"center",children:(0,O.jsx)(A.LottieAnimation,{loop:!0,autoplay:!0,data:E.default,xstyle:N.animation})}),(0,O.jsx)(j.TextHeader,{xstyle:N.header,children:u.fbt._("Make messages in this chat disappear",null,{hk:"2yBwQo"})}),(0,O.jsxs)(j.TextParagraph,{xstyle:N.paragraph,children:[n.isGroup?u.fbt._("For more privacy and storage, all new messages will disappear from this chat for everyone after the selected duration. Group admins control who can change this setting.",null,{hk:"2wzKCv"}):u.fbt._("For more privacy and storage, all new messages will disappear from this chat for everyone after the selected duration. Anyone in the chat can change this setting.",null,{hk:"3pYSKY"})," ",(0,O.jsx)(x.ExternalLink,{href:(0,i.getEphemeralFaqUrl)(),children:k.default.t(397)})]})]}),(0,M.getAllDurations)().map((e=>{let{value:t,label:n}=e;return(0,O.jsx)(P.RadioWithLabel,{name:"duration",value:t,label:n,checked:t===G,onChange:H},t)})),z&&(0,O.jsx)(j.TextParagraph,{xstyle:N.ddmLink,children:u.fbt._("Update your {=m1} in Settings",[u.fbt._implicitParam("=m1",(0,O.jsx)(_.default,{onClick:L,children:u.fbt._("default message timer",null,{hk:"nymT1"})}))],{hk:"nnsrt"})})]})})]})}var D=(0,d.forwardRef)(R);t.default=D},39911:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[,e]=(0,l.default)(o.NUX.EPHEMERAL),[,t]=(0,l.default)(o.NUX.KEEP_IN_CHAT);return(0,m.jsxs)(u.default,{onOK:()=>{e(),t(),i.ModalManager.close()},onCancel:()=>{e(),t(),(0,d.openExternalLink)((0,r.getEphemeralFaqUrl)()),i.ModalManager.close()},cancelText:s.fbt._("",null,{hk:"xK0PZ"}),children:[(0,m.jsx)(c.FlexColumn,{xstyle:g.headerIcon,align:"center",justify:"center",children:(0,m.jsx)(f.default,{children:(0,m.jsx)(h.default,{name:"disappearing",width:58,height:58,color:"teal"})})}),(0,m.jsx)(c.FlexRow,{align:"center",justify:"center",children:(0,m.jsx)(f.default,{xstyle:g.badge,children:s.fbt._("",null,{hk:"24Re5Y"})})}),(0,m.jsx)(p.TextHeader,{xstyle:g.header,children:s.fbt._("",null,{hk:"3DSXaI"})}),(0,m.jsx)(p.TextParagraph,{xstyle:g.subtitle,children:s.fbt._("",null,{hk:"1tkuSk"})}),(0,m.jsx)(_,{iconName:"people",children:s.fbt._("",null,{hk:"8h2il"})}),(0,m.jsx)(_,{iconName:"pencil",children:s.fbt._("",null,{hk:"8h2il"})}),(0,m.jsx)(_,{iconName:"keep-in-chat",children:s.fbt._("",null,{hk:"8h2il"})})]})};var r=n(21310),i=n(14597),o=n(71579),s=n(48360),l=(a(n(56720)),a(n(59732))),u=a(n(52665)),d=n(12591),c=n(29623),f=a(n(48846)),h=a(n(23217)),p=n(13923),m=n(85893);const g={badge:{backgroundColor:"aquyuamc",borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",color:"qiqvuef5",fontSize:"f8jlpxt4",marginTop:"kmqqq083",paddingTop:"eujn52yf",paddingEnd:"abxuf49s",paddingBottom:"ckm995li",paddingStart:"mhcwslh8",textTransform:"ofejerhi"},header:{fontSize:"p9fp32ui",fontWeight:"hnx8ox4h",lineHeight:"tkq7s68q",marginTop:"opp68qpq",textAlign:"qfejxiq4"},subtitle:{marginTop:"fgtikrv0",fontSize:"f8jlpxt4",textAlign:"qfejxiq4",marginBottom:"jg9mtn4o"},icon:{marginEnd:"gqi0zhd6",color:"i8b0kslj"},container:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",marginTop:"c46o30wg",color:"i8b0kslj",fontSize:"ovllcyds"},body:{marginTop:"kv6wexeh",color:"i8b0kslj"},headerIcon:{boxSizing:"cm280p3y",width:"gbtdc75f",height:"fe3aadhc",marginTop:"opp68qpq",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",color:"t63vcusb",backgroundColor:"je90h8md",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"}};function _(e){let{iconName:t,children:n}=e;return(0,m.jsxs)(p.TextDiv,{xstyle:g.container,children:[(0,m.jsx)(h.default,{name:t,display:"inline",width:24,height:24,xstyle:g.icon}),(0,m.jsx)(p.TextDiv,{xstyle:g.body,children:(0,m.jsx)(p.TextSpan,{children:n})})]})}},70263:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.fromMe?i.fbt._("Get Started With Disappearing Messages",null,{hk:"293cLq"}):i.fbt._("Disappearing messages are turned on in this chat",null,{hk:"GfWv5"}),n=i.fbt._("For more privacy and storage, all new messages will disappear for everyone in this chat after the selected duration.",null,{hk:"1QYhZP"});let a;a=e.fromMe?i.fbt._("This setting does not affect your existing chats or any messages already saved to your device. Remember, people may find other ways to save messages.",null,{hk:"Lj7oV"}):(0,h.jsxs)(h.Fragment,{children:[i.fbt._("This setting does not affect your existing chats or any messages already saved to your device. Remember, people may find other ways to save messages.",null,{hk:"Lj7oV"})," ",(0,h.jsx)(s.ExternalLink,{href:(0,r.getEphemeralFaqUrl)(),children:d.default.t(397)})]});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.FlexRow,{align:"center",justify:"center",children:(0,h.jsx)(c.LottieAnimation,{loop:!0,autoplay:!0,data:o.default,xstyle:p.animation})}),(0,h.jsx)(l.FlexRow,{align:"center",justify:"center",children:(0,h.jsx)(u.default,{xstyle:p.badge,children:i.fbt._("NEW",null,{hk:"zkHRf"})})}),(0,h.jsx)(f.TextHeader,{xstyle:p.header,children:t}),(0,h.jsx)(f.TextParagraph,{xstyle:p.paragraph,children:n}),(0,h.jsx)(f.TextParagraph,{xstyle:p.paragraph,children:a})]})};var r=n(21310),i=n(48360),o=(a(n(56720)),a(n(92744))),s=n(12591),l=n(29623),u=a(n(48846)),d=a(n(14296)),c=n(47645),f=n(13923),h=n(85893);const p={badge:{backgroundColor:"aquyuamc",borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",color:"qiqvuef5",fontSize:"dsh4tgtl",marginTop:"iy2cu22y",paddingTop:"eujn52yf",paddingEnd:"abxuf49s",paddingBottom:"ckm995li",paddingStart:"mhcwslh8",textTransform:"ofejerhi"},header:{fontSize:"p9fp32ui",lineHeight:"pvbam5uh",marginTop:"iy2cu22y"},animation:{height:"ptxfukc7",width:"hp5m5kpu"},paragraph:{marginTop:"iy2cu22y"}}},91204:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=t=>{var n;t.stopPropagation(),t.preventDefault(),null===(n=e.onLearnMoreClicked)||void 0===n||n.call(e)},n=(0,u.jsx)(i.default,{a8nText:"popup-controls-learn-more",type:"secondary",onClick:t,children:s.default.t(397)}),a=(0,u.jsx)(i.default,{a8nText:"popup-controls-ok",type:"primary",onClick:t=>{var n;t.stopPropagation(),t.preventDefault(),null===(n=e.onOkClicked)||void 0===n||n.call(e)},children:r.fbt._("OK",null,{hk:"2KEeHb"})}),d={escape:e.onLearnMoreClicked?t:()=>{}},c=(0,u.jsxs)(u.Fragment,{children:[n,a]});return(0,u.jsx)(o.HotKeys,{handlers:d,children:(0,u.jsx)(l.Modal,{actions:c,children:e.children,title:e.title})})};var r=n(48360),i=a(n(39770)),o=n(29424),s=a(n(14296)),l=n(57224),u=n(85893)},42547:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{groupCode:t}=e,[n,a]=(0,c.useState)(A),[I,O]=(0,c.useState)(void 0),[N,R]=(0,c.useState)(void 0),[D,L]=(0,c.useState)(void 0),[B,F]=(0,c.useState)(void 0),G=(0,f.default)(),U=e=>{let t;e?t=e:N&&(t=N.id),t&&l.Cmd.openChatFromUnread(h.ChatCollection.assertGet(t)),u.ModalManager.close()};let V=!1;(0,c.useEffect)((()=>{(0,o.default)((0,k.queryGroupInviteInfo)(t),G).then((e=>{const{inGroup:n}=e;n?U(e.groupMetadata.id):(O(e.status),R(e.groupMetadata),L(e.subject),a(P),(0,E.queryGroupInviteProfilePicURL)(e.groupMetadata.id,t).then((e=>{F(e)})))})).catch((0,i.filteredCatch)(s.ServerStatusCodeError,(e=>{O(e.status),a(j)}))).catch((0,r.catchAbort)((()=>{})))}),[]);const W=()=>{(0,o.default)((0,y.joinGroupViaInvite)(t),G).then((e=>{l.Cmd.openChatFromUnread(e).then((t=>{t&&p.ComposeBoxActions.focus(e)})),u.ModalManager.close()})).catch((0,r.catchAbort)((()=>{}))).catch((0,i.filteredCatch)(s.ServerStatusCodeError,(e=>{a(j),O(e.status)})))},H={cancelText:T.default.t(334),onCancel:()=>{u.ModalManager.close()},onOK:void 0,okText:void 0};let q,Y;if(n===A)q=(0,w.jsx)(b.LoadingWithText,{text:T.default.t(335)});else if(n===P&&N){const e=N.participants,t=N.size||e.length,n=e.filter((e=>!!g.ContactCollection.assertGet(e.id).name));let a;const r=N.desc?(0,w.jsx)("div",{className:C.default.metadataDesc,children:N.desc}):null;a=n.length?(0,w.jsxs)("div",{className:C.default.participantList,children:[(0,w.jsxs)("div",{className:C.default.participantsTitle,children:[T.default.t(339,{count:t,_plural:t})," ","•"," ",T.default.t(336,{count:n.length,_plural:n.length})]}),(0,w.jsx)("div",{className:C.default.participantsContainer,children:n.map((e=>(0,w.jsxs)("div",{className:C.default.participantWrapper,children:[(0,w.jsx)(_.DetailImage,{id:e.id}),(0,w.jsx)(v.EmojiText,{className:C.default.participantText,text:e.contact.formattedName})]},e.id.toString())))})]}):(0,w.jsxs)("div",{className:C.default.emptyContentContainer,children:[(0,w.jsx)("span",{className:C.default.participantsText,children:T.default.t(339,{count:t,_plural:t})}),(0,w.jsxs)("span",{className:C.default.contactsText,children:[" ","•"," ",T.default.t(336,{count:n.length,_plural:n.length})]})]}),q=(0,w.jsxs)("div",{className:C.default.container,children:[(0,w.jsxs)("div",{className:C.default.metadataContainer,children:[(0,w.jsx)(x.ImgWithFallback,{fallbackSVG:"default-group",size:82,imgProps:{src:`${B||""}`}}),(0,w.jsxs)("div",{className:C.default.metadataText,children:[(0,w.jsx)(v.EmojiText,{className:C.default.metadataTitle,text:D}),r]})]}),a]});const i=h.ChatCollection.get(N.id),o=!!i&&!i.isReadOnly;H.onOK=o?U:W,H.okText=o?d.fbt._("View group",null,{hk:"27ij4N"}):T.default.t(337),Y=M.ModalTheme.Flex}else{let e;switch(I){case 401:e=d.fbt._("You can't join this group because you were removed.",null,{hk:"3PHNXf"});break;case 404:e=d.fbt._("You can't join this group because it has ended.",null,{hk:"38SN9a"});break;case 410:e=d.fbt._("You can't join this group because this invite link was reset.",null,{hk:"1zEGh5"});break;case 436:e=d.fbt._("You can't join this group because the invite link is unavailable.",null,{hk:"4LVCw"}),V=!0;break;case 419:e=d.fbt._("You can't join this group because it is full.",null,{hk:"1D8JSO"});break;default:e=d.fbt._("Couldn't join this group. Please try again.",null,{hk:"10viZM"})}H.cancelText=d.fbt._("OK",null,{hk:"2KEeHb"}),q=(0,w.jsx)("div",{children:e})}return V?(0,w.jsx)(S.GrowthLockedModal,{}):(0,w.jsx)(m.default,{cancelText:H.cancelText,onCancel:H.onCancel,onOK:H.onOK,okText:H.okText,type:Y,children:q})};var r=n(89385),i=n(50796),o=a(n(47259)),s=n(92574),l=n(81572),u=n(14597),d=n(48360),c=n(67294),f=a(n(3409)),h=n(69951),p=n(88172),m=a(n(52665)),g=n(19380),_=n(88984),v=n(65417),b=n(85600),y=n(73058),C=a(n(77021)),S=n(55800),E=n(94798),x=n(50981),T=a(n(14296)),M=n(57224),k=n(96269),w=n(85893);const A=0,P=1,j=2},89136:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,m.useState)(B),[a,p]=(0,m.useState)(void 0),[L,V]=(0,m.useState)(void 0),[W,H]=(0,m.useState)(void 0),[q,Y]=(0,m.useState)(void 0),z=(0,g.useModelValues)(e.msg,["id","to","inviteCode","inviteCodeExp","inviteGrp","isGroupsV4InviteExpired","from","chat","isSentByMe"]),{inviteGrp:K,inviteCodeExp:$,inviteCode:Q,isGroupsV4InviteExpired:X,from:J,isSentByMe:Z}=z,ee=e=>{switch(e){case 400:return h.fbt._("Can't Join.",null,{hk:"1vIJiX"});case 401:return h.fbt._("You can't join this group because you were removed.",null,{hk:"3PHNXf"});case 404:return h.fbt._("You can't join this group because it has ended.",null,{hk:"38SN9a"});case 409:return h.fbt._("You can't join this group because you are already a member of it.",null,{hk:"3sUUND"});case 410:return h.fbt._("You can't join this group because this invite link was reset.",null,{hk:"1zEGh5"});case 419:return h.fbt._("You can't join this group because it is full.",null,{hk:"1D8JSO"});default:return h.fbt._("Couldn't join this group. Please try again.",null,{hk:"10viZM"})}};(0,m.useEffect)((()=>{if(Z){const e=_.ChatCollection.assertGet((0,f.createWid)(K));return void(e.groupMetadata&&M.default.find(e.id).catch((0,r.filteredCatch)([i.WebdDrop,l.ProtoVersionUndefined],(()=>{}))).finally((()=>{p(200),H(e.groupMetadata),Y(e.formattedTitle||e.name),n(F)})))}let e=Promise.resolve();e=(0,o.isMDBackend)()?(0,I.queryGroupInviteV4Info)(Q,$.toString(),K,z.from.toString()):R.default.groupV4InviteRequestMetadataFind((0,c.getMaybeMeUser)().toString(),z.from.toString(),Q,String($),K),e.then((e=>{if(null!=e.status&&e.status>=400)p(e.status),n(G),V(ee(e.status));else if(e.id){const t=new T.default({id:e.id,owner:e.owner,creation:e.creation,desc:e.desc,descId:e.descId,descOwner:e.descOwner,descTime:e.descTime,restrict:e.restrict,announce:e.announce,participants:e.participants});p(200),H(t),Y(e.subject),n(F)}else p(e.status),n(G),V(ee(e.status))})).catch((0,r.filteredCatch)(l.Unmount,(()=>{})))}),[]);const te=e=>{let t;e?t=e:W&&(t=W.id),t&&s.Cmd.openChatFromUnread(_.ChatCollection.assertGet(t)),u.ModalManager.close()},ne=e=>{switch(e){case 400:return h.fbt._("Failed to revoke this invite.",null,{hk:"1DzSUz"});case 401:return h.fbt._("You can't revoke this group invite because you are not an admin of this group.",null,{hk:"3sfM8v"});case 403:return h.fbt._("You can't revoke this group invite because you are not a participant of this group.",null,{hk:"4DU6Va"});case 404:return h.fbt._("You can't revoke this group invite because this group has ended.",null,{hk:"3KFLBE"});default:return h.fbt._("Can't revoke invite. Please try again.",null,{hk:"1Lf1a8"})}},ae=()=>{const e=_.ChatCollection.assertGet((0,f.createWid)(K)).groupMetadata;u.ModalManager.open((0,D.jsx)(b.default,{onOK:()=>{u.ModalManager.close(),null==e||e.revokeGroupV4AddInvite([z.to.toString()]).then((e=>{d.ToastManager.open((0,D.jsx)(N.Toast,{msg:null!=e&&e>=400?ne(e):h.fbt._("Invite reset",null,{hk:"MgErr"}),id:(0,N.genId)()}))}))},okText:h.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>u.ModalManager.close(),cancelText:h.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,D.jsx)(S.EmojiText,{text:A.default.t(363,{participant:z.chat.contact.formattedName})})}))},re=()=>{let e=Promise.resolve();e=(0,o.isMDBackend)()?(0,I.joinGroupViaInviteV4)(Q,$.toString(),K,J.toString()):R.default.acceptGroupV4Invite(K,J.toString(),Q,String($),(0,c.getMaybeMeUser)().toString()),e.then((e=>{if(200===e.status)return(0,x.findChat)((0,f.createWid)(K));throw e.status})).then((e=>{s.Cmd.openChatFromUnread(e).then((t=>{t&&v.ComposeBoxActions.focus(e)})),u.ModalManager.close()})).catch((0,r.filteredCatch)(l.Unmount,(()=>{}))).catch((e=>{n(G),p(e),V(ee(e))}))},ie={cancelText:A.default.t(334),onCancel:()=>{u.ModalManager.close()},onOK:void 0,okText:void 0};let oe,se;if(t===B)oe=(0,D.jsx)(E.Loading,{});else if(t===F&&W){const e=W.participants,t=W.size||e.length,n=e.filter((e=>!!y.ContactCollection.assertGet(e.id).name));let a;const r=W.desc?(0,D.jsx)("div",{className:k.default.metadataDesc,children:(0,D.jsx)(S.EmojiText,{text:W.desc})}):null;a=n.length?(0,D.jsxs)("div",{className:k.default.participantList,children:[(0,D.jsxs)("div",{className:k.default.participantsTitle,children:[A.default.t(339,{count:t,_plural:t})," ","•"," ",A.default.t(336,{count:n.length,_plural:n.length})]}),(0,D.jsx)("div",{className:k.default.participantsContainer,children:n.map((e=>(0,D.jsxs)("div",{className:k.default.participantWrapper,children:[(0,D.jsx)(C.DetailImage,{id:e.id}),(0,D.jsx)(S.EmojiText,{className:k.default.participantText,text:e.contact.formattedName})]},e.id.toString())))})]}):(0,D.jsxs)("div",{className:k.default.emptyContentContainer,children:[(0,D.jsx)("span",{className:k.default.participantsText,children:A.default.t(339,{count:t,_plural:t})}),(0,D.jsxs)("span",{className:k.default.contactsText,children:[" ","•"," ",A.default.t(336,{count:n.length,_plural:n.length})]})]});const i=`w=${encodeURIComponent((0,c.getMaybeMeUser)().toString())}&g=${encodeURIComponent(K)}&c=${encodeURIComponent(Q)}&e=${encodeURIComponent(String($))}&a=${encodeURIComponent(J.toString())}`;oe=(0,D.jsxs)("div",{className:k.default.container,children:[(0,D.jsxs)("div",{className:k.default.metadataContainer,children:[Z?(0,D.jsx)(j.default,{size:82,wid:(0,f.createWid)(K)}):(0,D.jsx)(w.ImgWithFallback,{fallbackSVG:"default-group",size:82,imgProps:{src:`https://web.whatsapp.com/invite/v4/icon/?${i}`}}),(0,D.jsxs)("div",{className:k.default.metadataText,children:[(0,D.jsx)(S.EmojiText,{className:k.default.metadataTitle,text:q}),r]})]}),a]});const o=_.ChatCollection.get(W.id),s=!!o&&!o.isReadOnly;z.isSentByMe?(ie.onOK=ae,ie.okText=h.fbt._("Revoke invite",null,{hk:"4on28q"})):s?(ie.onOK=te,ie.okText=h.fbt._("View group",null,{hk:"27ij4N"})):X||(ie.onOK=re,ie.okText=A.default.t(337)),se=P.ModalTheme.Flex}else ie.cancelText=h.fbt._("OK",null,{hk:"2KEeHb"}),oe=(0,D.jsx)("div",{children:L});const le=t===F?(0,D.jsxs)("div",{className:k.default.inviteExpiration,children:[(0,D.jsx)(O.default,{name:"panel-recent",display:"inline",className:k.default.inviteExpirationIcon}),(0,D.jsx)("span",{children:U(parseInt($,10))})]}):null;return(0,D.jsxs)(b.default,{cancelText:ie.cancelText,onCancel:ie.onCancel,onOK:ie.onOK,okText:ie.okText,type:se,children:[oe,le]})};var r=n(50796),i=n(92574),o=n(88555),s=n(81572),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),u=n(14597),d=n(94816),c=n(78820),f=n(45454),h=n(48360),p=a(n(30381)),m=n(67294),g=n(35461),_=n(69951),v=n(88172),b=a(n(52665)),y=n(19380),C=n(88984),S=n(65417),E=n(85600),x=n(50101),T=a(n(14423)),M=a(n(63928)),k=a(n(30081)),w=n(50981),A=a(n(14296)),P=n(57224),j=a(n(87543)),I=n(48537),O=a(n(23217)),N=n(50452),R=a(n(56891)),D=n(85893);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}const B=0,F=1,G=2;function U(e){const t=(0,p.default)(1e3*e).diff((0,p.default)()),n=Math.floor(t/36e5);return t<=0?h.fbt._("Invite expired",null,{hk:"2jNplh"}):n<12?A.default.t(393,{time:(0,p.default)().local().format("LT")}):n<24?A.default.t(394,{number:1,_plural:1}):n<48?A.default.t(394,{number:2,_plural:2}):A.default.t(394,{number:3,_plural:3})}},27021:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=t=>{var n;t.stopPropagation(),t.preventDefault(),null===(n=e.onDismissClicked)||void 0===n||n.call(e)},n=(0,l.jsx)(i.default,{a8nText:"popup-controls-support",type:"secondary",onClick:t=>{var n;t.stopPropagation(),t.preventDefault(),null===(n=e.onSupportClicked)||void 0===n||n.call(e)},children:r.fbt._("Support",null,{hk:"21xceR"})}),a=(0,l.jsx)(i.default,{a8nText:"popup-controls-dismiss",type:"primary",onClick:t,children:r.fbt._("Dismiss",null,{hk:"OiOSP"})}),u=(0,l.jsxs)(l.Fragment,{children:[e.showSupportBtn&&n,a]});return(0,l.jsx)(o.HotKeys,{handlers:{escape:t},children:(0,l.jsx)(s.Modal,{actions:u,children:e.children,title:e.title})})};var r=n(48360),i=a(n(39770)),o=n(29424),s=n(57224),l=n(85893)},18671:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GuidePopup=_,t.TYPE=t.Messaging=void 0;var r=n(14597),i=n(26741),o=a(n(94184)),s=n(48360),l=a(n(39770)),u=a(n(52665)),d=a(n(97765)),c=a(n(14296)),f=a(n(56074)),h=n(57224),p=a(n(23217)),m=n(85893);t.Messaging={NOTIFICATIONS:"NOTIFICATIONS",CAMERA_FAIL:"CAMERA_FAIL",CAMERA_MISSING:"CAMERA_MISSING",MIC_FAIL:"MIC_FAIL",MIC_MISSING:"MIC_MISSING",CAMERA:"CAMERA",MIC:"MIC"};const g=n(76672)({GUIDE_ALLOW:"guide-allow",GUIDE_UNBLOCK:"guide-unblock",GUIDE_NONE:"guide-none"});function _(e){const{type:t,onCancel:n,onConfirm:a,messaging:r}=e,s=(0,m.jsx)(b,{messaging:r});if(t===g.GUIDE_ALLOW){let e;switch(i.UA.browser){case i.BROWSER_TYPE.CHROME:case i.BROWSER_TYPE.FIREFOX:e=d.default.topLeft;break;case i.BROWSER_TYPE.EDGE:e=d.default.bottomCenter;break;default:e=d.default.topCenter}return(0,m.jsx)(h.Modal,{type:h.ModalTheme.Guide,children:(0,m.jsxs)("div",{className:(0,o.default)(d.default.containerAllow,e),children:[(0,m.jsx)("div",{className:d.default.icon,children:(0,m.jsx)(p.default,{name:"back",directional:!0})}),(0,m.jsx)("div",{className:d.default.title,children:(0,m.jsx)(v,{messaging:r})}),(0,m.jsx)("div",{className:d.default.description,children:s}),(0,m.jsx)("div",{className:d.default.controls,children:(0,m.jsx)(l.default,{onClick:a,type:"primary",children:c.default.t(531)})})]})})}return(0,m.jsx)(u.default,{title:(0,m.jsx)(v,{messaging:r}),onOK:a,okText:c.default.t(531),onCancel:n,cancelText:n?c.default.t(397):void 0,children:(0,m.jsx)("div",{className:d.default.description,children:s})})}function v(e){const{messaging:t}=e;switch(t){case"NOTIFICATIONS":return s.fbt._("Allow notifications",null,{hk:"2LDnhj"});case"CAMERA_FAIL":return(0,m.jsx)(f.default,{id:366});case"CAMERA_MISSING":return(0,m.jsx)(f.default,{id:365});case"MIC_MISSING":return(0,m.jsx)(f.default,{id:368});case"CAMERA":return(0,m.jsx)(f.default,{id:366});case"MIC_FAIL":case"MIC":return(0,m.jsx)(f.default,{id:369});default:throw new Error(`Invalid messaging: ${t}`)}}function b(e){const{messaging:t}=e,{browser:n}=i.UA,a=(0,m.jsx)("span",{className:"chrome-media-icon"}),r=(0,m.jsx)("span",{className:"firefox-lock-icon"}),o=(0,m.jsx)("span",{className:"opera-media-icon"});switch(t){case"NOTIFICATIONS":return"edge"===n?s.fbt._("To get notifications for new messages, click “Yes” below.",null,{hk:"iWnZq"}):"firefox"===n?s.fbt._("To get notifications for new messages, select “Allow notifications” from the prompt below the URL bar.",null,{hk:"JoHEk"}):s.fbt._("To get notifications for new messages, click “Allow” above.",null,{hk:"1DI3hu"});case"CAMERA_FAIL":return"edge"===n?s.fbt._("To take photos, WhatsApp needs access to your computer’s camera. Refresh the page, try sending a camera image, and select “Yes” from the menu that appears.",null,{hk:"3OUI6n"}):"firefox"===n?s.fbt._("To take photos, WhatsApp needs access to your computer’s camera. Click {firefox_lock} in the URL bar and set “Use the Camera” to “Allow.”",[s.fbt._param("firefox_lock",r)],{hk:"awgaS"}):"safari"===n?s.fbt._("To take photos, WhatsApp needs access to your computer’s camera. Open your browser’s Preferences → Websites and change camera setting for web.whatsapp.com to “Allow”.",null,{hk:"1qHLCp"}):"opera"===n?s.fbt._("To take photos, WhatsApp needs access to your computer’s camera. Click {opera_media} in the URL bar and click “Clear This Setting and Reload.”",[s.fbt._param("opera_media",o)],{hk:"V3mQw"}):s.fbt._("To take photos, WhatsApp needs access to your computer's camera. Click {chrome_media_error} in the URL bar and choose “Always allow web.whatsapp.com to access your camera.”",[s.fbt._param("chrome_media_error",a)],{hk:"1t3g8g"});case"CAMERA_MISSING":return(0,m.jsx)(f.default,{id:364});case"MIC_FAIL":return"edge"===n?s.fbt._("To record Voice Messages, WhatsApp needs access to your computer’s microphone. Refresh the page, try sending a Voice Message, and select “Yes” from the menu that appears.",null,{hk:"3W4JAI"}):"firefox"===n?s.fbt._("To record Voice Messages, WhatsApp needs access to your computer’s microphone. Click {firefox_lock} in the URL bar and set “Use the Microphone” to “Allow.”",[s.fbt._param("firefox_lock",r)],{hk:"3CdtEM"}):"safari"===n?s.fbt._("To record Voice Messages, WhatsApp needs access to your computer’s microphone. Open your browser’s Preferences → Websites and change microphone setting for web.whatsapp.com to “Allow”.",null,{hk:"2FU9of"}):"opera"===n?s.fbt._("To record Voice Messages, WhatsApp needs access to your computer’s microphone. Click {opera_media} in the URL bar and click “Clear This Setting and Reload.”",[s.fbt._param("opera_media",o)],{hk:"hGvxv"}):s.fbt._("To record Voice Messages, WhatsApp needs access to your microphone. Click {chrome_media_error} in the URL bar and choose “Always allow web.whatsapp.com to access your microphone.”",[s.fbt._param("chrome_media_error",a)],{hk:"1TuSPf"});case"MIC_MISSING":return(0,m.jsx)(f.default,{id:367});case"CAMERA":return"edge"===n?s.fbt._("To take photos, click “Yes” below to give WhatsApp access to your computer's camera.",null,{hk:"2UTEVk"}):s.fbt._("To take photos, click “Allow” above to give WhatsApp access to your computer's camera.",null,{hk:"RF9g7"});case"MIC":return"edge"===n?s.fbt._("To record Voice Messages, click “Yes” below to give WhatsApp access to your computer's microphone.",null,{hk:"3haECI"}):s.fbt._("To record Voice Messages, click “Allow” above to give WhatsApp access to your computer's microphone.",null,{hk:"MPfII"});default:throw new Error(`Invalid messaging type: ${t}`)}}t.TYPE=g,_.defaultProps={type:g.GUIDE_NONE,onConfirm:()=>r.ModalManager.close()}},97759:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=(a(n(45095)),n(51737)),o=a(n(99964)),s=n(88555),l=n(21310),u=n(38184),d=n(8139),c=a(n(62831)),f=n(48360),h=n(67294),p=n(35461),m=n(57849),g=a(n(39770)),_=n(37623),v=(n(30295),n(12591)),b=a(n(31190)),y=a(n(14296)),C=a(n(56074)),S=(n(52596),a(n(23217))),E=n(97628),x=n(17879),T=n(26741),M=n(85893);function k(e,t){const{animate:n}=e,a={[`data-asset-intro-image-${(0,h.useContext)(E.ThemeContext).theme}`]:!0},T=(0,h.useRef)(null),k=(0,h.useRef)(null),A=(0,p.useModelValues)(e.mdOptInDeadline,["showCountDownMsg","daysLeftTillDeadline","expirationTime"]);(0,h.useEffect)((()=>{const e=T.current,t=k.current;n?((0,c.default)(e,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]}),(0,c.default)(t,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})):(e&&(e.style.opacity="1"),t&&(t.style.opacity="1"))}),[]);const P=(0,h.useRef)(null),j=(e,t)=>{var n;const a=null===(n=P.current)||void 0===n?void 0:n.clientWidth;return null!=a&&e!==t&&(0,_.animateConversationPanel)(P.current,a/(e-t))},I=e=>!!P.current&&P.current.contains(e);let O,N,R;(0,h.useImperativeHandle)(t,(()=>({animatePanel:j,containsDOMNode:I})));let D=!0,L=!1,B=b.default.textContainer;if((0,s.isMDBackend)())if(L=!0,B=b.default.mdTextContainer,O=(0,M.jsx)("div",{ref:T,className:b.default.mdImageWrapper,children:(0,M.jsx)(S.default,{className:b.default.mdBetaImage,width:360,name:"light"===(0,E.getTheme)()?"intro-md-beta-logo-light":"intro-md-beta-logo-dark"})}),2===(0,m.getABPropConfigValue)("md_migration_experience")){const e=(0,M.jsx)("div",{className:b.default.betaIcon,children:(0,M.jsx)("b",{className:b.default.betaIconText,children:f.fbt._("NEW",null,{hk:"3klbQ3"})})});N=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:b.default.betaTitle,children:[(0,M.jsx)("h1",{"data-a8n":o.default.key("intro-title"),children:f.fbt._("WhatsApp Web",null,{hk:"3iiiV1"})}),e]}),(0,M.jsxs)("div",{"data-a8n":o.default.key("intro-text"),className:b.default.betaText,children:[f.fbt._("Now send and receive messages without keeping your phone online.",null,{hk:"jvlOw"}),(0,M.jsx)("br",{}),f.fbt._("Use WhatsApp on up to 4 linked devices and 1 phone at the same time.",null,{hk:"1QOlYg"})]})]})}else{const e=(0,M.jsx)("div",{className:b.default.betaIcon,children:(0,M.jsx)("b",{className:b.default.betaIconText,children:f.fbt._("BETA",null,{hk:"23OBCm"})})});N=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:b.default.betaTitle,children:[(0,M.jsx)("h1",{"data-a8n":o.default.key("intro-title"),children:f.fbt._("WhatsApp Web",null,{hk:"3iiiV1"})}),e]}),(0,M.jsxs)("div",{"data-a8n":o.default.key("intro-text"),className:b.default.betaText,children:[f.fbt._("Send and receive messages without connecting your phone.",null,{hk:"1fUun7"}),(0,M.jsx)("br",{}),f.fbt._("Use WhatsApp on up to 4 devices at the same time.",null,{hk:"NN4Tm"})]})]})}else if(u.LegacyPhoneFeatures.supportsFeature(u.LegacyPhoneFeatures.F.EXTERNAL_MD_OPT_IN_AVAILABLE)){D=!1,O=(0,M.jsx)("div",{ref:T,className:b.default.mdImageWrapper,children:(0,M.jsx)(S.default,{className:b.default.mdBetaImage,name:"light"===(0,E.getTheme)()?"intro-md-beta-logo-light":"intro-md-beta-logo-dark"})});const e=(0,M.jsx)(v.ExternalLink,{href:(0,l.getMdOptInFaqUrl)(),children:f.fbt._("Learn more",null,{hk:"1L9NkE"})});let t,n=f.fbt._("New WhatsApp Web available",null,{hk:"2f2RlC"});if(A.showCountDownMsg){const a=A.daysLeftTillDeadline;if(n=f.fbt._("Update WhatsApp Web",null,{hk:"2thNci"}),(0,i.isNumber)(a)&&a>0)t=(0,d.mdMigrationExperience)()?(0,M.jsx)(C.default,{id:385,params:{num_days:a.toString(),learn_more:e},plural:a}):(0,M.jsx)(C.default,{id:384,params:{num_days:a.toString(),learn_more:e},plural:a});else if(A.expirationTime){const n=A.expirationTime;t=(0,d.mdMigrationExperience)()?(0,M.jsx)(C.default,{id:387,params:{time:n,learn_more:e}}):(0,M.jsx)(C.default,{id:386,params:{time:n,learn_more:e}})}}else t=(0,d.mdMigrationExperience)()?(0,M.jsx)(C.default,{id:383,params:{learn_more:e}}):(0,M.jsx)(C.default,{id:382,params:{learn_more:e}});N=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h1",{"data-a8n":o.default.key("intro-title"),className:b.default.title,children:n}),(0,M.jsx)("div",{"data-a8n":o.default.key("intro-text"),className:b.default.text,children:t})]}),R=(0,M.jsx)("div",{className:b.default.upgradeBtn,children:(0,M.jsx)(g.default,{type:"strong-primary",onClick:()=>(0,x.upgradeToMD)(!1),a8nText:"product-info-drawer edit-button",children:f.fbt._("UPDATE NOW",null,{hk:"1e4JqR"})})})}else O=(0,M.jsx)("div",(0,r.default)({ref:T,className:b.default.image},a)),N=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h1",{"data-a8n":o.default.key("intro-title"),className:b.default.title,children:y.default.t(392)}),(0,M.jsx)("div",{"data-a8n":o.default.key("intro-text"),className:b.default.text,children:y.default.t(381)})]});return(0,M.jsx)("div",{className:b.default.intro,ref:P,children:(0,M.jsxs)("div",{className:b.default.body,children:[O,(0,M.jsxs)("div",{ref:k,className:B,children:[N,R,D&&(0,M.jsx)(w,{}),null,null]}),L&&(0,M.jsxs)("div",{className:b.default.encrypted,children:[(0,M.jsx)(S.default,{name:"lock-small"})," ",y.default.t(252)]})]})})}const w=()=>{{let e;const t=`<a href="https://www.whatsapp.com/download" target="_blank">${f.fbt._("Get it here",null,{hk:"1FtOlM"}).toString()}</a>`;switch(T.UA.os){case T.OS_TYPE.MAC:e=y.default.t(389,{get_it_here:t});break;case T.OS_TYPE.WINDOWS:e=y.default.t(391,{get_it_here:t})}if(e)return(0,M.jsxs)(A,{children:[(0,M.jsx)("span",{className:b.default.secondaryIcon,children:(0,M.jsx)(S.default,{name:"laptop"})}),(0,M.jsx)("div",{dangerouslySetInnerHTML:{__html:e},className:b.default.secondaryTextBody})]})}return null},A=e=>{let{children:t}=e;return(0,M.jsxs)("div",{className:b.default.secondary,children:[(0,M.jsx)("div",{className:b.default.divider}),(0,M.jsx)("div",{className:b.default.secondaryText,children:t})]})};var P=(0,h.forwardRef)(k);t.default=P},57302:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=function(){const e=f.ServerProps.pttPlaybackSpeedEnabled?m:[];return[[d.default.t(500),o.default.TOGGLE_UNREAD],[d.default.t(510),o.default.TOGGLE_MUTE],[d.default.t(492),o.default.TOGGLE_ARCHIVE],[d.default.t(495),o.default.DELETE_OR_EXIT_CHAT],[i.fbt._("Pin Chat",null,{hk:"3l6ovX"}),o.default.TOGGLE_PIN],[i.fbt._("Search",null,{hk:"3CChip"}),o.default.SEARCH],[i.fbt._("Search Chat",null,{hk:"eUGKg"}),o.default.SEARCH_IN_CHAT],[d.default.t(511),o.default.OPEN_NEW_CHAT],[d.default.t(504),o.default.GO_TO_NEXT_CHAT],[d.default.t(505),o.default.GO_TO_PREV_CHAT],[d.default.t(512),o.default.OPEN_NEW_GROUP],[d.default.t(513),o.default.OPEN_PROFILE],...e,[d.default.t(452),o.default.OPEN_SETTINGS],[i.fbt._("Emoji Panel",null,{hk:"2sDpHl"}),o.default.OPEN_EMOJI_PANEL],[i.fbt._("Gif Panel",null,{hk:"28HQaF"}),o.default.OPEN_GIF_PANEL],[i.fbt._("Sticker Panel",null,{hk:"4y6bgb"}),o.default.OPEN_STICKER_PANEL]]}().map(((e,t)=>{let[n,a,r=!0]=e;const i=(0,p.jsx)(l.KeyboardShortcut,{action:a,addModifiers:r});if(i)return(0,p.jsxs)("div",{className:u.default.section,children:[(0,p.jsx)("div",{className:u.default.action,title:n,children:n}),(0,p.jsx)("div",{className:u.default.shortcut,children:i})]},t)}));return(0,p.jsx)(s.default,{onOK:()=>{r.ModalManager.close()},okText:i.fbt._("OK",null,{hk:"2KEeHb"}),type:c.ModalTheme.Flex,children:(0,p.jsxs)("div",{className:u.default.container,children:[(0,p.jsx)(h.TextSpan,{theme:"popup-title",children:i.fbt._("Keyboard shortcuts",null,{hk:"1uFFXP"})}),(0,p.jsx)("div",{className:u.default.list,children:e})]})})};var r=n(14597),i=n(48360),o=a(n(21252)),s=a(n(52665)),l=n(28141),u=a(n(95694)),d=a(n(14296)),c=n(57224),f=n(64551),h=n(13923),p=n(85893);const m=[[i.fbt._("Increase Speed of Selected Voice Message",null,{hk:"YQPbc"}),o.default.INCREASE_PTT_SPEED,!1],[i.fbt._("Decrease Speed of Selected Voice Message",null,{hk:"uHTZ8"}),o.default.DECREASE_PTT_SPEED,!1]]},63967:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.runBulkKeepInChatUX=b,t.runBulkUndoKeepInChatUX=S,t.runKeepInChatUX=function(e){return b([e])},t.runUndoKeepInChatUX=function(e){return S([e])};var r=a(n(48926)),i=n(40265),o=n(14597),s=a(n(81602)),l=n(94816),u=n(48360),d=n(370),c=n(50452),f=n(86002),h=n(45301),p=n(85893);const m=n(76672)({EXPIRED:"msg_is_expired",CANCELLED:"user_cancelled_operation",EMPTY:"no_applicable_messages"});class g extends((0,i.customError)("KeepFailedError")){constructor(e){super(e),this.reason=e}}function _(){return v.apply(this,arguments)}function v(){return(v=(0,r.default)((function*(e){if(e.some((e=>e.isExpired())))return o.ModalManager.open((0,p.jsx)(f.WarningKeepExpiredModal,{})),Promise.reject(new g(m.EXPIRED));yield Promise.all(e.map((e=>(0,d.keepMessage)(e))))}))).apply(this,arguments)}function b(){return y.apply(this,arguments)}function y(){return(y=(0,r.default)((function*(e){if(!s.default.online)return void E();const t=e.filter((e=>!e.isKept()&&e.canKeepOrUnkeep()));if(!t.length)throw new g(m.EMPTY);yield _(t)}))).apply(this,arguments)}function C(){return(C=(0,r.default)((function*(e){yield Promise.all(e.map((e=>(0,d.undoKeepMessage)(e))))}))).apply(this,arguments)}function S(e){return new Promise(((t,n)=>{const a=()=>{t(function(){return C.apply(this,arguments)}(e))};if(!e.some((e=>e.isExpired())))return a();o.ModalManager.open((0,p.jsx)(h.WarningUnkeepExpiredModal,{onConfirm:a,onCancel:()=>n(new g(m.CANCELLED))}))}))}function E(){const e=(0,c.genId)();l.ToastManager.open((0,p.jsx)(c.Toast,{msg:u.fbt._("",null,{hk:"3SACeA"}),id:e}))}},86002:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WarningKeepExpiredModal=function(){return(0,s.jsx)(o.default,{title:i.fbt._("Keep Message - error",null,{hk:"3wyYSq"}),onCancel:l,children:i.fbt._("You can't keep an expired message. The message will disappear once you exit the chat.",null,{hk:"3sXXLE"})})};var r=n(14597),i=n(48360),o=a(n(52665)),s=n(85893);const l=()=>{r.ModalManager.close()}},45301:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WarningUnkeepExpiredModal=function(e){let{onConfirm:t,onCancel:n}=e;return(0,s.jsx)(o.default,{title:i.fbt._("Unkeep Message - warning",null,{hk:"4wuqkK"}),onOK:()=>{t(),r.ModalManager.close()},onCancel:()=>{n(),r.ModalManager.close()},children:i.fbt._("This message is past its expiration. It will be deleted once you unkeep it.",null,{hk:"364H39"})})};var r=n(14597),i=n(48360),o=a(n(52665)),s=n(85893)},56492:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{viewNux:t}=e;return(0,h.jsxs)(s.default,{onOK:()=>{t(),i.ModalManager.close()},onCancel:()=>{t(),(0,l.openExternalLink)((0,r.getEphemeralFaqUrl)()),i.ModalManager.close()},cancelText:o.fbt._("",null,{hk:"Fp6B2"}),children:[(0,h.jsx)(u.FlexColumn,{xstyle:p.headerIcon,align:"center",justify:"center",children:(0,h.jsx)(d.default,{children:(0,h.jsx)(c.default,{name:"keep-in-chat",width:58,height:58,color:"teal"})})}),(0,h.jsx)(u.FlexRow,{align:"center",justify:"center",children:(0,h.jsx)(d.default,{xstyle:p.badge,children:o.fbt._("",null,{hk:"3nfifG"})})}),(0,h.jsx)(f.TextHeader,{xstyle:p.header,children:o.fbt._("",null,{hk:"3C6hJh"})}),(0,h.jsx)(f.TextParagraph,{xstyle:p.subtitle,children:o.fbt._("",null,{hk:"39m3C4"})}),(0,h.jsx)(m,{iconName:"supervised_user_circle",children:o.fbt._("",null,{hk:"4AgiWu"})}),(0,h.jsx)(m,{iconName:"all_inclusive",children:o.fbt._("",null,{hk:"4AgiWu"})}),(0,h.jsx)(m,{iconName:"keep-in-chat",children:o.fbt._("",null,{hk:"4AgiWu"})})]})};var r=n(21310),i=n(14597),o=n(48360),s=(a(n(56720)),a(n(52665))),l=n(12591),u=n(29623),d=a(n(48846)),c=a(n(23217)),f=n(13923),h=n(85893);const p={badge:{backgroundColor:"aquyuamc",borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",color:"qiqvuef5",fontSize:"f8jlpxt4",marginTop:"kmqqq083",paddingTop:"eujn52yf",paddingEnd:"abxuf49s",paddingBottom:"ckm995li",paddingStart:"mhcwslh8",textTransform:"ofejerhi"},header:{fontSize:"p9fp32ui",fontWeight:"hnx8ox4h",lineHeight:"tkq7s68q",marginTop:"opp68qpq",textAlign:"qfejxiq4"},subtitle:{marginTop:"fgtikrv0",fontSize:"f8jlpxt4",textAlign:"qfejxiq4",marginBottom:"jg9mtn4o"},icon:{marginEnd:"gqi0zhd6",color:"i8b0kslj"},container:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",marginTop:"c46o30wg",color:"i8b0kslj",fontSize:"ovllcyds"},body:{marginTop:"kv6wexeh",color:"i8b0kslj"},headerIcon:{boxSizing:"cm280p3y",width:"gbtdc75f",height:"fe3aadhc",marginTop:"opp68qpq",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",color:"t63vcusb",backgroundColor:"je90h8md",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"}};function m(e){let{iconName:t,children:n}=e;return(0,h.jsxs)(f.TextDiv,{xstyle:p.container,children:[(0,h.jsx)(c.default,{name:t,display:"inline",width:24,height:24,xstyle:p.icon}),(0,h.jsx)(f.TextDiv,{xstyle:p.body,children:(0,h.jsx)(f.TextSpan,{children:n})})]})}},67568:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45120)),i=a(n(52013)),o=n(67294),s=a(n(16223)),l=a(n(60453)),u=a(n(69637)),d=n(94790),c=n(47915),f=a(n(30855)),h=n(29424),p=a(n(14296)),m=a(n(48837)),g=n(57224),_=n(85893);function v(e,t){const{title:n,onBack:a,onCancel:v,onSearch:b,searchPlaceholder:y,renderItem:C,data:S,emptyState:E,selection:x,onSelect:T}=e,M=(0,s.default)((()=>new f.default)),k=(0,o.useRef)(null),w=(0,o.useRef)(null);(0,o.useEffect)((()=>{i.default.focus(w.current)}),[]);const A=e=>{e.preventDefault(),e.stopPropagation();const t=S[0];t&&(null==T||T(e,t))},P=e=>{b(e)},j=e=>{const t=e.relatedTarget;return t instanceof HTMLElement&&e.currentTarget instanceof HTMLElement&&!e.currentTarget.contains(t)},I={down:e=>{k.current&&(e.preventDefault(),e.stopPropagation(),r.default.shouldIndicateFocus(),null==x||x.setFirst(!0))}};let O;b&&(O=(0,_.jsx)(h.HotKeys,{handlers:I,children:(0,_.jsx)(m.default,{ref:w,onSearch:P,onEnter:A,placeholder:y||p.default.t(569)})}));const N=S.length?(0,_.jsx)(h.HotKeys,{handlers:{down:e=>{e.preventDefault(),e.stopPropagation(),x&&x.setNext(!0)},up:e=>{if(!x)return;e.preventDefault(),e.stopPropagation();x.prev()>-1?x.setPrev(!0):(x.unset(),r.default.shouldIndicateFocus(),i.default.focus(w.current))}},onFocus:e=>{j(e)&&(null==x||x.setFirst(!0))},onBlur:e=>{j(e)&&(null==x||x.unset())},tabIndex:0,children:(0,_.jsx)(c.FlatList,{data:S,ref:k,flatListController:M.current,direction:"vertical",renderItem:C})}):E;return(0,_.jsx)(g.Modal,{type:g.ModalTheme.Tower,ref:t,children:(0,_.jsxs)(l.default,{children:[(0,_.jsx)(d.DrawerHeader,{title:n,type:d.DRAWER_HEADER_TYPE.POPUP,onBack:a,onCancel:v}),O,(0,_.jsx)(u.default,{flatListControllers:[M.current],children:N})]},"contact-modal")})}var b=(0,o.forwardRef)(v);t.default=b},79834:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useModelValues)(e.chat,["name","isGroup","liveLocation"]),{name:n,isGroup:a}=t,d=a?i.fbt._("Stop sharing live location with {name}?",[i.fbt._param("name",n)],{hk:"1Loxtz"}):i.fbt._("Stop sharing live location with {name}?",[i.fbt._param("name",n)],{hk:"bCXr9"});return(0,u.jsx)(s.default,{onOK:()=>{const{liveLocation:e}=t;e&&e.stopMyLiveLocation(),r.ModalManager.close()},okText:i.fbt._("Stop Sharing",null,{hk:"14LWdj"}),onCancel:()=>{r.ModalManager.close()},children:(0,u.jsx)(l.EmojiText,{text:d})})};var r=n(14597),i=n(48360),o=n(35461),s=a(n(52665)),l=n(65417),u=n(85893)},93045:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logSessionEvent=function(e,t,n){const a=new r.default.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-t)});n&&(a.contactUsAutomaticEmail=!0,a.contactUsProblemDescription=n.subject,a.contactUsScreenshotC=n.numScreenshots);a.commit()};var r=a(n(11339))},21059:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LongLinkPopup=function(e){const{link:t}=e;return(0,u.jsx)(s.default,{title:o.fbt._("Open in browser",null,{hk:"4nwCde"}),okText:o.fbt._("Open link",null,{hk:"1yYoWm"}),cancelText:o.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{(0,l.openExternalLink)(t.href),i.ModalManager.close()},onCancel:d,children:(0,u.jsx)("div",{children:t.href})})};var r=n(81572),i=n(14597),o=n(48360),s=a(n(52665)),l=n(12591),u=n(85893);const d=()=>{i.ModalManager.close(),r.Cmd.closeLongLinkModal(!0)}},56227:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{to:t,participant:n,msg:a}=e;let p;if(t.isUser()){const e=d.ContactCollection.get(t),n=e?e.formattedName:(0,s.widToFormattedUser)(t);p=c.default.t(778,{name:n})}else if("string"==typeof n&&i.default.isUser(n)){const e=d.ContactCollection.get((0,o.createWid)(n)),t=e?e.formattedName:(0,s.widToFormattedUser)(n);p=c.default.t(777,{name:i.default.user(t)})}else p=l.fbt._("One or more group participants are using old versions of WhatsApp that can't receive messages sent from this device. Use your phone to message them instead.",null,{hk:"XCd50"});return(0,h.jsx)(u.default,{onOK:()=>{a.resend().then((e=>{e===f.SendMsgResult.ERROR_UNKNOWN&&__LOG__(2,void 0,void 0,void 0,["messaging"])`MdDowngradeModal:resend: failure with SendMsgResult.ERROR_UNKNOWN`})).catch((function(e){__LOG__(2,void 0,void 0,void 0,["messaging"])`MdDowngradeModal:resend: resend failure ${e}`})),r.ModalManager.close()},okText:l.fbt._("Try Again",null,{hk:"1UTnaS"}),cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>{r.ModalManager.close()},title:l.fbt._("Could not deliver message",null,{hk:"YbK1b"}),children:p})};var r=n(14597),i=a(n(89867)),o=n(45454),s=n(62054),l=n(48360),u=a(n(52665)),d=n(19380),c=a(n(14296)),f=n(13705),h=n(85893)},72434:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e;return(0,l.jsx)(o.default,{onOK:()=>{t.resend().then((e=>{e===s.SendMsgResult.ERROR_UNKNOWN&&__LOG__(2,void 0,void 0,void 0,["messaging"])`MdSendRetryModal:resend: failure with SendMsgResult.ERROR_UNKNOWN`})).catch((function(e){__LOG__(2,void 0,void 0,void 0,["messaging"])`MdSendRetryModal:resend: resend failure ${e}`})),r.ModalManager.close()},okText:i.fbt._("Try Again",null,{hk:"1UTnaS"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>r.ModalManager.close(),children:i.fbt._("Could not deliver message",null,{hk:"YbK1b"})})};var r=n(14597),i=n(48360),o=a(n(52665)),s=n(13705),l=n(85893)},20668:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useModelValues)(e.msg,["type","isVcardOverMmsDocument"]),n=(e=>{try{return(0,u.getMsgMediaType)(e)}catch(e){return null}})(e.msg);let a,c;switch(n){case u.MEDIA_TYPES.VIDEO:a=l.default.t(481),c=l.default.t(480);break;case u.MEDIA_TYPES.GIF:a=l.default.t(476),c=l.default.t(475);break;case u.MEDIA_TYPES.AUDIO:a=l.default.t(472),c=l.default.t(471);break;case u.MEDIA_TYPES.IMAGE:a=l.default.t(479),c=l.default.t(478);break;case u.MEDIA_TYPES.DOCUMENT:if(t.isVcardOverMmsDocument){a=i.fbt._("Contact Unavailable",null,{hk:"4cR9XP"}),c=i.fbt._("Can’t view this contact because it's no longer on your phone.",null,{hk:"UWEiv"});break}a=l.default.t(474),c=l.default.t(473);break;case u.MEDIA_TYPES.STICKER:a=i.fbt._("Sticker Unavailable",null,{hk:"3mn4b1"}),c=i.fbt._("Can’t download this sticker because it's no longer on your phone.",null,{hk:"3lXqKv"});break;default:a=l.default.t(477),__LOG__(4,void 0,new Error,!0)`type: ${n}`,SEND_LOGS("MediaMissingModal: unexpected message type")}return(0,d.jsx)(s.default,{title:a,onOK:()=>{r.ModalManager.close()},okText:i.fbt._("OK",null,{hk:"2KEeHb"}),children:c})};var r=n(14597),i=n(48360),o=n(35461),s=a(n(52665)),l=a(n(14296)),u=n(61596),d=n(85893)},97157:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.msg,["type","isGif"]);let n;switch(t.type){case i.MSG_TYPE.VIDEO:t.isGif||(n=u.default.t(516))}return(0,d.jsx)(l.default,{onOK:()=>{r.ModalManager.close()},okText:o.fbt._("OK",null,{hk:"2KEeHb"}),children:n})};var r=n(14597),i=n(15461),o=n(48360),s=n(35461),l=a(n(52665)),u=a(n(14296)),d=n(85893)},98707:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,s.jsx)(o.default,{title:i.fbt._("Can't Send Changed File",null,{hk:"ntbaL"}),onOK:()=>{r.ModalManager.close()},okText:i.fbt._("OK",null,{hk:"2KEeHb"}),children:i.fbt._("This document has changed since you tried to send it. Please try again.",null,{hk:"3fUbmQ"})})};var r=n(14597),i=n(48360),o=a(n(52665)),s=n(85893)},19451:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e;return(0,l.jsx)(s.default,{onCancel:()=>i.ModalManager.close(),onOK:()=>{i.ModalManager.close(),r.FileSaver.initDownload(t)},okText:o.fbt._("Download",null,{hk:"1g5Jix"}),cancelText:o.fbt._("Cancel",null,{hk:"H0gNq"}),title:o.fbt._("Download Unsupported File?",null,{hk:"Xh7Km"}),children:o.fbt._("This file can't be opened in WhatsApp Web. Download it to open it with another app on your computer?",null,{hk:"1DOus2"})})};var r=n(21634),i=n(14597),o=n(48360),s=a(n(52665)),l=n(85893)},15407:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{altText:t,mediaData:n}=e;const{preview:a}=(0,r.useModelValues)(n,["preview"]),u=a instanceof o.default?a.url():null;return(0,s.jsx)("div",{className:i.default.mediaViewerBlurCrop,onClick:l,children:(0,s.jsx)("img",{className:i.default.mediaViewerBlurImg,src:u,alt:t})})};var r=n(35461),i=a(n(57269)),o=a(n(34949)),s=n(85893);function l(e){e.stopPropagation()}},76530:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=a(n(56720)),o=a(n(78506)),s=n(35461),l=a(n(62190)),u=a(n(15407)),d=a(n(47065)),c=n(58668),f=a(n(20553)),h=a(n(39040)),p=a(n(37015)),m=a(n(11339)),g=a(n(11791)),_=n(85893);const v={isDownloadPrevented:{pointerEvents:"m62443ks"}};function b(e){let{mediaData:t}=e;return(0,_.jsx)(g.default,{type:"scaleDown",size:{width:t.fullWidth,height:t.fullHeight},position:"relative",objectPosition:"relative",children:(0,_.jsx)(u.default,{altText:"",mediaData:t})})}function y(e){let{src:t,preventDownload:n=!1,onImageClick:a,onLoad:r}=e;return(0,_.jsx)(d.default,{className:(0,i.default)(h.default.content,n&&v.isDownloadPrevented),draggable:!n,onClick:a,disableContextMenu:n,src:t,onLoad:r})}function C(e){let{src:t,onImageClick:n,onLoad:a}=e;return(0,_.jsx)("figure",{className:(0,i.default)(h.default.content),draggable:"false",onClick:n,onContextMenu:e=>e.preventDefault(),children:(0,_.jsx)(y,{src:t,preventDownload:!0,onImageClick:n,onLoad:a})})}const S=(e,t)=>{const{msg:n,preventDownload:a,onLoad:i}=e,u=(0,s.useModelValues)(e.mediaData,["mediaStage","fullWidth","fullHeight","renderableUrl","progressiveStage"]),d=(0,r.useRef)(null),h=(0,o.default)(t,d);(0,r.useEffect)((()=>{if(n)return n.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:m.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0}),()=>{n.mediaObject&&n.cancelDownload()}}),[n]);const g=e=>{var t;null===(t=d.current)||void 0===t||t.onClick(e)};switch(u.mediaStage){case c.MEDIA_DATA_STAGE.DECRYPTING:if(null==u.progressiveStage)return(0,_.jsx)(b,{mediaData:u});break;case c.MEDIA_DATA_STAGE.RESOLVED:case c.MEDIA_DATA_STAGE.PROGRESSIVE_READY:break;default:return(0,_.jsx)(b,{mediaData:u})}const v=a?e=>(0,_.jsx)(C,{src:e,onImageClick:g,onLoad:i}):e=>(0,_.jsx)(y,{src:e,onImageClick:g,onLoad:i}),S=null!=n?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(f.default,{mediaData:u,placeholderRenderer:()=>(0,_.jsx)(b,{mediaData:u}),downloadMedia:()=>{if(null!=n.mediaObject)return n.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:m.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0})},renderProgressively:!0,children:v}),n.interactiveAnnotations&&n.interactiveAnnotations.length>0&&(0,_.jsx)(l.default,{annotations:n.interactiveAnnotations,onTooltipDisplay:e.onAnnotationTooltipDisplay,onTooltipDismiss:e.onAnnotationTooltipDismiss})]}):v(u.renderableUrl);return(0,_.jsx)(p.default,{ref:h,width:u.fullWidth,height:u.fullHeight,onZoomIn:e.onImgZoomIn,msg:n,children:S})};var E=(0,r.forwardRef)(S);t.default=E},81136:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,mediaData:n}=e,{mediaStage:a,size:f,streamable:h}=(0,i.useModelValues)(n,["mediaStage","size","streamable"]);if(h&&n.isStreamable())return null;switch(a){case s.MEDIA_DATA_STAGE.INIT:case s.MEDIA_DATA_STAGE.EXISTS:case s.MEDIA_DATA_STAGE.RESOLVED:case s.MEDIA_DATA_STAGE.ERROR_MISSING:case s.MEDIA_DATA_STAGE.NEED_UPLOAD:case s.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case s.MEDIA_DATA_STAGE.PROGRESSIVE_READY:case s.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:case s.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:return null;case s.MEDIA_DATA_STAGE.NEED_POKE:return(0,c.jsx)(o.Download,{filesize:f,onClick:e=>function(e,t){e.stopPropagation(),t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:u.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0})}(e,t)});case s.MEDIA_DATA_STAGE.FETCHING:case s.MEDIA_DATA_STAGE.PREPARING:case s.MEDIA_DATA_STAGE.UPLOADING:case s.MEDIA_DATA_STAGE.REUPLOADING:case s.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case s.MEDIA_DATA_STAGE.DECRYPTING:case s.MEDIA_DATA_STAGE.SENDING:case s.MEDIA_DATA_STAGE.FINALIZING:return(0,c.jsx)("div",{onClick:e=>function(e,t){e.stopPropagation(),t.cancelDownload()}(e,t),children:(0,c.jsx)(o.Pending,{cancelable:!0})});case s.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:return(0,c.jsx)(o.Download,{filesize:f,onClick:e=>function(e,t){e.stopPropagation(),r.ModalManager.open((0,c.jsx)(l.default,{msg:(0,d.unproxy)(t)}))}(e,t)})}};var r=n(14597),i=n(35461),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(41124)),s=n(58668),l=a(n(19451)),u=a(n(11339)),d=n(18146),c=n(85893);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}},8969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZOOM_IN_FACTOR=t.CLOSE_ANIMATION_DURATION=t.ANIMATION_DURATION=void 0;t.ANIMATION_DURATION=500;t.CLOSE_ANIMATION_DURATION=200;t.ZOOM_IN_FACTOR=2},39040:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(56720));t.default={content:{alignItems:"gndfcl4n",display:"p357zi0d",height:"ppled2lx",justifyContent:"ac2vgrno",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2",width:"ln8gz9je",zIndex:"b9fczbqn"}}},37015:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67811),i=n(67294),o=a(n(56720)),s=n(8969),l=a(n(39040)),u=a(n(11791)),d=a(n(52500)),c=n(94270),f=n(18644),h=n(85893);const p={cursorZoomIn:{cursor:"bn05jr7j"}},m=(e,t)=>{const{children:n,onZoomIn:a,width:m,height:g,msg:_,onLoad:v}=e,[b,y]=(0,i.useState)(null),[C,S]=(0,i.useState)(!0),E=(0,i.useRef)(0),x=(0,i.useRef)(0),T=(0,i.useRef)(),M=()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.getOutsideContainer()},k=()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.getInsideContainer()},w=()=>{S(!1)},A=(e,t,n)=>{const a=x.current,r=E.current,i=window.innerWidth/2-t,o=window.innerHeight/2-n;return{translateX:a>0?Math.round(1.2*i*a/e.clientWidth):0,translateY:r>0?Math.round(1.2*o*r/e.clientHeight):0}},P=()=>{a(!1),y(null),S(!0)},j=(e,t)=>{if(b)return void P();const n=k(),r=M();if(!(n instanceof HTMLElement&&r instanceof HTMLElement))return;E.current=n.clientHeight*s.ZOOM_IN_FACTOR-r.clientHeight,x.current=n.clientWidth*s.ZOOM_IN_FACTOR-r.clientWidth;const{translateX:i,translateY:o}=A(r,e,t);a(!0),y({factor:s.ZOOM_IN_FACTOR,translateX:i,translateY:o}),S(!1)},I=e=>{e.stopPropagation(),j(e.pageX,e.pageY)},O=e=>{e.stopPropagation(),j(window.innerWidth/2,window.innerHeight/2)};(0,i.useImperativeHandle)(t,(()=>({getHeightOverflow:()=>E.current,getWidthOverflow:()=>x.current,onClick:I,onKeyboardZoom:O,getTranslatePosition:A,getOutsideContainer:M,getInsideContainer:k,closingMediaZoomable:w})));let N=(0,h.jsx)("div",{className:(0,o.default)(l.default.content,!b&&p.cursorZoomIn),"data-testid":"media-zoomable",children:n});b&&(N=(0,h.jsx)(f.UIE,{displayName:"ZoomInImage",escapable:!0,requestDismiss:P,children:N}));const R=c.ReactionBubbleType.MEDIA_ITEM;return(0,h.jsxs)(u.default,{type:"zoomIn",size:{width:m,height:g},position:"relative",objectPosition:"relative",zoomIn:b,onObjectLoad:v,ref:T,children:[N,_&&(0,r.shouldShowReactionBubble)(_,R)&&(0,h.jsx)(d.default,{msgIds:[_.id.toString()],reactionBubbleVisible:C,reactionBubbleType:R})]})};var g=(0,i.forwardRef)(m);t.default=g},77864:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(51737),i=n(73679),o=n(21310),s=a(n(97039)),l=n(94816),u=n(48360),d=n(67294),c=n(87550),f=a(n(37453)),h=a(n(89113)),p=n(63183),m=n(65511),g=n(69951),_=n(16593),v=a(n(90233)),b=n(19380),y=n(47473),C=n(85600),S=n(12591),E=n(47915),x=a(n(14296)),T=a(n(62425)),M=a(n(11497)),k=n(64551),w=n(50452),A=n(37894),P=a(n(14421)),j=n(85893);const I="SEC_FREQUENT_CONTACTS",O="SEC_CHATS",N="SEC_CONTACTS",R="ROW_FREQUENT_CONTACTS",D="ROW_CHATS",L="ROW_CONTACTS";function B(e){let{active:t,selections:n,hasFrequentlyForwarded:a,ephemeralIcon:i,onChatClick:o,data:s,isMaxChatsSelected:l,isMaxGroupsSelected:d,isDisabled:c,customSecondaryText:f}=e;switch(s.type){case I:return(0,j.jsx)(M.default,{header:x.default.t(722)});case O:return(0,j.jsx)(M.default,{header:x.default.t(827)});case N:return(0,j.jsx)(M.default,{header:x.default.t(792)});case R:case D:case L:const{data:e}=s,g=n.isSelected(e);let b,y,C=l&&!g;if(c&&(b=c(e),C=b),e instanceof p.Chat){var h;let o;(0,r.isFunction)(f)&&(o=f(e,C));const s=!!(null===(h=e.groupMetadata)||void 0===h?void 0:h.noFrequentlyForwarded);a&&s?(C=!0,o=u.fbt._("Can't send messages that have been forwarded many times",null,{hk:"1lDDZg"})):d&&!n.isSelected(e)&&(C=!0);let l="chat-checkbox";C&&(l="chat-checkbox-disabled"),y=(0,j.jsx)(m.Chat,{theme:l,active:t,chat:e,mode:m.Mode.INFO,noContext:!0,secondary:o,ephemeralIcon:i})}else y=(0,j.jsx)(P.default,{contact:e,onSelect:()=>{},active:t,ephemeralIcon:i,disabled:C,theme:"multi-select-chat-list"});const S=()=>{b||o(e)};return(0,j.jsx)(v.default,{model:e,selections:n,tabIndex:-1,onClick:S,disabled:C,checkboxTheme:_.CHECKBOX_THEME.OUTLINE,children:y},e.id.toString());default:throw new E.UnknownDataError(s)}}function F(e){let{searchText:t,isEmpty:n,flatList:a}=e;return n?t?(0,j.jsx)(C.Search,{}):(0,j.jsx)(C.ListChats,{}):a}function G(e,t){const{active:n,getInitialItems:a,selections:r,maxChats:p,onSelectionChanged:m,hasFrequentlyForwarded:_=!1,hasForwarded:v=!1,ephemeralIcon:C,searchText:M,msgType:P,excludeChat:G,excludeBroadcast:U,flatListController:V,isDisabled:W,customItemSecondaryText:H,onChatsLoaded:q,excludeContacts:Y=!1}=e,z=(0,f.default)(M),K=e=>e.filter((e=>!(0,A.shouldBlockByTos)(e)&&!(0,y.shouldBlockByCountry)(e))),$=(0,h.default)((e=>{const t={};let n=[];Y||(n=K((e=>e?[]:b.ContactCollection.frequentContacts(P,G))(e)).map((e=>{if(U&&e.isBroadcast)return null;const n=e.isGroup||e.isBroadcast?g.ChatCollection.get(e.id):e;return n&&(t[n.id]=!0),n})).filter(Boolean));const a=(e=>{let t=e;if(t){t=x.default.accentFold(t);const e=(0,s.default)(t);return g.ChatCollection.filter((function(n){return n.canSend&&n.shouldAppearInList&&n.contact.searchMatch(t,e)}))}return g.ChatCollection.filter((function(e){return e.canSend&&e.shouldAppearInList}))})(e).map((e=>{if(U&&e.isBroadcast)return null;if((0,i.isSuspendedGroup)(e))return null;const n=e.isGroup||e.isBroadcast||Y?e:e.contact;return t[n.id]?null:(t[n.id]=!0,n)})).filter(Boolean);let r=[];return Y||(r=K((e=>{let t=e;const n=b.ContactCollection.getFilteredContacts();if(!t)return n;t=x.default.accentFold(t);const a=(0,s.default)(t);return n.filter((function(e){return e.searchMatch(t,a)}))})(e)).map((e=>t[e.id]?null:e)).filter(Boolean)),{frequentContacts:n,chats:a,contacts:r}})),[Q,X]=(0,d.useState)((()=>$(M))),J=(0,d.useRef)(null),Z=(0,d.useRef)(null),ee=e=>{const{frequentContacts:t,chats:n,contacts:a}=e;return t.concat(n,a)};(0,d.useEffect)((()=>{const e=ee(Q);n.init(e),a&&a().forEach((e=>r.setVal(e,!0))),q&&q(e)}),[]);const[te,ne]=(0,d.useState)(!1),[ae,re]=(0,d.useState)(!1);(0,c.useListener)(r,"all",(()=>{ne(r.getSelected().length===p),re(v&&r.getSelected().some((e=>e.isGroup)))}));const ie=(e,t,a)=>{if(t){let t,n;if("number"==typeof p&&r.getSelected().length>=p?_?(t=k.ServerProps.hfmStringChanges?u.fbt._({"*":"Messages forwarded many times can only be shared with up to {count} chats at a time.",_1:"Messages forwarded many times can only be shared with up to 1 chat at a time."},[u.fbt._plural(p,"count")],{hk:"3nuqz2"}):x.default.t(317,{count:p,_plural:p}),n={actionText:u.fbt._("Learn more",null,{hk:"3Tt4dc"}),onAction:()=>(0,S.openExternalLink)((0,o.getFrequentlyForwardedFaqUrl)())}):t=x.default.t(316,{count:p,_plural:p}):ae&&e.isGroup&&(t=u.fbt._("Forwarded messages can only be sent to one group chat at a time.",null,{hk:"2ZxS0s"}),n={actionText:u.fbt._("Learn more",null,{hk:"176vVf"}),onAction:()=>(0,S.openExternalLink)((0,o.getFrequentlyForwardedFaqUrl)())}),null!=t)return void l.ToastManager.open((0,j.jsx)(w.Toast,{id:(0,w.genId)(),msg:t,action:n}),l.ToastPosition.CENTER)}r.setVal(e,t,a),n.setVal(e,a),m&&m(e,t)},oe=e=>{const t=r.isSelected(e);ie(e,!t,!1)};(0,d.useEffect)((()=>{if(M!==z){const e=$(M);X(e),n.init(ee(e))}}),[n,$,z,M]);const se=e=>{const{frequentContacts:t,chats:n,contacts:a}=Q;let i;if(t.length)i=t[0];else if(n.length)i=n[0];else{if(!a.length)return;i=a[0]}const o=!r.isSelected(i);ie(i,o,e)};return(0,d.useImperativeHandle)(t,(()=>({toggleFirst:se}))),(0,j.jsx)(T.default,{active:e.active,onLeave:e.onLeaveList,ref:J,onIndexChange:e=>{var t;null===(t=Z.current)||void 0===t||t.scrollIntoViewIfNeeded(e)},children:(0,j.jsx)(F,{flatList:(0,j.jsx)(E.FlatList,{ref:Z,flatListController:V,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=[],{frequentContacts:t,chats:n,contacts:a}=Q;return t.length&&(e.push({itemKey:I,type:I}),e.push(...t.map((e=>({itemKey:e.id.toString(),type:R,data:e}))))),n.length&&(!0!==Y&&e.push({itemKey:O,type:O}),e.push(...n.map((e=>({itemKey:e.id.toString(),type:D,data:e}))))),a.length&&(e.push({itemKey:N,type:N}),e.push(...a.map((e=>({itemKey:e.id.toString(),type:L,data:e}))))),e})(),renderItem:e=>(0,j.jsx)(B,{data:e,active:n,selections:r,hasFrequentlyForwarded:_,ephemeralIcon:C,onChatClick:oe,isMaxChatsSelected:te,isMaxGroupsSelected:ae,isDisabled:W,customSecondaryText:H})}),searchText:M,isEmpty:(()=>{const{frequentContacts:e,chats:t,contacts:n}=Q;return!e.length&&!t.length&&!n.length})()})})}var U=(0,d.forwardRef)(G);t.default=U},97473:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.calculateContacts=t.MultiSelectContactList=void 0;var r=a(n(52013)),i=a(n(97039)),o=n(94816),s=n(48360),l=n(67294),u=a(n(90233)),d=n(19380),c=n(85600),f=n(47915),h=a(n(14296)),p=a(n(62425)),m=a(n(11497)),g=n(50452),_=a(n(14421)),v=n(85893);const b="SEC_CONTACTS",y="ROW_CONTACTS",C=e=>e.contacts,S=e=>{let{filter:t,useAllContacts:n}=e;const a=n?d.ContactCollection.toArray():d.ContactCollection.getFilteredContacts();return t?a.filter(t):a};t.calculateContacts=S;const E=e=>{let{filter:t,useAllContacts:n,searchText:a}=e;return{contacts:(e=>{let{filter:t,useAllContacts:n,searchText:a}=e;const r=S({filter:t,useAllContacts:n});if(!a)return r;const o=h.default.accentFold(a),s=(0,i.default)(o);return r.filter((e=>e.searchMatch(o,s)))})({filter:t,useAllContacts:n,searchText:a})}};function x(e,t){const{active:n,getInitialItems:a,selections:i,maxContacts:d,onSelectionChanged:x,maxContactsExceedErrorMsg:T,isDisabled:M,customSecondaryText:k,isSelected:w,allowBlockedContacts:A,filter:P,useAllContacts:j,searchText:I,flatListController:O}=e,N=(0,l.useRef)(null),R=(0,l.useRef)(),D=E({filter:P,useAllContacts:j,searchText:I});(0,l.useEffect)((()=>{n.init(C(D)),a&&a().forEach((e=>i.setVal(e,!0)))}),[]);const L=(e,t,a)=>{t&&"number"==typeof d&&i.getSelected().length>=d?o.ToastManager.open((0,v.jsx)(g.Toast,{id:(0,g.genId)(),msg:T||h.default.t(486,{count:d,_plural:d})})):(i.setVal(e,t,a),n.setVal(e,a),x&&x(e,t))},B=e=>{switch(e.type){case b:return(0,v.jsx)(m.default,{header:s.fbt._("Contacts",null,{hk:"2jWpt9"})});case y:const{data:t}=e;return(0,v.jsx)(u.default,{model:t,selections:i,checked:!!w&&w(t),a8nKey:`multi-select-contact-list-item-${t.id.toString()}`,children:(0,v.jsx)(_.default,{contact:t,disabled:null==M?void 0:M(t),onSelect:()=>(e=>{if(null==M?void 0:M(e))return;const t=i.isSelected(e);L(e,!t,!1)})(t),customSecondaryText:null==k?void 0:k(t.id),active:n,allowBlockedContacts:A})},t.id.toString());default:throw new f.UnknownDataError(e)}},F=()=>{N.current&&r.default.focus(N.current)},G=()=>{n.unset()},U=()=>{const e=S({filter:P,useAllContacts:j});i.getSelected().length===e.length?i.unsetAll():e.forEach((e=>{i.setVal(e,!0,!1)}))},V=e=>{if(D.contacts.length){const t=D.contacts[0],n=!i.isSelected(t);L(t,n,e)}},W=()=>{const e=[],{contacts:t}=D;return t.length&&(e.push({itemKey:b,type:b}),e.push(...t.map((e=>({itemKey:e.id.toString(),type:y,data:e}))))),e};return(0,l.useEffect)((()=>{n.init(C(D))}),[I]),(0,l.useImperativeHandle)(t,(()=>({focus:F,clearActive:G,selectAll:U,toggleFirst:V}))),(0,v.jsx)(p.default,{active:e.active,onLeave:e.onLeaveList,ref:N,onIndexChange:e=>{var t;null===(t=R.current)||void 0===t||t.scrollIntoViewIfNeeded(e)},children:D.contacts.length?(0,v.jsx)(f.FlatList,{ref:R,flatListController:O,direction:"vertical",forceConsistentRenderCount:!1,data:W(),renderItem:B}):I?(0,v.jsx)(c.Search,{}):(0,v.jsx)(c.ListChats,{})})}const T=(0,l.forwardRef)(x);t.MultiSelectContactList=T},88183:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48926)),i=n(14597),o=n(94816),s=n(48360),l=n(67294),u=(a(n(56720)),n(23817)),d=n(63183),c=n(70923),f=a(n(11339)),h=n(56728),p=n(18963),m=n(13923),g=n(50452),_=n(85893);const v={bulkEditHeaderContent:{paddingTop:"byg5ndfj",paddingEnd:"kvbanpuc",paddingBottom:"p9a4hubg",paddingStart:"qquthbrt",textTransform:"ofejerhi",fontSize:"f8jlpxt4",backgroundColor:"ihvf49ua",color:"jq3rn4u7"}};function b(e){switch(e){case c.ONE_DAY:return s.fbt._("Apply 24 hour message timer to these chats",null,{hk:"3a6nHx"});case c.SEVEN_DAYS:return s.fbt._("Apply 7 day message timer to these chats",null,{hk:"2XPwh5"});case c.NINETY_DAYS:return s.fbt._("Apply 90 day message timer to these chats",null,{hk:"3cHG7j"});default:throw new Error(`Duration passed to DM Chat Picker invalid ${e}`)}}function y(e,t,n){switch(e){case c.ONE_DAY:return s.fbt._({"*":"You applied a 24 hour message timer to {selectedChatCount} of your existing chats.",_1:"You applied a 24 hour message timer to {selectedChatCount} of your existing chats."},[s.fbt._plural(n),s.fbt._param("selectedChatCount",t)],{hk:"3ZOluB"});case c.SEVEN_DAYS:return s.fbt._({"*":"You applied a 7 day message timer to {selectedChatCount} of your existing chats.",_1:"You applied a 7 day message timer to {selectedChatCount} of your existing chats."},[s.fbt._plural(n),s.fbt._param("selectedChatCount",t)],{hk:"F6wXK"});case c.NINETY_DAYS:return s.fbt._({"*":"You applied a 90 day message timer to {selectedChatCount} of your existing chats.",_1:"You applied a 90 day message timer to {selectedChatCount} of your existing chats."},[s.fbt._plural(n),s.fbt._param("selectedChatCount",t)],{hk:"2r5NKQ"});default:throw new Error(`Duration passed to DM Chat Picker invalid ${e}`)}}function C(e){let{duration:t,entryPoint:n}=e;const[a,c]=(0,l.useState)(0);(0,l.useEffect)((()=>{new f.default.DisappearingMessageChatPicker({dmChatPickerEntryPoint:n,dmChatPickerEventName:f.default.DM_CHAT_PICKER_EVENT_NAME_TYPE.CHAT_PICKER_TRAY_OPEN,ephemeralityDuration:t}).commit()}),[]);const C=(0,_.jsx)(m.TextParagraph,{xstyle:v.bulkEditHeaderContent,children:b(t)}),S=(e,r)=>{const i=e.filter((e=>e.isGroup)),o=e.filter((e=>{if(e instanceof d.Chat)return!e.isEphemeralSettingOn()})).length;new f.default.DisappearingMessageChatPicker({dmChatPickerEntryPoint:n,dmChatPickerEventName:r,ephemeralityDuration:t,chatsSelected:e.length,groupChatsSelected:i.length,totalChatsInChatPicker:a,newlyEphemeralChats:o}).commit()},E=function(){var e=(0,r.default)((function*(e){S(e,f.default.DM_CHAT_PICKER_EVENT_NAME_TYPE.CHAT_PICKER_CHATS_SELECTED),i.ModalManager.close();let n=0,r=0;(yield(0,u.bulkChangeEphemeralDuration)(e,t,f.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_PICKER)).map((e=>{switch(e.status){case"fulfilled":n++;break;case"rejected":r++;break;default:__LOG__(4,void 0,new Error)`bulkChangeEphemeralDuration result has unknown status ${e.status}`}})),n>0&&o.ToastManager.open((0,_.jsx)(g.Toast,{id:(0,g.genId)(),msg:y(t,n,a)})),r>0&&o.ToastManager.open((0,_.jsx)(g.Toast,{id:(0,g.genId)(),msg:s.fbt._({"*":"An error occurred while trying to change the message timer for {errorChatCount} of your chats.",_1:"An error occurred while trying to change the message timer for {errorChatCount} of your chats."},[s.fbt._plural(a),s.fbt._param("errorChatCount",r)],{hk:"23LrJF"})}))}));return function(){return e.apply(this,arguments)}}();return(0,_.jsx)(h.SelectModal,{title:s.fbt._("Select chats",null,{hk:"1M845f"}),customHeader:C,onConfirm:E,listType:h.ListType.CHAT_SELECT_MODAL,singleSelectionFooterType:p.FooterType.CONFIRM,multipleSelectionFooterType:p.FooterType.CONFIRM,ephemeralIcon:"conversation-header",isDisabled:e=>e instanceof d.Chat&&!e.shouldShowEphemeralSetting(),customItemSecondaryText:(e,t)=>{if(t)return s.fbt._("You can't edit group settings",null,{hk:"1JvBYr"})},onCancel:e=>{S(e,f.default.DM_CHAT_PICKER_EVENT_NAME_TYPE.CHAT_PICKER_TRAY_EXIT),i.ModalManager.close()},onDataLoaded:e=>{c(e.length)},excludeContacts:!0,getSelectionSummary:e=>s.fbt._({"*":"{number} chats selected",_1:"1 chat selected"},[s.fbt._plural(e.length,"number")],{hk:"RkPSG"})})}var S=(0,l.forwardRef)(C);t.default=S},62425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294),r=n(29424),i=n(85893);function o(e,t){const{active:n,onIndexChange:a,onLeave:o,onEnter:s}=e,l=e=>{null==s||s(e)},u=e=>{const t=e.relatedTarget;return t instanceof HTMLElement&&e.currentTarget instanceof HTMLElement&&!e.currentTarget.contains(t)};return(0,i.jsx)(r.HotKeys,{handlers:{down:e=>{e.preventDefault(),e.stopPropagation(),n.setNext(!0),null==a||a(n.index)},up:e=>{e.stopPropagation(),e.preventDefault();n.prev()>-1?(n.setPrev(!0),null==a||a(n.index)):o&&(o(e),n.unset())},enter:l,space:l},ref:t,onFocus:e=>{u(e)&&n.setFirst(!0)},onBlur:e=>{u(e)&&n.unset()},tabIndex:0,children:e.children})}var s=(0,a.forwardRef)(o);t.default=s},69238:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{vcards:t}=e;return(0,p.jsx)(f.Modal,{type:f.ModalTheme.Box,children:(0,p.jsxs)(s.default,{children:[(0,p.jsx)(u.DrawerHeader,{title:c.default.t(485,{count:t.length,_plural:t.length}),type:u.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>r.ModalManager.close()}),(0,p.jsx)(l.default,{children:(0,p.jsx)(d.HotKeys,{children:(0,p.jsx)("div",{className:(0,o.default)(m),children:t.map(((e,t)=>e?(0,p.jsx)("div",{className:(0,o.default)(g),children:(0,p.jsx)(h.default,{parsedVcard:e,thumbnail:(0,i.vcardThumbnail)(e)})},t):null))})})})]})})};var r=n(14597),i=n(93778),o=a(n(56720)),s=a(n(60453)),l=a(n(69637)),u=n(94790),d=n(29424),c=a(n(14296)),f=n(57224),h=a(n(11976)),p=n(85893);const m={paddingTop:"emrlamx0"},g={position:"g0rxnol2",marginBottom:"brac1wpa",backgroundColor:"ihvf49ua",boxShadow:"tio0brup"}},21398:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onMute:t}=e,n=(0,u.useModelValues)(e.mute,["id","expiration","callExpiration"]),[a,_]=(0,s.useState)(null),v=e=>{let{target:t}=e;t instanceof HTMLInputElement&&_(parseFloat(t.value))},b=()=>null!=a&&0!==a?a:(0,i.getLastChatMuteDuration)()||(0,f.getDefaultMuteDuration)();(0,s.useEffect)((()=>{null!=n.expiration&&0!==n.expiration&&null!=n.callExpiration&&0!==n.callExpiration&&g()}),[n.callExpiration,n.expiration,e]);const y=e.onCancel||g,C=b(),S=(0,f.getAllMuteDurations)().map((e=>{let{label:t,duration:n}=e;const a=`duration-${n}`;return(0,h.jsxs)("li",{children:[(0,h.jsx)("input",{id:a,type:"radio",name:"duration",className:(0,l.default)(p),value:n,checked:C===n,onChange:v}),(0,h.jsx)("label",{htmlFor:a,className:(0,l.default)(m),children:t})]},"mute-"+n)}));return(0,h.jsx)(d.default,{title:(0,h.jsx)(c.EmojiText,{text:e.title}),okText:o.fbt._("Mute notifications",null,{hk:"2Fm15X"}),onOK:()=>{r.ModalManager.close();const e=b();(0,i.setLastChatMuteDuration)(e),t((0,f.calculateMuteExpiration)(e),e)},onCancel:y,children:(0,h.jsx)("form",{children:(0,h.jsx)("ol",{children:S})})})};var r=n(14597),i=n(55452),o=n(48360),s=n(67294),l=a(n(56720)),u=n(35461),d=a(n(52665)),c=n(65417),f=n(22476),h=n(85893);const p={marginEnd:"claouzo6"},m={display:"l7jjieqr",height:"hpdpob1j",paddingTop:"n1yiu2zv",paddingEnd:"f9ovudaz",paddingBottom:"eb4rp10x",paddingStart:"gx1rr48f",cursor:"ajgl1lbb"};function g(){r.ModalManager.close()}},66032:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{groupCode:t}=e,[n,a]=(0,c.useState)(k.Loading),[w,A]=(0,c.useState)(void 0),[P,j]=(0,c.useState)(void 0),[I,O]=(0,c.useState)(void 0),[N,R]=(0,c.useState)(void 0),D=(0,f.default)(),L=e=>{let t,n;null!=e?(t=e.id,n=e.groupType):P&&(t=P.id,n=P.groupType),null!=t&&(n===C.GroupType.COMMUNITY?l.Cmd.communityHome(t):l.Cmd.openChatFromUnread(h.ChatCollection.assertGet(t))),u.ModalManager.close()};(0,c.useEffect)((()=>{(0,o.default)((0,x.queryGroupInviteInfo)(t),D).then((e=>{e.groupMetadata.hasJoined()?L(e.groupMetadata):(A(e.status),j(e.groupMetadata),O(e.subject),a(k.Success),(0,y.queryGroupInviteProfilePicURL)(e.groupMetadata.id,t).then((e=>{R(e)})))})).catch((0,i.filteredCatch)(s.ServerStatusCodeError,(e=>{A(e.status),a(k.Error)}))).catch((0,r.catchAbort)((()=>{})))}),[]);const B=()=>{u.ModalManager.close()},F=d.fbt._("Cancel",null,{hk:"2oWWgu"}),G=null!=w&&w>=400?(0,T.getGroupInviteAcceptErrorStr)(w):null;if(n!==k.Success||!P){let e;return e=n===k.Loading?(0,M.jsx)(_.LoadingWithText,{text:S.default.t(335)}):G,(0,M.jsx)(m.default,{onCancel:B,children:e})}if(436===w)return(0,M.jsx)(b.GrowthLockedModal,{});const{groupType:U,numSubgroups:V}=P,W=(0,T.getGroupInviteSubtitle)(U,V),H=U===C.GroupType.DEFAULT_ANNOUNCEMENT_GROUP;let q;H||(q=P.participants.filter((e=>{var t;return!!(null===(t=g.ContactCollection.get(e.id))||void 0===t?void 0:t.isMyContact)})));const Y=P.hasJoined(),z=Y?L:()=>{(0,o.default)((0,v.joinGroupViaInvite)(t),D).then((e=>l.Cmd.openChatFromUnread(e).then((t=>{t&&p.ComposeBoxActions.focus(e)})))).then((()=>{null!=P&&P.groupType===C.GroupType.COMMUNITY&&l.Cmd.communityHome(P.id),u.ModalManager.close()})).catch((0,r.catchAbort)((()=>{}))).catch((0,i.filteredCatch)(s.ServerStatusCodeError,(e=>{a(k.Error),A(e.status)})))},K=(0,T.getGroupInviteActionText)(Y,U),$=(0,T.getGroupInviteDescription)(P);return(0,M.jsx)(E.default,{image:{src:N||"",isAnnouncementGroup:H},title:I,subtitle:W,contacts:q,description:$,actionText:K,onAction:z,onCancel:B,cancelText:F,finePrint:{text:null!=G?G:(0,T.getFinePrint)(U),isError:null!=G}})};var r=n(89385),i=n(50796),o=a(n(47259)),s=n(92574),l=n(81572),u=n(14597),d=n(48360),c=n(67294),f=a(n(3409)),h=n(69951),p=n(88172),m=a(n(52665)),g=n(19380),_=n(85600),v=n(73058),b=n(55800),y=n(94798),C=n(55981),S=a(n(14296)),E=a(n(69408)),x=n(96269),T=n(5646),M=n(85893);const k=n(76672).Mirrored(["Loading","Success","Error"])},69408:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onAction:t,actionText:n,onCancel:a,cancelText:r,contacts:i,image:s,description:l,title:u,subtitle:c,communityInfo:f,finePrint:h,loading:p}=e;return(0,m.jsx)(o.default,{onOK:t,okText:!0===p?"":n,cancelText:r,onCancel:a,type:d.ModalTheme.InviteNew,okSpinner:p,okDisabled:p,buttonContainerStyle:g.buttonContainer,buttonStyle:g.button,children:(0,m.jsx)(y,{contacts:i,image:s,description:l,title:u,subtitle:c,communityInfo:f,finePrint:h})})};var r=n(48360),i=a(n(56720)),o=a(n(52665)),s=n(88984),l=n(65417),u=n(50981),d=n(57224),c=a(n(52711)),f=a(n(23217)),h=n(13923),p=n(5646),m=n(85893);const g={metadataContainer:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",backgroundColor:"b19fvycv"},communityInfo:{backgroundColor:"eijk9neo",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",fontSize:"f8jlpxt4",width:"ln8gz9je",alignItems:"gndfcl4n",height:"q1n4p668",display:"p357zi0d",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u"},communityInfoHeaders:{display:"p357zi0d",flexDirection:"f8m0rgwh",marginStart:"nzcjdldu"},metadataText:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",paddingTop:"tvsr5v2h",paddingEnd:"f9ovudaz",paddingBottom:"pjbr9b9i",paddingStart:"gx1rr48f"},metadataTitle:{fontSize:"iqrewfee",color:"tviruh8d",letterSpacing:"d53dy967"},metadataSecondaryText:{marginTop:"hymafltn",fontSize:"f8jlpxt4",fontWeight:"bcr6az0x",color:"pm5hny62"},metadataDesc:{maxWidth:"pqjqtz9p",marginTop:"eg3lofc5",overflowX:"gfz4du6o",overflowY:"ag5g9lrv",fontSize:"f8jlpxt4",color:"tviruh8d",textAlign:"qfejxiq4"},avatars:{display:"i86elurf",flexDirection:"sap93d0t"},avatar:{position:"g0rxnol2",width:"ln8gz9je",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTop:"er60nxep",borderEnd:"ppgl3mp3",borderBottom:"g4g5yoif",borderStart:"f3pti8mu",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},avatarLastChild:{marginStart:"mykz8fp3"},finePrint:{textAlign:"qfejxiq4",marginTop:"opp68qpq"},avatarCount:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"i5tg98hk",paddingEnd:"atp9n7ve",paddingBottom:"przvwfww",paddingStart:"k4wy2cgb",fontSize:"ovllcyds",backgroundColor:"cy3deui7",borderTopStartRadius:"jv1ikj1l",borderTopEndRadius:"ohzpzhf7",borderBottomEndRadius:"jyk8994j",borderBottomStartRadius:"bj4p3wqc",color:"hu66m3pv"},roundIcon:{height:"sdtr5tj1",width:"bpanfbxe",overflowX:"gfz4du6o",overflowY:"r7fjleex"},announcementIcon:{backgroundColor:"se52eggw"},announcementSpeaker:{color:"q3u0wlip"},buttonContainer:{display:"btb1m7bk",gridTemplateColumns:"m7nrg3ns",width:"ln8gz9je"},button:{display:"p357zi0d",justifyContent:"ac2vgrno",textAlign:"qfejxiq4"}};function _(e){const{contacts:t}=e,{sortedContacts:n,hiddenPileCount:a}=(0,p.sortContacts)(t);return(0,m.jsxs)("div",{className:(0,i.default)(g.avatars),children:[n.map(((e,n)=>(0,m.jsx)("span",{id:e.id,className:(0,i.default)(g.avatar,t.length>1&&g.avatarLastChild),children:(0,m.jsx)(s.DetailImage,{size:32,id:e.id})},`${n}-${e.id.toString()}`))),a>0?(0,m.jsx)("span",{className:(0,i.default)(g.avatar,g.avatarLastChild,g.avatarCount),children:(0,m.jsxs)("span",{children:["+",a]})}):null]})}function v(e){let{groupMetadata:t,subject:n}=e;return(0,m.jsxs)("div",{className:(0,i.default)(g.communityInfo),children:[(0,m.jsx)(s.DetailImage,{size:s.DetailImageSize.ExtraSmall,id:t.id,shape:s.DetailImageShape.Squircle}),(0,m.jsxs)("div",{className:(0,i.default)(g.communityInfoHeaders),children:[(0,m.jsx)("span",{children:r.fbt._('Group in "{community-name}"',[r.fbt._param("community-name",n)],{hk:"1XV3H2"})}),(0,m.jsx)("span",{children:r.fbt._({"*":"Community •   {number} groups",_1:"Community •   1 group"},[r.fbt._plural(t.getSubgroupsMetadata().length,"number")],{hk:"2sGxg3"})})]})]})}function b(e){const{isAnnouncementGroup:t,src:n,groupId:a}=e;return t?(0,m.jsx)(c.default,{xstyle:[g.roundIcon,g.announcementIcon],theme:"transparent",children:(0,m.jsx)(f.default,{name:"announcement-speaker",directional:!0,height:70,width:70,iconXstyle:g.announcementSpeaker})}):a?(0,m.jsx)(s.DetailImage,{size:104,id:a}):null!=n?(0,m.jsx)(u.ImgWithFallback,{fallbackSVG:"default-group",size:104,imgProps:{src:n}}):void 0}function y(e){var t;const{contacts:n,description:a,title:r,subtitle:o,image:s,communityInfo:u,finePrint:d}=e,c=n&&(null!==(t=n.length)&&void 0!==t?t:0)>=1?(0,m.jsx)(_,{contacts:n}):null,f=u?(0,m.jsx)(v,{groupMetadata:u.groupMetadata,subject:u.subject}):null,p=null!=a?(0,m.jsx)("div",{className:(0,i.default)(g.metadataDesc),children:(0,m.jsx)(l.EmojiText,{text:a})}):null,y=(0,m.jsx)(b,{isAnnouncementGroup:s.isAnnouncementGroup,src:s.src,groupId:s.groupId}),C=(0,m.jsxs)("div",{className:(0,i.default)(g.metadataText),children:[(0,m.jsx)(l.EmojiText,{className:(0,i.default)(g.metadataTitle),text:r}),(0,m.jsx)("div",{className:(0,i.default)(g.metadataSecondaryText),children:o})]}),S=null!=(null==d?void 0:d.text)?(0,m.jsx)(h.TextParagraph,{color:d.isError?"danger":"secondary",size:"13",xstyle:g.finePrint,children:d.text}):null;return(0,m.jsxs)("div",{className:(0,i.default)(g.metadataContainer),children:[y,C,c,f,p,S]})}},74361:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,p.useState)(N.Loading),[a,O]=(0,p.useState)(void 0),[R,D]=(0,p.useState)(void 0),[L,B]=(0,p.useState)(void 0),F=(0,m.useModelValues)(e.msg,["id","to","inviteCode","inviteCodeExp","inviteGrp","isGroupsV4InviteExpired","from","chat","isSentByMe"]),{inviteGrp:G,inviteCodeExp:U,inviteCode:V,isGroupsV4InviteExpired:W,from:H,isSentByMe:q}=F;(0,p.useEffect)((()=>{if(q){const e=g.ChatCollection.assertGet((0,f.createWid)(G));e.groupMetadata&&x.default.find(e.id).catch((0,o.filteredCatch)([s.WebdDrop,u.ProtoVersionUndefined],(()=>{}))).finally((()=>{D(e.groupMetadata),B(e.formattedTitle||e.name),n(N.Success)}))}else(0,w.queryGroupInviteV4Info)(V,U.toString(),G,F.from.toString()).then((e=>{const{status:t}=e,a=(0,i.default)(e,I);if(null!=t&&t>=400)n(N.Error),O((0,P.getGroupInviteAcceptErrorStr)(t));else if(e.id){const t=new E.default((0,r.default)({},a));D(t),B(e.subject),n(N.Success)}else n(N.Error),O((0,P.getGroupInviteAcceptErrorStr)(t))})).catch((0,o.filteredCatch)(u.Unmount,(()=>{})))}),[]);const Y=e=>{let t=e;e?t=e:R&&(t=R.id),t&&l.Cmd.openChatFromUnread(g.ChatCollection.assertGet(t)),d.ModalManager.close()},z=()=>{const e=g.ChatCollection.assertGet((0,f.createWid)(G)).groupMetadata;d.ModalManager.open((0,j.jsx)(v.default,{onOK:()=>{d.ModalManager.close(),null==e||e.revokeGroupV4AddInvite([F.to.toString()]).then((e=>{c.ToastManager.open((0,j.jsx)(A.Toast,{msg:null!=e&&e>=400?(0,P.getGroupInviteRevokeErrorStr)(e):h.fbt._("Invite reset",null,{hk:"MgErr"}),id:(0,A.genId)()}))}))},okText:h.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>d.ModalManager.close(),cancelText:h.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,j.jsx)(y.EmojiText,{text:M.default.t(363,{participant:F.chat.contact.formattedName})})}))},K=()=>{(0,w.joinGroupViaInviteV4)(V,U.toString(),G,H.toString()).then((e=>{if(200===e.status)return(0,S.findChat)((0,f.createWid)(G));throw e.status})).then((e=>{l.Cmd.openChatFromUnread(e).then((t=>{t&&_.ComposeBoxActions.focus(e)})),d.ModalManager.close()})).catch((0,o.filteredCatch)(u.Unmount,(()=>{}))).catch((e=>{n(N.Error),O((0,P.getGroupInviteAcceptErrorStr)(e))}))},$=()=>{d.ModalManager.close()},Q=h.fbt._("Cancel",null,{hk:"2oWWgu"});if(t!==N.Success||!R){let e;return e=t===N.Loading?(0,j.jsx)(C.Loading,{}):a,(0,j.jsx)(v.default,{onCancel:$,children:e})}const{groupType:X}=R,J=(0,P.getGroupInviteSubtitle)(X),Z=(0,P.getGroupInviteMessageIconSrc)(G,V,U,H),ee=X===T.GroupType.DEFAULT_ANNOUNCEMENT_GROUP;let te;q||ee||(te=R.participants.filter((e=>{var t;return!!(null===(t=b.ContactCollection.get(e.id))||void 0===t?void 0:t.isMyContact)})));const ne=R.hasJoined();let ae;q&&(ae=z);ne&&(ae=Y);W||(ae=K);const re=W?"":(0,P.getGroupInviteActionText)(ne,X,q),ie=(0,P.getGroupInviteDescription)(R);return(0,j.jsx)(k.default,{image:{src:Z,isAnnouncementGroup:ee},title:L,subtitle:J,contacts:te,description:ie,actionText:re,onAction:ae,onCancel:$,cancelText:Q,finePrint:{text:null!=a?a:(0,P.getFinePrint)(X),isError:null!=a}})};var r=a(n(81109)),i=a(n(6479)),o=n(50796),s=n(92574),l=n(81572),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(35232)),d=n(14597),c=n(94816),f=n(45454),h=n(48360),p=n(67294),m=n(35461),g=n(69951),_=n(88172),v=a(n(52665)),b=n(19380),y=n(65417),C=n(85600),S=n(50101),E=a(n(14423)),x=a(n(63928)),T=n(55981),M=a(n(14296)),k=a(n(69408)),w=n(48537),A=n(50452),P=n(5646),j=n(85893);const I=["status"];function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}const N=n(76672).Mirrored(["Loading","Success","Error"])},37756:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{subgroupMetadata:t}=e;const[n,a]=(0,l.useState)(null),[y,C]=(0,l.useState)(null),[S,E]=(0,l.useState)(null),x=(0,l.useCallback)((0,r.default)((function*(){try{const e=yield(0,g.querySubgroupInfo)(t.id,t.parentGroupId);E(e)}catch(e){C((0,_.getErrorStr)(e.status)),a(b.Error)}})),[t]);if((0,l.useEffect)((()=>{x()}),[x]),n===b.Error)return(0,v.jsx)(d.default,{onOK:()=>{o.ModalManager.close()},children:y});if(!S)return null;const{groupType:T,id:M,participants:k,subject:w}=S,A=T===h.GroupType.DEFAULT_ANNOUNCEMENT_GROUP,P=s.fbt._("Join Group",null,{hk:"3zpLYL"}),j=s.fbt._("Cancel",null,{hk:"2oWWgu"});let I;A||(I=k.filter((e=>{var t;return!!(null===(t=c.ContactCollection.get(e.id))||void 0===t?void 0:t.isMyContact)})));const O=function(){var e=(0,r.default)((function*(){a(b.Loading),C(null);try{A&&(yield(0,p.sendJoinAnnouncementGroup)(t.parentGroupId,t.id)),t.groupType===h.GroupType.SUBGROUP&&(yield(0,p.sendJoinSubgroup)(t.parentGroupId,t.id));const e=yield(0,f.findChat)(t.id);(yield i.Cmd.openChatFromUnread(e))&&(a(b.Success),u.ComposeBoxActions.focus(e),o.ModalManager.close())}catch(e){C((0,_.getErrorStr)(e.status)),a(b.Complete)}}));return function(){return e.apply(this,arguments)}}(),N=(0,_.getGroupInviteDescription)(S);return(0,v.jsx)(m.default,{image:{isAnnouncementGroup:A,groupId:M},title:w,subtitle:(0,_.getGroupInviteSubtitle)(T),contacts:I,actionText:P,onAction:O,onCancel:()=>{o.ModalManager.close()},description:N,cancelText:j,finePrint:{text:null!=y?y:(0,_.getFinePrint)(T),isError:null!=y},loading:n===b.Loading})};var r=a(n(48926)),i=n(81572),o=n(14597),s=n(48360),l=n(67294),u=n(88172),d=a(n(52665)),c=n(19380),f=n(50101),h=n(55981),p=n(47990),m=a(n(69408)),g=n(42906),_=n(5646),v=n(85893);const b=n(76672).Mirrored(["Loading","Success","Error","Complete"])},5646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorStr=function(e){switch(e){case 403:return i.fbt._("You can't join this group because you are not a member of the community.",null,{hk:"3EZdan"});case 404:return i.fbt._("You can't join this group because it no longer exists.",null,{hk:"2pp3nO"});case 405:return i.fbt._("You can't join this group because it is not part of the community.",null,{hk:"xfvvv"});default:return i.fbt._("Unable to join this group. Please try again later.",null,{hk:"TLzMU"})}},t.getFinePrint=function(e){switch(e){case o.GroupType.COMMUNITY:return i.fbt._("You will be added to this community’s announcement group",null,{hk:"2IIiSu"});case o.GroupType.SUBGROUP:return i.fbt._("Your name and phone number will be visible to community admins",null,{hk:"36Uw8F"});default:return null}},t.getGroupInviteAcceptErrorStr=function(e){switch(e){case 400:return i.fbt._("Can't Join.",null,{hk:"1vIJiX"});case 401:return i.fbt._("You can't join this group because you were removed.",null,{hk:"3PHNXf"});case 404:return i.fbt._("You can't join this group because it has ended.",null,{hk:"38SN9a"});case 409:return i.fbt._("You can't join this group because you are already a member of it.",null,{hk:"3sUUND"});case 410:return i.fbt._("You can't join this group because this invite link was reset.",null,{hk:"1zEGh5"});case 419:return i.fbt._("You can't join this group because it is full.",null,{hk:"1D8JSO"});default:return i.fbt._("Couldn't join this group. Please try again.",null,{hk:"10viZM"})}},t.getGroupInviteActionText=function(e,t,n){if(!0===n)return i.fbt._("Revoke invite",null,{hk:"3GlOhJ"});if(e)return t===o.GroupType.COMMUNITY?i.fbt._("View community",null,{hk:"1hhKVl"}):i.fbt._("View group",null,{hk:"1gwwFJ"});if(t===o.GroupType.COMMUNITY)return i.fbt._("Join community",null,{hk:"2MHgig"});return i.fbt._("Join group",null,{hk:"2DlQzJ"})},t.getGroupInviteDescription=function(e){var t;if(e.displayedDesc)return e.displayedDesc;const n=e.owner&&(null===(t=e.participants.get(e.owner))||void 0===t?void 0:t.contact);return a.Clock.createdByOnDateStr(e.creation,n)},t.getGroupInviteMessageIconSrc=function(e,t,n,a){return`https://web.whatsapp.com/invite/v4/icon/?w=${encodeURIComponent((0,r.getMaybeMeUser)().toString())}&g=${encodeURIComponent(e)}&c=${encodeURIComponent(t)}&e=${encodeURIComponent(String(n))}&a=${encodeURIComponent(a.toString())}`},t.getGroupInviteRevokeErrorStr=function(e){switch(e){case 400:return i.fbt._("Failed to revoke this invite.",null,{hk:"1DzSUz"});case 401:return i.fbt._("You can't revoke this group invite because you are not an admin of this group.",null,{hk:"3sfM8v"});case 403:return i.fbt._("You can't revoke this group invite because you are not a participant of this group.",null,{hk:"4DU6Va"});case 404:return i.fbt._("You can't revoke this group invite because this group has ended.",null,{hk:"3KFLBE"});default:return i.fbt._("Can't revoke invite. Please try again.",null,{hk:"1Lf1a8"})}},t.getGroupInviteSubtitle=function(e,t){switch(e){case o.GroupType.DEFAULT_ANNOUNCEMENT_GROUP:return i.fbt._("Admin announcements",null,{hk:"v84Hb"});case o.GroupType.SUBGROUP:return i.fbt._("Group",null,{hk:"tSOhm"});case o.GroupType.COMMUNITY:return i.fbt._({"*":"Community · {number} groups",_1:"Community · 1 group"},[i.fbt._plural(null!=t?t:0,"number")],{hk:"3PBeYL"});default:return i.fbt._("Group",null,{hk:"1fTdLI"})}},t.sortContacts=function(e){const t=[];let n=[];e.map((e=>{null!=e.contact.getProfilePicThumb().imgFull?t.push(e):n.push(e)})),t.sort(s),n.sort(s);let a=0;n.length>2&&(a+=n.length-2,n=n.slice(0,2));let r=t.concat(n);return a+=Math.max(0,r.length-5),r=r.slice(0,5),{sortedContacts:r,hiddenPileCount:a}};var a=n(40234),r=n(78820),i=n(48360),o=n(55981);function s(e,t){return Number(t.isAdmin)-Number(e.isAdmin)}},13043:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PollDetailsDrawer=void 0;var r=n(48360),i=n(67294),o=a(n(56720)),s=n(35461),l=a(n(39770)),u=a(n(60453)),d=a(n(69637)),c=n(94790),f=a(n(33308)),h=n(49417),p=n(43319),m=n(81409),g=n(85893);const _={display:"p357zi0d",marginBottom:"e51q1eje",lineHeight:"erpdyial",alignItems:"gndfcl4n"},v={fontWeight:"nbipi2bn"},b={color:"gmz9snc8",lineHeight:"erpdyial"},y={marginStart:"isfiuinm",fontSize:"ovllcyds",lineHeight:"r5qsrrlp"};function C(e,t){const{msg:n,onClose:a,onViewAllVotes:l}=e,h=(0,m.usePollResults)(n),{pollName:p}=(0,s.useModelValues)(n,["pollName"]),C=function(e){let t=0;for(const{votes:n}of e.values())t+=n.length;return t}(h),S=(0,i.useMemo)((()=>Array.from(h).sort(((e,t)=>{let[,n]=e,[,a]=t;return a.votes.length-n.votes.length}))),[h]);return(0,g.jsxs)(u.default,{ref:t,theme:"striped",testid:"poll-details-drawer",children:[(0,g.jsx)(c.DrawerHeader,{title:r.fbt._("Poll Results",null,{hk:"49h1Kj"}),type:c.DRAWER_HEADER_TYPE.SMALL,onCancel:a,rtlFixIfOnDarwin:!0}),(0,g.jsxs)(d.default,{children:[(0,g.jsxs)(f.default,{theme:"padding-small",children:[(0,g.jsxs)("div",{className:(0,o.default)(_),children:[(0,g.jsx)("span",{className:(0,o.default)(v),children:r.fbt._("Question",null,{hk:"2z9JIr"})}),(0,g.jsx)("span",{className:(0,o.default)(y),children:r.fbt._({"*":"{vote} votes",_1:"1 vote"},[r.fbt._plural(C,"vote")],{hk:"26V0Gq"})})]}),(0,g.jsx)("span",{className:(0,o.default)(b),children:p})]}),S.map(((e,t)=>{let[n,a]=e;return(0,g.jsx)(E,{option:n,result:a,showMostVotedLabel:0===t,onViewAllVotes:()=>{l(n.localId)}},n.localId)}))]})]},"poll-details-drawer")}const S={mostVoted:{color:"akc9yq82",fontWeight:"hnx8ox4h",lineHeight:"pvbam5uh",letterSpacing:"hscjuerc",marginBottom:"e51q1eje"},optionMetadataRow:{marginBottom:"du8bjn1j"},voterRow:{marginBottom:"gdaqao4w"},viewAllContainer:{display:"p357zi0d"},viewAll:{width:"ln8gz9je",marginBottom:"mpdn4nr2"}};function E(e){const{option:t,result:n,showMostVotedLabel:a,onViewAllVotes:i}=e;return(0,g.jsxs)(f.default,{theme:"padding-poll",children:[!0===a&&(0,g.jsx)("h2",{className:(0,o.default)(S.mostVoted),children:"Most voted option"}),(0,g.jsx)(h.PollOptionMetadataRow,{name:t.name,percentage:100*n.percentageOfAll,voteCount:n.votes.length,xstyle:S.optionMetadataRow}),n.votes.length>0&&(0,g.jsxs)(g.Fragment,{children:[n.votes.slice(0,5).map((e=>(0,g.jsx)(p.PollVoterRow,{vote:e,xstyle:S.voterRow},e.id.toString()))),(0,g.jsx)("div",{className:(0,o.default)(S.viewAllContainer),children:(0,g.jsx)(l.default,{type:"secondary",xstyle:S.viewAll,onClick:()=>{i()},children:r.fbt._("View all votes",null,{hk:"1qOFYM"})})})]})]})}const x=(0,i.forwardRef)(C);t.PollDetailsDrawer=x},39870:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PollViewAllVotesDrawer=void 0;var r=a(n(45095)),i=n(48360),o=n(67294),s=(a(n(56720)),a(n(60453))),l=a(n(69637)),u=n(94790),d=a(n(33308)),c=n(49417),f=n(43319),h=n(81409),p=n(85893);const m={optionMetadataRow:{marginBottom:"du8bjn1j"},voterRow:{marginBottom:"gdaqao4w"}};function g(e,t){const{msg:n,optionLocalId:a,onBack:o}=e,g=(0,h.usePollResults)(n),_=Array.from(g.keys()).find((e=>e.localId===a));if(null==_)return __LOG__(4,void 0,new Error,!0)`[Polls] Unable to find poll option in PollViewAllVotesDrawer`,SEND_LOGS("null-poll-option"),null;const v=(0,r.default)(g.get(_),"optionsToResults.get(option)");return(0,p.jsxs)(s.default,{ref:t,theme:"striped",testid:"poll-details-drawer",children:[(0,p.jsx)(u.DrawerHeader,{title:i.fbt._("Poll Results",null,{hk:"49h1Kj"}),type:u.DRAWER_HEADER_TYPE.SMALL,onBack:o,rtlFixIfOnDarwin:!0}),(0,p.jsx)(l.default,{children:(0,p.jsxs)(d.default,{theme:"padding-poll",children:[(0,p.jsx)(c.PollOptionMetadataRow,{name:_.name,percentage:100*v.percentageOfAll,voteCount:v.votes.length,xstyle:m.optionMetadataRow}),v.votes.map((e=>(0,p.jsx)(f.PollVoterRow,{vote:e,xstyle:m.voterRow},e.id.toString())))]})})]},"poll-details-drawer")}const _=(0,o.forwardRef)(g);t.PollViewAllVotesDrawer=_},49417:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PollOptionMetadataRow=function(e){let{name:t,percentage:n,voteCount:a,xstyle:d}=e;return(0,o.jsxs)("div",{className:(0,i.default)(s,d),children:[(0,o.jsx)("span",{className:(0,i.default)(l),children:t}),(0,o.jsxs)("span",{className:(0,i.default)(u),children:[r.fbt._({"*":"{vote} votes",_1:"1 vote"},[r.fbt._plural(a,"vote")],{hk:"26V0Gq"}),", ",`${Math.round(n)}%`]})]})};var r=n(48360),i=a(n(56720)),o=n(85893);const s={display:"p357zi0d",alignItems:"gndfcl4n"},l={color:"hzhi8rsn",fontWeight:"sy6s5v3r",lineHeight:"erpdyial"},u={marginStart:"isfiuinm",fontSize:"ovllcyds",lineHeight:"r5qsrrlp"}},43319:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PollVoterRow=function(e){let{vote:t,xstyle:n}=e;return(0,s.jsxs)("div",{className:(0,r.default)(l.container,n),children:[(0,s.jsx)(i.DetailImage,{id:t.senderObj.id,size:20}),(0,s.jsx)(o.Name,{contact:t.senderObj,xstyle:l.voter,you:!0})]})};var r=a(n(56720)),i=n(88984),o=n(12176),s=n(85893);const l={container:{display:"p357zi0d",alignItems:"gndfcl4n"},voter:{marginStart:"g9zvcdbd"}}},39828:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacyVisibilityEditDrawer=void 0;var r=a(n(48926)),i=n(92574),o=n(8139),s=n(14597),l=n(68387),u=n(94816),d=n(55452),c=n(48360),f=n(67294),h=a(n(56720)),p=a(n(9275)),m=a(n(60453)),g=a(n(69637)),_=n(94790),v=a(n(33308)),b=a(n(68706)),y=n(39434),C=n(50452),S=a(n(1784)),E=n(85893);const x={description:{marginTop:"c46o30wg",marginEnd:"jnwc1y2a",marginBottom:"du8bjn1j",marginStart:"svoq16ka",fontSize:"f8jlpxt4",color:"eruf1vka",lineHeight:"r5qsrrlp"},visibilityOption:{display:"f804f6gw",paddingTop:"a71rq12o",paddingEnd:"f9ovudaz",paddingBottom:"pcbmd69e",paddingStart:"gx1rr48f",textAlign:"ml4r5409"},visibilityOptionText:{fontSize:"enbbiyaj",lineHeight:"r5qsrrlp",display:"l7jjieqr"},visibilityOptionSpace:{display:"l7jjieqr",width:"m0s4cjtr"}};function T(e,t){let{category:n,onClose:a}=e;const[p,S]=(0,f.useState)((()=>{var e,t,a,r;const i=(0,d.getUserPrivacySettings)();switch(n){case"about":return null!==(e=i.about)&&void 0!==e?e:l.VISIBILITY.all;case"profilePicture":return null!==(t=i.profilePicture)&&void 0!==t?t:l.VISIBILITY.all;case"lastSeen":return null!==(a=i.lastSeen)&&void 0!==a?a:l.VISIBILITY.all;case"groupAdd":return null!==(r=i.groupAdd)&&void 0!==r?r:l.VISIBILITY.all}}));function T(){return A.apply(this,arguments)}function A(){return(A=(0,r.default)((function*(e){if(e===p)return;S(e);const t=(0,y.privacyWebNameToServerName)(n);if("readreceipts"===t)throw new Error("visibility_edit_drawer: category can not be readreceipts");try{switch(e){case l.VISIBILITY.none:if("groupadd"===t)throw new Error("visibility_edit_drawer: groupadd can not be none");return void(yield(0,y.setPrivacyForOneCategory)({name:t,value:"none"}));case l.VISIBILITY.contacts:return void(yield(0,y.setPrivacyForOneCategory)({name:t,value:"contacts"}));case l.VISIBILITY.all:yield(0,y.setPrivacyForOneCategory)({name:t,value:"all"})}}catch(e){S(p);e instanceof i.ServerStatusCodeError&&409===e.statusCode||(__LOG__(3,void 0,void 0,!0)`visibility_edit_drawer: set visiblity option failed ${e.stack}`,SEND_LOGS("visibility_edit_drawer: set visiblity option failed")),u.ToastManager.open((0,E.jsx)(C.Toast,{id:(0,C.genId)(),msg:c.fbt._("Failed to update privacy settings. Please try again.",null,{hk:"h89q3"})}))}}))).apply(this,arguments)}const P=(0,E.jsx)(w,{text:c.fbt._("Everyone",null,{hk:"3oWv8q"}),selected:p===l.VISIBILITY.all,onClick:()=>{T(l.VISIBILITY.all)}}),j=(0,E.jsx)(w,{text:c.fbt._("My contacts",null,{hk:"3jgOvC"}),selected:p===l.VISIBILITY.contacts,onClick:()=>{T(l.VISIBILITY.contacts)}}),I="groupAdd"===n||(0,o.privacyAllowContactsExceptEnabled)()?(0,E.jsx)(w,{text:c.fbt._("My contacts except...",null,{hk:"2tCWPL"}),selected:p===l.VISIBILITY.contact_blacklist,onClick:()=>{s.ModalManager.open((0,E.jsx)(b.default,{category:n,onConfirm:()=>{S(l.VISIBILITY.contact_blacklist)}}))}}):null,O="groupAdd"===n?null:(0,E.jsx)(w,{text:c.fbt._("Nobody",null,{hk:"ghOKj"}),selected:p===l.VISIBILITY.none,onClick:()=>{T(l.VISIBILITY.none)}}),N="groupAdd"===n?(0,E.jsx)("div",{className:(0,h.default)(x.description),children:c.fbt._("Admins who can't add you to a group will have the option of inviting you privately instead.",null,{hk:"2dA7i1"})}):null;return(0,E.jsxs)(m.default,{ref:t,children:[(0,E.jsx)(_.DrawerHeader,{a8n:`drawer-title-${n}`,title:M(n),onBack:a,type:_.DRAWER_HEADER_TYPE.LARGE}),(0,E.jsx)(g.default,{children:(0,E.jsxs)(v.default,{theme:"padding-no-vertical",animation:!1,children:[(0,E.jsx)("div",{className:(0,h.default)(x.description),children:k(n)}),P,j,I,O,N]})})]})}function M(e){switch(e){case"about":return c.fbt._("About",null,{hk:"3PhlvU"});case"profilePicture":return c.fbt._("Profile photo",null,{hk:"rs5RE"});case"lastSeen":return c.fbt._("Last seen",null,{hk:"4GuTlB"});case"groupAdd":return c.fbt._("Groups",null,{hk:"3ajQWI"})}}function k(e){switch(e){case"about":return c.fbt._("Who can see my About",null,{hk:"2MFyDi"});case"profilePicture":return c.fbt._("Who can see my Profile Photo",null,{hk:"4iDmTO"});case"lastSeen":return c.fbt._("If you don't share your Last Seen, you won't be able to see other people's Last Seen",null,{hk:"24m816"});case"groupAdd":return c.fbt._("Who can add me to groups",null,{hk:"3Q0mva"})}}const w=(0,f.forwardRef)((function(e,t){let{text:n,selected:a,onClick:r}=e;return(0,E.jsxs)(S.default,{ref:t,xstyle:x.visibilityOption,onClick:r,children:[(0,E.jsx)(p.default,{checked:a,radio:!0,hover:!1,systemUncheckedColor:!0,onChange:r}),(0,E.jsx)("span",{className:(0,h.default)(x.visibilityOptionSpace)}),(0,E.jsx)("span",{className:(0,h.default)(x.visibilityOptionText),children:n})]})})),A=(0,f.forwardRef)(T);t.PrivacyVisibilityEditDrawer=A},30934:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onReport:t}=e,[n,a]=(0,u.useState)(!0),m=()=>{n?e.isGroupChat?e.onReportExitClear():e.onReportBlockClear():t()};let g,_,v,b;e.isCommunity?(g=l.fbt._("Report this community to WhatsApp?",null,{hk:"1ZNMUR"}),v=l.fbt._("No one in this community will be notified.",null,{hk:"1LJRkR"})):e.isGroupChat?(g=l.fbt._("Report this group to WhatsApp?",null,{hk:"MXJ3v"}),_=l.fbt._("Exit group and clear chat",null,{hk:"2LhHeg"}),b=l.fbt._("No one in this group will be notified.",null,{hk:"RPFkd"}),v=(0,i.isMDBackend)()?(0,o.clearOrDeleteChatSyncEnabled)()?l.fbt._("The last 5 messages in this group will be forwarded to WhatsApp. If you exit the group and clear the chat, messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"3IsXz9"}):l.fbt._("The last 5 messages in this group will be forwarded to WhatsApp. If you exit the group and clear the chat, it will be deleted from this device only.",null,{hk:"Da33A"}):l.fbt._("The last 5 messages in this group will be forwarded to WhatsApp.",null,{hk:"YEm4m"})):e.isBusiness?(g=l.fbt._("Report this business to WhatsApp?",null,{hk:"3x593t"}),_=l.fbt._("Block business and clear chat",null,{hk:"4poOty"}),b=l.fbt._("This business will not be notified.",null,{hk:"2pSufL"}),v=(0,i.isMDBackend)()?(0,o.clearOrDeleteChatSyncEnabled)()?l.fbt._("The last 5 messages from this business will be forwarded to WhatsApp. If you block this business and clear the chat, messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"3uO8yw"}):l.fbt._("The last 5 messages from this business will be forwarded to WhatsApp. If you block this business and clear the chat, it will be deleted from this device only.",null,{hk:"1EOBk0"}):l.fbt._("The last 5 messages from this business will be forwarded to WhatsApp.",null,{hk:"2r0sZN"})):(g=l.fbt._("Report this contact to WhatsApp?",null,{hk:"hp09m"}),_=l.fbt._("Block contact and clear chat",null,{hk:"2HlBBz"}),b=l.fbt._("This contact will not be notified.",null,{hk:"TjRdG"}),v=(0,i.isMDBackend)()?(0,o.clearOrDeleteChatSyncEnabled)()?l.fbt._("The last 5 messages from this contact will be forwarded to WhatsApp. If you block this contact and clear the chat, messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"2D3IuM"}):l.fbt._("The last 5 messages from this contact will be forwarded to WhatsApp. If you block this contact and clear the chat, it will be deleted from this device only.",null,{hk:"21wiIm"}):l.fbt._("The last 5 messages from this user will be forwarded to WhatsApp.",null,{hk:"4Fe5xk"}));const y=(0,p.jsx)("div",{"data-a8n":r.default.key("menu-icon-report-spam"),className:f.default.control,children:(0,p.jsx)(d.CheckBox,{onChange:()=>{a(!n)},checked:n,id:"menu-icon-report-spam"})}),C=(0,p.jsx)("label",{htmlFor:"menu-icon-report-spam",className:f.default.label,children:_}),S=!(null==_);if((0,i.isMDBackend)())return(0,p.jsxs)(c.default,{title:g,onOK:m,okText:l.fbt._("Report",null,{hk:"18ssTb"}),onCancel:e.onCancel,children:[S&&(0,p.jsxs)("div",{className:(0,s.default)(f.default.section,f.default.border),children:[y,C]}),(0,p.jsx)(h.TextParagraph,{className:f.default.mdMetaText,theme:"muted",children:v}),(0,p.jsx)(h.TextParagraph,{className:f.default.mdMetaText,theme:"muted",children:b})]});return(0,p.jsxs)(c.default,{onOK:m,okText:l.fbt._("Report",null,{hk:"18ssTb"}),onCancel:e.onCancel,children:[g,(0,p.jsx)(h.TextDiv,{className:f.default.metaText,theme:"muted",children:v}),(0,p.jsx)(h.TextDiv,{className:f.default.metaText,theme:"muted",children:b}),S&&(0,p.jsxs)("div",{className:f.default.section,children:[y,C]})]})};var r=a(n(99964)),i=n(88555),o=n(8139),s=a(n(94184)),l=n(48360),u=n(67294),d=n(16593),c=a(n(52665)),f=a(n(8863)),h=n(13923),p=n(85893)},16844:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClick:t}=e;return(0,s.jsx)(i.MenuBarItem,{a8nText:"menu-bar-select-all",icon:(0,s.jsx)(o.default,{name:"select-all"}),title:r.fbt._("Select All Toggle",null,{hk:"1SdEZP"}),onClick:t})};var r=n(48360),i=n(46346),o=a(n(23217)),s=n(85893)},56728:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SelectModal=t.ListType=void 0;var r=a(n(45120)),i=a(n(52013)),o=n(14597),s=a(n(78931)),l=n(67294),u=a(n(16223)),d=a(n(121)),c=a(n(35375)),f=a(n(60453)),h=a(n(69637)),p=n(94790),m=n(50101),g=a(n(30855)),_=n(57224),v=a(n(77864)),b=n(97473),y=a(n(91468)),C=a(n(16844)),S=n(18963),E=a(n(32127)),x=a(n(88406)),T=n(85893);const M={CHAT_SELECT_MODAL:"CHAT_SELECT_MODAL",CONTACT_SELECT_MODAL:"CONTACT_SELECT_MODAL",PARTICIPANT_MANAGE_MODAL:"PARTICIPANT_MANAGE_MODAL",PRODUCT_SELECT_MODAL:"PRODUCT_SELECT_MODAL"};t.ListType=M;const k=(0,l.forwardRef)(((e,t)=>{const{listType:n,useShortName:a,singleSelectionFooterType:k,multipleSelectionFooterType:w,onConfirm:A,onSelectionChanged:P,getInitialItems:j,msgType:I,excludeChat:O,excludeBroadcast:N,maxItems:R,hasFrequentlyForwarded:D,hasForwarded:L,useAllContacts:B,maxItemsExceedErrorMsg:F,isDisabled:G,isSelected:U,customSecondaryText:V,filter:W,allowBlockedContacts:H,onDataLoaded:q,getSelectionSummary:Y,shouldShowSelectionSummary:z,activeWithoutSelection:K,enableSelectAll:$,ephemeralIcon:Q,customItemSecondaryText:X,onCancel:J,excludeContacts:Z}=e,ee=(0,l.useRef)(null),te=(0,l.useRef)(null),ne=(0,l.useRef)(null),ae=(0,u.default)((()=>new x.default([],(e=>e.id.toString())))),re=(0,u.default)((()=>new s.default([],(e=>e.id.toString())))),ie=(0,u.default)((()=>new g.default)),[oe,se]=(0,l.useState)("");(0,l.useEffect)((()=>{i.default.focus(te.current)}),[]);const le=!!e.getInitialItems&&0!==e.getInitialItems().length,ue=e=>{e&&(e.preventDefault(),e.stopPropagation())};(0,l.useImperativeHandle)(t,(()=>({handleFocusList:ue,getElement:()=>ee.current})));const de=()=>{r.default.shouldIndicateFocus(),i.default.focus(te.current)},ce=(e,t)=>{var n;if(null===(n=te.current)||void 0===n||n.select(),null!=P){const n=re.current.getSelected();P(e,t,n)}},fe=n===M.PARTICIPANT_MANAGE_MODAL?(0,T.jsx)(c.default,{selections:re.current,useShortName:a,onDelete:(e,t)=>{re.current.setVal(t,!1)},isDisabled:e.isDisabled}):null;return(0,T.jsx)(_.Modal,{ref:ee,type:_.ModalTheme.Tower,children:(0,T.jsxs)(f.default,{testid:"chat-modal",children:[(0,T.jsx)(p.DrawerHeader,{menu:(()=>{if(!0!==$||n!==M.CONTACT_SELECT_MODAL)return!1;const{length:e}=(0,b.calculateContacts)({filter:W,useAllContacts:B});return null==R||e<=R})()?(0,T.jsx)(C.default,{onClick:()=>{var e;(null===(e=ne.current)||void 0===e?void 0:e.selectAll)&&ne.current.selectAll()}}):null,title:e.title,type:p.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>{if(null!=J){const e=re.current.getSelected();J(e)}else o.ModalManager.close()}}),(0,T.jsx)(E.default,{searchRef:e=>{te.current=e},setSearchText:se,onDown:()=>{ae.current.setFirst(!0)},onEnter:()=>{var e;null===(e=ne.current)||void 0===e||e.toggleFirst(!1)},onFocus:()=>{var e;ae.current.unset(),null===(e=te.current)||void 0===e||e.indicateFocus()},enabled:e.enableSearchBox}),e.customHeader,fe,(0,T.jsx)(h.default,{flatListControllers:[ie.current],onScroll:e=>{var t;(null===(t=ne.current)||void 0===t?void 0:t.updateForScrollEvent)&&ne.current.updateForScrollEvent(e)},children:(()=>{switch(n){case M.CHAT_SELECT_MODAL:{const e=re.current;return(0,T.jsx)(v.default,{ref:ne,msgType:I,excludeChat:O,excludeBroadcast:N,getInitialItems:j,searchText:oe,active:ae.current,selections:e,maxChats:R,onLeaveList:de,onSelectionChanged:ce,hasFrequentlyForwarded:D,hasForwarded:L,flatListController:ie.current,isDisabled:G,ephemeralIcon:Q,customItemSecondaryText:X,onChatsLoaded:q,excludeContacts:Z})}case M.PARTICIPANT_MANAGE_MODAL:case M.CONTACT_SELECT_MODAL:{const e=re.current;return(0,T.jsx)(b.MultiSelectContactList,{ref:ne,useAllContacts:B,getInitialItems:j,searchText:oe,active:ae.current,selections:e,maxContacts:R,maxContactsExceedErrorMsg:F,onLeaveList:de,onSelectionChanged:ce,isDisabled:G,isSelected:U,customSecondaryText:V,filter:W,allowBlockedContacts:H,flatListController:ie.current})}case M.PRODUCT_SELECT_MODAL:{const e=re.current;return(0,T.jsx)(y.default,{ref:ne,flatListController:ie.current,active:ae.current,selections:e,onSelectionChanged:ce,onProductsLoaded:q})}default:throw new Error(`Invalid list type: ${n}`)}})()}),(0,T.jsx)(S.SelectModalFooter,{singleSelectionType:k,multipleSelectionType:w,selections:re.current,onForward:()=>{const e=re.current.getSelected();n===M.CONTACT_SELECT_MODAL||n===M.PARTICIPANT_MANAGE_MODAL||n===M.PRODUCT_SELECT_MODAL?A(e):Promise.all(e.map((e=>e instanceof d.default?(0,m.findChat)(e.id):e))).then((e=>{A(e)}))},startActive:le,getSelectionSummary:Y,shouldShowSelectionSummary:z,activeWithoutSelection:K})]},"chat-modal")})}));t.SelectModal=k,k.displayName="SelectModal"},18963:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.FooterType=void 0,t.SelectModalFooter=y;var r=a(n(35161)),i=a(n(25325)),o=a(n(91966)),s=a(n(40436)),l=a(n(94184)),u=n(67294),d=n(87550),c=n(63183),f=n(65417),h=a(n(14296)),p=n(9468),m=n(82857),g=a(n(28708)),_=a(n(23217)),v=n(85893);const b={CONFIRM:"CONFIRM",NEXT:"NEXT",SEND:"SEND",VOICE_CALL:"VOICE_CALL",VIDEO_CALL:"VIDEO_CALL"};function y(e){const{getSelectionSummary:t,shouldShowSelectionSummary:n,selections:a,activeWithoutSelection:r,onForward:i,startActive:o}=e,c=(0,u.useRef)(!0===r||!0===o),f=(0,u.useRef)(!0),[h,p]=(0,u.useState)([]);(0,d.useListener)(a,"all",(()=>{p(a.getSelected())})),(0,u.useEffect)((()=>{const e=a.getSelected();p(e)}),[]);const y=()=>{f.current&&(f.current=!1,i())},S=(0,u.useMemo)((()=>!0===r||h.length>0),[r,h]);let E;if((0,u.useEffect)((()=>{S||(c.current=!1)}),[S]),S){let a;switch(1===h.length?e.singleSelectionType:e.multipleSelectionType){case b.CONFIRM:a=(0,v.jsx)(_.default,{name:"checkmark-medium"});break;case b.NEXT:a=(0,v.jsx)(_.default,{name:"arrow-forward"});break;case b.VOICE_CALL:a=(0,v.jsx)(_.default,{name:"voice-call"});break;case b.VIDEO_CALL:a=(0,v.jsx)(_.default,{name:"video-call"});break;case b.SEND:default:a=(0,v.jsx)(_.default,{directional:!0,name:"send"})}const r=n?(0,v.jsx)(C,{items:h,getSelectionSummary:t}):null;E=(0,v.jsxs)("div",{className:(0,l.default)(g.default.controlsSummary,{[g.default.noSummary]:!n}),children:[r,(0,v.jsx)("div",{"data-animate-btn":!0,className:c.current?g.default.btnActive:g.default.btnAction,children:(0,v.jsx)(m.Round,{large:!0,onClick:y,children:a})})]})}return(0,v.jsx)(s.default,{transitionName:"slide-up-down-footer",className:g.default.container,children:E})}t.FooterType=b,y.defaultProps={singleSelectionType:b.SEND,multipleSelectionType:b.SEND,shouldShowSelectionSummary:!0};class C extends u.Component{constructor(e){super(e),this.state={items:this.props.items}}static getDerivedStateFromProps(e,t){let n=t.items;const a=e.items;return n=a&&a.length>n.length?n.concat((0,o.default)(a,n)):(0,i.default)(n,a),{items:n}}render(){const e=(0,r.default)(this.state.items,(e=>e instanceof c.Chat?e.formattedTitle:e instanceof p.Product?e.name:e.formattedShortNameWithNonBreakingSpaces)),t=[];for(let n=e.length-1;n>=0;n--)t.push((0,v.jsx)(f.EmojiText,{className:g.default.item,text:e[n]},n)),n>0&&t.push((0,v.jsx)("span",{children:h.default.t(257)},`comma-${n}`));const{getSelectionSummary:n}=this.props,a=null==n?t:(0,v.jsx)("span",{children:n(this.state.items)});return(0,v.jsx)(s.default,{transitionName:"pop",className:g.default.summaryText,children:a})}}C.displayName="SelectionSummary"},32127:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{enabled:t=!0,setSearchText:n,searchRef:a,onEnter:u}=e,d=(0,r.default)((e=>{n(e)}),100);return t?(0,l.jsx)(i.HotKeys,{handlers:{down:e.onDown},onFocus:e.onFocus,children:(0,l.jsx)(s.default,{ref:a,onSearch:d,onEnter:u,placeholder:o.default.t(569)})}):null};var r=a(n(51799)),i=n(29424),o=a(n(14296)),s=a(n(48837)),l=n(85893)},74943:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{onCancel:n,supportTag:a,onSend:v}=e,[S,E]=(0,f.useState)(""),[x,T]=(0,f.useState)(void 0),[M,k]=(0,f.useState)(""),[j,I]=(0,f.useState)(void 0),[O,N]=(0,f.useState)(function(){if(m.Conn.isSMB)return c.fbt._("Question about WhatsApp Business for Web",null,{hk:"zJ0HI"});return c.fbt._("Question about WhatsApp for Web",null,{hk:"131jg2"})}().toString()),[R,D]=(0,f.useState)(void 0),[L,B]=(0,f.useState)(null!==(t=e.description)&&void 0!==t?t:""),[F,G]=(0,f.useState)(void 0),[U,V]=(0,f.useState)([]),[W,H]=(0,f.useState)(!1),q=(0,f.useRef)(null),Y=(0,f.useRef)(null);(0,f.useEffect)((()=>{var e;return null===(e=q.current)||void 0===e||e.restoreFocus(),()=>{U.map((e=>{let{url:t}=e;return t&&URL.revokeObjectURL(t)}))}}),[]);const z=e=>e.length>10,K=e=>s.validateEmail(e),$=e=>S===e,Q=()=>U.length>=3,X=e=>{e.stopPropagation()},J=e=>{e.preventDefault(),e.stopPropagation(),Q()||(0,o.getFiles)(e,"image/*").then((e=>{Y.current&&(Y.current.value="");const t=e.filter((e=>e.size<=10485760));t.length<e.length&&u.ToastManager.open((0,C.jsx)(y.Toast,{msg:c.fbt._("Please upload images 10 MB or smaller",null,{hk:"18OENQ"}),id:(0,y.genId)()}));const n=U.concat(t).slice(0,3);n.map((e=>{e.url||(e.url=URL.createObjectURL(e))})),V(n)}))},Z=(0,C.jsxs)("div",{children:[(0,C.jsx)(A,{screenshots:U,onDeleteScreenshot:e=>{const t=U.slice(),[n]=t.splice(e,1);n.url&&URL.revokeObjectURL(n.url),V(t)}}),(0,C.jsx)(P,{reachedMaxScreenshots:Q(),isDragging:W,onAttachClick:()=>{var e;Q()||(null===(e=Y.current)||void 0===e||e.click())}}),(0,C.jsx)("input",{className:(0,h.default)(w),accept:"image/*",type:"file",multiple:!0,onClick:X,onChange:J,ref:Y,disabled:Q()})]});return(0,C.jsx)(p.default,{title:_.default.t(599),okText:_.default.t(590),onOK:()=>{let e=0;const t=S.trim(),n=M.trim();if(E(t),k(n),K(t)||(T(_.default.t(594)),e+=1),$(n)||(I(_.default.t(595)),e+=1),z(L)||(G(_.default.t(601)),e+=1),0===e){T(void 0),I(void 0),D(void 0),G(void 0),U.map((e=>{e.url&&(URL.revokeObjectURL(e.url),delete e.url)}));const e=(0,d.getMaybeMeUser)(),n=e?(0,r.formatPhone)(e.user):null,o=O.trim()||_.default.t(591);(0,i.uploadUserReport)(n,t,o,L,U,a),v&&v({subject:o,description:L,numScreenshots:U.length}),l.ModalManager.close(),u.ToastManager.open((0,C.jsx)(y.Toast,{msg:_.default.t(597),id:(0,y.genId)()}))}},onCancel:()=>{n&&n(),l.ModalManager.close()},onDrop:J,onDragChange:e=>{H(e)},children:(0,C.jsxs)(g.HotKeys,{handlers:{enter:X},children:[(0,C.jsx)(b.TextInput,{ref:q,value:S,error:x,maxLength:320,onChange:e=>{K(e)&&T(void 0),E(e)},onBlur:()=>{const e=S.trim();S&&!K(e)&&T(_.default.t(594)),E(e)},placeholder:_.default.t(592)}),(0,C.jsx)(b.TextInput,{editable:!0,value:M,error:j,maxLength:320,onChange:e=>{k(e),$(e)&&I(void 0)},onBlur:()=>{const e=M.trim();M&&!$(e)&&I(_.default.t(595)),k(e)},placeholder:_.default.t(593)}),(0,C.jsx)(b.TextInput,{value:O,error:R,maxLength:50,onChange:e=>{N(e),D(void 0)},onBlur:()=>{0},placeholder:_.default.t(596)}),(0,C.jsx)(b.TextInput,{value:L,error:F,maxLength:500,onChange:e=>{B(e),z(e)&&G(void 0)},onBlur:()=>{L&&!z(L)&&G(_.default.t(601))},placeholder:_.default.t(229),multiline:!0}),Z]})})};var r=n(40277),i=n(86374),o=n(72312),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(95726)),l=n(14597),u=n(94816),d=n(78820),c=n(48360),f=n(67294),h=a(n(56720)),p=a(n(52665)),m=n(17239),g=n(29424),_=a(n(14296)),v=a(n(23217)),b=n(90011),y=n(50452),C=n(85893);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const E={color:"aoclmdzt",cursor:"bx7g2weo"},x={boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ilf8vifs",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginTop:"fgtikrv0",fontSize:"dsh4tgtl",color:"o2v2jkg7",textAlign:"qfejxiq4",textTransform:"ofejerhi",cursor:"ajgl1lbb",backgroundColor:"losjomng"},T={display:"p357zi0d",paddingTop:"eujn52yf",paddingEnd:"jfqm35v0",paddingBottom:"ckm995li",paddingStart:"bdbt56hn",backgroundColor:"qqs366u4"},M={position:"g0rxnol2",float:"kpdgp91a",width:"b6vz4lkg",height:"kgc6pkg6",marginTop:"qt60bha0",marginEnd:"mw4yctpw",marginBottom:"inww9tbj",marginStart:"qnz2jpws",backgroundPositionX:"kc4t2p4u",backgroundPositionY:"c8nijwnu",backgroundSize:"qnwaluaf",boxShadow:"d1nvxjvo"},k={position:"lhggkp7q",top:"hd6b059k",end:"e6ezto3k",color:"k17s6i4e"},w={display:"qibyn6m3"};function A(e){let{screenshots:t,onDeleteScreenshot:n}=e;const a=t.map(((e,t)=>{if(null==e.url)return null;const a=`url(${e.url})`,r=`${e.url}-${t}`;return(0,C.jsx)("div",{className:(0,h.default)(M),style:{backgroundImage:a},children:(0,C.jsx)("button",{className:(0,h.default)(k),onClick:()=>{n(t)},children:(0,C.jsx)(v.default,{name:"x-alt"})})},r)})).filter(Boolean);return 0!==a.length?(0,C.jsx)("div",{className:(0,h.default)(T),children:a}):null}function P(e){let{reachedMaxScreenshots:t,isDragging:n,onAttachClick:a}=e;if(t){const e=3;return(0,C.jsx)("div",{className:(0,h.default)(x,E),children:_.default.t(600,{count:e,_plural:e})})}return n?(0,C.jsx)("div",{className:(0,h.default)(x),children:c.fbt._("Release to add...",null,{hk:"TzQ08"})}):(0,C.jsx)("div",{className:(0,h.default)(x),onClick:a,children:c.fbt._("Add Screenshots",null,{hk:"2kJYoR"})})}},95200:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{text:t,isExpandedCaptionText:n,onExpandCaptionText:a}=e;const p=t.length>120&&!n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.EmojiText,{formatters:s.Configuration.StatusV3Caption(),text:Array.from(t).slice(0,119).join("")}),l.default.t(549),(0,d.jsxs)("strong",{children:[" ",r.fbt._("Read more",null,{hk:"2DvSvh"})]})]}):(0,d.jsx)(o.EmojiText,{formatters:s.Configuration.StatusV3Caption(),text:t});return(0,d.jsx)("div",{className:(0,i.default)(c),children:(0,d.jsx)("div",{className:(0,i.default)(h),children:(0,d.jsx)(u.default,{onClick:a,children:(0,d.jsxs)("div",{className:(0,i.default)(f),children:[" ",p," "]})})})})};var r=n(48360),i=a(n(56720)),o=n(65417),s=n(30695),l=a(n(14296)),u=a(n(1784)),d=n(85893);const c={position:"g0rxnol2",width:"ln8gz9je",height:"ppled2lx"},f={paddingTop:"tvsr5v2h",paddingEnd:"clw8hvz5",paddingBottom:"ja2dfh8z",paddingStart:"p2tfx3a3",hyphens:"ndq9n57b",wordBreak:"cw3vfol9"},h={position:"lhggkp7q",width:"ln8gz9je",bottom:"jxacihee",zIndex:"px10qoeu",marginEnd:"k1jo73ug",marginStart:"isfiuinm",color:"lxozqee9",textAlign:"qfejxiq4",backgroundColor:"tp4bj0rl",cursor:"ajgl1lbb",fontSize:"cqiun4t2",lineHeight:"q6wg26sa"}},71607:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(89385),i=n(50796),o=n(94816),s=a(n(40436)),l=n(48360),u=n(67294),d=a(n(56720)),c=a(n(3409)),f=n(56512),h=a(n(96563)),p=n(18609),m=a(n(13699)),g=n(50101),_=n(29424),v=a(n(14296)),b=a(n(11339)),y=n(24264),C=a(n(35072)),S=a(n(8694)),E=n(85330),x=n(5524),T=a(n(58506)),M=a(n(27315)),k=a(n(23217)),w=n(50452),A=n(18644),P=a(n(24717)),j=n(85893);const I={container:{position:"lhggkp7q",right:"grt5ktjy",bottom:"f7v6by6u",left:"tukmaf4q",zIndex:"nbczt5ty",width:"b1qcobdr",maxWidth:"ckq3dtew",marginRight:"oc1ubkv0",marginLeft:"jzfo78pl",paddingBottom:"aiput80m"},popupPanel:{right:"grt5ktjy",bottom:"jxacihee",left:"tukmaf4q",zIndex:"thghmljt",paddingRight:"pppsat04",paddingBottom:"przvwfww",marginRight:"oc1ubkv0",marginLeft:"jzfo78pl",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",willChange:"d6finlhe",width:"t9hu7tsx",maxWidth:"ckq3dtew",paddingTop:"emrlamx0"},wrapper:{zIndex:"nbczt5ty",display:"p357zi0d",flexDirection:"sap93d0t",paddingRight:"fyqm2y5z",paddingLeft:"tw6b5hi5",paddingTop:"emrlamx0"},iconButton:{display:"l7jjieqr",alignSelf:"rwlvdxyg",marginTop:"opp68qpq",marginBottom:"rkip0xea",marginStart:"lhp4ctto",marginEnd:"ntr8esoy"},iconButtonColourFocused:{color:"svlsagor"},iconButtonColourOutOfFocus:{color:"lxozqee9"},square26Svg:{width:"ekdr8vow",height:"dhq51u3o"},lineWrapper:{position:"g0rxnol2",top:"qq0sjtgm",left:"tukmaf4q",display:"l7jjieqr",width:"crlpoz9d"},inputContainer:{boxSizing:"cm280p3y",width:"ln8gz9je",minHeight:"gc15jzxb",paddingTop:"eujn52yf",paddingEnd:"l9g3jx6n",paddingBottom:"ckm995li",paddingStart:"lyvj5e2u",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},containerInFocus:{backgroundColor:"rv6u8h8g",borderTopStartRadius:"llnowng2",borderTopEndRadius:"ap6veyk2",borderBottomEndRadius:"dc5qina8",borderBottomStartRadius:"kfr1vweg",transition:"iw1tz1w0",paddingBottom:"aiput80m"},containerInFocusStatusQuickReplies:{borderTopStartRadius:"g130k69c",borderTopEndRadius:"k1a7joe8",borderBottomEndRadius:"dc5qina8",borderBottomStartRadius:"kfr1vweg"},inputInFocus:{backgroundColor:"f6cvynhn",borderTopColor:"rsltai19",borderEndColor:"boshimb4",borderBottomColor:"lw07f11l",borderStartColor:"jy0rc3ak",borderTopStyle:"d1poss59",borderEndStyle:"gyj32ejw",borderBottomStyle:"cmcp1to6",borderStartStyle:"eg0col54",borderTopWidth:"gofg5ll1",borderEndWidth:"p7waza29",borderBottomWidth:"oteuebma",borderStartWidth:"mzoqfcbu"},inputOutOfFocus:{backgroundColor:"kx1rlajt"},panelButtons:{paddingEnd:"mgssq8h7"}};function O(e,t){const{isStatusQuickRepliesEnabled:n,onFocusChange:a}=e,[O,N]=(0,u.useState)(!1),[R,D]=(0,u.useState)(void 0),[L,B]=(0,u.useState)(void 0),[F,G]=(0,u.useState)(null),[U,V]=(0,u.useState)(300),W=(0,u.useRef)(!1),H=(0,u.useRef)(null),q=(0,u.useRef)(null),Y=(0,u.useRef)(null),z=(0,u.createRef)(),K=(0,c.default)();(0,u.useEffect)((()=>{(0,g.findChat)(e.msg.sender).then((e=>{K.aborted||B(e)}))}),[]);const $=((e,t,n)=>Boolean(e)||t||Boolean(n))(R,O,F);(0,u.useEffect)((()=>{$?e.pause():e.play()}),[$]);const Q=()=>$,X=()=>{var e;null===(e=q.current)||void 0===e||e.focus()},J=()=>{G(null),X()},Z=()=>{D(void 0),G(null)},ee=()=>L?Promise.resolve(L):(0,g.findChat)(e.msg.sender),te=()=>{var t;Z(),null===(t=q.current)||void 0===t||t.reset(),e.dismissReply()},ne=(t,n)=>{e.statusReplyMetric.statusReplyMessageType=n;const a=(0,w.genId)();t.then((()=>{e.statusReplyMetric.statusReplyResult=b.default.STATUS_REPLY_RESULT.OK,e.onSend()})).catch((0,r.catchAbort)((()=>{}))).catch((0,i.filteredCatch)(h.default,(()=>{L&&(o.ToastManager.open((0,j.jsx)(w.Toast,{msg:v.default.t(698,{contact:L.contact.formattedName}),id:a})),e.statusReplyMetric.statusReplyResult=b.default.STATUS_REPLY_RESULT.ERROR_UNKNOWN)}))),n!==b.default.STATUS_REPLY_MESSAGE_TYPE.QUICK_REPLY&&(o.ToastManager.open((0,j.jsx)(w.Toast,{msg:l.fbt._("Sending reply…",null,{hk:"WYxWt"}),id:a})),te())},ae=t=>{if(t.stopPropagation(),t.preventDefault(),!q.current)return;const n=q.current.getValue().trim();n.length&&ee().then((t=>{const a=(0,x.sendTextMsgToChat)(t,(0,m.default)(n),{quotedMsg:e.msg});ne(a,b.default.STATUS_REPLY_MESSAGE_TYPE.TEXT)}))},re=e=>{N(e),a(e)},ie=()=>O,oe=()=>{re(!1),Z()},se=()=>{var e;null===(e=Y.current)||void 0===e||e.restoreFocus()},le=e=>{null==e?J():(G(e),re(!0))};(0,u.useImperativeHandle)(t,(()=>({isFocused:ie,isPaused:Q,restoreFocus:X,blur:oe})));const ue=ie()||null!=F;(0,u.useEffect)((()=>{var e;null===(e=q.current)||void 0===e||e.setTheme(ue?"rich-status-reply":"status-reply")}),[ue]);const de=null!=U&&null!=F?(0,j.jsx)(S.default,{onResize:e=>{V(e.width)},children:(0,j.jsx)(f.ComposeBoxPanelsLoadable,{displayCache:H.current,width:U,onDisplayCache:e=>{H.current=e},onEmoji:e=>{const t=q.current;t&&t.replaceSelection(e)},onFocusRelease:()=>{},onGif:()=>{},onPanelChange:le,onSticker:(t,n)=>{t.isCreateButton||ee().then((a=>{const r=(0,E.sendStickerToChat)(a,t,{stickerSendOrigin:n,quotedMsg:e.msg});ne(r,b.default.STATUS_REPLY_MESSAGE_TYPE.STICKER)}))},requestDismiss:J,forwardedRef:e=>{z.current=e},selectedPanelId:F,theme:y.PanelsTheme.StatusReplyComposeBox})}):null,ce=R?(0,j.jsx)(A.UIE,{displayName:"EmojiPicker",escapable:!0,dismissOnWindowResize:!0,requestFocus:se,children:(0,j.jsx)("div",{children:(0,j.jsx)(A.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:()=>{D(void 0),X()},requestFocus:se,children:(0,j.jsx)(P.default,{contextMenu:R})})})}):null,fe=n&&O&&null==F?(0,j.jsx)(A.UIE,{displayName:"StatusV3QuickReply",escapable:!0,requestDismiss:e.dismissReply,children:(0,j.jsx)("div",{className:(0,d.default)(I.popupPanel),children:(0,j.jsx)(T.default,{onClick:(t,n)=>{t.stopPropagation(),ee().then((t=>{const a=(0,x.sendTextMsgToChat)(t,(0,m.default)(n),{quotedMsg:e.msg});ne(a,b.default.STATUS_REPLY_MESSAGE_TYPE.QUICK_REPLY)}))},onClickAnimateEnd:()=>{const e=(0,w.genId)();o.ToastManager.open((0,j.jsx)(w.Toast,{msg:l.fbt._("Reply sent",null,{hk:"3NwgLp"}),id:e})),te()}})})}):null,he=L&&!n&&(ue||O&&!R)?(0,j.jsx)(A.UIE,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:e.dismissReply,children:(0,j.jsx)("div",{className:(0,d.default)(I.popupPanel),children:(0,j.jsx)(C.default,{msg:e.msg.safe(),theme:"statusV3",chat:L},e.msg.id.toString())})}):null,pe=(0,j.jsx)("div",{className:(0,d.default)(I.panelButtons),children:(0,j.jsx)(y.ComposeBoxPanelsMenu,{selectedPanelId:F,onChange:le,theme:y.PanelsTheme.StatusReplyComposeBox,buttonStyle:[ue?I.iconButtonColourFocused:I.iconButtonColourOutOfFocus]})});return(0,j.jsxs)("div",{className:(0,d.default)(I.container),children:[(0,j.jsx)(s.default,{transitionName:"status-v3-quick-reply",transitionAppear:!0,children:fe}),(0,j.jsxs)("div",{className:(0,d.default)([ue&&I.containerInFocus,n&&I.containerInFocusStatusQuickReplies]),children:[(0,j.jsx)(s.default,{transitionName:"status-v3-panel",transitionAppear:!0,children:de}),(0,j.jsx)(s.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0,children:he}),(0,j.jsxs)("div",{className:(0,d.default)(I.wrapper),children:[pe,(0,j.jsxs)("div",{className:(0,d.default)(I.lineWrapper),children:[(0,j.jsx)(M.default.EmojiSuggestions,{theme:p.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:e=>{W.current=e}}),(0,j.jsx)(_.HotKeys,{className:(0,d.default)(I.inputContainer,ue?I.inputInFocus:I.inputOutOfFocus),onClick:X,children:(0,j.jsx)(M.default,{ref:q,theme:"status-reply",spellCheck:!0,onFocus:()=>{re(!0)},onBlur:()=>{W.current||(document.activeElement,document.body)},onEnter:ae,placeholder:l.fbt._("Type a reply…",null,{hk:"3bHadc"}),multiline:!0})})]}),(0,j.jsx)("button",{className:(0,d.default)(I.iconButton,ue?I.iconButtonColourFocused:I.iconButtonColourOutOfFocus),onClick:ae,children:(0,j.jsx)(k.default,{name:"send",directional:!0,iconXstyle:I.square26Svg})}),ce]})]})]})}var N=(0,u.forwardRef)(O);t.default=N},89660:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Img=function(e){const{msg:t,onMouseDown:n,onMouseUp:a,play:r,markRead:s,statusV3:l,pause:f}=e,h=(0,o.useModelValues)(e.mediaData,["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio","fullPreviewData"]);return(0,i.useEffect)((()=>(h.mediaStage!==u.MEDIA_DATA_STAGE.RESOLVED&&t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:c.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0}),()=>{f()})),[]),(0,i.useEffect)((()=>{r(),h.mediaStage===u.MEDIA_DATA_STAGE.RESOLVED&&s(l,t)}),[s,h.mediaStage,t,r,l]),(0,g.jsx)(d.default,{mediaData:h,placeholderRenderer:()=>(0,g.jsx)(v,{mediaData:h,onMouseDown:n,onMouseUp:a}),downloadMedia:()=>t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:c.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0}),renderProgressively:!0,children:e=>(0,g.jsx)(_,{src:e,msg:t,mediaData:h,onMouseUp:a,onMouseDown:n})})};var r=a(n(94184)),i=n(67294),o=n(35461),s=a(n(62190)),l=a(n(47065)),u=n(58668),d=a(n(20553)),c=a(n(11339)),f=a(n(11791)),h=a(n(34949)),p=a(n(31778)),m=a(n(80568)),g=n(85893);function _(e){var t;let{src:n,msg:a,mediaData:i,onMouseDown:o,onMouseUp:u}=e;const d=(0,r.default)(m.default.playerContent,m.default.v3Image);return(0,g.jsx)("div",{className:d,onMouseDown:o,onMouseUp:u,onDragEnd:u,children:(0,g.jsx)(f.default,{type:"contain",size:{width:i.fullWidth,height:i.fullHeight},children:(0,g.jsxs)("div",{className:m.default.mediaViewer,children:[(0,g.jsx)(l.default,{src:n,disableContextMenu:!0}),a.interactiveAnnotations&&a.interactiveAnnotations.length>0&&(0,g.jsx)(s.default,{annotations:a.interactiveAnnotations,onTooltipDisplay:o,onTooltipDismiss:u}),(null===(t=a.actionLink)||void 0===t?void 0:t.buttonTitle)&&a.actionLink.url&&(0,g.jsx)("div",{className:m.default.actionLink,children:(0,g.jsx)(p.default,{text:a.actionLink.buttonTitle,url:a.actionLink.url})}),null]})})})}function v(e){var t;let{mediaData:n,onMouseDown:a,onMouseUp:i}=e;const o=(0,r.default)(m.default.playerContent,m.default.v3Image,m.default.loading);return(0,g.jsx)("div",{className:o,onMouseDown:a,onMouseUp:i,children:(0,g.jsx)(f.default,{type:"contain",size:{width:n.aspectRatio,height:1},children:(0,g.jsx)(l.default,{src:null!==(t=b(n))&&void 0!==t?t:""})})})}function b(e){return e?e.fullPreviewData?e.fullPreviewData.url():e.preview instanceof h.default?e.preview.url():null:null}},15452:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3LinkPreview=function(e){let{msg:t,length:n}=e;const a=n<100,f=(0,u.displayHighQualityLinkPreview)(t.unsafe()),[h,p]=(0,i.useState)(!1),m=(0,s.default)(),{thumbnail:g}=t;return(0,i.useEffect)((()=>{if(f&&a||!g)return;const e=new Image;e.onload=()=>{if(m.aborted)return;const t=e.width>400&&e.width/e.height>=u.STATUS_IMAGE_RATIO_THRESHOLD;p(t)},e.src=`data:image/jpeg;base64,${g}`}),[g,f,a]),(0,d.jsx)("div",{className:(0,o.default)(c.link_preview,n<=240&&c.small_link_preview),children:(0,d.jsx)(l.default,{msg:t,theme:a&&(f||h)?"high-quality":void 0,displayType:r.DISPLAY_TYPE.STATUS})})};var r=n(5177),i=n(67294),o=a(n(56720)),s=a(n(3409)),l=a(n(36588)),u=n(32554),d=n(85893);const c={link_preview:{pointerEvents:"jv8uhy2r",width:"ln8gz9je",marginBottom:"iyjcf3gk",textAlign:"rk2490ta"},small_link_preview:{maxWidth:"c6qoq7mr"}}},87998:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Player=function(e){const{msg:t,mediaData:n,statusV3:a,msgIdx:i,sessionId:h,rowIdx:m,onNext:_,markRead:C,closeStatusViewer:T}=e,D=(0,x.default)(),L=(0,b.default)((()=>(0,V.setupStatusV3Controller)(n,t))),B=(0,g.useRef)(!0),Q=(0,b.default)((()=>new I.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}))),ee=(0,b.default)((()=>new I.default.StatusReply({statusReplyResult:I.default.STATUS_REPLY_RESULT.CANCELLED}))),oe=(0,g.useRef)(null),se=(0,g.useRef)(null),le=(0,g.useRef)(null),ue=(0,g.useRef)(null),de=(0,g.useRef)(null),ce=(0,g.useRef)(null),fe=(0,g.useRef)(null),[he,pe]=(0,g.useState)(!1),[me,ge]=(0,g.useState)(!1),[_e,ve]=(0,g.useState)(!1),[be,ye]=(0,g.useState)(!1),[Ce,Se]=(0,g.useState)(!1),[Ee,xe]=(0,g.useState)(!1),[Te,Me]=(0,g.useState)(null),[ke,we]=(0,g.useState)(!1),Ae=(0,d.areStatusQuickRepliesEnabled)(),Pe=()=>{const e=ce.current,t=ue.current;if(!e||!t)return;const n=e.getBoundingClientRect(),a=t.getBoundingClientRect();!A.default.isRTL()&&n.right>a.left-5||A.default.isRTL()&&n.left<a.right+5?pe(!0):pe(!1)},je=(0,v.default)(Pe),Ie=(0,E.default)((e=>{if(n&&n.mediaStage!==j.MEDIA_DATA_STAGE.RESOLVED)return;const t=oe.current;null!=t&&(Q.current.webcStatusViewT+=Math.round(window.performance.now()-t),oe.current=void 0),L.current.pause(),se.current=e})),Oe=(0,E.default)((()=>{var e;if(n){if(n.mediaStage!==j.MEDIA_DATA_STAGE.RESOLVED)return;Q.current.webcStatusLoadT||(Q.current.markWebcStatusLoadT(),Q.current.webcStatusLoaded=!0)}(null===(e=le.current)||void 0===e?void 0:e.isPaused())||B.current&&(oe.current=window.performance.now(),L.current.resume())})),Ne=()=>{var e;const t=fe.current;t&&u.default.focus(t),null===(e=le.current)||void 0===e||e.blur(),we(!1)},Re=e=>{var t,n;(e&&(e.stopPropagation(),e.preventDefault()),a.contact.isMe)||((null===(t=le.current)||void 0===t?void 0:t.isFocused())?Ne():null===(n=le.current)||void 0===n||n.restoreFocus())},De=()=>{c.ModalManager.close(),Oe(),ge(!1)},Le=()=>{xe(!Ee)},Be=(0,E.default)((()=>{Ie(Z.MOUSEDOWN)})),Fe=(0,E.default)((()=>{Oe()})),Ge=()=>{Q.current.webcStatusReplyCount++,J(a.contact,"statusReplies")},Ue=e=>{var t,n;(e&&(e.stopPropagation(),e.preventDefault()),null===(t=le.current)||void 0===t?void 0:t.isFocused())&&(null===(n=le.current)||void 0===n||n.restoreFocus())},Ve=e=>{Ae&&we(e)};(0,g.useLayoutEffect)((()=>{var e;if(null!=h){let e;a.contact.isMe?(e=I.default.WEBC_STATUS_ROW_SECTION.MY,O.MsgInfoCollection.find(t.id).then((e=>{D.aborted||Me(e.read)})).catch((0,r.filteredCatch)(o.EphemeralDrop,(()=>{})))):e=a.contact.statusMute?I.default.WEBC_STATUS_ROW_SECTION.MUTED:a.hasUnread?I.default.WEBC_STATUS_ROW_SECTION.RECENT:I.default.WEBC_STATUS_ROW_SECTION.VIEWED;const s=a.msgs.length-1-i<a.unreadCount;let l;n?l=n.isGif?I.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===n.type?I.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:I.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(l=t.getLinks().length?I.default.WEBC_STATUS_MEDIA_TYPE.URL:I.default.WEBC_STATUS_MEDIA_TYPE.TEXT,Q.current.markWebcStatusLoadT(),Q.current.webcStatusLoaded=!0),Q.current.webcStatusSessionId=h,Q.current.webcStatusRowSection=e,Q.current.webcStatusRowIndex=m||0,Q.current.webcStatusMediaType=l,Q.current.webcStatusUnread=s,ee.current.statusSessionId=h,(0,d.smbStatusLoggingEnabled)()&&(Q.current.webcIsPosterBiz=a.contact.isBusiness,ee.current.isPosterBiz=a.contact.isBusiness,Q.current.webcIsPostersAddressBook=a.contact.isMyContact,ee.current.isPosterInAddressBook=a.contact.isMyContact)}null===(e=L.current)||void 0===e||e.addListeners(((e,t)=>{const n=de.current;null==n||n.handleStart(e,t),ve(!1),se.current=null}),(()=>{const e=de.current;null==e||e.handlePause(),ve(!0)}),(()=>{const e=de.current;null==e||e.handleEnded().then((()=>{D.aborted||_()}))}),((e,t)=>{ye(t),Se(e)})),n?(Oe(),(null==n?void 0:n.mediaStage)===j.MEDIA_DATA_STAGE.RESOLVED&&C(a,t)):(t.type,f.MSG_TYPE.CHAT,Oe(),C(a,t));const s=fe.current;null==s||s.focus(),Pe()}),[]),(0,S.default)((()=>{if(L.current.removeListeners(),null!=h){const e=Math.round(L.current.duration||0);Q.current.webcStatusPlaybackT=e;const t=oe.current;null!=t&&(Q.current.webcStatusViewT+=Math.round(window.performance.now()-t),oe.current=void 0),Q.current.commit(),ee.current.commit()}J(a.contact,"statusViews")}));const We=(0,E.default)(C);let He,qe;if((0,y.useListener)(window,"focus",(()=>{B.current=!0,me||se.current!==Z.WINDOW_BLUR||Oe()})),(0,y.useListener)(window,"blur",(()=>{B.current=!1,_e||Ie(Z.WINDOW_BLUR)})),(0,y.useListener)(window,"resize",je),(0,y.useListener)(l.Cmd,"open_long_link_modal",(()=>{_e||Ie(Z.LINK_MODAL_OPEN)})),(0,y.useListener)(l.Cmd,"close_long_link_modal",(e=>{!0===e&&se.current===Z.LINK_MODAL_OPEN&&Oe()})),n){const e=ie(n);e&&(He={backgroundImage:`url(${e})`})}else if(t.type===f.MSG_TYPE.CHAT){const e=t.statusV3TextBg;He={backgroundColor:e}}if(n)switch(n.type){case P.default.TYPE.IMAGE:qe=(0,X.jsx)(U.StatusV3Img,{msg:t,statusV3:a,mediaData:n,markRead:We,play:Oe,pause:Ie,onMouseDown:Be,onMouseUp:Fe});break;case P.default.TYPE.VIDEO:qe=(0,X.jsx)(te,{msg:t,statusV3:a,mediaData:n,markRead:We,play:Oe,pause:Ie,playbackController:L.current,onMouseDown:Be,onMouseUp:Fe});break;default:__LOG__(3)`Invalid status v3 image type: ${n.type}`}else qe=t.type===f.MSG_TYPE.CHAT?(0,X.jsx)(z.StatusV3Text,{msg:t,onMouseDown:Be,onMouseUp:Fe}):(0,X.jsx)(ne,{onMouseDown:Be,onMouseUp:Fe});const Ye=(0,X.jsx)("div",{ref:ue,children:(0,X.jsx)(q.default,{ref:de,current:e.msgIdx,total:e.totalMsgs,onClick:e.onClickProgressBar})}),ze=t.isSentByMe||a.contact.isPSA,Ke=(0,p.default)(W.default.profile,{[W.default.nonClickProfile]:ze,[W.default.profileNarrow]:he}),$e=(0,p.default)(W.default.profile,W.default.measuringProfile,{}),Qe=e=>e.stopPropagation(),Xe=(0,X.jsx)(N.ContactName,{className:W.default.msgInfoName,contact:a.contact,you:!0,ellipsify:!0,showBusinessCheckmark:a.contact.showBusinessCheckmarkAsPrimary}),Je=(0,X.jsxs)("div",{className:Ke,onClick:ze?null:()=>{const e=a.contact.id;(0,k.findChat)(e).then((e=>l.Cmd.openChatBottom(e))).then((()=>{T(!0)}))},children:[(0,X.jsx)("div",{className:W.default.playerAvatar,children:(0,X.jsx)(M.DetailImage,{id:a.contact.id,theme:"status_v3",size:40})}),(0,X.jsxs)("div",{className:W.default.msgInfo,children:[(0,X.jsx)("div",{className:(0,p.default)({[W.default.msgInfoNameWrapper]:!ze,[W.default.msgInfoNamePSA]:a.contact.isPSA}),children:Xe}),!a.contact.isPSA&&(0,X.jsx)("div",{className:W.default.timestamp,children:s.Clock.relativeDateAndTimeStr(t.t)})]}),(0,X.jsx)("div",{className:W.default.statusMediaControls,onClick:Qe,children:(0,X.jsx)(H.default,{isPaused:_e,hasAudio:(null==n?void 0:n.type)===P.default.TYPE.VIDEO&&Ce,isMuted:be,onPlay:Oe,onPause:()=>{Ie(Z.PAUSE_BUTTON)},onMute:()=>{L.current.mute(),ye(!0)},onUnmute:()=>{L.current.unmute(),ye(!1)}})})]}),Ze=(0,X.jsxs)("div",{ref:ce,className:$e,children:[(0,X.jsx)("div",{className:W.default.playerAvatar,children:(0,X.jsx)(M.DetailImage,{id:a.contact.id,theme:"status_v3",size:40})}),(0,X.jsxs)("div",{className:W.default.msgInfo,children:[Xe,(0,X.jsx)("div",{className:W.default.timestamp,children:s.Clock.relativeDateAndTimeStr(t.t)})]})]});let et,tt;n&&(et=(0,X.jsx)(ae,{mediaData:n}));a.contact.isMe||a.contact.isPSA||(tt=(0,X.jsx)(w.HotKeys,{handlers:{left:Qe,right:Qe},onClick:Ue,children:(0,X.jsx)(G.default,{msg:e.msg,dismissReply:Ne,onSend:Ge,onFocusChange:Ve,pause:Ie,play:Oe,ref:e=>{le.current=e},statusReplyMetric:ee.current,isStatusQuickRepliesEnabled:Ae})}));const nt=a.contact.isMe&&Te?(0,X.jsx)("div",{className:W.default.seen,children:(0,X.jsx)(Y.default,{seenCount:Te.length,onClick:()=>{Te&&(c.ModalManager.open((0,X.jsx)(K.default,{onClose:De,viewers:Te})),Ie(Z.OPEN_SEE_VIEWERS_MODAL),ge(!0))}})}):null,at=(0,p.default)(W.default.playerBackground,{[W.default.media]:n});let rt;const it=(0,p.default)(W.default.progressBackdrop,{[W.default.progressBarBackdropNarrow]:he});t.type!==f.MSG_TYPE.CHAT&&(rt=(0,X.jsx)("div",{className:it}));let ot;t.type!==f.MSG_TYPE.CHAT&&"string"==typeof t.caption&&(ot=(0,X.jsx)("div",{className:W.default.caption,children:(0,X.jsx)(R.default,{type:"contain",size:{width:n.fullWidth,height:n.fullHeight},children:(0,X.jsx)(F.default,{text:t.caption,isExpandedCaptionText:Ee,onExpandCaptionText:Le})})}));return(0,X.jsx)($.UIE,{displayName:"StatusV3Player",escapable:!0,requestDismiss:t=>{t||e.closeStatusViewer()},requestFocus:Ne,children:(0,X.jsx)(w.HotKeys,{handlers:{tab:Re,"shift+tab":Re},onClick:Ne,children:(0,X.jsxs)("div",{className:W.default.playerWrapper,tabIndex:-1,ref:fe,children:[Ze,Je,ke?(0,X.jsx)(re,{}):null,rt,Ye,(0,X.jsx)("div",{className:at,style:He}),qe,ot,et,nt,tt]},t.id.toString())})})};var r=n(50796),i=n(92844),o=n(92574),s=n(40234),l=n(81572),u=a(n(52013)),d=n(8139),c=n(14597),f=n(15461),h=n(16116),p=a(n(94184)),m=n(48360),g=n(67294),_=a(n(56720)),v=a(n(51799)),b=a(n(16223)),y=n(87550),C=n(35461),S=a(n(55010)),E=a(n(89113)),x=a(n(3409)),T=a(n(62190)),M=n(88984),k=n(50101),w=n(29424),A=a(n(14296)),P=a(n(2320)),j=n(58668),I=a(n(11339)),O=n(17972),N=n(12176),R=a(n(11791)),D=a(n(34949)),L=n(11054),B=a(n(31778)),F=a(n(95200)),G=a(n(71607)),U=n(89660),V=n(5358),W=a(n(80568)),H=a(n(78333)),q=a(n(4392)),Y=a(n(21029)),z=n(47786),K=a(n(16495)),$=n(18644),Q=a(n(99967)),X=n(85893);function J(e,t){(0,d.btmThreadsLoggingEnabled)()&&!e.isMe&&(0,k.findChat)(e.id).then((e=>{(0,h.handleActivitiesForChatThreadLogging)([{activityType:t,ts:(0,i.unixTime)(),chatId:e.id}])}))}const Z=n(76672).Mirrored(["PAUSE_BUTTON","MOUSEDOWN","WINDOW_BLUR","OPEN_SEE_VIEWERS_MODAL","LINK_MODAL_OPEN"]),ee={width:"ln8gz9je",height:"ppled2lx",backgroundColor:"ceoseaut",position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",opacity:"ebu6xrgy",zIndex:"nbczt5ty"};function te(e){var t,n;const{msg:a,onMouseDown:r,onMouseUp:i,playbackController:o,play:s,markRead:l,statusV3:u,pause:d}=e,c=(0,g.useRef)(null),f=(0,C.useModelValues)(e.mediaData,["preview","mediaStage","fullWidth","fullHeight","streamable","fullPreviewData"]);(0,g.useEffect)((()=>{f.streamable||f.isStreamable()||a.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:I.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!0})}),[]),(0,S.default)((()=>{d()}));const h=(0,E.default)((e=>{c.current=e.current,o.setVideo(c.current)}));(0,g.useEffect)((()=>{s(),f.mediaStage===j.MEDIA_DATA_STAGE.RESOLVED&&l(u,a)}),[l,f.mediaStage,a,s,u]);const m=f.mediaStage!==j.MEDIA_DATA_STAGE.RESOLVED,_=(0,p.default)(W.default.playerContent,W.default.v3Video,{loading:m});return(0,X.jsx)("div",{className:_,onMouseDown:r,onMouseUp:i,children:(0,X.jsx)(R.default,{type:"contain",size:{width:f.fullWidth,height:f.fullHeight},children:(0,X.jsxs)("div",{className:W.default.mediaViewer,children:[(0,X.jsx)(Q.default,{msg:a,mediaData:f,autoPlay:!0,refVideo:h,poster:null!==(t=ie(f))&&void 0!==t?t:"",disableContextMenu:!0,children:A.default.t(654)}),a.interactiveAnnotations&&a.interactiveAnnotations.length>0&&(0,X.jsx)(T.default,{annotations:a.interactiveAnnotations,onTooltipDisplay:e.onMouseDown,onTooltipDismiss:e.onMouseUp}),(null===(n=a.actionLink)||void 0===n?void 0:n.buttonTitle)&&a.actionLink.url&&(0,X.jsx)("div",{className:W.default.actionLink,children:(0,X.jsx)(B.default,{text:a.actionLink.buttonTitle,url:a.actionLink.url})}),null]})})})}function ne(e){return(0,X.jsx)("div",{className:W.default.playerContent,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,children:(0,X.jsx)("div",{className:W.default.unknown,children:m.fbt._("You received a status, but your version of WhatsApp doesn't support it.",null,{hk:"RNPf0"})})})}function ae(e){return(0,C.useModelValues)(e.mediaData,["mediaStage"]).mediaStage!==j.MEDIA_DATA_STAGE.RESOLVED?(0,X.jsx)("div",{className:W.default.mediaStateControls,children:(0,X.jsx)("button",{className:"icon-media-disabled",children:(0,X.jsx)(L.Spinner,{size:50,stroke:4,color:"white"})})}):null}function re(){return(0,X.jsx)("div",{className:(0,_.default)(ee)})}function ie(e){return e?e.fullPreviewData?e.fullPreviewData.url():e.preview instanceof D.default?e.preview.url():null:null}},78333:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{isPaused:t,hasAudio:n,isMuted:a,onPlay:r,onPause:i,onMute:s,onUnmute:l}=e;return(0,u.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,u.jsxs)(o.FlexRow,{children:[(0,u.jsx)(h,{isPaused:t,handlePlayPauseButton:()=>{t?r():i()}}),(0,u.jsx)(p,{hasAudio:n,isMuted:a,handleMuteButton:()=>{a?l():s()}})]})})};var r=n(48360),i=a(n(56720)),o=n(29623),s=a(n(38932)),l=a(n(23217)),u=n(85893);const d={cursor:"bx7g2weo",width:"i94gqilv",height:"bmot90v7",color:"lxozqee9"},c={marginRight:"lyrceosr"},f={opacity:"brh521k9"};function h(e){let{isPaused:t,handlePlayPauseButton:n}=e;return(0,u.jsx)("div",{className:(0,i.default)(c,d),children:(0,u.jsx)(s.default,{"aria-label":t?r.fbt._("Play",null,{hk:"4CjEWt"}):r.fbt._("Pause",null,{hk:"1kvbzt"}),onClick:n,name:t?"status-media-controls-play":"status-media-controls-pause"})})}function p(e){let{hasAudio:t,isMuted:n,handleMuteButton:a}=e;return t?(0,u.jsx)("div",{className:(0,i.default)(d),children:(0,u.jsx)(s.default,{"aria-label":n?r.fbt._("Unmute",null,{hk:"aQpZx"}):r.fbt._("Mute",null,{hk:"1C7Sjw"}),onClick:a,name:n?"status-media-controls-volume-off":"status-media-controls-volume-on"})}):(0,u.jsx)("div",{className:(0,i.default)(f,d),children:(0,u.jsx)(l.default,{name:"status-media-controls-no-sound"})})}},58506:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,onClickAnimateEnd:n}=e,a=(0,o.useRef)(null),p=(0,o.useRef)(0),[m,g]=(0,o.useState)(null);(0,l.useListener)(n&&a.current,"animationend",(()=>{++p.current===f.length&&(null==n||n())}));const[_,v]=(0,u.default)(r.NUX.STATUS_QUICK_REPLIES);return(0,c.jsxs)("div",{ref:a,children:[_?(0,c.jsx)("div",{className:(0,s.default)(h.guidance),children:i.fbt._("Click to send",null,{hk:"48egRc"})}):null,(0,c.jsx)(d.FlexRow,{justify:"center",className:(0,s.default)(h.container),children:f.map(((e,n)=>(0,c.jsx)("button",{className:(0,s.default)([h.emoji,null!=m&&(m===n?h.emojiClicked:h.emojiClickedNeighbours)]),onClick:a=>{t(a,e),v(),g(n)},children:e},e)))})]})};var r=n(71579),i=n(48360),o=n(67294),s=a(n(56720)),l=n(87550),u=a(n(59732)),d=n(29623),c=n(85893);const f=["😍","😂","😮","😢","🙏","👏","🎉","💯"],h={container:{width:"ln8gz9je",marginTop:"c46o30wg",marginEnd:"k1jo73ug",marginBottom:"du8bjn1j",marginStart:"isfiuinm"},emoji:{display:"f804f6gw",width:"dyxdk6fi",height:"m3o1wsh7",textAlign:"qfejxiq4",fontSize:"fvnbr7o8",marginStart:"nzcjdldu",transition:"qvwhnwh7",":first-child":{marginStart:"nadoev3v"},":hover":{transform:"m71s4v11"}},emojiClicked:{animationName:"p3z46sn7",animationDuration:"izvjr1tp",animationTimingFunction:"bej5yntv",animationFillMode:"a21kwdn3",transformOrigin:"s79hpmcy",pointerEvents:"m62443ks"},emojiClickedNeighbours:{animationName:"d7qcm159",animationDuration:"a906e4bh",animationFillMode:"a21kwdn3",animationTimingFunction:"bej5yntv",pointerEvents:"m62443ks"},guidance:{textAlign:"qfejxiq4",color:"octy2vkd",fontSize:"enbbiyaj",marginBottom:"brac1wpa"}}},47786:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=function(e){const{msg:t}=e,n=t.linkPreview&&null!=t.asUrl&&(0,i.statusV3LinkPreviewEnabled)(),[a,p]=(0,s.useState)(0);(0,s.useEffect)((()=>{u.default.load(t.font).catch((()=>{}))}),[]);const m=(0,o.default)(f.default.text,(e=>{if(e<=60)return f.default.textLarge;if(e<=240)return f.default.textMedium;return f.default.textSmall})(a),f.default[`font_${t.font}`],{[f.default.column]:n,[f.default.withLinkPreview]:n}),g=d.Configuration.StatusV3Text({links:t.getLinks()});return(0,h.jsx)("div",{className:(0,o.default)(f.default.playerContent,{[f.default.statusPanelPlayerContent]:"status-panel"===e.theme,[f.default.statusThumbnailPlayerContent]:"status-thumbnail"===e.theme,[f.default.textThumbnailPlayerContent]:"text-thumb"===e.theme}),onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,children:(0,h.jsxs)("div",{className:m,children:[n?(0,h.jsx)(c.StatusV3LinkPreview,{msg:t.unsafe(),length:a}):null,(0,h.jsx)("div",{ref:e=>{p((0,r.numCodepoints)(null==e?void 0:e.innerText))},children:(0,h.jsx)(l.EmojiText,{text:e.msg.body,formatters:g})})]})})};var r=n(64331),i=n(8139),o=a(n(94184)),s=n(67294),l=n(65417),u=a(n(99267)),d=n(30695),c=n(15452),f=a(n(80568)),h=n(85893)},61752:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{initialStatusV3:t,quotedMsgKey:n,initialStatusMsg:a,onMsgNotFound:M}=e,k=(0,p.default)(),[w,A]=(0,h.useState)(null),[P,j]=(0,h.useState)(null),[I,O]=(0,h.useState)(!0),N=(0,h.useRef)(null),R=e=>{if((!w||e!==w.msgIdx)&&w&&N.current){const t=N.current.statusAt(w,e);O(!0),t.then((e=>{k.aborted||A(e)})).catch((0,r.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`}))).catch((0,r.filteredCatch)(s.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))).finally((()=>{O(!1)}))}};(0,h.useEffect)((()=>{const e=N.current;if(w&&e&&e.hasNext(w)){e.getNext(w).then((t=>{if(k.aborted)return;const n=e.statuses[t.statusIdx].msgs[t.msgIdx];if(!n)throw new C.StatusV3MsgNotFound;if(n.type===l.MSG_TYPE.CHAT)m.default.load(n.font).catch((()=>{}));else{const e=n.mediaData;e&&e.mediaStage!==_.MEDIA_DATA_STAGE.RESOLVED&&n.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:v.default.WEBC_RMR_REASON_CODE.STATUS_V3,isUserInitiated:!1})}})).catch((0,r.filteredCatch)(C.StatusV3MsgNotFound,(()=>{__LOG__(3)`Error finding next status while preloading next status`}))).catch((0,r.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while preloading next status`}))).catch((0,r.filteredCatch)(s.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})))}}),[w,N,k.aborted]);const D=t=>{j(!0),(0,i.delayMs)(200).then((()=>{k.aborted||e.closeStatusViewer(t)}))},L=()=>{const e=N.current;if(w&&e&&e.hasPrev(w)){const t=w.statusIdx;e.getPrev(w).then((e=>{k.aborted||(e.statusIdx===t?A(e):(j(!0),(0,i.delayMs)(200).then((()=>{k.aborted||(A(e),j(!1))}))))})).catch((0,r.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting previous status msg`}))).catch((0,r.filteredCatch)(s.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`})))}},B=()=>{const e=N.current;if(w&&e&&e.hasNext(w)){const t=w.statusIdx,n=e.getNext(w);O(!0),n.then((e=>{k.aborted||(e.statusIdx===t?A(e):(j(!0),O(!1),(0,i.delayMs)(200).then((()=>{k.aborted||(A(e),j(!1))}))))})).catch((0,r.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while getting next status msg`,D()}))).catch((0,r.filteredCatch)(s.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(C.StatusV3LoadingError,(()=>{__LOG__(3)`No more status v3 while preloading next status`}))).finally((()=>{O(!1)}))}else D()},F=(e,t)=>{const n=N.current;if(!t)return;const a=e.unreadCount,r=e.totalCount;if(e.msgs.getModelsArray().findIndex((e=>e===t))>=r-a){const n=(0,o.unixTime)(),a=t.id.participant;a&&a.isPSA()&&t.set("statusPSAReadTimestamp",n),e.sendReadStatus(t.id,t.author,n)}const i=null==n?void 0:n.statuses.find((t=>t.statusV3===e));i&&i.readMsgKeys.push(t.id.toString())};let G,U,V,W,H,q,Y,z,K;(0,h.useEffect)((()=>{const i=t;if(n){const t=n;if(-1!==i.msgs.getModelsArray().findIndex((e=>e.id.toString()===t.toString()))){N.current=new C.Statusv3Snapshot(i,e.continuousPlay,t);N.current.getFirstUnread(i,!0,t).then((e=>{k.aborted||(A(e),O(!1))})).catch((0,r.filteredCatch)(s.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,u.ToastManager.open((0,T.jsx)(x.Toast,{msg:f.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,x.genId)()})),e.closeStatusViewer()})))}else O(!0),i.loadMore(i.totalCount).then((()=>{O(!1);if(-1!==i.msgs.getModelsArray().findIndex((e=>e.id.toString()===t.toString()))){N.current=new C.Statusv3Snapshot(i,e.continuousPlay,t);N.current.getFirstUnread(i,!0,t).then((e=>{k.aborted||(A(e),O(!1))})).catch((0,r.filteredCatch)(s.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,u.ToastManager.open((0,T.jsx)(x.Toast,{msg:f.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,x.genId)()})),e.closeStatusViewer()})))}else null==M||M(),u.ToastManager.open((0,T.jsx)(x.Toast,{msg:f.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,x.genId)()})),e.closeStatusViewer()})).catch((()=>{u.ToastManager.open((0,T.jsx)(x.Toast,{msg:f.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,x.genId)()})),D()})).finally((()=>{O(!1)}))}else{const t=a;N.current=new C.Statusv3Snapshot(i,e.continuousPlay);N.current.getFirstUnread(i,!0,null==t?void 0:t.id).then((e=>{k.aborted||(A(e),O(!1))})).catch((0,r.filteredCatch)(s.EphemeralDrop,(()=>{}))).catch((0,r.filteredCatch)(C.InvalidStatusV3Iterator,(()=>{__LOG__(3)`Invalid iterator while loading first unread msg`,u.ToastManager.open((0,T.jsx)(x.Toast,{msg:f.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,x.genId)()})),e.closeStatusViewer()})))}}),[]),w&&N.current&&(H=N.current,q=H.statuses[w.statusIdx],Y=q.statusV3,z=q.msgs[w.msgIdx],H.hasPrev(w)&&(V=(0,T.jsx)("div",{className:S.default.chevronLeft,children:(0,T.jsx)(E.default,{name:"chevron-left"})}),W=(0,T.jsx)("div",{className:S.default.chevronLeftBg,onClick:L})),H.hasNext(w)&&(G=(0,T.jsx)("div",{className:S.default.chevronRight,children:(0,T.jsx)(E.default,{name:"chevron-right"})}),U=(0,T.jsx)("div",{className:S.default.chevronRightBg,onClick:()=>{B(),F(Y,z)}})));!P&&!I&&z&&w&&q&&Y&&(K=(0,T.jsx)("div",{className:S.default.playerContainer,children:(0,T.jsx)(y.StatusV3Player,{statusV3:Y,msg:z,mediaData:z.mediaData,msgIdx:w.msgIdx,totalMsgs:q.totalCount,markRead:F,closeStatusViewer:D,onClickProgressBar:R,onNext:B,onPrev:L,sessionId:e.sessionId,rowIdx:e.rowIdx},z.id)},z.id));const $=(0,c.default)(S.default.v3X,{[S.default.v3X_mac]:!1}),Q=(0,T.jsx)("button",{className:$,onClick:()=>e.closeStatusViewer(!0),children:(0,T.jsx)(E.default,{name:"x-viewer"})}),X=(0,c.default)(S.default.backIcon,{[S.default.backIcon_mac]:!1}),J=(0,T.jsx)("button",{className:X,onClick:()=>e.closeStatusViewer(),children:(0,T.jsx)(E.default,{name:"back",directional:!0})});let Z;I&&(Z=(0,T.jsx)("div",{className:S.default.mediaStateControls,children:(0,T.jsx)("button",{children:(0,T.jsx)(b.Spinner,{size:50,stroke:4,color:"white"})})}));return(0,T.jsx)(g.HotKeys,{handlers:{left:L,right:B},children:(0,T.jsxs)("div",{className:S.default.viewer,"data-animate-status-v3-viewer":!0,children:[Q,J,W,V,U,G,Z,(0,T.jsx)(d.default,{transitionName:"status-v3-player",transitionAppear:!0,children:K})]})})};var r=n(50796),i=n(13959),o=n(92844),s=n(92574),l=n(15461),u=n(94816),d=a(n(40436)),c=a(n(94184)),f=n(48360),h=n(67294),p=a(n(3409)),m=a(n(99267)),g=n(29424),_=(a(n(14296)),n(58668)),v=a(n(11339)),b=n(11054),y=n(87998),C=n(70860),S=a(n(7497)),E=a(n(23217)),x=n(50452),T=n(85893)},16495:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{viewers:t,onClose:n}=e;(0,s.useEffect)((()=>n));const a=new h.default,r=function(e){const t=e.map((e=>({participant:e,itemKey:e.id.toString(),height:f.DEFAULT_ITEM_HEIGHT})));return t.sort(((e,t)=>t.participant.t-e.participant.t)),t}(t),i=r.length?(0,_.jsx)(f.FlatList,{flatListController:a,direction:"vertical",forceConsistentRenderCount:!0,data:r,renderItem:v}):(0,_.jsx)(y,{}),o=m.default.t(660,{count:r.length}),c={width:400,height:b(r.length)};return(0,_.jsx)(g.Modal,{type:g.ModalTheme.CustomSize,dimensions:c,children:(0,_.jsxs)(l.default,{theme:"settings",children:[(0,_.jsx)(d.DrawerHeader,{onCancel:n,title:o,type:d.DRAWER_HEADER_TYPE.POPUP}),(0,_.jsx)(u.default,{flatListControllers:[a],children:i})]})})};var r=n(88555),i=n(55452),o=n(48360),s=n(67294),l=a(n(60453)),u=a(n(69637)),d=n(94790),c=n(85600),f=n(47915),h=a(n(30855)),p=a(n(47834)),m=a(n(14296)),g=n(57224),_=n(85893);function v(e){const{participant:t}=e;return(0,_.jsx)(p.default,{msgInfoParticipant:t,contact:t.contact},t.id.toString())}function b(e){const t=e>0?72*e:(0,r.isMDBackend)()?100:150;return Math.min(500,t+59)}function y(){return(0,r.isMDBackend)()?(0,_.jsx)(c.Empty,{children:"none"===(0,i.getUserPrivacySettings)().readReceipts?o.fbt._("Can't see views because you disabled Read Receipts in Settings > Account > Privacy",null,{hk:"45oJGn"}):o.fbt._("No views yet",null,{hk:"456C0K"})}):(0,_.jsx)(c.Empty,{title:o.fbt._("No views yet",null,{hk:"456C0K"}),text:o.fbt._("Views are not visible if you have disabled Read Receipts in Settings > Account > Privacy on your phone",null,{hk:"1bIdNy"})})}},82791:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{link:t}=e,{suspiciousCharacters:n,domain:a,href:p}=t,m=a.split("."),g=m.map(((e,t)=>{let a=!1;const r=e.split("").map(((e,r)=>{const i=n&&n.has(e);a=i||a;const o=i?c.default.suspiciousCharacter:void 0;return(0,f.jsx)("span",{className:o,children:e},`${t}-${r}-${e}`)})),i=a?c.default.suspiciousHostname:void 0;return(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("span",{className:i,children:r}),t+1!==m.length?(0,f.jsx)("span",{children:"."}):null]},`${t}-${e}`)})),[_,v]=p.split(a);return(0,f.jsxs)(l.default,{title:o.fbt._("Suspicious link",null,{hk:"J2Yam"}),okText:o.fbt._("Cancel",null,{hk:"H0gNq"}),cancelText:o.fbt._("Open link",null,{hk:"1yYoWm"}),onOK:h,onCancel:()=>{const{href:e}=t;(0,u.openExternalLink)(e),i.ModalManager.close()},children:[(0,f.jsxs)("div",{className:c.default.explanation,children:[o.fbt._("This link contains unusual characters. It may be trying to appear as another site.",null,{hk:"4ybh1b"})," ",(0,f.jsx)(u.ExternalLink,{href:(0,r.getSuspiciousLinkFaqUrl)(),children:d.default.t(397)})]}),(0,f.jsxs)("div",{className:c.default.url,children:[_,g,v]})]})};var r=n(21310),i=n(14597),o=n(48360),s=n(67294),l=a(n(52665)),u=n(12591),d=a(n(14296)),c=a(n(43047)),f=n(85893);const h=()=>{i.ModalManager.close()}},88858:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,isB2C:n}=e;const a=()=>{(0,d.shouldBlockByTos)(t)||r.ModalManager.close()};(0,o.useListener)(t,"change:privacyMode",a),(0,o.useListener)(u.TosManager,"change",a);const f=n?i.fbt._("This update provides more information about how you can securely chat with businesses. Open this chat on your phone to review and learn more about the WhatsApp update.",null,{hk:"ZFoS0"}):i.fbt._("WhatsApp recently updated its terms and privacy policy. This business uses a secure service from Meta to manage chats. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.",null,{hk:"y3voo"});return(0,c.jsx)(s.default,{onOK:()=>r.ModalManager.close(),okText:l.default.t(531),title:i.fbt._("WhatsApp’s terms and privacy policy update",null,{hk:"4Eh7HY"}),children:f})};var r=n(14597),i=n(48360),o=n(87550),s=a(n(52665)),l=a(n(14296)),u=n(70768),d=n(37894),c=n(85893)},29811:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e,t,n;switch((0,o.useListener)(l.Conn,"change:tos",f),l.Conn.tos){default:case 1:e=i.fbt._("WhatsApp is updating our Terms and Privacy Policy to reflect new features and comply with the new European Union data protection laws. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.",null,{hk:"3LsIm"}),t=u.default.t(531),n=()=>r.ModalManager.close();break;case 2:e=i.fbt._("WhatsApp is updating our Terms and Privacy Policy to reflect new features and comply with the new European Union data protection laws. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.",null,{hk:"3DBzW"}),t=u.default.t(446),n=h}return(0,c.jsx)(s.default,{onOK:n,okText:t,children:e})};var r=n(14597),i=n(48360),o=n(87550),s=a(n(52665)),l=n(17239),u=a(n(14296)),d=n(65044),c=n(85893);function f(){0===l.Conn.tos&&r.ModalManager.close()}function h(){r.ModalManager.close(),d.Socket.logout()}},26132:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.notice,["noticeId","blocking","blockingModal"]),n=(0,i.useContext)(v.ThemeContext),{blockingModal:a}=t,[l,x]=(0,i.useState)(!1);(0,o.useListener)(p.default,"change:blocking",(()=>{p.default.blocking||r.ModalManager.close()}));const T=()=>null!=p.default.noticeId&&null!=p.default.blockingModal&&!0===p.default.blocking,M=()=>{if(T()&&!l){new f.default.UserNotice({userNoticeId:p.default.noticeId,userNoticeContentVersion:p.default.policyVersion,userNoticeEvent:f.default.USER_NOTICE_EVENT.BLOCKING_MODAL_APPEAR}).commit(),x(!0)}};(0,o.useListener)(p.default,"change:noticeId",(()=>{x(!1)})),(0,o.useListener)(p.default,"change:blockingModal change:blocking",M),(0,i.useEffect)((()=>{M()}),[]);const k=()=>{__LOG__(2)`user notice modal, user clicked logout`,r.ModalManager.close(),y.Socket.logout()},w=()=>{location.reload()},A=e=>{if(e){if("logout"===e.action)return k;if("refresh"===e.action)return w}return S};if(!a||!T())return null;const{iconSvg:P,iconDescription:j="",title:I,body:O,primaryButton:N,secondaryButton:R}=a;let D;P&&(D="light"===n.theme?P.light:P.dark);const L=(0,C.jsx)(g.default,{name:"alert-notice","aria-label":j}),B=D&&(0,m.sanitizeNoticeSVG)(D),F=B?(0,C.jsx)("span",{"aria-label":j,dangerouslySetInnerHTML:{__html:B}}):L,G=(0,C.jsx)(E,{btn:R,onClick:A(R)}),U=(0,C.jsx)(E,{btn:N,primary:!0,onClick:A(N)}),V={enter:A(N)},W=I?(0,m.sanitizeNoticeText)(I):null,H=O?(0,m.sanitizeNoticeText)(O):null;return(0,C.jsx)(c.HotKeys,{handlers:V,children:(0,C.jsx)("div",{className:u.Conn.isSMB?b.default.noticeSmbContainer:b.default.noticeContainer,children:(0,C.jsx)(h.Modal,{actions:[G,U],type:h.ModalTheme.Flex,children:(0,C.jsxs)("div",{className:b.default.noticeModalContentWrapper,children:[(0,C.jsx)(d.FlexRow,{className:b.default.noticeSvgWrapper,align:"center",justify:"center",children:F}),(0,C.jsx)(_.TextDiv,{theme:"popup-title",className:b.default.headerText,children:(0,C.jsx)("div",{dangerouslySetInnerHTML:{__html:W}})}),(0,C.jsx)(_.TextDiv,{theme:"plain",className:b.default.bodyText,children:(0,C.jsx)("div",{dangerouslySetInnerHTML:{__html:H}})})]})})})})};var r=n(14597),i=n(67294),o=n(87550),s=n(35461),l=a(n(39770)),u=n(17239),d=n(29623),c=n(29424),f=a(n(11339)),h=n(57224),p=a(n(51783)),m=n(90995),g=a(n(23217)),_=n(13923),v=n(97628),b=a(n(91377)),y=n(65044),C=n(85893);const S=()=>{};function E(e){let{btn:t,primary:n=!1,onClick:a}=e;if(null==t)return null;const r=`UserNoticeModalPopup-${t.action}Btn`,i=`popup-controls-${t.action}`;return(0,C.jsx)(l.default,{a8nText:i,type:n?"primary":"secondary",onClick:a,children:t.label},r)}},11976:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{parsedVcard:t,thumbnail:n}=e,a=e.parsedVcard,h=(0,r.default)(a.TEL,(e=>e.properties.waid)),m=(0,r.default)(a.TEL,(e=>!e.properties.waid)),_=(0,i.default)(h,(e=>{const t=e.properties.waid[0],n=(0,k.jsx)(T.default,{onClick:()=>(e=>{s.ModalManager.close(),(0,b.findChat)((0,u.createUserWid)(e)).then((e=>{o.Cmd.openChatFromUnread(e).then((t=>{t&&p.ComposeBoxActions.focus(e)}))}))})(t),children:(0,k.jsx)(x.default,{name:"chat",className:M.default.icon})}),a=(0,k.jsx)(E.SelectableSpan,{selectable:!0,children:(0,d.widToFormattedUser)(t)});return(0,k.jsx)(g.default,{title:a,icon:n,children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`)})),C=(0,i.default)(a.EMAIL,(e=>(0,k.jsx)(g.default,{title:y.default.forceLTR(e.value),onClick:()=>{return t=e.value,void(0,v.openExternalLink)(`mailto:${t}`);var t},children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`))),S=(0,i.default)(a.ADR,(e=>{const t=e.value.join(" ");return(0,k.jsx)(g.default,{title:t,onClick:()=>(e=>{const t=`https://maps.google.com/maps/search/${(0,i.default)((0,r.default)(e),encodeURIComponent).join(", ")}?hl=${y.default.getLocale()}`;(0,v.openExternalLink)(t)})(e.value),children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`)})),A=(0,i.default)(m,(e=>(0,k.jsx)(g.default,{title:y.default.forceLTR(e.value),children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`))),P=(0,i.default)(a.SERVICE,(e=>(0,k.jsx)(g.default,{title:e.value,children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`))),j=(0,i.default)(a.BDAY,(e=>(0,k.jsx)(g.default,{title:(0,l.vcardGetDate)(e.value),children:c.fbt._("Birthday",null,{hk:"ULBWf"})},`vCard-${String(e.index)}`))),I=(0,i.default)(a.NICKNAME,(e=>(0,k.jsx)(g.default,{title:e.value,children:c.fbt._("Nickname",null,{hk:"1dSiK9"})},`vCard-${String(e.index)}`))),O=(0,k.jsx)(w,{parsedVcard:t,thumbnail:n}),N=[..._,...C,...S,...A,...j,...I,...P],R=N[N.length-1];null!=R&&(N[N.length-1]=(0,f.cloneElement)(R,{isLastItem:!0}));return(0,k.jsxs)("div",{children:[O,(0,k.jsx)("div",{className:M.default.content,children:N})]})};var r=a(n(63105)),i=a(n(35161)),o=n(81572),s=n(14597),l=n(93778),u=n(45454),d=n(62054),c=n(48360),f=n(67294),h=a(n(44356)),p=n(88172),m=n(88984),g=a(n(70835)),_=n(65417),v=n(12591),b=n(50101),y=a(n(14296)),C=a(n(87543)),S=n(82039),E=n(52596),x=a(n(23217)),T=a(n(1784)),M=a(n(637)),k=n(85893);function w(e){let{parsedVcard:t,thumbnail:n}=e;const a=(0,l.vcardWids)(t),r=(0,k.jsx)(_.EmojiText,{text:(0,l.vcardGetNameFromParsed)(t),direction:"auto",titlify:!0,ellipsify:!0,selectable:!0}),i=(0,l.vcardGetOrganizationString)(t),o=(0,k.jsx)(C.default,{thumb:n,size:m.DetailImageSize.Small,wid:S.ProfilePicThumbCollection.findThumbnailWid(a)});return(0,k.jsx)(h.default,{image:o,theme:"plain",primary:r,secondary:i})}},21915:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onSelect:t,vcard:n}=e,a=(0,u.useMemo)((()=>{const a=e=>{t(e)};return(0,r.default)(n.TEL,(e=>e.properties.waid)).map((t=>{const n=(0,o.createUserWid)(t.properties.waid[0]);let r=e.icon;return r&&(r=(0,_.jsx)(m.default,{onClick:e=>{((e,t)=>{e.stopPropagation(),a(t)})(e,n)},children:r})),(0,_.jsx)("div",{className:g.default.container,children:(0,_.jsx)(h.default,{title:(0,s.widToFormattedUser)(n),onClick:()=>a(n),isLastItem:!0,icon:r,children:(0,i.vcardGetType)(t)})},`vCard-${t.value}`)}))}),[n.TEL,t,e.icon]);return(0,_.jsx)(p.Modal,{type:p.ModalTheme.Box,children:(0,_.jsxs)(d.default,{children:[(0,_.jsx)(f.DrawerHeader,{onCancel:e.onCancel,type:f.DRAWER_HEADER_TYPE.POPUP,title:l.fbt._("Choose a phone number",null,{hk:"2Mbr64"})}),(0,_.jsx)(c.default,{children:a})]})})};var r=a(n(63105)),i=n(93778),o=n(45454),s=n(62054),l=n(48360),u=n(67294),d=a(n(60453)),c=a(n(69637)),f=n(94790),h=a(n(70835)),p=n(57224),m=a(n(1784)),g=a(n(11927)),_=n(85893)},29535:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,d.jsx)(l.SelectModal,{title:e.isVideo?o.fbt._("Group video call",null,{hk:"4rrIQR"}):o.fbt._("Group voice call",null,{hk:"gRekC"}),filter:t=>!e.groupParticipants||!!e.groupParticipants.find((e=>e.equals(t.id)))&&!t.isMe,onCancel:()=>i.ModalManager.close(),onConfirm:t=>{e.onStartGroupCall(t.map((e=>e.id))),i.ModalManager.close()},listType:l.ListType.PARTICIPANT_MANAGE_MODAL,useAllContacts:null!=e.groupParticipants,maxItems:r.default.VOIP_MAX_GROUP_CALL_PARTICIPANTS-1,maxItemsExceedErrorMsg:s.default.t(674,{count:r.default.VOIP_MAX_GROUP_CALL_PARTICIPANTS-1,_plural:r.default.VOIP_MAX_GROUP_CALL_PARTICIPANTS-1}),singleSelectionFooterType:e.isVideo?u.FooterType.VIDEO_CALL:u.FooterType.VOICE_CALL,multipleSelectionFooterType:e.isVideo?u.FooterType.VIDEO_CALL:u.FooterType.VOICE_CALL,allowBlockedContacts:!1})};var r=a(n(64369)),i=n(14597),o=n(48360),s=a(n(14296)),l=n(56728),u=n(18963),d=n(85893)},25033:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{messageText:t}=e,n=()=>{i.ModalManager.close()};if(!o.default.online)return(0,h.jsx)(u.default,{okText:l.fbt._("OK",null,{hk:"2KEeHb"}),onOK:n,children:l.fbt._("Couldn't search the web. Check your computer's internet connection and try again.",null,{hk:"1OAOT8"})});return(0,h.jsx)(u.default,{cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:n,okText:l.fbt._("Search Web",null,{hk:"3SErVr"}),onOK:()=>{const e=(0,r.firstNEncodedBytes)(t,2e3),n=5===f.ServerProps.frequentlyForwardedThreshold?"wa":`wa${f.ServerProps.frequentlyForwardedThreshold}`,a=s.default.build("https://www.google.com/search",{ctx:n,q:e});(0,d.openExternalLink)(a),(new c.default.HfmTextSearchComplete).commit(),i.ModalManager.close()},children:l.fbt._("Would you like to search this on the web? This will upload the message to Google.",null,{hk:"3auzZo"})})};var r=n(64331),i=n(14597),o=a(n(81602)),s=a(n(76139)),l=n(48360),u=a(n(52665)),d=n(12591),c=a(n(11339)),f=n(64551),h=n(85893)},84819:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=i.ServerProps.webPipRedesign,n=t?16:void 0,a=e.isFullscreenMode?34:n;return(0,l.jsx)(s.default,{xstyle:[u.closeBtn,e.isFullscreenMode&&u.fullscreen,t&&u.closeBtnNew,e.isStatic&&u.static],onClick:e.onClick,children:(0,l.jsx)(o.default,{"aria-label":r.fbt._("Close",null,{hk:"19Jpec"}),name:"video-x",height:a,width:a})})};var r=n(48360),i=(a(n(56720)),n(64551)),o=a(n(23217)),s=a(n(1784)),l=n(85893);const u={closeBtn:{position:"lhggkp7q",top:"r8dd7jr1",end:"ohq8n1fk",zIndex:"mb8var44",cursor:"ajgl1lbb"},closeBtnNew:{top:"jgz0asyo",end:"b4u6kxhc"},static:{position:"gire0wgi"},fullscreen:{top:"a70a3vn1",end:"h223g3sc"}}},74852:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)("div",{className:(0,r.default)(i.default.button,{[i.default.fullscreen]:e.isFullscreenMode}),onClick:e.onClick,children:(0,s.jsx)(o.default,{name:e.isInstagram?"logo-instagram":"logo-facebook"})})};var r=a(n(94184)),i=a(n(34984)),o=a(n(23217)),s=n(85893)},51582:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(o.default,{xstyle:[l.button,e.isFullscreenMode&&l.fullscreen,e.isStatic&&l.static],onClick:e.onClick,children:e.isFullscreenMode?(0,s.jsx)(i.default,{"aria-label":r.fbt._("Exit full screen",null,{hk:"45Doy3"}),name:"video-exit-fullscreen"}):(0,s.jsx)(i.default,{"aria-label":r.fbt._("Full screen",null,{hk:"38YTtz"}),name:"video-fullscreen"})})};var r=n(48360),i=(a(n(56720)),a(n(23217))),o=a(n(1784)),s=n(85893);const l={button:{position:"lhggkp7q",top:"r8dd7jr1",start:"sxdjimme",zIndex:"mb8var44",cursor:"ajgl1lbb"},static:{position:"gire0wgi"},fullscreen:{top:"ba95y10t",start:"guo0zu0m"}}},19656:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PIP_BUTTON_THEME=void 0,t.PiPButton=function(e){return(0,s.jsx)("button",{className:(0,r.default)(i.default.pipBtn,{[i.default.player]:e.theme===l.PLAYER,[i.default.preview]:e.theme===l.PREVIEW}),onClick:e.onClick,children:(0,s.jsx)(o.default,{name:"video-pip"})})};var r=a(n(94184)),i=a(n(31062)),o=a(n(23217)),s=n(85893);const l={PLAYER:"PLAYER",PREVIEW:"PREVIEW"};t.PIP_BUTTON_THEME=l},27557:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.icon?(0,i.jsx)("div",{className:r.default.icon,children:e.icon}):null;return(0,i.jsxs)("div",{className:r.default.note,children:[t,(0,i.jsx)("div",{className:r.default.noteBody,children:e.children})]})};var r=a(n(64374)),i=n(85893)},22433:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=null;switch(e.theme){case"upper":t=(0,o.jsx)("div",{className:(0,r.default)(i.default.fullWidthShade,i.default.stripHeightShade,i.default.upperShade)},"upper-shade");break;case"lower":t=(0,o.jsx)("div",{className:(0,r.default)(i.default.fullWidthShade,i.default.stripHeightShade,i.default.lowerShade)},"lower-shade");break;case"full-rounded":t=(0,o.jsx)("div",{className:(0,r.default)(i.default.fullWidthShade,i.default.fullHeightShade,i.default.roundedCorners)},"full-rounded-shade");break;case"full-sharp":t=(0,o.jsx)("div",{className:(0,r.default)(i.default.fullWidthShade,i.default.fullHeightShade)},"full-sharp-shade")}return t};var r=a(n(94184)),i=a(n(46944)),o=n(85893)},40875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=t.YOUTUBE_URL_TIME_PARAM_PATTERN=t.YOUTUBE_URL_TIME_PARAM_NAME=t.URL_PATTERNS=t.PiPVideoType=t.PLAYER_TYPE=t.HOSTNAME=t.ATTRIBUTION_ICONS=void 0;const a={YOUTUBE:"youtube.com",YOUTUBE_MOBILE:"m.youtube.com",YOUTUBE_SHORTENED:"youtu.be",INSTAGRAM:"instagram.com",STREAMABLE:"streamable.com",FACEBOOK:"facebook.com",FBWATCH:"fbwat.ch",FBWATCH_ALT:"fb.watch",LASSOVIDEOS:"lassovideos.com",LASSO_SHORTENED:"las.so",SHARECHAT:"sharechat.com"};t.HOSTNAME=a;const r=n(76672).Mirrored(["FLOATER","OG_FLOATER","MEDIA_VIEWER"]);t.PLAYER_TYPE=r;const i=n(76672).Mirrored(["OG","YOUTUBE","MSG"]);t.PiPVideoType=i;t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=16/9;t.URL_PATTERNS={ONLINE_VIDEO_URL:{YOUTUBE:[/^https?:\/\/youtu\.be\/(.{11})/,/^https?:\/\/(m\.)?youtube\.com\/watch\?v=(.{11})/,/^https?:\/\/(m\.)?youtube\.com\/shorts\/(.{11})/]}};const o={[a.YOUTUBE]:"logo-youtube",[a.YOUTUBE_MOBILE]:"logo-youtube",[a.YOUTUBE_SHORTENED]:"logo-youtube",[a.INSTAGRAM]:"logo-instagram",[a.FACEBOOK]:"logo-facebook",[a.LASSOVIDEOS]:"logo-lasso"};t.ATTRIBUTION_ICONS=o;t.YOUTUBE_URL_TIME_PARAM_NAME="t";t.YOUTUBE_URL_TIME_PARAM_PATTERN=/^(\d+h)?(\d+m)?(\d+s)?(\d+)?$/},32808:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.mediaData,["preview","aspectRatio"]),n=t.preview instanceof l.default?`url(${t.preview.url()})`:void 0;return(0,u.jsx)(o.FloatingVideoPlayer,{aspectRatio:t.aspectRatio,previewUrl:n,animationStartStyle:e.animationStartStyle,bottomContent:e.bottomContent,topContent:e.topContent,enableDragBar:e.enableDragBar,children:(0,u.jsx)(s.WrappedMsgVideoPlayer,{msg:e.msg,mediaData:t,startTime:e.startTime,onClose:e.onClose,onError:e.onError,onOpenMediaViewer:e.onOpenMediaViewer,onMissingMedia:e.onMissingMedia,onUnsupportedMedia:e.onUnsupportedMedia,autoPlay:e.autoPlay,type:i.PLAYER_TYPE.FLOATER,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})})};var r=n(35461),i=n(40875),o=n(4522),s=n(99875),l=a(n(34949)),u=n(85893)},84321:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,i.useState)((()=>function(e){const{width:t,height:n}=(0,s.default)(e);return(0,r.isNonZeroNumber)(t)&&(0,r.isNonZeroNumber)(n)?t/n:void 0}(e.ogVideoInfo.previewUrl)));return(0,u.jsx)(o.FloatingVideoPlayer,{aspectRatio:t,previewUrl:e.ogVideoInfo.previewUrl,animationStartStyle:e.animationStartStyle,bottomContent:e.bottomContent,topContent:e.topContent,enableDragBar:e.enableDragBar,children:(0,u.jsx)(l.default,{ogVideoInfo:e.ogVideoInfo,startTime:e.startTime,onClose:e.onClose,onError:e.onError,onAspectRatio:e=>{e&&(null==t||0===t||Math.abs(e-t)>.01)&&n(e)},autoPlay:!0,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})})};var r=n(29984),i=n(67294),o=n(4522),s=a(n(79806)),l=a(n(5399)),u=n(85893)},4522:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingVideoPlayer=function(e){var t;const[n,a]=(0,o.useState)(!1),v=(0,o.useRef)(null);(0,o.useEffect)((()=>()=>clearTimeout(v.current)),[v]);const b=(0,s.default)((()=>{clearTimeout(v.current),a(!0)}),50),y=(0,s.default)((()=>{v.current=setTimeout((()=>{a(!1)}),3e3)}),50),C=null!=e.bottomContent||null!=e.topContent||e.enableDragBar,S=function(e){if(null==e)return 1;switch(!0){case e<p:return p;case e>m:return m;default:return e}}(e.aspectRatio),E=null!==(t=e.initialPiPStyle)&&void 0!==t?t:function(e){const{initialWidth:t,initialHeight:n}=function(e){if(e>1)return{initialWidth:f,initialHeight:f/e};return{initialHeight:f,initialWidth:f*e}}(e),a=function(){var e;let t;return r.Cmd.getConversationHeaderOffset((e=>{t=e})),null!==(e=t)&&void 0!==e?e:{right:window.innerWidth,bottom:0}}(),i=a.right<window.innerWidth?a.right-t-c:window.innerWidth-t-c,o=window.innerHeight-10-n-a.bottom;return{width:t,left:i,bottom:o}}(S),x=145*S,T=h<x?x:h;return(0,d.jsxs)(u.default,{aspectRatio:S,margin:_,minWidth:T,className:(0,i.default)(l.default.videoFloater,{[l.default.redesign]:C}),initialStyle:E,animationStartStyle:e.animationStartStyle,escapeConversationHeader:!0,topContent:e.topContent,bottomContent:e.bottomContent,onMouseEnter:C?b:void 0,onMouseLeave:C?y:void 0,extraContentVisible:n,enableDragBar:e.enableDragBar,children:[(0,d.jsx)(g,{aspectRatio:S,originalAspectRatio:e.aspectRatio,backgroundImage:e.previewUrl}),e.children]})},t.MIN_WIDTH=t.MIN_HEIGHT=t.MIN_ASPECT_RATIO=t.MAX_ASPECT_RATIO=t.MARGIN_Y=t.MARGIN_X=t.LONGER_SIDE_DEFAULT_LENGTH=void 0;var r=n(81572),i=a(n(94184)),o=n(67294),s=a(n(51799)),l=a(n(86182)),u=a(n(92218)),d=n(85893);const c=10;t.MARGIN_X=c;t.MARGIN_Y=10;const f=330;t.LONGER_SIDE_DEFAULT_LENGTH=f;t.MIN_HEIGHT=145;const h=145;t.MIN_WIDTH=h;const p=.4393939393939394;t.MIN_ASPECT_RATIO=p;const m=2.2758620689655173;function g(e){let{aspectRatio:t,originalAspectRatio:n,backgroundImage:a}=e;if(null==n||0===n)return null;if(!(t===p&&t>n||t===m&&t<n))return null;const r=a?(0,d.jsx)("div",{className:l.default.bgImg,style:{backgroundImage:a}}):null;return(0,d.jsx)("div",{className:l.default.bottomLayer,children:r})}t.MAX_ASPECT_RATIO=m;const _={x:c,y:10}},79806:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=document.createElement("img");return t.src=e,{width:t.naturalWidth,height:t.naturalHeight}}},20427:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isParsableOnlineVideoURL=function(e,t,n){if(null==t||""===t)return!1;if(!0===n)return!1;if(e===o.Message$ExtendedTextMessagePreviewType.VIDEO){const e=r.default.withoutWww(r.default.hostname(t));if(s.has(e))return!0}const a=r.default.withoutWww(t);return Object.keys(i.URL_PATTERNS.ONLINE_VIDEO_URL).some((e=>{var t;return(null!==(t=i.URL_PATTERNS.ONLINE_VIDEO_URL[e])&&void 0!==t?t:[]).some((e=>e.test(a)))}))},t.isParsableYouTubeVideoUrl=function(e,t,n){if(null==t||""===t)return!1;if(!0===n)return!1;const a=i.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE,o=r.default.withoutWww(t);return a.some((e=>e.test(o)))};var r=a(n(76139)),i=n(40875),o=n(24808);const s=new Set([i.HOSTNAME.INSTAGRAM,i.HOSTNAME.STREAMABLE,i.HOSTNAME.FACEBOOK,i.HOSTNAME.FBWATCH,i.HOSTNAME.FBWATCH_ALT,i.HOSTNAME.LASSOVIDEOS,i.HOSTNAME.LASSO_SHORTENED,i.HOSTNAME.SHARECHAT])},99875:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedMsgVideoPlayer=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=n(81572),i=n(14597),o=n(67294),s=n(35461),l=a(n(89113)),u=a(n(20668)),d=a(n(97157)),c=n(58668),f=a(n(19451)),h=a(n(77912)),p=n(55389),m=n(18146),g=n(85893);function _(e,t){const{onOpenMediaViewer:n,onOpenVideoFloater:a,onMissingMedia:_,onClose:v,onUnsupportedMedia:b,onNeedPokeMedia:y,onLoadedMetadata:C}=e,S=(0,o.useRef)(null),E=(0,s.useModelValues)(e.msg,["id"]),x=(0,s.useModelValues)(e.mediaData,["mediaStage","preview","streamable"]),T=()=>S.current?S.current.getCurrentTimeFromVideo():0,M=(0,l.default)((()=>{_&&_(),i.ModalManager.open((0,g.jsx)(u.default,{msg:E})),v()})),k=(0,l.default)((()=>{b&&b(),i.ModalManager.open((0,g.jsx)(f.default,{msg:E})),v()})),w=(0,l.default)((()=>{y&&y(),i.ModalManager.open((0,g.jsx)(d.default,{msg:E})),v()})),A=()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.getContainerElement()};return(0,o.useImperativeHandle)(t,(()=>({getContainerElement:A}))),(0,o.useEffect)((()=>{switch(x.mediaStage){case c.MEDIA_DATA_STAGE.ERROR_MISSING:M();break;case c.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:k();break;case c.MEDIA_DATA_STAGE.NEED_POKE:w()}}),[M,w,k,x.mediaStage]),(0,g.jsx)(p.WrappedSharedVideoPlayer,{ref:S,type:e.type,msgVideoInfo:{msg:E,mediaData:x},startTime:e.startTime,onClose:e.onClose,onVideoEnded:e.onVideoEnded,onError:e.onError,onOpenMediaViewer:()=>{n&&n(),r.Cmd.mediaViewerModal({msg:(0,m.unproxy)(E),currentTime:T()})},onOpenVideoFloater:()=>{a&&a(),h.default.openPiP((0,m.unproxy)(E),T(),null)},onMissingMedia:M,onUnsupportedMedia:k,onLoadedMetadata:e=>{C&&C(e)},onLoadedData:e.onLoadedData,onFullscreenToggle:e.onFullscreenToggle,autoPlay:e.autoPlay,overlays:e.overlays,noPip:e.noPip,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})}t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;const v=(0,o.forwardRef)(_);t.WrappedMsgVideoPlayer=v},54987:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(55452),i=n(67294),o=n(35461),s=a(n(34949)),l=a(n(81375)),u=n(70437),d=n(85893);function c(e,t){const{onLoadedMetadata:n}=e,a=(0,o.useModelValues)(e.msg,["id"]),c=(0,o.useModelValues)(e.mediaData,["mediaBlob","streamable","aspectRatio"]),f=(0,i.useRef)(null),h=(0,i.useRef)(Boolean(c.mediaBlob)),p=(0,i.useCallback)((e=>{if(f.current!==e&&(f.current=e,e)){const t=(0,r.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}}),[]),m=(0,i.useCallback)(((e,t)=>{const a=c.aspectRatio,r=0!==e.videoWidth&&0!==e.videoHeight?e.videoWidth/e.videoHeight:void 0;(!a&&null!=r&&0!==r||a&&null!=r&&0!==r&&Math.abs(r-a)>.01)&&c.set({aspectRatio:r}),n(e,t)}),[c,n]),g=(0,i.useCallback)((()=>{const e=f.current;e&&e.getPaused()&&e.play()}),[]),_=(0,i.useCallback)((()=>{const e=f.current;e&&(e.getPaused()||e.pause())}),[]),v=(0,i.useCallback)((()=>!f.current||f.current.getPaused()),[]),b=(0,i.useCallback)((()=>f.current?f.current.getCurrentTime():0),[]),y=(0,i.useCallback)((e=>{f.current&&f.current.setCurrentTime(e)}),[]),C=(0,i.useCallback)((()=>f.current?f.current.getDuration():0),[]),S=(0,i.useCallback)((()=>f.current?f.current.getVolume():0),[]),E=(0,i.useCallback)((e=>{f.current&&f.current.setVolume(e)}),[]),x=(0,i.useCallback)((()=>!!f.current&&f.current.getMuted()),[]),T=(0,i.useCallback)((e=>{f.current&&f.current.setMuted(e)}),[]);(0,i.useImperativeHandle)(t,(()=>({play:g,pause:_,getPaused:v,getCurrentTime:b,setCurrentTime:y,getDuration:C,getVolume:S,setVolume:E,getMuted:x,setMuted:T})),[b,C,x,v,S,_,g,y,T,E]);const M=c.mediaBlob;let k;const w=c.streamable&&c.isStreamable();return k=(h.current||!w)&&M instanceof s.default?M.url():c.streamable&&c.isStreamable()?`${u.VIDEO_STREAM_URL}?key=${a.id.toString()}`:void 0,(0,d.jsx)(l.default,{ref:p,url:k,startTime:e.startTime,poster:e.poster,className:e.className,onVolumeChange:e.onVolumeChange,onEnded:e.onEnded,onError:e.onError,onPause:e.onPause,onPlaying:e.onPlaying,onProgress:e.onProgress,onTimeUpdate:e.onTimeUpdate,onLoadedMetadata:m,autoPlay:e.autoPlay,onLoadedData:e.onLoadedData,children:e.children})}var f=(0,i.forwardRef)(c);t.default=f},5399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)(r.WrappedSharedVideoPlayer,{type:a.PLAYER_TYPE.OG_FLOATER,ogVideoInfo:e.ogVideoInfo,startTime:e.startTime,onClose:e.onClose,onVideoEnded:e.onVideoEnded,onError:e.onError,onAspectRatio:e.onAspectRatio,autoPlay:e.autoPlay,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})};var a=n(40875),r=n(55389),i=n(85893)},77912:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(76521)),i=n(40875);class o extends r.default{constructor(){super(...arguments),this.openPiP=(e,t,n)=>{var a;null===(a=this.manager)||void 0===a||a.openPiP(i.PiPVideoType.MSG,{msg:e,startTime:t,zoomRect:n,videoSrc:null,preview:null})},this.closePiP=()=>{var e;null===(e=this.manager)||void 0===e||e.closePiP()},this.pausePiP=()=>{var e;null===(e=this.manager)||void 0===e||e.pausePiP()},this.openYoutubePiP=(e,t,n,a)=>{var r;null===(r=this.manager)||void 0===r||r.openPiP(i.PiPVideoType.YOUTUBE,{msg:t,startTime:n,zoomRect:a,videoSrc:e,preview:null})},this.openOgVideoPiP=(e,t,n,a,r)=>{var o;null===(o=this.manager)||void 0===o||o.openPiP(i.PiPVideoType.OG,{videoSrc:e,preview:t,msg:n,startTime:a,zoomRect:r})},this.isOpened=e=>{var t,n;return null!==(t=null===(n=this.manager)||void 0===n?void 0:n.isOpened(e))&&void 0!==t&&t}}register(e){this.manager=e}unregister(){this.manager=null}didOpen(e){this.trigger(`${e.id.toString()}_pip_did_open`)}didClose(e){this.trigger(`${e.id.toString()}_pip_did_close`)}didError(e){this.trigger(`${e.id.toString()}_pip_did_error`)}}var s=new o;t.default=s},92298:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PiPManager=void 0;var r=a(n(81109)),i=n(81572),o=n(94816),s=a(n(40436)),l=n(48360),u=n(67294),d=a(n(56720)),c=n(87550),f=a(n(84819)),h=n(40875),p=a(n(36022)),m=a(n(88266)),g=a(n(11339)),_=n(59871),v=a(n(77912)),b=n(64551),y=n(50452),C=n(80010),S=a(n(98397)),E=n(85893);const x={msg:null,startTime:null,zoomRect:null,videoMetadata:null,videoRef:null,isVideoPlaying:!1,videoType:h.PiPVideoType.MSG,previewUrl:null,videoSrc:null},T={position:"snyj76hw",zIndex:"an6tjemt",width:"jbm6vef4",height:"bbl9m3t3",overflowX:"ora14ekb",overflowY:"nv3qcefw"},M=new Map;function k(e,t){var n;const[a,p]=(0,u.useState)(x.msg),[m,S]=(0,u.useState)(x.startTime),[k,w]=(0,u.useState)(x.zoomRect),[A,P]=(0,u.useState)(x.videoMetadata),[j,I]=(0,u.useState)(x.videoRef),[O,N]=(0,u.useState)(x.isVideoPlaying),[R,D]=(0,u.useState)(x.videoType),[L,B]=(0,u.useState)(x.previewUrl),[F,G]=(0,u.useState)(x.videoSrc),[U,V]=(0,u.useState)(null),W=e=>{V((()=>e))},H=(e,t)=>{P(e),N(t)},q=()=>{a&&v.default.didClose(a),p(x.msg),S(x.startTime),w(x.zoomRect),P(x.videoMetadata),I(x.videoRef),N(x.isVideoPlaying),D(x.videoType),B(x.previewUrl),G(x.videoSrc)},Y=e=>{e.id.equals(null==a?void 0:a.id)&&q()};(0,u.useEffect)((()=>()=>{a&&v.default.didClose(a)}),[a]);const z=()=>{null==j||j.pause()},K=()=>{a&&v.default.didError(a)};(0,c.useListener)(i.Cmd,["media_viewer_modal"],(()=>{z()})),(0,c.useListener)(_.MsgCollection,["remove"],(e=>{Y(e)})),(0,c.useListener)(null!==(n=null==a?void 0:a.chat.msgs)&&void 0!==n?n:_.MsgCollection,"remove_msgs",(e=>{e.forEach(Y)})),(0,c.useListener)(_.MsgCollection,["change:asRevoked"],(e=>{e.asRevoked&&(!e.isSentByMe&&(null==a?void 0:a.id.equals(e.id))&&o.ToastManager.open((0,E.jsx)(y.Toast,{id:(0,y.genId)(),msg:l.fbt._("Currently playing video was revoked.",null,{hk:"2Dumwc"})})),Y(e))}));const $={isOpened:e=>{var t;return null!==(t=null==a?void 0:a.id.equals(e.id))&&void 0!==t&&t},pausePiP:z,openPiP:(e,t)=>{v.default.didOpen(t.msg),e===h.PiPVideoType.MSG&&t.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:g.default.WEBC_RMR_REASON_CODE.PIP,isUserInitiated:!0}),p(t.msg),S(t.startTime),w(t.zoomRect),P(x.videoMetadata),I(x.videoRef),N(x.isVideoPlaying),D(e),B(null!=t.preview?`data:image/jpeg;base64,${t.preview}`:null),G(t.videoSrc)},closePiP:q};(0,u.useImperativeHandle)(t,(()=>$)),(0,u.useEffect)((()=>(v.default.register($),()=>{v.default.unregister()})),[]);const Q=M.get(R);return(0,E.jsx)(s.default,{transitionName:"pip",className:(0,d.default)(T),component:"div",children:null!=Q?(0,E.jsx)(Q,(0,r.default)({},(0,r.default)((0,r.default)({msg:a,startTime:m,zoomRect:k,videoMetadata:A,videoRef:j,isVideoPlaying:O,videoType:R,previewUrl:L,videoSrc:F},(()=>{const e=b.ServerProps.webPipRedesign;return e?{enableDragBar:e,bottomContent:null!=A&&null!=j?(0,E.jsx)(C.VideoRefControls,{refVideo:j,videoMetadata:A,isFullscreenMode:!1,isVideoPlaying:O,newPiPStyle:!0,onFullscreenToggle:null!=U?U:void 0}):null,topContent:(0,E.jsx)(f.default,{isFullscreenMode:!1,onClick:q})}:Object.freeze({})})()),{},{animationStartStyle:k?{height:k.bottom-k.top,width:k.right-k.left,left:k.left,bottom:window.innerHeight-k.bottom}:null,onClose:q,onError:K,autoPlay:!0,onRefSet:I,onVideoMetadataChange:H,onSetFullscreenToggleCallback:W}))):null})}M.set(h.PiPVideoType.MSG,p.default),M.set(h.PiPVideoType.YOUTUBE,S.default),M.set(h.PiPVideoType.OG,m.default);const w=(0,u.forwardRef)(k);t.PiPManager=w},36022:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t}=e,n=(0,r.default)(e,s);if(null==t)return null;return(0,o.jsx)(i.default,{msg:t,mediaData:t.mediaData,animationStartStyle:n.animationStartStyle,startTime:n.startTime,onClose:n.onClose,onError:n.onError,onOpenMediaViewer:n.onClose,onMissingMedia:n.onClose,onUnsupportedMedia:n.onClose,autoPlay:n.autoPlay,enableDragBar:n.enableDragBar,topContent:n.topContent,bottomContent:n.bottomContent,disablePiPControls:n.enableDragBar,onRefSet:n.onRefSet,onVideoMetadataChange:n.onVideoMetadataChange,onSetFullscreenToggleCallback:n.onSetFullscreenToggleCallback})};var r=a(n(6479)),i=a(n(32808)),o=n(85893);const s=["msg"]},88266:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,videoSrc:n,previewUrl:a}=e,l=(0,r.default)(e,s);if(null==t||null==n||null==a)return null;return(0,o.jsx)(i.default,{ogVideoInfo:{videoMsg:t,videoUrl:n,previewUrl:a},startTime:l.startTime,onClose:l.onClose,onError:l.onError,animationStartStyle:l.animationStartStyle,autoPlay:l.autoPlay,enableDragBar:l.enableDragBar,topContent:l.topContent,bottomContent:l.bottomContent,disablePiPControls:l.enableDragBar,onRefSet:l.onRefSet,onVideoMetadataChange:l.onVideoMetadataChange,onSetFullscreenToggleCallback:l.onSetFullscreenToggleCallback})};var r=a(n(6479)),i=a(n(84321)),o=n(85893);const s=["msg","videoSrc","previewUrl"]},98397:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{videoSrc:t}=e,n=(0,r.default)(e,u);if(null==t)return null;return(0,l.jsx)(o.FloatingVideoPlayer,{aspectRatio:i.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:n.animationStartStyle,enableDragBar:n.enableDragBar,topContent:n.topContent,bottomContent:n.bottomContent,children:(0,l.jsx)(s.default,{youtubeVideoId:t,startTime:n.startTime,onClose:n.onClose,disablePiPControls:n.enableDragBar,onRefSet:n.onRefSet,onVideoMetadataChange:n.onVideoMetadataChange,autoPlay:n.autoPlay,onSetFullscreenToggleCallback:n.onSetFullscreenToggleCallback,exposeIframeInPiP:n.enableDragBar},t)},t)};var r=a(n(6479)),i=n(40875),o=n(4522),s=a(n(48560)),l=n(85893);const u=["videoSrc"]},55389:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedSharedVideoPlayer=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=a(n(81109)),i=a(n(18446)),o=n(26741),s=a(n(40436)),l=a(n(94184)),u=n(48360),d=n(67294),c=a(n(51799)),f=n(87550),h=a(n(37453)),p=a(n(89113)),m=a(n(84819)),g=n(40875),_=n(12591),v=a(n(50315)),b=a(n(51582)),y=a(n(14296)),C=a(n(81136)),S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(41124)),E=n(58668),x=a(n(54987)),T=a(n(34949)),M=n(19656),k=a(n(27557)),w=n(64551),A=a(n(22433)),P=a(n(33896)),j=a(n(23217)),I=a(n(81375)),O=n(80010),N=n(85893);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function D(e){let{children:t}=e;return(0,N.jsxs)(k.default,{children:[(0,N.jsx)(j.default,{directional:!0,className:P.default.errorLinkChevron,display:"inline",name:"alert"})," ",u.fbt._("The video can't be played.",null,{hk:"4Es7E8"}),t]})}function L(e){var t,n;let{type:a,ogVideoInfo:r}=e;if(a!==g.PLAYER_TYPE.OG_FLOATER)return null;if(!r)return null;const i=null!==(t=null===(n=r.videoMsg.ctwaContext)||void 0===n?void 0:n.sourceUrl)&&void 0!==t?t:r.videoMsg.matchedText;return(0,N.jsxs)(_.ExternalLink,{className:P.default.errorLink,href:i,children:[(0,N.jsx)("span",{children:u.fbt._("Open the link",null,{hk:"2xiq6A"})}),(0,N.jsx)(j.default,{directional:!0,display:"inline",name:"chevron-right-text",className:P.default.errorLinkChevron})]})}function B(e,t){const{onFullscreenToggle:n,onSetFullscreenToggleCallback:a,onRefSet:u,startTime:_,onAspectRatio:k,onLoadedMetadata:j,onVideoEnded:R,onError:B,onVideoMetadataChange:F,type:G,ogVideoInfo:U,autoPlay:V,msgVideoInfo:W,onClose:H,onLoadedData:q,noPip:Y=!1,disablePiPControls:z=!1}=e,K=(0,d.useRef)(null),$=(0,d.useRef)(null),Q=(0,d.useRef)([]),[X,J]=(0,d.useState)(null),[Z,ee]=(0,d.useState)(!1),[te,ne]=(0,d.useState)(!1),[ae,re]=(0,d.useState)(!1),[ie,oe]=(0,d.useState)(!1),[se,le]=(0,d.useState)(v.default.isFullscreenMode()),ue=(0,h.default)(X),de=(0,h.default)(Z),ce=(0,p.default)((e=>{null==n||n(e)}));(0,d.useEffect)((()=>{ce(se)}),[se,ce]),(0,f.useListener)(v.default,"fullscreen_change",(()=>{v.default.isFullscreenMode()&&v.default.getFullscreenElement()===$.current?le(!0):v.default.isFullscreenMode()||le(!1)}));const fe=(0,c.default)((()=>{oe(!1)}),3e3),he=e=>{se?(e=>{e.stopPropagation(),v.default.exitFullscreen()})(e):(e=>{e.stopPropagation(),v.default.requestFullscreen($.current)})(e)};(0,d.useEffect)((()=>{null==a||a(he)}),[]);const pe=(0,p.default)((e=>{K.current=e,null!=e&&(null==u||u(e))})),me=(e,t)=>{const n=null!=_?_:0;e.videoWidth||ne(!0),J({duration:e.duration,currentTime:n,volume:e.volume,muted:e.muted,bufferedTime:0}),k&&e.videoWidth&&e.videoHeight&&k(e.videoWidth/e.videoHeight),j&&j(t)},ge=(e,t)=>{let n=0;for(let a=0;a<e.length;a++)if(t>=e[a][0]&&t<e[a][1]){n=e[a][1];break}return n},_e=e=>{let t=null;if(X){const n=ge(Q.current,e);t=(0,r.default)((0,r.default)({},X),{},{currentTime:e,bufferedTime:n})}J(t)},ve=e=>{let t=null;X&&(t=(0,r.default)((0,r.default)({},X),{},{volume:e.volume,muted:e.muted})),J(t)},be=()=>{R&&R(),ee(!1)},ye=e=>{20!==e?(ne(!0),B&&B()):ee(!1)},Ce=()=>{ee(!1)},Se=()=>{ee(!0)},Ee=e=>{if(!X)return;const t=X.currentTime,n=ge(e,t),a=(0,r.default)((0,r.default)({},X),{},{bufferedTime:n});J(a)},xe=()=>w.ServerProps.webPipRedesign&&se,Te=()=>$.current;(0,d.useEffect)((()=>{de===Z&&(0,i.default)(ue,X)||null==F||F(X,Z)}),[Z,F,de,ue,X]);const Me=()=>K.current?K.current.getCurrentTime():0,ke=()=>{switch(G){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:if(!W)return!1;const e=W.mediaData;return e.mediaStage===E.MEDIA_DATA_STAGE.RESOLVED||e.streamable&&e.isStreamable();case g.PLAYER_TYPE.OG_FLOATER:return!0}return!0};let we,Ae,Pe;(0,d.useImperativeHandle)(t,(()=>({getContainerElement:Te,getCurrentTimeFromVideo:Me})));const je=ke(),Ie=xe();je&&!Ie&&(Ae=(0,N.jsx)(b.default,{isFullscreenMode:se,onClick:he}));const Oe=Ie?null:(0,N.jsx)(m.default,{isFullscreenMode:se,onClick:t=>{t.stopPropagation(),e.onClose()}});switch(e.type){case g.PLAYER_TYPE.OG_FLOATER:case g.PLAYER_TYPE.FLOATER:we=(0,N.jsxs)(N.Fragment,{children:[o.UA.isSafari?null:Ae,Oe]});break;case g.PLAYER_TYPE.MEDIA_VIEWER:let t;t=se?Oe:!Y&&je?(0,N.jsx)(M.PiPButton,{onClick:t=>{t.stopPropagation(),e.onClose&&e.onClose(),e.onOpenVideoFloater&&e.onOpenVideoFloater()},theme:M.PIP_BUTTON_THEME.PLAYER}):null,we=(0,N.jsxs)(N.Fragment,{children:[Ae,t]}),Pe=e=>{e.stopPropagation(),K.current&&(Z?K.current.pause():K.current.play())}}let Ne;Ne=se?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(A.default,{theme:"upper"}),(0,N.jsx)(A.default,{theme:"lower"})]}):e.type===g.PLAYER_TYPE.MEDIA_VIEWER?(0,N.jsx)(A.default,{theme:"full-sharp"}):(0,N.jsx)(A.default,{theme:"full-rounded"});const Re=te?(0,N.jsx)(D,{children:(0,N.jsx)(L,{type:G,ogVideoInfo:U})}):null;return(0,N.jsxs)("div",{ref:$,className:(0,l.default)(P.default.container,{[P.default.fullscreen]:se}),onMouseEnter:()=>{re(!0)},onMouseLeave:()=>{re(!1)},onMouseDown:e=>{se&&e.stopPropagation()},onMouseMove:()=>{ae||re(!0),ie||oe(!0),fe()},onClick:Pe,children:[(0,N.jsx)("div",{className:(0,l.default)(P.default.videoFloaterMedia,{[P.default.fullScreenRedesign]:Ie}),children:(()=>{switch(G){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:return(()=>{if(!W)return null;const{preview:e}=W.mediaData;if(ke()){const t=e instanceof T.default?{backgroundImage:`url(${e.url()})`}:void 0;return(0,N.jsxs)(N.Fragment,{children:[se?null:(0,N.jsx)("div",{className:P.default.preview,style:t}),te?null:(0,N.jsx)(x.default,{ref:pe,msg:W.msg,mediaData:W.mediaData,className:P.default.videoTag,startTime:_,onEnded:be,onError:ye,onLoadedMetadata:me,onPause:Ce,onPlaying:Se,onProgress:Ee,onTimeUpdate:_e,onVolumeChange:ve,autoPlay:V,onLoadedData:q,children:y.default.t(654)},"floating-media")]})}return e instanceof T.default?(0,N.jsx)("img",{alt:y.default.t(825),src:e.url(),draggable:"false"},"floating-media"):null})();case g.PLAYER_TYPE.OG_FLOATER:return(()=>{if(!U)return null;const e={backgroundImage:`url(${U.previewUrl})`};return(0,N.jsxs)(N.Fragment,{children:[se?null:(0,N.jsx)("div",{className:P.default.preview,style:e}),""!==U.videoUrl?(0,N.jsx)(I.default,{ref:pe,url:U.videoUrl,startTime:_,onEnded:be,onError:ye,onLoadedMetadata:me,onPause:Ce,onPlaying:Se,onProgress:Ee,onTimeUpdate:_e,onVolumeChange:ve,autoPlay:V,onLoadedData:q,children:y.default.t(654)},"floating-media"):null]})})()}return null})()}),(()=>{switch(G){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:return W?(0,N.jsx)("div",{className:P.default.mediaStageWrapper,children:(0,N.jsx)(C.default,{msg:W.msg,mediaData:W.mediaData})}):null;case g.PLAYER_TYPE.OG_FLOATER:return U&&""===U.videoUrl?(0,N.jsx)("div",{className:P.default.mediaStageWrapper,children:(0,N.jsx)(S.Pending,{})}):null}return null})(),Re,e.overlays,(0,N.jsx)(s.default,{transitionName:"fade-fast",children:ae&&ie&&!0!==(z&&!se)&&!te?(0,N.jsxs)(N.Fragment,{children:[Ne,(()=>{var e;if(!ke())return null;if(!X)return null;const t=xe();return(0,N.jsx)(O.VideoRefControls,{refVideo:K.current,videoMetadata:X,isFullscreenMode:se,isVideoPlaying:Z,ctwaSourceUrl:null==U||null===(e=U.videoMsg.ctwaContext)||void 0===e?void 0:e.sourceUrl,newPiPStyle:t,onFullscreenToggle:t?he:void 0,onClose:t?H:void 0})})(),we]}):null})]},"elementsWrapped")}t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;const F=(0,d.forwardRef)(B);t.WrappedSharedVideoPlayer=F},81375:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(78718)),i=a(n(23279)),o=n(55452),s=n(67294),l=a(n(55010)),u=a(n(89113)),d=a(n(96021)),c=n(85893);const f=(0,i.default)(((e,t)=>{(0,o.setVideoVolumeSettings)(e,t)}),500);function h(e,t){const{onVolumeChange:n,onPlaying:a,startTime:i,onLoadedMetadata:h,onProgress:p,onTimeUpdate:m,onError:g}=e,_=(0,s.useRef)(null);(0,l.default)((()=>{f.flush()}));const v=(0,u.default)((()=>{const e=_.current;e&&e.getPaused()&&e.play()})),b=(0,u.default)((()=>{const e=_.current;e&&(e.getPaused()||e.pause())})),y=(0,u.default)((()=>!_.current||_.current.getPaused())),C=(0,u.default)((()=>_.current?_.current.getCurrentTime():0)),S=(0,u.default)((e=>{_.current&&_.current.setCurrentTime(e)})),E=(0,u.default)((()=>_.current?_.current.getDuration():0)),x=(0,u.default)((()=>_.current?_.current.getVolume():0)),T=(0,u.default)((e=>{_.current&&_.current.setVolume(e)})),M=(0,u.default)((()=>!!_.current&&_.current.getMuted())),k=(0,u.default)((e=>{_.current&&_.current.setMuted(e)})),w=(0,u.default)((()=>{const e=_.current;if(e){const t=e.getVolume(),a=e.getMuted();f(t,a),n({volume:t,muted:a})}})),A=(0,u.default)((()=>{a()})),P=(0,u.default)((()=>{_.current&&"number"==typeof i&&_.current.setCurrentTime(i)})),j=(0,u.default)((e=>{null!=i&&P();const t=(0,r.default)(e.target,["duration","volume","muted","videoWidth","videoHeight"]);h(t,e)}));return(0,s.useEffect)((()=>{P()}),[i,P]),(0,s.useEffect)((()=>{const e=_.current;if(e){const t=(0,o.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}}),[]),(0,s.useImperativeHandle)(t,(()=>({play:v,pause:b,getPaused:y,getCurrentTime:C,setCurrentTime:S,getDuration:E,getVolume:x,setVolume:T,getMuted:M,setMuted:k})),[v,b,y,C,S,E,x,T,M,k]),(0,c.jsx)(d.default,{ref:_,src:e.url,poster:e.poster,className:e.className,onVolumeChange:w,onEnded:e.onEnded,onError:e=>{var t,n,a;const r=null!==(t=null===(n=_.current)||void 0===n||null===(a=n.underlyingVideo())||void 0===a?void 0:a.error)&&void 0!==t?t:null;null!=r||null==e.code?g(null==r?void 0:r.code):g(e.code)},onPause:e.onPause,onPlaying:A,onProgress:()=>{if(!_.current)return;const e=_.current.getBuffered(),t=[];if(e)for(let n=0;n<e.length;n++)t.push([e.start(n),e.end(n)]);p(t)},onTimeUpdate:e=>{const t=e.target.currentTime;m(t)},onLoadedMetadata:j,autoPlay:e.autoPlay,onLoadedData:e.onLoadedData,children:e.children})}var p=(0,s.forwardRef)(h);t.default=p},75538:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_RADIUS_WINDOW=t.THUMB_RADIUS_FULLSCREEN=void 0,t.VideoControls=function(e){const{isFullscreenMode:t,ctwaSourceUrl:n,onClose:a,onFullscreenToggle:r,onVolumeValueChange:o,duration:b,className:y,isVideoPlaying:C,onPause:S,onPlay:k,newPiPStyle:w=!1,onMutedValueChange:A,onProgressChange:P}=e,j=(0,d.useRef)(null),[I,O]=(0,d.useState)(!1),[N,R]=(0,d.useState)(!1),[D,L]=(0,d.useState)(!1),[B,F]=(0,d.useState)(void 0),[G,U]=M(e.muted),[V,W]=M(e.volume),[H,q]=M(e.bufferedTime),[Y,z]=M(e.progress,N),K=t?(0,v.jsx)("div",{className:(0,l.default)(_.default.timeText,_.default.currentTime),onClick:E,children:i.Clock.durationStr(Y)}):null,$=t?(0,v.jsx)("div",{className:(0,l.default)(_.default.timeText,_.default.duration),onClick:E,children:i.Clock.durationStr(b)}):null,Q=null!=y?y:_.default.controls,X=w&&Math.ceil(Y)>=b,J=X?"refresh":"video-play",Z=X?u.fbt._("Replay",null,{hk:"3rMdow"}):u.fbt._("Play",null,{hk:"4CjEWt"});return(0,v.jsxs)("div",{className:(0,l.default)(Q,{[_.default.fullscreen]:t,[_.default.pipContainer]:w}),children:[(0,v.jsx)("div",{className:_.default.playpauseBtnContainer,onClick:E,onMouseDown:E,onMouseUp:E,children:(0,v.jsx)(g.default,{"aria-label":C?u.fbt._("Pause",null,{hk:"1kvbzt"}):Z,name:C?"video-pause":J,display:"inline",onClick:C?S:k})}),(0,v.jsx)(x,{progress:e.progress,duration:b,bufferedTime:H,isFullscreenMode:t,isMouseOverProgressBar:D,mouseOverProgressRatio:B,onChange:e=>{const t=parseFloat(e.target.value);P(t);const n=Math.abs(H-b)<.1?H:0;z(t),q(n)},onMouseDown:()=>{R(!0),j.current=C,C&&S()},onMouseUp:()=>{R(!1),!0===j.current&&k(),j.current=null},onMouseEnter:()=>{L(!0)},onMouseLeave:()=>{L(!1)},onMouseOverProgressRatioChange:F}),(0,v.jsx)(T,{muted:G,volume:V,defaultValume:e.volume,onUnmute:()=>{A(!1),U(!1)},onMute:()=>{A(!0),U(!0)},onVolumeValueChange:e=>{W(e),o(e)},isMouseOverVolumeControl:I,onMouseEnter:()=>{O(!0)},onMouseLeave:()=>{O(!1)}}),K,$,null!=r?(0,v.jsx)("div",{className:(0,l.default)(_.default.fullscreenBtn),children:(0,v.jsx)(m.default,{isFullscreenMode:t,onClick:r,isStatic:!0})}):null,null!=a?(0,v.jsx)("div",{className:(0,l.default)(_.default.closeBtn),children:(0,v.jsx)(c.default,{isFullscreenMode:t,onClick:a,isStatic:!0})}):null,I&&!G||null==n?null:(0,v.jsx)(h.default,{isFullscreenMode:t,onClick:e=>{e.preventDefault(),e.stopPropagation(),null!=n&&(0,p.openExternalLink)(n)},isInstagram:(ee=n,s.default.withoutWww(s.default.hostname(ee))===f.HOSTNAME.INSTAGRAM)})]});var ee};var r=a(n(23104)),i=n(40234),o=n(26741),s=a(n(76139)),l=a(n(94184)),u=n(48360),d=n(67294),c=a(n(84819)),f=n(40875),h=a(n(74852)),p=n(12591),m=a(n(51582)),g=a(n(38932)),_=a(n(2425)),v=n(85893);const b=parseFloat(_.default["-thumb-radius-window"].replace(/px$/,""));t.THUMB_RADIUS_WINDOW=b;const y=parseFloat(_.default["-thumb-radius-fullscreen"].replace(/px$/,""));t.THUMB_RADIUS_FULLSCREEN=y;function C(e,t){switch(!0){case t:return"video-volume-muted";case e<.5:return"video-volume-1";case e>=1:return"video-volume"}return"video-volume-2"}function S(e){let{mouseOverProgressRatio:t,duration:n}=e;if(void 0===t)return(0,v.jsx)("div",{className:_.default.tooltipWrapper});const a=i.Clock.durationStr(t*n);return(0,v.jsx)("div",{className:_.default.tooltipWrapper,style:{left:100*t+"%"},children:(0,v.jsx)("div",{className:(0,l.default)(_.default.tooltipTextBoxGeneral,_.default.tooltipTextBoxPosAndSize),children:a})})}function E(e){e.stopPropagation()}function x(e){let{progress:t,duration:n,bufferedTime:a,isFullscreenMode:i,isMouseOverProgressBar:o,mouseOverProgressRatio:s,onChange:u,onMouseDown:d,onMouseUp:c,onMouseEnter:f,onMouseLeave:h,onMouseOverProgressRatioChange:p}=e,m=t/n;m>1&&(m=1);const g=100*m+"%";let C=a/n;C>1&&(C=1);const x=100*C+"%";return(0,v.jsxs)("div",{className:(0,l.default)(_.default.progressBarContainer),onClick:E,onMouseDown:E,onMouseEnter:f,onMouseLeave:e=>{h(e),p(void 0)},onMouseMove:e=>{const a=i?y:b,r=e.currentTarget.getBoundingClientRect().left,o=e.pageX,s=e.currentTarget.offsetWidth-2*a;let l=(o-r-a)/s;const u=Math.abs(o-r-a-s*(t/n))<=a;l<0?l=u?0:void 0:l>1&&(l=u?1:void 0),p(l)},children:[(0,v.jsx)("input",{"data-testid":"progress",className:_.default.hiddenProgressBar,dir:"ltr",onChange:u,onMouseDown:d,onMouseUp:c,type:"range",min:"0",max:(0,r.default)(n,2),step:"any",value:t}),(0,v.jsxs)("div",{className:_.default.displayedProgressBar,children:[(0,v.jsx)("div",{className:(0,l.default)(_.default.progressItem,_.default.displayedTrack)}),(0,v.jsx)("div",{className:(0,l.default)(_.default.progressItem,_.default.displayedBuffer,{[_.default.lowerTrackLongest]:1===C}),style:{width:x}}),(0,v.jsx)("div",{className:(0,l.default)(_.default.progressItem,_.default.displayedProgress,{[_.default.lowerTrackLongest]:1===m}),style:{width:g}}),(0,v.jsx)("div",{className:(0,l.default)(_.default.thumb,{[_.default.hideThumb]:!o}),style:{left:g}}),(0,v.jsx)(S,{mouseOverProgressRatio:s,duration:n})]})]})}function T(e){let{muted:t,volume:n,defaultValume:a,onUnmute:r,isMouseOverVolumeControl:i,onMute:s,onVolumeValueChange:d,onMouseEnter:c,onMouseLeave:f}=e;const h=t||0===n,p=(0,v.jsx)(g.default,{"aria-label":h?u.fbt._("Unmute",null,{hk:"aQpZx"}):u.fbt._("Mute",null,{hk:"1C7Sjw"}),name:C(n,h),display:"inline",onClick:()=>{h?r():s(),0===a&&d(.25)}}),m=(0,v.jsxs)("div",{className:(0,l.default)(_.default.volumeBarContainer,{[_.default.visible]:i&&!t}),children:[(0,v.jsx)("div",{className:(0,l.default)(_.default.volumeLowerTrack,{[_.default.lowerTrackLongest]:1===n,[_.default.firefoxFix]:o.UA.isGecko}),style:{width:100*n+"%"}}),(0,v.jsx)("input",{className:_.default.volumeBar,dir:"ltr",onChange:e=>{d(parseFloat(e.target.value))},type:"range",min:"0",max:1,step:"any",value:n})]});return(0,v.jsxs)("div",{className:(0,l.default)(_.default.volumeContainer),onClick:E,onMouseEnter:c,onMouseLeave:f,onMouseDown:E,children:[p,m]})}function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,a]=(0,d.useState)(e),[r,i]=(0,d.useState)(e);return r===e||t||(a(e),i(e)),[n,a]}},80010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoRefControls=function(e){const{refVideo:t}=e;if(!e.refVideo)return null;const n=e.videoMetadata;if(!n)return null;return(0,r.jsx)(a.VideoControls,{duration:n.duration,progress:n.currentTime,volume:n.volume,muted:n.muted,bufferedTime:n.bufferedTime,onPlay:()=>{null==t||t.play()},onPause:()=>{null==t||t.pause()},onProgressChange:e.handleSetCurrentTimeByControls?e.handleSetCurrentTimeByControls:e=>{null==t||t.setCurrentTime(e)},onVolumeValueChange:e=>{null==t||t.setVolume(e)},onMutedValueChange:e=>{null==t||t.setMuted(e)},isVideoPlaying:e.isVideoPlaying,isFullscreenMode:e.isFullscreenMode,className:e.controlsClassName,ctwaSourceUrl:e.ctwaSourceUrl,newPiPStyle:e.newPiPStyle,onFullscreenToggle:e.onFullscreenToggle,onClose:e.onClose})};var a=n(75538),r=n(85893)},70437:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_STREAM_URL=void 0,t.handleVideoStreamingRequest=function(e){let{action:t,message:r}=e;switch(t){case s.default.REQUEST_STREAMING_INFO:return function(e){const t=d.MsgCollection.get(e);return t?(0,l.videoStreamingInfo)(t):null}(r.key);case s.default.EXP_BACKOFF:const{expDelaySec:e}=n(80284);return e(r.generation,60).then((()=>o.default.waitIfOffline({signal:(new a).signal})));case s.default.REQUEST_RMR:return function(){return f.apply(this,arguments)}(r);case s.default.SEND_STREAMING_CHUNK:const t=r.msgKey,i=d.MsgCollection.get(t);if(!i)return void delete h[t.toString()];let p;h.hasOwnProperty(t)?p=h[t.toString()]:h[t.toString()]=p=new c(i.size),p.push(r.data),p.isComplete()&&((0,l.manuallySetMedia)({msg:i,media:p.serialize(),rmrReason:u.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING}),delete h[t.toString()]);break;default:return Promise.reject(new Error("Invalid Video Streaming Action"))}};var i=r(n(48926)),o=r(n(81602)),s=r(n(64237)),l=n(78986),u=r(n(11339)),d=n(59871);t.VIDEO_STREAM_URL="/stream/video";class c{constructor(e){this.ranges=[],this.buffer=[],this.size=e,e||__LOG__(3)`video buffer falsy size: ${e}`}push(e){this.buffer.push(e),this.add(e.start,e.end)}add(e,t){let n=e;const a=this.ranges;for(let e=0;e<a.length;e++){let[r,i]=a[e];if(!(n>i+1)){if(t+1<r)return a.splice(e,0,[n,t]);for(;e+1<a.length;){const[o,s]=a[e+1];if(t+1<o)break;n=Math.min(n,r),a.splice(e,1),r=o,i=s}return void(a[e]=[Math.min(n,r),Math.max(t,i)])}}return a.push([n,t])}isComplete(){const e=this.ranges,t=this.size;return!!t&&(1===e.length&&0===e[0][0]&&e[0][1]===t-1)}serialize(){const e=new Uint8Array(this.size),t=this.buffer;for(let n=0;n<t.length;n++){const{start:a,buffer:r}=t[n];e.set(new Uint8Array(r),a)}return e}}function f(){return(f=(0,i.default)((function*(e){const t=d.MsgCollection.get(e.key);if(!t)return null;throw yield t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:u.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING,isUserInitiated:!0}),new Error("downloaded media instead of streaming")}))).apply(this,arguments)}const h={}},48560:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onSetFullscreenToggleCallback:t,onRefSet:n,onVideoEnded:a,onError:y,startTime:T,onVideoMetadataChange:M,onClose:k}=e,w=(0,u.useRef)(null),A=(0,u.useRef)(null),P=(0,u.useRef)(null),j=(0,u.useRef)(_.ServerProps.webPipRedesign),I=(0,u.useRef)(null),[O,N]=(0,u.useState)(void 0),[R,D]=(0,u.useState)(!1),[L,B]=(0,u.useState)(!1),[F,G]=(0,u.useState)(!1),[U,V]=(0,u.useState)(!1),[W,H]=(0,u.useState)(!1),q=(0,f.default)(R),Y=(0,f.default)(O);(0,c.useListener)(m.default,"fullscreen_change",(()=>{m.default.isFullscreenMode()&&m.default.getFullscreenElement()===w.current?V(!0):m.default.isFullscreenMode()||V(!1)}));const z=e=>{e.stopPropagation(),U?m.default.exitFullscreen():m.default.requestFullscreen(w.current)},K=(0,d.default)((()=>{G(!1)}),b.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT);(0,u.useEffect)((()=>{null==t||t(z)}),[]);const $=(0,h.default)((e=>{A.current=e,null!=e&&(null==n||n(e))}));(0,u.useEffect)((()=>{q===R&&(0,i.default)(Y,O)||null==M||M(O,R)}),[R,q,M,O,Y]);const Q=e.exposeIframeInPiP||W||U?null:(0,E.jsx)("div",{className:C.default.blockYoutube}),X=(0,E.jsxs)("div",{className:(0,l.default)(C.default.youtubeContainer,{[C.default.fullscreen]:U}),children:[Q,(0,E.jsx)(S.default,{ref:$,youtubeVideoId:e.youtubeVideoId,startTime:e.startTime,onEnded:()=>{a&&a();const e=A.current;e&&!_.ServerProps.webPipRedesign&&(e.play(),e.pause()),D(!1)},onError:()=>{y&&y()},onLoadedMetadata:e=>{const t=null!=T?T:0;N({duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0})},onPause:()=>{const e=A.current?A.current.getCurrentTime():null;let t=null;O&&null!=e&&(t=(0,r.default)((0,r.default)({},O),{},{currentTime:e})),N(t),D(!1),P.current=!0},onPlaying:()=>{const e=A.current?A.current.getCurrentTime():null;let t=null;O&&null!=e&&(t=(0,r.default)((0,r.default)({},O),{},{currentTime:e})),N(t),D(!0),P.current=!0},onProgress:e=>{const t=e[0][1];let n=null;O&&(n=(0,r.default)((0,r.default)({},O),{},{bufferedTime:t})),N(n)},onTimeUpdate:e=>{if(P.current)return void(P.current=!1);let t=null;O&&(t=(0,r.default)((0,r.default)({},O),{},{currentTime:e})),N(t)},onVolumeChange:e=>{let t=null;O&&(t=(0,r.default)((0,r.default)({},O),{},{volume:e.volume,muted:e.muted})),N(t)},autoPlay:e.autoPlay})]}),J=!e.disablePiPControls||U?(0,E.jsx)(x,{videoMetadata:O,newStyleActive:j.current,videoRef:A,mouseDownCoorRef:I,mouseMoveRecently:F,isVideoPlaying:R,isFullscreenMode:U,onFullScreenToggle:z,onClose:k,onExposeIframeInPiP:H}):null;let Z;o.UA.isSafari||(Z=(0,E.jsx)(g.default,{isFullscreenMode:U,onClick:z}));const ee=(0,E.jsx)(v.default,{theme:"full-rounded"}),te=U?(0,E.jsxs)(E.Fragment,{children:[X,J,j.current?null:(0,E.jsxs)("div",{className:(0,l.default)(C.default.widgetsWrapper,C.default.opacityTransition,{[C.default.dimmed]:!F}),children:[Z,(0,E.jsx)(p.default,{isFullscreenMode:U,onClick:t=>{t.stopPropagation(),e.onClose()}})]})]}):(0,E.jsxs)(E.Fragment,{children:[X,(0,E.jsx)(s.default,{transitionName:"fade-fast",children:L&&F&&!W&&!e.disablePiPControls?(0,E.jsxs)(E.Fragment,{children:[ee,J,Z,(0,E.jsx)(p.default,{isFullscreenMode:U,onClick:t=>{t.stopPropagation(),e.onClose()}})]}):null})]});return(0,E.jsx)("div",{ref:w,className:(0,l.default)(C.default.container,{[C.default.fullscreen]:U,[C.default.redesign]:j.current}),onMouseEnter:()=>{if(W){if(o.UA.isGecko&&L)return;H(!1)}B(!0)},onMouseLeave:()=>{B(!1)},onMouseDown:e=>{U&&e.stopPropagation()},onMouseMove:()=>{L||B(!0),F||G(!0),K()},children:te},"elementsWrapped")};var r=a(n(81109)),i=a(n(18446)),o=n(26741),s=a(n(40436)),l=a(n(94184)),u=n(67294),d=a(n(51799)),c=n(87550),f=a(n(37453)),h=a(n(89113)),p=a(n(84819)),m=a(n(50315)),g=a(n(51582)),_=n(64551),v=a(n(22433)),b=n(55389),y=n(80010),C=a(n(10250)),S=a(n(42425)),E=n(85893);function x(e){let{videoMetadata:t,newStyleActive:n,videoRef:a,mouseMoveRecently:r,isVideoPlaying:i,isFullscreenMode:o,onFullScreenToggle:s,onClose:u,onExposeIframeInPiP:d,mouseDownCoorRef:c}=e;const f=e=>{if(a.current){let n=e;t&&e>=t.duration-1&&t.duration>1&&(n=t.duration-1),a.current.setCurrentTime(n)}};let h=null;if(t){const e=(0,l.default)(C.default.strippedVideoControls,C.default.opacityTransition,{[C.default.dimmed]:!r});h=(0,E.jsx)(y.VideoRefControls,{refVideo:a.current,videoMetadata:t,isFullscreenMode:o,isVideoPlaying:i,handleSetCurrentTimeByControls:f,controlsClassName:o?e:void 0,onFullscreenToggle:n?s:void 0,onClose:n?u:void 0,newPiPStyle:n}),o||(h=(0,E.jsx)("div",{className:C.default.videoControlsWrapper,onMouseDown:e=>{c.current={x:e.clientX,y:e.clientY}},onMouseUp:e=>{const t=e.clientX,n=e.clientY,a=c.current,r=a?a.x:void 0,i=a?a.y:void 0;null!=r&&null!=i&&Math.abs(t-r)+Math.abs(n-i)<4&&d(!0)},children:h}))}return h}},42425:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=a(n(82492)),o=a(n(23279)),s=n(22712),l=n(55452),u=n(67294),d=n(84387),c=n(64551),f=n(38090),h=n(85893);const p=(0,o.default)((e=>{(0,l.setVideoVolumeSetting)(e)}),500),m=(0,o.default)((e=>{(0,l.setVideoMutedSetting)(e)}),500),g=1,_={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}};class v extends u.PureComponent{constructor(){super(...arguments),this.videoLoadedFraction=0,this.currentTime=0,this._handleStateChange=e=>{e.target.getPlayerState()!==g&&this.props.onPause()},this._handleError=()=>{this.props.onError()},this._handlePause=()=>{var e;null===(e=this._releaseAudioChannelClaim)||void 0===e||e.call(this),this.props.onPause()},this.player=null,this.updateInterval=null,this.setMuted=e=>{const t=this.player;t&&(e?t.mute():t.unMute(),m(e))},this.getMuted=()=>!!this.player&&this.player.isMuted(),this.setVolume=e=>{this.player&&(this.player.setVolume(100*e),p(e))},this.getVolume=()=>this.player?.01*this.player.getVolume():0,this.getDuration=()=>this.player?this.player.getDuration():0,this.setCurrentTime=e=>{this.player&&this.player.seekTo(e,!0)},this.getCurrentTime=()=>this.player?this.player.getCurrentTime():0,this.pause=()=>{this.player&&this.player.pauseVideo()},this._handlePlay=()=>{this._releaseAudioChannelClaim=s.MainAudioChannel.claim(this,(()=>{this.pause()})),this.props.onPlaying()},this.play=()=>{this.player&&this.player.playVideo()},this._handleEnd=()=>{this.props.onEnded();const e=this.player;e&&!c.ServerProps.webPipRedesign&&(e.playVideo(),e.pauseVideo())},this.update=()=>{const e=this.player;if(e){const t=e.getCurrentTime();t!==this.currentTime&&(this.currentTime=t,this.props.onTimeUpdate(t));const n=e.getVideoLoadedFraction();if(n!==this.videoLoadedFraction){this.videoLoadedFraction=n;const e=this.videoTagMetadata?this.videoTagMetadata.duration*n:0;this.props.onProgress([[0,e]])}const a=this.videoTagMetadata;if(a){const t=.01*e.getVolume(),n=e.isMuted();t===a.volume&&n===a.muted||(this.videoTagMetadata=(0,r.default)((0,r.default)({},a),{},{volume:t,muted:n}),this.props.onVolumeChange({volume:t,muted:n}))}}},this._handleOtherPlaying=e=>{e!==this&&this.player&&this.player.pauseVideo()},this.setStartTime=()=>{this.player&&"number"==typeof this.props.startTime&&this.player.seekTo(this.props.startTime,!0)},this._handleReady=e=>{this.player=e.target;const t=this.player,n=(0,l.getVideoVolumeSettings)();let a,r;n&&("number"==typeof n.volume&&(a=n.volume),"boolean"==typeof n.muted&&(r=n.muted));const i=t.getDuration(),o=null!=a?a:.01*t.getVolume(),s=null!=r?r:t.isMuted(),u=t.getIframe().getBoundingClientRect(),d=u.width,c=u.height;this.videoTagMetadata={duration:i,volume:o,muted:s,videoWidth:d,videoHeight:c},this.props.onLoadedMetadata(this.videoTagMetadata),this.currentTime=t.getCurrentTime(),this.updateInterval=setInterval(this.update,250),null!=this.props.startTime&&this.setStartTime(),null!=a&&this.setVolume(a),null!=r&&this.setMuted(r)},this.getPlayerState=()=>{if(this.player)return this.player.getPlayerState()},this.getPaused=()=>!this.player||this.getPlayerState()!==g}componentDidUpdate(e){e.startTime!==this.props.startTime&&this.setStartTime()}componentWillUnmount(){var e;this.player=null,null===(e=this._releaseAudioChannelClaim)||void 0===e||e.call(this),this.updateInterval&&clearInterval(this.updateInterval)}render(){const e=(0,i.default)({},_,{playerVars:{autoplay:this.props.autoPlay?1:0,widget_referrer:"https://whatsapp.com",origin:window.location.origin}});return(0,h.jsx)(f.YouTube,{videoId:this.props.youtubeVideoId,opts:e,onReady:this._handleReady,onPlay:this._handlePlay,onPause:this._handlePause,onEnd:this._handleEnd,onError:this._handleError,onStateChange:this._handleStateChange})}}v.displayName="YoutubeVideoTag";const b=(0,d.ListenerHOC)(v);t.default=class extends b{constructor(){super(...arguments),this.play=()=>{this.getComponent().play()},this.pause=()=>{this.getComponent().pause()},this.getPaused=()=>this.getComponent().getPaused(),this.getCurrentTime=()=>this.getComponent().getCurrentTime(),this.setCurrentTime=e=>{this.getComponent().setCurrentTime(e)},this.getDuration=()=>this.getComponent().getDuration(),this.getVolume=()=>this.getComponent().getVolume(),this.setVolume=e=>{this.getComponent().setVolume(e)},this.getMuted=()=>this.getComponent().getMuted(),this.setMuted=e=>{this.getComponent().setMuted(e)}}}},24141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{contact:t,photoSize:n,waitIdle:l}=e,[u,d]=(0,a.useState)((()=>i.StatusV3Collection.get(t.id))),[c,f]=(0,a.useState)(t.id);t.id!==c&&(d(i.StatusV3Collection.get(t.id)),f(t.id));return(0,r.useListener)(i.StatusV3Collection,["change:msgsChanged"],(()=>{d(i.StatusV3Collection.get(t.id))})),(0,s.jsx)(o.StatusV3ProfilePhotoRingWrapper,{contact:t,photoSize:n,waitIdle:l,hideWhenNoUnreadStatuses:!0})};var a=n(67294),r=n(87550),i=n(59387),o=n(93795),s=n(85893)},31778:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{text:t,url:n}=e;return(0,o.jsx)(i.default,{xstyle:s.button,onClick:()=>{(0,r.openExternalLink)(n)},children:t})};a(n(56720));var r=n(12591),i=a(n(1784)),o=n(85893);const s={button:{display:"p357zi0d",borderTopStartRadius:"m2gb0jvt",borderTopEndRadius:"rfxpxord",borderBottomEndRadius:"gwd8mfxi",borderBottomStartRadius:"mnh9o63b",width:"ltyqj8pj",paddingTop:"b7n2qyd4",paddingEnd:"l9g3jx6n",paddingBottom:"ekpn4oxx",paddingStart:"lyvj5e2u",maxWidth:"rkwy1u70",fontSize:"enbbiyaj",height:"ohuqqxaf",lineHeight:"erpdyial",transform:"bnt9nn9b",opacity:"axi1ht8l",backgroundColor:"ppv8chjk",color:"qiqvuef5",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",animationName:"hr4hzv79",animationFillMode:"a21kwdn3",animationDuration:"h6edk2v2",animationDelay:"fdmybch3",":hover":{backgroundColor:"jhshxy31"}}}},24391:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RingTheme=void 0,t.StatusV3ImageRing=m;var r=a(n(81109)),i=a(n(56720)),o=n(35461),s=n(85893);const l={businessContactInfoRing:{marginTop:"dj1c3cmq",position:"lhggkp7q"},read:{stroke:"i2tfkqu4"},statusV3PanelRing:{marginStart:"nxn8agaf",marginTop:"kv6wexeh",position:"lhggkp7q"},chatListRing:{marginStart:"bx0vhl82",position:"lhggkp7q"},unread:{stroke:"iedsav3z"},unreadDarkModeOnly:{stroke:"j9ny8kmf"}},u=n(76672).Mirrored(["StatusV3Panel","BusinessContactInfo","ChatList"]);t.RingTheme=u;const d=new Map([[u.StatusV3Panel,l.statusV3PanelRing],[u.BusinessContactInfo,l.businessContactInfoRing],[u.ChatList,l.chatListRing]]),c=e=>e?l.unread:l.unreadDarkModeOnly;function f(e){const t=(100+e.strokeWidth)/2;return(0,s.jsx)("circle",(0,r.default)({cx:t,cy:t,r:50,fill:"none",strokeLinecap:"round"},e))}function h(e){let{className:t,totalDashes:n,dashesToDraw:a,dashesToOffsetBy:r,stroke:i}=e,o=10;const l=50*Math.PI*2;l-10*n<1&&(o=l/n/1.2);const u=(l-o*n)/n,d=((e,t,n,a)=>e+t*(n+a))(l/4-o/2,r,o,u),c=1!==n?((e,t,n,a)=>new Array(e).fill(void 0).map(((r,i)=>`${t} ${i===e-1?n-e*(a+t)+a:a}`)).join(" "))(a,u,l,o):void 0;return(0,s.jsx)(f,{className:t,strokeDashoffset:d,strokeDasharray:c,strokeWidth:i})}function p(e){let{totalCount:t,unreadCount:n,stroke:a,respectAppTheme:r}=e;const o=t-n,u=n>0?(0,s.jsx)(h,{className:(0,i.default)(c(r)),totalDashes:t,dashesToDraw:n,dashesToOffsetBy:t,stroke:a}):null,d=o>0?(0,s.jsx)(h,{className:(0,i.default)(l.read),totalDashes:t,dashesToDraw:o,dashesToOffsetBy:o,stroke:a}):null;return(0,s.jsxs)(s.Fragment,{children:[u,d]})}function m(e){const{stroke:t,size:n,breakRing:a,hideWhenNoUnreadStatuses:r,respectAppTheme:u}=e,h=(0,o.useModelValues)(e.statusV3,["unreadCount","totalCount","contact"]),m=h.contact.isMe?0:h.unreadCount;if(0===m&&r)return null;const g=100+t,_=h.totalCount,v=a&&1!==_?(0,s.jsx)(p,{totalCount:_,unreadCount:m,stroke:t,respectAppTheme:u}):(0,s.jsx)(f,{className:(0,i.default)(m>0?c(u):l.read),strokeWidth:t});return(0,s.jsx)("svg",{className:(0,i.default)(d.get(e.theme)),width:n,height:n,viewBox:`0 0 ${g} ${g}`,children:v})}m.defaultProps={size:48,stroke:4,theme:u.StatusV3Panel,breakRing:!0,hideWhenNoUnreadStatuses:!1,respectAppTheme:!1}},36190:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,l.useState)((()=>f.StatusV3Collection.getUnexpired(!0).some((e=>e.unreadCount>0&&!e.contact.statusMute)))),n=(0,l.useRef)({}),a=()=>{const a=f.StatusV3Collection.getUnexpired(!0).some((e=>{const t=n.current[e.id.toString()],a=!t||e.t>t;return!e.contact.statusMute&&e.unreadCount>0&&a}));a!==e&&t(a)};(0,u.useListener)(d.ContactCollection,r.COLLECTION_HAS_SYNCED,a),(0,u.useListener)(f.StatusV3Collection,"add remove change:unreadCount change:t",a);const g=()=>{f.StatusV3Collection.getUnexpired(!0).forEach((e=>{n.current[e.id.toString()]=e.t})),t(!1)},_=e?(0,m.jsx)(p.default,{name:"status-v3-unread",directional:!0}):(0,m.jsx)(p.default,{name:"status-v3"});return(0,m.jsx)(c.MenuBarItem,{a8nText:"menu-bar-status",tabOrder:o.TAB_ORDER.CHATLIST_HEADER,icon:_,title:s.fbt._("Status",null,{hk:"My6TT"}),onClick:e=>{e.preventDefault(),i.ModalManager.openMedia((0,m.jsx)(h.StatusV3FlowLoadable,{onFlowEnd:g,removeTopDrawer:!1}),{transition:"status-v3-modal"})}})};var r=n(13042),i=n(14597),o=n(55715),s=n(48360),l=n(67294),u=n(87550),d=n(19380),c=n(46346),f=n(59387),h=n(78781),p=a(n(23217)),m=n(85893)},5358:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3GifController=t.StatusV3CountdownController=void 0,t.setupStatusV3Controller=function(e,t){if(e){if(e.type===o.default.TYPE.IMAGE){let e=4500;return(0,r.default)(t.caption)||(e+=2e3*Math.min(t.caption.length/150,1)),new u(e)}return e.type===o.default.TYPE.VIDEO?t.isGif?new c:new s.default:new u(3e3)}if(t.type===i.MSG_TYPE.CHAT){const e=2e3+60*Math.min(t.body.length,1e3);return new u(e)}return new u(3e3)};var r=a(n(41609)),i=n(15461),o=a(n(2320)),s=a(n(25829));const l=()=>{};class u{constructor(e){this.addListeners=(e,t,n,a)=>{this._onStart=e,this._onPause=t,this._onEnded=n,this._onLoaded=a},this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._onLoaded=void 0},this.play=()=>{var e;if(this._timer)return void __LOG__(2)`Duplicate timer start`;this._timer=setTimeout(this._handleTimeup,this._timeout),this._start=(new Date).getTime();const t=this._onStart;t&&t(this._timeout,this._duration),null===(e=this._onLoaded)||void 0===e||e.call(this,!1,!0)},this.stop=()=>{if(this._timer){clearTimeout(this._timer),this._timer=null;const e=(new Date).getTime();this._timeout-=e-this._start;const t=this._onPause;t&&t()}else __LOG__(2)`Timer stop called on stopped timer`},this.resume=()=>{this.play()},this.pause=()=>{this.stop()},this._handleTimeup=()=>{const e=this._onEnded;e&&e()},this.mute=l,this.unmute=l,this._duration=e,this._timeout=this._duration,this._start=0}get duration(){return this._duration}}t.StatusV3CountdownController=u;const d=6e3;class c{constructor(){this.removeListeners=()=>{this._handleStart=void 0,this._handlePause=void 0,this._handleEnded=void 0,this._handleLoaded=void 0,this._videoController.removeListeners(),this._countdownController.removeListeners()},this.setVideo=(e,t)=>{this._video!==e&&(this._video=e,null!=t&&(this._duration=t),this._videoController.setVideo(e))},this._handleVideoStartHandler=()=>{const e=this._video;if(null==e)return;const t=this._handleStart,n=e.duration||this._duration,a=Math.max(3*n*1e3,d);t&&t(a-1e3*n*this._playCounter-1e3*e.currentTime,a)},this._handleVideoPauseHandler=()=>{const e=this._handlePause;e&&e()},this._handleVideoEndedHandler=()=>{const e=this._video;if(null==e)return;this._playCounter++;const t=this._handleEnded;3===this._playCounter&&(this._videoEnded=!0,this._timerEnded&&t&&t()),e.currentTime=0,this._videoEnded&&this._timerEnded||setTimeout((()=>{this._videoController.play()}),0)},this._handleVideoLoadedHandler=()=>{var e;null===(e=this._handleLoaded)||void 0===e||e.call(this,!1,!0)},this._handleTimerEndedHandler=()=>{const e=this._handleEnded;this._timerEnded=!0,e&&this._videoEnded&&e()},this.play=()=>{this._videoController.play(),this._countdownController.play()},this.stop=()=>{this._videoController.stop(),this._countdownController.stop()},this.resume=()=>{this._videoController.resume(),this._countdownController.resume()},this.pause=()=>{this._videoController.pause(),this._countdownController.pause()},this.mute=l,this.unmute=l,this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new s.default,this._countdownController=new u(d),this._videoController.addListeners(this._handleVideoStartHandler,this._handleVideoPauseHandler,this._handleVideoEndedHandler,this._handleVideoLoadedHandler),this._countdownController.addListeners(void 0,void 0,this._handleTimerEndedHandler)}addListeners(e,t,n,a){this._handleStart=e,this._handlePause=t,this._handleEnded=n,this._handleLoaded=a}get duration(){var e;return Math.max(3*((null===(e=this._video)||void 0===e?void 0:e.duration)||this._duration)*1e3,d)}}t.StatusV3GifController=c},32343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3ProfilePhotoRing=function(e){const{contactStatusV3:t,photoSize:u,waitIdle:d,hideWhenNoUnreadStatuses:c}=e,f=(0,r.useModelValues)(t,["unreadCount","contact"]),h=0===f.unreadCount&&e.hideWhenNoUnreadStatuses,p=(0,i.getSize)(u),m=null!=p?p+4:53;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.StatusV3ImageRing,{statusV3:f,size:m,stroke:4,hideWhenNoUnreadStatuses:c,theme:s.RingTheme.ChatList,respectAppTheme:!0,breakRing:!1}),(0,l.jsx)(o.HotKeys,{onClick:e=>{if(h)return;e.stopPropagation(),e.preventDefault();const r=n(10121).default;a.ModalManager.openMedia((0,l.jsx)(r,{removeTopDrawer:!1,statusV3:t}),{transition:"status-v3-modal"})},children:(0,l.jsx)(i.DetailImage,{id:f.contact.id,theme:h?void 0:"status_v3_profile_photo_ring",size:u,waitIdle:d,ephemeralIcon:"chat-list"})})]})};var a=n(14597),r=n(35461),i=n(88984),o=n(29424),s=n(24391),l=n(85893)},93795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3ProfilePhotoRingWrapper=function(e){const{contact:t,photoSize:n,waitIdle:l,hideWhenNoUnreadStatuses:u}=e,d=(0,s.jsx)(r.DetailImage,{id:t.id,size:n,waitIdle:l,ephemeralIcon:"chat-list"});if(!(0,a.isStatusV3ProfilePhotoRingEnabled)()||t.statusMute||t.isMe)return d;const c=i.StatusV3Collection.get(t.id);if(null==c)return d;return(0,s.jsx)(o.StatusV3ProfilePhotoRing,{contactStatusV3:c,photoSize:n,waitIdle:l,hideWhenNoUnreadStatuses:u})};var a=n(8139),r=n(88984),i=n(59387),o=n(32343),s=n(85893)},4392:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(62831)),i=a(n(94184)),o=n(67294),s=n(64551),l=a(n(57136)),u=n(85893);function d(e,t){const{onClick:n,current:a,total:d}=e,c=(0,o.useRef)(null),f=(0,o.useRef)(null),h=[];(0,o.useEffect)((()=>{__LOG__(2)`Current index: ${a}, total count: ${d}`,a>=0&&a<d||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("bad current status v3 index"))}),[]);const p=e=>{n&&n(e)},m=(e,t)=>{if(!c.current)return;const n=1e3*s.ServerProps.statusVideoMaxDuration,a=Math.min(e,n),i=Math.min(t,n);(0,r.default)(c.current,"stop"),f.current=(0,r.default)(c.current,{translateX:["0%",`-${a/i*100}%`]},{duration:a,easing:"linear"})},g=()=>{c.current&&(0,r.default)(c.current,"stop")},_=()=>{const e=f.current;return e||Promise.resolve()};(0,o.useImperativeHandle)(t,(()=>({handleStart:m,handlePause:g,handleEnded:_})));const v=100/e.total+"%";for(let t=0;t<e.total;++t){const n=(0,i.default)(l.default.foreground,{[l.default.filled]:t<e.current,[l.default.empty]:t>e.current,[l.default.active]:t===e.current}),a=(0,u.jsxs)("div",{className:l.default.wrapper,style:{width:v},onClick:()=>p(t),children:[(0,u.jsx)("div",{className:l.default.bg}),(0,u.jsx)("div",{className:l.default.mask,children:(0,u.jsx)("div",{className:n,ref:t===e.current?c:()=>{}})})]},t);h.push(a)}return(0,u.jsx)("div",{className:l.default.container,children:h})}var c=(0,o.forwardRef)(d);t.default=c},21029:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{seenCount:t,onClick:n}=e;const a=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.default,{name:"status-v3-seen",className:(0,r.default)(u.iconSeen)}),(0,l.jsx)("div",{className:(0,r.default)(u.seenCount),children:t})]}),d=n?(0,l.jsx)(s.default,{xstyle:u.container,onClick:n,children:a}):a;if(null!=t)return(0,l.jsx)("div",{className:(0,r.default)(u.container),children:d});return(0,l.jsx)(i.Spinner,{stroke:3,size:12})};var r=a(n(56720)),i=n(11054),o=a(n(23217)),s=a(n(1784)),l=n(85893);const u={iconSeen:{color:"lxozqee9"},seenCount:{marginLeft:"qddwjlxl",color:"lxozqee9"},container:{display:"p357zi0d",flexDirection:"sap93d0t",alignItems:"gndfcl4n",justifyContent:"ac2vgrno"}}},70860:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Statusv3Snapshot=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var r=a(n(48926)),i=a(n(57043)),o=a(n(44908)),s=a(n(35161)),l=n(80284),u=n(40265),d=n(13959),c=n(4352),f=n(59387);class h extends((0,u.customError)("InvalidStatusV3Iterator")){}t.InvalidStatusV3Iterator=h;class p extends((0,u.customError)("StatusV3LoadingError")){}t.StatusV3LoadingError=p;class m extends((0,u.customError)("StatusV3MsgNotFound")){}t.StatusV3MsgNotFound=m;t.Statusv3Snapshot=class{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;if(this._printInfo=()=>{this.statuses.forEach((e=>{__LOG__(2)`Total count: ${e.totalCount}, unread count: ${e.unreadCount}, msgs length: ${e.msgs.length}`}))},this.getFirstUnread=(e,t,n)=>{const a=this.statuses.findIndex((t=>t.statusV3===e));if(-1!==a){const r=this.statuses[a],i=r.readMsgKeys;let o;return n?(o=r.msgs?r.msgs.findIndex((e=>n&&e.id.toString()===n.toString())):-1,o>=0?Promise.resolve({msgIdx:o,statusIdx:a}):Promise.reject(new h)):(o=r.msgs?r.msgs.findIndex((e=>!i.includes(e.id.toString()))):-1,-1===o&&e.msgs.msgLoadState.noEarlierMsgs?(o=t?0:r.msgs.length-1,Promise.resolve({msgIdx:o,statusIdx:a})):-1!==o?Promise.resolve({msgIdx:o,statusIdx:a}):0===r.unreadCount&&t&&r.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:a}):this._fetchMore(e).then((()=>this.getFirstUnread(e,t,n))).catch((e=>{throw __LOG__(3)`error while getting first unread status: ${String(e)}`,new h})))}return Promise.reject(new h)},this.hasNext=e=>{const t=this.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<this.statuses.length},this.getNext=e=>{const t=this.statuses[e.statusIdx],n=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return n.msgs.msgLoadState.noEarlierMsgs?(__LOG__(3)`Loaded ${t.msgs.length} messages with total count ${t.totalCount}, but noEarlierMsgs set`,Promise.reject(new h)):this._fetchMore(n).then((()=>this.getNext(e))).catch((t=>{if(__LOG__(3)`error while loading more status msgs: ${String(t)}`,e.statusIdx+1<this.statuses.length){const t=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(t,!0)}throw new h}));if(e.statusIdx+1<this.statuses.length){const t=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(t,!0)}return Promise.reject(new h)},this.hasPrev=e=>e.msgIdx>0||e.statusIdx>0,this.getPrev=e=>{if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){const t=this.statuses[e.statusIdx-1].statusV3;return this.getFirstUnread(t,!1)}return Promise.reject(new h)},this.statusAt=(e,t)=>{const n=this.statuses[e.statusIdx],a=n.statusV3;return t<n.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):a.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new h):this._fetchMore(a).then((()=>this.statusAt(e,t))).catch((e=>{throw __LOG__(3)`error while loading more status msgs: ${String(e)}`,new h}))},this._fetchMore=function(){var e=(0,r.default)((function*(e){if(!(yield(0,c.promiseLoop)(function(){var n=(0,r.default)((function*(n,a,r){const u=(0,d.delayMs)((0,l.expBackoff)(r,12e4,1e3,.1));try{yield e.loadMore();const a=t.statuses.findIndex((t=>t.statusV3===e));if(-1!==a){const r=t.statuses[a],l=r.totalCount,u=r.unreadCount,d=e.msgs.getModelsArray().slice(0,l),c=d.slice(0,l-u),f=(0,s.default)(c,(e=>e.id.toString()));r.msgs=d,r.readMsgKeys=(0,o.default)((0,i.default)(r.readMsgKeys,f)),n(!0)}else{if(!(r>=4))return u;n(!1)}}catch(e){if(!(r>=4))return u;n(!1)}}));return function(){return n.apply(this,arguments)}}())))throw new p}));return function(){return e.apply(this,arguments)}}(),a){const t=e.msgs.getModelsArray().find((e=>a&&e.id.toString()===a.toString()));if(!t)throw new m;this.statuses=[{statusV3:e,totalCount:1,unreadCount:0,msgs:[t],readMsgKeys:[t.id.toString()]}]}else if(n&&e.unreadCount>0&&!e.contact.isMe&&!e.contact.statusMute){const e=f.StatusV3Collection.getUnexpired(!0),t=[];e.forEach((e=>{if(e.contact.statusMute)return;const n=e.msgs.getModelsArray(),a=e.totalCount-e.unreadCount,r=n.slice(0,a),i=(0,s.default)(r,(e=>e.id.toString()));t.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:n,readMsgKeys:i})})),this.statuses=t}else{const t=e.msgs.getModelsArray(),n=e.totalCount-e.unreadCount,a=t.slice(0,n),r=(0,s.default)(a,(e=>e.id.toString())),i=[{statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:r}];this.statuses=i}this._printInfo()}}},25829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(64551);function r(e){return Math.min(e,a.ServerProps.statusVideoMaxDuration)}t.default=class{constructor(){this._isPlaying=!0,this.addListeners=(e,t,n,a)=>{this._handleStart=e,this._handlePause=t,this._handleEnded=n,this._handleLoaded=a},this.setVideo=e=>{this._video!==e&&(this._unsetVideo(),this._video=e,null!=e&&(e.addEventListener("playing",this._handlePlayingHandler),e.addEventListener("pause",this._handlePauseHandler),e.addEventListener("ended",this._handleEndedHandler),e.addEventListener("timeupdate",this._handleTimeUpdate),e.addEventListener("loadeddata",this._handleLoadedData)))},this._unsetVideo=()=>{const e=this._video;e&&(this.stop(),e.removeEventListener("playing",this._handlePlayingHandler),e.removeEventListener("pause",this._handlePauseHandler),e.removeEventListener("ended",this._handleEndedHandler),e.removeEventListener("timeupdate",this._handleTimeUpdate),e.removeEventListener("loadeddata",this._handleLoadedData))},this.play=()=>{var e;null===(e=this._video)||void 0===e||e.play()},this.pause=()=>{this._video&&!this._video.paused&&this._video.pause()},this.resume=()=>{this._video&&!this._isPlaying&&this._video.play()},this.stop=()=>{this._video&&!this._video.paused&&this._video.pause()},this._changeMuted=e=>{this._video&&(this._video.muted=e)},this.mute=()=>{this._changeMuted(!0)},this.unmute=()=>{this._changeMuted(!1)},this._handlePlayingHandler=()=>{this._isPlaying=!0;const e=this._video;if(null==e)return;const t=this._handleStart;if(t){const n=r(e.duration);t(1e3*(n-e.currentTime),1e3*n)}},this._handlePauseHandler=()=>{var e;this._isPlaying=!1,null===(e=this._handlePause)||void 0===e||e.call(this)},this._handleEndedHandler=()=>{var e;null===(e=this._handleEnded)||void 0===e||e.call(this)},this._handleTimeUpdate=()=>{var e;const t=null===(e=this._video)||void 0===e?void 0:e.currentTime;if(null!=t&&t>=a.ServerProps.statusVideoMaxDuration){this.stop(),this._handleEndedHandler();const e=this._video;e&&(e.removeEventListener("timeupdate",this._handleTimeUpdate),e.removeEventListener("ended",this._handleEndedHandler))}},this._handleLoadedData=()=>{const e=this._video;if(e){var t;const n=e.audioTracks&&e.audioTracks.length>0||!0===e.mozHasAudio||e.webkitAudioDecodedByteCount>0,a=e.muted;null===(t=this._handleLoaded)||void 0===t||t.call(this,n,a)}},this.removeListeners=()=>{this.stop(),this._handleStart=void 0,this._handlePause=void 0,this._handleEnded=void 0}}get duration(){return null==this._video?0:1e3*r(this._video.duration)}}},38224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new class{init(){return Promise.resolve()}get(){return{textsize:0}}set(){}};t.default=n},15022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyImageToClipboard=function(e){if(!r())throw new Error("Clipboard API not supported");if("image/png"===e.type){const t=new window.ClipboardItem({"image/png":e});navigator.clipboard.write([t])}else{const t=new Image;t.onload=e=>{let{target:t}=e;const n=document.createElement("canvas"),a=n.getContext("2d");n.width=t.naturalWidth,n.height=t.naturalHeight,a.drawImage(t,0,0),n.toBlob((e=>{const t=new window.ClipboardItem({[e.type]:e});try{navigator.clipboard.write([t])}catch(e){__LOG__(2,void 0,void 0,!0)`Write image to clipboard failed`,SEND_LOGS(e)}}),"image/png",1)},t.src=URL.createObjectURL(e)}},t.supportsCopyImageToClipboard=r;var a=n(26741);function r(){return"clipboard"in navigator&&"ClipboardItem"in window&&a.UA.browser!==a.BROWSER_TYPE.SAFARI}},88755:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=document.createElement("textarea");t.value=e,document.body&&document.body.appendChild(t);t.focus(),t.select(),document.execCommand("copy"),document.body&&document.body.removeChild(t)}},72312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=function(e,t){var n;const o=e.target.files||(null===(n=e.dataTransfer)||void 0===n?void 0:n.files);let s=o?Array.from(o):[];if(t){const e=("string"==typeof t?[t]:t).map((e=>new RegExp(e)));s=s.filter((t=>e.some((e=>t.type.match(e)))))}if(s.length)return Promise.resolve(s);const l=e.dataTransfer;if(l&&l.getData("text/uri-list"))return i.urlToFile(l.getData("text/uri-list")).then((e=>[(0,r.createFile)([e],"",{type:e.type})]));if(l&&l.getData("text/html")){const e=(new DOMParser).parseFromString(l.getData("text/html"),"text/html");if(e.createNodeIterator(e.childNodes[0],NodeFilter.SHOW_TEXT).nextNode()){if(l.getData("text/plain"))return Promise.reject(new a.MediaDragDropError("dropped html has text nodes"))}else{const t=e.getElementsByTagName("img");if(t.length)return i.urlToFile(t[0].src).then((e=>[(0,r.createFile)([e],"",{type:e.type})]))}}return Promise.resolve([])};var a=s(n(35232)),r=n(65885),i=s(n(51428));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}},78931:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2525)),i=a(n(41609)),o=a(n(76521));const s=n(76672).Mirrored(["Boolean","Number"]);class l extends o.default{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Boolean;super(),this.list=e,this.selected=e.reduce(((e,t,a)=>(e[a]=n===s.Number&&0,e)),{}),this.getter=t,this.selectedDataType=n}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,i.default)(this.selected)||((0,i.default)(e)?this.unsetAll():(this.selected=e.reduce(((e,t,n)=>{const a=this.list.indexOf(t);return e[n]=a>-1&&this.selected[a],e}),{}),this.list=e))}unsetAll(){(0,r.default)(this.selected,((e,t)=>{e&&this.set(t,this.selectedDataType===s.Number&&0)}))}reset(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.selected,((t,n)=>{t&&(this.trigger(this.getter(this.list[n]),!0,!0,e),this.trigger("all",!0,!0,e))}))}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.list.length)return;const a=Math.min(Math.max(e,-1),this.list.length-1),r=a>-1?this.list[a]:void 0;r&&this.selected[a]!==t&&(this.selected[a]=t,this.trigger(this.getter(r),t,n),this.trigger("all",t,n))}setVal(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.list.indexOf(e);-1===a&&(a=this.list.length,this.list.push(e),this.selected[a]="number"==typeof t&&0),this.set(a,t,n)}getVal(e){return this.selected[this.list.indexOf(e)]}setFirst(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,i.default)(this.list)||this.set(0,this.selectedDataType!==s.Number||1,e)}setLast(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,i.default)(this.list)||this.set(this.list.length-1,this.selectedDataType!==s.Number||1,e)}getSelected(){return this.list.reduce(((e,t,n)=>(this.selected[n]&&e.push(t),e)),[])}isSelected(e){return!!this.getVal(e)}isInList(e){return this.list.includes(e)}}t.default=l},97039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.test(e)?e.replace(/[^0-9]/g,""):null};const n=/^[0-9+()\- ]+$/},73540:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{delay:n=0}=null!=t?t:{};let a,r,i;const o=t=>{(null==i||t-i>=n)&&(e(t),i=t),r||(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{r=!0,cancelAnimationFrame(a)}}},8248:(e,t)=>{"use strict";function n(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.getFloatFromStylesProp=function(e,t){return parseFloat(n(e,t))},t.getIntFromStylesProp=function(e,t){return parseInt(n(e,t),10)},t.getValueFromStylesProp=n},55715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TAB_ORDER=void 0;t.TAB_ORDER={CHATLIST_HEADER:2,CHAT_STARRED_DRAWER:3,CHAT_LIST_SEARCH:3,CHAT_LIST_FILTER:4,ARCHIVED_ENTRY_POINT:4,CHAT_LIST:4,CHAT_CONTACT_LIST:4,CHAT_IMAGE_GALLERY:4,CHAT_SEARCH_MSG_LIST:4,PANEL_SEARCH_INPUT:5,CHAT_HEADER_BUTTON:6,MESSAGE_LIST_SCROLL_BUTTON:7,MESSAGE_LIST:8,PTT_OOC_BUTTON:9,COMPOSE_BOX_MENU_BUTTON:10,COMPOSE_BOX_INPUT:10,COMPOSE_BOX_ATTACH_BUTTON:10,PTT_BUTTON:11}},28752:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlaybackController=void 0;var r=a(n(48926)),i=n(13959),o=n(22712),s=a(n(79622)),l=n(86678),u=n(76571),d=n(30734),c=n(98113),f=n(56989);const h="playing",p="timeupdate",m="ended";t.AudioPlaybackController=class{constructor(e){var t=this;this._isSequentialPlayback=!1,this._handleMarkPlayed=()=>{(0,d.canMarkPlayed)(this._msg.unsafe())&&(0,d.markPlayed)(this._msg.unsafe())},this._handlePlaybackProgress=()=>{this._msg.updateLastPlaybackProgress((0,s.default)(this.audio,this._msg.mediaData))},this._handlePlayingMessage=()=>{this._clearPlayingMessage=f.PttPrefs.setPlayingMessage(this._msg)},this._handleEnded=()=>{var e,t;(null===(e=this._clearPlayingMessage)||void 0===e||e.call(this),this._clearPlayingMessage=null,this.audio.currentTime=0,this._msg.updateLastPlaybackProgress(0),this._maybePlayNext(),this._isSequentialPlayback)&&(null===(t=this._disposeAudio)||void 0===t||t.call(this),this._disposeAudio=null)},this._maybePlayNext=(0,r.default)((function*(){const e=(0,l.findSequentialMsg)(t._msg);let a=!1;const r=o.MainAudioChannel.claim(t,(()=>{a=!0}));if(yield(0,i.delayMs)(400),r(),!a)if(e){(0,c.playMidPttTone)();const t=n(64310).default.acquireAudio(e);t.controller.playAsSequential(),t.dispose()}else t._isSequentialPlayback&&((0,c.playEndPttTone)(),t._isSequentialPlayback=!1,t.pttPlaybackLogger.isSequentialPlayback=!1)})),this.audio=e.audio,this.pttPlaybackLogger=new u.PttPlaybackLogger(e.msg,e.audio),this._msg=e.msg,this.audio.addEventListener(h,this._handlePlayingMessage),this.audio.addEventListener(m,this._handleEnded),"ptt"===this._msg.type&&this.audio.addEventListener(h,this._handleMarkPlayed),this.audio.addEventListener(p,this._handlePlaybackProgress)}playAsSequential(){f.PttPrefs.outOfChatPlayerMessage=this._msg,this._disposeAudio=n(64310).default.acquireAudio(this._msg).dispose,this._isSequentialPlayback=!0,this.pttPlaybackLogger.isSequentialPlayback=!0;const e=null==this._msg.asPttLike?1:f.PttPrefs.playbackRate;this.audio.playbackRate=e,this.audio.defaultPlaybackRate=e,this.audio.currentTime=0,this.audio.play()}dispose(){var e;"ptt"===this._msg.type&&this.audio.removeEventListener(h,this._handleMarkPlayed),this.audio.removeEventListener(p,this._handlePlaybackProgress),this.audio.removeEventListener(h,this._handlePlayingMessage),this.audio.removeEventListener(m,this._handleEnded),this.pttPlaybackLogger.dispose(),null===(e=this._clearPlayingMessage)||void 0===e||e.call(this)}}},79622:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{currentTime:n}=e,a=t?(0,i.getDurationFromAudioOrProtobuf)(e,t):(0,o.default)(e);return null==a||0===a?0:(0,r.default)(n/a,0,1)};var r=a(n(74691)),i=n(81739),o=a(n(92053))},86678:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findSequentialMsg=function(e){const t=e.id,n=(0,r.default)(e.chat.msgs.toArray(),(e=>t.equals(e.id)));if(!n)return null;const a=n.asAudio||n.asPtt;return a&&(0,o.default)({currentMsg:e,nextMsg:a,playedBefore:e.ack===i.ACK.PLAYED})?a:null};var r=a(n(33693)),i=n(35470),o=a(n(27112))},81739:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDurationFromAudioOrProtobuf=function(e,t){var n;return null!==(n=(0,r.default)(e))&&void 0!==n?n:i(t)},t.getDurationFromProto=i;var r=a(n(92053));function i(e){const t=parseFloat(e.duration);return Number.isFinite(t)?t:0}},92053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.duration;return Number.isFinite(t)?t:null}},27112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{currentMsg:t,nextMsg:n,playedBefore:a}=e;return null!=n.asPttLike&&(!n.isSentByMe||(!!t.isSentByMe||Boolean(a)))}},64310:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=n(22712),o=n(72541),s=n(28752),l=n(81739),u=(n(76571),a(n(41143))),d=n(84866),c=n(64551);function f(e){let t=!1;return()=>{(0,u.default)(!t,"Dispose cannot be called more than once for the same audio"),t=!0,e()}}var h=new class{constructor(){this._msgIdToAudioEntry=new Map}_createResource(e,t){const{mediaData:n}=e,a=o.AudioManager.createAudioProxy(),u=i.MainAudioChannel.registerMedia(a),f=function(e){let{filehash:t}=e;if(!d.MediaBlobCache.has(t))return null;const n=d.MediaBlobCache.getOrCreateURL(t);return d.MediaBlobCache.increaseUsageCount(t),{url:n,dispose:()=>d.MediaBlobCache.decreaseUsageCount(t)}}(n);if(f){a.src=f.url;const t=(0,l.getDurationFromAudioOrProtobuf)(a,e.mediaData);c.ServerProps.pttRememberPlayPosition&&null!=e.lastPlaybackProgress&&null!=t&&(a.currentTime=t*e.lastPlaybackProgress)}const h=new s.AudioPlaybackController({msg:e,audio:a});return{playbackController:h,refCount:1,dispose:()=>{const e=(0,r.default)(this._msgIdToAudioEntry.get(t),"this._msgIdToAudioEntry.get(key)");e.refCount--,0===e.refCount&&(u(),this._msgIdToAudioEntry.delete(t),null==f||f.dispose(),h.dispose())}}}acquireAudio(e){const t=function(e){return e.id.toString()}(e);let n=this._msgIdToAudioEntry.get(t);n?n.refCount++:(n=this._createResource(e,t),this._msgIdToAudioEntry.set(t,n));const{playbackController:a,dispose:r}=n;return{audio:a.audio,pttPlaybackLogger:a.pttPlaybackLogger,controller:a,dispose:f(r)}}};t.default=h},76571:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttPlaybackLogger=void 0;var r=a(n(79622)),i=n(81739),o=a(n(11339)),s=n(59871),l=n(67880),u=n(56989);t.PttPlaybackLogger=class{constructor(e,t){this.isSequentialPlayback=!1,this._pttPlaybackSpeedCnt=0,this._pttSeekCnt=0,this._pttPlayedPct=0,this._hasStartedPlayback=!1,this._pttPlayedOutOfChat=!1,this._pttMiniPlayerPauseCnt=0,this._pttMiniPlayerClose=!1,this._pttMiniPlayerClick=0,this._handlePlaying=()=>{this._hasStartedPlayback=!0},this._handleRateChange=()=>{this._audio.playbackRate!==this._currentPlaybackRate&&(this._currentPlaybackRate=this._audio.playbackRate,this._pttPlaybackSpeedCnt+=1)},this._handleTimeupdate=()=>{const e=(0,r.default)(this._audio);this._pttPlayedPct=Math.max(e,this._pttPlayedPct)},this._handleEnded=()=>{this.commit(!0)},this._handleError=()=>{this.commit(!1)},this._msg=e,this._audio=t,this._currentPlaybackRate=this._audio.playbackRate,this._audio.addEventListener("playing",this._handlePlaying),this._audio.addEventListener("ratechange",this._handleRateChange),this._audio.addEventListener("timeupdate",this._handleTimeupdate),this._audio.addEventListener("ended",this._handleEnded),this._audio.addEventListener("error",this._handleError)}dispose(){this._audio.removeEventListener("playing",this._handlePlaying),this._audio.removeEventListener("ratechange",this._handleRateChange),this._audio.removeEventListener("timeupdate",this._handleTimeupdate),this._audio.removeEventListener("ended",this._handleEnded),this._audio.removeEventListener("error",this._handleEnded)}_reset(){this._pttPlaybackSpeedCnt=0,this._pttSeekCnt=0,this._pttPlayedPct=0,this._hasStartedPlayback=!1,this._pttPlayedOutOfChat=!1,this._pttMiniPlayerPauseCnt=0,this._pttMiniPlayerClose=!1,this._pttMiniPlayerClick=0}commit(e){var t;if(!this._hasStartedPlayback)return;if("ptt"!==this._msg.type)return;const{playbackRate:n}=u.PttPrefs,{mediaData:a}=this._msg,r=new o.default.PttPlayback({pttSeekCnt:0,pttPlaybackSpeedCnt:0,pttTrigger:this.isSequentialPlayback?o.default.PTT_TRIGGER_TYPE.SEQUENTIAL:o.default.PTT_TRIGGER_TYPE.MANUAL});r.pttPlaybackFailed=!e,r.pttType=function(e){switch(null==e?void 0:e.split(";")[0]){case"audio/ogg":return o.default.PTT_STREAM_TYPE.OPUS;case"audio/aac":return o.default.PTT_STREAM_TYPE.AAC;case"audio/mpeg":return o.default.PTT_STREAM_TYPE.MP3;case"audio/amr-wb":return o.default.PTT_STREAM_TYPE.AMR_WB;case"audio/amr":case"audio/3gpp2":return o.default.PTT_STREAM_TYPE.AMR_NB;case"audio/3gpp":default:return o.default.PTT_STREAM_TYPE.UNKNOWN}}(a.mimetype),r.pttPlaybackSpeed=function(e){switch(e){case 1:return o.default.PTT_PLAYBACK_SPEED_TYPE.SPEED_1;case 1.5:return o.default.PTT_PLAYBACK_SPEED_TYPE.SPEED_1_5;case 2:return o.default.PTT_PLAYBACK_SPEED_TYPE.SPEED_2;default:throw new Error(`Invalid playback rate: ${e}`)}}(n);const d=(0,i.getDurationFromAudioOrProtobuf)(this._audio,a);r.pttDuration=1e3*Math.round(d),r.pttPlaybackSpeedCnt=this._pttPlaybackSpeedCnt,r.pttSeekCnt=this._pttSeekCnt,r.pttPlayedPct=this._pttPlayedPct,r.pttPlayedOutOfChat=this._pttPlayedOutOfChat,r.pttMiniPlayerPauseCnt=this._pttMiniPlayerPauseCnt,r.pttMiniPlayerClose=this._pttMiniPlayerClose,r.pttMiniPlayerClick=this._pttMiniPlayerClick,r.commit(),this._reset();const c=this._msg.id,f=null==c?null:null===(t=s.MsgCollection.get(c))||void 0===t?void 0:t.chat.kind;null!=f&&((0,l.incrementPttDailyCount)(l.PttDailyCountKind.PLAYBACK,f),n>1&&(0,l.incrementPttDailyCount)(l.PttDailyCountKind.FAST_PLAYBACK,f))}increasePttSeekCount(){this._pttSeekCnt+=1}markAsPlayedInOoc(){this._pttPlayedOutOfChat=!0}increaseOocPauseCount(){this._pttMiniPlayerPauseCnt+=1}markAsOocClosedByUser(){this._pttMiniPlayerClose=!0}increaseOocClickToChatCount(){this._pttMiniPlayerClick+=1}}},53395:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useMsgAudioPlaybackController=function(e){const t=()=>null==e?null:r.default.acquireAudio(e),[n,a]=(0,i.useState)(t),[s,l]=(0,i.useState)(e);s!==e&&(l(e),null==n||n.dispose(),a(t()));return(0,o.default)((()=>{null==n||n.dispose()})),n};var r=a(n(64310)),i=n(67294),o=a(n(55010))},72541:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioManagerImpl=t.AudioManager=void 0;var r=a(n(12957));class i{constructor(e){var t;this._listeners=new Map,this._activeAudios=new Map,this._inactiveAudios=new Map,this._releaseTimeouts=new Map,this.__TEST_ONLY__={getActiveAudio:e=>this._activeAudios.get(e),getAllAudios:()=>[...Array.from(this._activeAudios.values()),...Array.from(this._inactiveAudios.values())]},this._minPoolSize=null!==(t=null==e?void 0:e.minPoolSize)&&void 0!==t?t:1}addAudioListener(e,t,n){var a,r;null===(a=this._activeAudios.get(e))||void 0===a||a.addEventListener(t,n),null===(r=this._inactiveAudios.get(e))||void 0===r||r.addEventListener(t,n);let i=this._listeners.get(e);null==i&&(i=new Set,this._listeners.set(e,i)),i.add({type:t,listener:n})}removeAudioListener(e,t,n){var a,r;null===(a=this._activeAudios.get(e))||void 0===a||a.removeEventListener(t,n),null===(r=this._inactiveAudios.get(e))||void 0===r||r.removeEventListener(t,n);const i=this._listeners.get(e);if(null!=i){for(const e of i)if(e.type===t&&e.listener===n){i.delete(e);break}0===i.size&&this._listeners.delete(e)}}createAudioProxy(){return new r.default(this)}_getAudio(e){var t;const n=this._activeAudios.get(e);if(null!=n)return clearTimeout(this._releaseTimeouts.get(n)),this._releaseTimeouts.delete(n),n;const a=this._inactiveAudios.get(e);if(null!=a)return this._inactiveAudios.delete(e),this._activeAudios.set(e,a),a;if(this._activeAudios.size+this._inactiveAudios.size>=this._minPoolSize)for(const[t,n]of this._inactiveAudios){var r,i;return this._inactiveAudios.delete(t),this._activeAudios.set(e,n),null===(r=this._listeners.get(t))||void 0===r||r.forEach((e=>{let{type:t,listener:a}=e;n.removeEventListener(t,a)})),null===(i=this._listeners.get(e))||void 0===i||i.forEach((e=>{let{type:t,listener:a}=e;n.addEventListener(t,a)})),n}const o=new Audio;this._activeAudios.set(e,o),null===(t=this._listeners.get(e))||void 0===t||t.forEach((e=>{let{type:t,listener:n}=e;o.addEventListener(t,n)}));const s=()=>{for(const[e,t]of this._activeAudios)if(t===o){this._activeAudios.delete(e),this._inactiveAudios.set(e,o);break}};return o.addEventListener("pause",(()=>{this._releaseTimeouts.set(o,setTimeout(s,1e3))})),o}play(e,t){const n=this._getAudio(e);return n.src=e.src,n.currentTime=t.currentTime,n.playbackRate=t.playbackRate,n.defaultPlaybackRate=t.defaultPlaybackRate,n.play()}pause(e){var t;null===(t=this._activeAudios.get(e))||void 0===t||t.pause()}load(e){var t;null===(t=this._activeAudios.get(e))||void 0===t||t.load()}setDefaultPlaybackRate(e,t){const n=this._activeAudios.get(e);null!=n&&(n.defaultPlaybackRate=t)}setPlaybackRate(e,t){const n=this._activeAudios.get(e);null!=n&&(n.playbackRate=t)}getCurrentTime(e){var t,n;return null!==(t=null===(n=this._activeAudios.get(e))||void 0===n?void 0:n.currentTime)&&void 0!==t?t:null}setCurrentTime(e,t){const n=this._activeAudios.get(e);var a;null!=n?n.currentTime=t:null===(a=this._listeners.get(e))||void 0===a||a.forEach((e=>{let{type:t,listener:n}=e;"timeupdate"===t&&n()}))}getDuration(e){var t,n;return null!==(t=null===(n=this._activeAudios.get(e))||void 0===n?void 0:n.duration)&&void 0!==t?t:null}getPaused(e){var t,n;return null===(t=null===(n=this._activeAudios.get(e))||void 0===n?void 0:n.paused)||void 0===t||t}}t.AudioManagerImpl=i;const o=new i;t.AudioManager=o},12957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){this._src="",this._currentTime=0,this._defaultPlaybackRate=1,this._playbackRate=1,this._audioManager=e}addEventListener(e,t){this._audioManager.addAudioListener(this,e,t)}removeEventListener(e,t){this._audioManager.removeAudioListener(this,e,t)}play(){return this._audioManager.play(this,{currentTime:this._currentTime,playbackRate:this._playbackRate,defaultPlaybackRate:this._defaultPlaybackRate})}pause(){this._audioManager.pause(this)}load(){this._audioManager.load(this)}set src(e){this._src=e}get src(){return this._src}get defaultPlaybackRate(){return this._defaultPlaybackRate}set defaultPlaybackRate(e){this._defaultPlaybackRate=e,this._audioManager.setDefaultPlaybackRate(this,e)}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._audioManager.setPlaybackRate(this,e)}get currentTime(){const e=this._audioManager.getCurrentTime(this);return null!=e&&(this._currentTime=e),this._currentTime}set currentTime(e){this._currentTime=e,this._audioManager.setCurrentTime(this,e)}get duration(){const e=this._audioManager.getDuration(this);return null!=e&&(this._duration=e),this._duration}get paused(){return this._audioManager.getPaused(this)}}},21634:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.FileSaver=void 0;var r=n(13959),i=n(45060),o=a(n(79264)),s=n(14597),l=n(48360),u=a(n(52665)),d=n(21535),c=n(20723),f=a(n(47011)),h=n(85893);const p=new class{downloadData(e,t,n){const a=window.URL.createObjectURL(e),i=(0,d.createDataLink)(a);return i.style.display="none",i.download=`${t}${n}`,document.body&&document.body.appendChild(i),i.click(),document.body&&document.body.removeChild(i),(0,r.delayMs)(100).then((()=>{window.URL.revokeObjectURL(i.href)})),Promise.resolve()}initDownload(e){let t=e;if(!window.Modernizr.adownload)return s.ModalManager.open((0,h.jsx)(u.default,{onOK:()=>s.ModalManager.close(),okText:l.fbt._("OK",null,{hk:"2KEeHb"}),children:(0,h.jsx)(c.SafariLimitedText,{})})),__LOG__(4,void 0,new Error,!0)`Assertion failed!`,void SEND_LOGS("safari, adownload is false in download mgr");o.default.startDownloading(),(0,i.getMultiMsgDownloadData)(t).then((e=>{e.url||e.blob||(__LOG__(4,void 0,new Error,!0)`Assertion failed! ${Array.isArray(t)?"download a zip file":`download ${t.id.toString()} type ${t.type} with state ${t.mediaData&&t.mediaData.mediaStage}`}`,SEND_LOGS("download-url-creation-error"));const n=e.url||window.URL.createObjectURL(e.blob);[].concat(t).forEach((e=>{var t;(0,f.default)(e)&&(null===(t=e.mediaObject)||void 0===t||t.clearBlob({reset:!0}))}));const a=(0,d.createDataLink)(n);a.download=e.name,a.style.display="none",Array.isArray(t)&&1===t.length&&(t=t[0]),a.href||(__LOG__(4,void 0,new Error,!0)`Assertion failed! ${Array.isArray(t)?"download a zip file":`download ${t.id.toString()} type ${t.type} with state ${t.mediaData&&t.mediaData.mediaStage}`}`,SEND_LOGS("no-download-url")),document.body&&document.body.appendChild(a),a.click(),document.body&&document.body.removeChild(a),e.url||(0,r.delayMs)(100).then((()=>{window.URL.revokeObjectURL(a.href)}))})).catch((e=>{__LOG__(3)`Download failed, error: ${String(e)}`}))}};t.FileSaver=p},45060:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getMsgDownloadData=f,t.getMultiMsgDownloadData=function(){return c.apply(this,arguments)};var r=a(n(48926)),i=n(82518),o=n(15461),s=n(52678),l=n(84866),u=a(n(11339)),d=a(n(34949));function c(){return(c=(0,r.default)((function*(e){const t=Array.isArray(e)?e:[e];try{const e=yield Promise.all(t.map((e=>f(e))));if(e.length>1){return{blob:yield(0,s.zipFiles)(e),name:(0,i.getDefaultName)({t:Math.round(Date.now()/1e3),type:"unknown",mimetype:"application/zip",isVcardOverMmsDocument:!1,filename:"",vcardList:[]})}}return e[0]}catch(e){throw __LOG__(4,void 0,new Error,!0)`Failed to get msg download data: ${e.message}`,SEND_LOGS("msg-download-data-failed"),e}}))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){const t="text/vcard";if(e.type===o.MSG_TYPE.VCARD)return{name:(0,i.getDefaultName)(e),blob:new Blob([e.body],{type:t})};if(e.type===o.MSG_TYPE.MULTI_VCARD)return{name:(0,i.getDefaultName)(e),blob:new Blob([e.vcardList.map((e=>e.vcard)).join("\n")],{type:t})};const n=p(e);if(n)return n;yield e.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:u.default.WEBC_RMR_REASON_CODE.DOCUMENT_DOWNLOAD,isUserInitiated:!0});const a=p(e);if(a)return a;throw new Error("Unable to download because blob cannot be found")}))).apply(this,arguments)}function p(e){const{filehash:t,mediaBlob:n,renderableUrl:a}=e.mediaData;if(n instanceof d.default)return{name:(0,i.getDefaultName)(e),url:a,blob:n.forceToBlob()};const r=l.MediaBlobCache.get(t);return r?{blob:r,name:(0,i.getDefaultName)(e),url:l.MediaBlobCache.getOrCreateURL(t)}:null}},82518:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultName=function(e){let t;if(e.type===o.MSG_TYPE.DOCUMENT){const n=(e.filename||"").trim();t=n||(e.caption||"").trim()||u.default.t(639),n&&function(e){return/[\.].{1,4}$/.test(e)}(n)||(t=c(t,e))}else e.type===o.MSG_TYPE.VCARD?(t=(e.vcardFormattedName||"").trim()||f(e),t=c(t,e)):e.type===o.MSG_TYPE.MULTI_VCARD?(t=e.vcardList?(0,s.getNameString)(e.vcardList).toString():f(e),t=c(t,e)):(t=f(e),t=c(t,e));return t};var r=a(n(48403)),i=n(40234),o=n(15461),s=n(93778),l=a(n(30381)),u=a(n(14296)),d=n(43257);function c(e,t){let n=e;const a=t.type===o.MSG_TYPE.VCARD||t.type===o.MSG_TYPE.MULTI_VCARD?"text/vcard":t.mimetype,r=(0,d.getExtension)(a);return n.endsWith(r)||(n+=r),n}function f(e){const t=l.default.unix(e.t).locale("en"),n=`${t.format("YYYY-MM-DD")} at ${t.format(i.Clock.getIs24Hour()?"HH.mm.ss":"h.mm.ss A")}`;return`WhatsApp ${(0,r.default)(e.type)} ${n}`}},55228:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{initialStyle:t,children:n}=e,a=(0,i.useMemo)((()=>{if(t)return t;let e;r.Cmd.getConversationHeaderOffset((t=>{e=t}));const n=330*.67;e||(e={right:window.innerWidth,bottom:0});return{width:n,left:e.right<window.innerWidth?e.right-n-10:window.innerWidth-n-10,bottom:window.innerHeight-10-330-e.bottom}}),[t]);return(0,l.jsx)(s.default,{aspectRatio:.67,margin:{x:10,y:10},minWidth:145,className:o.default.voipFloater,initialStyle:a,escapeConversationHeader:!0,children:n})};var r=n(81572),i=n(67294),o=a(n(57734)),s=a(n(92218)),l=n(85893)},54937:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10206),i=a(n(40436)),o=n(67294),s=n(60868),l=a(n(55228)),u=n(84387),d=a(n(89345)),c=a(n(64333)),f=a(n(11220)),h=n(85893);class p extends o.Component{constructor(){super(...arguments),this.state={isOpen:!1},this.openVoipWindow=()=>{(0,r.isFeatureEnabled)("web_voip_voice_call")&&this.setState({isOpen:!0})},this.closeVoipWindow=()=>{this.setState({isOpen:!1})},this._handleCallAccept=()=>{},this._handleCallReject=()=>{this.setState({isOpen:!1})},this._handleCallEnd=()=>{this.setState({isOpen:!1})}}componentDidMount(){d.default.register(this),this.props.listeners.add(s.CallCollection,"change:activeCall",(()=>{this.forceUpdate()}))}componentWillUnmount(){d.default.unregister()}render(){const{activeCall:e}=s.CallCollection;return this.state.isOpen&&null!=e?(0,h.jsx)(i.default,{transitionName:"voip",className:c.default.wrapper,component:"div",children:(0,h.jsx)(l.default,{children:(0,h.jsx)(f.default,{call:e,onCallAccept:this._handleCallAccept,onCallReject:this._handleCallReject,onCallEnd:this._handleCallEnd})})}):null}}p.displayName="VoipModalManager";var m=(0,u.ListenerHOC)(p);t.default=m},11220:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45095)),i=n(10206),o=n(48360),s=n(67294),l=n(19380),u=n(88984),d=a(n(50315)),c=a(n(51582)),f=n(84387),h=n(12176),p=a(n(65932)),m=n(84356),g=a(n(87052)),_=n(49835),v=n(85893);class b extends s.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,isFullscreenMode:d.default.isFullscreenMode()},this.setRefContainer=e=>{this.refContainer=e},this._toggleMute=()=>{const{callInfo:e}=this.props.call,t=(0,r.default)(null==e?void 0:e.participants.find((e=>e.isSelf)),"callInfo?.participants.find(participant => participant.isSelf)");m.Voip.mute(t.isMuted)},this._handleEnterFullscreen=e=>{e.stopPropagation(),d.default.requestFullscreen(this.refContainer)},this._handleExitFullscreen=e=>{e.stopPropagation(),d.default.exitFullscreen()},this._handleFullscreenToggleButtonClick=e=>{this.state.isFullscreenMode?this._handleExitFullscreen(e):this._handleEnterFullscreen(e)},this._handleWebrtcStop=()=>{m.Voip.endCall(),this.props.onCallEnd()},this._handleWebrtcStart=()=>{m.Voip.acceptCall()}}componentDidMount(){this.props.listeners.add(d.default,"fullscreen_change",(()=>{d.default.isFullscreenMode()&&d.default.getFullscreenElement()===this.refContainer?this.setState({isFullscreenMode:!0}):d.default.isFullscreenMode()||this.setState({isFullscreenMode:!1})})),m.Voip.registerWebRTCCallback((e=>{const t=e.type,n=e.data,{isVideo:a}=this.props.call;switch(t){case _.WEB_CALL_EVENTS.AUDIO_TRACK_RECEIVED:this._refAudioElement&&(this._refAudioElement.srcObject=n);break;case _.WEB_CALL_EVENTS.VIDEO_TRACK_RECEIVED:this._refVideoElement&&a&&(this._refVideoElement.srcObject=n);break;case _.WEB_CALL_EVENTS.MEDIA_READY:a&&this._refVideoPreviewElement&&(this._refVideoPreviewElement.srcObject=n);break;default:throw new Error(`VoipWindow:registerWebRTCCallback unsupported webrtc event type: ${t}`)}}))}render(){const{call:e,onCallAccept:t,onCallReject:n,onCallEnd:a}=this.props,{isVideo:r,peerJid:s}=e,d=e.getState();let f;s&&(f=l.ContactCollection.get(s));const p=null!=f?(0,v.jsx)("div",{className:g.default.participantName,children:(0,v.jsx)(h.Name,{contact:f,titlify:!0,ellipsify:!0})}):null,m=f?(0,v.jsx)(u.DetailImage,{id:f.id,size:82,quality:u.DetailImageQuality.High}):null,b=(0,v.jsx)("div",{className:g.default.actionRow,children:(0,v.jsxs)("div",{className:g.default.btnGroup,children:[(0,v.jsx)("button",{className:g.default.btnReject,onClick:n}),(0,v.jsx)("button",{className:g.default.btnAccept,onClick:t})]})}),y=(0,v.jsx)("div",{className:g.default.actionRow,children:(0,v.jsxs)("div",{className:g.default.btnGroup,children:[(0,v.jsx)("button",{className:g.default.btnMute,onClick:this._toggleMute}),(0,v.jsx)("button",{className:g.default.btnEnd,onClick:a})]})});let C,S,E=(0,v.jsx)("div",{className:g.default.actionRow,children:(0,v.jsx)("div",{className:g.default.btnGroup,children:(0,v.jsx)("button",{className:g.default.btnEnd,onClick:a})})});if((0,i.isFeatureEnabled)("web_voip_voice_call")||(0,i.isFeatureEnabled)("web_voip_video_call")){E=(0,v.jsx)("div",{className:g.default.actionRow,children:(0,v.jsxs)("div",{className:g.default.btnGroup,children:[(0,v.jsx)("button",{className:g.default.btnEnd,onClick:this._handleWebrtcStop}),(0,v.jsx)("button",{className:g.default.btnAccept,onClick:this._handleWebrtcStart})]})});const e=(0,i.isFeatureEnabled)("web_voip_video_call")&&r?(0,v.jsx)("video",{className:g.default.webrtcVideo,id:"webRtcVideo",autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>{this._refVideoElement=e}))}):null,t=(0,i.isFeatureEnabled)("web_voip_video_call")&&r?(0,v.jsx)("video",{className:g.default.webrtcVideoPreview,id:"webRtcVideoPreview",autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>{this._refVideoPreviewElement=e}))}):null;C=(0,v.jsxs)("div",{className:g.default.webrtcCanvas,children:[e,t,(0,v.jsx)("audio",{className:g.default.webrtcAudio,id:"webRtcAudio",controls:!0,autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>{this._refAudioElement=e}))})]})}switch(d){case _.CALL_STATES.INCOMING_RING:S=b;break;case _.CALL_STATES.ACTIVE:S=y;break;default:S=E}const x=(0,v.jsx)("div",{className:g.default.callTitle,children:r?o.fbt._("WHATSAPP VIDEO CALL",null,{hk:"3gv0i2"}):o.fbt._("WHATSAPP VOICE CALL",null,{hk:"24NpLI"})}),T=(0,v.jsx)(c.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this._handleFullscreenToggleButtonClick});return(0,v.jsxs)("div",{className:g.default.body,ref:this.setRefContainer,onMouseEnter:()=>{this.setState({isMouseOver:!0})},onMouseLeave:()=>{this.setState({isMouseOver:!1})},children:[x,p,m,C,this.state.isMouseOver&&T,S]})}}b.CONCERNS={call:["outgoing","isVideo","callInfo","peerJid"]},b.displayName="VoipWindowWeb";var y=(0,f.ListenerHOC)((0,p.default)(b,b.CONCERNS));t.default=y},86761:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(81109)),i=n(11290),o=a(n(52822)),s=n(23412);class l extends i.BaseModel{constructor(){super(...arguments),this.id=(0,i.prop)(),this.products=(0,i.prop)(),this.itemCount=(0,i.prop)(),this.subtotal=(0,i.prop)(),this.tax=(0,i.prop)(),this.total=(0,i.prop)(),this.currency=(0,i.prop)(),this.createdAt=(0,i.prop)(),this.sellerJid=(0,i.prop)(),this.totalItemCount=(0,i.derived)((function(){return this.products.reduce(((e,t)=>e+t.quantity),0)}),["products"])}initialize(){super.initialize(),this.orderItemCollection=new s.OrderItemCollection,this.listenTo(this,"change:cartItemCollection",this.triggerItemCollectionUpdate),this.triggerItemCollectionUpdate()}triggerItemCollectionUpdate(){this.orderItemCollection.set(this.products.map((e=>new o.default((0,r.default)({},e)))),{merge:!0})}getCollection(){return n(84312).OrderCollection}}l.Proxy="order";var u=(0,i.defineModel)(l);t.default=u},84312:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderCollectionImpl=t.OrderCollection=void 0;var r=a(n(81109)),i=a(n(48926)),o=n(78820),s=n(45454),l=n(1255),u=n(92059),d=n(39519),c=n(6565),f=a(n(48456)),h=a(n(86761)),p=n(9538);class m extends l.BaseCollection{constructor(e,t){super(),this.width=80,this.height=80,null!=e&&(this.width=e),null!=t&&(this.height=t)}addOrder(){const e=(0,f.default)(),t=(0,o.getMeUser)();return super.add({id:e,fetchedFromServer:!1,sellerJid:(0,c.encodeJid)(t),createdAt:Math.round((new Date).getTime()/1e3),currency:(0,d.currencyForCountryShortcode)((0,u.getCountryShortcodeByPhone)(t.user)),products:[],tax:null,subtotal:null,total:null}),this.assertGet(e)}findOrder(e,t,n){const a=this.get(e);return null!=a?Promise.resolve(a):this._queryOrder(e,t,n)}_queryOrder(e,t,n){var a=()=>super.add,o=this;return(0,i.default)((function*(){const i=yield(0,p.queryOrder)((0,s.createWid)(t),e,o.width,o.height,n);a().call(o,(0,r.default)({id:e,fetchedFromServer:!0,sellerJid:t},i));const l=o.get(e);if(null!=l)return Promise.resolve(l)}))()}}t.OrderCollectionImpl=m,m.model=h.default,m.staleCollection=!0;const g=new m;t.OrderCollection=g},52822:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(11290),i=a(n(2320)),o=n(58668);class s extends r.BaseModel{constructor(){super(...arguments),this.id=(0,r.prop)(),this.price=(0,r.prop)(),this.currency=(0,r.prop)(),this.name=(0,r.prop)(),this.quantity=(0,r.prop)(),this.thumbnailId=(0,r.prop)(),this.thumbnailUrl=(0,r.prop)(),this.isCustomItem=(0,r.prop)(),this.isQuantitySet=(0,r.prop)(),this.mediaData=(0,r.derived)((function(){return new i.default({mediaStage:null!=this.thumbnailUrl?o.MEDIA_DATA_STAGE.RESOLVED:o.MEDIA_DATA_STAGE.PREPARING,renderableUrl:null!=this.thumbnailUrl?`${this.thumbnailUrl}`:null})}),["thumbnailUrl"])}getCollection(){return n(84312).OrderCollection}}s.Proxy="order-item";var l=(0,r.defineModel)(s);t.default=l},23412:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderItemCollection=void 0;var r=n(1255),i=a(n(52822));class o extends r.BaseCollection{}t.OrderItemCollection=o,o.model=i.default},80744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(55981);var r=(e,t)=>{var n,r;if((null===(n=e.groupMetadata)||void 0===n?void 0:n.groupType)===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)return-1;if((null===(r=t.groupMetadata)||void 0===r?void 0:r.groupType)===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)return 1;const i=e.t||0,o=t.t||0;return i!==o?i>o?-1:1:e.id.toString()<t.id.toString()?-1:1};t.default=r},54907:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendDeleteMsgs=function(e,t,n){const a=(0,C.unproxy)(e);return a.promises.sendDeleteMsgs||(a.promises.sendDeleteMsgs=(0,_.sendDeleteMsgs)(t,n,a.id).then((()=>(t.forEach((e=>{e.delete()})),t.length))).catch((0,r.filteredCatch)(o.ServerStatusCodeError,(()=>{let e=0;return t.forEach((t=>{(t.ack===i.ACK.FAILED||t.isExpired())&&(t.delete(),e++)})),e}))).finally((()=>{a.promises.sendDeleteMsgs=null}))),a.promises.sendDeleteMsgs},t.sendDismissChangeNumber=function e(t){const n=(0,C.unproxy)(t);if(n.promises.sendDismissChangeNumber)return n.promises.sendDismissChangeNumber;const a=(0,s.isMDBackend)()?Promise.resolve({status:200,_duplicate:null}):E.default.sendConversationDismissChangeNumber(n.id);n.promises.sendDismissChangeNumber=a;const r=new p.ActionType(h.fbt._("Dismissing change number notification.",null,{hk:"XSlwz"})),i=a.then((e=>200===e.status?new p.ActionType(h.fbt._("Change number notification dismissed.",null,{hk:"1QpySR"})):e.status>=400?new p.ActionType(h.fbt._("Couldn't dismiss change number notification.",null,{hk:"4BWKLI"})):void 0)).catch((()=>(__LOG__(3)`models:chat:sendDismissChangeNumber dropped`,new p.ActionType(h.fbt._("Couldn't dismiss change number notification.",null,{hk:"4BWKLI"}),{actionText:m.default.t(122),actionHandler:()=>e(n)}))));return c.ToastManager.open((0,x.jsx)(p.ActionToast,{id:(0,p.genId)(),initialAction:r,pendingAction:i})),a.then((e=>{if(200===e.status&&!1!==e._duplicate)return(0,S.updateLocal)(n.id,{changeNumberNewJid:void 0,changeNumberOldJid:void 0}).then((()=>{n.changeNumberOldJid=n.changeNumberNewJid=void 0}))})).finally((()=>{n.promises.sendDismissChangeNumber=null}))},t.sendGroupInviteMessage=function(e,t,n,a,r,o,s){const u=(0,C.unproxy)(e),c=(0,f.getMaybeMeUser)(),h={ack:i.ACK.CLOCK,from:c,id:new d.default({from:c,to:u.id,id:d.default.newId(),participant:void 0,selfDir:"out"}),local:!0,self:"out",t:l.Clock.globalUnixTime(),to:u.id,type:"groups_v4_invite",isNewMsg:!0,inviteGrpJpegThum:s,inviteCode:a,inviteCodeExp:r,inviteGrp:t,inviteGrpName:n,comment:o};return(0,v.addAndSendMsgToChat)(u,h)[1]},t.sendRevokeMsgs=function(e,t,n){const a=(0,C.unproxy)(e);return a.promises.sendRevokeMsgs?a.promises.sendRevokeMsgs:a.promises.sendRevokeMsgs=Promise.all(t.map((e=>(0,g.sendRevoke)(e,e.canSenderRevoke()?u.Revoke.Sender:u.Revoke.Admin,n)))).finally((()=>{a.promises.sendRevokeMsgs=null}))},t.sendStarMsgs=function(e,t,n){const a=(0,C.unproxy)(e);return a.promises.sendStarMsgs?a.promises.sendStarMsgs:a.promises.sendStarMsgs=(0,b.sendStarMsgs)(a.id,t,n).then((()=>{t.forEach((e=>{e.set("star",n)})),n?(0,y.addStarredMsgs)(t):(0,y.removeStarredMsgs)(t)})).finally((()=>{a.promises.sendStarMsgs=null}))};var r=n(50796),i=n(35470),o=n(92574),s=n(88555),l=n(40234),u=n(81572),d=a(n(65212)),c=n(94816),f=n(78820),h=n(48360),p=n(46331),m=a(n(14296)),g=(n(17304),n(81027)),_=n(86657),v=n(75887),b=(n(13705),n(69694)),y=n(19011),C=n(18146),S=n(58871),E=a(n(56891)),x=n(85893)},4641:(e,t,n)=>{"use strict";var a=n(95318);t.Z=function(){(0,o.isLegacyWebdBackend)()&&c.Conn.protoVersion&&E.default.clearBPQueue().catch((()=>{}));(0,r.clearAllMemoizeCache)(),(0,m.clearChatIdCorrectionCache)(),(0,l.clearGetMaybeMeUserCache)(),c.Conn.delete(),p.default.delete(),b.default.delete(),v.ServerProps.delete(),g.PrimaryFeatures.delete(),(0,o.isMDBackend)()&&_.PrimaryForceUpgrade.delete();S.Stream.delete(),x.default.delete(),E.default.delete(),T(u.ChatCollection),T(y.StatusV3Collection),C.StickerPackCollection.forEach((e=>{T(e.stickers)})),T(C.StickerPackCollection);const e=["Chat","StatusV3","StickerPack","Sticker"];Object.keys(d.default).forEach((t=>{e.includes(t)||T(d.default[t])})),(0,h.delistAndDeleteAllMedia)(),(0,s.clearAllTemporaryStorageData)(),f.MediaBlobCache.clear(),c.Conn.blockStoreAdds=!0};var r=n(35174),i=n(51737),o=n(88555),s=n(80863),l=n(78820),u=n(69951),d=a(n(97335)),c=n(17239),f=n(84866),h=n(88297),p=a(n(51783)),m=n(61585),g=n(34771),_=n(48694),v=n(64551),b=a(n(68132)),y=n(59387),C=n(66299),S=n(8080),E=a(n(56891)),x=a(n(19037));function T(e){const t=[...e.getModelsArray()];e.reset(),t.forEach((e=>{(0,i.isFunction)(e.delete)&&e.delete()})),e.delete()}},97335:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(72894),i=n(32826),o=n(3754),s=n(93581),l=n(60868),u=n(99989),d=n(69951),c=a(n(66034)),f=n(19380),h=a(n(35667)),p=n(66423),m=n(13185),g=a(n(70723)),_=a(n(63928)),v=n(16770),b=n(85865),y=n(59871),C=n(17972),S=n(72472),E=n(84312),x=n(90585),T=n(68315),M=n(82039),k=n(99662),w=n(57162),A=n(92671),P=n(5104),j=n(91692),I=n(49264),O=n(19011),N=n(16774),R=n(46133),D=n(59387),L=n(67963),B=n(44333),F=n(45068),G=n(3027),U=n(39976),V=a(n(73213)),W={Blocklist:i.BlocklistCollection,BusinessCategoryResult:o.BusinessCategoriesResultCollection,BusinessProfile:s.BusinessProfileCollection,Call:l.CallCollection,Catalog:u.CatalogCollection,Chat:d.ChatCollection,ChatPreference:c.default,Contact:f.ContactCollection,ConversionTuple:h.default,DailyAggregatedStats:p.DailyAggregatedStatsCollection,EmojiVariant:m.EmojiVariantCollection,GroupMetadata:_.default,Label:v.LabelCollection,LiveLocation:b.LiveLocationCollection,Msg:y.MsgCollection,MsgInfo:C.MsgInfoCollection,Mute:S.MuteCollection,Order:E.OrderCollection,PollVote:x.PollVoteCollection,Presence:T.PresenceCollection,ProfilePicThumb:M.ProfilePicThumbCollection,QuickReply:k.QuickReplyCollection,RecentEmoji:A.RecentEmojiCollection,RecentSticker:j.RecentStickerCollection,StarredMsg:O.AllStarredMsgsCollection,StarredSticker:N.StarredStickerCollection,Status:R.StatusCollection,StatusV3:D.StatusV3Collection,Sticker:L.StickerCollection,StickerSearch:F.StickerSearchCollection,RecentStickerMD:I.RecentStickerCollectionMd,StickerPackCollectionMD:B.StickerPackCollectionMd,FavoriteSticker:g.default,Reactions:w.ReactionsCollection,RecentReactions:P.RecentReactionsCollection,UnjoinedSubgroupMetadataCollection:V.default,AgentCollection:r.AgentCollection,SubscriptionCollection:G.SubscriptionCollection,UnattributedMessageCollection:U.UnattributedMessageCollection};t.default=W},89265:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(32594)),i=n(78820),o=n(1255),s=n(63183),l=n(69951),u=a(n(63928)),d=n(62583),c=n(65044);class f extends o.BaseCollection{constructor(e,t){super(),this.stale=!1,this.add(e,{silent:!0}),this.contact=t,this.listenTo(u.default,`group_participant_change_${(0,i.getMaybeMeUser)().toString()}`,this.updateCommonGroups),this.listenTo(u.default,`group_participant_change_${this.contact.toString()}`,this.updateCommonGroups),this.listenTo(c.Socket,"change:stream",(()=>{c.Socket.stream===d.SOCKET_STREAM.DISCONNECTED&&(this.stale=!0)}))}updateCommonGroups(e){const t=u.default.assertGet(e).participants,n=(0,i.getMaybeMeUser)();this.get(e)?t.get(this.contact)&&t.get(n)||this.remove(e):t.get(this.contact)&&t.get(n)&&this.add(l.ChatCollection.assertGet(e))}}t.default=f,f.model=s.Chat,f.comparator=r.default},61750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setContactBridgeHandlers=function(e){e.setHandlers("contact_collection",{updatePushname:r})};var a=n(19380);function r(e){let{contactId:t,pushname:n}=e;const r=a.ContactCollection.gadd(t);return r.pushname!==n&&(r.set({pushname:n}),!0)}},62632:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getMaybeBizPlatformForLogging=function(e){if(null==e)return o.default.BIZ_PLATFORM.UNKNOWN;const t=i.ContactCollection.get((0,r.createWid)(e));if(null==t||!t.isBusiness)return o.default.BIZ_PLATFORM.UNKNOWN;return t.isEnterprise?o.default.BIZ_PLATFORM.ENT:o.default.BIZ_PLATFORM.SMB};var r=n(45454),i=n(19380),o=a(n(11339))},67880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PttDailyCountKind=void 0,t.incrementPttDailyCount=function(e,t){const n=a.DailyAggregatedStatsCollection.gaddForToday();switch(t){case"chat":if(e===r.CANCEL)n.pttCancelIndividual++;else if(e===r.SEND)n.pttSendIndividual++;else if(e===r.RECORD)n.pttRecordIndividual++;else if(e===r.DRAFT_REVIEW)n.pttDraftReviewIndividual++;else if(e===r.PLAYBACK)n.pttPlaybackIndividual++;else if(e===r.FAST_PLAYBACK)n.pttFastplaybackIndividual++;else if(e===r.PAUSED_RECORD)n.pttPausedRecordIndividual++;else if(e===r.STOP_TAP)n.pttStopTapIndividual++;else{if(e!==r.OOC_PLAYBACK)throw new Error(`Invalid count kind ${e}`);n.pttOutOfChatIndividual++}break;case"group":if(e===r.CANCEL)n.pttCancelGroup++;else if(e===r.SEND)n.pttSendGroup++;else if(e===r.RECORD)n.pttRecordGroup++;else if(e===r.DRAFT_REVIEW)n.pttDraftReviewGroup++;else if(e===r.PLAYBACK)n.pttPlaybackGroup++;else if(e===r.FAST_PLAYBACK)n.pttFastplaybackGroup++;else if(e===r.PAUSED_RECORD)n.pttPausedRecordGroup++;else if(e===r.STOP_TAP)n.pttStopTapGroup++;else{if(e!==r.OOC_PLAYBACK)throw new Error(`Invalid count kind ${e}`);n.pttOutOfChatGroup++}break;case"broadcast":if(e===r.CANCEL)n.pttCancelBroadcast++;else if(e===r.SEND)n.pttSendBroadcast++;else if(e===r.RECORD)n.pttRecordBroadcast++;else if(e===r.DRAFT_REVIEW)n.pttDraftReviewBroadcast++;else if(e===r.PLAYBACK)n.pttPlaybackBroadcast++;else if(e===r.FAST_PLAYBACK)n.pttFastplaybackBroadcast++;else if(e===r.PAUSED_RECORD)n.pttPausedRecordBroadcast++;else if(e===r.STOP_TAP)n.pttStopTapBroadcast++;else{if(e!==r.OOC_PLAYBACK)throw new Error(`Invalid count kind ${e}`);n.pttOutOfChatBroadcast++}break;default:throw new Error(`Invalid chat kind ${t}`)}};var a=n(66423);const r=n(76672).Mirrored(["CANCEL","SEND","RECORD","DRAFT_REVIEW","PLAYBACK","FAST_PLAYBACK","PAUSED_RECORD","STOP_TAP","OOC_PLAYBACK"]);t.PttDailyCountKind=r},20472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(11290);class r extends a.BaseModel{constructor(){super(...arguments),this.id=(0,a.prop)(),this.variant=(0,a.prop)()}}r.Proxy="emojiVariant";var i=(0,a.defineModel)(r);t.default=i},13185:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiVariantCollectionImpl=t.EmojiVariantCollection=void 0;var r=n(46718),i=n(14648),o=n(1255),s=n(67247),l=a(n(20472));class u extends o.BaseCollection{setVariant(e,t){const n=s.EmojiUtil.getSkinToneBase(e);if(!n)throw new Error("attempt to store variantless emoji");this.gadd({id:n,variant:t})}getVariant(e){if(s.EmojiUtil.getSkinToneBase(e)){const t=this.get(e);return t?s.EmojiUtil.normalizeEmoji(t.variant):null}throw new Error("attempt to get variantless emoji")}getVariantIfExists(e){if(s.EmojiUtil.getSkinToneBase(e)){const t=this.get(e);return t?s.EmojiUtil.normalizeEmoji(t.variant):null}return null}}t.EmojiVariantCollectionImpl=u,u.model=l.default,u.cachePolicy={id:r.KEYS.EMOJI_VARIANT_COLLECTION,policy:i.CACHE_POLICY.LOAD,delay:1e3};const d=new u;t.EmojiVariantCollection=d},84937:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(89385),o=n(50796),s=r(n(47259)),l=n(92574),u=n(1255),d=n(69951),c=r(n(11339)),f=n(17304),h=n(59871),p=n(7595),m=n(49001);class g extends u.BaseCollection{constructor(e){super(),this.hasMoreMsgs=!0,this.resultPage=0,this.searchPromise=null,this.searchAbortController=null,this.searchTerm=null,this.searchLabel=null,this.updateFtsAfterMsgLabelUpdate=()=>{if(!this.currentLabelSearch)return;const e=this.filter((e=>!e.labels||!e.labels.includes(this.currentLabelSearch)));this.remove(e,{silent:!0})};const t=e?e.msgs:h.MsgCollection;this.listenTo(t,"remove_msgs",(e=>{this.remove(e,{silent:!0}).filter((e=>!!e)).length&&this.trigger("bulk_remove")})),this.listenTo(d.ChatCollection,"remove",(e=>{const t=[];this.forEach((n=>{n.chat===e&&t.push(n)}));this.remove(t,{silent:!0}).filter((e=>!!e)).length&&this.trigger("bulk_remove")}))}delete(e){e&&this.stopListening(),super.delete()}resetSearch(){var e;this.hasMoreMsgs=!0,this.resultPage=0,this.searchTerm=null,null===(e=this.searchAbortController)||void 0===e||e.abort()}search(e){let{chat:t,count:n,filter:r={},searchTerm:u}=e;const d=`${u}__${r.label||r.kind&&r.kind||""}`;this.currentLabelSearch=r.label;let f=!1;this.searchTerm!==d?(this.searchTerm&&0===u.indexOf(this.searchTerm)?f=!0:(this.searchTerm=d,this.delete()),this.resultPage=0,this.hasMoreMsgs=!0):f=!0;const g=new c.default.UiAction({uiActionType:c.default.UI_ACTION_TYPE.FIRST_FTS_RESULT,uiActionPreloaded:f});if(this.searchPromise){var _;if(this.searchTerm===d)return this.searchPromise;null===(_=this.searchAbortController)||void 0===_||_.abort()}this.searchAbortController=new a;const v=this.searchAbortController.signal;let b;return b=t?t.fts(u,++this.resultPage,n):h.MsgCollection.search(u,++this.resultPage,n,void 0,r),this.searchPromise=(0,s.default)(b,v).then((e=>(e.eof&&(this.hasMoreMsgs=!1),this.searchTerm!==d&&this.delete(),this.searchTerm=d,e.messages&&(r.kind!==m.SEARCH_FILTERS.CONTACT&&r.kind!==m.SEARCH_FILTERS.NON_CONTACT&&r.kind!==m.SEARCH_FILTERS.UNREAD||(e.messages=e.messages.filter((e=>e.chat&&e.chat.matchFilter(r)))),this.add(e.messages.filter((e=>!e.asRevoked)))),g.markUiActionT(),g.commit(),(0,p.logUiActionShadowPrivateStatsTestEvents)(),e))).catch((0,o.filteredCatch)(l.WebdDrop,(()=>{}))).catch((0,i.catchAbort)((()=>{}))).finally((()=>{this.searchPromise=null,this.searchAbortController=null,this.trigger("searchPromise_update")})),this.trigger("searchPromise_update"),this.searchPromise}}t.default=g,g.model=f.Msg},45152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n(67294).createContext)(null);t.default=a},19331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(55981);var r=(e,t)=>e.groupType===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?-1:t.groupType===a.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?1:e.subject.localeCompare(t.subject);t.default=r},84390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canOpenInfoDrawer=function(e){if(e.isSentByMe&&!e.asRevoked&&(!e.isMdHistoryMsg||(0,a.isMultiDeviceAgentsEnabled)()))return!0;return!1};var a=n(8139)},56989:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttPrefsImpl=t.PttPrefs=void 0;var r=a(n(74691)),i=n(57319),o=n(55452),s=n(11290),l=n(64551);const u=[1,1.5,2];class d extends s.BaseModel{constructor(){super(...arguments),this.id=(0,s.prop)(),this.playbackRate=(0,s.prop)(1),this.outOfChatPlayerMessage=(0,s.prop)(null),this.playbackControlMessageId=(0,s.prop)(null),this.isOocPlayerClosedByUser=(0,s.prop)(!1)}closeOocPlayer(){this.isOocPlayerClosedByUser=!0}initialize(){s.BaseModel.prototype.initialize.call(this),this._restorePlaybackRate(),this.listenTo(l.ServerProps,"change:pttPlaybackSpeedEnabled",(()=>{this._restorePlaybackRate()})),this.on("change:playbackRate",((e,t)=>{(0,o.setPttPlaybackRate)(t)}))}setPlayingMessage(e){this._setPlayingMessage(e);let t=()=>{this._playingMessage===e&&this._setPlayingMessage(null)};return()=>{var e;null===(e=t)||void 0===e||e(),t=null}}_setPlayingMessage(e){var t;this._playingMessage=null!=e?e:null,e&&(this.outOfChatPlayerMessage=e,this.isOocPlayerClosedByUser=!1),null!=this._playingMessage?(c.cancel(),this.playbackControlMessageId=null===(t=this._playingMessage)||void 0===t?void 0:t.id.toString()):this._scheduleClearPlaybackRateControl()}_restorePlaybackRate(){this.playbackRate=l.ServerProps.pttPlaybackSpeedEnabled?(0,o.getPttPlaybackRate)():1}advancePlaybackRateFor(e){this._changePlaybackRateFor(e,1,!0)}increasePlaybackRateFor(e){this._changePlaybackRateFor(e,1,!1)}decreasePlaybackRateFor(e){this._changePlaybackRateFor(e,-1,!1)}_changePlaybackRateFor(e,t,n){const a=u.indexOf(this.playbackRate),i=n?(a+t+u.length)%u.length:(0,r.default)(a+t,0,u.length-1);this.playbackRate=u[i],null==this._playingMessage&&(this.playbackControlMessageId=e.toString(),this._scheduleClearPlaybackRateControl())}_scheduleClearPlaybackRateControl(){const{playbackControlMessageId:e}=this;null!=e&&c.onOrAfter(l.ServerProps.pttPlaybackSpeedHideDelay,e)}delayClearPlaybackRateControl(){if(!c.isScheduled())return;const{playbackControlMessageId:e}=this;null!=e&&c.onOrAfter(l.ServerProps.pttPlaybackSpeedHideDelay,e)}clearOutOfChatMessage(e){null!=e&&this.outOfChatPlayerMessage!==e||(this.outOfChatPlayerMessage=null)}}t.PttPrefsImpl=d,d.Proxy="pttPrefs";const c=new i.ShiftTimer((e=>{e===f.playbackControlMessageId&&(f.playbackControlMessageId=null)})),f=new((0,s.defineModel)(d))({id:"1"});t.PttPrefs=f},33444:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getQuickPayAction=function(e,t,n){const a=r.QUICK_PAY_PRODUCT_TYPE_GATING.cast(t);if(a&&(0,r.isOrderDetailsQuickPayEnabled)(a))return s=n,{label:i.fbt._("Pay now on Whatsapp",null,{hk:"3FkJMe"}),disabled:s,onClick:()=>(0,o.default)({title:i.fbt._("Complete payment on your phone",null,{hk:"1Q6orH"}),body:""})};var s;return null};var r=n(8139),i=n(48360),o=a(n(56635))},17830:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,uimContext:n,canCompose:a}=e;const{interactiveType:h,interactivePayload:p,nativeFlowName:m}=t;if(!p)return null;const g=[];switch(h){case o.default.SHOPS_STOREFRONT:g.push(function(e){let{id:t}=e;return{label:r.fbt._("View Shop",null,{hk:"KjKGP"}),onClick(){null!=t?(0,c.openShopStorefront)(t):(0,f.default)()}}}(p));break;case o.default.NATIVE_FLOW:if("boolean"==typeof a&&a&&m===s.default.ORDER_DETAILS){const e=(0,u.getOrderInfo)(t);if(!e)return null;const a=(0,d.findOrderStatus)(t.chat,e.referenceId)===d.OrderStatus.Pending;if(g.push(function(e,t,n){return{label:e.isSentByMe||n?r.fbt._("View details",null,{hk:"3T8aev"}):r.fbt._("Review and Pay",null,{hk:"4wxtk2"}),onClick(){e.isSentByMe?(0,l.openOrderDetailDrawer)(e,t):(0,f.default)({title:r.fbt._("Orders can’t be viewed on WhatsApp Web",null,{hk:"2qI8YI"}),body:r.fbt._("Use WhatsApp on your mobile device to view this order.",null,{hk:"2lA6Ep"})})}}}(t,n,!a)),!t.isSentByMe){const n=(0,i.getQuickPayAction)(t,e.type,!a);n&&g.push(n)}}}return g};var r=n(48360),i=n(33444),o=a(n(84064)),s=a(n(5165)),l=n(96866),u=n(34841),d=n(88998),c=n(50218),f=a(n(56635))},62352:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;switch(e.msg.interactiveType){case i.default.SHOPS_STOREFRONT:return null===(t=(0,r.default)(e))||void 0===t?void 0:t[0];default:return null}};var r=a(n(17830)),i=a(n(84064))},63132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showForwarded=function(e){const t=(0,a.unproxy)(e);return t.numTimesForwarded>0&&!t.asRevoked};var a=n(18146)},44333:(e,t,n)=>{"use strict";var a=n(59182).default,r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPackCollectionMd=t.StickerPackCollection=t.FETCH_STATE=void 0;var i=r(n(48926)),o=n(89385),s=n(40234),l=n(1255),u=n(79991),d=r(n(14296)),c=n(90669),f=n(32873);const h=n(76672).Mirrored(["INITIAL","PENDING","SUCCESS","ERROR"]);t.FETCH_STATE=h;class p extends l.BaseCollection{constructor(){super(),this.fetchState=h.INITIAL,this.packFetchState=new Map,this._fetchTimestamp=null,this._packFetchTimestamp=new Map,this._abortController=null,this._packAbortController=new Map,this.listenTo(d.default,"locale_change",(()=>this._resetState()))}_resetState(){this._resetStickerPacksFetchState(),this.reset()}_resetStickerPacksFetchState(){var e;null===(e=this._abortController)||void 0===e||e.abort(),this._abortController=null,this._packAbortController.forEach((e=>e.abort())),this._packAbortController.clear(),this._resetFetchState(),this._resetPackFetchState(),this._fetchTimestamp=null,this._packFetchTimestamp.clear()}_setFetchState(e){e!==this.fetchState&&(this.fetchState=e,this.trigger("change:fetchState",e))}_resetFetchState(){this._setFetchState(h.INITIAL)}_setPackFetchState(e,t){t!==this.packFetchState.get(e)&&(this.packFetchState.set(e,t),this.trigger("change:packFetchState",e,t))}_resetPackFetchState(){this.packFetchState.clear(),this.trigger("change:packFetchState")}_resetRange(e,t,n){this._forEachInRange(e,t,((t,a)=>{const r=n[a-e];if(t)if(r)t.id!==r.id||t.imageDataHash===r.imageDataHash&&t.index===r.index?(this.remove(t),this.add(r)):(this.remove(t,{silent:!0}),this.add(r));else{let e=t;for(;e;)this.remove(e),e=this.at(a)}else r&&this.add(r)})),this._resetPackFetchState(),this._packFetchTimestamp.clear()}_forEachInRange(e,t,n){for(let a=e;a<t;a++){n(this.at(a),a)}}fetch(){var e=this;return(0,i.default)((function*(){var t;if(!(e.fetchState===h.PENDING||e.fetchState===h.SUCCESS&&s.Clock.globalUnixTime()-(null!==(t=e._fetchTimestamp)&&void 0!==t?t:0)<c.STICKER_PACK_FETCH_TIMEOUT)){e._setFetchState(h.PENDING),e._fetchTimestamp=s.Clock.globalUnixTime(),e._abortController=new a;try{const t=yield(0,u.fetchFirstPartyStickerPacks)({signal:e._abortController.signal}),n=Math.max(e.length,t.length);e._resetRange(0,n,t),e._setFetchState(h.SUCCESS)}catch(t){if(e._setFetchState(h.ERROR),t.name===o.ABORT_ERROR)return void __LOG__(2)`First party sticker packs request cancelled`;__LOG__(3,void 0,void 0,!0)`First party sticker packs request failed: error: ${t}`,SEND_LOGS("sticker-packs-fetch-request-failed")}}}))()}fetchStickerPack(e){var t=this;return(0,i.default)((function*(){var n;if(!e)return;if(t.get(e))return;const r=t.packFetchState.get(e),i=null!==(n=t._packFetchTimestamp.get(e))&&void 0!==n?n:0;if(r===h.PENDING||r===h.SUCCESS&&s.Clock.globalUnixTime()-i<c.STICKER_PACK_FETCH_TIMEOUT)return;t._setPackFetchState(e,h.PENDING),t._packFetchTimestamp.set(e,s.Clock.globalUnixTime());const l=new a;t._packAbortController.set(e,l);try{const n=yield(0,u.fetchFirstPartyStickerPack)({id:e,signal:l.signal});t._setPackFetchState(e,h.SUCCESS),t.add(n)}catch(n){if(t._setPackFetchState(e,h.ERROR),n.name===o.ABORT_ERROR)return void __LOG__(2)`First party sticker pack request cancelled`;__LOG__(3,void 0,void 0,!0)`First party sticker pack request failed: error: ${n}`,SEND_LOGS("sticker-packs-fetch-request-failed")}}))()}delete(){super.delete(),this.stopListening(),this._resetStickerPacksFetchState()}}t.StickerPackCollection=p,p.model=f.StickerPackModel,p.comparator=(e,t)=>e.index<t.index?-1:e.index>t.index?1:0;const m=new p;t.StickerPackCollectionMd=m},32873:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPackModel=t.StickerPack=void 0;var r=n(11290),i=a(n(63488));class o extends r.BaseModel{constructor(){super(...arguments),this.index=(0,r.prop)(),this.id=(0,r.prop)(),this.name=(0,r.prop)(),this.publisher=(0,r.prop)(),this.description=(0,r.prop)(),this.fileSize=(0,r.prop)(),this.imageDataHash=(0,r.prop)(),this.animated=(0,r.prop)(),this.previewImageIds=(0,r.prop)(),this.trayImageId=(0,r.prop)(),this.trayImagePreview=(0,r.prop)(),this.stickers=(0,r.derived)((function(){const e=this.id;return this._stickers=this._stickers||new i.default(e,!0),this._stickers}),["id"])}}t.StickerPack=o,o.Proxy="stickerPackMd";const s=(0,r.defineModel)(o);t.StickerPackModel=s},45068:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerSearchCollectionImpl=t.StickerSearchCollection=void 0;var r=a(n(48926)),i=n(1255),o=(n(57297),n(67247)),s=a(n(17136)),l=n(88577),u=n(99718);const d={HAPPY:["😂","🤣","😀","😁","😆","🙂","😇","☺️","😄","😃"],LOVE:["😍","😘","❤️","💕","🥰","😗","😙","😻","👩‍❤️‍👩","💐","💌","💛","💚","💙","💜","💓","💘","💏","💑","🌹","🤟","🏩"],GREETINGS:["👋","😂","🤣","🙏","✋","🧕","🚶‍♀️","🚶","👠","🥾","🙈","🦛","🌺","⚡","🎯","🚄","🚅","💒","🛕","🛣️","🕉️","🔊"],SAD:["😭","😔","😢","😞","😟","😕","🙁","☹️","😖","😫","😩","🥺","😥","😓","😪","😿","💧","💔"],ANGRY:["😠","😡","😤","👺","💢","🗯️","👿"],CELEBRATE:["🥳","🥂","🎈","🎊","🎉"]};class c extends i.BaseCollection{constructor(){super(...arguments),this._cache=new Map,this._hasFetched=!1,this._isFetching=!0}isFetchingData(){return this._isFetching}hasFetchedData(){return this._hasFetched}setStartFetching(){this._isFetching=!0,this.trigger("start_fetching")}setStopFetching(){this._isFetching=!1,this.trigger("stop_fetching")}search(e){var t=()=>super.delete,n=this;return(0,r.default)((function*(){n._lastQuery!==e&&n._hasFetched&&t().call(n);const a=e.trim().toUpperCase();if(n._cache.has(e)){const t=n._cache.get(e);if(null!=t)return n.add(t),void(n._lastQuery=e);__LOG__(2)`StickerMoodCollection cache was invalid, re-searching.`}const r=[];if(d.hasOwnProperty(a))r.push(...d[a]);else{const i=o.EmojiUtil.containsOnlyEmoji(a)?o.EmojiUtil.splitEmojis(a):(0,s.default)(a);if(null==i||0===i.length)return n._lastQuery=e,n.setStopFetching(),void t().call(n);r.push(...i)}n.setStartFetching();let i=[];try{i=yield(0,l.searchFirstPartyStickers)(r)}catch(e){return __LOG__(3,void 0,void 0,!0)`Sticker search request failed: error: ${e}`,SEND_LOGS("sticker-search-request-failed"),void n.setStopFetching()}n._cache.set(e,i),n._hasFetched=!0,n._lastQuery=e,n.add(i),n.setStopFetching()}))()}searchMood(e){return this.search(e)}delete(){super.delete(),this._cache=new Map,this._hasFetched=!1,this._isFetching=!1}}t.StickerSearchCollectionImpl=c,c.model=u.StickerModel;const f=new c;t.StickerSearchCollection=f},95433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvDevices=void 0;var a=n(42874),r=n(19065),i=n(11290);class o extends i.BaseModel{constructor(){super(...arguments),this.isMicrophoneAvailable=(0,i.prop)(!1),this.isSpeakerAvailable=(0,i.prop)(!1),this.isVideoAvailable=(0,i.prop)(!1)}initialize(){super.initialize()}refreshDeviceList(e){this._deviceList=e,this.isVideoAvailable=(0,r.getAvailableDevices)(e,a.AVDeviceType.Video).length>0,this.isMicrophoneAvailable=(0,r.getAvailableDevices)(e,a.AVDeviceType.AudioInput).length>0,this.isSpeakerAvailable=(0,r.getAvailableDevices)(e,a.AVDeviceType.AudioOutput).length>0}}const s=new((0,i.defineModel)(o));t.AvDevices=s},20625:(e,t,n)=>{"use strict";var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addPaymentBackground=function(e){return s.add(e.id,e.imageBuffer),(0,i.getTable)().createOrReplace(e)},t.getPaymentBackgroundImageBuffer=function(e){return s.get(e)};var r=a(n(48926)),i=n(41803);let o=new Map;const s={reset:()=>{o=new Map},add:(e,t)=>{o.set(e,t)},get:e=>(0,r.default)((function*(){if(!o.has(e)){const t=yield(0,i.getTable)().get(e),n=null==t?void 0:t.imageBuffer;null!=n&&o.set(e,n)}return o.get(e)}))()}},6258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=[];let a=0;for(;e.length>a;)n.push(e.slice(a,a+t)),a+=t;return n}},85260:(e,t,n)=>{e.exports=n.p+"img/ddm-banner_3366b2917468dd7a8fcd062fdbaadda8.png"},89045:(e,t,n)=>{e.exports=n.p+"img/icon-group-default_92b8a80d57227e2f342bd57ccf6382d8.png"},10795:(e,t,n)=>{e.exports=n.p+"img/icon-user-default_bfb4ec026499f5b2d80e673a1a3a5bd7.png"},1388:(e,t,n)=>{e.exports=n.p+"img/sticker-empty_9d7feb47a66ef5b59cc731acafd02266.png"},10901:(e,t,n)=>{e.exports=n.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},37211:(e,t,n)=>{e.exports=n.p+"notification_2a485d84012c106acef03b527bb54635.mp3"},91720:(e,t,n)=>{e.exports=n.p+"sequential-ptt-end_62ed28be622237546fd39f9468a76a49.mp3"},39181:(e,t,n)=>{e.exports=n.p+"sequential-ptt-middle_7fa161964e93db72b8d00ae22189d75f.mp3"},68991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={editPencil:"_3zzj0",section:"_1CtGf",smallMargin:"_2kdzY",noMargin:"_4qzs-",sectionPrimaryIcon:"_1um9l",noMarginSmallGutter:"_3PzU9",fieldPrimaryIcon:"_1PxZK",sectionMain:"_35MnE",sectionContainerMain:"_2K7Vn",sectionEmptyText:"_2-kkk"}},51340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"Zu0md",containerFull:"_2wJ6P",icon:"_2FjqD",containerCircleIconFull:"_1jy-1",name:"_3gkyZ",labelFilter:"E_3Ky",iconContainer:"yHoVW",drawerTitle:"_1xeSZ",circleIcon:"l_tuI"}},66250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={description:"_3tH91",price:"_1Hmzo",shareButton:"blTBG",detailContainer:"_3XGJS",catalogListItem:"_3DpBF"}},66223:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={thumbsContainer:"_1SQLC",scrollContainer:"_2Pvh-",viewerThumbs:"_2sa0m",thumbPadding:"_1F2ck"}},81316:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mediaPanelHeader:"_2G-71",info:"_3Pus2",productNameIcon:"_1K1Tj",productName:"_3Qr5g",mediaPanelTools:"LrQrj",infoName:"_1xr5Z"}},1256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mediaViewerAnimate:"_10kVl","media-viewer-animate":"_10kVl",cursorZoomOut:"_3UVmf",mediaViewer:"i93sZ",mediaContent:"_12Vwz",btnMediaNext:"_3AcYv",btnMediaPrev:"_23jn_",media:"_7JDGB",mediaWithCaption:"_2GyNb",mediaCaption:"_30vHf",captionHidden:"_10alZ"}},83395:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mediaCanvas:"_39mHA",mediaCanvasClickable:"O7PYw",canvasBody:"_2qgkN",list:"_2FQIP",listWrapper:"eps5j",canvasComponent:"_3CwTq",canvasComponentLarge:"_1paeH",canvasSecondRow:"-z5j7",canvasComponentLargeGallerySpacing:"_17gTu",viewerFlow:"_3tci9",active:"_24-j7",overlay:"_1otWK",placeholder:"_3cAxP",squareThumb:"_11pnn",orderSquareThumb:"Iabk3",gradient:"UHL6h"}},19266:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={archivedIcon:"_3u7yy",unreadCountWrapper:"hlFup",wrapper:"_3hD9c",iconMentions:"TPCLW"}},95754:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3z9_h"}},56642:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={action:"_1-SiY",wrapper:"_2XcXo",butterbar:"_22XJC",icon:"_384go",body:"_1Yy79",controls:"_3UDm1",controlsIcon:"_1K1wg",title:"_2z7gr",text:"_2BxMU",notification:"_2C_7j",update:"xx0PQ",computer:"f2_qc",phone:"_3C1U5",battery:"_1sNMG",notice:"_3izPF",noticeSmb:"_1d_P-",noticeSvgWrapper:"_2JUqz",fatalSvgWrapper:"afTH_",fatal:"cwVT9",nuxGreenSvgWrapper:"_3aqmZ",nuxGreen:"_3Olve",nuxBlueSvgWrapper:"_2Abc7",nuxBlue:"_3tjOE",mdOptInAwareness:"_3EMDj",mdOptInLink:"_1OdW7",mdOptInCountdown:"ZklOu"}},48491:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={chatstateTyping:"_16h0X",loadingIndicate:"_32N7I"}},13506:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={markerAdmin:"_3bTNW",markerInvited:"_3Vyb8",chatControls:"_2NICU",screenName:"_1ux8Y",contactSmall:"_2cL8h"}},42684:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={notifyName:"_3Pmbe"}},17613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={icon:"_1pJ9J",iconPinned:"_2XH9R",archived:"_3f7yK",iconMentions:"_2ky6D",iconSmallUnread:"_1P9vF"}},32376:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={italic:"_1ZqY2",product:"JZX9V",last:"Hy9nV",statusReply:"s3MM7"}},74558:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={ack:"_2qo4q",ackBlue:"_3NIfV"}},57305:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={symbol:"_2tHs0",margin:"_3Bn0t",miss:"_3HpRC",pttBlue:"_1ujr9",pttGreen:"_3ryBz"}},8702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={listUser:"YtmXM",listUserBeta:"_1X8rk",betaIcon:"_2BYrr",betaIconText:"_3hcUV",commerceIconContainer:"_1e4Bn",withCommerceIcon:"_1atcO",header:"_1G3Wr",listControls:"_3yZPA",shopsIcon:"_2sN2H"}},96633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={chatListPanel:"_1KDb8",panelBody:"_20c87",panelSearch:"uwk68",spinner:"t7NWw",unreadContainer:"_2Pcmr",unread:"_2ZNpT",unreadBody:"_1tQ8u",unreadIcon:"_1SNuR"}},29439:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={checkboxChatWrapper:"_1Oe6M",checkboxChatControl:"_1-gER",labelSelection:"_2OHxv"}},37058:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={selectedListContainer:"iH7Ic",bottomDiv:"_1WEqd"}},64968:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={iconSpinner:"_1A60C",iconCloseSearch:"_3GYfN",iconLabelSelect:"iy1jQ",iconMorph:"_1KJ7A",inputPlaceholder:"_3Qnsr",inputPlaceholderHidden:"_2KYwe",listSearch:"_3yWey",chatlistFilterEnabled:"_18wEy",inputContainer:"tKJAr",inputWrapper:"_16C8p",active:"XKmj6",iconSearchMorph:"_28-cz",iconMorphSearch:"bHvlO",iconMorphBack:"_2nifA",kind:"_3mVPR",labels:"_1YvFX",kindName:"_26c7g",filterTitle:"_3lIPP"}},95258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={badge:"_3zy8i",icon:"_3cYWo",pending:"_2UImM",warning:"_2Jofj"}},26150:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={chat:"_2nY6U",chatInteractive:"vq6sj",chatAvatar:"HONz8",image:"_2EU3r",chatBody:"_3OvU8",chatDetails:"_1BgCC",chatMain:"_3vPI2",noDelete:"_3k68H",chatSecondary:"_37FrU",chatTitle:"zoWT4",chatStatus:"_1qB8f",chatMeta:"_1i_wG",active:"_2_TVt",unread:"_3C4Vf",chatDrag:"_2Oquw",idle:"_1ws0F",themeReaction:"_3knDg",isMuted:"_3Xgye",themeMessage:"_7qwtH",themeSearch:"_3VUnw",themeDrawerList:"_3A-iD",themeChatInfo:"_37S5u",themeSubgroup:"_2Hugv",themeCommunityHome:"_2Tgkv",themeRadioButtonRow:"_16zEN",themeStatus:"_1q2v5",themeCheckbox:"_2OR6D",themeIdentity:"BdOK7",themePlain:"_2gbXd",themeAddOrderItem:"_1KY0h",themeAddItem:"_3xRmF",themeAddItemPlaceholder:"_2ildA",themeListNames:"_3Y0ff",member:"_1Bc31",disabled:"_2bypq",themeLabel:"CujId",groupV4Invite:"_1p-UT",cartProduct:"V-2Ax",orderProduct:"_1SM19",product:"_16m7g",stickerPack:"_1dQJ1",media:"_1IYWo",listButton:"_3zMLK",productOfCollection:"_2nU2J",collectionEdit:"_2KLau",collectionHeader:"_17-Rm",productOutOfStock:"_3NZY0",listMsg:"_2eixh",archivePanel:"_1frFQ",linkedAccount:"_1XaSD",linkedAccountConsumer:"_24eOI",themeCheckboxDisabled:"_2h7ja",themeNoBorder:"_2j20k",themeCommunityTabHome:"_2vS7M",themeCommunityTabSubgroup:"_1KTOZ",themeCommunityTabSeeAll:"SSIQ5"}},65006:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={chatSubtitle:"zzgSd",chatSubtitleHeader:"_3e6xi",chatSubtitleText:"_2YPr_"}},66310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={btn:"_23JDg",overMedia:"_3HNBm",btnMediaPrev:"_3jb3a",btnMediaNext:"_3x1a0",disabledBtn:"_2_1tu"}},49739:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2XifE",defaultWallpaper:"_31Spn",icon:"fxStU",body:"pJIFJ",main:"m9hHr",secondary:"_3oWGj",inConversation:"_3yL8P",inList:"_1WKb_",mdChatSearchList:"_2YGcU",themeChatInfo:"_234dm"}},26306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={avatar:"_3GlyB",avatarDefault:"_1lPgH",avatarImage:"_8hzr9",isLoaded:"M0JmA",avatarSquare:"_3eYBS",avatarSquircle:"_18q5X",avatarBorder:"_32GIw",avatarProfileRingBorder:"_-1LqN",avatarDefaultAnnouncementGroup:"_2zzR9",status_v3:"_1DSb6",statusV3:"_1DSb6",wrapper:"_36VU6",badge:"JUffF",chatList:"Vu6GJ",conversationHeader:"_1FnbI",badgeIcon:"_1D5Hn"}},41323:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={separator:"Wt3HP",block:"_11V85"}},19328:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={item:"_2qR8G",text:"_18oo2",hover:"_19zgN",action:"dJxPU",compact:"_3gcnK",icon:"_26nDl",emoji:"_17jhh",emojiGrid:"_34jUG",ellipsify:"_2oldI",disabled:"_3BFHH",shortcut:"_1wMaz"}},62248:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={tooltip:"_1y99G","tooltip-left-ltr":"YpTYF",tooltipLeftLtr:"YpTYF","tooltip-left-rtl":"_31yGq",tooltipLeftRtl:"_31yGq",notFromMe:"_37ZQ3"}},25562:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={avatar:"_2ji7x",roundBorder:"_2QeZT",avatarWrapper:"_2urgy",avatarSvgWrapper:"srmST",avatarImageWrapper:"Pipu6",transition:"Ao5N0",isLoaded:"_15kIa",centerChild:"_3yoVb",avatarImage:"zlBZO",transparent:"ez3ry"}},64917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={key:"_3XnBm"}},28662:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={viewport:"_3uIPm",verticalListViewport:"WYyr1",horizontalListViewport:"_1iA0_"}},93318:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={loadingSpinner:"_1L0jz"}},81696:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={hidden:"_3BWgW",container:"_2RbXT"}},44893:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={controls:"_2Afm5","progress-container":"_3j4HD",progressContainer:"_3j4HD",spinner:"_3o4t-",btnMeta:"_1ZhO6",button:"_1Op2_",icon:"_1Id0W",cancel:"MVKjw",disabled:"SBvMI",cursorPointer:"e1p1w",play:"_3t4l4",iconMeta:"_3sdHY"}},30800:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"iC94K",child:"_3JKxw"}},3183:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={menu:"_1QVfy",menuDefault:"_3UaCz",menuStrong:"_2aN_u",menuInverse:"_1s6XL",menuBarItemForceSize:"_1l5K0",button:"_26lC3",item:"_2cNrC",active:"_1CTfw",selected:"_2V9Ss",disabled:"_2YC8z",itemText:"_2eqEq",menuMediaEditor:"_2rY6b",itemFocused:"M43gW"}},85407:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={multiControls:"_37jUe",chatListPanel:"_3pRIl",drawerHeader:"_1ok6W",multiselectIcon:"Pd4jb",multiCount:"_3sYvo",mediaGalleryTheme:"hFRPE"}},617:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={"-move-resize-component-border-radius":"12px",moveResizeComponentBorderRadius:"12px","-move-resize-component-correction":"59px",moveResizeComponentCorrection:"59px",moveResizeComponentContainer:"_5h2Mi",moveResizeComponentInnerContainer:"_32d1N",overlay:"_3WOen",resizer:"_3Ikyy",topResizer:"_1tDOX",bottomResizer:"_3ErRI",leftResizer:"sDbQK",rightResizer:"_2HQO5",topRightResizer:"_3BmU0",topLeftResizer:"Hzoas",bottomRightResizer:"_3F8SQ",bottomLeftResizer:"_1auhr",moveable:"Bjqxx",defaultCursor:"_2OoF8",extraContent:"_3VQEm",extraContentVisible:"_3FNw6",blurryBackground:"_3GVtj",bottomContent:"_1BIBj",topContent:"_2A-Ve",dragBar:"_1XQxk"}},8629:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={multiControls:"OVz7E",multiselectIcon:"_1fimr",multiCount:"_2k8WS",mediaGalleryTheme:"wdgqh"}},65301:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={verified:"_3vLho",psa:"_2A4wP",icon:"_1M6Ay",hasLabels:"_3q9s6",labels:"_3dulN"}},26055:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={fit:"_1Lu8G",fitRelative:"Rwf_x",fitScaledown:"_1p0Ic",fitZoomin:"_3n6Y4",nativeCover:"_2rdv3",nativeScaleDown:"_3pDwe"}},40134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3yg5l",body:"_1TGpC",clickable:"_3qxms",squircleBackground:"_2i2D1",imageContainer:"_2VMR2",defaultIcon:"_1Jya3",defaultAnnouncementGroupIcon:"_1ADVy",coverPhoto:"_3kzWh"}},17512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={clipFix:"_1Yqrp"}},96153:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3Bc7H"}},80359:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={button:"ynx4l",buttonIcon:"_17WeP",nextButton:"RMIjM",prevButton:"_27Ool",resizeContainer:"_1MNGY"}},30240:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={"-emoji-width":"44px",emojiWidth:"44px","-emoji-height":"44px",emojiHeight:"44px","-side-margin":"12px",sideMargin:"12px",panel:"_2Wd6U",section:"_27GWS",selectedEmoji:"_2HNzs",emojiContainer:"bkH88"}},98483:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bodyContainer:"_2bgh7",list:"_3Cc11",search:"_1Kk5B",hidden:"VaOo_"}},80325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={"-total-search-height":"62px",totalSearchHeight:"62px","-scrollbar-width":"6px",scrollbarWidth:"6px","-windows-scrollbar-width":"8px",windowsScrollbarWidth:"8px","-section-bottom-margin":"12px",sectionBottomMargin:"12px","-title-height":"27px",titleHeight:"27px",container:"_1rtUb",title:"xfDtH"}},78666:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={"-emoji-width":"44px",emojiWidth:"44px",panel:"_2ikL3"}},51460:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={emojiPanel:"_1DP8V",panelBody:"_2Gmvm",panelReactions:"_3Dsp-",panelDropdown:"_30SX6"}},83037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={body:"VNeTl",icon:"_38Dyo",wrapper:"_137vP",container:"_1VzGk",focusBorder:"_7-H4u",preview:"_1iDDZ"}},1659:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={searchContainer:"_2uZmp",section:"_10r3b",blank:"_1EQNa",row:"_1ISLd",noResults:"_1YG-A"}},91258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bodyContainer:"_1TdPb",gifPanel:"_4_8s1",panelBody:"Jcl24",panelBodyError:"_1Z21u"}},64827:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_16kef",reaction:"dKzIw"}},30462:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={tab:"_1zlQ1",highlightOnFocus:"JRJYO",menu:"_-2oTK",carousel:"_3hl6E",carouselEnd:"_3GM_s",selected:"_1v2yz"}},71414:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={menuTabsMarker:"NCirl",animate:"_1PHGw",animateWithTransform:"_2TG0r",hide:"_3gVEQ"}},97802:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={cancelIcon:"_3pgom",inputContainer:"M1or0",inputEmojiSearch:"_3K9QW",searchRow:"_10mnt",ffFix:"_3KMMv",rowShadow:"_3wgrR",rowInput:"_2VSMU"}},45189:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={panelContainer:"_3x7O3",panelDropdown:"_1m0Ug"}},16074:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={tabIconOrText:"vwr6Y"}},86537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1rX68",containerSearch:"_2-e_h",panelHeight:"_3i8Zn",contentContainer:"_2XY3B",contentContainerSearch:"_3ijFX",bodyContainer:"_1NPzg",emptyContainer:"_2YslO",emptySticker:"_1xgRn",emptyText:"_255pA"}},3903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2elZc",stickerPanel:"_1wurn",border:"_1QpHK"}},99026:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1u3Az",retryButton:"ek3q4"}},7056:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={emptyContainer:"tX668",emptySticker:"_3eX8j",emptyText:"_1ENK0"}},33906:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_268Mf",resizeContainer:"_2HfVy",unscrollable:"nnnSk"}},64750:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={shadow:"_1qMTr"}},26590:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2yXP9",stickerPackContainer:"ez5TU",stickerPackIconWrapper:"_1qoGD"}},56051:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={input:"_1UWac",placeholder:"_2vbn4",mediaEditorTextInputPlaceholder:"_2it_2",body:"_13NKt",default:"Z2O8p",compose:"_1LbR4",large:"czcZD",status:"_23wR2",richStatusReply:"_3fdtK",media:"oHEu9",invite:"y2xeH",mediaEditorTextInput:"_3pH28",small:"_9SNTl","list-search":"_3hKpJ",listSearch:"_3hKpJ",textInput:"_1aweH","size-16":"R4ZCx",size16:"R4ZCx","size-24":"_2-Uy3",size24:"_2-Uy3","line-height-16":"i1BGy",lineHeight16:"i1BGy","line-height-24":"_1beSb",lineHeight24:"_1beSb"}},75886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={emojiSearch:"yY6AE",searchBody:"dVelf",positioningContainer:"_57r8B",overlayContainer:"_3gMHK",resultsContainer:"ECdkZ",mediaCaption:"_1TBzR",emojiInput:"_30wt2"}},33179:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mentionsResult:"_12x9I",selected:"xVUcj",mediaCaption:"aspBo",textContact:"_1IiiX",textPushname:"_2nhlG",resultImage:"KWld3"}},54794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={positioningContainer:"_3lPuS",resultsContainer:"_3I-Ax",overlayContainer:"_2ERUw",mediaCaption:"_356RS"}},73248:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={result:"_5oJyH",selected:"e800t",slash:"_2uNxr",shortcutPrefix:"_3G7pN",shortcutSuffix:"_1hpAY",message:"K_laH"}},99544:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={positioningContainer:"_1fzlS",resultsContainer:"_3Jarj",overlayContainer:"_3zovQ"}},12095:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1Y6d8"}},59373:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={btn:"_165_h",disabled:"_20QIU",large:"_2HL9j",medium:"_52Vcd",small:"_3KkV3",inverted:"p0cPs",reactionsEntryPoint:"GvRI8",noShadow:"TSMOr",svgGrayButton:"_1yFc-",hideBackground:"_2B5gg",reactionPickerButton:"_3CtGx"}},22268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"YGe90",uppercase:"MCwxg"}},54776:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={conversation:"_3mPXD",placeholder:"_28a19",large:"_1V-dP",composeBoxQuoted:"_3QSK-",quoted:"_2xrJ4",stickerDetails:"_2uvSJ",stickerPanel:"PD3sk",stickerStore:"_2Bqm9",clickable:"_9QB_N",container:"_35qAh",showSticker:"_2afZN",fadeIn:"_37JBw"}},65690:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={textInput:"_10Mbz",labelText:"_2Pq6r",hideFloatingLabel:"_1RVBL",float:"_3zbxJ",spacer:"X2s7w",noPlaceholder:"q_gDO",wrapper:"_3mpG7",inputWrapper:"_3ZVCn",locked:"_1M8UY",errorText:"_1SeZ5",textError:"_1PQrR",textActive:"_23KyQ",iconMainContainer:"hS9Jh",iconsEditContainer:"_27Wz_",icon:"_27Yui",invite:"_1misX",charCounter:"_17PfY",iconSpinner:"_2NNpn",noErrorInfo:"_1JgEV",infoStrip:"_37xeC",inputLarge:"_1pGaf",focused:"_3pqwA",active:"_2fOd_",emptyValPlaceholder:"_12vlY",more:"_2mPox",emojiText:"_3-H1x",groupInfoName:"_2KoKm",small:"_3skxK",iconMain:"_8o4MO",desaturated:"bIGyp",visiblyHidden:"_2Ny8c",editOnHover:"_2LpLk",editing:"_1Fvon",highlightOnHover:"_1UtFD",editable:"_1spDM",chatInfoDefaultText:"_2dant",chatInfoLargeText:"EJWGh",disabledLabel:"_3w74u",constrainedWidth:"_2-B71"}},60299:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={wrapper:"_3DzYC",icon:"bElHk",verifiedText:"_2N5II",divider:"rFHB8"}},82796:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={video:"LHFBt"}},10593:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={preview:"_2I8Lo",media:"_3Dfal",bubbleIn:"_2mjlL",bubbleOut:"_2rKdO",title:"_2oKnO",description:"_1RcAo",body:"_5Pbpr",descriptionIcon:"_2r9Jm",titleIcon:"_2Mpzy",quoted:"_2Xvp0"}},59431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={preview:"pUwVJ",bubbleOut:"_3qhzU",media:"_3-IEF",title:"_1WfUi",description:"_294vA",body:"_270IN"}},70744:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"D7_Sl",text:"_2bjNw",messageNewNumberButton:"_1SKXZ"}},78227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={"-overlay-border-right":"1px",overlayBorderRight:"1px","-overlay-border-left":"1px",overlayBorderLeft:"1px",footer:"_2cYbV",blockCompose:"_2BU3P",inputContainer:"p3_M1",boxPanelWrapper:"_1un-p",pttComposerActive:"_18OWa",attachButtonContainer:"_2jitM",mainContentContainer:"_1SEwr",textMessageComposerContainer:"_6h3Ps",textMessageComposerInputContainer:"_2lMWa",pttComposerContainer:"_2tiyZ",childPadding:"_3HQNh",sendButtonContainer:"_1Ae7k",disabled:"_1g8Im",focusAnimation:"_1YbbN",focusAnimationKeyframes:"_3RoZE"}},19989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={adminBtn:"_1InP2",prewrap:"_2c7Ua"}},91064:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={prewrap:"_2aqMS"}},84015:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={panel:"a-HbF",body:"_1IN0t",cancelButton:"_1Hccy"}},8546:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={tile:"_1PzAL"}},31951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={pane:"_33LGR",selectable:"_1HzbD",empty:"_2AL2u",atMentions:"_1cQWN",incoming:"_1GLVO",buttonGap:"_37rpp",buttonGapRemove:"_1YWBB",iconDown:"_3K42l",iconMentions:"_1ec6v",ffFix:"EnLWz",unread:"_38VQ8",incomingContainer:"_27Uai"}},78438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={subheader:"_1GHsB",main:"ee09o",closeBtn:"_1_fE7"}},89576:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={body:"_1v2iU",text:"QoGDK",hidden:"_1JfIG",desc:"_26wVQ",more:"_2SaOr"}},60008:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={attachMenuContainer:"_3iTtj",iconsItem:"_2t8DP",iconImage:"_2QbRL"}},97095:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={chatControls:"_1yNrt",chatAvatar:"_2YnE3",divider:"qR2GF",chatHeader:"_23P3O",chatBody:"_24-Ff",chatMain:"_2rlF7",chatTitle:"_21nHd"}},14570:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={wrapper:"_3M3aq",historySyncStatusWrapper:"_3KRR6",historySyncSystemMsg:"_314Zr",historySyncLoadingIndicator:"_1LCeI",button:"PWkc7",historySyncStateContainer:"i_Uj-",historySyncStateContainerBody:"_3Nclq",historySyncStatusText:"_3AJEj"}},96302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={author:"hooVq",name:"a71At",number:"_1BUvv",screenName:"_1u3M2",verifiedIcon:"_1_7Ir",hoverable:"_1B9Rc"}},11515:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={preview:"_34dK8",bubbleIn:"_3YWPm",bubbleOut:"_3YuXJ",isCompose:"_3YX4K",noThumbContainer:"fYgLf",noThumbIcon:"_2L4U9",media:"_2nY62",title:"_1UzBI",description:"_1PT2L",source:"TVNwj",body:"X0ZBt"}},59931:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={orderPreview:"_2_hNe",meta:"_36Lxo",messageText:"_2_CxJ"}},40300:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_22ELr",isLinkMsg:"spIPR",icon:"_12BYL",text:"_2xo7P",ctwaContainer:"_1LxYk"}},66158:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={actionButton:"_2q8R8",actionText:"_23N3x",disabled:"_1R-AA",buttonContainer:"_1tvcI",firstButton:"_3J1L3",quickReply:"_1mj_T",callUrl:"_2C7Hy",icon:"_25Ljw"}},91941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={footer:"uahP3",isMedia:"_2maqW",dirMismatch:"XMOWB"}},27660:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={buttonContainer:"rn1U_",withLargeButtonsSpace:"_3bcUY",buttonWrapper:"_31pvq",disabled:"_2BLmN",stacked:"_3R6jb",buttonLabel:"_1U18t",sentByMe:"tLcVC"}},75140:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2UGGA",notFromMe:"e8Gcc",error:"_9CNbN",compact:"eKlTB"}},67713:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2tsYl",icon:"_2suca",iconHighlyForwarded:"_1sxwa",text:"_25ont"}},14583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={msg:"_36BuW",hover:"_2ZoZ2",current:"_3dZYx",active:"_1GjPw",focusAnimation:"_2AQt_",focusAnimationKeyframes:"-fZFX"}},1565:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={"-width-picture-bubble-inner":"330px",widthPictureBubbleInner:"330px","-padding-picture-bubble":"3px",paddingPictureBubble:"3px",bubble:"_1FpDI",vendor:"Z3Htq",meta:"zE8pI",hasCaption:"_2_tMn",author:"_1E1x2",forwarded:"_1niOx",forwardedIndicator:"_1CzZV",hasAuthor:"qS_dv",quote:"_2cHQo",thumb:"_1HqS9",caption:"_3mTJL",isPSA:"_366kD",isPsa:"_366kD",thumbVideo:"_2ugLp",thumbImage:"-tfJt",isGallery:"CGrlN",isInfo:"_3AcU2",ctwaContext:"_1-1zI"}},36437:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={notification:"_2ad1k",icon:"zjSQ_",iconMegaphone:"_1e6_g",iconDisappearing:"wF4tz"}},66480:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={stickerItem:"_1EoEw",stickerMenu:"_38YQn",entryPointColor:"_1WVVO",entryPointCont:"_1ZCe3"}},21690:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={outerContainer:"_3cBW5",innerContainer:"bcn_I"}},38410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3wB0E",status:"_3DThG",caption:"FvmtX",linkPreview:"_3ccZe",expired:"fW561",noCaption:"_3Dr0h",meta:"_1crxl"}},57312:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={highRes:"_2UdhN",wrapper:"_3R6rC",large:"_3zyju",lowRes:"_2LodA",medium:"_3Ci02",xlarge:"_1xeoG",animation:"KPHJD",invisible:"_1gSQr",heartbeat:"_1jJBG"}},28982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bubble:"_34_Xq",title:"_2kYWh",meta:"_2R4Kk",footer:"_2o9mS",productListPreview:"_2rvnm",productListPreviewForwarded:"_2qh_q"}},68437:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1O7Qw",link:"_2NMzP",title:"a5x1L",address:"_16GEO",hasURL:"_1uGHA",hasUrl:"_1uGHA",text:"_10e3n",author:"_38kO0",forwarded:"_2F595",forwardedIndicator:"_1Ui2Y",hasAuthor:"_3xqkd",meta:"PWnOL",thumb:"_2dClC",thumbBody:"_1cPOs",quote:"mZtXF",hasCaption:"_1cDYl",caption:"_1Kl0h",ctwaContext:"s6NhA",ctwaContainerWidth:"_21LuH"}},7987:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bubble:"_3EZ_R",hasAuthor:"Tf_TY",forwardedIndicator:"_5dQv2",hasQuote:"_3C47v",author:"_3hIEb",isForwarded:"_1g2ik",quote:"_2uK7i",isGallery:"PQyDX",ctwaContext:"YIN_l",meta:"_3IkMh",bubbleLeftAvatar:"_3Jitl",bubbleRightAvatar:"_3ojyC",body:"_2Lwe3",player:"_2h6Ot",avatarContainer:"_201K0",playbackRateButtonContainer:"_3Ki9D",playbackRateButtonContainerVisible:"_2CTcc",avatar:"_3j52x",avatarVisible:"_2U7HB",status:"_1TDZ6"}},28891:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={audio:"Y-J7e",controls:"XcEdc",body:"etT8r",scrollPositionDetector:"_34O9x",button:"_1cZGZ",conversationWaveformEnabled:"_3qpRg",incoming:"_1pKnn",outgoing:"_1CpyA",spinner:"LhELL",metadata:"buoZm",isGallery:"_5nQq"}},14199:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bubble:"M_gdf",templateBubble:"_1OakK",isPreview:"_3j7_t",isGallery:"_3lPPG",docMeta:"_2MC4u",metaValue:"eJAcX",ctwaContext:"_2MVQU"}},46534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={preview:"CHSLU",fullPreview:"kLeWm",highQualityLayout:"_3YMqT",bubbleIn:"_2E-ai",bubbleOut:"sIvFa",status:"_1SKTg",title:"_15Qyv",description:"_3xo87",source:"_4-vbh",body:"_2mAiW",media:"_23xzQ",extended:"_1m-Rn",thumbnailContainer:"_2Z0B3",blurred:"_3-eMt",withoutDescription:"_4LkCX",isInvite:"_3SyGZ",isCompose:"_193H_"}},74411:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bubble:"Vwbn7",hasCaption:"_1cAZT",meta:"_2DfCi",isPSA:"_2oilq",isPsa:"_2oilq",author:"WrWNg",forwarded:"R5aCU",forwardedIndicator:"_1QK9M",hasAuthor:"_3seQo",quote:"_2eRTf"}},22404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={preview:"_1RPCB"}},45458:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bubble:"qkl8S",portrait:"gZn4L",nonAlbumBubble:"_2HVTy",author:"_20vwF",forwarded:"GFf0v",forwardedIndicator:"_1unVB",hasAuthor:"_12l1S",meta:"_19jKW",hasCaption:"_37jeB",caption:"_3k89y",isPSA:"_3x3JW",isPsa:"_3x3JW",quote:"Slllz",overlayAlbumText:"_2JLqr",ctwaContext:"uL0UX",ctwaContainerWidth:"_1dkib"}},72836:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={previewOverride:"_2rOcc"}},35353:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={thumb:"_3vRLq",inAlbum:"_2Hm2q",cursorPointer:"_2wwif",thumbBody:"_22dVC",thumbBodyLowQuality:"_1Ifkz",duration:"_21bgy",icon:"_3VJSq",pipBtn:"AL7nc",isHover:"_3kKPC",overlay:"_3C9j-",ctwaThumbWidth:"_1KzRH"}},30532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={context:"_18oGY",contextIn:"_2copG",contextOut:"_1UyGr",contextIcon:"_3e9My",contextSpecial:"_3U8t1",contextInverse:"MAFpw",contextMedia:"_3I4pa",contextMediaLtr:"_3snhK",contextMediaRtl:"u5x7Z",contextMediaDocument:"fsbrQ",contextIconMedia:"_3sryO",contextDoc:"_2t2UT",contextPtt:"_1SfBg",contextPttFix:"_1qLtS",contextMultiVcard:"_3Zf7E",contextStickerAuthor:"_3QvcT",contextStickerTransparent:"fL8od",badge:"_3Vg32",contextStickerInverse:"sXuJ5"}},25410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={author:"_1aJWo",hasForwarded:"_12iIz",caption:"_1WihM",forwardedIndicator:"_1bT9q",hasAuthor:"uStkE",meta:"_1a1gY",hasCaption:"_2L1FC",quote:"_26Orz"}},5511:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={text:"_1Gy50",template:"_36bJ3",placeholder:"_3TjU1",spacer:"_20bHr",icons1:"_2ui2p",icons2:"_2k1_e",icons3:"_2c6ge",icons4:"_29c8S"}},47297:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={metaOverrides:"_1WSmF"}},22981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3BK98",isChecked:"_3vy-1",gallery:"_3b_q4"}},70813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1x75M",icon:"_3TQyU",text:"fGkSE",containerSmallIcon:"_2GaDw"}},92957:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={wrapper:"JwMbj"}},65450:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={amount:"_2sFh6",amountCurrency:"_2v-Oh",amountInteger:"dnINe",amountDecimal:"_15T9I",isQuoted:"vmShS"}},70955:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2BaFO",thumb:"_1WBof",isQuoted:"_2adWC",isQuotedInComposeBox:"_1j5KI",rgbaCanvas:"_2se2p",foregroundData:"V2w4_",backgroundContainer:"_2yvIk"}},74789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={icon:"_2N4Gy",success:"_3aNyY",failed:"_1VIdA",pending:"_1SRza",iconSymbol:"_2xEyu",compact:"_156-W"}},91215:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={body:"_2oQsk",bubbleIn:"_25qjo",bubbleOut:"_1nlBk",bodyIcon:"_2F85q",bodyIconMultiline:"_31jNG",bodyText:"_11BDX"}},66802:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_14JTW",isQuoted:"_2C1pR",name:"_32Z_R"}},59417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={body:"_gF4S",bodyText:"_2YIWi",caption:"_2QlpF",inviteBackground:"nIV2o",bubbleIn:"_1FTrp",bubbleOut:"_2Riu-",inviteImage:"_2GAPD"}},13651:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={hasText:"_1SeXE",noText:"UF5lM",quote:"_3Q47_",forwarded:"_2Qbk-",hasAuthor:"_3ERBM"}},23766:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={image:"_3mSTX",default:"LacDz",icon:"_3TcVw",container:"_1JhMF",hasBorder:"_374fh",dimmed:"Qrclb",hasInnerBorder:"_1HLgI",hasLargeInnerBorder:"_2OuQU",square:"_1avFe",col:"_3UWjv",row:"_3nYfM"}},4947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={icon:"_2sFz4",incoming:"_3NyWk",outgoing:"_1TKVr",blue:"_1_lrh",gray:"_1k-_q",green:"_2PvBP",outOfChat:"_2wjh8",forwardedOutOfChat:"_3Zcta",wrapper:"i87tO"}},66076:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={imageWrapper:"_3yqEq",msgImage:"_2W5Qi",composeBox:"NdQ5u",statusV3:"_2CyOs",isPayment:"_3RjjZ",image:"_1HKX6"}},777:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3hPBO",quotedMsg:"_3o5fT",statusV3QuotedMsg:"_2stdY",composeBoxQuotedMsg:"_3XUNQ",hover:"O_MMl",colorBar:"_3jrlM",msgBody:"-gKwI",msgText:"E_Te0"}},15149:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={messageText:"eWQsx",composeBoxQuotedMsg:"_2fkyH"}},58821:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={hover:"_2Kajt",quotedMsg:"_1apSG",msg:"_3hnu6",colorBar:"_37TOd",msgBody:"_2saPi",composeBoxQuotedMsg:"_3e9sI"}},63459:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={caption:"kbh9x",meta:"L-lId"}},6455:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3kxQ0",track:"_1tYaO",containerIncomingPlayed:"_3AEe_",containerIncomingUnplayed:"_2Dnx-",containerOutgoingPlayed:"_3-AGg",containerOutgoingUnplayed:"_1tsJt",thumbTravelContainer:"_2ujFr",thumbContainer:"_2Ni3Y",thumb:"_2yqJw",containerDisabled:"_3P77p",progress:"_9Zdab"}},61948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={title:"_2g2jh",titleMain:"_2PElp",meta:"Ow8Il",chat:"_2NNvx",divider:"_7VvVk",chevron:"_2conS",avatar:"_2BgQo",author:"_19E70"}},61871:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={light:"N4ItZ",ackBlue:"_3l4_3"}},92269:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={hasAuthor:"_1u9qp",quote:"O2yv0",bubble:"_26F99",meta:"_3Lby7",isTransparent:"_2JUrU",body:"_3BGWx",author:"_3OC33",isFirst:"_2ecOY",ctwaContext:"_1BMHI",reactionBubbleContainer:"_2HiQn"}},5138:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_263uA"}},47336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={sticky:"_3Iosq"}},52246:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={quote:"_2Fo6S",forwarded:"_3HH9A",hasAuthor:"_2jGOb",hasSuspiciousLinks:"_2bdeW",linkPreview:"GAiYx",meta:"_3GEz5",title:"to3eh"}},20562:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bubble:"_22Msk",portrait:"_24PSW",landscape:"_2T1i2",fixedWidth:"_3CZBR",meta:"_1beEj",isPSA:"_2kk7U",isPsa:"_2kk7U"}},38537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={msgUnread:"_5ML0C",msgUnreadBody:"_3cOAM"}},18082:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={bubble:"_1tfap",isGallery:"_2WYy8",isPreview:"_2GU93",quote:"_35w8x",hasAuthor:"_3QaM3",vcard:"_2GhDW",author:"_1tStr",hasQuote:"_2iCgE",body:"_26nhK",avatar:"_1DYXt",meta:"_2YJfd",name:"Wx25u",ctwaContext:"_3sss8",placeholder:"_1eaPn",placeholderAnimation:"_2dH4k","gradient-ltr":"_3Ghom",gradientLtr:"_3Ghom","gradient-rtl":"_1r4eb",gradientRtl:"_1r4eb",placeholderImage:"_1gIrs",placeholderText:"_1RBL5",vcardDownloadStageIcon:"_3Us45",icon:"_37K6A"}},20699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_9RSth",inactive:"Uo1hc",icon:"lwwpK",spinner:"bjI3o"}},1961:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={msg:"_2wUmf",msgContinuation:"_21bY5",msgSystem:"V-zSs",sticky:"_1bp3Q",message:"cvjcv",hasTail:"_8YVHI",messageBackground:"Nm1g1",tail:"_3nrYb",tailHighlight:"_33ElR",messageTransparent:"_1S-gg",tailOverrideHide:"fe1wa",messageSystem:"EtBAv",messageChat:"_1Ilru",messageCode:"NuMBJ",messageDebugNotification:"b9OGT",messageE2ENotification:"_1p8Qv",messageBizNotification:"EkgRd",messageNonE2ENotification:"tokhT",messagePlaceholder:"_2i2ot",msgGallery:"_1JOu_",messageAudio:"_2G-o1",messageDocument:"_1CJ4I",messageList:"IdKDv",messageMultiVcard:"_1BUp2",messageProduct:"TV0H8",messagePTT:"JZd-w",messagePtt:"JZd-w",messageSticker:"XWVkh",messageVcard:"_3Q9cR",messageGif:"_29jDW",messageImage:"_3QK-g",messageLiveLocation:"_3zfPb",messageLocation:"_3Y4UU",messageVideo:"_3bxPY",msgInfo:"_1fwLN",msgWithQuickAction:"_1q25n",messageHidden:"_2o1bS",msgContainer:"_16Lhn",quickActionButton:"_3JXTQ",messageQuickReplyButtonColor:"_1fzIK",reactionButtonColor:"oO3fQ",messageQuickReplyButton:"_2jmzu",reactionButton:"_2GK55",messageQuickReplyButtonWithQuickActions:"D0Mov",reactionButtonWithQuickActions:"_3W4WO",wrapperButtonsTopOffset:"_3rPTn",msgPSA:"mwr1_",msgPsa:"mwr1_",messageVideoLinkPreview:"R5FJb",placeholder:"_1r2Rq",gridContainer:"_1LCu0",author:"_3Hxe_",forwarded:"_18j3q",albumBubbleContainer:"_3dSQU",forwardedIndicator:"_3Ldzf",hasAuthor:"_3muY2",authorForward:"_3Pc1A",groupStickerContainer:"_1p8l-",singleGroupedStickerContainer:"_3tRFQ",groupStickerAuthor:"_1xswm",transparent:"_14jRh",hasBorderBox:"_22AX6",hasUrlCallButtons:"_3Bwen",stickerWrapperContainer:"_3fAhg",menuAnchor:"_2-W5H",highlightAnimation:"_2Mxoz",highlightAnimationDarkIn:"_24_ZS",highlightAnimationDark:"oT5bl",highlightMentionAnimation:"jvg4k",pollMessage:"_2k0Ev"}},16331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={messageList:"_3K4-L",messageListSelectable:"HNGMV"}},64406:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={footer:"_1fLGu",body:"_2gzeB",footerMessage:"_8AbMF",subheader:"_2Um41"}},4139:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={pane:"_3xTHG",previewPane:"_3oSFz",header:"_1SXtX",title:"_3kBCm"}},45086:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={btnPtt:"_30ggS"}},41975:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={spam:"_3ImlL",text:"nyOSn",controls:"_3E-9Z",button:"_12bMD"}},27311:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={vcard:"_1q9Fo",controls:"_1FIfN"}},13702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={spinner:"_3_EXz"}},91545:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={ul:"_1NDS0",inline:"_3JZr1"}},89613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={inline:"_3toqL"}},42438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2J8hu"}},25879:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2qwDL",circle:"JHRtT",text:"_1FOpn"}},86690:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1ExdJ"}},69872:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={closeButton:"_3BkBf"}},72681:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={controlsSummary:"_2tvYd",container:"uyolZ",btnActive:"_7Q6yp"}},55334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={app:"_1XkO3","app-enter":"_2xtgz",appEnter:"_2xtgz",noAnimation:"_22rDB",drawerManager:"_3ArsE",pane:"ldL67",paneTwo:"_3sh5K",paneThree:"_1bLj8",paneOne:"_2i3T7"}},49291:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={"-color-bg-light":'color("panel-background-lighter")',colorBgLight:'color("panel-background-lighter")',panelBody:"pXnLN",searchSpinner:"_3hEhb",panelSearch:"_3K-bg"}},71878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={defaultGroupIcon:"_10Vsc",addNewGroupIcon:"_3A8iM"}},68276:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"KPJpj",noscroll:"_2M_x0",centerItem:"_1-EIp",padding:"_3jVZG",centerColumn:"GiGr9"}},73858:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2QzJd",disabled:"_37VyS",containerNoIcon:"_1EaD-",containerListAligned:"_1I4H7",icon:"_13qOF",danger:"_1O1hL",success:"x8B-w",bodyContainer:"_36Lzk",body:"Qy5WW",themeChatInfo:"_3U46U"}},44117:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={drawerHeader:"_1PGhQ",drawerTitle:"_1Yy4I",drawerTitleBody:"_1FrBz",side:"_3sr6g",drawerTitleAction:"_2-1k7",multiMediaGallery:"_3ov47",drawerHeaderSmall:"_2mQtw",drawerHeaderOffset:"-bGGW",drawerHeaderPopup:"_1S5wN",btnCloseDrawer:"_18eKe",paneListControls:"_2zjLK",labels:"_1bXem"}},17764:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_2P1rL",shadow:"ZIBLv","padding-large":"RVTrW",paddingLarge:"RVTrW","padding-small":"_1dqt0",paddingSmall:"_1dqt0","padding-no-margin":"_2FcG4",paddingNoMargin:"_2FcG4",refresh:"BnR7O",title:"_10vh8","refresh-padding-title":"_3sBQd",refreshPaddingTitle:"_3sBQd",padding:"_1zkaQ","padding-no-vertical":"_10t53",paddingNoVertical:"_10t53","group-desc-padding":"mf5g4",groupDescPadding:"mf5g4","no-padding":"_36WbZ",noPadding:"_36WbZ","padding-product":"_2ROcQ",paddingProduct:"_2ROcQ","padding-poll":"_3LhxW",paddingPoll:"_3LhxW","center-column-fixed-width":"_1-HQq",centerColumnFixedWidth:"_1-HQq",animate:"_1is6W","well-animation2":"_1sr9L",wellAnimation2:"_1sr9L","expand-height":"_2OY3U",expandHeight:"_2OY3U","list-section":"_3-Bxb",listSection:"_3-Bxb","title-larger":"_2zE_D",titleLarger:"_2zE_D","sticky-button-section":"_37pL9",stickyButtonSection:"_37pL9"}},77021:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_38VQu",metadataContainer:"_3O8HP",metadataText:"_3eiU-",metadataTitle:"_3OKpI",metadataDesc:"wAuwz",participantList:"_3oWnY",participantsTitle:"_2hhE-",participantsContainer:"_2Zor6",participantWrapper:"_37z8B",emptyContentContainer:"_1Fph2",participantsText:"_3y4nr",contactsText:"_3-5B7",participantText:"_2BVQw"}},30081:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1pCNz",metadataContainer:"_2RLwB",metadataText:"_1gZ2j",metadataTitle:"jFK7j",metadataDesc:"_2TKmy",participantList:"_2_xrj",participantsTitle:"_3Qiwe",participantsContainer:"JB2Ji",participantWrapper:"_7lq1L",emptyContentContainer:"_3RjuD",participantsText:"_2bt52",contactsText:"_2-xR8",participantText:"_3R8Le",inviteExpiration:"_3MbIz",inviteExpirationIcon:"NrpDs"}},97765:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={description:"_2FqEP",containerAllow:"_2BTU8",icon:"_1kXIp",title:"_2hxax",controls:"mtD53",topCenter:"_2ySXX",topLeft:"J0OBZ",bottomCenter:"_361JZ"}},31190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={intro:"zaKsw",body:"_1RAKT",title:"_1vPMT",text:"_2-IT7",betaTitle:"_1vjYt",betaText:"_1y6Yk",betaIcon:"mDUle",betaIconText:"_3Lm9O",mdTextContainer:"_3q5qB",textContainer:"_35HSa",secondary:"_11TMV",divider:"_1_9wz",image:"_2JIth",mdImageWrapper:"WM0_u",mdBetaImage:"IVxyB",mdImage:"wuLkd",secondaryText:"_3ZJFu",secondaryTextBody:"_3yRMq",secondaryIcon:"_33d9M",upgradeBtn:"_1ReCe",upgradeElectronBtn:"_3I1DS",upgradeModalTitle:"_1SMVi",upgradeModalText:"_2PkCn",upgradeModalErrorText:"_2t0jp",encrypted:"_2v0ig"}},95694:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"Ph7CX",list:"_3_bJS",section:"_3FmxE",action:"_1rse8",shortcut:"_1Cbf3"}},57269:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mediaViewerBlurCrop:"_29V76",mediaViewerBlurImg:"_3lbCb"}},77375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mediaPanelHeader:"_1w-Ol",mediaPanelTools:"_2OBzR",info:"_3ii0l",voIcon:"_3DT5C",highlightClose:"_3tWb8","highlight-ltr":"MOdnb",highlightLtr:"MOdnb","highlight-rtl":"U56ii",highlightRtl:"U56ii"}},80674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mediaViewerAnimate:"_1DmUx","media-viewer-animate":"_1DmUx",cursorZoomOut:"ls2-S",mediaViewer:"_3IBSU",noThumbnails:"_2R5pX",mediaContent:"zMiDB",sticker:"_3c8Xy",btnMediaNext:"_3jdhc",btnMediaPrev:"_1vA6Y",media:"_2E0wf",mediaWithCaption:"_32hvM",captionWrapper:"_2A70N",captionWrapperExpandable:"_1JNVL",mediaCaption:"_2Naut",captionHidden:"EQKPE",expanded:"Y9XL1",mediaCaptionExpanded:"_2p2gD",captionExpanded:"_1aBpn"}},8863:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={section:"_3BpxF",control:"JS6_m",label:"oZdoE",metaText:"_3Zvr1",border:"_2C05p",mdMetaText:"_3DIQo"}},28708:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_26NER",btnActive:"_2q5ng",btnAction:"oyWr7",controlsSummary:"_235xA",noSummary:"ZhYPx",summaryText:"_3WxsF",item:"_2fNoI"}},26185:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={listPanel:"_2HUCB",listBody:"_3GWRQ",listSectionSep:"kGnIz",listSectionText:"_3wpcn",listSectionAction:"_1BWui",panelHeader:"_3bqa4",headerText:"_2spF9",primaryHeaderText:"yMGDV",secondaryHeaderText:"_2XN6O",headerButtonsPrimary:"_3Pwon",headerButtonsSecondary:"PfNbf"}},18442:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={mainWrapper:"_1iwk6",v3_x:"_1jtVV",v3X:"_1jtVV",v3_x_mac:"_23R7_",v3XMac:"_23R7_",modalBackground:"_3Hudz"}},89683:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={updateWrapper:"_2oCtb",updateTitle:"_1fuU6",uploadButtons:"_1AsnD",buttonContainer:"_1gz1L",buttonIcon:"_2L1Bh",outStatusPanel:"_2v5gS",outDetail:"_3f_JQ",seen:"_1qoMb",timestamp:"fVMYC",placeholderIcon:"_2pKFU",placeholderText:"_1BqjL",viewWrapper:"_13bJQ",viewTitle:"_3Qbfr",viewUpdates:"_2U1fI"}},80568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={playerWrapper:"eRZop",mediaViewer:"_26Q83",mediaStateControls:"_1QgJ4",playerBackground:"_1NZyY",media:"_1cMSa",mediaCaption:"_3mK4N",progressBackdrop:"_2x6Y5",progressBarBackdropNarrow:"_1XJW2",profile:"_1DNOU",nonClickProfile:"_1VRZa",profileNarrow:"ib1vZ",verified:"_2iJLu",icon:"t9Exe",measuringProfile:"_2AJhM",profileMac:"_2_AIZ",msgInfo:"_20zpf",msgInfoNameWrapper:"_1tRGW",msgInfoName:"_3B-fQ",msgInfoNamePSA:"_3x4uR",msgInfoNamePsa:"_3x4uR",timestamp:"_5SjOa",playerContent:"_1xAJD",v3Image:"_2ATdo",actionLink:"_27-nF",v3Video:"EdAF7",statusPanelPlayerContent:"_2Ks9x",statusThumbnailPlayerContent:"_2RQ_J",loading:"_3aA3i",text:"_3KpnX",column:"_1Kiur",textSmall:"_4WvQQ",textLarge:"i-2rU",textMedium:"_2uTr8",withLinkPreview:"_11vA6",font_1:"_2fG2M",font1:"_2fG2M",font_2:"_2MDaZ",font2:"_2MDaZ",font_3:"_1erpH",font3:"_1erpH",font_5:"Suusu",font5:"Suusu",unknown:"_3Rxrh",seen:"_3K-VL",caption:"o6dEt",playerAvatar:"_2rzx9",textThumbnailPlayerContent:"_1V-um",statusMediaControls:"SU2X1"}},7497:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={chevronLeftBg:"ap7RN",chevronRightBg:"Yh0e0",chevronLeft:"_3SZ5F",chevronRight:"_10Rlz",playerContainer:"_1v-aX",mediaStateControls:"_1xYIR",viewer:"_3zyLV",v3X:"XNDC5",v3X_mac:"_2akvM",v3XMac:"_2akvM",backIcon:"bmJTq",backIcon_mac:"_3mfFO",backIconMac:"_3mfFO"}},43047:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={suspiciousHostname:"_1xz_9",suspiciousCharacter:"_2x-Eg",explanation:"_3eYuR",url:"_6nRAy"}},91377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={headerText:"_2T4uY",bodyText:"MClO-",noticeSvgWrapper:"_2xtg4",noticeModalContentWrapper:"gWDq0",noticeSmbContainer:"_3Sqbv",noticeContainer:"_2AgSI"}},637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={content:"_2x3kE",icon:"_2cPNo"}},11927:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3vLeQ"}},34984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={button:"_1krwj",fullscreen:"_3kq_J"}},31062:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={pipBtn:"_1lwah",player:"_3SImV",preview:"_2Wc_a"}},64374:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={note:"JnYV-",icon:"_3UuEL",noteBody:"r9R96"}},46944:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={fullWidthShade:"_1jlME",stripHeightShade:"_2hBQZ",lowerShade:"_7fWf0",upperShade:"_2I5Pn",fullHeightShade:"_26m2r",roundedCorners:"_11aOe"}},86182:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={videoFloater:"_1yCOB",redesign:"_3V80e",bgImg:"_3KBRF",bottomLayer:"_3U70F"}},33896:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_1GTRd",fullscreen:"_2agWE",videoFloaterMedia:"_1L9_f",fullScreenRedesign:"_3Ctk9",mediaStageWrapper:"YEIj6",videoTag:"Nu3Wb",preview:"_1U2GK",errorLink:"_1pC8H",errorLinkChevron:"_1Wl8F"}},2425:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={"-thumb-radius-window":"4.5px",thumbRadiusWindow:"4.5px","-thumb-radius-fullscreen":"5px",thumbRadiusFullscreen:"5px",controls:"JoCWT",fullscreen:"_3xiak",pipContainer:"R3QyF",closeBtn:"_3IFz7",duration:"_16nh8",fullscreenBtn:"_2bdZG",playpauseBtnContainer:"_12yJA",volumeContainer:"_2VCkS",currentTime:"_2_4KF",timeText:"_3uSsO",progressBarContainer:"_3jydI",hiddenProgressBar:"_3pwnf",displayedProgressBar:"_21ku_",progressItem:"_3KsQN",displayedProgress:"_3BMKG",displayedBuffer:"_30H64",displayedTrack:"hSz6i",thumb:"al2Th",hideThumb:"_3F6-u",volumeBarContainer:"_1HuQo",visible:"_3MSTc",volumeLowerTrack:"_1doUo",firefoxFix:"_--MFl",lowerTrackLongest:"_2Ui3v",volumeBar:"R14Al",tooltipWrapper:"_2q2Ao",tooltipTextBoxPosAndSize:"_3QlVv",tooltipTextBoxGeneral:"sbESo"}},10250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3zkWT",fullscreen:"_2vZwf",youtubeContainer:"_1V2K3",blockYoutube:"_1x9uu",videoControlsWrapper:"_1U1Mw",strippedVideoControls:"_2HmZV",redesign:"_2f5jE",opacityTransition:"_1gTDs",widgetsWrapper:"_3gJPS",dimmed:"_1DumA"}},57136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={container:"_3b17O",wrapper:"sZBni",mask:"_3CRhO",bg:"_3r7AV",foreground:"_3f8oh",filled:"_3t0iC",empty:"_1A2HZ",active:"_2gskD"}},57734:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={voipFloater:"_1O6Us"}},64333:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={wrapper:"_3xKYi"}},87052:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={body:"IHGZG",callTitle:"_3dgg6",participantName:"_3Y4xy",actionRow:"VBnae",btnGroup:"_1UTAJ",btnAccept:"x24Wk",btnReject:"_2OWwK",btnEnd:"_2N43F",btnMute:"_2cngH",webrtcCanvas:"TA3bw",webrtcVideo:"_3eyg5",webrtcVideoPreview:"Nk6pN",webrtcAudio:"_3y1ot"}},39455:(e,t,n)=>{"use strict";function a(){return new Worker(n.p+"webp_to_animation_frames.worker.b4410798dff4f9147e81.worker.js")}n.r(t),n.d(t,{default:()=>a})}}]);
//# sourceMappingURL=https://web.whatsapp.com/bootstrap_main.16f0e3503ad5f4047d6b.js.map
